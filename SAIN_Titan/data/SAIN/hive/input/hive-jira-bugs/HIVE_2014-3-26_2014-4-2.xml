<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:27:06 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2014-3-26+AND+created+%3C%3D+2014-4-2+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="58" total="58"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-6749] Turn hive.auto.convert.join.use.nonstaged off by default</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6749</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12703632">HIVE-6749</key>
            <summary>Turn hive.auto.convert.join.use.nonstaged off by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 00:02:33 +0000</created>
                <updated>Wed, 2 Jul 2014 08:21:41 +0000</updated>
                            <resolved>Thu, 3 Apr 2014 21:54:14 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13947365" author="ashutoshc" created="Wed, 26 Mar 2014 00:08:21 +0000"  >&lt;p&gt;It should be turned off by default because :&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Its not clear it will always be more performant than local hashtable generation. When this kicks in, there will be three DataNode (which has replicas of smaller table) serving 100s of map tasks which are doing remote reads. Compare to this, DistributedCache distributes small file as well as localize, which will be local read. There might be some case that nonstaged is faster, but I dont think that will be a general case.&lt;/li&gt;
	&lt;li&gt;Seems like this will not work with security. Because we are reading smaller table directly now from hdfs, whose tokens are not obtained.&lt;/li&gt;
	&lt;li&gt;Its a new feature, so lets give it some time to mature.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13947369" author="ashutoshc" created="Wed, 26 Mar 2014 00:12:10 +0000"  >&lt;p&gt;Attaching patch. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Let me know what you think?&lt;/p&gt;</comment>
                            <comment id="13948569" author="hiveqa" created="Wed, 26 Mar 2014 22:27:37 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12636822/HIVE-6749.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12636822/HIVE-6749.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 109 failed/errored test(s), 5488 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join17
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join21
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join22
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join24
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join26
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join28
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join29
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join30
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join31
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join32
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_map_join_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_map_join_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin_negative
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin_negative2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin_negative3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_explain_rearrange
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_infer_bucket_sort_convert_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join26
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join27
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join28
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join29
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join30
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join31
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join32
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join32_lessSize
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join33
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join34
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join35
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join36
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join37
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_map_ppr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_reorder4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_star
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_distinct
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_hook
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_memcheck
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_subquery
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_subquery2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_test_outer
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multiMapJoin1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multiMapJoin2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multi_join_union
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_reduce_deduplicate_exclude_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_transform_hint
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoin_noskew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subq_where_serialization
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_in_having
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin7
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_bucket_mapjoin_mismatch1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_sortmerge_mapjoin_mismatch_1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1968/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1968/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1968/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1968/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 109 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12636822&lt;/p&gt;</comment>
                            <comment id="13955973" author="navis" created="Tue, 1 Apr 2014 01:12:12 +0000"  >&lt;p&gt;Distributing small aliases(about 500M max) through DistributedCache makes busy works between DNs, and it was not good for the whole system. But +1 for the idea. It&apos;s not matured, yet.&lt;/p&gt;</comment>
                            <comment id="13958658" author="hiveqa" created="Thu, 3 Apr 2014 09:19:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638270/HIVE-6749.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638270/HIVE-6749.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5542 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cross_product_check_2
org.apache.hive.service.cli.thrift.TestThriftBinaryCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2092/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2092/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2092/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2092/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638270&lt;/p&gt;</comment>
                            <comment id="13959295" author="ashutoshc" created="Thu, 3 Apr 2014 21:54:14 +0000"  >&lt;p&gt;Committed to 0.13 &amp;amp; branch. Thanks, Navis for review.&lt;/p&gt;</comment>
                            <comment id="14049729" author="lefty@hortonworks.com" created="Wed, 2 Jul 2014 08:21:41 +0000"  >&lt;p&gt;The changed default value for &lt;b&gt;hive.auto.convert.join.use.nonstaged&lt;/b&gt; is documented in the wiki here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.auto.convert.join.use.nonstaged&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.auto.convert.join.use.nonstaged &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I added a comment to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6586&quot; title=&quot;Update parameters in HiveConf.java after commit HIVE-6037&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6586&quot;&gt;&lt;del&gt;HIVE-6586&lt;/del&gt;&lt;/a&gt; so the correct default value of &lt;b&gt;hive.auto.convert.join.use.nonstaged&lt;/b&gt; won&apos;t get lost in the shuffle when &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; changes HiveConf.java.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12687411">HIVE-6144</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12638270" name="HIVE-6749.1.patch" size="906419" author="ashutoshc" created="Wed, 2 Apr 2014 15:24:11 +0000"/>
                            <attachment id="12636822" name="HIVE-6749.patch" size="1503" author="ashutoshc" created="Wed, 26 Mar 2014 00:12:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Mar 2014 22:27:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tt3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382241</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6750] Hive printing debug information in stdout after the end of CLI session</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6750</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ hive -e &quot;show tables;&quot;

OK
table1
table2
table3
Time taken: 0.694 seconds, Fetched: 3 row(s)
classLoader = java.net.URLClassLoader@29978933
SharedSecrets.getJavaNetAccess()=java.net.URLClassLoader$7@4b7d03c5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Observe the last two lines that are printed upon the end of Hive CLI session. &lt;/p&gt;

&lt;p&gt;JavaUtils#closeClassLoader uses reflection to invoke sun.misc.ClassLoaderUtil.releaseLoader. Just peeking at the implementation of this method clearly showed this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println (&lt;span class=&quot;code-quote&quot;&gt;&quot;classLoader = &quot;&lt;/span&gt; + classLoader);
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println (&lt;span class=&quot;code-quote&quot;&gt;&quot;SharedSecrets.getJavaNetAccess()=&quot;&lt;/span&gt;+SharedSecrets.getJavaNetAccess());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;See line 80-81 at &lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/sun/misc/ClassLoaderUtil.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/sun/misc/ClassLoaderUtil.java&lt;/a&gt;.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Open JDK6&lt;/p&gt;</environment>
        <key id="12703636">HIVE-6750</key>
            <summary>Hive printing debug information in stdout after the end of CLI session</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vgumashta">Vaibhav Gumashta</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 00:31:38 +0000</created>
                <updated>Thu, 27 Mar 2014 00:21:18 +0000</updated>
                            <resolved>Thu, 27 Mar 2014 00:07:01 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13947397" author="vgumashta" created="Wed, 26 Mar 2014 00:39:23 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13947454" author="vgumashta" created="Wed, 26 Mar 2014 01:57:56 +0000"  >&lt;p&gt;New patch with review comments.&lt;/p&gt;</comment>
                            <comment id="13947457" author="ashutoshc" created="Wed, 26 Mar 2014 02:04:03 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13948651" author="alangates" created="Wed, 26 Mar 2014 23:30:36 +0000"  >&lt;p&gt;Ran the tests, all looks good.&lt;/p&gt;</comment>
                            <comment id="13948690" author="ashutoshc" created="Thu, 27 Mar 2014 00:07:01 +0000"  >&lt;p&gt;Committed to trunk &amp;amp; 0.13. Thanks, Vaibhav!&lt;/p&gt;</comment>
                            <comment id="13948698" author="hiveqa" created="Thu, 27 Mar 2014 00:21:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12636843/HIVE-6750.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12636843/HIVE-6750.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5488 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1970/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1970/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1970/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1970/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12636843&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12636831" name="HIVE-6750.1.patch" size="1958" author="vgumashta" created="Wed, 26 Mar 2014 00:38:12 +0000"/>
                            <attachment id="12636843" name="HIVE-6750.2.patch" size="2216" author="vgumashta" created="Wed, 26 Mar 2014 01:57:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Mar 2014 02:04:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tt4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382245</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6751] maxtaskfailures.per.node is set to too low a threshold</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6751</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The node blacklisting results in a task retry system which can consume cluster resources excessively with queries which will eventually fail.&lt;/p&gt;

&lt;p&gt;For a large stage query, on a 20 node cluster, with a few failures a query can go back and re-run query stages multiple times till it eventually re-runs the broken reducer 3 times.&lt;/p&gt;

&lt;p&gt;The same vertex failing 3 times on a node is no reason to throw away all the shuffle data accumulated already on that.&lt;/p&gt;

&lt;p&gt;An alternative strategy is to kill a container after 3 tasks fail within it, because the error is occasionally due to bugs triggered due to container re-use  (static variables, task cleanup isn&apos;t complete etc) and will succeed if run on a fresh container.&lt;/p&gt;

&lt;p&gt;The threshold should be ~3x no-of-containers for a node failure, when the containers are getting respawned for every 3rd failure.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703644">HIVE-6751</key>
            <summary>maxtaskfailures.per.node is set to too low a threshold</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 01:59:25 +0000</created>
                <updated>Wed, 26 Mar 2014 02:00:37 +0000</updated>
                            <resolved>Wed, 26 Mar 2014 02:00:37 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13947455" author="gopalv" created="Wed, 26 Mar 2014 02:00:37 +0000"  >&lt;p&gt;Should be a tez fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tt67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6752] Vectorized Between and IN expressions don&apos;t work with decimal, date types.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6752</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Vectorized Between and IN expressions don&apos;t work with decimal, date types.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703647">HIVE-6752</key>
            <summary>Vectorized Between and IN expressions don&apos;t work with decimal, date types.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jnp">Jitendra Nath Pandey</assignee>
                                    <reporter username="jnp">Jitendra Nath Pandey</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 03:20:51 +0000</created>
                <updated>Sat, 29 Mar 2014 00:00:13 +0000</updated>
                            <resolved>Fri, 28 Mar 2014 23:44:57 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13948981" author="jnp" created="Thu, 27 Mar 2014 07:03:12 +0000"  >&lt;p&gt;Review board entry: &lt;a href=&quot;https://reviews.apache.org/r/19718/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/19718/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13949765" author="ehans" created="Thu, 27 Mar 2014 18:40:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Conditional on addressing my comments in the code review. All of them are minor.&lt;/p&gt;</comment>
                            <comment id="13950114" author="jnp" created="Thu, 27 Mar 2014 23:19:35 +0000"  >&lt;p&gt;Updated patch addressing the comments. Also updated test to make with pass with hadoop-2 because hadoop-2 produces results in different order.&lt;/p&gt;</comment>
                            <comment id="13951121" author="jnp" created="Fri, 28 Mar 2014 17:45:04 +0000"  >&lt;p&gt;Patch updated with a small bug fix identified in testing.&lt;/p&gt;</comment>
                            <comment id="13951310" author="hiveqa" created="Fri, 28 Mar 2014 20:08:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637458/HIVE-6752.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637458/HIVE-6752.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5499 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.exec.vector.TestVectorizationContext.testBetweenFilters
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2017/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2017/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2017/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2017/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637458&lt;/p&gt;</comment>
                            <comment id="13951396" author="jnp" created="Fri, 28 Mar 2014 21:18:25 +0000"  >&lt;p&gt;Latest patch fixes the test.&lt;/p&gt;</comment>
                            <comment id="13951481" author="sershe" created="Fri, 28 Mar 2014 22:04:52 +0000"  >&lt;p&gt;+1 on most recent changes &lt;/p&gt;</comment>
                            <comment id="13951533" author="ehans" created="Fri, 28 Mar 2014 22:47:34 +0000"  >&lt;p&gt;Please see my comments on review board&lt;/p&gt;</comment>
                            <comment id="13951552" author="ehans" created="Fri, 28 Mar 2014 23:11:35 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Thanks for the response on review board. I agree that it is reasonable to take up the issues raised in separate JIRAs, which are not time-critical at this point.&lt;/p&gt;</comment>
                            <comment id="13951562" author="jnp" created="Fri, 28 Mar 2014 23:19:37 +0000"  >&lt;p&gt;Thanks for the review Eric, I have filed following jiras:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6776&quot; title=&quot;Vectorization: Optimize timestamp to string-timestamp comparision using long comparisons. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6776&quot;&gt;HIVE-6776&lt;/a&gt; : To optimize timestamp comparisons.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6777&quot; title=&quot;VectorizedHashKeyWrapper: comments and readability.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6777&quot;&gt;HIVE-6777&lt;/a&gt;: Comments and readability in VectorizedHashKeyWrapper.&lt;/p&gt;</comment>
                            <comment id="13951570" author="jnp" created="Fri, 28 Mar 2014 23:25:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; This bug affects hive-0.13 and is important for decimal/date to work correctly in vectorization, therefore the patch should be ported to branch-0.13 as well.&lt;/p&gt;</comment>
                            <comment id="13951571" author="jnp" created="Fri, 28 Mar 2014 23:25:58 +0000"  >&lt;p&gt;I ran the tests locally for the latest patch, and tests pass.&lt;/p&gt;</comment>
                            <comment id="13951576" author="rhbutani" created="Fri, 28 Mar 2014 23:28:24 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13951618" author="hiveqa" created="Sat, 29 Mar 2014 00:00:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637548/HIVE-6752.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637548/HIVE-6752.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5499 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2022/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2022/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2022/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2022/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637548&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637102" name="HIVE-6752.1.patch" size="69857" author="jnp" created="Thu, 27 Mar 2014 06:59:52 +0000"/>
                            <attachment id="12637279" name="HIVE-6752.2.patch" size="71897" author="jnp" created="Thu, 27 Mar 2014 23:19:35 +0000"/>
                            <attachment id="12637458" name="HIVE-6752.3.patch" size="72606" author="jnp" created="Fri, 28 Mar 2014 17:45:04 +0000"/>
                            <attachment id="12637548" name="HIVE-6752.4.patch" size="73823" author="jnp" created="Fri, 28 Mar 2014 21:17:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Mar 2014 18:40:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tt6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382256</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>I have committed this to trunk and branch-0.13</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6753] Unions on Tez NPE when there&apos;s a mapjoin the union work</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6753</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In some cases when there&apos;s a mapjoin in union work we need to broadcast the same result set to multiple downstream work items. This causes a vertex failure right now.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703663">HIVE-6753</key>
            <summary>Unions on Tez NPE when there&apos;s a mapjoin the union work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 07:12:40 +0000</created>
                <updated>Thu, 27 Mar 2014 22:03:46 +0000</updated>
                            <resolved>Thu, 27 Mar 2014 22:03:46 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13947621" author="hagleitn" created="Wed, 26 Mar 2014 07:14:49 +0000"  >&lt;p&gt;patch also addresses two more issues. a) some golden files needed update b) we&apos;re masking exceptions in some cases in tez.&lt;/p&gt;</comment>
                            <comment id="13948334" author="vikram.dixit" created="Wed, 26 Mar 2014 19:08:34 +0000"  >&lt;p&gt;LGTM +1. Pending test run.&lt;/p&gt;</comment>
                            <comment id="13949015" author="hiveqa" created="Thu, 27 Mar 2014 07:57:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12636867/HIVE-6753.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12636867/HIVE-6753.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5491 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1976/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1976/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1976/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1976/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12636867&lt;/p&gt;</comment>
                            <comment id="13950006" author="hagleitn" created="Thu, 27 Mar 2014 22:03:46 +0000"  >&lt;p&gt;Committed to trunk and branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12636867" name="HIVE-6753.1.patch" size="266280" author="hagleitn" created="Wed, 26 Mar 2014 07:14:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Mar 2014 19:08:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>381997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ttaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382272</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6754] Inconsistent default for  hive.exec.drop.ignorenonexistent</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6754</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Dropping a non existing table returns no errors&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;when IF EXISTS is added&lt;/li&gt;
	&lt;li&gt;when hive.exec.drop.ignorenonexistent is set to true&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The default configuration in hive-default.xml.template sets  hive.exec.drop.ignorenonexistent to true.&lt;/p&gt;

&lt;p&gt;However this create a inconsistent default behaviour when DROP TABLE  is executed on a non existing table, when the if exists clause is not used.&lt;/p&gt;

&lt;p&gt;My suggestion would be to have the default set to false, to align the behavior to the way it&apos;s used in SQL.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703684">HIVE-6754</key>
            <summary>Inconsistent default for  hive.exec.drop.ignorenonexistent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sircodesalot">Reuben Kuhnert</assignee>
                                    <reporter username="natalinobusa">Natalino Busa</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 10:00:03 +0000</created>
                <updated>Mon, 4 May 2015 21:22:55 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14494503" author="sircodesalot" created="Tue, 14 Apr 2015 18:04:53 +0000"  >&lt;p&gt;Patch available.&lt;/p&gt;</comment>
                            <comment id="14527245" author="hiveqa" created="Mon, 4 May 2015 20:40:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12730213/HIVE-6754.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12730213/HIVE-6754.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 390 failed/errored test(s), 8856 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_file_format
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_index
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_rename_partition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_groupby2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_join_pkfk
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_archive_excludeHadoop20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_admin_almighty2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_cli_nonsql
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avro_charvarchar
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avro_date
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avro_timestamp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table_union
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_binary_table_bincolserde
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_binary_table_colserde
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_map_join_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_map_join_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin_negative3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_char_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_char_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_char_join1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_char_nested_types
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_char_udf1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_char_union1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_columnstats_partlvl
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_columnstats_partlvl_dp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_combine3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_big_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_view_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ctas_char
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ctas_date
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ctas_varchar
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_date_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_date_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_date_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_date_join1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_date_serde
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_date_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_describe_formatted_view_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_describe_formatted_view_partitioned_json
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_optimization2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_optimization_acid
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_enforce_order
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_escape1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_global_limit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_hook_context_cs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables_compact
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_creation
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_infer_const_type
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input43
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_lazyserde
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_compressed
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lateral_view_cp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_leftsemijoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_fs_overwrite
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lock1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lock2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lock3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lock4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_macro
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_hook
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_subquery2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multi_sahooks
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nomore_ambiguous_table_col
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nonreserved_keywords_insert_into1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_create
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_createas1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_array_null_element
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_create
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_ctas
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_mixed_case
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_schema_evolution
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_table_with_subschema
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_types
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_char
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_date
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_date2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_timestamp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_timestamp2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_varchar1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_varchar2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat17
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat18
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_pcr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_repeated_alias
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_union_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_protectmode
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_protectmode2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ptf_matchpath
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ptf_rcfile
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ptf_register_tblfn
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ptf_seqfile
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_push_or
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_createas1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_merge1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_merge2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_merge3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_merge4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_same_col
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_create_table_temp_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_indexes_edge_cases
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_indexes_syntax
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoin_mapjoin6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_split
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats18
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_storage_format_descriptor
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_str_to_map
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_temp_table_windowing_expressions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_timestamp_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_timestamp_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_timestamp_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_timestamp_lazy
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_timestamp_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_corr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_covar_pop
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_covar_samp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_bitmap_and
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_bitmap_or
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_compare_java_string
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_explode
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_printf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union31
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_unionDistinct_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_date
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_updateAccessTime
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_varchar_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_varchar_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_varchar_join1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_varchar_nested_types
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_varchar_udf1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_varchar_union1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_cast_constant
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_char_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_char_simple
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_data_types
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_string_concat
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_varchar_simple
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_parquet_types
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_ptf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_expressions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_multipartitioning
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_navfn
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_ntile
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_rank
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_streaming
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_udaf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_windowspec
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_fileformat_base64
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_serde_s3
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_serde_typedbytes
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_serde_typedbytes2
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_serde_typedbytes3
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_serde_typedbytes4
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_serde_typedbytes5
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_serde_typedbytes6
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_serde_typedbytes_null
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udf_row_sequence
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udtf_output_on_close
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_case_with_row_sequence
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_invalid_row_sequence
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_unencrypted_nonhdfs_external_tables
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_external_table_ppd
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_external_table_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_map_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_map_queries_prefix
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_storage_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_joins
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_timestamp
org.apache.hadoop.hive.cli.TestHBaseMinimrCliDriver.testCliDriver_hbase_bulk
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_input16_cc
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_enforce_order
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_explainuser_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_into1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_into2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_leftsemijoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_lvj_mapjoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_ptf_matchpath
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_unionDistinct_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_cast_constant
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_simple
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_data_types
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_string_concat
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_varchar_simple
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_ptf
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_input16_cc
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_table_wrong_regex
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_as_select_not_exist
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure5
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure6
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure7
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure9
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_analyze_view
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_corrupt
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_multi2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_bucket_mapjoin_wrong_table_metadata_1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_bucket_mapjoin_wrong_table_metadata_2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_column_rename1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_column_rename2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_column_rename4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_columnstats_partlvl_invalid_values
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_columnstats_partlvl_multiple_part_clause
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_or_replace_view1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_or_replace_view2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_or_replace_view4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_or_replace_view5
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_or_replace_view6
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_or_replace_view7
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_or_replace_view8
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_table_wrong_regex
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_view_failure1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_view_failure2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_view_failure3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_view_failure4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_view_failure5
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_view_failure6
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_view_failure7
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_view_failure8
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_view_failure9
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_index_compact_entry_limit
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_index_compact_size_limit
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_into4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_insert_view_failure
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_invalid_char_length_1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_invalid_char_length_3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_invalidate_view1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_load_view_failure
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_lockneg1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_lockneg2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_lockneg3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_lockneg4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_lockneg5
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_part
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_part1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_part2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_part_no_drop
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_tbl1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_tbl2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_tbl3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_tbl4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_tbl5
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_tbl6
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_tbl7
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_tbl8
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_tbl_no_drop
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_recursive_view
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_bucket_map_join_1
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_bucket_map_join_2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_bucketmapjoin_negative3
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_date_join1
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_date_udf
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_enforce_order
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_insert_into1
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_insert_into2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_insert_into3
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join_view
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_leftsemijoin
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_mapjoin_subquery2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_pcr
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_ptf_matchpath
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_ptf_rcfile
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_ptf_register_tblfn
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_ptf_seqfile
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_skewjoinopt10
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_stats16
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_stats18
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_stats3
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_timestamp_1
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_timestamp_2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_timestamp_3
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_timestamp_lazy
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_timestamp_udf
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_union31
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_union_date
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_varchar_join1
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vector_cast_constant
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vector_data_types
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vector_string_concat
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorized_ptf
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testDropMacroDoesNotExist
org.apache.hive.beeline.TestBeeLineWithArgs.org.apache.hive.beeline.TestBeeLineWithArgs
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.testPigFilterProjection
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.testPigHBaseSchema
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.testPigPopulation
org.apache.hive.jdbc.TestJdbcDriver2.testBadURL
org.apache.hive.jdbc.TestJdbcDriver2.testBuiltInUDFCol
org.apache.hive.jdbc.TestJdbcDriver2.testCloseResultSet
org.apache.hive.jdbc.TestJdbcDriver2.testDataTypes
org.apache.hive.jdbc.TestJdbcDriver2.testDataTypes2
org.apache.hive.jdbc.TestJdbcDriver2.testDatabaseMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testDescribeTable
org.apache.hive.jdbc.TestJdbcDriver2.testDriverProperties
org.apache.hive.jdbc.TestJdbcDriver2.testDuplicateColumnNameOrder
org.apache.hive.jdbc.TestJdbcDriver2.testErrorDiag
org.apache.hive.jdbc.TestJdbcDriver2.testErrorMessages
org.apache.hive.jdbc.TestJdbcDriver2.testExecutePreparedStatement
org.apache.hive.jdbc.TestJdbcDriver2.testExecuteQueryException
org.apache.hive.jdbc.TestJdbcDriver2.testExplainStmt
org.apache.hive.jdbc.TestJdbcDriver2.testExprCol
org.apache.hive.jdbc.TestJdbcDriver2.testFetchFirstDfsCmds
org.apache.hive.jdbc.TestJdbcDriver2.testFetchFirstError
org.apache.hive.jdbc.TestJdbcDriver2.testFetchFirstNonMR
org.apache.hive.jdbc.TestJdbcDriver2.testFetchFirstQuery
org.apache.hive.jdbc.TestJdbcDriver2.testFetchFirstSetCmds
org.apache.hive.jdbc.TestJdbcDriver2.testGetQueryLog
org.apache.hive.jdbc.TestJdbcDriver2.testImportedKeys
org.apache.hive.jdbc.TestJdbcDriver2.testIntervalTypes
org.apache.hive.jdbc.TestJdbcDriver2.testInvalidURL
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetCatalogs
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetClassicTableTypes
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetColumns
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetColumnsMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetHiveTableTypes
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetSchemas
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTableTypes
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTables
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTablesClassic
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTablesHive
org.apache.hive.jdbc.TestJdbcDriver2.testNonAsciiReturnValues
org.apache.hive.jdbc.TestJdbcDriver2.testNullResultSet
org.apache.hive.jdbc.TestJdbcDriver2.testNullType
org.apache.hive.jdbc.TestJdbcDriver2.testOutOfBoundCols
org.apache.hive.jdbc.TestJdbcDriver2.testParentReferences
org.apache.hive.jdbc.TestJdbcDriver2.testParseUrlHttpMode
org.apache.hive.jdbc.TestJdbcDriver2.testPostClose
org.apache.hive.jdbc.TestJdbcDriver2.testPrepareStatement
org.apache.hive.jdbc.TestJdbcDriver2.testPrimaryKeys
org.apache.hive.jdbc.TestJdbcDriver2.testProcCols
org.apache.hive.jdbc.TestJdbcDriver2.testProccedures
org.apache.hive.jdbc.TestJdbcDriver2.testQueryCancel
org.apache.hive.jdbc.TestJdbcDriver2.testResultSetColumnNameCaseInsensitive
org.apache.hive.jdbc.TestJdbcDriver2.testResultSetMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAll
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllFetchSize
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllFromView
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllMaxRows
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllPartioned
org.apache.hive.jdbc.TestJdbcDriver2.testSetCommand
org.apache.hive.jdbc.TestJdbcDriver2.testSetOnConnection
org.apache.hive.jdbc.TestJdbcDriver2.testShowColumns
org.apache.hive.jdbc.TestJdbcDriver2.testShowGrant
org.apache.hive.jdbc.TestJdbcDriver2.testShowRoleGrant
org.apache.hive.jdbc.TestJdbcDriver2.testShowTables
org.apache.hive.jdbc.TestJdbcDriver2.testUnsupportedFetchTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3717/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3717/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3717/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3717/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3717/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3717/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 390 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12730213 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14527339" author="spena" created="Mon, 4 May 2015 21:22:55 +0000"  >&lt;p&gt;Tests are failing because developers usually add a &apos;DROP TABLE &amp;lt;table&amp;gt;&apos; to the tests even if the &amp;lt;table&amp;gt; does not exist. So, this patch is causing them to fail.&lt;/p&gt;

&lt;p&gt;Also, users might be using the same statement without IF EXISTS keywords on their scripts, so this patch will cause errors on them as well. This is a user experience issue, so we need to think about this solution carefully.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; Could you help me here? &lt;br/&gt;
Would we want cause errors when dropping a table that does not exist?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12773883">HIVE-9638</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12493708">HIVE-1856</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12730213" name="HIVE-6754.01.patch" size="983" author="sircodesalot" created="Mon, 4 May 2015 17:23:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 14 Apr 2015 18:04:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382018</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ttf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382293</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6755] Zookeeper Lock Manager leaks zookeeper connections.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6755</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Driver holds instance for ZkHiveLockManager. In turn SqlQuery holds it too. So if we have many not closed queries we will get many zk sessions.&lt;/p&gt;</description>
                <environment>&lt;p&gt;cloudera cdh5b2&lt;/p&gt;</environment>
        <key id="12703697">HIVE-6755</key>
            <summary>Zookeeper Lock Manager leaks zookeeper connections.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="octo47">Andrey Stepachev</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 10:48:41 +0000</created>
                <updated>Wed, 18 Feb 2015 09:50:54 +0000</updated>
                            <resolved>Wed, 18 Feb 2015 09:50:54 +0000</resolved>
                                    <version>0.12.0</version>
                                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13947795" author="octo47" created="Wed, 26 Mar 2014 10:51:48 +0000"  >&lt;p&gt;Simple patch don&apos;t eat exceptions, but rethrow them. And close zookeeper instance.&lt;/p&gt;</comment>
                            <comment id="13947991" author="octo47" created="Wed, 26 Mar 2014 15:13:51 +0000"  >&lt;p&gt;I propose to release HiveLockManager right at the end of driver execution.&lt;br/&gt;
I checked code, but not sure that such change is possible yet.&lt;/p&gt;</comment>
                            <comment id="13966004" author="hiveqa" created="Thu, 10 Apr 2014 23:37:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12636933/HIVE-6755.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12636933/HIVE-6755.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2211/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2211/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2211/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2211/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-2211/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;ql/src/test/results/clientpositive/tez/dynpart_sort_opt_vectorization.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/tez/dynpart_sort_optimization.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/tez/orc_analyze.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/dynpart_sort_optimization.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/orc_analyze.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/dynpart_sort_opt_vectorization.q.out&apos;
Reverted &apos;ql/src/test/queries/clientpositive/dynpart_sort_opt_vectorization.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/orc_analyze.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/dynpart_sort_optimization.q&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedDynPartitionOptimizer.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update
U    itests/util/src/main/java/org/apache/hadoop/hive/ql/QTestUtil.java
U    pom.xml
U    metastore/src/test/org/apache/hadoop/hive/metastore/txn/TestCompactionTxnHandler.java
U    metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java
U    metastore/src/java/org/apache/hadoop/hive/metastore/txn/CompactionTxnHandler.java
A    metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreThread.java
U    ql/src/test/org/apache/hadoop/hive/ql/WindowsPathUtil.java
U    ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcRawRecordMerger.java
A    ql/src/test/org/apache/hadoop/hive/ql/txn
A    ql/src/test/org/apache/hadoop/hive/ql/txn/compactor
A    ql/src/test/org/apache/hadoop/hive/ql/txn/compactor/TestInitiator.java
A    ql/src/test/org/apache/hadoop/hive/ql/txn/compactor/CompactorTest.java
A    ql/src/test/org/apache/hadoop/hive/ql/txn/compactor/TestCleaner.java
A    ql/src/test/org/apache/hadoop/hive/ql/txn/compactor/TestWorker.java
U    ql/src/java/org/apache/hadoop/hive/ql/io/AcidUtils.java
U    ql/src/java/org/apache/hadoop/hive/ql/io/RecordIdentifier.java
A    ql/src/java/org/apache/hadoop/hive/ql/txn
A    ql/src/java/org/apache/hadoop/hive/ql/txn/compactor
A    ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/CompactorMR.java
A    ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/Cleaner.java
A    ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/Worker.java
A    ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/CompactorThread.java
A    ql/src/java/org/apache/hadoop/hive/ql/txn/compactor/Initiator.java
U    ql/pom.xml
U    hwi/pom.xml
U    service/src/java/org/apache/hive/service/cli/operation/SQLOperation.java

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1586506.

Updated to revision 1586505.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12636933&lt;/p&gt;</comment>
                            <comment id="13966032" author="ashutoshc" created="Thu, 10 Apr 2014 23:56:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=octo47&quot; class=&quot;user-hover&quot; rel=&quot;octo47&quot;&gt;Andrey Stepachev&lt;/a&gt; Can you create a RB request on &lt;a href=&quot;https://reviews.apache.org/r/new/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/new/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13979143" author="alangates" created="Thu, 24 Apr 2014 00:46:01 +0000"  >&lt;p&gt;This patch no longer applies due to the changes to Driver.java in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5843&quot; title=&quot;Transaction manager for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5843&quot;&gt;&lt;del&gt;HIVE-5843&lt;/del&gt;&lt;/a&gt;.  &lt;/p&gt;

&lt;p&gt;I don&apos;t think you want to close the lock manager (now a transaction manager) in releaseLocks.  That is called when any query is done.  But another query could be run on the same Driver object, which would now not have a transaction manager to work with.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12636933" name="HIVE-6755.patch" size="1219" author="octo47" created="Wed, 26 Mar 2014 15:15:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Apr 2014 23:37:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382031</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tthz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6756] alter table set fileformat should set serde too</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6756</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently doing alter table set fileformat doesn&apos;t change the serde. This is unexpected by customers because the serdes are largely file format specific.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703743">HIVE-6756</key>
            <summary>alter table set fileformat should set serde too</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="owen.omalley">Owen O&apos;Malley</reporter>
                        <labels>
                            <label>TODOC14</label>
                    </labels>
                <created>Wed, 26 Mar 2014 16:10:55 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:59 +0000</updated>
                            <resolved>Tue, 27 May 2014 18:49:16 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13973250" author="chinnalalam" created="Thu, 17 Apr 2014 18:34:34 +0000"  >&lt;p&gt;In alert table file format for the ORC and RC  file formats are setting the corresponding serdes, reaming file formats are not setting the corresponding serde.&lt;/p&gt;

&lt;p&gt;In create table if we are not specifying the serde other than ORC and RC file formats it is setting with LazySimpleSerDe, like create table in alert table set file format added this.&lt;/p&gt;</comment>
                            <comment id="13973282" author="ashutoshc" created="Thu, 17 Apr 2014 19:01:37 +0000"  >&lt;p&gt;I think instead of always defaulting to LazySimpleSerde, better is to set LazySimpleSerde for Textfile and SequenceFile format only and throw exception in cases where serde is not specified. We cant assume other file format uses LazySimpleSerde.&lt;/p&gt;</comment>
                            <comment id="13977139" author="chinnalalam" created="Tue, 22 Apr 2014 18:05:38 +0000"  >&lt;p&gt;With out the patch, current code is taken care for the RC,ORC and PARQUET file formats (ALTER TATBLE SET FILEFORMT configuring the proper serde for RC,ORC and PARQUET file formats)&lt;/p&gt;

&lt;p&gt;TEXTFILE, SEQUENCE file formats are not handled. This patch will address by configuring LazySimpleSerde for these file formats.&lt;/p&gt;

&lt;p&gt;Apart from this in ALTER TATBLE SET FILEFORMT can use INPUTFORMAT,OUTPUTFORMAT classes. In this scenario not sure which serde need to be configure?&lt;/p&gt;

&lt;p&gt;If throws exception he cannot use INPUTFORMAT,OUTPUTFORMAT classes in ALTER TATBLE SET FILEFORMT.&lt;/p&gt;

&lt;p&gt;Any suggestions..&lt;/p&gt;</comment>
                            <comment id="13993773" author="ashutoshc" created="Fri, 9 May 2014 18:15:19 +0000"  >&lt;p&gt;Sorry &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chinnalalam&quot; class=&quot;user-hover&quot; rel=&quot;chinnalalam&quot;&gt;Chinna Rao Lalam&lt;/a&gt; for being late on this. My suggestion is:&lt;br/&gt;
1. Instead of setting LazySimpleSerde as default for all cases, set LazySimpleSerde only for TEXTFILE &amp;amp; SEQUENCE (similiar to RC, ORC etc.)&lt;br/&gt;
2. For Alter table set fileformat IF OF case, throw exception if user doesnt specify serde. ie if user is specifying IF &amp;amp; OF she must also specify serde.&lt;/p&gt;</comment>
                            <comment id="14000725" author="vasanthkumar" created="Sat, 17 May 2014 09:27:41 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;,&lt;br/&gt;
Implemented as per your suggestion.&lt;br/&gt;
Sorry &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chinnalalam&quot; class=&quot;user-hover&quot; rel=&quot;chinnalalam&quot;&gt;Chinna Rao Lalam&lt;/a&gt; for taking over this JIRA.&lt;/p&gt;

&lt;p&gt;Kindly verify.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Vasanth kumar&lt;/p&gt;</comment>
                            <comment id="14000967" author="hiveqa" created="Sun, 18 May 2014 03:28:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12645402/HIVE-6756.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12645402/HIVE-6756.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 31 failed/errored test(s), 5526 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_exim_04_evolved_parts
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_serde
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_java_method
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_reflect
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_math_funcs
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_script_pipe
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_transform1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_transform_ppr1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_transform_ppr2
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.common.metrics.TestMetrics.testScopeConcurrency
org.apache.hadoop.hive.ql.parse.TestParse.testParse_input20
org.apache.hadoop.hive.ql.parse.TestParse.testParse_input4
org.apache.hadoop.hive.ql.parse.TestParse.testParse_input5
org.apache.hive.hcatalog.cli.TestUseDatabase.testAlterTablePass
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimal
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimalX
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimalXY
org.apache.hive.hcatalog.templeton.TestWebHCatE2e.getHadoopVersion
org.apache.hive.hcatalog.templeton.TestWebHCatE2e.getHiveVersion
org.apache.hive.hcatalog.templeton.TestWebHCatE2e.getPigVersion
org.apache.hive.hcatalog.templeton.TestWebHCatE2e.getStatus
org.apache.hive.hcatalog.templeton.TestWebHCatE2e.invalidPath
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/224/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/224/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/224/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/224/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 31 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12645402&lt;/p&gt;</comment>
                            <comment id="14001432" author="ashutoshc" created="Mon, 19 May 2014 06:58:36 +0000"  >&lt;p&gt;While some of the failures in Hive QA run are also on trunk, but some other failures look relevant.&lt;/p&gt;</comment>
                            <comment id="14001481" author="chinnalalam" created="Mon, 19 May 2014 08:14:03 +0000"  >&lt;p&gt;Hi Ashutosh, I am working on this. I will upload patch today.&lt;/p&gt;</comment>
                            <comment id="14001630" author="chinnalalam" created="Mon, 19 May 2014 12:16:45 +0000"  >&lt;p&gt;Added positive and negative testcases for these scenarios.&lt;br/&gt;
Corrected parquet_serde.q this test case and remaining testcases are not related to this change.&lt;/p&gt;</comment>
                            <comment id="14008250" author="ashutoshc" created="Sun, 25 May 2014 00:52:01 +0000"  >&lt;p&gt;Patch looks good, accept for textfile &amp;amp; seqfile &lt;br/&gt;
+      serde = conf.getVar(HiveConf.ConfVars.HIVESCRIPTSERDE);&lt;/p&gt;

&lt;p&gt;scriptserde config is used for other purposes, I think its better just to do &lt;br/&gt;
serde = LazySimpleSerDe.getClass().getName() &lt;br/&gt;
since thats equivalent behavior with create table stored as textfile / sequencefile&lt;/p&gt;

&lt;p&gt;Looks good otherwise &lt;/p&gt;</comment>
                            <comment id="14008314" author="chinnalalam" created="Sun, 25 May 2014 11:07:50 +0000"  >&lt;p&gt;Hi Ashutosh, Thanks for reviewing the patch. Reworked the patch.&lt;/p&gt;</comment>
                            <comment id="14008378" author="ashutoshc" created="Sun, 25 May 2014 17:00:02 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14008827" author="hiveqa" created="Mon, 26 May 2014 13:10:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12646708/HIVE-6756.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12646708/HIVE-6756.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 12 failed/errored test(s), 5465 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_exim_04_evolved_parts
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_decimal1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat3
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.hcatalog.cli.TestUseDatabase.testAlterTablePass
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimal
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimalX
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimalXY
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/298/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/298/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/298/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/298/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-298/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-298/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 12 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12646708&lt;/p&gt;</comment>
                            <comment id="14010107" author="ashutoshc" created="Tue, 27 May 2014 18:49:16 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Chinna!&lt;/p&gt;</comment>
                            <comment id="14011467" author="szehon" created="Wed, 28 May 2014 19:14:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; the commit message has a typo and says &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3756&quot; title=&quot;&amp;quot;LOAD DATA&amp;quot; does not honor permission inheritence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3756&quot;&gt;&lt;del&gt;HIVE-3756&lt;/del&gt;&lt;/a&gt; and might cause confusion grepping git log, is it too late to fix?&lt;/p&gt;</comment>
                            <comment id="14011512" author="ashutoshc" created="Wed, 28 May 2014 20:01:53 +0000"  >&lt;p&gt;Thanks for catching that. Updated svn commit message. Its correctly reflected in svn log now. However, I think svn-git bridge doesnt recognize commit message edits, so in git repo it will still show old one.&lt;/p&gt;</comment>
                            <comment id="14012093" author="lefty@hortonworks.com" created="Thu, 29 May 2014 05:41:03 +0000"  >&lt;p&gt;Does this need any user doc?&lt;/p&gt;</comment>
                            <comment id="14012587" author="chinnalalam" created="Thu, 29 May 2014 17:41:36 +0000"  >&lt;p&gt;Hi Lefty Leverenz,&lt;/p&gt;

&lt;p&gt;Need to update this in Alter Table/Partition File Format section:&lt;/p&gt;

&lt;p&gt;Alter table set fileformat with INPUTFORMAT &amp;amp; OUTPUTFORMAT case, throw exception if user doesn&apos;t specify serde. ie if user is specifying INPUTFORMAT &amp;amp; OUTPUTFORMAT she must also specify serde.&lt;/p&gt;</comment>
                            <comment id="14210866" author="thejas" created="Thu, 13 Nov 2014 19:42:59 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12645402" name="HIVE-6756.1.patch" size="25613" author="vasanthkumar" created="Sat, 17 May 2014 09:18:02 +0000"/>
                            <attachment id="12645546" name="HIVE-6756.2.patch" size="34288" author="chinnalalam" created="Mon, 19 May 2014 12:15:35 +0000"/>
                            <attachment id="12646708" name="HIVE-6756.3.patch" size="34328" author="chinnalalam" created="Sun, 25 May 2014 11:04:55 +0000"/>
                            <attachment id="12640671" name="HIVE-6756.patch" size="25717" author="chinnalalam" created="Thu, 17 Apr 2014 18:34:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Apr 2014 18:34:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382077</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tts7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6757] Remove deprecated parquet classes from outside of org.apache package</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6757</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Apache shouldn&apos;t release projects with files outside of the org.apache namespace.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703808">HIVE-6757</key>
            <summary>Remove deprecated parquet classes from outside of org.apache package</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="owen.omalley">Owen O&apos;Malley</reporter>
                        <labels>
                            <label>TODOC13</label>
                    </labels>
                <created>Wed, 26 Mar 2014 20:03:22 +0000</created>
                <updated>Wed, 23 Jul 2014 07:08:21 +0000</updated>
                            <resolved>Tue, 8 Apr 2014 15:47:55 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13948382" author="owen.omalley" created="Wed, 26 Mar 2014 20:03:54 +0000"  >&lt;p&gt;I assume they are there for compatibility, but they should be put into the parquet jars if they are necessary.&lt;/p&gt;</comment>
                            <comment id="13948391" author="brocknoland" created="Wed, 26 Mar 2014 20:10:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;I assume they are there for compatibility&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That is correct.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Apache shouldn&apos;t release projects with files outside of the org.apache namespace.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The shell classes simply for compatibility and are ASL 2.0 licensed. Is there documentation saying this is against Apache policy? &lt;/p&gt;</comment>
                            <comment id="13948424" author="cutting" created="Wed, 26 Mar 2014 20:38:05 +0000"  >&lt;p&gt;There&apos;s no ASF-wide policy requiring every Java source code file to be in an org.apache sub-package.  Certainly that is preferred, but sometimes, usually for back-compatibility, code in non-Apache packages continues to be released from Apache TLPs for some time.  For example, Subversion still releases org.tigris code.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://subversion.apache.org/docs/javahl/1.7/org/tigris/subversion/javahl/package-summary.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://subversion.apache.org/docs/javahl/1.7/org/tigris/subversion/javahl/package-summary.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13948564" author="owen.omalley" created="Wed, 26 Mar 2014 22:25:01 +0000"  >&lt;p&gt;There is no pressing need for them to be in Hive&apos;s jar. They are brand new classes and can easily be put in to the parquet jars that are distributed by parquet.&lt;/p&gt;</comment>
                            <comment id="13948655" author="brocknoland" created="Wed, 26 Mar 2014 23:33:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;There is no pressing need for them to be in Hive&apos;s jar&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There is no pressing need to remove them either.&lt;/p&gt;</comment>
                            <comment id="13948663" author="thejas" created="Wed, 26 Mar 2014 23:46:26 +0000"  >&lt;p&gt;If we look at precedence for this in hive community, there has lot of work put into keeping the package structure clean.  All the hcatalog classes were moved into org.apache.hive. They old packaging is being deprecated in hive 0.14. And that already in org.apache.* . &lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13948719" author="xuefuz" created="Thu, 27 Mar 2014 00:58:53 +0000"  >&lt;p&gt;I&apos;m not sure what the motivation is. The inclusion of the code violates no bylaws of either Hive or Apache. For those who don&apos;t use Parquet, they probably never deal with these classes, but for those who do, these are important to them. I&apos;m not sure what we gain by removing them.&lt;/p&gt;

&lt;p&gt;If we think this is important for Hive, I&apos;d be open to consider amending the current by-laws to apply going forward. In absence of such bylaw, I don&apos;t see a strong argument for the removal.&lt;/p&gt;

&lt;p&gt;As to the case of HCat, I&apos;m wondering how many releases have passed before it lands on the current package structure.&lt;/p&gt;</comment>
                            <comment id="13948738" author="thejas" created="Thu, 27 Mar 2014 01:39:22 +0000"  >&lt;p&gt;I am not sure if we need to have by-laws for things like this. For example we don&apos;t have by-law for indentation in code, or adding tests with patches.&lt;/p&gt;
</comment>
                            <comment id="13948760" author="thejas" created="Thu, 27 Mar 2014 02:01:36 +0000"  >&lt;p&gt;Regarding hcat, it was added in 0.11 , there is a patch out there to remove the old deprecated classes in 0.14 .&lt;/p&gt;</comment>
                            <comment id="13948811" author="xuefuz" created="Thu, 27 Mar 2014 02:56:13 +0000"  >&lt;p&gt;Yeah, I think it makes more sense to remove these deprecated parquet classes in certain future release. &lt;/p&gt;</comment>
                            <comment id="13949543" author="owen.omalley" created="Thu, 27 Mar 2014 16:36:20 +0000"  >&lt;p&gt;From Hive&apos;s point of view, they are unused classes that have never been released. The right time to remove them is now before 0.13 is released.&lt;/p&gt;</comment>
                            <comment id="13949546" author="owen.omalley" created="Thu, 27 Mar 2014 16:38:02 +0000"  >&lt;p&gt;Just delete the entire directory. No other code change is necessary.&lt;/p&gt;</comment>
                            <comment id="13949557" author="brocknoland" created="Thu, 27 Mar 2014 16:43:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;From Hive&apos;s point of view, they are unused classes that have never been released. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I disagree. These class names are stored by many hive users in the metastore.&lt;/p&gt;</comment>
                            <comment id="13949633" author="owen.omalley" created="Thu, 27 Mar 2014 17:19:46 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I disagree. These class names are stored by many hive users in the metastore.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Actually, these have never been released so there are &lt;b&gt;NO&lt;/b&gt; Hive users yet. That is exactly why this needs to be fixed before 0.13.&lt;/p&gt;</comment>
                            <comment id="13949648" author="brocknoland" created="Thu, 27 Mar 2014 17:27:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;Actually, these have never been released so there are NO Hive users yet.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is not true. Many Hive users used the Parquet Serde before it was contributed to the Hive project. Those Hive users are extremely interested in having their existing tables work when they go to 0.13.&lt;/p&gt;</comment>
                            <comment id="13949686" author="owen.omalley" created="Thu, 27 Mar 2014 17:43:09 +0000"  >&lt;blockquote&gt;
&lt;p&gt; Many Hive users used the Parquet Serde before it was contributed to the Hive project. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;They can continue to use their jar and it will continue to work. That isn&apos;t motivation for putting these jars into Hive.&lt;/p&gt;</comment>
                            <comment id="13949709" author="brocknoland" created="Thu, 27 Mar 2014 17:53:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;They can continue to use their jar and it will continue to work. That isn&apos;t motivation for putting these jars into Hive.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;They cannot continue to use their jars because many of the Hive interfaces changed in 0.12 and 0.13. This was one of the reasons that the Parquet developers agreed to contribute their work to Hive. I am quite surprised you marked this as a blocker considering:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;There is no apache or hive policy against this code&lt;/li&gt;
	&lt;li&gt;This work was done a long time ago&lt;/li&gt;
	&lt;li&gt;You are watching the JIRA in which this work was completed&lt;/li&gt;
	&lt;li&gt;It&apos;s a tiny amount of code (all wrappers), impacting no one&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I do not agree with removing this code for the 0.13 release.&lt;/p&gt;</comment>
                            <comment id="13949883" author="owen.omalley" created="Thu, 27 Mar 2014 20:29:04 +0000"  >&lt;p&gt;Hive does &lt;b&gt;not&lt;/b&gt; have a need to maintain backwards compatibility with third party jars. The user installed third party jars and needs new versions to work with the current version of Hive. That doesn&apos;t mean that Hive should start publishing source code in the parquet namespace. &lt;/p&gt;

&lt;p&gt;There can&apos;t be any technical reason to block this patch. &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;It removes unused java files.&lt;/li&gt;
	&lt;li&gt;It does not break compatibility with any release of Hive&lt;/li&gt;
	&lt;li&gt;It prevents creating a new public API that starts deprecated.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This is straight forward goodness. It breaks no one and prevents downstream problems. I strongly encourage you to work with the parquet team to create a new version of their jar with these four compatibility classes.&lt;/p&gt;</comment>
                            <comment id="13949916" author="brocknoland" created="Thu, 27 Mar 2014 20:53:36 +0000"  >&lt;blockquote&gt;&lt;p&gt;Hive does not have a need to maintain backwards compatibility with third party jars. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Simply because we do not have to, does not mean we cannot. More simply there is no policy saying we cannot maintain backwards compatibility with existing Parquet users. The work was done by the Hive developer community for the Hive user community.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;There can&apos;t be any technical reason to block this patch.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Breaking Hive users, part of the Hive community, is a technical reason.&lt;/p&gt;</comment>
                            <comment id="13950019" author="owen.omalley" created="Thu, 27 Mar 2014 22:16:59 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Breaking Hive users, part of the Hive community, is a technical reason.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You haven&apos;t demonstrated how it breaks any Hive users. Any user that downloaded the Parquet jars still has the Parquet jars and should download updated ones that work with their current release. This doesn&apos;t present a problem. It certainly isn&apos;t worth creating more confusion by releasing files outside of the org.apache namespace.&lt;/p&gt;</comment>
                            <comment id="13950046" author="alangates" created="Thu, 27 Mar 2014 22:38:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, sorry, I don&apos;t quite follow the issue here.  I get that you want current Hive users who are using Parquet to not experience a non-backward compatible change.  That&apos;s reasonable.  If these parquet.hive.... classes are placed in the parquet jars and pulled via maven that should still be achieved, correct?  I&apos;m missing how having these in Hive rather than parquet is a backwards compatibility issue.&lt;/p&gt;</comment>
                            <comment id="13950094" author="owen.omalley" created="Thu, 27 Mar 2014 23:09:45 +0000"  >&lt;p&gt;Brock, here is a patch that creates a separate project parquet-hive.jar that users can slip into replace their old ones.&lt;/p&gt;</comment>
                            <comment id="13950531" author="jcoffey" created="Fri, 28 Mar 2014 09:28:37 +0000"  >&lt;p&gt;Owen, the solution your proposing means that there is no seamless upgrade path for existing parquet-hive users and that somewhere on the hive wiki there will have to be a call out &quot;attention existing parquet users, you must include the parquet-hive.jar when upgrading to hive 13.  we&apos;re sorry, but this is the price you have to pay for being an early adopter and driving functionality&quot;.&lt;/p&gt;

&lt;p&gt;One of the goals of the #&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5783&quot; title=&quot;Native Parquet Support in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5783&quot;&gt;&lt;del&gt;HIVE-5783&lt;/del&gt;&lt;/a&gt; patch was to make the lives of parquet users easier (there were of course many other reasons, but ease of use is a good goal in and of itself).  The classes as they are do no harm and it&apos;s hard to see how they pollute the code base of Hive in any significant way.  This patch kinda sorta seems a tiny bit punitive if you ask me.&lt;/p&gt;

&lt;p&gt;Please don&apos;t take any of this the wrong way, but I believe this is what a fair chunk of the parquet-hive community might think if this patch is committed.&lt;/p&gt;</comment>
                            <comment id="13950853" author="brocknoland" created="Fri, 28 Mar 2014 15:12:04 +0000"  >&lt;p&gt;Great points Justin. Many folks in the Hive community want this code, which is not against any Apache or Hive policy.&lt;/p&gt;</comment>
                            <comment id="13950911" author="owen.omalley" created="Fri, 28 Mar 2014 15:43:38 +0000"  >&lt;p&gt;Justin,&lt;br/&gt;
   They already have parquet-hive.jar that they&apos;ve manually added to their installation. Giving them an upgraded jar to work with Hive 0.13 is a better answer than making conflicting classes in Hive itself.&lt;/p&gt;

&lt;p&gt;In fact, the way that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5783&quot; title=&quot;Native Parquet Support in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5783&quot;&gt;&lt;del&gt;HIVE-5783&lt;/del&gt;&lt;/a&gt; was done imposes a significant chance that class conflicts will occur for users that have manually installed the parquet jars. I&apos;m not trying to force reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5783&quot; title=&quot;Native Parquet Support in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5783&quot;&gt;&lt;del&gt;HIVE-5783&lt;/del&gt;&lt;/a&gt; out of Hive 0.13, but leaving these classes in the parquet jars and not in Hive is a much better answer. &lt;/p&gt;</comment>
                            <comment id="13950921" author="xuefuz" created="Fri, 28 Mar 2014 15:49:51 +0000"  >&lt;p&gt;If removing the code helps Hive functionally or performance-widely, I may be convinced by the proposal of removing this small piece of code. Based on what we gain by doing this removal, it&apos;s hard to be convincing that this benefits anything if at all, while discouraging some hive/parquet users who really care. For most of other Hive users, who cares about the extra two classes they don&apos;t need to bother with.&lt;/p&gt;</comment>
                            <comment id="13950996" author="jcoffey" created="Fri, 28 Mar 2014 16:38:10 +0000"  >&lt;p&gt;I guess my point is simply that early adopters are penalized for life whereas new users get the full benefit of the patch.  I agree that the penalty is pretty small, but the two classes kicking around in the parquet package are even less of a penalty to the hive code base.  Thus I remain against pulling them out.&lt;/p&gt;</comment>
                            <comment id="13951218" author="owen.omalley" created="Fri, 28 Mar 2014 18:45:59 +0000"  >&lt;p&gt;The point is that these files are &lt;b&gt;CREATING&lt;/b&gt; a new &lt;b&gt;PUBLIC&lt;/b&gt; api for Hive. That API is starting deprecated. That just creates confusion and noise. The users already need to update their manually installed parquet jars. This is the time that imposes the &lt;b&gt;LEAST&lt;/b&gt; disruption on the users of Apache Hive. If we release them then there is user confusion over duplicated classes. Hive users won&apos;t expect to see classes in parquet.* in the hive-exec jar. &lt;b&gt;THAT&lt;/b&gt; will create brand new user confusion.&lt;/p&gt;</comment>
                            <comment id="13951499" author="rhbutani" created="Fri, 28 Mar 2014 22:23:19 +0000"  >&lt;p&gt;Hi Justin, Brock,&lt;/p&gt;

&lt;p&gt;Couple of questions/thoughts:&lt;/p&gt;

&lt;p&gt;1.&lt;br/&gt;
What if we include the parquet-hive.jar in the hive-exec shaded jar? Does this mitigate the upgrade issues for existing users? &lt;/p&gt;

&lt;p&gt;2. &lt;br/&gt;
If they choose to how will existing users migrate to the new classes? Do we provide metadata upgrade scripts? Do we have to support their existing sql code: for e.g. we add checks in the hive parsing layer to replace old parquet class references with new classes.&lt;br/&gt;
So the migration process when we remove(now or in the future) the deprecated classes is not clear. Can you guys please help me understand how this will play out.  &lt;/p&gt;</comment>
                            <comment id="13954307" author="brocknoland" created="Sat, 29 Mar 2014 15:51:35 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;The work that was done in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5783&quot; title=&quot;Native Parquet Support in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5783&quot;&gt;&lt;del&gt;HIVE-5783&lt;/del&gt;&lt;/a&gt;, by the Hive community, ensured that it was backwards compatible for Parquet Hive users, also members of the Hive community. There would be no issue with a patch that kept the backwards compatibility work.&lt;/p&gt;

&lt;p&gt;The simplest solution would be to update the serde, input, and output class names in the metastore via the upgrade scripts.&lt;/p&gt;

&lt;p&gt;Brock&lt;/p&gt;</comment>
                            <comment id="13955121" author="jcoffey" created="Mon, 31 Mar 2014 12:08:43 +0000"  >&lt;p&gt;I can +1 &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;&apos;s solution if that flies for everyone else.  Actually, we joked about this in one of our review sessions here thinking that it was a bit of a brute force solution, but if this works for everyone it works for us (FYI, for one table we expect to have 47K partitions to update).&lt;/p&gt;</comment>
                            <comment id="13959164" author="owen.omalley" created="Thu, 3 Apr 2014 20:23:31 +0000"  >&lt;p&gt;Having the upgrade script convert the names is great as long as we can remove the deprecated classes outside of org.apache.&lt;/p&gt;</comment>
                            <comment id="13959178" author="jcoffey" created="Thu, 3 Apr 2014 20:35:34 +0000"  >&lt;p&gt;I find that to be an acceptable compromise.&lt;/p&gt;

&lt;p&gt;consensus &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="13961313" author="rhbutani" created="Sun, 6 Apr 2014 02:29:39 +0000"  >&lt;p&gt;Took a stab at creating the upgrade script.&lt;br/&gt;
Please review. This is the first time I am doing an upgrade script, so I apologize if I missed something.  &lt;/p&gt;

&lt;p&gt;I tested this on derby: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;created a table with the old syntax and classes.&lt;/li&gt;
	&lt;li&gt;applied the upgrade on my instance&lt;/li&gt;
	&lt;li&gt;With this patch applied could run a select on the table.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Hopefully this is good enough for existing parquet users.&lt;/p&gt;</comment>
                            <comment id="13961565" author="hiveqa" created="Sun, 6 Apr 2014 23:12:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638894/HIVE-6757.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638894/HIVE-6757.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5548 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.service.cli.thrift.TestThriftHttpCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2156/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2156/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2156/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2156/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638894&lt;/p&gt;</comment>
                            <comment id="13961615" author="xuefuz" created="Mon, 7 Apr 2014 02:32:57 +0000"  >&lt;p&gt;+1. The patch looks good to me. Thanks to Harish for taking on this.&lt;/p&gt;</comment>
                            <comment id="13961621" author="brocknoland" created="Mon, 7 Apr 2014 02:59:46 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Thank you Harish!!&lt;/p&gt;</comment>
                            <comment id="13961892" author="jcoffey" created="Mon, 7 Apr 2014 14:52:20 +0000"  >&lt;p&gt;much appreciated Harish!&lt;/p&gt;</comment>
                            <comment id="13962367" author="owen.omalley" created="Mon, 7 Apr 2014 23:09:26 +0000"  >&lt;p&gt;+1 thanks Harish!&lt;/p&gt;</comment>
                            <comment id="13963098" author="rhbutani" created="Tue, 8 Apr 2014 15:47:55 +0000"  >&lt;p&gt;Committed to trunk and 0.13&lt;br/&gt;
thanks Owen, Xuefu, Brock, Justin.&lt;/p&gt;</comment>
                            <comment id="13963832" author="lefty@hortonworks.com" created="Wed, 9 Apr 2014 05:37:15 +0000"  >&lt;p&gt;This should have a release note, and the wiki needs usage information.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Parquet&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LanguageManual - File Formats - Parquet &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12638894" name="HIVE-6757.2.patch" size="13872" author="rhbutani" created="Sun, 6 Apr 2014 02:29:39 +0000"/>
                            <attachment id="12637179" name="HIVE-6757.patch" size="7566" author="owen.omalley" created="Thu, 27 Mar 2014 16:38:02 +0000"/>
                            <attachment id="12637271" name="parquet-hive.patch" size="8587" author="owen.omalley" created="Thu, 27 Mar 2014 23:09:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Mar 2014 20:10:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382142</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tu67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382415</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6758] Beeline doesn&apos;t work with -e option when started in background</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6758</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In hive CLI you could easily integrate its use into a script and back ground the process like this: &lt;/p&gt;

&lt;p&gt;hive -e &quot;some query&quot; &amp;amp;&lt;/p&gt;

&lt;p&gt;Beeline does not run when you do the same even with the -f switch. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12703841">HIVE-6758</key>
            <summary>Beeline doesn&apos;t work with -e option when started in background</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mohitsabharwal">Mohit Sabharwal</assignee>
                                    <reporter username="johndee">Johndee Burks</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 22:04:07 +0000</created>
                <updated>Tue, 26 Jul 2016 18:16:47 +0000</updated>
                            <resolved>Fri, 18 Sep 2015 22:23:58 +0000</resolved>
                                    <version>0.11.0</version>
                    <version>0.14.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>18</watches>
                                                                <comments>
                            <comment id="13948608" author="xuefuz" created="Wed, 26 Mar 2014 23:04:39 +0000"  >&lt;p&gt;I&apos;m not sure what query you&apos;re executing, but I tried the following, which worked:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;xzhang@xzlt:~/apa/hive6$ ./packaging/target/apache-hive-0.14.0-SNAPSHOT-bin/apache-hive-0.14.0-SNAPSHOT-bin/bin/beeline -u jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;// -e &lt;span class=&quot;code-quote&quot;&gt;&quot;show databases&quot;&lt;/span&gt;
&lt;/span&gt;...
14/03/26 16:02:38 INFO mapred.FileInputFormat: Total input paths to process : 1
+----------------+
| database_name  |
+----------------+
| &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;        |
+----------------+
1 row selected (0.437 seconds)
14/03/26 16:02:38 INFO exec.ListSinkOperator: 0 finished. closing... 
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13948616" author="xuefuz" created="Wed, 26 Mar 2014 23:06:58 +0000"  >&lt;p&gt;I put the query into a file and use -f option to execute, it also worked.&lt;/p&gt;</comment>
                            <comment id="13951123" author="xuefuz" created="Fri, 28 Mar 2014 17:48:18 +0000"  >&lt;p&gt;Closed as unreproducible. Feel free to reopen it if repo case can be provided.&lt;/p&gt;</comment>
                            <comment id="13951354" author="johndee" created="Fri, 28 Mar 2014 20:44:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; It as you say when you run without back ground it works. But if I read your attempt correctly you did not back ground at the end &apos;&amp;amp;&apos;. &lt;/p&gt;

&lt;p&gt;This works&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[root@jrepo1-1 ~]# beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//jrepo1-2.ent.cloudera.com:10000&quot;&lt;/span&gt; -n johndee -e &lt;span class=&quot;code-quote&quot;&gt;&quot;show tables;&quot;&lt;/span&gt;
&lt;/span&gt;scan complete in 10ms
Connecting to jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//jrepo1-2.ent.cloudera.com:10000
&lt;/span&gt;Connected to: Hive (version 0.10.0)
Driver: Hive (version 0.9.0-cdh4.1.2)
Transaction isolation: TRANSACTION_REPEATABLE_READ
+-----------+
| tab_name  |
+-----------+
| j1        |
+-----------+
1 row selected (0.499 seconds)
Hive version 0.9.0-cdh4.1.2 by Apache
Closing: org.apache.hive.jdbc.HiveConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This does not: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[root@jrepo1-1 ~]# beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//jrepo1-2.ent.cloudera.com:10000&quot;&lt;/span&gt; -n johndee -e &lt;span class=&quot;code-quote&quot;&gt;&quot;show tables;&quot;&lt;/span&gt; &amp;amp;
&lt;/span&gt;[1] 32040
[root@jrepo1-1 ~]#

[1]+  Stopped                 beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//jrepo1-2.ent.cloudera.com:10000&quot;&lt;/span&gt; -n johndee -e &lt;span class=&quot;code-quote&quot;&gt;&quot;show tables;&quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13951356" author="johndee" created="Fri, 28 Mar 2014 20:45:13 +0000"  >&lt;p&gt;The process will stay stopped until it is fore ground. &lt;/p&gt;</comment>
                            <comment id="13951358" author="johndee" created="Fri, 28 Mar 2014 20:46:02 +0000"  >&lt;p&gt;Reopen as I have reproduced the issue. &lt;/p&gt;</comment>
                            <comment id="13951599" author="johndee" created="Fri, 28 Mar 2014 23:47:07 +0000"  >&lt;p&gt;Upon further investigation nothing happens at all when the process is sent to background it does not even connect to HS2. If you use beeline foreground there should be connection information similar to that below: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;scan complete in 61ms
Connecting to jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//jrepo1-2.ent.cloudera.com:10000
&lt;/span&gt;Connected to: Hive (version 0.10.0)
Driver: Hive (version 0.9.0-cdh4.1.2)
Transaction isolation: TRANSACTION_REPEATABLE_READ
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However when you use the following command and cat the file that should contain stderr and stdout there is nothing. This means that beeline did not even try to connect yet. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[root@jrepo1-1 hive]# beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//jrepo1-2.ent.cloudera.com:10000&quot;&lt;/span&gt; -n johndee -e &lt;span class=&quot;code-quote&quot;&gt;&quot;show tables;&quot;&lt;/span&gt; &amp;amp;&amp;gt; show.out &amp;amp;
&lt;/span&gt;[1] 15265
[root@jrepo1-1 hive]# jobs
[1]+  Stopped                 beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//jrepo1-2.ent.cloudera.com:10000&quot;&lt;/span&gt; -n johndee -e &lt;span class=&quot;code-quote&quot;&gt;&quot;show tables;&quot;&lt;/span&gt; &amp;amp;&amp;gt;show.out
&lt;/span&gt;[root@jrepo1-1 hive]# cat show.out
[root@jrepo1-1 hive]#
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Upon inspection of the HS2 log there is nothing shown in regards to connection being made. Another test is to run a M/R based query such as the following: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//jrepo1-2.ent.cloudera.com:10000&quot;&lt;/span&gt; -n johndee -e &lt;span class=&quot;code-quote&quot;&gt;&quot;select count(*) from j1;&quot;&lt;/span&gt; &amp;amp;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check the JobTracker UI or MR2 WebUI and you will see no job launched. &lt;/p&gt;</comment>
                            <comment id="13951794" author="qwertymaniac" created="Sat, 29 Mar 2014 07:25:55 +0000"  >&lt;p&gt;Beeline is running into one of SIGTTOU or SIGTTIN signals from the TTY.&lt;/p&gt;</comment>
                            <comment id="13954967" author="qwertymaniac" created="Mon, 31 Mar 2014 06:21:46 +0000"  >&lt;p&gt;Here&apos;s one way to fix it:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issuetracker.springsource.com/browse/STS-2552?focusedCommentId=66702&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-66702&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issuetracker.springsource.com/browse/STS-2552?focusedCommentId=66702&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-66702&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13954968" author="qwertymaniac" created="Mon, 31 Mar 2014 06:26:22 +0000"  >&lt;p&gt;Workaround (tested, works):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;export HADOOP_CLIENT_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-Djline.terminal=jline.UnsupportedTerminal&quot;&lt;/span&gt;
beeline &#8230; &amp;amp;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13955195" author="xuefuz" created="Mon, 31 Mar 2014 14:03:42 +0000"  >&lt;p&gt;Thank you so much for providing this useful information, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=qwertymaniac&quot; class=&quot;user-hover&quot; rel=&quot;qwertymaniac&quot;&gt;Harsh J&lt;/a&gt;. Please feel free to assign this JIRA to yourself if you&apos;d like to working on this.&lt;/p&gt;</comment>
                            <comment id="14063192" author="lefty@hortonworks.com" created="Wed, 16 Jul 2014 05:53:39 +0000"  >&lt;p&gt;I documented this bug and workaround in the HiveServer2 Clients wiki:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineCommandOptions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HiveServer2 Clients &amp;#8211; Beeline Command Options &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14168765" author="qwertymaniac" created="Sun, 12 Oct 2014 19:38:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;Please feel free to assign this JIRA to yourself if you&apos;d like to working on this.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Unfortunately I&apos;m not certain where the issue lies in Beeline itself that may be triggering this. It could be a JLine bug or in our method of usage of JLine, but thats as far as I can tell at the moment.&lt;/p&gt;

&lt;p&gt;If Hive CLI uses JLine too, then the difference in how we prompt in Beeline vs. CLI may explain the bug.&lt;/p&gt;</comment>
                            <comment id="14168768" author="qwertymaniac" created="Sun, 12 Oct 2014 19:52:11 +0000"  >&lt;p&gt;Alternatively a flag that disables jline for non-prompted execution may resolve this too. It could be a better way to solve this.&lt;/p&gt;</comment>
                            <comment id="14169465" author="brocknoland" created="Mon, 13 Oct 2014 16:20:14 +0000"  >&lt;p&gt;We can use this shell code to detect if we are in the background:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;case $(ps -o stat= -p $$) in
  *+*) echo &quot;Running in foreground&quot; ;;
  *) echo &quot;Running in background&quot; ;;
esac
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and then set the property appropriately.&lt;/p&gt;</comment>
                            <comment id="14174204" author="mohitsabharwal" created="Thu, 16 Oct 2014 20:35:19 +0000"  >&lt;p&gt;I looked into it a bit, and here&apos;s my understanding:&lt;br/&gt;
In beeline, for pretty table formatting (which hive cli does not do), we get the terminal width (and height) using jline.Terminal.setupTerminal().getTerminalWidth(), which &lt;a href=&quot;http://jline.sourcearchive.com/documentation/0.9.94-5/classjline_1_1UnixTerminal_da5160e7ec686c49b8f39e03d986cc2f.html#da5160e7ec686c49b8f39e03d986cc2f&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;sets terminal properties&lt;/a&gt; by calling stty. &lt;/p&gt;

&lt;p&gt;However, when beeline is backgrounded, kernel&apos;s terminal driver sends a SIGTTOU when stty is called, which if not caught, defaults to &quot;stopping&quot; the process. I tried ignoring the signal in beeline:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Signal.handle(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Signal(&lt;span class=&quot;code-quote&quot;&gt;&quot;TTOU&quot;&lt;/span&gt;), SignalHandler.SIG_IGN);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This puts beeline process state back to &quot;running&quot;, though it remains &quot;hung&quot; and doesn&apos;t resume normal operation. I didn&apos;t see anything helpful using jstack.  Not sure what&apos;s happening here, will need some more digging.&lt;/p&gt;

&lt;p&gt;However, since we don&apos;t care about pretty table formatting in background mode, solution proposed by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=qwertymaniac&quot; class=&quot;user-hover&quot; rel=&quot;qwertymaniac&quot;&gt;Harsh J&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; also works fine. Attached patch does that. It essentially sets the terminal type to &lt;a href=&quot;http://jline.sourcearchive.com/documentation/0.9.94-5/classjline_1_1UnsupportedTerminal.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;UnsupportedTerminal&lt;/a&gt; (as opposed to UnixTerminal) which doesn&apos;t call stty. &lt;/p&gt;

&lt;p&gt;Alternatively, instead of setting this system property, we could simply not initialize a Terminal object if the process is backgrounded. Both approaches result in default terminal height and width values. Am going with beeline script-only approach.&lt;/p&gt;

&lt;p&gt;Would appreciate comments from anyone more familiar with beeline/hive cli. Thanks.&lt;/p&gt;</comment>
                            <comment id="14174707" author="hiveqa" created="Fri, 17 Oct 2014 04:13:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12675341/HIVE-6758.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12675341/HIVE-6758.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 6561 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key2
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_cbo_correctness
org.apache.hive.beeline.TestSchemaTool.testSchemaInit
org.apache.hive.beeline.TestSchemaTool.testSchemaUpgrade
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1309/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1309/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1309/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1309/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1309/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1309/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12675341&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;PreCommit-HIVE-TRUNK-Build&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14175700" author="brocknoland" created="Fri, 17 Oct 2014 23:35:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;Alternatively, instead of setting this system property, we could simply not initialize a Terminal object if the process is backgrounded. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think this essentially equivalent to what we are doing with the system property.&lt;/p&gt;

&lt;p&gt;I am +1 on the change.&lt;/p&gt;</comment>
                            <comment id="14175703" author="brocknoland" created="Fri, 17 Oct 2014 23:36:05 +0000"  >&lt;p&gt;Also those failed tests are unrelated and have been fixed.&lt;/p&gt;</comment>
                            <comment id="14177362" author="brocknoland" created="Mon, 20 Oct 2014 19:38:23 +0000"  >&lt;p&gt;Thank you Mohit! This has been committed to trunk!&lt;/p&gt;</comment>
                            <comment id="14178076" author="lefty@hortonworks.com" created="Tue, 21 Oct 2014 07:25:28 +0000"  >&lt;p&gt;The documentation for running -e or -f in the background needs to be revised in the HiveServer2 Clients wiki:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineCommandOptions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HiveServer2 Clients &amp;#8211; Beeline Command Options &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But remember to keep the old information too, for releases prior to 0.15.0.&lt;/p&gt;</comment>
                            <comment id="14184573" author="brocknoland" created="Sun, 26 Oct 2014 18:00:06 +0000"  >&lt;p&gt;FYI - through this bug we found &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8565&quot; title=&quot;beeline may go into an infinite loop when using EOF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8565&quot;&gt;&lt;del&gt;HIVE-8565&lt;/del&gt;&lt;/a&gt; which makes beeline behave extremely poorly when you set an unsupported terminal. Thus we have created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8609&quot; title=&quot;Move beeline to jline2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8609&quot;&gt;&lt;del&gt;HIVE-8609&lt;/del&gt;&lt;/a&gt; as a blocker for 0.15.&lt;/p&gt;</comment>
                            <comment id="14184819" author="thejas" created="Mon, 27 Oct 2014 04:37:55 +0000"  >&lt;p&gt;With this change, beeline does not work with the arrow keys. (scroll up/down, right/left).&lt;br/&gt;
 The shell condition in the patch does not identify foreground correctly, and as  a result it always sets this env variable. I tried the following on bash in mac and linux. &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ cat /tmp/t.sh
#!/usr/bin/env bash 
if [[ ! $(ps -o stat= -p $$) =~ + ]]; then
  echo &quot;background&quot;
  export HADOOP_CLIENT_OPTS=&quot;$HADOOP_CLIENT_OPTS -Djline.terminal=jline.UnsupportedTerminal&quot;
fi

$  /tmp/t.sh
background
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The shell command pasted by Brock works correctly&lt;/p&gt;</comment>
                            <comment id="14184826" author="brocknoland" created="Mon, 27 Oct 2014 04:43:19 +0000"  >&lt;p&gt;Interesting... Due to this and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8609&quot; title=&quot;Move beeline to jline2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8609&quot;&gt;&lt;del&gt;HIVE-8609&lt;/del&gt;&lt;/a&gt; I think we should revert this commit for now...&lt;/p&gt;</comment>
                            <comment id="14535985" author="sushanth" created="Sat, 9 May 2015 00:11:29 +0000"  >&lt;p&gt;Removing fix version of 1.2.0 in preparation of release, since this is not a blocker for 1.2.0.&lt;/p&gt;</comment>
                            <comment id="14576475" author="lefty@hortonworks.com" created="Sun, 7 Jun 2015 22:34:17 +0000"  >&lt;p&gt;Removed TODOC1.2 label.&lt;/p&gt;</comment>
                            <comment id="14804975" author="xuefuz" created="Fri, 18 Sep 2015 05:08:02 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14876582" author="xuefuz" created="Fri, 18 Sep 2015 22:23:58 +0000"  >&lt;p&gt;Committed to master and branch-1. Thanks, Mohit.&lt;/p&gt;</comment>
                            <comment id="14876877" author="lefty@hortonworks.com" created="Sat, 19 Sep 2015 04:41:19 +0000"  >&lt;p&gt;Doc note:  Updated wiki descriptions of the -e and -f options for this bug fix.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineCommandOptions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Beeline Command Options &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12861201">HIVE-11717</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12750620">HIVE-8609</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12928972">HIVE-12834</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12992679">HIVE-14342</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12675341" name="HIVE-6758.patch" size="469" author="mohitsabharwal" created="Thu, 16 Oct 2014 20:35:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Mar 2014 23:04:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tudb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382447</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6759] Fix reading partial ORC files while they are being written</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6759</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HDFS with the hflush ensures the bytes are visible, but doesn&apos;t update the file length on the NameNode. Currently the Orc reader will only read up to the length on the NameNode. If the user specified a length from a flush_length file, the Orc reader should trust it to be right.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703845">HIVE-6759</key>
            <summary>Fix reading partial ORC files while they are being written</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12669392">HIVE-5317</parent>
                                    <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="owen.omalley">Owen O&apos;Malley</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 22:34:04 +0000</created>
                <updated>Tue, 8 Apr 2014 18:41:08 +0000</updated>
                            <resolved>Tue, 8 Apr 2014 18:41:08 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13949537" author="owen.omalley" created="Thu, 27 Mar 2014 16:33:47 +0000"  >&lt;p&gt;This patch fixes the problem by using the supplied length rather that the stat from the NameNode.&lt;/p&gt;</comment>
                            <comment id="13959476" author="sershe" created="Fri, 4 Apr 2014 00:29:47 +0000"  >&lt;p&gt;+1, just skimmed the test&lt;/p&gt;</comment>
                            <comment id="13961560" author="rhbutani" created="Sun, 6 Apr 2014 22:54:48 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13963292" author="owen.omalley" created="Tue, 8 Apr 2014 18:41:08 +0000"  >&lt;p&gt;Thanks for the review, Sergey and Harish. Thejas ran the unit tests internally and they passed.&lt;/p&gt;

&lt;p&gt;I just committed this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637177" name="HIVE-6759.patch" size="7496" author="owen.omalley" created="Thu, 27 Mar 2014 16:33:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Apr 2014 00:29:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382179</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tue7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382451</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6760] Scalable dynamic partitioning should bail out properly for list bucketing</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6760</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In case of list bucketing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6455&quot; title=&quot;Scalable dynamic partitioning and bucketing optimization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6455&quot;&gt;&lt;del&gt;HIVE-6455&lt;/del&gt;&lt;/a&gt; looks only at this config &quot;hive.optimize.listbucketing&quot; to bail out. There are cases when this config (&quot;hive.optimize.listbucketing&quot;) is not set but list bucketing is enabled using SKEWED BY in CREATE TABLE statement.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703847">HIVE-6760</key>
            <summary>Scalable dynamic partitioning should bail out properly for list bucketing</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12695620">HIVE-6455</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 22:41:03 +0000</created>
                <updated>Thu, 13 Nov 2014 19:40:43 +0000</updated>
                            <resolved>Fri, 28 Mar 2014 05:31:08 +0000</resolved>
                                    <version>0.13.0</version>
                    <version>0.14.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                    <fixVersion>0.14.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13948592" author="prasanth_j" created="Wed, 26 Mar 2014 22:51:21 +0000"  >&lt;p&gt;This patch looks for list bucketing context and then bails out.&lt;/p&gt;</comment>
                            <comment id="13948629" author="prasanth_j" created="Wed, 26 Mar 2014 23:13:47 +0000"  >&lt;p&gt;Looks like list bucketing context is always available. This patch checks further deeper to see if there are any skewed columns and values before bailing out.&lt;/p&gt;</comment>
                            <comment id="13948748" author="hagleitn" created="Thu, 27 Mar 2014 01:50:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13950142" author="alangates" created="Thu, 27 Mar 2014 23:39:53 +0000"  >&lt;p&gt;Ran tests locally, all looks good.&lt;/p&gt;</comment>
                            <comment id="13950249" author="rhbutani" created="Fri, 28 Mar 2014 01:26:13 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13950324" author="hiveqa" created="Fri, 28 Mar 2014 03:28:37 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637042/HIVE-6760.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637042/HIVE-6760.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5493 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1991/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1991/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1991/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1991/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637042&lt;/p&gt;</comment>
                            <comment id="13950395" author="hagleitn" created="Fri, 28 Mar 2014 05:31:08 +0000"  >&lt;p&gt;Committed to trunk and branch. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14210412" author="thejas" created="Thu, 13 Nov 2014 19:40:43 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637030" name="HIVE-6760.1.patch" size="1243" author="prasanth_j" created="Wed, 26 Mar 2014 22:51:21 +0000"/>
                            <attachment id="12637042" name="HIVE-6760.2.patch" size="1765" author="prasanth_j" created="Wed, 26 Mar 2014 23:13:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Mar 2014 01:50:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382181</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tuen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382453</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6761] Hashcode computation does not use maximum parallelism for scalable dynamic partitioning</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6761</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hashcode computation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6455&quot; title=&quot;Scalable dynamic partitioning and bucketing optimization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6455&quot;&gt;&lt;del&gt;HIVE-6455&lt;/del&gt;&lt;/a&gt; should consider all the partitioning columns and bucket number to distribute the rows. The following code &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; partitionEval.length - 1; i++) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ignores the last partition column thereby generating lesser hashcodes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703848">HIVE-6761</key>
            <summary>Hashcode computation does not use maximum parallelism for scalable dynamic partitioning</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12695620">HIVE-6455</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 22:46:31 +0000</created>
                <updated>Thu, 13 Nov 2014 19:44:01 +0000</updated>
                            <resolved>Fri, 28 Mar 2014 05:26:08 +0000</resolved>
                                    <version>0.13.0</version>
                    <version>0.14.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                    <fixVersion>0.14.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13948644" author="prasanth_j" created="Wed, 26 Mar 2014 23:25:41 +0000"  >&lt;p&gt;This is the reason of lesser hashcodes generation as mentioned by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; here &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6735?focusedCommentId=13948046&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13948046&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-6735?focusedCommentId=13948046&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13948046&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13948741" author="hagleitn" created="Thu, 27 Mar 2014 01:44:50 +0000"  >&lt;p&gt;Looks good to me. +1&lt;/p&gt;</comment>
                            <comment id="13950141" author="alangates" created="Thu, 27 Mar 2014 23:38:46 +0000"  >&lt;p&gt;Ran tests locally, all looks good.&lt;/p&gt;</comment>
                            <comment id="13950144" author="prasanth_j" created="Thu, 27 Mar 2014 23:40:26 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13950247" author="rhbutani" created="Fri, 28 Mar 2014 01:25:56 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13950248" author="hiveqa" created="Fri, 28 Mar 2014 01:26:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637047/HIVE-6761.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637047/HIVE-6761.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5492 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1989/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1989/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1989/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1989/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637047&lt;/p&gt;</comment>
                            <comment id="13950389" author="hagleitn" created="Fri, 28 Mar 2014 05:26:08 +0000"  >&lt;p&gt;Committed to trunk and branch. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14211080" author="thejas" created="Thu, 13 Nov 2014 19:44:01 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637047" name="HIVE-6761.1.patch" size="1633" author="prasanth_j" created="Wed, 26 Mar 2014 23:24:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Mar 2014 01:44:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tuev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382454</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6762] VectorGroupBy operator should produce vectorized row batch and let a terminal operator convert to row mode.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6762</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;VectorGroupBy operator should produce vectorized row batch and let a terminal operator convert to row mode.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703865">HIVE-6762</key>
            <summary>VectorGroupBy operator should produce vectorized row batch and let a terminal operator convert to row mode.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jnp">Jitendra Nath Pandey</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 23:57:42 +0000</created>
                <updated>Wed, 26 Mar 2014 23:57:42 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tuif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6763] HiveServer2 in http mode might send same kerberos client ticket in case of concurrent requests resulting in server throwing a replay exception</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6763</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12703882">HIVE-6763</key>
            <summary>HiveServer2 in http mode might send same kerberos client ticket in case of concurrent requests resulting in server throwing a replay exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vgumashta">Vaibhav Gumashta</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Mar 2014 02:14:56 +0000</created>
                <updated>Sun, 30 Mar 2014 00:36:29 +0000</updated>
                            <resolved>Sun, 30 Mar 2014 00:36:29 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13948781" author="vgumashta" created="Thu, 27 Mar 2014 02:19:33 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; This is a bug for 13. Thanks!&lt;/p&gt;</comment>
                            <comment id="13949755" author="thejas" created="Thu, 27 Mar 2014 18:30:55 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~vaibhavgumashta&amp;#93;&lt;/span&gt; Can you create a reviewboard link ? The indentation seems to have some issues.&lt;br/&gt;
It is recommended practice to put the unlock in a finally block. Alternatively, should we just use a simpler synchronized block instead of ReentrantLock ? &lt;/p&gt;</comment>
                            <comment id="13950203" author="alangates" created="Fri, 28 Mar 2014 00:30:47 +0000"  >&lt;p&gt;I see one failure that I&apos;m not sure if it is related or not:&lt;br/&gt;
2014-03-28 00:02:12 WARN  PTest:205 - org.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus&lt;/p&gt;</comment>
                            <comment id="13951306" author="vgumashta" created="Fri, 28 Mar 2014 20:06:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; Thanks a lot for running the tests. The issue is unrelated but I need to incorporate some feedback.&lt;/p&gt;</comment>
                            <comment id="13951667" author="vgumashta" created="Sat, 29 Mar 2014 01:12:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Addressed the feedback; linked the rb url. Thanks!&lt;/p&gt;</comment>
                            <comment id="13951685" author="thejas" created="Sat, 29 Mar 2014 01:35:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13951818" author="hiveqa" created="Sat, 29 Mar 2014 09:41:05 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637592/HIVE-6763.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637592/HIVE-6763.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5502 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
org.apache.hive.service.cli.thrift.TestThriftHttpCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2028/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2028/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2028/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2028/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637592&lt;/p&gt;</comment>
                            <comment id="13954340" author="thejas" created="Sat, 29 Mar 2014 17:03:28 +0000"  >&lt;p&gt;Vaibhav,&lt;br/&gt;
Can you please check if the test failures are related ?&lt;/p&gt;</comment>
                            <comment id="13954445" author="vgumashta" created="Sat, 29 Mar 2014 21:09:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; The failures are unrelated. Thanks!&lt;/p&gt;</comment>
                            <comment id="13954532" author="thejas" created="Sun, 30 Mar 2014 00:36:29 +0000"  >&lt;p&gt;Patch committed to 0.13 branch and trunk.&lt;br/&gt;
Thanks for the contribution Vaibhav!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637078" name="HIVE-6763.1.patch" size="4702" author="vgumashta" created="Thu, 27 Mar 2014 02:19:01 +0000"/>
                            <attachment id="12637592" name="HIVE-6763.2.patch" size="4722" author="vgumashta" created="Sat, 29 Mar 2014 01:12:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Mar 2014 18:30:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382216</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tum7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382487</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6764] when set hive.security.authorization.enabled=true,hive start up with errors.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6764</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;1&#12289;set hive.security.authorization.enabled=true;&lt;br/&gt;
2&#12289;startup hive,find some errors in the log:&lt;br/&gt;
notice: /Stage&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;/Hdp-hcat::Hcat::Service_check/Exec&lt;span class=&quot;error&quot;&gt;&amp;#91;hcatSmoke.sh prepare&amp;#93;&lt;/span&gt;/returns: FAILED:AuthorizationException No privilege &apos;Create&apos; found for inputs &lt;/p&gt;
{ database:default,
table:hcatsmokeida8c00f0b_date432614}
&lt;p&gt;err: /Stage&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;/Hdp-hcat::Hcat::Service_check/Exec&lt;span class=&quot;error&quot;&gt;&amp;#91;hcatSmoke.sh prepare&amp;#93;&lt;/span&gt;/returns: change from notrun to 0&lt;br/&gt;
failed: su - ambari-qa -c &apos;sh /tmp/hcatSmoke.sh hcatsmokeida8c00f0b_date432614 prepare&apos; returned 64 instead of&lt;br/&gt;
one of &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; at /var/lib/ambari-agent/puppet/modules/hdp-hcat/manifests/hcat/service_check.pp:54&lt;br/&gt;
notice: /Stage&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;/Hdp-hive::Hive::Service_check/Exec&lt;span class=&quot;error&quot;&gt;&amp;#91;/tmp/hiveserver2Smoke.sh&amp;#93;&lt;/span&gt;/returns: Smoke test of&lt;br/&gt;
hiveserver2 passed&lt;br/&gt;
notice: /Stage&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;/Hdp-hive::Hive::Service_check/Exec&lt;span class=&quot;error&quot;&gt;&amp;#91;/tmp/hiveserver2Smoke.sh&amp;#93;&lt;/span&gt;/returns: executed successfully&lt;/p&gt;

&lt;p&gt;3&#12289;the /tmp/hcatSmoke.sh contents&lt;br/&gt;
export tablename=$1case &quot;$2&quot; in&lt;br/&gt;
prepare)&lt;br/&gt;
  hcat -e &quot;show tables&quot;&lt;br/&gt;
  hcat -e &quot;drop table IF EXISTS ${tablename}&quot;&lt;br/&gt;
  hcat -e &quot;create table ${tablename} ( id INT, name string ) stored as rcfile ;&quot;&lt;br/&gt;
;;&lt;br/&gt;
cleanup)&lt;br/&gt;
  hcat -e &quot;drop table IF EXISTS ${tablename}&quot;&lt;br/&gt;
;;&lt;br/&gt;
esac&lt;/p&gt;

&lt;p&gt;4&#12289;try to grant to user ambari-qa,faild.&lt;br/&gt;
hive&amp;gt; grant all on database default to user ambari-qa;FAILED: ParseException line 1:44 missing EOF at &apos;-&apos; near &apos;ambari&apos;&lt;/p&gt;

&lt;p&gt;How to fix it?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703909">HIVE-6764</key>
            <summary>when set hive.security.authorization.enabled=true,hive start up with errors.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="haitangfan">haitangfan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Mar 2014 06:16:34 +0000</created>
                <updated>Wed, 14 May 2014 21:27:05 +0000</updated>
                            <resolved>Wed, 14 May 2014 21:27:05 +0000</resolved>
                                                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13998080" author="thejas" created="Wed, 14 May 2014 21:26:17 +0000"  >&lt;p&gt;Looks like you have the hive default authorization in the configuration.&lt;br/&gt;
You might want to use SQL Standards based authorization instead - &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+based+hive+authorization&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+based+hive+authorization&lt;/a&gt; and storage based authorization for hive cli -  (set hive.security.authorization.manager=org.apache.hadoop.hive.ql.security.authorization.StorageBasedAuthorizationProvider)&lt;/p&gt;

</comment>
                            <comment id="13998081" author="thejas" created="Wed, 14 May 2014 21:27:05 +0000"  >
&lt;p&gt;This is a configuration issue and not a product bug. So jira is not the best place for this. Closing this jira as invalid.&lt;br/&gt;
Hive mailing lists and other forums are better place for this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 May 2014 21:26:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382243</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tus7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6765] ASTNodeOrigin unserializable leads to fail when join with view</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6765</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;when a view contains a UDF, and the view comes into a JOIN operation, Hive will encounter a bug with stack trace like&lt;br/&gt;
Caused by: java.lang.InstantiationException: org.apache.hadoop.hive.ql.parse.ASTNodeOrigin&lt;br/&gt;
	at java.lang.Class.newInstance0(Class.java:359)&lt;br/&gt;
	at java.lang.Class.newInstance(Class.java:327)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor84.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:616)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703930">HIVE-6765</key>
            <summary>ASTNodeOrigin unserializable leads to fail when join with view</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="adrian-wang">Adrian Wang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Mar 2014 08:55:34 +0000</created>
                <updated>Sat, 24 May 2014 23:59:42 +0000</updated>
                            <resolved>Sat, 24 May 2014 23:59:42 +0000</resolved>
                                    <version>0.12.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13949052" author="adrian-wang" created="Thu, 27 Mar 2014 08:57:33 +0000"  >&lt;p&gt;I added a PersistenceDelegate in serializeObject() in Class Utilities and resolved the problem. later I&apos;ll attach the patch.&lt;/p&gt;</comment>
                            <comment id="13949075" author="adrian-wang" created="Thu, 27 Mar 2014 09:20:12 +0000"  >&lt;p&gt;Here&apos;s an example to see the Exception:&lt;br/&gt;
CREATE TABLE t1 (a1 INT, b1 INT);&lt;br/&gt;
CREATE VIEW v1 (x1) AS SELECT MAX(a1) FROM t1;&lt;br/&gt;
SELECT s1.x1 FROM v1 s1 JOIN (SELECT MAX(a1) AS ma FROM t1) s2 ON s1.x1 = s2.ma;&lt;/p&gt;

&lt;p&gt;This is a bug on both ApacheHive and Tez, outputing &quot;return code 1 ...&quot;&lt;/p&gt;</comment>
                            <comment id="13949076" author="adrian-wang" created="Thu, 27 Mar 2014 09:21:55 +0000"  >&lt;p&gt;And I think this is just another drawback for using XMLEncoder to clone plan.&lt;/p&gt;</comment>
                            <comment id="13949113" author="adrian-wang" created="Thu, 27 Mar 2014 10:04:23 +0000"  >&lt;p&gt;Sorry, the previous example works on Tez with hive-0.13.&lt;br/&gt;
But it fails when I run the query in Hive-0.12 in eclipse.&lt;/p&gt;</comment>
                            <comment id="13949118" author="adrian-wang" created="Thu, 27 Mar 2014 10:12:56 +0000"  >&lt;p&gt;when I run the test case in hive command line(0.12-release), the full output is as follows,&lt;br/&gt;
hive&amp;gt; SELECT s1.x1 FROM v1 s1 JOIN (SELECT MAX(a1) AS ma FROM t1) s2 ON s1.x1 = s2.ma;&lt;br/&gt;
java.lang.RuntimeException: Cannot serialize object&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Utilities$1.exceptionThrown(Utilities.java:652)&lt;br/&gt;
	at java.beans.XMLEncoder.writeStatement(XMLEncoder.java:361)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:277)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Utilities.serializeObject(Utilities.java:666)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Utilities.clonePlan(Utilities.java:637)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinTaskDispatcher.processCurrentTask(CommonJoinTaskDispatcher.java:505)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.optimizer.physical.AbstractJoinTaskDispatcher.dispatch(AbstractJoinTaskDispatcher.java:182)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.dispatch(TaskGraphWalker.java:111)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.walk(TaskGraphWalker.java:194)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.startWalking(TaskGraphWalker.java:139)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinResolver.resolve(CommonJoinResolver.java:79)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.optimizer.physical.PhysicalOptimizer.optimize(PhysicalOptimizer.java:90)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.MapReduceCompiler.compile(MapReduceCompiler.java:300)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:8410)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:284)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:441)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:342)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:977)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:888)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:781)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:675)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:614)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:616)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:212)&lt;br/&gt;
Caused by: java.lang.Exception: XMLEncoder: discarding statement XMLEncoder.writeObject(MapredWork);&lt;br/&gt;
	... 29 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: Cannot serialize object&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Utilities$1.exceptionThrown(Utilities.java:652)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initBean(DefaultPersistenceDelegate.java:267)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initialize(DefaultPersistenceDelegate.java:408)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:116)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:113)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeObject1(Encoder.java:231)&lt;br/&gt;
	at java.beans.Encoder.cloneStatement(Encoder.java:244)&lt;br/&gt;
	at java.beans.Encoder.writeStatement(Encoder.java:275)&lt;br/&gt;
	at java.beans.XMLEncoder.writeStatement(XMLEncoder.java:348)&lt;br/&gt;
	... 28 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: Cannot serialize object&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Utilities$1.exceptionThrown(Utilities.java:652)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initBean(DefaultPersistenceDelegate.java:267)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initialize(DefaultPersistenceDelegate.java:408)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:116)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.doProperty(DefaultPersistenceDelegate.java:229)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initBean(DefaultPersistenceDelegate.java:264)&lt;br/&gt;
	... 41 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: Cannot serialize object&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Utilities$1.exceptionThrown(Utilities.java:652)&lt;br/&gt;
	at java.beans.java_util_Map_PersistenceDelegate.initialize(MetaData.java:652)&lt;br/&gt;
	at java.beans.PersistenceDelegate.initialize(PersistenceDelegate.java:206)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initialize(DefaultPersistenceDelegate.java:406)&lt;br/&gt;
	at java.beans.PersistenceDelegate.initialize(PersistenceDelegate.java:206)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initialize(DefaultPersistenceDelegate.java:406)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:116)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:113)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.doProperty(DefaultPersistenceDelegate.java:229)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initBean(DefaultPersistenceDelegate.java:264)&lt;br/&gt;
	... 49 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: Cannot serialize object&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Utilities$1.exceptionThrown(Utilities.java:652)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initBean(DefaultPersistenceDelegate.java:267)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initialize(DefaultPersistenceDelegate.java:408)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:116)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:113)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.java_util_Map_PersistenceDelegate.initialize(MetaData.java:643)&lt;br/&gt;
	... 65 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: Cannot serialize object&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Utilities$1.exceptionThrown(Utilities.java:652)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initBean(DefaultPersistenceDelegate.java:267)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initialize(DefaultPersistenceDelegate.java:408)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:116)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:113)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.doProperty(DefaultPersistenceDelegate.java:229)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initBean(DefaultPersistenceDelegate.java:264)&lt;br/&gt;
	... 77 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: Cannot serialize object&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Utilities$1.exceptionThrown(Utilities.java:652)&lt;br/&gt;
	at java.beans.java_util_Map_PersistenceDelegate.initialize(MetaData.java:652)&lt;br/&gt;
	at java.beans.PersistenceDelegate.initialize(PersistenceDelegate.java:206)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initialize(DefaultPersistenceDelegate.java:406)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:116)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.doProperty(DefaultPersistenceDelegate.java:229)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initBean(DefaultPersistenceDelegate.java:264)&lt;br/&gt;
	... 90 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: Cannot serialize object&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Utilities$1.exceptionThrown(Utilities.java:652)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initBean(DefaultPersistenceDelegate.java:267)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initialize(DefaultPersistenceDelegate.java:408)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:116)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:113)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.java_util_Map_PersistenceDelegate.initialize(MetaData.java:643)&lt;br/&gt;
	... 99 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: Cannot serialize object&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Utilities$1.exceptionThrown(Utilities.java:652)&lt;br/&gt;
	at java.beans.Encoder.getValue(Encoder.java:108)&lt;br/&gt;
	at java.beans.Encoder.get(Encoder.java:225)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:110)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.PersistenceDelegate.writeObject(PersistenceDelegate.java:113)&lt;br/&gt;
	at java.beans.Encoder.writeObject(Encoder.java:74)&lt;br/&gt;
	at java.beans.XMLEncoder.writeObject(XMLEncoder.java:274)&lt;br/&gt;
	at java.beans.Encoder.writeExpression(Encoder.java:304)&lt;br/&gt;
	at java.beans.XMLEncoder.writeExpression(XMLEncoder.java:389)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.doProperty(DefaultPersistenceDelegate.java:229)&lt;br/&gt;
	at java.beans.DefaultPersistenceDelegate.initBean(DefaultPersistenceDelegate.java:264)&lt;br/&gt;
	... 111 more&lt;br/&gt;
Caused by: java.lang.InstantiationException: org.apache.hadoop.hive.ql.parse.ASTNodeOrigin&lt;br/&gt;
	at java.lang.Class.newInstance0(Class.java:359)&lt;br/&gt;
	at java.lang.Class.newInstance(Class.java:327)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor82.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:616)&lt;br/&gt;
	at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:55)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor81.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:616)&lt;br/&gt;
	at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:262)&lt;br/&gt;
	at java.beans.Statement.invokeInternal(Statement.java:257)&lt;br/&gt;
	at java.beans.Statement.access$000(Statement.java:56)&lt;br/&gt;
	at java.beans.Statement$2.run(Statement.java:158)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at java.beans.Statement.invoke(Statement.java:154)&lt;br/&gt;
	at java.beans.Expression.getValue(Expression.java:115)&lt;br/&gt;
	at java.beans.Encoder.getValue(Encoder.java:105)&lt;br/&gt;
	... 124 more&lt;br/&gt;
FAILED: SemanticException Generate Map Join Task Error: Cannot serialize object&lt;/p&gt;</comment>
                            <comment id="13986234" author="selinazh" created="Thu, 1 May 2014 00:14:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=adrian-wang&quot; class=&quot;user-hover&quot; rel=&quot;adrian-wang&quot;&gt;Adrian Wang&lt;/a&gt; We came across the same problem. Just wonder why this ASTNodeOrigin serialization problem came up suddenly. It is not the first day we join with a view. The root cause maybe something else? Thanks!&lt;/p&gt;</comment>
                            <comment id="13988648" author="adrian-wang" created="Sat, 3 May 2014 11:24:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=selinazh&quot; class=&quot;user-hover&quot; rel=&quot;selinazh&quot;&gt;Selina Zhang&lt;/a&gt; Thanks for your comment! It&apos;s so glad that someone also noticed this. Actually, I found that only when there was something like an aggregation function in the view, will the problem came up. The problem results from cloning the plan, but when joining with view as described, the plan would contain a node of ASTNodeOrigin, which does not have a default construct method, in which case when duplicating, exception will be thrown.&lt;br/&gt;
Could you please try to apply my patch here to see whether your problem is resolved? Thanks again.&lt;/p&gt;</comment>
                            <comment id="13989148" author="cdrome" created="Sun, 4 May 2014 20:52:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=adrian-wang&quot; class=&quot;user-hover&quot; rel=&quot;adrian-wang&quot;&gt;Adrian Wang&lt;/a&gt; this does not appear to be an issue with hive-0.13 as they are using Kryo for XML serialization.&lt;/p&gt;

&lt;p&gt;For clarification, I found that several setting can impact whether this problem arises or not. hive.auto.convert.join.noconditionaltask.size is used to determine the big table candidate set. Then hive.mapjoin.smalltable.filesize is used as a cutoff to determine whether a map-size join should be performed.&lt;/p&gt;

&lt;p&gt;I found that when hive.auto.convert.join is true, it will try to perform a map-side join first. Based on hive.auto.convert.join.noconditionaltask.size it will return a set of big table candidates to the physical optimizer. The physical optimizer will use hive.mapjoin.smalltable.filesize to determine whether the map-side join should proceed. If not the clonePlan method is called, which manifests the problem. I don&apos;t think it is solely influenced by the size of the tables involved in the join. In my tests, shrinking the size of the table allows the map-side join to proceed, while increasing the size of the table causes this failure.&lt;/p&gt;</comment>
                            <comment id="13989287" author="adrian-wang" created="Mon, 5 May 2014 05:26:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cdrome&quot; class=&quot;user-hover&quot; rel=&quot;cdrome&quot;&gt;Chris Drome&lt;/a&gt; good catch. I knew the serialization in Hive has been notorious for a long time, but I didn&apos;t know the progress they made there. Actually, I was real curious when I saw my case was OK with Tez with hive-0.13, while I never tried Apache&apos;s hive-0.13 since there was no official release.&lt;/p&gt;</comment>
                            <comment id="14008244" author="ashutoshc" created="Sat, 24 May 2014 23:59:42 +0000"  >&lt;p&gt;Resolving as wont fix since 0.13 has been released which uses Kryo based serialization which doesnt have this problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637110" name="HIVE-6765.patch.1" size="1929" author="adrian-wang" created="Thu, 27 Mar 2014 09:04:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 1 May 2014 00:14:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tuwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382535</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6766] HCatLoader always returns Char datatype with maxlength(255)  when table format is ORC</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6766</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;attached patch contains&lt;br/&gt;
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer#testWriteChar()&lt;/p&gt;

&lt;p&gt;which shows that char(5) value written to Hive (ORC) table using HCatStorer will come back as char(255) when read with HCatLoader.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704075">HIVE-6766</key>
            <summary>HCatLoader always returns Char datatype with maxlength(255)  when table format is ORC</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ekoifman">Eugene Koifman</assignee>
                                    <reporter username="ekoifman">Eugene Koifman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Mar 2014 19:51:35 +0000</created>
                <updated>Wed, 2 Apr 2014 00:49:55 +0000</updated>
                            <resolved>Tue, 1 Apr 2014 21:10:47 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13949860" author="ekoifman" created="Thu, 27 Mar 2014 20:01:58 +0000"  >&lt;p&gt;ensured that when DefaultRecordWriterContainer constructs an ObjectInspector, it creates PrimitiveObjectInspectors based on type (char(5)) rather than category.&lt;/p&gt;</comment>
                            <comment id="13950134" author="sushanth" created="Thu, 27 Mar 2014 23:35:10 +0000"  >&lt;p&gt;Patch looks good to me. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt;, could we please have a precommit test kicked off on this?&lt;/p&gt;</comment>
                            <comment id="13956033" author="thejas" created="Tue, 1 Apr 2014 02:35:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6766&quot; title=&quot;HCatLoader always returns Char datatype with maxlength(255)  when table format is ORC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6766&quot;&gt;&lt;del&gt;HIVE-6766&lt;/del&gt;&lt;/a&gt;.1.patch - attaching file again for precommit tests &lt;/p&gt;</comment>
                            <comment id="13956715" author="hiveqa" created="Tue, 1 Apr 2014 16:23:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637984/HIVE-6766.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637984/HIVE-6766.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5539 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2066/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2066/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2066/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2066/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637984&lt;/p&gt;</comment>
                            <comment id="13956840" author="thejas" created="Tue, 1 Apr 2014 18:15:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; This is a very useful bug fix to have in hive 0.13 .&lt;/p&gt;</comment>
                            <comment id="13956999" author="rhbutani" created="Tue, 1 Apr 2014 20:54:02 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13957016" author="thejas" created="Tue, 1 Apr 2014 21:10:47 +0000"  >&lt;p&gt;Patch committed to trunk and 0.13 branch.&lt;br/&gt;
Thanks for the contribution Eugene, and for the review Sushanth!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12706069">HIVE-6807</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12637984" name="HIVE-6766.1.patch" size="14091" author="thejas" created="Tue, 1 Apr 2014 02:35:13 +0000"/>
                            <attachment id="12637226" name="HIVE-6766.patch" size="14091" author="ekoifman" created="Thu, 27 Mar 2014 20:01:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Mar 2014 23:35:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382409</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tvsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6767] Golden file updates for hadoop-2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6767</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12704076">HIVE-6767</key>
            <summary>Golden file updates for hadoop-2</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Mar 2014 19:54:01 +0000</created>
                <updated>Fri, 28 Mar 2014 16:06:49 +0000</updated>
                            <resolved>Fri, 28 Mar 2014 16:06:49 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13950188" author="vikram.dixit" created="Fri, 28 Mar 2014 00:12:27 +0000"  >&lt;p&gt;LGTM +1.&lt;/p&gt;</comment>
                            <comment id="13950946" author="ashutoshc" created="Fri, 28 Mar 2014 16:06:49 +0000"  >&lt;p&gt;Committed to 0.13 &amp;amp; trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637225" name="HIVE-6767.patch" size="98929" author="ashutoshc" created="Thu, 27 Mar 2014 19:56:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 28 Mar 2014 00:12:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tvt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382680</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6768] remove hcatalog/webhcat/svr/src/main/config/override-container-log4j.properties</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6768</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;now that &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-5806&quot; title=&quot;Log4j settings in container-log4j.properties cannot be overridden &quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-5806&quot;&gt;&lt;del&gt;MAPREDUCE-5806&lt;/del&gt;&lt;/a&gt; is fixed we can remove override-container-log4j.properties and and all the logic around this which was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5511&quot; title=&quot;percentComplete returned by job status from WebHCat is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5511&quot;&gt;&lt;del&gt;HIVE-5511&lt;/del&gt;&lt;/a&gt; to work around &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-5806&quot; title=&quot;Log4j settings in container-log4j.properties cannot be overridden &quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-5806&quot;&gt;&lt;del&gt;MAPREDUCE-5806&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;NO PRECOMMIT TESTS&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704150">HIVE-6768</key>
            <summary>remove hcatalog/webhcat/svr/src/main/config/override-container-log4j.properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ekoifman">Eugene Koifman</assignee>
                                    <reporter username="ekoifman">Eugene Koifman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 00:32:45 +0000</created>
                <updated>Tue, 24 Mar 2015 20:36:29 +0000</updated>
                            <resolved>Mon, 12 May 2014 19:00:16 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13973271" author="ashutoshc" created="Thu, 17 Apr 2014 18:51:32 +0000"  >&lt;p&gt;In addition to this file, I assume we also need to revert changes introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5511&quot; title=&quot;percentComplete returned by job status from WebHCat is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5511&quot;&gt;&lt;del&gt;HIVE-5511&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; would you like to attach a patch for this?&lt;/p&gt;</comment>
                            <comment id="13993006" author="thejas" created="Thu, 8 May 2014 18:42:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; Can you respond on Ashutosh&apos;s comment ? &lt;/p&gt;

&lt;p&gt;Looks like most of the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5511&quot; title=&quot;percentComplete returned by job status from WebHCat is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5511&quot;&gt;&lt;del&gt;HIVE-5511&lt;/del&gt;&lt;/a&gt; are not specific to the issue, but were general cleanup.  And the attached patch reverts changes that were specific to the log handling.&lt;/p&gt;</comment>
                            <comment id="13993793" author="ekoifman" created="Fri, 9 May 2014 18:25:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;,&lt;span class=&quot;error&quot;&gt;&amp;#91;~hashutosh&amp;#93;&lt;/span&gt; the attached patch reverts all changes that were part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5511&quot; title=&quot;percentComplete returned by job status from WebHCat is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5511&quot;&gt;&lt;del&gt;HIVE-5511&lt;/del&gt;&lt;/a&gt; needed to handle the &apos;special&apos; override-container-log4j, just like the bug description says.  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5511&quot; title=&quot;percentComplete returned by job status from WebHCat is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5511&quot;&gt;&lt;del&gt;HIVE-5511&lt;/del&gt;&lt;/a&gt; also included some refactoring, which should not be reverted.&lt;/p&gt;</comment>
                            <comment id="13993948" author="thejas" created="Fri, 9 May 2014 21:39:49 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13995472" author="thejas" created="Mon, 12 May 2014 19:00:16 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks for the contribution Eugene!&lt;/p&gt;</comment>
                            <comment id="14210261" author="thejas" created="Thu, 13 Nov 2014 19:39:54 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12673155">HIVE-5511</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12641624" name="HIVE-6768.patch" size="17089" author="ekoifman" created="Thu, 24 Apr 2014 01:01:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Apr 2014 18:51:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tw8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382753</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6769] HCatStorer can initialize SerDe with less columns than table definition if PigSchema has less columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6769</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;You should be able to see this in TestHCatStorer.testStoreFuncAllSimpleTypes.  First a Hive table is created with 8 columns.  Then HCatStorer is used to populate the table, but Pig relation only has data for the first 7 columns of the table. When HCat initializes the SerDe for writing the table, the schema only contains 7 columns rather than the 8 that the table should have. This test works without any errors, but gets an error if the table is changed to ORC storage (which can be fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4975&quot; title=&quot;Reading orc file throws exception after adding new column&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4975&quot;&gt;&lt;del&gt;HIVE-4975&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;HCat should initialize the Serde with the full number of columns in the table, and should fill in NULLs for any columns which are not provided by Pig relation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704155">HIVE-6769</key>
            <summary>HCatStorer can initialize SerDe with less columns than table definition if PigSchema has less columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jdere">Jason Dere</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 00:42:50 +0000</created>
                <updated>Tue, 1 Apr 2014 01:43:26 +0000</updated>
                            <resolved>Tue, 1 Apr 2014 01:43:26 +0000</resolved>
                                                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13956001" author="ekoifman" created="Tue, 1 Apr 2014 01:43:26 +0000"  >&lt;p&gt;no change required.  On read the SerDe should provide the &apos;missing&apos; column with value NULL.  This would be the same case as when a table is created with 5 columns and data written to it.  Then 2 columns are added.  Then a &apos;select * form T&apos; should still work.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Apr 2014 01:43:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tw9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382758</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6770] disallow change of column name when talbe&apos;s serde is parquet serde</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6770</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive column is index based, hence changing column name does not affect the result.&lt;/p&gt;

&lt;p&gt;However parquet columns are name based, changing column will result in incorrect result.&lt;/p&gt;

&lt;p&gt;Before rename issue is addressed in parquet, hive should disallow column rename if Parquet is used. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12704166">HIVE-6770</key>
            <summary>disallow change of column name when talbe&apos;s serde is parquet serde</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tongjie">Tongjie Chen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 01:20:50 +0000</created>
                <updated>Sun, 2 Nov 2014 05:14:47 +0000</updated>
                            <resolved>Fri, 31 Oct 2014 00:47:45 +0000</resolved>
                                    <version>0.13.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14191126" author="tongjie" created="Fri, 31 Oct 2014 00:47:45 +0000"  >&lt;p&gt;This is not necessary now.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6938&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-6938&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12709574">HIVE-6938</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382500</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1twcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382769</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6771] Update WebHCat E2E tests now that comments is reported correctly in &quot;describe table&quot; output</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6771</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6681&quot; title=&quot;Describe table sometimes shows &amp;quot;from deserializer&amp;quot; for column comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6681&quot;&gt;&lt;del&gt;HIVE-6681&lt;/del&gt;&lt;/a&gt; corrected the comments in the describe table output, earlier it would show &quot;from deserializer&quot; in comments.&lt;br/&gt;
Some WebHCat E2E tests are checking for the string &quot;from deserializer&quot; even overshadowing the actual comments.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704195">HIVE-6771</key>
            <summary>Update WebHCat E2E tests now that comments is reported correctly in &quot;describe table&quot; output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="deepesh">Deepesh Khandelwal</assignee>
                                    <reporter username="deepesh">Deepesh Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 05:46:16 +0000</created>
                <updated>Fri, 28 Mar 2014 16:25:26 +0000</updated>
                            <resolved>Fri, 28 Mar 2014 16:25:26 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13950408" author="deepesh" created="Fri, 28 Mar 2014 05:49:36 +0000"  >&lt;p&gt;Attaching a patch to correct the behavior in the 7 impacted tests.&lt;/p&gt;</comment>
                            <comment id="13950412" author="deepesh" created="Fri, 28 Mar 2014 05:51:35 +0000"  >&lt;p&gt;Would be great if it makes it in with 0.13.0 as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6681&quot; title=&quot;Describe table sometimes shows &amp;quot;from deserializer&amp;quot; for column comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6681&quot;&gt;&lt;del&gt;HIVE-6681&lt;/del&gt;&lt;/a&gt; is already in 0.13.0.&lt;/p&gt;</comment>
                            <comment id="13950424" author="ashutoshc" created="Fri, 28 Mar 2014 06:08:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13950972" author="ashutoshc" created="Fri, 28 Mar 2014 16:25:26 +0000"  >&lt;p&gt;Committed to 0.13 &amp;amp; trunk. Thanks, Deepesh!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12701769">HIVE-6681</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12637339" name="HIVE-6771.patch" size="3627" author="deepesh" created="Fri, 28 Mar 2014 05:49:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 28 Mar 2014 06:08:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382529</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1twin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6772] Virtual columns when used with Lateral View Explode results in SemanticException [Error 10004]</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6772</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When using the virtual columns with &apos;lateral view explode&apos;, I get the following error:&lt;/p&gt;

&lt;p&gt;FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10004&amp;#93;&lt;/span&gt;: Line 3:22 Invalid table alias or column reference &apos;INPUT_&lt;em&gt;FILE&lt;/em&gt;_NAME&apos;: (possible column names are: _col0, _col1, _col2, _col3, _col4, _col5, _col6, _col7, _col8, _col9, _col10, _col11, _col12, _col13, _col14, _col15, _col16, _col17, _col18, _col19, _col20, _col21, _col22)&lt;/p&gt;

&lt;p&gt;Here is the query:&lt;br/&gt;
select&lt;br/&gt;
  newMd5(concat(INPUT_&lt;em&gt;FILE&lt;/em&gt;&lt;em&gt;NAME,BLOCK&lt;/em&gt;&lt;em&gt;OFFSET&lt;/em&gt;&lt;em&gt;INSIDE&lt;/em&gt;_FILE)) ukey,&lt;br/&gt;
  flat_ric_cd as ric_cd&lt;br/&gt;
from edwpoc.ts_rtd_gs_stg&lt;br/&gt;
lateral view explode(split(ric_cd,&apos;,&apos;)) subView as flat_ric_cd&lt;/p&gt;</description>
                <environment>&lt;p&gt;Red Hat Enterprise Linux Server release 6.3 (Santiago)&lt;br/&gt;
Hadoop 2.0.0-cdh4.1.2&lt;br/&gt;
Hive 0.9.0&lt;/p&gt;</environment>
        <key id="12704292">HIVE-6772</key>
            <summary>Virtual columns when used with Lateral View Explode results in SemanticException [Error 10004]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="steve.ogden@thomsonreuters.com">Steve Ogden</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 16:28:17 +0000</created>
                <updated>Thu, 8 May 2014 07:06:32 +0000</updated>
                                            <version>0.9.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13992558" author="navis" created="Thu, 8 May 2014 07:06:32 +0000"  >&lt;p&gt;I think this is fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3226&quot; title=&quot;ColumnPruner is not working on LateralView&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3226&quot;&gt;&lt;del&gt;HIVE-3226&lt;/del&gt;&lt;/a&gt; and others.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 May 2014 07:06:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tx47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6773] Update readme for ptest2 framework</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6773</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Approvals dependency is needed for testing.  Need to add instructions.&lt;/p&gt;

&lt;p&gt;NO PRECOMMIT TESTS&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704344">HIVE-6773</key>
            <summary>Update readme for ptest2 framework</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="szehon">Szehon Ho</assignee>
                                    <reporter username="szehon">Szehon Ho</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 19:15:54 +0000</created>
                <updated>Thu, 13 Nov 2014 19:40:44 +0000</updated>
                            <resolved>Tue, 8 Apr 2014 19:24:51 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13951264" author="szehon" created="Fri, 28 Mar 2014 19:17:44 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, adding some missing instruction as we discussed.&lt;/p&gt;</comment>
                            <comment id="13954277" author="brocknoland" created="Sat, 29 Mar 2014 15:15:40 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14210416" author="thejas" created="Thu, 13 Nov 2014 19:40:44 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637480" name="HIVE-6773.patch" size="694" author="szehon" created="Fri, 28 Mar 2014 19:16:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 29 Mar 2014 15:15:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382946</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6774] &quot;Not a valid JAR&quot; errors from TestExecDriver</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6774</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If I wipe out my local Maven repository and run the command:&lt;br/&gt;
mvn clean install -Dtest=TestExecDriver -Phadoop-1&lt;/p&gt;

&lt;p&gt;All of the TestExecDriver tests fail with the following errors:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Not a valid JAR: /Users/jdere/.m2/repository/org/apache/hive/hive-exec/0.14.0-SNAPSHOT/hive-exec-0.14.0-SNAPSHOT.jar
Execution failed with exit status: 255
Obtaining error information

Task failed!
Task ID:
  null

Logs:

/Users/jdere/dev/hive.git/ql/target/tmp/log/hive.log
java.lang.NullPointerException
        at org.apache.hadoop.hive.ql.session.SessionState.addLocalMapRedErrors(SessionState.java:919)
        at org.apache.hadoop.hive.ql.exec.mr.MapRedTask.execute(MapRedTask.java:282)
        at org.apache.hadoop.hive.ql.exec.TestExecDriver.executePlan(TestExecDriver.java:460)
        at org.apache.hadoop.hive.ql.exec.TestExecDriver.testMapPlan1(TestExecDriver.java:474)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at junit.framework.TestCase.runTest(TestCase.java:168)
        at junit.framework.TestCase.runBare(TestCase.java:134)
        at junit.framework.TestResult$1.protect(TestResult.java:110)
        at junit.framework.TestResult.runProtected(TestResult.java:128)
        at junit.framework.TestResult.run(TestResult.java:113)
        at junit.framework.TestCase.run(TestCase.java:124)
        at junit.framework.TestSuite.runTest(TestSuite.java:243)
        at junit.framework.TestSuite.run(TestSuite.java:238)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
        at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12704358">HIVE-6774</key>
            <summary>&quot;Not a valid JAR&quot; errors from TestExecDriver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jdere">Jason Dere</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 20:22:02 +0000</created>
                <updated>Sat, 25 Apr 2015 09:52:21 +0000</updated>
                            <resolved>Fri, 28 Mar 2014 20:31:36 +0000</resolved>
                                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13951324" author="jdere" created="Fri, 28 Mar 2014 20:25:18 +0000"  >&lt;p&gt;Looks like the test is relying on the hive-exec JAR being installed to the local maven repository, and it&apos;s not there yet during the maven test phase.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, would it be more appropriate for TestExecDriver to be added to itests? Or is it expected to run &quot;mvn clean install -DskipTests&quot; before actually running any tests?&lt;/p&gt;</comment>
                            <comment id="13951326" author="brocknoland" created="Fri, 28 Mar 2014 20:28:15 +0000"  >&lt;p&gt;You must do mnv install before running any tests. Not as part of the install.&lt;/p&gt;</comment>
                            <comment id="13951337" author="jdere" created="Fri, 28 Mar 2014 20:31:36 +0000"  >&lt;p&gt;Ok, thanks for the clarification.&lt;/p&gt;</comment>
                            <comment id="14512368" author="jmorlock" created="Sat, 25 Apr 2015 09:52:21 +0000"  >&lt;p&gt;I consider this fact as very annoying. Every Hive newcomer reading the GettingStarted guide and executing the instructions written there, will get into this frustrating situation. See for example&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/25353207/hive-testmapplan1org-apache-hadoop-hive-ql-exec-testexecdriver-failed&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/25353207/hive-testmapplan1org-apache-hadoop-hive-ql-exec-testexecdriver-failed&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 28 Mar 2014 20:28:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382960</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6775] Altering partition column type should not be allowed when there is existing partitions for which column types cannot be casted to the new type.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6775</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12704385">HIVE-6775</key>
            <summary>Altering partition column type should not be allowed when there is existing partitions for which column types cannot be casted to the new type.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</assignee>
                                    <reporter username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 22:48:04 +0000</created>
                <updated>Tue, 1 Apr 2014 00:42:13 +0000</updated>
                            <resolved>Tue, 1 Apr 2014 00:42:13 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12670843">HIVE-5376</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12701113">HIVE-6642</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6776] Vectorization: Optimize timestamp to string-timestamp comparision using long comparisons. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-6776</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The timestamp to string-timestamp comparison currently (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6752&quot; title=&quot;Vectorized Between and IN expressions don&amp;#39;t work with decimal, date types.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6752&quot;&gt;&lt;del&gt;HIVE-6752&lt;/del&gt;&lt;/a&gt;) happens using string-string comparison because timestamp is cast to string. This can be optimized by casting string-timestamps to timestamps and using long comparisons instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704390">HIVE-6776</key>
            <summary>Vectorization: Optimize timestamp to string-timestamp comparision using long comparisons. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jnp">Jitendra Nath Pandey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 23:13:53 +0000</created>
                <updated>Fri, 28 Mar 2014 23:13:53 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382724</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6777] VectorizedHashKeyWrapper: comments and readability.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6777</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We should add more comments in VectorizedHashKeyWrapper particularly to explain the logic behind using offsets for different datatypes.&lt;br/&gt;
Also consider helper functions for offset calculation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704391">HIVE-6777</key>
            <summary>VectorizedHashKeyWrapper: comments and readability.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jnp">Jitendra Nath Pandey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 23:19:04 +0000</created>
                <updated>Fri, 28 Mar 2014 23:19:04 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382725</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6778] ql/src/test/queries/clientpositive/pcr.q covers the test which generate 1.0 =1 predicate in partition pruner. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-6778</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;select key, value, ds from pcr_foo where (ds % 2 == 1);&lt;br/&gt;
ql/src/test/queries/clientpositive/pcr.q&lt;/p&gt;

&lt;p&gt;The test generates 1.0==1 predicate in the pruner which cannot be evaluated since a double cannot be converted to int.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704392">HIVE-6778</key>
            <summary>ql/src/test/queries/clientpositive/pcr.q covers the test which generate 1.0 =1 predicate in partition pruner. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 23:20:28 +0000</created>
                <updated>Wed, 2 Apr 2014 03:45:57 +0000</updated>
                            <resolved>Wed, 2 Apr 2014 03:45:49 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13956022" author="hsubramaniyan" created="Tue, 1 Apr 2014 02:15:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13956869" author="jnp" created="Tue, 1 Apr 2014 18:33:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13957263" author="hiveqa" created="Wed, 2 Apr 2014 02:23:09 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637977/HIVE-6778.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637977/HIVE-6778.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5539 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_dyn_part
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2073/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2073/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2073/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2073/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637977&lt;/p&gt;</comment>
                            <comment id="13957301" author="rhbutani" created="Wed, 2 Apr 2014 03:32:04 +0000"  >&lt;p&gt;this failure is not related.&lt;br/&gt;
Ran locally and validated that the test passes.&lt;/p&gt;</comment>
                            <comment id="13957305" author="rhbutani" created="Wed, 2 Apr 2014 03:45:49 +0000"  >&lt;p&gt;Committed to trunk and 0.13&lt;br/&gt;
thanks Hari, Jitendra for reviewing&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12701113">HIVE-6642</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12637977" name="HIVE-6778.1.patch" size="6702" author="rhbutani" created="Tue, 1 Apr 2014 02:00:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Apr 2014 18:33:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382726</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6779] Hive cli may get into inconsistent state when Ctrl-C is hit on hadoop2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6779</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12704393">HIVE-6779</key>
            <summary>Hive cli may get into inconsistent state when Ctrl-C is hit on hadoop2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 23:40:22 +0000</created>
                <updated>Mon, 31 Mar 2014 22:36:35 +0000</updated>
                            <resolved>Mon, 31 Mar 2014 22:36:35 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Diagnosability</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13951598" author="ashutoshc" created="Fri, 28 Mar 2014 23:45:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/19810/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/19810/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13951775" author="hiveqa" created="Sat, 29 Mar 2014 05:50:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637573/HIVE-6779.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637573/HIVE-6779.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5502 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2027/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2027/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2027/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2027/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637573&lt;/p&gt;</comment>
                            <comment id="13955537" author="ashutoshc" created="Mon, 31 Mar 2014 19:02:16 +0000"  >&lt;p&gt;To add more context: Important part of patch is removal of interrupting of main thread for SignalHandler. In hadop-1 java io with sockets were used to communicate between client and server. So, interrupting main thread wasn&apos;t an issue. However,  Hadoop-2 uses java nio based interruptible channels, which throws up if current thread is interrupted. &lt;/p&gt;</comment>
                            <comment id="13955695" author="jdere" created="Mon, 31 Mar 2014 20:46:33 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13955824" author="ashutoshc" created="Mon, 31 Mar 2014 22:36:35 +0000"  >&lt;p&gt;Committed to trunk &amp;amp; 0.13&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637573" name="HIVE-6779.patch" size="2233" author="ashutoshc" created="Fri, 28 Mar 2014 23:41:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 29 Mar 2014 05:50:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382727</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6780] Set tez credential file property along with MR conf property for Tez jobs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6780</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;webhcat should set the additional property - &quot;tez.credentials.path&quot; to the same value as the MapReduce property.&lt;br/&gt;
WebHCat should always proactively set this tez.credentials.path property to the same value and in the same cases where it is setting the MR equivalent property.&lt;br/&gt;
NO PRECOMMIT TESTS&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704395">HIVE-6780</key>
            <summary>Set tez credential file property along with MR conf property for Tez jobs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ekoifman">Eugene Koifman</assignee>
                                    <reporter username="ekoifman">Eugene Koifman</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Mar 2014 00:01:33 +0000</created>
                <updated>Fri, 11 Apr 2014 18:20:03 +0000</updated>
                            <resolved>Wed, 2 Apr 2014 21:18:43 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13951627" author="ekoifman" created="Sat, 29 Mar 2014 00:05:26 +0000"  >&lt;p&gt;NO PRECOMMIT TESTS&lt;/p&gt;</comment>
                            <comment id="13951672" author="thejas" created="Sat, 29 Mar 2014 01:18:41 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13956258" author="thejas" created="Tue, 1 Apr 2014 08:43:33 +0000"  >&lt;p&gt;This needs rebasing post &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6546&quot; title=&quot;WebHCat job submission for pig with -useHCatalog argument fails on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6546&quot;&gt;&lt;del&gt;HIVE-6546&lt;/del&gt;&lt;/a&gt; . We should probably include similar fix for the new param as well. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; Can you please take a look ?&lt;/p&gt;</comment>
                            <comment id="13957050" author="ekoifman" created="Tue, 1 Apr 2014 21:48:33 +0000"  >&lt;p&gt;rebased and addressed Thejas&apos; comments&lt;/p&gt;</comment>
                            <comment id="13957086" author="thejas" created="Tue, 1 Apr 2014 22:21:03 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13958175" author="thejas" created="Wed, 2 Apr 2014 21:08:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; It will be very useful to have this bug fix in 0.13, it is needed to get tez jobs from webhcat working.&lt;/p&gt;</comment>
                            <comment id="13958177" author="rhbutani" created="Wed, 2 Apr 2014 21:09:56 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13958184" author="thejas" created="Wed, 2 Apr 2014 21:18:43 +0000"  >&lt;p&gt;Patch committed to 0.13 branch and trunk.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12708001">HIVE-6896</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12638136" name="HIVE-6780.2.patch" size="5371" author="ekoifman" created="Tue, 1 Apr 2014 21:48:33 +0000"/>
                            <attachment id="12637580" name="HIVE-6780.patch" size="5415" author="ekoifman" created="Sat, 29 Mar 2014 00:05:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 29 Mar 2014 01:18:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382729</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6781] Hive JDBC in http mode is using HiveConf - should be removed </title>
                <link>https://issues.apache.org/jira/browse/HIVE-6781</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This change is needed so that in unsecured mode, the jdbc driver does not depend on HiveConf which is derived from hadoop&apos;s Configuration class, continue being a thin client. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12704400">HIVE-6781</key>
            <summary>Hive JDBC in http mode is using HiveConf - should be removed </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vgumashta">Vaibhav Gumashta</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Mar 2014 00:39:07 +0000</created>
                <updated>Sun, 30 Mar 2014 23:46:22 +0000</updated>
                            <resolved>Sun, 30 Mar 2014 23:46:22 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13951651" author="vgumashta" created="Sat, 29 Mar 2014 00:52:56 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Minor patch.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; Bug for 13!&lt;/p&gt;</comment>
                            <comment id="13954529" author="thejas" created="Sun, 30 Mar 2014 00:33:18 +0000"  >&lt;p&gt;+1&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; It will be very useful to have this patch in 0.13. Otherwise, we will need to add hadoop as a dependency for jdbc applications, even for the unsecure mode.&lt;/p&gt;</comment>
                            <comment id="13954627" author="hiveqa" created="Sun, 30 Mar 2014 09:14:28 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637586/HIVE-6781.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637586/HIVE-6781.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5502 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_parallel_orderby
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2042/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2042/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2042/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2042/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637586&lt;/p&gt;</comment>
                            <comment id="13954738" author="rhbutani" created="Sun, 30 Mar 2014 16:28:43 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13954873" author="thejas" created="Sun, 30 Mar 2014 23:46:22 +0000"  >&lt;p&gt;Patch committed to 0.13 branch and trunk.&lt;br/&gt;
Thanks for the contribution Vaibhav!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637586" name="HIVE-6781.1.patch" size="1977" author="vgumashta" created="Sat, 29 Mar 2014 00:52:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 30 Mar 2014 00:33:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382734</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6782] HiveServer2Concurrency issue when running with tez intermittently, throwing &quot;org.apache.tez.dag.api.SessionNotRunning: Application not running&quot; error</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6782</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveServer2 concurrency is failing intermittently when using tez, throwing &quot;org.apache.tez.dag.api.SessionNotRunning: Application not running&quot; error&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704402">HIVE-6782</key>
            <summary>HiveServer2Concurrency issue when running with tez intermittently, throwing &quot;org.apache.tez.dag.api.SessionNotRunning: Application not running&quot; error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Mar 2014 01:05:23 +0000</created>
                <updated>Thu, 13 Nov 2014 19:41:26 +0000</updated>
                            <resolved>Tue, 8 Apr 2014 18:36:25 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                    <fixVersion>0.14.0</fixVersion>
                                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13951711" author="hagleitn" created="Sat, 29 Mar 2014 02:29:28 +0000"  >&lt;p&gt;I think for hive 13 it&apos;d be safer to just do what MR does and set the perms to 777 on the root folder. We should open a ticket for the next release though to do the proper fix (since it involves changing config vars we might have to keep 2 ways for a release or so). Thoughts?&lt;/p&gt;</comment>
                            <comment id="13951719" author="vikram.dixit" created="Sat, 29 Mar 2014 02:48:20 +0000"  >&lt;p&gt;Address Gunther&apos;s comments. Going with the simpler approach.&lt;/p&gt;</comment>
                            <comment id="13951854" author="hiveqa" created="Sat, 29 Mar 2014 11:34:27 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637599/HIVE-6782.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637599/HIVE-6782.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5502 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2029/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2029/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2029/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2029/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637599&lt;/p&gt;</comment>
                            <comment id="13958486" author="vikram.dixit" created="Thu, 3 Apr 2014 03:27:57 +0000"  >&lt;p&gt;Latest iteration fixes more concurrency issues.&lt;/p&gt;</comment>
                            <comment id="13958555" author="vikram.dixit" created="Thu, 3 Apr 2014 06:28:02 +0000"  >&lt;p&gt;Missed a file.&lt;/p&gt;</comment>
                            <comment id="13959551" author="vikram.dixit" created="Fri, 4 Apr 2014 01:55:49 +0000"  >&lt;p&gt;Some unit tests are failing.&lt;/p&gt;</comment>
                            <comment id="13959905" author="hiveqa" created="Fri, 4 Apr 2014 12:24:27 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638617/HIVE-6782.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638617/HIVE-6782.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5546 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testGetNonDefaultSession
org.apache.hive.service.cli.thrift.TestThriftBinaryCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2109/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2109/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2109/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2109/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638617&lt;/p&gt;</comment>
                            <comment id="13960491" author="hiveqa" created="Fri, 4 Apr 2014 22:11:24 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638746/HIVE-6782.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638746/HIVE-6782.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5546 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2116/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2116/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2116/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2116/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638746&lt;/p&gt;</comment>
                            <comment id="13960553" author="vikram.dixit" created="Fri, 4 Apr 2014 23:09:22 +0000"  >&lt;p&gt;Addressed review comments.&lt;/p&gt;</comment>
                            <comment id="13960815" author="vikram.dixit" created="Fri, 4 Apr 2014 23:56:55 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6847&quot; title=&quot;Improve / fix bugs in Hive scratch dir setup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6847&quot;&gt;&lt;del&gt;HIVE-6847&lt;/del&gt;&lt;/a&gt; for longer term fix.&lt;/p&gt;</comment>
                            <comment id="13960915" author="vikram.dixit" created="Sat, 5 Apr 2014 02:14:43 +0000"  >&lt;p&gt;Address review comments.&lt;/p&gt;</comment>
                            <comment id="13960930" author="thejas" created="Sat, 5 Apr 2014 02:37:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13960939" author="rhbutani" created="Sat, 5 Apr 2014 03:04:43 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13961180" author="hiveqa" created="Sat, 5 Apr 2014 17:42:41 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638827/HIVE-6782.8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638827/HIVE-6782.8.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5547 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2128/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2128/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2128/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2128/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638827&lt;/p&gt;</comment>
                            <comment id="13962247" author="vikram.dixit" created="Mon, 7 Apr 2014 20:59:24 +0000"  >&lt;p&gt;Fix the case where a tez session is launched without a query.&lt;/p&gt;</comment>
                            <comment id="13962315" author="thejas" created="Mon, 7 Apr 2014 22:01:21 +0000"  >&lt;p&gt;+1 to the update as well.&lt;/p&gt;</comment>
                            <comment id="13962339" author="vikram.dixit" created="Mon, 7 Apr 2014 22:30:39 +0000"  >&lt;p&gt;Needed rebase after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6739&quot; title=&quot;Hive HBase query fails on Tez due to missing jars and then due to NPE in getSplits&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6739&quot;&gt;&lt;del&gt;HIVE-6739&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13962554" author="lefty@hortonworks.com" created="Tue, 8 Apr 2014 03:42:19 +0000"  >&lt;p&gt;This adds &lt;b&gt;hive.localize.resource.wait.interval&lt;/b&gt; and &lt;b&gt;hive.localize.resource.num.wait.attempts&lt;/b&gt; to HiveConf.java.&lt;/p&gt;

&lt;p&gt;They need descriptions in hive-default.xml.template or in a release note (since hive-default.xml.template will be generated from the new HiveConf.java after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; gets committed). When the time comes, I&apos;ll add them to the post-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; list (in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6586&quot; title=&quot;Update parameters in HiveConf.java after commit HIVE-6037&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6586&quot;&gt;&lt;del&gt;HIVE-6586&lt;/del&gt;&lt;/a&gt;) and put them in the Configuration Properties wikidoc.&lt;/p&gt;</comment>
                            <comment id="13962677" author="vikram.dixit" created="Tue, 8 Apr 2014 07:49:20 +0000"  >&lt;p&gt;Address Lefty&apos;s comment.&lt;/p&gt;</comment>
                            <comment id="13962726" author="hiveqa" created="Tue, 8 Apr 2014 09:08:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12639082/HIVE-6782.10.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12639082/HIVE-6782.10.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5549 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2171/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2171/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2171/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2171/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12639082&lt;/p&gt;</comment>
                            <comment id="13962778" author="hiveqa" created="Tue, 8 Apr 2014 11:11:04 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12639155/HIVE-6782.11.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12639155/HIVE-6782.11.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5549 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2172/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2172/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2172/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2172/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12639155&lt;/p&gt;</comment>
                            <comment id="13963287" author="vikram.dixit" created="Tue, 8 Apr 2014 18:36:25 +0000"  >&lt;p&gt;Committed to both trunk and branch-0.13&lt;/p&gt;</comment>
                            <comment id="14048650" author="lefty@hortonworks.com" created="Tue, 1 Jul 2014 08:44:58 +0000"  >&lt;p&gt;&lt;b&gt;hive.localize.resource.wait.interval&lt;/b&gt; &amp;amp; &lt;b&gt;hive.localize.resource.num.wait.attempts&lt;/b&gt; are documented in the wiki here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.localize.resource.wait.interval&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; Tez &amp;#8211; hive.localize.resource.wait.interval &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.localize.resource.num.wait.attempts&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; Tez &amp;#8211; hive.localize.resource.num.wait.attempts &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I also added a comment to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6586&quot; title=&quot;Update parameters in HiveConf.java after commit HIVE-6037&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6586&quot;&gt;&lt;del&gt;HIVE-6586&lt;/del&gt;&lt;/a&gt; so they won&apos;t get lost in the shuffle when &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; changes HiveConf.java.&lt;/p&gt;</comment>
                            <comment id="14210555" author="thejas" created="Thu, 13 Nov 2014 19:41:26 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12709928">HIVE-6962</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12637594" name="HIVE-6782.1.patch" size="19381" author="vikram.dixit" created="Sat, 29 Mar 2014 01:13:59 +0000"/>
                            <attachment id="12639082" name="HIVE-6782.10.patch" size="24674" author="vikram.dixit" created="Mon, 7 Apr 2014 22:30:39 +0000"/>
                            <attachment id="12639155" name="HIVE-6782.11.patch" size="25370" author="vikram.dixit" created="Tue, 8 Apr 2014 07:49:20 +0000"/>
                            <attachment id="12637599" name="HIVE-6782.2.patch" size="3825" author="vikram.dixit" created="Sat, 29 Mar 2014 02:48:20 +0000"/>
                            <attachment id="12638404" name="HIVE-6782.3.patch" size="20807" author="vikram.dixit" created="Thu, 3 Apr 2014 03:27:57 +0000"/>
                            <attachment id="12638432" name="HIVE-6782.4.patch" size="21321" author="vikram.dixit" created="Thu, 3 Apr 2014 06:28:02 +0000"/>
                            <attachment id="12638617" name="HIVE-6782.5.patch" size="21727" author="vikram.dixit" created="Fri, 4 Apr 2014 02:35:17 +0000"/>
                            <attachment id="12638746" name="HIVE-6782.6.patch" size="23112" author="vikram.dixit" created="Fri, 4 Apr 2014 19:07:26 +0000"/>
                            <attachment id="12638801" name="HIVE-6782.7.patch" size="23455" author="vikram.dixit" created="Fri, 4 Apr 2014 23:48:30 +0000"/>
                            <attachment id="12638827" name="HIVE-6782.8.patch" size="24133" author="vikram.dixit" created="Sat, 5 Apr 2014 02:14:43 +0000"/>
                            <attachment id="12639059" name="HIVE-6782.9.patch" size="24375" author="vikram.dixit" created="Mon, 7 Apr 2014 20:59:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 29 Mar 2014 02:29:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6783] Incompatible schema for maps between parquet-hive and parquet-pig</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6783</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;see also in following parquet issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/Parquet/parquet-mr/issues/290&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/Parquet/parquet-mr/issues/290&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The schema written for maps isn&apos;t compatible between hive and pig. This means any files written in one cannot be properly read in the other.&lt;/p&gt;

&lt;p&gt;More specifically,  for the same map column c1, parquet-pig generates schema:&lt;/p&gt;

&lt;p&gt;message pig_schema {&lt;br/&gt;
  optional group c1 (MAP) {&lt;br/&gt;
    repeated group map (MAP_KEY_VALUE) &lt;/p&gt;
{
      required binary key (UTF8);
      optional binary value;
    }
&lt;p&gt;   &lt;br/&gt;
  }&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;while parquet-hive generates schema:&lt;br/&gt;
message hive_schema {&lt;br/&gt;
   optional group c1 (MAP_KEY_VALUE) {&lt;br/&gt;
     repeated group map &lt;/p&gt;
{
       required binary key;
       optional binary value;
   }
&lt;p&gt; }&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704406">HIVE-6783</key>
            <summary>Incompatible schema for maps between parquet-hive and parquet-pig</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tongjie">Tongjie Chen</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Mar 2014 02:16:08 +0000</created>
                <updated>Mon, 9 Jun 2014 06:39:39 +0000</updated>
                            <resolved>Wed, 2 Apr 2014 21:57:57 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                    <fixVersion>0.13.1</fixVersion>
                                    <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13951776" author="tongjie" created="Sat, 29 Mar 2014 05:55:15 +0000"  >&lt;p&gt;this patch will correctly convert hive map type (consistent with Pig map)&lt;/p&gt;</comment>
                            <comment id="13954269" author="hiveqa" created="Sat, 29 Mar 2014 14:28:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637609/HIVE-6783.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637609/HIVE-6783.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5503 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2031/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2031/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2031/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2031/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637609&lt;/p&gt;</comment>
                            <comment id="13954288" author="brocknoland" created="Sat, 29 Mar 2014 15:30:17 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;The patch has tabs where as Hive requires two spaces. Can you fix that and then put a Review Board item up? (reviews.apache.org)&lt;/p&gt;

&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcoffey&quot; class=&quot;user-hover&quot; rel=&quot;jcoffey&quot;&gt;Justin Coffey&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13954294" author="brocknoland" created="Sat, 29 Mar 2014 15:37:52 +0000"  >&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13954375" author="tongjie" created="Sat, 29 Mar 2014 18:14:52 +0000"  >&lt;p&gt;remove tab and clean up some format&lt;/p&gt;</comment>
                            <comment id="13954387" author="tongjie" created="Sat, 29 Mar 2014 18:41:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/19825/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/19825/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13954543" author="hiveqa" created="Sun, 30 Mar 2014 01:33:01 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637662/HIVE-6783.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637662/HIVE-6783.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5503 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.jdbc.TestJdbcDriver2.testNewConnectionConfiguration
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2036/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2036/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2036/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2036/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637662&lt;/p&gt;</comment>
                            <comment id="13954548" author="tongjie" created="Sun, 30 Mar 2014 02:07:18 +0000"  >&lt;p&gt;Hmm, why formatting code would cause one previously passed test to fail. The failure is related to jdbc, which is unrelated at all.&lt;/p&gt;

&lt;p&gt;Is that transient error?&lt;/p&gt;</comment>
                            <comment id="13954940" author="szehon" created="Mon, 31 Mar 2014 04:46:15 +0000"  >&lt;p&gt;Hi Tongjie yea it looks like a transient error, a few pre commit builds around that time also failed with same failure.&lt;/p&gt;

&lt;p&gt;About this patch, my question is, will it affect backward compatibility of reading existing stored maps in hive-parquet?&lt;/p&gt;</comment>
                            <comment id="13955563" author="tongjie" created="Mon, 31 Mar 2014 19:25:27 +0000"  >&lt;p&gt;I think it should be backward compatible, I am able to read existing stored maps with this fix.&lt;/p&gt;</comment>
                            <comment id="13955782" author="szehon" created="Mon, 31 Mar 2014 22:06:26 +0000"  >&lt;p&gt;Thanks, that is my only concern to not break existing stored maps, I&apos;m ok if thats the case.  Although I wonder, it would seem pig should be able to read hive&apos;s maps if that is the case, because we are using pig&apos;s schema now to read?  Or is there some difference there?&lt;/p&gt;</comment>
                            <comment id="13955845" author="tongjie" created="Mon, 31 Mar 2014 22:56:52 +0000"  >&lt;p&gt;The fix presented in this jira is to tag map type with the appropriate OriginalType.&lt;/p&gt;

&lt;p&gt;The reason hive is backward compatible is that when parquet-hive converts parquet fields map.key and map.value back to hive map column, it does not check MAP_KEY_VALUE OriginalType.  Also, the equals method of GroupType does not check OriginalType at all, hence hive_schema and pig_schema shown in description section are treated as equal (the only different is OriginalType).&lt;/p&gt;

&lt;p&gt;However, parquet-pig&apos;s PigSchemaConverter checks to make sure map&apos;s OriginalType is of correct type, hence it breaks when it reads Hive&apos;s map.&lt;/p&gt;

&lt;p&gt;With the fix, pig now can read hive&apos;s map since hive converts it right.&lt;/p&gt;</comment>
                            <comment id="13955851" author="szehon" created="Mon, 31 Mar 2014 23:00:21 +0000"  >&lt;p&gt;Thanks looks good to me.  + &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13956820" author="xuefuz" created="Tue, 1 Apr 2014 17:53:04 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13958229" author="xuefuz" created="Wed, 2 Apr 2014 21:57:30 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks to Tongjie for the contribution.&lt;/p&gt;

&lt;p&gt;BTW, it seems that you&apos;re not in the contributor list so I&apos;m not able to assign this JIRA to your credit. You might request this on dev email list.&lt;/p&gt;</comment>
                            <comment id="13972122" author="szehon" created="Thu, 17 Apr 2014 00:12:43 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt;, the Parquet community is wondering if this can be also in 0.13.1, or some release of 0.13?  That would be helpful , as this fixes parquet format compatibility between hive and pig.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13995680" author="sushanth" created="Mon, 12 May 2014 21:47:12 +0000"  >&lt;p&gt;(Btw, to be explicit, this has been accepted for inclusion in 0.13.1, and will be part of it)&lt;/p&gt;</comment>
                            <comment id="14021693" author="thejas" created="Mon, 9 Jun 2014 06:39:39 +0000"  >&lt;p&gt;This jira has been fixed as part of 0.13.1 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637609" name="HIVE-6783.1.patch.txt" size="3268" author="tongjie" created="Sat, 29 Mar 2014 05:55:15 +0000"/>
                            <attachment id="12637660" name="HIVE-6783.2.patch.txt" size="3284" author="tongjie" created="Sat, 29 Mar 2014 18:14:52 +0000"/>
                            <attachment id="12637661" name="HIVE-6783.3.patch.txt" size="3282" author="tongjie" created="Sat, 29 Mar 2014 18:32:42 +0000"/>
                            <attachment id="12637662" name="HIVE-6783.4.patch.txt" size="3280" author="tongjie" created="Sat, 29 Mar 2014 18:36:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 29 Mar 2014 14:28:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txtr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6784] parquet-hive should allow column type change</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6784</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;see also in the following parquet issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/Parquet/parquet-mr/issues/323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/Parquet/parquet-mr/issues/323&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Currently, if we change parquet format hive table using &quot;alter table parquet_table change c1 c1 bigint &quot; ( assuming original type of c1 is int), it will result in exception thrown from SerDe: &quot;org.apache.hadoop.io.IntWritable cannot be cast to org.apache.hadoop.io.LongWritable&quot; in query runtime.&lt;/p&gt;

&lt;p&gt;This is different behavior from hive (using other file format), where it will try to perform cast (null value in case of incompatible type).&lt;/p&gt;

&lt;p&gt;Parquet Hive&apos;s RecordReader returns an ArrayWritable (based on schema stored in footers of parquet files); ParquetHiveSerDe also creates an corresponding ArrayWritableObjectInspector (but using column type info from metastore). Whenever there is column type change, the objector inspector will throw exception, since WritableLongObjectInspector cannot inspect an IntWritable etc...&lt;/p&gt;

&lt;p&gt;Conversion has to happen somewhere if we want to allow type change. SerDe&apos;s deserialize method seems a natural place for it.&lt;/p&gt;

&lt;p&gt;Currently, serialize method calls createStruct (then createPrimitive) for every record, but it creates a new object regardless, which seems expensive. I think that could be optimized a bit by just returning the object passed if already of the right type. deserialize also reuse this method, if there is a type change, there will be new object to be created, which I think is inevitable. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12704408">HIVE-6784</key>
            <summary>parquet-hive should allow column type change</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tongjie">Tongjie Chen</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Mar 2014 02:25:54 +0000</created>
                <updated>Mon, 12 Oct 2015 03:50:42 +0000</updated>
                            <resolved>Sat, 12 Apr 2014 00:29:22 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>File Formats</component>
                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13954289" author="brocknoland" created="Sat, 29 Mar 2014 15:31:15 +0000"  >&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcoffey&quot; class=&quot;user-hover&quot; rel=&quot;jcoffey&quot;&gt;Justin Coffey&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13954290" author="brocknoland" created="Sat, 29 Mar 2014 15:31:36 +0000"  >&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13960421" author="tongjie" created="Fri, 4 Apr 2014 21:04:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/20048/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/20048/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13961205" author="tongjie" created="Sat, 5 Apr 2014 19:02:02 +0000"  >&lt;p&gt;add a new qtest for changing type&lt;/p&gt;</comment>
                            <comment id="13961358" author="hiveqa" created="Sun, 6 Apr 2014 09:34:11 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638877/HIVE-6784.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638877/HIVE-6784.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5550 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2147/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2147/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2147/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2147/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638877&lt;/p&gt;</comment>
                            <comment id="13965279" author="jcoffey" created="Thu, 10 Apr 2014 12:02:22 +0000"  >&lt;p&gt;-1 on this patch.&lt;/p&gt;

&lt;p&gt;Looping on the arraywriteable in deserialize() will cause a performance penalty at read time, and running parseXxxx(obj.toString) in the event of a type mismatch is also painful.&lt;/p&gt;

&lt;p&gt;Changing types of columns is a rare event, we shouldn&apos;t write code that will cause performance penalties to handle it.  Users should recreate the table with the new type and load it from the old table casting and converting as appropriate in their query.&lt;/p&gt;</comment>
                            <comment id="13965702" author="tongjie" created="Thu, 10 Apr 2014 19:05:16 +0000"  >&lt;p&gt;Not allowing changing types of columns would be negative for adopting parquet &amp;#8212; at least this is a different behavior from using other file format. &lt;/p&gt;

&lt;p&gt;Regarding performance penalty, &lt;/p&gt;

&lt;p&gt;1) if you look at current implementation of LazyInteger, LayzLong etc (from LazySimpleSerDe, in package org.apache.hadoop.hive.serde2.lazy), they try to parseInt, parseLong for every column (all initially represented as string, the parsing overhead occurs even if the type is expected).  This is how hive achieves change types of columns (&quot;schema on read&quot;);  in another word, the similar performance penalty is already there for other SerDe in order to achieve &quot;schema on read&quot;.&lt;/p&gt;

&lt;p&gt;  /** &lt;br/&gt;
   *Parses the string argument as if it was an int value and returns the&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;result. Throws NumberFormatException if the string does not represent an&lt;/li&gt;
	&lt;li&gt;int quantity.&lt;br/&gt;
   ...&lt;br/&gt;
    public static int parseInt(byte[] bytes, int start, int length, int radix) {&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;   /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Parses the string argument as if it was a long value and returns the&lt;/li&gt;
	&lt;li&gt;result. Throws NumberFormatException if the string does not represent a&lt;/li&gt;
	&lt;li&gt;long quantity.&lt;br/&gt;
   ....&lt;br/&gt;
   public static long parseLong(byte[] bytes, int start, int length, int radix) {&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;2) In he patch for this jira, the extra overhead is to list the top level element of ArrayWritable to inspect whether there is a type change or not. A new converted object is created ONLY IF the type is changed.&lt;/p&gt;

&lt;p&gt;    I agree that there would be some overhead to list the element of ArrayWritable, but it is a tradeoff.&lt;/p&gt;

&lt;p&gt;3) The patch in this jira would actually help performance when serializing (in time of writing) ArrayWritable. The old approach is to create a new object for every single writable element; with this patch, it only creates new a new object when there is type change.&lt;/p&gt;
</comment>
                            <comment id="13966341" author="jcoffey" created="Fri, 11 Apr 2014 08:50:41 +0000"  >&lt;p&gt;You&apos;ve cited a &quot;lazy&quot; serde.  Parquet is not &quot;lazy&quot;.  It is similar to ORC.&lt;/p&gt;

&lt;p&gt;Have a look ORC&apos;s deserialize() method (org.apache.hadoop.hive.ql.io.orc.OrcSerde):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; deserialize(Writable writable) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; SerDeException {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; writable;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A quick look through ORC code indicates to me that they don&apos;t do any reparsing (though I might have missed something).&lt;/p&gt;

&lt;p&gt;Looking through other serde&apos;s not a single one (that I checked) reparses values.  Value parsing is handled in ObjectInspectors (poke around org.apache.hadoop.hive.serde2.objectinspector.primitive.PrimitiveObjectInspectorUtils).&lt;/p&gt;

&lt;p&gt;In my opinion, the &lt;b&gt;substantial&lt;/b&gt; performance penalty that you are introducing with this patch is going to be a much bigger negative to adopting parquet than obliging people to rebuild their data set in the rare event that you have to change a type.&lt;/p&gt;

&lt;p&gt;And if you do need to change a type, insert overwrite table is a good work around.&lt;/p&gt;

&lt;p&gt;-1&lt;/p&gt;</comment>
                            <comment id="13967292" author="tongjie" created="Sat, 12 Apr 2014 00:29:02 +0000"  >&lt;p&gt;OK, I will cancel this patch.&lt;/p&gt;

&lt;p&gt;The exception raised from changing type actually only happens to non-partitioned tables.  For partitioned tables, if there is type change in table level, there will be an ObjectInspectorConverter (in parquet&apos;s case &amp;#8212; StructConverter) to convert type between partition and table. For non-partitioned tables, the ObjectInspectorConverter is always IdentityConverter, which passes the deserialized object as it is, causing type mismatch between object and ObjectInspector.&lt;/p&gt;

&lt;p&gt;For now, we can live with the workaround (insert overwrite table) given that it is only affecting non-partitioned tables and relatively rare.&lt;/p&gt;

</comment>
                            <comment id="14094075" author="wzc1989" created="Tue, 12 Aug 2014 14:07:18 +0000"  >&lt;p&gt;@ &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tongjie&quot; class=&quot;user-hover&quot; rel=&quot;tongjie&quot;&gt;Tongjie Chen&lt;/a&gt; ,&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The exception raised from changing type actually only happens to non-partitioned tables. For partitioned tables, if there is type change in table level, there will be an ObjectInspectorConverter (in parquet&apos;s case &#8212; StructConverter) to convert type between partition and table. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve test changing type with parquet partitioned table in hive 0.13 and found that this issue also existed in partitioned tables.  After changing type, when I query old partition data, it would throw following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; Cannot inspect java.util.ArrayList
        at org.apache.hadoop.hive.ql.io.parquet.serde.ArrayWritableObjectInspector.getStructFieldData(ArrayWritableObjectInspector.java:139)
        at org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector.getStructFieldData(UnionStructObjectInspector.java:135)
        at org.apache.hadoop.hive.serde2.SerDeUtils.buildJSONString(SerDeUtils.java:349)
        at org.apache.hadoop.hive.serde2.SerDeUtils.getJSONString(SerDeUtils.java:193)
        at org.apache.hadoop.hive.serde2.SerDeUtils.getJSONString(SerDeUtils.java:179)
        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:545)
        at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.map(ExecMapper.java:177)
        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:54)
        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:429)
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)
        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:162)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:415)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1491)
        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:157)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="14094118" author="tongjie" created="Tue, 12 Aug 2014 14:49:25 +0000"  >&lt;p&gt;if you backport this jira, it will be OK.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6785&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-6785&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14211051" author="thejas" created="Thu, 13 Nov 2014 19:43:52 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12903872">HIVE-12080</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12638763" name="HIVE-6784.1.patch.txt" size="11394" author="tongjie" created="Fri, 4 Apr 2014 20:55:43 +0000"/>
                            <attachment id="12638877" name="HIVE-6784.2.patch.txt" size="18595" author="tongjie" created="Sat, 5 Apr 2014 19:02:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 29 Mar 2014 15:31:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382742</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383010</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6785] query fails when partitioned table&apos;s table level serde is ParquetHiveSerDe and partition level serde is of different SerDe</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6785</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When a hive table&apos;s SerDe is ParquetHiveSerDe, while some partitions are of other SerDe, AND if this table has string column&lt;span class=&quot;error&quot;&gt;&amp;#91;s&amp;#93;&lt;/span&gt;, hive generates confusing error message:&lt;/p&gt;

&lt;p&gt;&quot;Failed with exception java.io.IOException:java.lang.ClassCastException: parquet.hive.serde.primitive.ParquetStringInspector cannot be cast to org.apache.hadoop.hive.serde2.objectinspector.primitive.SettableTimestampObjectInspector&quot;&lt;/p&gt;

&lt;p&gt;This is confusing because timestamp is mentioned even if it is not been used by the table. The reason is when there is SerDe difference between table and partition, hive tries to convert objectinspector of two SerDes. ParquetHiveSerDe&apos;s object inspector for string type is ParquetStringInspector (newly introduced), neither a subclass of WritableStringObjectInspector nor JavaStringObjectInspector, which ObjectInspectorConverters expect for string category objector inspector. There is no break statement in STRING case statement, hence the following TIMESTAMP case statement is executed, generating confusing error message.&lt;/p&gt;

&lt;p&gt;see also in the following parquet issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/Parquet/parquet-mr/issues/324&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/Parquet/parquet-mr/issues/324&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To fix that it is relatively easy, just make ParquetStringInspector subclass of JavaStringObjectInspector instead of AbstractPrimitiveJavaObjectInspector. But because constructor of class JavaStringObjectInspector is package scope instead of public or protected, we would need to move ParquetStringInspector to the same package with JavaStringObjectInspector.&lt;/p&gt;

&lt;p&gt;Also ArrayWritableObjectInspector&apos;s setStructFieldData needs to also accept List data, since the corresponding setStructFieldData and create methods return a list. This is also needed when table SerDe is ParquetHiveSerDe, and partition SerDe is something else.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12704409">HIVE-6785</key>
            <summary>query fails when partitioned table&apos;s table level serde is ParquetHiveSerDe and partition level serde is of different SerDe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tongjie">Tongjie Chen</assignee>
                                    <reporter username="tongjie">Tongjie Chen</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Mar 2014 02:32:32 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:11 +0000</updated>
                            <resolved>Sun, 27 Apr 2014 18:49:14 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>File Formats</component>
                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13954291" author="brocknoland" created="Sat, 29 Mar 2014 15:32:09 +0000"  >&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcoffey&quot; class=&quot;user-hover&quot; rel=&quot;jcoffey&quot;&gt;Justin Coffey&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13957258" author="tongjie" created="Wed, 2 Apr 2014 02:10:27 +0000"  >&lt;p&gt;This patch involves deleting file and adding new files (mv),  and there is no instruction to delete/add if using git in &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HowToContribute&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HowToContribute&lt;/a&gt;; however my patch is using git diff, if that does not work, I will resubmit a patch using svn.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/19896/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/19896/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13957453" author="szehon" created="Wed, 2 Apr 2014 08:19:59 +0000"  >&lt;p&gt;Shouldn&apos;t need to use svn for that, you can try &apos;git add&apos;/ &apos;git rm&apos;.  &lt;/p&gt;

&lt;p&gt;I left couple comments on the rb for consideration.  Also when you are ready, click &apos;submit patch&apos; to trigger the pre commit test.&lt;/p&gt;</comment>
                            <comment id="13957992" author="szehon" created="Wed, 2 Apr 2014 18:24:25 +0000"  >&lt;p&gt;In my opinion, it is better to change the javastringobjectinspector&apos;s Ctor to protected , so we can keep all the parquet inspector in the same package.&lt;/p&gt;

&lt;p&gt;Also it would be good to add a q-test for this case. You can write one following the example of &quot;parquet_create.q&quot; and then generate and verify the result using the following command (maven version) on your q-test file: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ#HiveDeveloperFAQ-HowdoupdatetheoutputofaCliDrivertestcase?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ#HiveDeveloperFAQ-HowdoupdatetheoutputofaCliDrivertestcase?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13958010" author="tongjie" created="Wed, 2 Apr 2014 18:37:56 +0000"  >&lt;p&gt;If we change javastringobjectinspector&apos;s Ctor to be protected, that should work fine for 0.13.   But when we backport this jira to parquet-hive, it will break unless we also make the same change in hive 0.12 and hive 0.10, right?&lt;/p&gt;</comment>
                            <comment id="13958043" author="szehon" created="Wed, 2 Apr 2014 19:05:39 +0000"  >&lt;p&gt;Yea thats right, do you think it would be a huge issue though if its a hive 0.13 only fix?&lt;/p&gt;</comment>
                            <comment id="13958054" author="tongjie" created="Wed, 2 Apr 2014 19:11:24 +0000"  >&lt;p&gt;The only issue I see is that parquet-hive cannot backport this jira.&lt;/p&gt;</comment>
                            <comment id="13958074" author="szehon" created="Wed, 2 Apr 2014 19:27:33 +0000"  >&lt;p&gt;OK I&apos;m not a huge fan of moving that inspector to a unnatural place because it will be stuck like that going forward in hive, but we can let others also chime in.  &lt;/p&gt;

&lt;p&gt;If its really important to support for earlier hive, maybe one option is to back-port a different version of the patch into parquet?&lt;/p&gt;</comment>
                            <comment id="13958081" author="tongjie" created="Wed, 2 Apr 2014 19:33:41 +0000"  >&lt;p&gt;If we can be flexible by back-porting a different version of the patch into parquet-hive, that would be great!&lt;/p&gt;

&lt;p&gt;I like to keep parquet related stuff in parquet package as well.&lt;/p&gt;</comment>
                            <comment id="13961231" author="tongjie" created="Sat, 5 Apr 2014 20:42:30 +0000"  >&lt;p&gt;When I add a qtest, I realized that this bug is resolved with this patch in hive-trunk. But it is still a bug in Hive-0.11 now.&lt;/p&gt;

&lt;p&gt;Digging a little bit, I found that when Partition SerDe and Table SerDe are different, hive 0.11 would try to convert object inspector as long as they are not equals; however, in hive-trunk (0.13 or 0.14), if output ObjectInspector&apos;s all fields are all settable, there is no conversion happening, hence the bug presented in this jira does not show in hive-trunk any more.&lt;/p&gt;

&lt;p&gt;However, I do think that ParquetStringInspector should be subclass of JavaStringObjectInspector, so that Hive 0.11 would have no problem as well.&lt;/p&gt;

&lt;p&gt;related Hive Jiras:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5202&quot; title=&quot;Support for SettableUnionObjectInspector and implement isSettable/hasAllFieldsSettable APIs for all data types.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5202&quot;&gt;&lt;del&gt;HIVE-5202&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5394&quot; title=&quot;ObjectInspectorConverters.getConvertedOI() does not return the correct object inspector for primitive type.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5394&quot;&gt;&lt;del&gt;HIVE-5394&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;------------------- HIVE-trunk (0.13, 0.14 etc) code snippet for ObjectInspectorConverters -------------------------&lt;br/&gt;
    // 1. If equalsCheck is true and the inputOI is the same as the outputOI OR&lt;br/&gt;
    // 2. If the outputOI has all fields settable, return it&lt;br/&gt;
    if ((equalsCheck &amp;amp;&amp;amp; inputOI.equals(outputOI)) ||&lt;br/&gt;
        ObjectInspectorUtils.hasAllFieldsSettable(outputOI, oiSettableProperties) == true) &lt;/p&gt;
{
      return outputOI;
    }   &lt;br/&gt;
&lt;br/&gt;
------------------- HIVE-0.11 code snippet for ObjectInspectorConverters -------------------------&lt;br/&gt;
    // If the inputOI is the same as the outputOI, just return it&lt;br/&gt;
    if (inputOI.equals(outputOI)) {      return outputOI;    }
&lt;p&gt;   &lt;/p&gt;</comment>
                            <comment id="13961240" author="tongjie" created="Sat, 5 Apr 2014 21:19:50 +0000"  >&lt;p&gt;In my previous comment, I mean that this bug is not reproducible in hive trunk due to patches from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5202&quot; title=&quot;Support for SettableUnionObjectInspector and implement isSettable/hasAllFieldsSettable APIs for all data types.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5202&quot;&gt;&lt;del&gt;HIVE-5202&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5394&quot; title=&quot;ObjectInspectorConverters.getConvertedOI() does not return the correct object inspector for primitive type.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5394&quot;&gt;&lt;del&gt;HIVE-5394&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;But the patch introduced in this Jira is still an enhancement.&lt;/p&gt;

&lt;p&gt;Btw, how can I edit my own previous comment once submitted?&lt;/p&gt;</comment>
                            <comment id="13961269" author="tongjie" created="Sat, 5 Apr 2014 22:55:40 +0000"  >&lt;p&gt;add a new qtest&lt;/p&gt;</comment>
                            <comment id="13961491" author="hiveqa" created="Sun, 6 Apr 2014 19:20:43 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638885/HIVE-6785.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638885/HIVE-6785.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5549 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2153/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2153/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2153/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2153/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638885&lt;/p&gt;</comment>
                            <comment id="13962473" author="szehon" created="Tue, 8 Apr 2014 00:54:44 +0000"  >&lt;p&gt;+1 (non-binding) , thanks for adding the q-test and address comments.&lt;/p&gt;

&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13962482" author="brocknoland" created="Tue, 8 Apr 2014 01:09:13 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;LGTM except I see we are using the parquet... class names when creating a table, which are soon to be removed.&lt;/p&gt;</comment>
                            <comment id="13962493" author="szehon" created="Tue, 8 Apr 2014 01:26:56 +0000"  >&lt;p&gt;Good catch Brock, I missed that.&lt;/p&gt;</comment>
                            <comment id="13966093" author="tongjie" created="Fri, 11 Apr 2014 01:01:57 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, &lt;/p&gt;

&lt;p&gt;are you suggesting using:&lt;/p&gt;

&lt;p&gt;ALTER TABLE parquet_mixed_fileformat SET FILEFORMAT PARQUET;  ( after I execute this statement, the table become &quot;not found&quot;)&lt;/p&gt;

&lt;p&gt;instead of:&lt;/p&gt;

&lt;p&gt;ALTER TABLE parquet_mixed_fileformat set SERDE &apos;parquet.hive.serde.ParquetHiveSerDe&apos;;&lt;br/&gt;
ALTER TABLE parquet_mixed_fileformat&lt;br/&gt;
     SET FILEFORMAT&lt;br/&gt;
     INPUTFORMAT &apos;parquet.hive.DeprecatedParquetInputFormat&apos;&lt;br/&gt;
     OUTPUTFORMAT &apos;parquet.hive.DeprecatedParquetOutputFormat&apos;;&lt;/p&gt;

&lt;p&gt;Please advise.&lt;/p&gt;</comment>
                            <comment id="13966355" author="szehon" created="Fri, 11 Apr 2014 09:15:35 +0000"  >&lt;p&gt;Hi Tonjie, these are deprecated now and will be removed.  See the discussion on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6757&quot; title=&quot;Remove deprecated parquet classes from outside of org.apache package&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6757&quot;&gt;&lt;del&gt;HIVE-6757&lt;/del&gt;&lt;/a&gt;, for the current state.&lt;/p&gt;

&lt;p&gt;Use &apos;org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe&apos;,&lt;br/&gt;
&apos;org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat&apos;,&lt;br/&gt;
&apos;org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat&apos;&lt;/p&gt;</comment>
                            <comment id="13966850" author="tongjie" created="Fri, 11 Apr 2014 17:35:19 +0000"  >&lt;p&gt;replace deprecated parquet class.&lt;/p&gt;</comment>
                            <comment id="13967047" author="hiveqa" created="Fri, 11 Apr 2014 20:21:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12639834/HIVE-6785.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12639834/HIVE-6785.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5615 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_dyn_part
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_reduce_deduplicate
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2221/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2221/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2221/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2221/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12639834&lt;/p&gt;</comment>
                            <comment id="13967069" author="tongjie" created="Fri, 11 Apr 2014 20:36:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt;, are those failure transient? the new patch only changes the parquet class, which has nothing to do with these test cases.&lt;/p&gt;</comment>
                            <comment id="13967087" author="szehon" created="Fri, 11 Apr 2014 20:54:05 +0000"  >&lt;p&gt;Yea, it doesnt look related to this patch.&lt;/p&gt;</comment>
                            <comment id="13967259" author="szehon" created="Fri, 11 Apr 2014 23:55:16 +0000"  >&lt;p&gt;Looked at the new patch, looks fine with me&lt;/p&gt;</comment>
                            <comment id="13970121" author="szehon" created="Tue, 15 Apr 2014 22:18:29 +0000"  >&lt;p&gt;+1 (non-binding) +  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13970726" author="brocknoland" created="Wed, 16 Apr 2014 12:32:43 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13982424" author="brocknoland" created="Sun, 27 Apr 2014 18:49:14 +0000"  >&lt;p&gt;Committed to trunk! Thank you for the contribution!&lt;/p&gt;

&lt;p&gt;Thank you Szehon for the review!&lt;/p&gt;</comment>
                            <comment id="14210712" author="thejas" created="Thu, 13 Nov 2014 19:42:11 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12638183" name="HIVE-6785.1.patch.txt" size="7984" author="tongjie" created="Wed, 2 Apr 2014 02:07:25 +0000"/>
                            <attachment id="12638885" name="HIVE-6785.2.patch.txt" size="13883" author="tongjie" created="Sat, 5 Apr 2014 22:55:40 +0000"/>
                            <attachment id="12639834" name="HIVE-6785.3.patch" size="14139" author="tongjie" created="Fri, 11 Apr 2014 17:35:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 29 Mar 2014 15:32:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382743</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383011</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6786] Off by one error in ORC PPD </title>
                <link>https://issues.apache.org/jira/browse/HIVE-6786</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Turning on ORC PPD makes split computation fail for a 10Tb benchmark.&lt;/p&gt;

&lt;p&gt;Narrowed down to the following code fragment&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hive/blob/branch-0.13/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java#L757&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/branch-0.13/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java#L757&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                includeStripe[i] = (i &amp;gt; stripeStats.size()) ||
                    isStripeSatisfyPredicate(stripeStats.get(i), sarg,
                                             filterColumns);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I would guess that should be a &amp;gt;=, but &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt;, can you comment if that is the right fix?&lt;/p&gt;

&lt;p&gt;Stack trace will look like: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(ArrayList.java:604)
	at java.util.ArrayList.get(ArrayList.java:382)
	at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$SplitGenerator.run(OrcInputFormat.java:761)
	... 3 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12704413">HIVE-6786</key>
            <summary>Off by one error in ORC PPD </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Mar 2014 05:00:42 +0000</created>
                <updated>Thu, 31 Jul 2014 18:42:51 +0000</updated>
                            <resolved>Tue, 1 Apr 2014 21:22:45 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13954528" author="prasanth_j" created="Sun, 30 Mar 2014 00:29:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Thats looks like an off-by-one error. It should be &amp;gt;=. I think this case will only be hit when the stripe statistics is missing, in which case the stripeStatistics.size() will be 0 and all stripes should be included.&lt;br/&gt;
The attached patch fixes it.&lt;/p&gt;

&lt;p&gt;I am curious how is it missing stripe statistics? Is it an old ORC which did not have stripe statistics or is the ORC file generated via other means (apart from hive)?&lt;/p&gt;</comment>
                            <comment id="13954531" author="prasanth_j" created="Sun, 30 Mar 2014 00:34:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Was it throwing ArrayIndexOutOfBounds exception when PPD is enabled?&lt;/p&gt;</comment>
                            <comment id="13954585" author="hiveqa" created="Sun, 30 Mar 2014 05:24:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637678/HIVE-6786.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637678/HIVE-6786.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5502 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2041/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2041/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2041/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2041/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637678&lt;/p&gt;</comment>
                            <comment id="13954713" author="gopalv" created="Sun, 30 Mar 2014 15:32:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt;: This is an old ORC 10Tb database which hasn&apos;t been modified for a while now.&lt;/p&gt;</comment>
                            <comment id="13955464" author="sershe" created="Mon, 31 Mar 2014 18:10:20 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13955967" author="rhbutani" created="Tue, 1 Apr 2014 01:03:35 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13957025" author="rhbutani" created="Tue, 1 Apr 2014 21:22:45 +0000"  >&lt;p&gt;Committed to trunk and 0.13&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637678" name="HIVE-6786.1.patch" size="874" author="prasanth_j" created="Sun, 30 Mar 2014 00:30:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 30 Mar 2014 00:29:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382747</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6787] ORC+ACID assumes all missing buckets are in ACID structure</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6787</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ORC+ACID creates ACID structure splits for all missing buckets in a table&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.RuntimeException: java.io.IOException: java.io.IOException: Vectorization and ACID tables are incompatible.
at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat.getRecordReader(OrcInputFormat.java:996)
	at org.apache.hadoop.hive.ql.io.HiveInputFormat.getRecordReader(HiveInputFormat.java:240)
	... 15 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The tables are normal ORC tables and are not using ACID structure at all.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@@ -539,7 +539,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run() {
         &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; b=0; b &amp;lt; context.numBuckets; ++b) {
           &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!covered[b]) {
             context.splits.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; OrcSplit(dir, b, 0, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[0], &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
-                               &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, deltas));
+                               isOriginal, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, deltas));
           }
         }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;seems to fix the issue. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt;, please confirm if that is what I should be doing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704415">HIVE-6787</key>
            <summary>ORC+ACID assumes all missing buckets are in ACID structure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Mar 2014 05:15:33 +0000</created>
                <updated>Tue, 8 Apr 2014 15:12:03 +0000</updated>
                            <resolved>Tue, 8 Apr 2014 15:12:03 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13958080" author="owen.omalley" created="Wed, 2 Apr 2014 19:33:18 +0000"  >&lt;p&gt;This fixes the problem, adds a test case, and also makes a log message that was confusing users a debug level.&lt;/p&gt;</comment>
                            <comment id="13958874" author="hiveqa" created="Thu, 3 Apr 2014 15:05:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638317/HIVE-6787.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638317/HIVE-6787.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5543 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2095/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2095/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2095/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2095/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638317&lt;/p&gt;</comment>
                            <comment id="13959471" author="sershe" created="Fri, 4 Apr 2014 00:24:40 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13963068" author="owen.omalley" created="Tue, 8 Apr 2014 15:12:03 +0000"  >&lt;p&gt;Thanks for the review, Sergey!&lt;/p&gt;

&lt;p&gt;I just committed this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12638317" name="HIVE-6787.patch" size="5094" author="owen.omalley" created="Wed, 2 Apr 2014 19:33:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Apr 2014 19:33:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382749</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1txvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6788] Abandoned opened transactions not being timed out</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6788</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If a client abandons an open transaction it is never closed.  This does not cause any immediate problems (as locks are timed out) but it will eventually lead to high levels of open transactions in the lists that readers need to be aware of when reading tables or partitions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12705492">HIVE-6788</key>
            <summary>Abandoned opened transactions not being timed out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Mar 2014 18:48:25 +0000</created>
                <updated>Thu, 13 Nov 2014 19:40:55 +0000</updated>
                            <resolved>Thu, 3 Apr 2014 06:31:00 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Locking</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13956763" author="alangates" created="Tue, 1 Apr 2014 17:04:57 +0000"  >&lt;p&gt;This patch adds logic to getOpenTxns to check for any abandoned transactions and move them from open to aborted before returning the list of open transactions.&lt;/p&gt;</comment>
                            <comment id="13957188" author="hiveqa" created="Wed, 2 Apr 2014 00:27:38 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638090/HIVE-6788.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638090/HIVE-6788.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5539 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2072/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2072/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2072/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2072/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638090&lt;/p&gt;</comment>
                            <comment id="13958012" author="ashutoshc" created="Wed, 2 Apr 2014 18:40:17 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13958558" author="ashutoshc" created="Thu, 3 Apr 2014 06:31:00 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Alan!&lt;/p&gt;</comment>
                            <comment id="14210453" author="thejas" created="Thu, 13 Nov 2014 19:40:55 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12638090" name="HIVE-6788.patch" size="6062" author="alangates" created="Tue, 1 Apr 2014 17:04:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Apr 2014 00:27:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382769</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ty07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6789] HiveStatement client transport lock should unlock in finally block.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6789</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12705503">HIVE-6789</key>
            <summary>HiveStatement client transport lock should unlock in finally block.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vgumashta">Vaibhav Gumashta</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Mar 2014 21:26:38 +0000</created>
                <updated>Tue, 1 Apr 2014 21:22:00 +0000</updated>
                            <resolved>Tue, 1 Apr 2014 21:22:00 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13954463" author="vgumashta" created="Sat, 29 Mar 2014 21:39:46 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; bug for 13!&lt;/p&gt;</comment>
                            <comment id="13954560" author="hiveqa" created="Sun, 30 Mar 2014 03:29:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637670/HIVE-6789.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637670/HIVE-6789.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5502 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2040/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2040/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2040/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2040/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637670&lt;/p&gt;</comment>
                            <comment id="13955819" author="thejas" created="Mon, 31 Mar 2014 22:32:04 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13956561" author="rhbutani" created="Tue, 1 Apr 2014 14:35:55 +0000"  >&lt;p&gt;+1 for .13&lt;/p&gt;</comment>
                            <comment id="13957024" author="thejas" created="Tue, 1 Apr 2014 21:22:00 +0000"  >&lt;p&gt;Patch committed to 0.13 branch and trunk.&lt;br/&gt;
Thanks for the contribution Vaibhav!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637670" name="HIVE-6789.1.patch" size="2676" author="vgumashta" created="Sat, 29 Mar 2014 21:39:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 30 Mar 2014 03:29:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ty2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6790] Document min jars required for JDBC client</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6790</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For:&lt;br/&gt;
1. Unsecured binary &amp;amp; http mode HS2&lt;br/&gt;
2. Unsecured binary &amp;amp; http mode with SSL&lt;br/&gt;
3. Kerberized setup binary &amp;amp; http &lt;/p&gt;</description>
                <environment></environment>
        <key id="12705506">HIVE-6790</key>
            <summary>Document min jars required for JDBC client</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Mar 2014 21:43:59 +0000</created>
                <updated>Sat, 29 Mar 2014 21:43:59 +0000</updated>
                                                                            <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ty3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383051</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6791] Support variable substition for Beeline shell command</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6791</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A follow-up task from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6694&quot; title=&quot;Beeline should provide a way to execute shell command as Hive CLI does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6694&quot;&gt;&lt;del&gt;HIVE-6694&lt;/del&gt;&lt;/a&gt;. Similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6570&quot; title=&quot;Hive variable substitution does not work with the &amp;quot;source&amp;quot; command&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6570&quot;&gt;&lt;del&gt;HIVE-6570&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12705545">HIVE-6791</key>
            <summary>Support variable substition for Beeline shell command</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Ferd">Ferdinand Xu</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Sun, 30 Mar 2014 16:10:57 +0000</created>
                <updated>Mon, 29 Jun 2015 06:17:14 +0000</updated>
                            <resolved>Mon, 29 Jun 2015 00:45:01 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>beeline-cli-branch</fixVersion>
                                    <component>CLI</component>
                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14558832" author="ferd" created="Tue, 26 May 2015 08:08:18 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, I am working on hive cli replacing work. Seems this is a gap between cli and beeline. Do you want to work on this jira? If not, I&apos;d like to pick it up. And I have a basic idea to archive the goal that we can add a new command process to add new hive variable to the hiveVariables in SessionState. Any thoughts about it? Thank you!&lt;/p&gt;</comment>
                            <comment id="14559120" author="xuefuz" created="Tue, 26 May 2015 13:54:06 +0000"  >&lt;p&gt;Yes, I just assigned it to you. Thanks.&lt;/p&gt;</comment>
                            <comment id="14573970" author="ferd" created="Fri, 5 Jun 2015 02:48:18 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chinnalalam&quot; class=&quot;user-hover&quot; rel=&quot;chinnalalam&quot;&gt;Chinna Rao Lalam&lt;/a&gt;, could you review the patch? &lt;br/&gt;
I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10943&quot; title=&quot;Beeline-cli: Enable precommit for beelie-cli branch &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10943&quot;&gt;&lt;del&gt;HIVE-10943&lt;/del&gt;&lt;/a&gt; to see whether it breaks other functionality.&lt;br/&gt;
Thank you!&lt;/p&gt;</comment>
                            <comment id="14579868" author="ferd" created="Wed, 10 Jun 2015 02:10:04 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; for your reviews. I left some comments on the review board. Thank you!&lt;/p&gt;</comment>
                            <comment id="14600458" author="ferd" created="Thu, 25 Jun 2015 00:58:39 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;Sergio Pe&#241;a&lt;/a&gt;, seems the precommit is not triggered. Could you take a look for it? Thank you!&lt;/p&gt;</comment>
                            <comment id="14601292" author="spena" created="Thu, 25 Jun 2015 14:51:28 +0000"  >&lt;p&gt;Re-attach file with correct name&lt;/p&gt;</comment>
                            <comment id="14602231" author="hiveqa" created="Fri, 26 Jun 2015 01:22:10 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12741962/HIVE-6791.3-beeline-cli.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12741962/HIVE-6791.3-beeline-cli.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 8933 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_percentile_approx_23
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_auto_sortmerge_join_2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_auto_sortmerge_join_8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/2/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/2/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/2/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/2/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-BEELINE-Build-2/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-BEELINE-Build-2/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12741962 - PreCommit-HIVE-BEELINE-Build&lt;/p&gt;</comment>
                            <comment id="14602455" author="ferd" created="Fri, 26 Jun 2015 06:02:26 +0000"  >&lt;p&gt;Update the patch addressing Xuefu&apos;s latest comments&lt;/p&gt;</comment>
                            <comment id="14602519" author="hiveqa" created="Fri, 26 Jun 2015 07:38:10 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12742061/HIVE-6791.4-beeline-cli.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12742061/HIVE-6791.4-beeline-cli.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/3/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/3/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/3/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/3/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-BEELINE-Build-3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-BEELINE-Build-3/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-BEELINE-Build-3/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z beeline-cli ]]
+ [[ -d apache-git-beeline-source ]]
+ [[ ! -d apache-git-beeline-source/.git ]]
+ [[ ! -d apache-git-beeline-source ]]
+ cd apache-git-beeline-source
+ git fetch origin
From https://github.com/apache/hive
   2243de3..00e0d55  beeline-cli -&amp;gt; origin/beeline-cli
   c5dc87a..cc4075b  llap       -&amp;gt; origin/llap
+ git reset --hard HEAD
HEAD is now at 2243de3 HIVE-10905 Quit&amp;amp;Exit fails ending with &apos;;&apos; [beeline-cli Branch](Chinna Rao Lalam, reviewed by Ferdinand Xu)
+ git clean -f -d
Removing common/src/java/org/apache/hadoop/hive/conf/HiveVariableSource.java
Removing common/src/java/org/apache/hadoop/hive/conf/VariableSubstitution.java
Removing common/src/test/org/apache/hadoop/hive/conf/TestVariableSubstitution.java
+ git checkout beeline-cli
Already on &apos;beeline-cli&apos;
Your branch is behind &apos;origin/beeline-cli&apos; by 259 commits, and can be fast-forwarded.
+ git reset --hard origin/beeline-cli
HEAD is now at 00e0d55 Merge branch &apos;master&apos; into beeline-cli
+ git merge --ff-only origin/beeline-cli
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12742061 - PreCommit-HIVE-BEELINE-Build&lt;/p&gt;</comment>
                            <comment id="14602527" author="ferd" created="Fri, 26 Jun 2015 07:52:04 +0000"  >&lt;p&gt;Rebase the patch&lt;/p&gt;</comment>
                            <comment id="14602730" author="hiveqa" created="Fri, 26 Jun 2015 11:35:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12742071/HIVE-6791.5-beeline-cli.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12742071/HIVE-6791.5-beeline-cli.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 9038 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_auto_sortmerge_join_2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_auto_sortmerge_join_8
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join_merge_multi_expressions
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_louter_join_ppr
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/5/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/5/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/5/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-BEELINE-Build/5/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-BEELINE-Build-5/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-BEELINE-Build-5/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12742071 - PreCommit-HIVE-BEELINE-Build&lt;/p&gt;</comment>
                            <comment id="14604950" author="xuefuz" created="Sun, 28 Jun 2015 22:22:36 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14605002" author="ferd" created="Mon, 29 Jun 2015 00:45:01 +0000"  >&lt;p&gt;Committed to the beeline-cli-branch, thanks Xuefu for your review.&lt;/p&gt;</comment>
                            <comment id="14605184" author="lefty@hortonworks.com" created="Mon, 29 Jun 2015 06:17:14 +0000"  >&lt;p&gt;Doc note:  Linking this to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10810&quot; title=&quot;Document Beeline/CLI changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10810&quot;&gt;&lt;del&gt;HIVE-10810&lt;/del&gt;&lt;/a&gt; for documentation.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12832353">HIVE-10810</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12825336">HIVE-10511</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12699267">HIVE-6570</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12702216">HIVE-6694</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12741462" name="HIVE-6791-beeline-cli.2.patch" size="49895" author="Ferd" created="Wed, 24 Jun 2015 07:37:42 +0000"/>
                            <attachment id="12737766" name="HIVE-6791-beeline-cli.patch" size="24051" author="Ferd" created="Fri, 5 Jun 2015 02:48:18 +0000"/>
                            <attachment id="12741962" name="HIVE-6791.3-beeline-cli.patch" size="50262" author="xuefuz" created="Thu, 25 Jun 2015 21:59:24 +0000"/>
                            <attachment id="12741869" name="HIVE-6791.3-beeline-cli.patch" size="50262" author="spena" created="Thu, 25 Jun 2015 14:51:28 +0000"/>
                            <attachment id="12742061" name="HIVE-6791.4-beeline-cli.patch" size="53788" author="Ferd" created="Fri, 26 Jun 2015 06:02:26 +0000"/>
                            <attachment id="12742071" name="HIVE-6791.5-beeline-cli.patch" size="53829" author="Ferd" created="Fri, 26 Jun 2015 08:00:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 May 2015 08:08:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383874</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u4tr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384142</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6792] hive.warehouse.subdir.inherit.perms doesn&apos;t work correctly in CTAS</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6792</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive.warehouse.subdir.inherit.perms doesn&apos;t work correctly in CTAS. When it is set to true, the table created using create table .. as select.. does not inherit its parent directory&apos;s group and permission mode. It can be easily reproduced:&lt;br/&gt;
==&lt;br/&gt;
hive&amp;gt; dfs -ls -R /user/hive/warehouse;&lt;br/&gt;
drwxrwx--T   - hive   hive                0 2014-03-30 17:44 /user/hive/warehouse/ctas.db&lt;br/&gt;
drwxr-xr-x   - hive   hive                0 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   3 hive   hive            46059 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl/000000_0&lt;/p&gt;

&lt;p&gt;hive&amp;gt; create table ctas.test_perm as select * from ctas_src_tbl;&lt;/p&gt;

&lt;p&gt;hive&amp;gt; dfs -ls -R /user/hive/warehouse;                          &lt;br/&gt;
drwxrwx--T   - hive   hive                0 2014-03-30 17:46 /user/hive/warehouse/ctas.db&lt;br/&gt;
drwxr-xr-x   - hive   supergroup          0 2014-03-30 17:46 /user/hive/warehouse/ctas.db/test_perm&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   3 hive   supergroup      46059 2014-03-30 17:46 /user/hive/warehouse/ctas.db/test_perm/000000_0&lt;br/&gt;
drwxr-xr-x   - hive   hive                0 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   3 hive   hive            46059 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl/000000_0&lt;br/&gt;
==&lt;br/&gt;
The created table does not inherit its database ctas&apos;s group hive and permission mode 770, instead it takes the default group (supergroup) and permission mode (755) in hdfs&lt;/p&gt;</description>
                <environment></environment>
        <key id="12705576">HIVE-6792</key>
            <summary>hive.warehouse.subdir.inherit.perms doesn&apos;t work correctly in CTAS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ctang.ma">Chaoyu Tang</assignee>
                                    <reporter username="ctang.ma">Chaoyu Tang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 01:04:43 +0000</created>
                <updated>Thu, 13 Nov 2014 19:44:28 +0000</updated>
                            <resolved>Sat, 5 Apr 2014 19:56:13 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Authorization</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13954904" author="ctang.ma" created="Mon, 31 Mar 2014 01:52:29 +0000"  >&lt;p&gt;Please review attached patch. With this, the new created table (test_perm) with its data file inherit group and permission mode from their parent cats.db.&lt;br/&gt;
==&lt;br/&gt;
hive&amp;gt; dfs -ls -R /user/hive/warehouse;                          &lt;br/&gt;
drwxrwx--T   - hive   hive                0 2014-03-30 17:56 /user/hive/warehouse/ctas.db&lt;br/&gt;
drwxrwx--T   - hive   hive                0 2014-03-30 17:56 /user/hive/warehouse/ctas.db/test_perm&lt;br/&gt;
&lt;del&gt;rw-rw&lt;/del&gt;---   3 hive   hive            46059 2014-03-30 17:56 /user/hive/warehouse/ctas.db/test_perm/000000_0&lt;br/&gt;
drwxr-xr-x   - hive   hive                0 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   3 hive   hive            46059 2014-03-30 17:20 /user/hive/warehouse/ctas_src_tbl/000000_0&lt;/p&gt;</comment>
                            <comment id="13954952" author="szehon" created="Mon, 31 Mar 2014 05:35:27 +0000"  >&lt;p&gt;Mostly looks good on first pass, one nit: is it necessary to pass in &apos;conf&apos; variable to &apos;MoveTask.createTargetPath&apos;?  It is already a member variable.&lt;/p&gt;

&lt;p&gt;Also, do you want to submit the patch to trigger the pre-commit test?&lt;/p&gt;</comment>
                            <comment id="13955749" author="ctang.ma" created="Mon, 31 Mar 2014 21:38:59 +0000"  >&lt;p&gt;Thanks, Szehon, for pointing out. I changed to use member variable conf instead and please see attached &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6792&quot; title=&quot;hive.warehouse.subdir.inherit.perms doesn&amp;#39;t work correctly in CTAS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6792&quot;&gt;&lt;del&gt;HIVE-6792&lt;/del&gt;&lt;/a&gt;-1.patch&lt;/p&gt;</comment>
                            <comment id="13959552" author="szehon" created="Fri, 4 Apr 2014 01:59:08 +0000"  >&lt;p&gt;Please upload in the format &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6792&quot; title=&quot;hive.warehouse.subdir.inherit.perms doesn&amp;#39;t work correctly in CTAS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6792&quot;&gt;&lt;del&gt;HIVE-6792&lt;/del&gt;&lt;/a&gt;.1.patch to trigger the pre commit test.&lt;/p&gt;</comment>
                            <comment id="13959620" author="brocknoland" created="Fri, 4 Apr 2014 04:21:49 +0000"  >&lt;p&gt;+1 pending tests.&lt;/p&gt;</comment>
                            <comment id="13959621" author="brocknoland" created="Fri, 4 Apr 2014 04:22:33 +0000"  >&lt;p&gt;Uploading the same patch with a name precommits like.&lt;/p&gt;</comment>
                            <comment id="13961210" author="hiveqa" created="Sat, 5 Apr 2014 19:42:11 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638621/HIVE-6792.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638621/HIVE-6792.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5547 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2129/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2129/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2129/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2129/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638621&lt;/p&gt;</comment>
                            <comment id="13961214" author="brocknoland" created="Sat, 5 Apr 2014 19:56:13 +0000"  >&lt;p&gt;Thank you Chaoyu! I have committed this to trunk.&lt;/p&gt;</comment>
                            <comment id="14211172" author="thejas" created="Thu, 13 Nov 2014 19:44:28 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12707839">HIVE-6892</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12637924" name="HIVE-6792-1.patch" size="3242" author="ctang.ma" created="Mon, 31 Mar 2014 21:38:59 +0000"/>
                            <attachment id="12638621" name="HIVE-6792.1.patch" size="3242" author="brocknoland" created="Fri, 4 Apr 2014 04:22:33 +0000"/>
                            <attachment id="12637756" name="HIVE-6792.patch" size="3672" author="ctang.ma" created="Mon, 31 Mar 2014 01:52:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 31 Mar 2014 05:35:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>383905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u50n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384173</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6793] DDLSemanticAnalyzer.analyzeShowRoles() should use HiveAuthorizationTaskFactory</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6793</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently DDLSemanticAnalyzer.analyzeShowRoles() isn&apos;t using HiveAuthorizationTaskFactory to create task, at odds with other Authorization related task creations such as for analyzeShowRolePrincipals(). This JIRA is to make it consistent.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12705734">HIVE-6793</key>
            <summary>DDLSemanticAnalyzer.analyzeShowRoles() should use HiveAuthorizationTaskFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 18:26:01 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:01 +0000</updated>
                            <resolved>Tue, 1 Apr 2014 15:10:04 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Authorization</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13955836" author="hiveqa" created="Mon, 31 Mar 2014 22:44:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637896/HIVE-6793.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637896/HIVE-6793.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5513 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.service.cli.thrift.TestThriftHttpCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2052/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2052/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2052/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2052/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637896&lt;/p&gt;</comment>
                            <comment id="13955841" author="xuefuz" created="Mon, 31 Mar 2014 22:53:12 +0000"  >&lt;p&gt;the above test failure isn&apos;t related to the patch. It also appears in other test runs.&lt;/p&gt;</comment>
                            <comment id="13955847" author="ashutoshc" created="Mon, 31 Mar 2014 22:57:04 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13956613" author="ashutoshc" created="Tue, 1 Apr 2014 15:10:04 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Xuefu!&lt;/p&gt;</comment>
                            <comment id="14210872" author="thejas" created="Thu, 13 Nov 2014 19:43:01 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637896" name="HIVE-6793.patch" size="3214" author="xuefuz" created="Mon, 31 Mar 2014 19:02:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 31 Mar 2014 22:44:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384068</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u60v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6794] select * from parquet hive table containing map columns runs into exception</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6794</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;select * from parquet hive table containing map columns run into exception &quot;FAILED: RuntimeException java.lang.ClassCastException: parquet.hive.serde.DeepParquetHiveMapInspector cannot be cast to parquet.hive.serde.StandardParquetHiveMapInspector&quot;&lt;/p&gt;

&lt;p&gt;To reproduce, use the following steps (both regular_map_table and parquet_map_table contains schema &quot;c1 , c2 int&quot;):&lt;/p&gt;

&lt;p&gt;hive&amp;gt; insert overwrite table parquet_map_table select * from regular_map_table;&lt;br/&gt;
hive&amp;gt; select * from parquet_map_table; (the first query to select * works fine )&lt;/p&gt;

&lt;p&gt;OK&lt;/p&gt;
{&quot;key1&quot;:&quot;value1&quot;}
&lt;p&gt; 1&lt;/p&gt;
{&quot;key2&quot;:&quot;value2&quot;}
&lt;p&gt; 2&lt;/p&gt;
{&quot;key3&quot;:&quot;value3&quot;}
&lt;p&gt; 3&lt;br/&gt;
Time taken: 2.669 seconds, Fetched: 3 row(s)&lt;br/&gt;
hive&amp;gt; select * from parquet_map_table; (the second and all subsequent exact same query breaks)&lt;/p&gt;

&lt;p&gt;FAILED: RuntimeException java.lang.ClassCastException: parquet.hive.serde.DeepParquetHiveMapInspector cannot be cast to parquet.hive.serde.StandardParquetHiveMapInspector&lt;/p&gt;

&lt;p&gt;Interestingly &quot;select c1 from parquet_map_column&quot; query works fine though.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12705769">HIVE-6794</key>
            <summary>select * from parquet hive table containing map columns runs into exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tongjie">Tongjie Chen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 19:12:18 +0000</created>
                <updated>Mon, 31 Mar 2014 21:29:15 +0000</updated>
                            <resolved>Mon, 31 Mar 2014 21:29:15 +0000</resolved>
                                    <version>0.13.0</version>
                                                    <component>File Formats</component>
                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13955741" author="szehon" created="Mon, 31 Mar 2014 21:29:15 +0000"  >&lt;p&gt;This is already solved by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6575&quot; title=&quot;select * fails on parquet table with map datatype&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6575&quot;&gt;&lt;del&gt;HIVE-6575&lt;/del&gt;&lt;/a&gt;, can you try with trunk?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12699315">HIVE-6575</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 31 Mar 2014 21:29:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384093</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u66f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6795] metastore initialization should add default roles with default, SBA</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6795</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hiveserver2 running sql standard authorization can connect to a metastore running storage based authorization. Currently metastore is not adding the standard roles to the db in such cases.&lt;br/&gt;
It would be better to add them in these cases as well.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12705785">HIVE-6795</key>
            <summary>metastore initialization should add default roles with default, SBA</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="deepesh">Deepesh Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 20:57:59 +0000</created>
                <updated>Tue, 1 Apr 2014 15:16:00 +0000</updated>
                            <resolved>Tue, 1 Apr 2014 15:16:00 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13955787" author="ashutoshc" created="Mon, 31 Mar 2014 22:11:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13956039" author="hiveqa" created="Tue, 1 Apr 2014 02:46:23 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637932/HIVE-6795.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637932/HIVE-6795.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5513 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2057/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2057/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2057/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2057/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637932&lt;/p&gt;</comment>
                            <comment id="13956284" author="thejas" created="Tue, 1 Apr 2014 09:09:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; I think we should include this in 0.13, this is a small change that makes new authorization setup more flexible.&lt;/p&gt;</comment>
                            <comment id="13956564" author="rhbutani" created="Tue, 1 Apr 2014 14:36:21 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13956620" author="ashutoshc" created="Tue, 1 Apr 2014 15:16:00 +0000"  >&lt;p&gt;Committed to trunk &amp;amp; 0.13&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637932" name="HIVE-6795.1.patch" size="2905" author="thejas" created="Mon, 31 Mar 2014 22:03:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 31 Mar 2014 22:11:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u69z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384377</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6796] Create/drop roles is case-sensitive whereas &apos;set role&apos; is case insensitive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6796</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Create/drop role operations should be case insensitive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12705800">HIVE-6796</key>
            <summary>Create/drop roles is case-sensitive whereas &apos;set role&apos; is case insensitive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="deepesh">Deepesh Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 22:16:43 +0000</created>
                <updated>Sat, 5 Apr 2014 22:59:58 +0000</updated>
                            <resolved>Thu, 3 Apr 2014 21:21:28 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13955792" author="thejas" created="Mon, 31 Mar 2014 22:18:30 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=deepesh&quot; class=&quot;user-hover&quot; rel=&quot;deepesh&quot;&gt;Deepesh Khandelwal&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Login as admin user (eg hrt_qa) and create a new role.
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;0: jdbc:hive2://hor8n19.gq1.ygridcore.net:100&amp;gt; set role ADMIN;
No rows affected (0.048 seconds)
0: jdbc:hive2://:10&amp;gt; create role TESTROLE;
No rows affected (0.081 seconds)
0: jdbc:hive2://:10&amp;gt; grant role TESTROLE to user hrt_1;
No rows affected (0.086 seconds)
0: jdbc:hive2://:10&amp;gt; show roles;
+-----------+
|   role    |
+-----------+
| ADMIN     |
| PUBLIC    |
| TESTROLE  |
|           |
+-----------+
4 rows selected (0.05 seconds)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Login as public user hrt_1 and assume above role.
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;beeline&amp;gt; !connect jdbc:hive2://:10000 hrt_1 pwd
Connected to: Apache Hive (version 0.13.0.2.1.1.0-261)
Driver: Hive JDBC (version 0.13.0.2.1.1.0-261)
Transaction isolation: TRANSACTION_REPEATABLE_READ
0: jdbc:hive2://:10&amp;gt; show current roles;
+-----------+
|   role    |
+-----------+
| PUBLIC    |
| TESTROLE  |
|           |
+-----------+
3 rows selected (0.096 seconds)
0: jdbc:hive2://:10&amp;gt; set role testrole;
No rows affected (0.025 seconds)
0: jdbc:hive2://:10&amp;gt; show current roles;
+-----------+
|   role    |
+-----------+
| TESTROLE  |
|           |
+-----------+
2 rows selected (0.019 seconds)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This seems convenient as to not worry about case-sensitivity.&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;But here is the problem. Try to create role &quot;testrole&quot; (earlier we created TESTROLE). On admin session (hrt_qa):
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;0: jdbc:hive2://:10&amp;gt; create role testrole;
No rows affected (0.15 seconds)
0: jdbc:hive2://:10&amp;gt; show roles;
+-----------+
|   role    |
+-----------+
| ADMIN     |
| PUBLIC    |
| TESTROLE  |
| testrole  |
|           |
+-----------+
5 rows selected (0.026 seconds)
0: jdbc:hive2://:10&amp;gt; drop role TESTROLE;
No rows affected (0.094 seconds)
0: jdbc:hive2://:10&amp;gt; show roles;
+-----------+
|   role    |
+-----------+
| ADMIN     |
| PUBLIC    |
| testrole  |
|           |
+-----------+
4 rows selected (0.026 seconds)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Above shows that create/drop role is case sensitive but &quot;set role&quot; is not. They should be all consistent (either they all are case sensitive or they are all case insensitive).&lt;/p&gt;</comment>
                            <comment id="13957058" author="ashutoshc" created="Tue, 1 Apr 2014 21:58:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/19889/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/19889/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13957444" author="hiveqa" created="Wed, 2 Apr 2014 08:11:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638137/HIVE-6796.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638137/HIVE-6796.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5539 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_roles
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testShowRoleGrant
org.apache.hive.jdbc.TestJdbcDriver2.testShowRoleGrant
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2076/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2076/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2076/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2076/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638137&lt;/p&gt;</comment>
                            <comment id="13958792" author="hiveqa" created="Thu, 3 Apr 2014 13:10:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638430/HIVE-6796.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638430/HIVE-6796.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5543 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketizedhiveinputformat
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2094/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2094/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2094/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2094/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638430&lt;/p&gt;</comment>
                            <comment id="13958895" author="thejas" created="Thu, 3 Apr 2014 15:40:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13959239" author="ashutoshc" created="Thu, 3 Apr 2014 21:21:28 +0000"  >&lt;p&gt;Committed to 0.13 &amp;amp; trunk.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12679546">HIVE-5837</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12638303" name="HIVE-6796.2.patch" size="31550" author="ashutoshc" created="Wed, 2 Apr 2014 18:24:04 +0000"/>
                            <attachment id="12638430" name="HIVE-6796.3.patch" size="33894" author="ashutoshc" created="Thu, 3 Apr 2014 06:18:50 +0000"/>
                            <attachment id="12638137" name="HIVE-6796.patch" size="24880" author="ashutoshc" created="Tue, 1 Apr 2014 21:57:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 31 Mar 2014 22:18:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384392</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6797] Add protection against divide by zero in stats annotation</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6797</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In stats annotation, the denominator computation in join operator is not protected for divide by zero exception. It will be an issue when NDV (count distinct) updated by updateStats() becomes 0. This patch adds protection in updateStats() method to prevent divide-by-zero in downstream operators.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12705810">HIVE-6797</key>
            <summary>Add protection against divide by zero in stats annotation</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12670659">HIVE-5369</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 23:08:44 +0000</created>
                <updated>Tue, 1 Apr 2014 21:31:41 +0000</updated>
                            <resolved>Tue, 1 Apr 2014 21:31:41 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13955964" author="rhbutani" created="Tue, 1 Apr 2014 01:00:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13956098" author="hiveqa" created="Tue, 1 Apr 2014 04:39:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637948/HIVE-6797.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637948/HIVE-6797.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 40 failed/errored test(s), 5513 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_binarysortable_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_case_sensitivity
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_column_access_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_combine2_hadoop20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_cube1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_grouping_sets2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_grouping_sets3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_grouping_sets4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_grouping_sets5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_rollup1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_infer_const_type
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input30
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_testxpath2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_testxpath4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_limit_partition_metadataonly
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_constant_where
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_quotedid_skew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt17
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_explode
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_isnull_isnotnull
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_size
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udtf_explode
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_remove_6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2058/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2058/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2058/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2058/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 40 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637948&lt;/p&gt;</comment>
                            <comment id="13956113" author="prasanth_j" created="Tue, 1 Apr 2014 05:15:23 +0000"  >&lt;p&gt;The first check isn&apos;t necessary as it doesn&apos;t protection against the divide by zero in downstream operators. Also having the first check will affect PARTIAL basicStatsState cases that are seen in the test failures. Removed the unnecessary check in this patch.&lt;/p&gt;</comment>
                            <comment id="13956846" author="hiveqa" created="Tue, 1 Apr 2014 18:18:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638001/HIVE-6797.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638001/HIVE-6797.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5513 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
org.apache.hcatalog.pig.TestHCatStorerMulti.testStoreBasicTable
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2068/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2068/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2068/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2068/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638001&lt;/p&gt;</comment>
                            <comment id="13957031" author="prasanth_j" created="Tue, 1 Apr 2014 21:26:44 +0000"  >&lt;p&gt;The failures are unrelated&lt;/p&gt;</comment>
                            <comment id="13957037" author="rhbutani" created="Tue, 1 Apr 2014 21:31:41 +0000"  >&lt;p&gt;Committed to trunk and 0.13&lt;br/&gt;
thanks Prasanth.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637948" name="HIVE-6797.1.patch" size="1286" author="prasanth_j" created="Mon, 31 Mar 2014 23:22:42 +0000"/>
                            <attachment id="12638001" name="HIVE-6797.2.patch" size="891" author="prasanth_j" created="Tue, 1 Apr 2014 05:15:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Apr 2014 01:00:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384134</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6fj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6798] Update column stats based on filter expression in stats annotation</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6798</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12705812">HIVE-6798</key>
            <summary>Update column stats based on filter expression in stats annotation</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12670659">HIVE-5369</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 23:16:27 +0000</created>
                <updated>Wed, 12 Nov 2014 20:40:24 +0000</updated>
                                            <version>0.14.0</version>
                                                    <component>Query Processor</component>
                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384136</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6fz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>During stats annotation column stats are updated based on ratio of change in number of rows. This heuristics can be improved by analyzing the filter expression and updating the column stats accordingly. For example: When filter expression is an equality to literal then NDV can be set to 1 directly. If the expression is an equality to column projection then min NDVs of the columns participating in expression can be taken.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[HIVE-6799] HiveServer2 needs to map kerberos name to local name before proxy check</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6799</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveServer2 does not map kerberos name of authenticated principal to local name.&lt;/p&gt;

&lt;p&gt;Due to this, I get error like the following in HiveServer log:&lt;br/&gt;
Failed to validate proxy privilage of knox/hdps.example.com for sam&lt;/p&gt;

&lt;p&gt;I have KINITED as knox/hdps.example.com@EXAMPLE.COM&lt;/p&gt;

&lt;p&gt;I do have the following in core-site.xml&lt;/p&gt;

&lt;p&gt;  &amp;lt;property&amp;gt;&lt;br/&gt;
    &amp;lt;name&amp;gt;hadoop.proxyuser.knox.groups&amp;lt;/name&amp;gt;&lt;br/&gt;
    &amp;lt;value&amp;gt;users&amp;lt;/value&amp;gt;&lt;br/&gt;
  &amp;lt;/property&amp;gt;&lt;br/&gt;
  &amp;lt;property&amp;gt;&lt;br/&gt;
    &amp;lt;name&amp;gt;hadoop.proxyuser.knox.hosts&amp;lt;/name&amp;gt;&lt;br/&gt;
    &amp;lt;value&amp;gt;*&amp;lt;/value&amp;gt;&lt;br/&gt;
  &amp;lt;/property&amp;gt;&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12705814">HIVE-6799</key>
            <summary>HiveServer2 needs to map kerberos name to local name before proxy check</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="darumugam">Dilli Arumugam</assignee>
                                    <reporter username="darumugam">Dilli Arumugam</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 23:28:42 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:24 +0000</updated>
                            <resolved>Fri, 3 Oct 2014 05:48:26 +0000</resolved>
                                    <version>0.13.1</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13956085" author="vgumashta" created="Tue, 1 Apr 2014 04:18:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=darumugam&quot; class=&quot;user-hover&quot; rel=&quot;darumugam&quot;&gt;Dilli Arumugam&lt;/a&gt; I think this mapping is missing in case the user authenticating to HiveServer2 is a service with principal of the form: serviceName/host@REALM.COM - right (which typically means a middleware server)?&lt;/p&gt;</comment>
                            <comment id="13956483" author="darumugam" created="Tue, 1 Apr 2014 13:18:43 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~vaibhavgumashta&amp;#93;&lt;/span&gt;&lt;br/&gt;
Your observations is right - the problem is with principal name of the form serviceName/host@REALM.COM, which would be typically be another service.&lt;/p&gt;</comment>
                            <comment id="13956990" author="darumugam" created="Tue, 1 Apr 2014 20:40:48 +0000"  >&lt;p&gt;Patch to resolve the issue&lt;/p&gt;
</comment>
                            <comment id="13956995" author="darumugam" created="Tue, 1 Apr 2014 20:48:04 +0000"  >&lt;p&gt;Testing done for the patch&lt;/p&gt;

&lt;p&gt;Before the patch&lt;/p&gt;

&lt;p&gt;Hive Server2 log file reported exception with message&lt;br/&gt;
Failed to validate proxy privilage of knox/hdps.example.com for sam&lt;/p&gt;

&lt;p&gt;The intermediary service with kerberos principal name knox/hdps.example.com was not able to proxy user sam.&lt;/p&gt;

&lt;p&gt;After the patch.&lt;br/&gt;
Hive Server2 log does not  reported exception.&lt;/p&gt;

&lt;p&gt;The intermediary service with kerberos principal name knox/hdps.example.com was able to proxy user sam and create table as sam.&lt;/p&gt;</comment>
                            <comment id="13956996" author="vgumashta" created="Tue, 1 Apr 2014 20:50:30 +0000"  >&lt;p&gt;+1 (non-binding). Patch looks good.&lt;/p&gt;</comment>
                            <comment id="13957000" author="darumugam" created="Tue, 1 Apr 2014 20:54:47 +0000"  >&lt;p&gt;Patch to resolve the issue.&lt;br/&gt;
There is no difference between previously attached &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6799&quot; title=&quot;HiveServer2 needs to map kerberos name to local name before proxy check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6799&quot;&gt;&lt;del&gt;HIVE-6799&lt;/del&gt;&lt;/a&gt;.patch and the current &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6799&quot; title=&quot;HiveServer2 needs to map kerberos name to local name before proxy check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6799&quot;&gt;&lt;del&gt;HIVE-6799&lt;/del&gt;&lt;/a&gt;.1.patch.&lt;br/&gt;
This current patch is added just to keep the automated precommite process happy. Not sure whether precommit would handle the patch without .1 prefix correctly.&lt;/p&gt;</comment>
                            <comment id="13957034" author="darumugam" created="Tue, 1 Apr 2014 21:28:34 +0000"  >&lt;p&gt;cumulative patch with changing the level for log message from info to debug&lt;/p&gt;</comment>
                            <comment id="14129851" author="alexandre linte" created="Thu, 11 Sep 2014 10:24:34 +0000"  >&lt;p&gt;It seems that the patch has not been include in 0.13.1 release.&lt;br/&gt;
Can you add it for the next release ?&lt;/p&gt;</comment>
                            <comment id="14129874" author="vgumashta" created="Thu, 11 Sep 2014 10:53:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Alexandre+LINTE&quot; class=&quot;user-hover&quot; rel=&quot;Alexandre LINTE&quot;&gt;LINTE&lt;/a&gt; Thanks a lot for pointing out! This should be part of 14.&lt;/p&gt;</comment>
                            <comment id="14130167" author="alexandre linte" created="Thu, 11 Sep 2014 15:50:42 +0000"  >&lt;p&gt;I juste compile a 0.13.1 with the patch but apparently, the received Identity from knox to hiveserver2 is not forwarded to remote metastore when sasl client authentication is enable on metastore.&lt;/p&gt;

&lt;p&gt;Log on hiveserver2 : &lt;/p&gt;

&lt;p&gt;2014-09-11 17:11:35,330 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;qtp599633906-22&amp;#93;&lt;/span&gt;: thrift.ThriftCLIService (ThriftCLIService.java:OpenSession(188)) - Client protocol version: HIVE_CLI_SERVICE_PROTOCOL_V6&lt;br/&gt;
2014-09-11 17:11:35,353 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;qtp599633906-22&amp;#93;&lt;/span&gt;: hive.metastore (HiveMetaStoreClient.java:open(297)) - Trying to connect to metastore with URI thrift://myremotemetastore.priv:9083&lt;br/&gt;
2014-09-11 17:11:35,360 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;qtp599633906-22&amp;#93;&lt;/span&gt;: transport.TSaslTransport (TSaslTransport.java:open(296)) - SASL negotiation failure&lt;br/&gt;
javax.security.sasl.SaslException: GSS initiate failed &lt;span class=&quot;error&quot;&gt;&amp;#91;Caused by GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at com.sun.security.sasl.gsskerb.GssKrb5Client.evaluateChallenge(GssKrb5Client.java:212)&lt;br/&gt;
        at org.apache.thrift.transport.TSaslClientTransport.handleSaslStartMessage(TSaslClientTransport.java:94)&lt;br/&gt;
        at org.apache.thrift.transport.TSaslTransport.open(TSaslTransport.java:253)&lt;br/&gt;
        at org.apache.thrift.transport.TSaslClientTransport.open(TSaslClientTransport.java:37)&lt;br/&gt;
        at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:52)&lt;br/&gt;
        at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:49)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)&lt;br/&gt;
        at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport.open(TUGIAssumingTransport.java:49)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.open(HiveMetaStoreClient.java:336)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.&amp;lt;init&amp;gt;(HiveMetaStoreClient.java:214)&lt;br/&gt;
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)&lt;br/&gt;
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&lt;br/&gt;
        at java.lang.reflect.Constructor.newInstance(Constructor.java:526)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.MetaStoreUtils.newInstance(MetaStoreUtils.java:1410)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.&amp;lt;init&amp;gt;(RetryingMetaStoreClient.java:62)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.getProxy(RetryingMetaStoreClient.java:72)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.metadata.Hive.createMetaStoreClient(Hive.java:2453)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.metadata.Hive.getMSC(Hive.java:2465)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.metadata.Hive.getDelegationToken(Hive.java:2572)&lt;br/&gt;
        at org.apache.hive.service.cli.CLIService.getDelegationTokenFromMetaStore(CLIService.java:434)&lt;br/&gt;
        at org.apache.hive.service.cli.thrift.ThriftCLIService.getDelegationToken(ThriftCLIService.java:283)&lt;br/&gt;
        at org.apache.hive.service.cli.thrift.ThriftCLIService.getSessionHandle(ThriftCLIService.java:264)&lt;br/&gt;
        at org.apache.hive.service.cli.thrift.ThriftCLIService.OpenSession(ThriftCLIService.java:191)&lt;br/&gt;
        at org.apache.hive.service.cli.thrift.TCLIService$Processor$OpenSession.getResult(TCLIService.java:1253)&lt;br/&gt;
        at org.apache.hive.service.cli.thrift.TCLIService$Processor$OpenSession.getResult(TCLIService.java:1238)&lt;br/&gt;
        at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)&lt;br/&gt;
        at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)&lt;br/&gt;
        at org.apache.hive.service.auth.HttpCLIServiceUGIProcessor$1.run(HttpCLIServiceUGIProcessor.java:65)&lt;br/&gt;
        at org.apache.hive.service.auth.HttpCLIServiceUGIProcessor$1.run(HttpCLIServiceUGIProcessor.java:61)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)&lt;br/&gt;
        at org.apache.hadoop.hive.shims.HadoopShimsSecure.doAs(HadoopShimsSecure.java:493)&lt;br/&gt;
        at org.apache.hive.service.auth.HttpCLIServiceUGIProcessor.process(HttpCLIServiceUGIProcessor.java:61)&lt;br/&gt;
        at org.apache.thrift.server.TServlet.doPost(TServlet.java:83)&lt;br/&gt;
        at org.apache.hive.service.cli.thrift.ThriftHttpServlet.doPost(ThriftHttpServlet.java:99)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;br/&gt;
        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:565)&lt;br/&gt;
        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:479)&lt;br/&gt;
        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:225)&lt;br/&gt;
        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1031)&lt;br/&gt;
        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:406)&lt;br/&gt;
        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:186)&lt;br/&gt;
        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:965)&lt;br/&gt;
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)&lt;br/&gt;
        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)&lt;br/&gt;
        at org.eclipse.jetty.server.Server.handle(Server.java:349)&lt;br/&gt;
        at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:449)&lt;br/&gt;
        at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:925)&lt;br/&gt;
        at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:952)&lt;br/&gt;
        at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)&lt;br/&gt;
        at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:76)&lt;br/&gt;
        at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:609)&lt;br/&gt;
        at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:45)&lt;br/&gt;
        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:599)&lt;br/&gt;
        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:534)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:744)&lt;br/&gt;
Caused by: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)&lt;br/&gt;
        at sun.security.jgss.krb5.Krb5InitCredential.getInstance(Krb5InitCredential.java:147)&lt;br/&gt;
        at sun.security.jgss.krb5.Krb5MechFactory.getCredentialElement(Krb5MechFactory.java:121)&lt;br/&gt;
        at sun.security.jgss.krb5.Krb5MechFactory.getMechanismContext(Krb5MechFactory.java:187)&lt;br/&gt;
        at sun.security.jgss.GSSManagerImpl.getMechanismContext(GSSManagerImpl.java:223)&lt;br/&gt;
        at sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:212)&lt;br/&gt;
        at sun.security.jgss.GSSContextImpl.initSecContext(GSSContextImpl.java:179)&lt;br/&gt;
        at com.sun.security.sasl.gsskerb.GssKrb5Client.evaluateChallenge(GssKrb5Client.java:193)&lt;br/&gt;
        ... 60 more&lt;/p&gt;</comment>
                            <comment id="14139629" author="vgumashta" created="Thu, 18 Sep 2014 22:35:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Alexandre+LINTE&quot; class=&quot;user-hover&quot; rel=&quot;Alexandre LINTE&quot;&gt;LINTE&lt;/a&gt; Can you also try with an embedded metastore with HiveServer2? You can specify: -hiveconf hive.metastore.uris=&quot; &quot; in the startup command to do that.&lt;/p&gt;</comment>
                            <comment id="14140444" author="alexandre linte" created="Fri, 19 Sep 2014 13:08:28 +0000"  >&lt;p&gt;I comment out hive.metastore.uris in the hive-site.xml and then restart hiveserver2 with embedded  metastore and local derby database.&lt;/p&gt;

&lt;p&gt;I have many exception for each hive request from knox but it work.&lt;/p&gt;




</comment>
                            <comment id="14140993" author="thejas" created="Fri, 19 Sep 2014 18:03:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;and local derby database.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;You should be able to use remote rdbms as well.&lt;/p&gt;</comment>
                            <comment id="14155534" author="darumugam" created="Wed, 1 Oct 2014 21:10:59 +0000"  >&lt;p&gt;patch using org.apache.hadoop.security.authentication.util.KerberosName&lt;/p&gt;</comment>
                            <comment id="14155570" author="vgumashta" created="Wed, 1 Oct 2014 21:26:19 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;I&apos;ll be taking care of shimming KerberosName in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8324&quot; title=&quot;Shim KerberosName (causes build failure on hadoop-1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8324&quot;&gt;&lt;del&gt;HIVE-8324&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14156808" author="vgumashta" created="Thu, 2 Oct 2014 17:26:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=darumugam&quot; class=&quot;user-hover&quot; rel=&quot;darumugam&quot;&gt;Dilli Arumugam&lt;/a&gt; Somehow the patch wasn&apos;t picked in precommit run. I&apos;m renaming it and attaching agn.&lt;/p&gt;</comment>
                            <comment id="14157596" author="hiveqa" created="Fri, 3 Oct 2014 02:19:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12672586/HIVE-6799.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12672586/HIVE-6799.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 6539 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testConvertBooleanToInt[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testGetInputBytes[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testProjectionsBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadPartitionedBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadComplex[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadPrimitiveTypes[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsNoDataInDataNoSpec[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testEmptyStore[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testNoAlias[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartitionPublish[5]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1092/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1092/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1092/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1092/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1092/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1092/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12672586&lt;/p&gt;</comment>
                            <comment id="14157693" author="vgumashta" created="Fri, 3 Oct 2014 05:38:51 +0000"  >&lt;p&gt;Failures are unrelated. I&apos;ll commit this shortly.&lt;/p&gt;</comment>
                            <comment id="14157697" author="darumugam" created="Fri, 3 Oct 2014 05:40:57 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14157705" author="vgumashta" created="Fri, 3 Oct 2014 05:48:26 +0000"  >&lt;p&gt;Patch committed to trunk and 14. Thanks for the work &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=darumugam&quot; class=&quot;user-hover&quot; rel=&quot;darumugam&quot;&gt;Dilli Arumugam&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14210751" author="thejas" created="Thu, 13 Nov 2014 19:42:24 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12745330">HIVE-8324</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12672413" name="HIVE-6799-3.patch" size="2179" author="darumugam" created="Wed, 1 Oct 2014 21:10:59 +0000"/>
                            <attachment id="12638127" name="HIVE-6799.1.patch" size="1810" author="darumugam" created="Tue, 1 Apr 2014 20:54:47 +0000"/>
                            <attachment id="12638131" name="HIVE-6799.2.patch" size="1811" author="darumugam" created="Tue, 1 Apr 2014 21:28:34 +0000"/>
                            <attachment id="12672586" name="HIVE-6799.3.patch" size="2179" author="vgumashta" created="Thu, 2 Oct 2014 17:26:56 +0000"/>
                            <attachment id="12638126" name="HIVE-6799.patch" size="1810" author="darumugam" created="Tue, 1 Apr 2014 20:40:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Apr 2014 04:18:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384138</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384406</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6800] HiveServer2 is not passing proxy user setting through hive-site</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6800</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Setting the following in core-site.xml works fine in a secure cluster with hive.server2.allow.user.substitution set to true:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property&amp;gt;
  &amp;lt;name&amp;gt;hadoop.proxyuser.user1.groups&amp;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;users&amp;lt;/value&amp;gt;
&amp;lt;/property&amp;gt;
    
&amp;lt;property&amp;gt;
  &amp;lt;name&amp;gt;hadoop.proxyuser.user1.hosts&amp;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;*&amp;lt;/value&amp;gt;
&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where user1 will be proxying for user2:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;!connect jdbc:hive2:/myhostname:10000/;principal=hive/_HOST@EXAMPLE.COM;hive.server2.proxy.user=user2 user1 fakepwd org.apache.hive.jdbc.HiveDriver
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, setting this in hive-site.xml throws &quot;Failed to validate proxy privilage&quot; exception.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12705815">HIVE-6800</key>
            <summary>HiveServer2 is not passing proxy user setting through hive-site</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vgumashta">Vaibhav Gumashta</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 23:28:47 +0000</created>
                <updated>Sun, 6 Apr 2014 00:48:20 +0000</updated>
                            <resolved>Sun, 6 Apr 2014 00:09:48 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13955876" author="vgumashta" created="Mon, 31 Mar 2014 23:33:09 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; Bug for 13!&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13956237" author="hiveqa" created="Tue, 1 Apr 2014 08:29:28 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637963/HIVE-6800.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637963/HIVE-6800.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5513 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_dyn_part
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2059/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2059/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2059/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2059/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637963&lt;/p&gt;</comment>
                            <comment id="13956519" author="prasadm" created="Tue, 1 Apr 2014 13:54:05 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~vaibhavgumashta&amp;#93;&lt;/span&gt; Thanks for fixing the issue. Looks fine to me.&lt;br/&gt;
+1&lt;/p&gt;</comment>
                            <comment id="13956740" author="vgumashta" created="Tue, 1 Apr 2014 16:48:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt; Thanks for taking a look. The failure looks unrelated.&lt;/p&gt;</comment>
                            <comment id="13961227" author="thejas" created="Sat, 5 Apr 2014 20:33:45 +0000"  >&lt;p&gt;There is a thread safety issue here,  ProxyUsers uses HashMap internally, and refreshSuperUserGroupsConfiguration updates the hashmaps. If it gets updated from two places, it could result in issues like getting stuck in an infinite loop.&lt;br/&gt;
Also, when one thread is calling ProxyUsers.authorize, another thread might clear the hashmap entries as it enters ProxyUsers.refreshSuperUserGroupsConfiguration.&lt;br/&gt;
refreshSuperUserGroupsConfiguration also looks like an expensive operation. I think we would be better to do it just once from HadoopShimsSecure .&lt;/p&gt;</comment>
                            <comment id="13961228" author="thejas" created="Sat, 5 Apr 2014 20:35:19 +0000"  >&lt;p&gt;Sorry, I take that back, refreshSuperUserGroupsConfiguration and authorize are actually synchronized methods. &lt;br/&gt;
Patch looks good to me.&lt;/p&gt;

&lt;p&gt;I think we should look at doing the refreshSuperUserGroupsConfiguration only once, but that can be part of a follow up jira.&lt;/p&gt;</comment>
                            <comment id="13961287" author="thejas" created="Sun, 6 Apr 2014 00:09:48 +0000"  >&lt;p&gt;Patch committed to trunk and 0.13 branch.&lt;br/&gt;
Thanks for the contribution Vaibhav, and thanks for the review Prasad!&lt;/p&gt;</comment>
                            <comment id="13961294" author="thejas" created="Sun, 6 Apr 2014 00:48:20 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6851&quot; title=&quot;HS2 proxy user - should refresh proxy user list only once&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6851&quot;&gt;HIVE-6851&lt;/a&gt; for the optimization suggested above.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12706820">HIVE-6851</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12637963" name="HIVE-6800.1.patch" size="848" author="vgumashta" created="Tue, 1 Apr 2014 00:34:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Apr 2014 08:29:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384139</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6gn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384407</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6801] beeline kerberos authentication fails if the client principal name has hostname part</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6801</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Kinited as guest@EXAMPLE.COM&lt;/p&gt;

&lt;p&gt;Connected successfully with beeline using command&lt;br/&gt;
!connect jdbc:hive2://hdps.example.com:10001/default;principal=hive/hdps.example.com@EXAMPLE.COM;hive.server2.proxy.user=guest?hive.server2.transport.mode=http;hive.server2.thrift.http.path=cliservice  dummy dummy-pass org.apache.hive.jdbc.HiveDriver&lt;/p&gt;

&lt;p&gt;Kinited as bob/hdps.exmaple.com@EXAMPLE.COM&lt;/p&gt;

&lt;p&gt;!connect jdbc:hive2://hdps.example.com:10001/default;principal=hive/hdps.example.com@EXAMPLE.COM;hive.server2.proxy.user=guest?hive.server2.transport.mode=http;hive.server2.thrift.http.path=cliservice  dummy dummy-pass org.apache.hive.jdbc.HiveDriver&lt;/p&gt;

&lt;p&gt;Failed with stack trace&lt;br/&gt;
Error: Could not establish connection to jdbc:hive2://hdps.example.com:10001/default;principal=hive/hdps.example.com@EXAMPLE.COM;hive.server2.proxy.user=guest?hive.server2.transport.mode=http;hive.server2.thrift.http.path=cliservice: org.apache.http.client.ClientProtocolException (state=08S01,code=0)&lt;br/&gt;
java.sql.SQLException: Could not establish connection to jdbc:hive2://hdps.example.com:10001/default;principal=hive/hdps.example.com@EXAMPLE.COM;hive.server2.proxy.user=guest?hive.server2.transport.mode=http;hive.server2.thrift.http.path=cliservice: org.apache.http.client.ClientProtocolException&lt;br/&gt;
	at org.apache.hive.jdbc.HiveConnection.openSession(HiveConnection.java:426)&lt;br/&gt;
	at org.apache.hive.jdbc.HiveConnection.&amp;lt;init&amp;gt;(HiveConnection.java:193)&lt;br/&gt;
	at org.apache.hive.jdbc.HiveDriver.connect(HiveDriver.java:105)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:582)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:154)&lt;br/&gt;
	at org.apache.hive.beeline.DatabaseConnection.connect(DatabaseConnection.java:145)&lt;br/&gt;
	at org.apache.hive.beeline.DatabaseConnection.getConnection(DatabaseConnection.java:186)&lt;br/&gt;
	at org.apache.hive.beeline.Commands.connect(Commands.java:959)&lt;br/&gt;
	at org.apache.hive.beeline.Commands.connect(Commands.java:880)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hive.beeline.ReflectiveCommandHandler.execute(ReflectiveCommandHandler.java:44)&lt;br/&gt;
	at org.apache.hive.beeline.BeeLine.dispatch(BeeLine.java:792)&lt;br/&gt;
	at org.apache.hive.beeline.BeeLine.begin(BeeLine.java:659)&lt;br/&gt;
	at org.apache.hive.beeline.BeeLine.mainWithInputRedirection(BeeLine.java:368)&lt;br/&gt;
	at org.apache.hive.beeline.BeeLine.main(BeeLine.java:351)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:212)&lt;br/&gt;
Caused by: org.apache.thrift.transport.TTransportException: org.apache.http.client.ClientProtocolException&lt;br/&gt;
	at org.apache.thrift.transport.THttpClient.flushUsingHttpClient(THttpClient.java:281)&lt;br/&gt;
	at org.apache.thrift.transport.THttpClient.flush(THttpClient.java:297)&lt;br/&gt;
	at org.apache.thrift.TServiceClient.sendBase(TServiceClient.java:65)&lt;br/&gt;
	at org.apache.hive.service.cli.thrift.TCLIService$Client.send_OpenSession(TCLIService.java:150)&lt;br/&gt;
	at org.apache.hive.service.cli.thrift.TCLIService$Client.OpenSession(TCLIService.java:142)&lt;br/&gt;
	at org.apache.hive.jdbc.HiveConnection.openSession(HiveConnection.java:415)&lt;br/&gt;
	... 22 more&lt;br/&gt;
Caused by: org.apache.http.client.ClientProtocolException&lt;br/&gt;
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:909)&lt;br/&gt;
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:827)&lt;br/&gt;
	at org.apache.thrift.transport.THttpClient.flushUsingHttpClient(THttpClient.java:235)&lt;br/&gt;
	... 27 more&lt;br/&gt;
Caused by: org.apache.http.HttpException&lt;br/&gt;
	at org.apache.hive.jdbc.HttpKerberosRequestInterceptor.process(HttpKerberosRequestInterceptor.java:67)&lt;br/&gt;
	at org.apache.http.protocol.ImmutableHttpProcessor.process(ImmutableHttpProcessor.java:109)&lt;br/&gt;
	at org.apache.http.protocol.HttpRequestExecutor.preProcess(HttpRequestExecutor.java:176)&lt;br/&gt;
	at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:518)&lt;br/&gt;
	at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)&lt;br/&gt;
	... 29 more&lt;br/&gt;
Caused by: java.lang.reflect.UndeclaredThrowableException&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1563)&lt;br/&gt;
	at org.apache.hive.service.auth.HttpAuthUtils.getKerberosServiceTicket(HttpAuthUtils.java:94)&lt;br/&gt;
	at org.apache.hive.jdbc.HttpKerberosRequestInterceptor.process(HttpKerberosRequestInterceptor.java:61)&lt;br/&gt;
	... 33 more&lt;br/&gt;
Caused by: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)&lt;br/&gt;
	at sun.security.jgss.krb5.Krb5InitCredential.getInstance(Krb5InitCredential.java:130)&lt;br/&gt;
	at sun.security.jgss.krb5.Krb5MechFactory.getCredentialElement(Krb5MechFactory.java:106)&lt;br/&gt;
	at sun.security.jgss.GSSManagerImpl.getCredentialElement(GSSManagerImpl.java:178)&lt;br/&gt;
	at sun.security.jgss.GSSCredentialImpl.add(GSSCredentialImpl.java:384)&lt;br/&gt;
	at sun.security.jgss.GSSCredentialImpl.&amp;lt;init&amp;gt;(GSSCredentialImpl.java:42)&lt;br/&gt;
	at sun.security.jgss.GSSManagerImpl.createCredential(GSSManagerImpl.java:139)&lt;br/&gt;
	at org.apache.hive.service.auth.HttpAuthUtils$HttpKerberosClientAction.run(HttpAuthUtils.java:161)&lt;br/&gt;
	at org.apache.hive.service.auth.HttpAuthUtils$HttpKerberosClientAction.run(HttpAuthUtils.java:126)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)&lt;br/&gt;
	... 35 more&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12705817">HIVE-6801</key>
            <summary>beeline kerberos authentication fails if the client principal name has hostname part</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="darumugam">Dilli Arumugam</assignee>
                                    <reporter username="darumugam">Dilli Arumugam</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 23:35:14 +0000</created>
                <updated>Fri, 24 Oct 2014 23:05:32 +0000</updated>
                            <resolved>Fri, 24 Oct 2014 23:05:32 +0000</resolved>
                                                                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14183694" author="vgumashta" created="Fri, 24 Oct 2014 23:05:32 +0000"  >&lt;p&gt;Fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8246&quot; title=&quot;HiveServer2 in http-kerberos mode is restrictive on client usernames&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8246&quot;&gt;&lt;del&gt;HIVE-8246&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12743855">HIVE-8246</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Oct 2014 23:05:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 13 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6h3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384409</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6802] Fix metastore.thrift: add partition_columns.types constant</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6802</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6642&quot; title=&quot;Query fails to vectorize when a non string partition column is part of the query expression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6642&quot;&gt;&lt;del&gt;HIVE-6642&lt;/del&gt;&lt;/a&gt; edited the hive_metastoreConstants.java genned file. &lt;br/&gt;
Need to add constant to thrift file and regen thrift classes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12705827">HIVE-6802</key>
            <summary>Fix metastore.thrift: add partition_columns.types constant</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="rhbutani">Harish Butani</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Apr 2014 00:50:57 +0000</created>
                <updated>Tue, 1 Apr 2014 14:42:35 +0000</updated>
                            <resolved>Tue, 1 Apr 2014 14:42:35 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13955961" author="jdere" created="Tue, 1 Apr 2014 00:57:34 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13955963" author="sershe" created="Tue, 1 Apr 2014 00:57:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13955970" author="hsubramaniyan" created="Tue, 1 Apr 2014 01:09:05 +0000"  >&lt;p&gt;+1. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; for incorporating this missing change.&lt;/p&gt;</comment>
                            <comment id="13956354" author="hiveqa" created="Tue, 1 Apr 2014 10:26:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12637968/HIVE-6802.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12637968/HIVE-6802.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5513 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2062/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2062/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2062/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2062/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12637968&lt;/p&gt;</comment>
                            <comment id="13956572" author="rhbutani" created="Tue, 1 Apr 2014 14:42:35 +0000"  >&lt;p&gt;Committed to trunk and 0.13&lt;br/&gt;
thanks Jason, Sergey, Hari for reviewing&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12637968" name="HIVE-6802.1.patch" size="4718" author="rhbutani" created="Tue, 1 Apr 2014 00:53:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Apr 2014 00:57:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384151</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6803] Hive mutil group by results are not normal </title>
                <link>https://issues.apache.org/jira/browse/HIVE-6803</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hi all &lt;br/&gt;
I&apos;m learning hive,I am by looking at the following two SQL syntax tree , there is a problem&#12290;&lt;/p&gt;

&lt;p&gt;predicate:&lt;br/&gt;
                  expr: ((qq rlike &apos;.&lt;b&gt;(baidu).&lt;/b&gt;&apos;) or (qq rlike &apos;.&lt;b&gt;(sina).&lt;/b&gt;&apos;))&lt;br/&gt;
                  type: boolean&lt;/p&gt;

&lt;p&gt;explain from telno_qq&lt;br/&gt;
insert overwrite local directory &apos;/tmp/s&apos; select telno,count(1)  where qq RLIKE &apos;.&lt;b&gt;(baidu).&lt;/b&gt;&apos; group by telno&lt;br/&gt;
insert overwrite local directory &apos;/tmp/d&apos; select telno,count(1)  where qq RLIKE &apos;.&lt;b&gt;(sina).&lt;/b&gt;&apos; group by telno;&lt;/p&gt;

&lt;p&gt;predicate:&lt;br/&gt;
                  expr: (qq rlike &apos;.&lt;b&gt;(baidu).&lt;/b&gt;&apos;)&lt;br/&gt;
                  type: boolean&lt;br/&gt;
predicate:&lt;br/&gt;
                  expr: (qq rlike &apos;.&lt;b&gt;(sina).&lt;/b&gt;&apos;)&lt;br/&gt;
                  type: boolean&lt;/p&gt;

&lt;p&gt;explain from telno_qq&lt;br/&gt;
insert overwrite local directory &apos;/tmp/s&apos; select telno  where qq RLIKE &apos;.&lt;b&gt;(baidu).&lt;/b&gt;&apos; &lt;br/&gt;
insert overwrite local directory &apos;/tmp/d&apos; select telno  where qq RLIKE &apos;.&lt;b&gt;(sina).&lt;/b&gt;&apos; ;&lt;/p&gt;

&lt;p&gt;The first query plan will satisfy the conditions of the two select data into / tmp / s and / tmp / d them, but actually I just want to / tmp / s data exist only baidu , / tmp / d exists only sina data . But the result is to meet or sina baidu records are placed in / tmp / s and / tmp / d both of them went to the temporary directory .&lt;/p&gt;

&lt;p&gt;The second query plan is right , and the query result is correct&lt;/p&gt;</description>
                <environment></environment>
        <key id="12705849">HIVE-6803</key>
            <summary>Hive mutil group by results are not normal </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yanbit">yankun</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Apr 2014 03:50:08 +0000</created>
                <updated>Wed, 16 Apr 2014 01:27:48 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13970318" author="yanbit" created="Wed, 16 Apr 2014 01:27:48 +0000"  >&lt;p&gt;This bug has been resolved in the hive 0.12 version&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384173</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6804] sql std auth - granting existing table privilege to owner should result in error</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6804</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Table owner gets all privileges on the table at the time of table creation.&lt;br/&gt;
But granting some or all of the privileges using grant statement still works resulting in duplicate privileges. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12705883">HIVE-6804</key>
            <summary>sql std auth - granting existing table privilege to owner should result in error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="deepesh">Deepesh Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Apr 2014 08:54:19 +0000</created>
                <updated>Wed, 2 Apr 2014 18:19:46 +0000</updated>
                            <resolved>Wed, 2 Apr 2014 18:19:46 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13956269" author="thejas" created="Tue, 1 Apr 2014 08:56:49 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=deepesh&quot; class=&quot;user-hover&quot; rel=&quot;deepesh&quot;&gt;Deepesh Khandelwal&lt;/a&gt;&lt;br/&gt;
Steps to reproduce:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Login as a public user (eg. hrt_1).
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;0: jdbc:hive2://localhost:10&amp;gt; create table foobar (foo string, bar string);
No rows affected (0.167 seconds)
0: jdbc:hive2://localhost:10&amp;gt; show grant on table foobar;
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
| database  |  table  | partition  | column  | principal_name  | principal_type  | privilege  | grant_option  |   gran |
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
| default   | foobar  |            |         | hrt_1           | USER            | DELETE     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | INSERT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | SELECT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | UPDATE     | true          | 139629 |
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
4 rows selected (0.043 seconds)
0: jdbc:hive2://localhost:10&amp;gt; grant all on table foobar to user hrt_1 with grant option;
No rows affected (0.171 seconds)
0: jdbc:hive2://localhost:10&amp;gt; show grant on table foobar;
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
| database  |  table  | partition  | column  | principal_name  | principal_type  | privilege  | grant_option  |   gran |
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
| default   | foobar  |            |         | hrt_1           | USER            | DELETE     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | DELETE     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | INSERT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | INSERT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | SELECT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | SELECT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | UPDATE     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | UPDATE     | true          | 139629 |
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
8 rows selected (0.046 seconds)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I would not expect duplicate entries, either we should error out when we try to grant privileges on a table where user already has privileges or the command become a NOOP.&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;Now try grant another time and revoke.
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;0: jdbc:hive2://localhost:10&amp;gt; grant all on table foobar to user hrt_1 with grant option;
Error: Error while processing statement: FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask. Error granting privileges: Internal error processing grant_privileges (state=08S01,code=1)
0: jdbc:hive2://localhost:10&amp;gt; show grant on table foobar;
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
| database  |  table  | partition  | column  | principal_name  | principal_type  | privilege  | grant_option  |   gran |
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
| default   | foobar  |            |         | hrt_1           | USER            | DELETE     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | DELETE     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | INSERT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | INSERT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | SELECT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | SELECT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | UPDATE     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | UPDATE     | true          | 139629 |
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
8 rows selected (0.045 seconds)
0: jdbc:hive2://localhost:10&amp;gt; revoke all on table foobar from user hrt_1;
No rows affected (0.156 seconds)
0: jdbc:hive2://localhost:10&amp;gt; show grant on table foobar;
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
| database  |  table  | partition  | column  | principal_name  | principal_type  | privilege  | grant_option  |   gran |
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
| default   | foobar  |            |         | hrt_1           | USER            | DELETE     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | INSERT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | SELECT     | true          | 139629 |
| default   | foobar  |            |         | hrt_1           | USER            | UPDATE     | true          | 139629 |
+-----------+---------+------------+---------+-----------------+-----------------+------------+---------------+--------+
4 rows selected (0.039 seconds)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So we see two things here. First, the user cannot grant privileges again which is right and should have been the case even earlier. Second, revoking privileges removes only the duplicate set of privileges. This can be bad for end user who might think that he already revoked privileges but the system still preserves a set.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13956285" author="thejas" created="Tue, 1 Apr 2014 09:10:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; This is an important bug fix for sql std auth. I think we should include this in 0.13 .&lt;/p&gt;</comment>
                            <comment id="13956565" author="ashutoshc" created="Tue, 1 Apr 2014 14:36:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13956566" author="rhbutani" created="Tue, 1 Apr 2014 14:36:57 +0000"  >&lt;p&gt;+1 for 0.13&lt;/p&gt;</comment>
                            <comment id="13957572" author="hiveqa" created="Wed, 2 Apr 2014 12:02:21 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638029/HIVE-6804.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638029/HIVE-6804.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5540 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_smb_mapjoin_8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2078/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2078/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2078/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2078/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638029&lt;/p&gt;</comment>
                            <comment id="13957984" author="thejas" created="Wed, 2 Apr 2014 18:19:46 +0000"  >&lt;p&gt;Patch committed to 0.13 branch and trunk.&lt;br/&gt;
Thanks for the review Ashutosh!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12705885">HIVE-6805</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12638029" name="HIVE-6804.1.patch" size="3717" author="thejas" created="Tue, 1 Apr 2014 09:06:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Apr 2014 08:56:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384207</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-6805] metastore api should consider privileges to be case insensitive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6805</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Metastore api has some code that considers privileges to be case sensitive.&lt;br/&gt;
This needs to be corrected.&lt;br/&gt;
For example in ObjectStore.grantPrivileges, the following check does a case sensitive comparison -&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; privilege : privs) {
              &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (privSet.contains(privilege)) {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InvalidObjectException(privilege
                    + &lt;span class=&quot;code-quote&quot;&gt;&quot; is already granted by &quot;&lt;/span&gt; + grantor);
              }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12705885">HIVE-6805</key>
            <summary>metastore api should consider privileges to be case insensitive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Apr 2014 09:03:20 +0000</created>
                <updated>Tue, 29 Apr 2014 20:57:11 +0000</updated>
                                                                            <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12705883">HIVE-6804</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384477</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-6806] CREATE TABLE should support STORED AS AVRO</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6806</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Avro is well established and widely used within Hive, however creating Avro-backed tables requires the messy listing of the SerDe, InputFormat and OutputFormat classes.&lt;/p&gt;

&lt;p&gt;Similarly to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5783&quot; title=&quot;Native Parquet Support in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5783&quot;&gt;&lt;del&gt;HIVE-5783&lt;/del&gt;&lt;/a&gt; for Parquet, Hive would be easier to use if it had native Avro support.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12706013">HIVE-6806</key>
            <summary>CREATE TABLE should support STORED AS AVRO</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rem120">Jeremy Beard</assignee>
                                    <reporter username="rem120">Jeremy Beard</reporter>
                        <labels>
                            <label>Avro</label>
                    </labels>
                <created>Tue, 1 Apr 2014 17:56:05 +0000</created>
                <updated>Sun, 17 Jan 2016 06:56:16 +0000</updated>
                            <resolved>Fri, 25 Jul 2014 18:02:53 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>15</watches>
                                                                <comments>
                            <comment id="14057125" author="singhashish" created="Thu, 10 Jul 2014 04:52:05 +0000"  >&lt;p&gt;RB: &lt;a href=&quot;https://reviews.apache.org/r/23387/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/23387/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14057183" author="hiveqa" created="Thu, 10 Jul 2014 06:13:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12654935/HIVE-6806.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12654935/HIVE-6806.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5723 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avro_native
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avro_schema_error_message
org.apache.hadoop.hive.serde2.avro.TestAvroSerde.noSchemaProvidedReturnsErrorSchema
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/730/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/730/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/730/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/730/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-730/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-730/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12654935&lt;/p&gt;</comment>
                            <comment id="14057276" author="damien.carol" created="Thu, 10 Jul 2014 08:44:55 +0000"  >&lt;p&gt;Doesn&apos;t this JIRA be superseded by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5976&quot; title=&quot;Decouple input formats from STORED as keywords&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5976&quot;&gt;&lt;del&gt;HIVE-5976&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="14057543" author="brocknoland" created="Thu, 10 Jul 2014 14:56:26 +0000"  >&lt;p&gt;I don&apos;t think this is superceded by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5976&quot; title=&quot;Decouple input formats from STORED as keywords&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5976&quot;&gt;&lt;del&gt;HIVE-5976&lt;/del&gt;&lt;/a&gt;, but rather we have to figure out who one goes first and the other will have to update their patch. Since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5976&quot; title=&quot;Decouple input formats from STORED as keywords&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5976&quot;&gt;&lt;del&gt;HIVE-5976&lt;/del&gt;&lt;/a&gt; is a larger patch and will make this patch much smaller, I am inclined to let that one go first.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidzchen&quot; class=&quot;user-hover&quot; rel=&quot;davidzchen&quot;&gt;David Chen&lt;/a&gt; what are your thoughts?&lt;/p&gt;</comment>
                            <comment id="14057891" author="davidzchen" created="Thu, 10 Jul 2014 20:14:26 +0000"  >&lt;p&gt;Thanks for contributing this, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=singhashish&quot; class=&quot;user-hover&quot; rel=&quot;singhashish&quot;&gt;Ashish Singh&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; on this. Once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5976&quot; title=&quot;Decouple input formats from STORED as keywords&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5976&quot;&gt;&lt;del&gt;HIVE-5976&lt;/del&gt;&lt;/a&gt; goes in, then this patch will become much simpler since adding native support for Avro will no longer require the changes to the Hive grammar and parser.&lt;/p&gt;</comment>
                            <comment id="14057906" author="singhashish" created="Thu, 10 Jul 2014 20:22:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidchen&quot; class=&quot;user-hover&quot; rel=&quot;davidchen&quot;&gt;David Chen&lt;/a&gt;, thanks for reviewing the work. &lt;/p&gt;

&lt;p&gt;Sounds good to me. I have to anyways address &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;&apos;s review comments.&lt;/p&gt;</comment>
                            <comment id="14058196" author="davidzchen" created="Fri, 11 Jul 2014 01:30:19 +0000"  >&lt;p&gt;By the way, it may also be good to add a qfile test for Avro schema evolution over different partitions. I remember we have had to fix some issues related to schema evolution, such as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6835&quot; title=&quot;Reading of partitioned Avro data fails if partition schema does not match table schema&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6835&quot;&gt;&lt;del&gt;HIVE-6835&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;FYI, I also have a TypeInfo to Avro Schema converter in my patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7286&quot; title=&quot;Parameterize HCatMapReduceTest for testing against all Hive storage formats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7286&quot;&gt;&lt;del&gt;HIVE-7286&lt;/del&gt;&lt;/a&gt; along with some unit tests for the converter. Feel free to go ahead and make use of it.&lt;/p&gt;</comment>
                            <comment id="14059137" author="singhashish" created="Fri, 11 Jul 2014 18:23:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidchen&quot; class=&quot;user-hover&quot; rel=&quot;davidchen&quot;&gt;David Chen&lt;/a&gt; Thanks for the pointers here. I do have a test for avro over partitions, avro_partitioned_native.q. &lt;/p&gt;</comment>
                            <comment id="14060247" author="singhashish" created="Mon, 14 Jul 2014 00:42:22 +0000"  >&lt;p&gt;I have addressed the reviews and updated RB with latest patch. Will attach latest patch here once I have rebased it over &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5976&quot; title=&quot;Decouple input formats from STORED as keywords&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5976&quot;&gt;&lt;del&gt;HIVE-5976&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14060995" author="cwsteinbach" created="Mon, 14 Jul 2014 18:32:59 +0000"  >&lt;p&gt;Does anyone object to changing the summary of this ticket to &quot;CREATE TABLE should support STORED AS AVRO&quot;? The current description can be misinterpreted to mean that this patch is adding the AvroSerDe.&lt;/p&gt;</comment>
                            <comment id="14060998" author="rem120" created="Mon, 14 Jul 2014 18:35:27 +0000"  >&lt;p&gt;Would that mean with this patch we still need to specify the SerDe when creating an Avro table?&lt;/p&gt;</comment>
                            <comment id="14061008" author="brocknoland" created="Mon, 14 Jul 2014 18:43:22 +0000"  >&lt;p&gt;That change sounds good to me.&lt;/p&gt;

&lt;p&gt;Jeremey, no I believe this is a metadata change only.&lt;/p&gt;</comment>
                            <comment id="14061327" author="singhashish" created="Mon, 14 Jul 2014 22:01:01 +0000"  >&lt;p&gt;Updated patch after rebase.&lt;/p&gt;</comment>
                            <comment id="14061460" author="davidzchen" created="Tue, 15 Jul 2014 00:08:18 +0000"  >&lt;p&gt;Thanks, Ashish. I saw that you have a test for partitioned tables. Can you also include one that covers schema evolution, i.e. when the schema changes over partitions, such as the case in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6835&quot; title=&quot;Reading of partitioned Avro data fails if partition schema does not match table schema&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6835&quot;&gt;&lt;del&gt;HIVE-6835&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14061541" author="hiveqa" created="Tue, 15 Jul 2014 01:56:09 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12655626/HIVE-6806.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12655626/HIVE-6806.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5749 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_in_file
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_temp_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/783/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/783/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/783/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/783/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-783/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12655626&lt;/p&gt;</comment>
                            <comment id="14063076" author="singhashish" created="Wed, 16 Jul 2014 03:36:55 +0000"  >&lt;p&gt;Add qtest for avro schema evolution.&lt;/p&gt;</comment>
                            <comment id="14063079" author="singhashish" created="Wed, 16 Jul 2014 03:37:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidchen&quot; class=&quot;user-hover&quot; rel=&quot;davidchen&quot;&gt;David Chen&lt;/a&gt; Addressed your concerns on RB and added qtest with avro schema evolution scenario. Kindly take a look.&lt;/p&gt;</comment>
                            <comment id="14063197" author="hiveqa" created="Wed, 16 Jul 2014 05:56:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12655976/HIVE-6806.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12655976/HIVE-6806.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5752 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_temp_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_join_hash
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/807/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/807/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/807/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/807/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-807/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-807/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12655976&lt;/p&gt;</comment>
                            <comment id="14064592" author="davidzchen" created="Thu, 17 Jul 2014 05:34:08 +0000"  >&lt;p&gt;Thanks for adding the qtest for schema evolution, Ashish!&lt;/p&gt;

&lt;p&gt;Aside from some minor formatting comments, this looks good to me.&lt;/p&gt;</comment>
                            <comment id="14071321" author="cwsteinbach" created="Wed, 23 Jul 2014 03:31:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tomwhite&quot; class=&quot;user-hover&quot; rel=&quot;tomwhite&quot;&gt;Tom White&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lars_francke&quot; class=&quot;user-hover&quot; rel=&quot;lars_francke&quot;&gt;Lars Francke&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;: Are you guys satisfied with the current version of the patch? If so I&apos;ll plan to +1 it and get it committed after another round of automated tests. Thanks.&lt;/p&gt;</comment>
                            <comment id="14071333" author="singhashish" created="Wed, 23 Jul 2014 03:52:36 +0000"  >&lt;p&gt;All reviews on RB are addressed. Once I get a ship it there, I can post the patch here for automated tests.&lt;/p&gt;</comment>
                            <comment id="14072113" author="singhashish" created="Wed, 23 Jul 2014 18:41:50 +0000"  >&lt;p&gt;Addressed review comments on RB.&lt;/p&gt;</comment>
                            <comment id="14072199" author="lars_francke" created="Wed, 23 Jul 2014 19:28:06 +0000"  >&lt;p&gt;Patch looks good. Ashish, thanks a lot for addressing all these minor comments. Ship it! (not a committer)&lt;/p&gt;</comment>
                            <comment id="14072510" author="davidzchen" created="Wed, 23 Jul 2014 23:02:14 +0000"  >&lt;p&gt;Looks good to me as well. +1 (also not a committer)&lt;/p&gt;</comment>
                            <comment id="14072716" author="hiveqa" created="Thu, 24 Jul 2014 02:39:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12657411/HIVE-6806.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12657411/HIVE-6806.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5761 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.metastore.txn.TestCompactionTxnHandler.testRevokeTimedOutWorkers
org.apache.hive.hcatalog.pig.TestOrcHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/28/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/28/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/28/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/28/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-28/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-28/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12657411&lt;/p&gt;</comment>
                            <comment id="14072742" author="brocknoland" created="Thu, 24 Jul 2014 03:16:25 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;this is an awesome contribution...&lt;/p&gt;</comment>
                            <comment id="14073783" author="davidzchen" created="Thu, 24 Jul 2014 22:47:28 +0000"  >&lt;p&gt;I have verified that the test failures do not appear to be caused by this patch.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The TestMinimrCliDriver failure also fails on trunk&lt;/li&gt;
	&lt;li&gt;The TestOrcHCatLoader failure is a known issue and also fails on trunk spuriously.&lt;/li&gt;
	&lt;li&gt;I was not able to reproduce the TestCompactionTxnHandler or TestHiveServer2 failures on both trunk and this patch applied on trunk.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think this patch is ready to be committed.&lt;/p&gt;</comment>
                            <comment id="14073888" author="singhashish" created="Fri, 25 Jul 2014 00:19:03 +0000"  >&lt;p&gt;Yes, the failed tests are not related to this patch.&lt;/p&gt;</comment>
                            <comment id="14074691" author="cwsteinbach" created="Fri, 25 Jul 2014 18:02:53 +0000"  >&lt;p&gt;Committed to trunk. Thanks Ashish!&lt;/p&gt;</comment>
                            <comment id="14074704" author="singhashish" created="Fri, 25 Jul 2014 18:08:31 +0000"  >&lt;p&gt;Thanks all for reviewing and committing.&lt;/p&gt;</comment>
                            <comment id="14075008" author="lefty@hortonworks.com" created="Fri, 25 Jul 2014 21:59:47 +0000"  >&lt;p&gt;This will need documentation when 0.14.0 gets released (with version note and link to this JIRA ticket):&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AvroSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Avro SerDe (multiple sections) &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-CreateTable&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Create Table (syntax:  list of values for file_format) &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RowFormat,StorageFormat,andSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Row Format, Storage Format, and SerDe &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14075088" author="brocknoland" created="Fri, 25 Jul 2014 22:47:13 +0000"  >&lt;p&gt;Great to see this committed. I cannot say enough how awesome this change is!&lt;/p&gt;</comment>
                            <comment id="14076577" author="singhashish" created="Mon, 28 Jul 2014 18:49:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; thanks for looking at this. I am not sure how documentations are handled. Could you please help me understand what needs to be done for the documentation here.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; thanks!&lt;/p&gt;</comment>
                            <comment id="14077482" author="lefty@hortonworks.com" created="Tue, 29 Jul 2014 07:38:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=singhashish&quot; class=&quot;user-hover&quot; rel=&quot;singhashish&quot;&gt;Ashish Singh&lt;/a&gt;, wikidoc updates are handled various ways.  Sometimes the developer takes care of it, sometimes I write it up and ask for review, and occasionally someone else writes it up.  I usually edit what others write, making sure version information is included and cross references get made.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;In this case, I think I could revise the DDL sections adequately but you would probably do a better job revising the Avro SerDe wiki, keeping in mind that the old information needs to remain for users of previous releases.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;If you don&apos;t want to do it yourself, or even if you do, a release note on this JIRA ticket would be an excellent start.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;If you have an in-house tech writer who could do the job, their contribution would be most welcome &amp;#8212; my backlog of doc tasks is daunting, I&apos;m just doing this as a retirement hobby, and it&apos;s summertime. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The links in my previous comment show where revisions should go.  The Avro SerDe doc has several examples of CREATE TABLE &amp;#8212; the simplest approach is to add a second example for each one, saying &quot;In Hive 0.14.0 and later, this syntax can be used:&quot; (or something similar).  A general statement or discussion of the new syntax would be good too.&lt;/p&gt;

&lt;p&gt;Since the 0.14.0 release is a few months away, the documentation could wait although it might be best done while still fresh in your mind.  To gain write access to the wiki, follow the instructions here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AboutThisWiki&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;About This Wiki &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14088879" author="singhashish" created="Thu, 7 Aug 2014 06:07:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; Thanks for detailed info here.&lt;/p&gt;

&lt;p&gt;I have updated the JIRA&apos;s release note and documentation on Avro&apos;s usage in Hive, &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AvroSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/AvroSerDe&lt;/a&gt;. Feel free to make it better.&lt;/p&gt;</comment>
                            <comment id="14092487" author="lefty@hortonworks.com" created="Mon, 11 Aug 2014 06:04:40 +0000"  >&lt;p&gt;Thanks Ashish, your doc changes look good.  I&apos;m just making a few minor edits.&lt;/p&gt;

&lt;p&gt;This sentence in the Avro SerDe doc is out of date:  &quot;The AvroSerde has been built and tested against Hive 0.9.1 and Avro 1.5.&quot;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Can I change it to &quot;tested against Hive 0.9.1 and later&quot;?&lt;/li&gt;
	&lt;li&gt;What Avro versions have been tested?  (Their latest is 1.7.7:  &lt;a href=&quot;http://avro.apache.org/releases.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://avro.apache.org/releases.html&lt;/a&gt;.)&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14092534" author="lefty@hortonworks.com" created="Mon, 11 Aug 2014 07:44:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=singhashish&quot; class=&quot;user-hover&quot; rel=&quot;singhashish&quot;&gt;Ashish Singh&lt;/a&gt;, why did you outdent union1 to bytes1 in the examples?  I aligned them with the rest of the data types, then indented all of them two more spaces to make STORED AS AVRO stand out &amp;#8211; but if you wanted the outdent, please revert my changes or ask me to do it.&lt;/p&gt;

&lt;p&gt;Also, your example in &quot;Hive 0.14 and later versions&quot; under &quot;Creating Avro-backed Hive tables&quot; is identical to the one you added to the code block in &quot;All Hive versions&quot; just before it &amp;#8211; was that deliberate, or an editing artifact?  It seems to me the Hive 0.14 example in &quot;All Hive versions&quot; isn&apos;t necessary, but I left it in for now.&lt;/p&gt;

&lt;p&gt;Please review my changes, because I moved some information around.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AvroSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Avro SerDe &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14093836" author="lefty@hortonworks.com" created="Tue, 12 Aug 2014 07:17:31 +0000"  >&lt;p&gt;I added STORED AS AVRO to the DDL wikidoc:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-CreateTable&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Create Table &amp;#8211; see file_format (at the end of the syntax) &lt;/a&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;file_format:
  : SEQUENCEFILE
  ...
  | AVRO       (Note: Only available starting with Hive 0.14.0)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RowFormat,StorageFormat,andSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Row Format, Storage Format, and SerDe &lt;/a&gt;&lt;br/&gt;
&quot;Use STORED AS AVRO for Avro files in Hive 0.14.0 and later (see Avro SerDe).&quot;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14096064" author="singhashish" created="Wed, 13 Aug 2014 20:27:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; thanks for taking a look at the changes I made. Based on your feedback I have made following changes.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;As Hive 0.14 uses Avro 1.7.5, updated Hive and Avro version text accordingly.&lt;/li&gt;
	&lt;li&gt;Removed the Hive 0.14 example in &quot;All Hive versions&quot; under &quot;Creating Avro-backed Hive tables&quot;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Let  me know if I missed out anything.&lt;/p&gt;</comment>
                            <comment id="14096168" author="lefty@hortonworks.com" created="Wed, 13 Aug 2014 21:39:57 +0000"  >&lt;p&gt;Looks good, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=singhashish&quot; class=&quot;user-hover&quot; rel=&quot;singhashish&quot;&gt;Ashish Singh&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;But (ever the nitpicker) we probably need Hive versions matched with Avro versions, because the wiki covers all Hive versions.  Does Hive 0.13 also use Avro 1.7.5?  If the Avro version is somewhere in the code, I can compile a list of Avro versions for various Hive versions.&lt;/p&gt;

&lt;p&gt;Of course, this is beyond the scope of the jira.  So if it&apos;s more than a moment&apos;s work, we should raise a new issue.&lt;/p&gt;</comment>
                            <comment id="14096188" author="lefty@hortonworks.com" created="Wed, 13 Aug 2014 21:55:48 +0000"  >&lt;p&gt;(I should grep before asking, not after.)  Here&apos;s what I&apos;ve found in the released branches, starting with 0.9:&lt;/p&gt;

&lt;p&gt;Hive 0.9  &amp;#8211;  ivy/libraries.properties:avro.version=1.5.3&lt;br/&gt;
Hive 0.10  &amp;#8211;  ivy/libraries.properties:avro.version=1.7.1&lt;br/&gt;
Hive 0.11  &amp;#8211;  ivy/libraries.properties:avro.version=1.7.1&lt;br/&gt;
Hive 0.12  &amp;#8211;  ivy/libraries.properties:avro.version=1.7.1&lt;br/&gt;
Hive 0.13  &amp;#8211;  pom.xml:    &amp;lt;avro.version&amp;gt;1.7.5&amp;lt;/avro.version&amp;gt;&lt;br/&gt;
Hive 0.13.1  &amp;#8211;  pom.xml:    &amp;lt;avro.version&amp;gt;1.7.5&amp;lt;/avro.version&amp;gt;&lt;/p&gt;

&lt;p&gt;Documented here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AvroSerDe#AvroSerDe-Requirements&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Avro SerDe &amp;#8211; Requirements &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14182455" author="lefty@hortonworks.com" created="Fri, 24 Oct 2014 05:23:47 +0000"  >&lt;p&gt;Shouldn&apos;t AVRO be added as a possible value for the &lt;b&gt;hive.default.fileformat&lt;/b&gt; parameter in HiveConf.java?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.default.fileformat&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.default.fileformat &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14182579" author="navis" created="Fri, 24 Oct 2014 08:05:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; Right. I&apos;ll book that into new issue.&lt;/p&gt;</comment>
                            <comment id="14183913" author="lefty@hortonworks.com" created="Sat, 25 Oct 2014 04:17:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8591&quot; title=&quot;hive.default.fileformat should accept all formats described by StorageFormatDescriptor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8591&quot;&gt;HIVE-8591&lt;/a&gt; &quot;hive.default.fileformat should accept all formats described by StorageFormatDescriptor&quot; which also deals with the values for hive.query.result.fileformat &amp;#8211; thanks!&lt;/p&gt;</comment>
                            <comment id="14211134" author="thejas" created="Thu, 13 Nov 2014 19:44:18 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12595122">HIVE-3159</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12683190">HIVE-5976</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12728244">HIVE-7446</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12750305">HIVE-8591</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12728049">HIVE-7440</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12655626" name="HIVE-6806.1.patch" size="51568" author="singhashish" created="Mon, 14 Jul 2014 21:59:57 +0000"/>
                            <attachment id="12655976" name="HIVE-6806.2.patch" size="65943" author="singhashish" created="Wed, 16 Jul 2014 03:36:55 +0000"/>
                            <attachment id="12657411" name="HIVE-6806.3.patch" size="78971" author="singhashish" created="Wed, 23 Jul 2014 18:41:50 +0000"/>
                            <attachment id="12654935" name="HIVE-6806.patch" size="49140" author="singhashish" created="Thu, 10 Jul 2014 04:52:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Jul 2014 04:52:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u7o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384604</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Add support to infer Avro schema from Hive table schema. Avro-backed tables can simply be created by using &amp;quot;STORED AS AVRO&amp;quot; in DDL statement. AvroSerDe takes care of creating appropriate Avro schema from Hive table schema, a big win in terms of Avro usability in Hive.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
