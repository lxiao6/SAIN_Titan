<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:13:25 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2009-5-13+AND+created+%3C%3D+2009-5-20+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="14" total="14"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-484] Add flag to redirect system messages to stderr.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-484</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;(It is possible that this is a Hadoop issue, rather than Hive)&lt;/p&gt;

&lt;p&gt;Hive currently puts job-status information, such as the percentage of the job completed, to stdout.  This information can be removed with the silent flag &quot;-S&quot;, but it cannot be reasonably redirected.  This means that users who want to capture the output of jobs are stuck with either getting status information in their capture, or foregoing status entirely.&lt;/p&gt;

&lt;p&gt;Both these options are bad.&lt;/p&gt;

&lt;p&gt;It would be nice if there were a way to redirect everything which -S silences to stderr.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425353">HIVE-484</key>
            <summary>Add flag to redirect system messages to stderr.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="sasmith">S. Alex Smith</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2009 18:41:56 +0000</created>
                <updated>Fri, 22 May 2009 03:14:49 +0000</updated>
                            <resolved>Fri, 22 May 2009 03:14:49 +0000</resolved>
                                                                    <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12711936" author="rsm" created="Fri, 22 May 2009 03:14:49 +0000"  >&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-505&quot; title=&quot;console.info should print to stderr&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-505&quot;&gt;&lt;del&gt;HIVE-505&lt;/del&gt;&lt;/a&gt;, all info messages will be written to stderr. So, you can redirect hive command line output to a file without specifying the silent option.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 May 2009 03:14:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73504</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122275</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-485] join assumes all columns are strings</title>
                <link>https://issues.apache.org/jira/browse/HIVE-485</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;join assumes all columns are string - pass the objectinspector from execreducer and use that&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425375">HIVE-485</key>
            <summary>join assumes all columns are strings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2009 20:45:12 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:45 +0000</updated>
                            <resolved>Tue, 19 May 2009 00:52:48 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12710496" author="zshao" created="Mon, 18 May 2009 21:16:24 +0000"  >&lt;p&gt;hive.485.2.patch:&lt;br/&gt;
1. The patch adds ObjectInspector[] to Operator.initialize, but that parameter is only set for JoinOperator. I guess the intention is to leave the rest of the work to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-405&quot; title=&quot;Cleanup operator initialization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-405&quot;&gt;&lt;del&gt;HIVE-405&lt;/del&gt;&lt;/a&gt;?&lt;br/&gt;
2. Utility.hashCode() is not very efficient. I think we should do a &quot;switch&quot; based on the Category and PrimitiveCategory of the object.&lt;/p&gt;</comment>
                            <comment id="12710554" author="zshao" created="Tue, 19 May 2009 00:16:04 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Will commit if test passes.&lt;/p&gt;</comment>
                            <comment id="12710565" author="zshao" created="Tue, 19 May 2009 00:52:48 +0000"  >&lt;p&gt;Committed revision 776140.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12422546">HIVE-405</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12408042" name="hive.485.1.patch" size="17807" author="namit" created="Wed, 13 May 2009 20:49:12 +0000"/>
                            <attachment id="12408196" name="hive.485.2.patch" size="20443" author="namit" created="Thu, 14 May 2009 22:57:50 +0000"/>
                            <attachment id="12408422" name="hive.485.3.patch" size="20872" author="namit" created="Mon, 18 May 2009 23:51:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 May 2009 21:16:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122276</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-485&quot; title=&quot;join assumes all columns are strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-485&quot;&gt;&lt;strike&gt;HIVE-485&lt;/strike&gt;&lt;/a&gt;. Fix join not to assume all columns are strings. (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-486] concurrent modification exception in case of empty partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-486</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12425376">HIVE-486</key>
            <summary>concurrent modification exception in case of empty partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2009 20:50:26 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:47 +0000</updated>
                            <resolved>Mon, 18 May 2009 22:53:55 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12710525" author="prasadc" created="Mon, 18 May 2009 22:53:54 +0000"  >&lt;p&gt;Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408053" name="hive.486.1.patch" size="5469" author="namit" created="Wed, 13 May 2009 22:10:52 +0000"/>
                            <attachment id="12408408" name="hive.486.2.patch" size="4517" author="namit" created="Mon, 18 May 2009 19:06:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 May 2009 22:53:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73502</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122277</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-487] Hive does not compile with Hadoop 0.20.0</title>
                <link>https://issues.apache.org/jira/browse/HIVE-487</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Attempting to compile Hive with Hadoop 0.20.0 fails:&lt;/p&gt;

&lt;p&gt;aaron@jargon:~/src/ext/svn/hive-0.3.0$ ant -Dhadoop.version=0.20.0 package&lt;br/&gt;
(several lines elided)&lt;br/&gt;
compile:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Compiling: hive&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 261 source files to /home/aaron/src/ext/svn/hive-0.3.0/build/ql/classes&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; /home/aaron/src/ext/svn/hive-0.3.0/build/ql/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java:94: cannot find symbol&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; symbol  : method getCommandLineConfig()&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; location: class org.apache.hadoop.mapred.JobClient&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;       Configuration commandConf = JobClient.getCommandLineConfig();&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                                            ^&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; /home/aaron/src/ext/svn/hive-0.3.0/build/ql/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java:241: cannot find symbol&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; symbol  : method validateInput(org.apache.hadoop.mapred.JobConf)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; location: interface org.apache.hadoop.mapred.InputFormat&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;       inputFormat.validateInput(newjob);&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                  ^&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Some input files use or override a deprecated API.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Recompile with -Xlint:deprecation for details.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Some input files use unchecked or unsafe operations.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Recompile with -Xlint:unchecked for details.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 2 errors&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;br/&gt;
/home/aaron/src/ext/svn/hive-0.3.0/build.xml:145: The following error occurred while executing this line:&lt;br/&gt;
/home/aaron/src/ext/svn/hive-0.3.0/ql/build.xml:135: Compile failed; see the compiler error output for details.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425378">HIVE-487</key>
            <summary>Hive does not compile with Hadoop 0.20.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinlynn">Justin Lynn</assignee>
                                    <reporter username="kimballa">Aaron Kimball</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2009 20:54:34 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:14 +0000</updated>
                            <resolved>Tue, 4 Aug 2009 23:11:12 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>13</watches>
                                                                <comments>
                            <comment id="12711771" author="justinlynn" created="Thu, 21 May 2009 19:47:13 +0000"  >&lt;p&gt;This patch (based on trunk) will allow a compile and passes all but two unit tests (see attached junit test report). This is my first time contributing so I&apos;m going to need a bit of help with the SQL result differences.&lt;/p&gt;</comment>
                            <comment id="12711838" author="justinlynn" created="Thu, 21 May 2009 21:59:16 +0000"  >&lt;p&gt;Actually it appears that those test failures are /not/ related to my changes (I checked out vanilla trunk and built and tested it, and those two tests still failed).&lt;/p&gt;</comment>
                            <comment id="12711930" author="athusoo" created="Fri, 22 May 2009 02:30:49 +0000"  >&lt;p&gt;Assigned.&lt;/p&gt;</comment>
                            <comment id="12711931" author="athusoo" created="Fri, 22 May 2009 02:31:37 +0000"  >&lt;p&gt;Thanks for your contribution.&lt;br/&gt;
Please do a submit patch when you attach a patch so that we get it in the patch submitted queue.&lt;/p&gt;</comment>
                            <comment id="12712332" author="athusoo" created="Sat, 23 May 2009 01:24:56 +0000"  >&lt;p&gt;Hi Justin, Why have all the @Overrides have been taken out from the code.&lt;/p&gt;</comment>
                            <comment id="12712621" author="justinlynn" created="Mon, 25 May 2009 01:20:06 +0000"  >&lt;p&gt;The @Override annotations were removed because they were causing runtime exceptions to be generated in the latest sun Java VM. This is because those annotations were used on methods that were not correctly overriding anything in the respective superclass.&lt;/p&gt;</comment>
                            <comment id="12712627" author="prasadc" created="Mon, 25 May 2009 03:14:18 +0000"  >&lt;p&gt;which version of JAVA VM are you using?&lt;/p&gt;

&lt;p&gt;The below doesn&apos;t throw such errors but some configurations of Eclipse does throw such errors.&lt;/p&gt;

&lt;p&gt;pchakka@dev111 ~ &amp;gt; java -version&lt;br/&gt;
java version &quot;1.6.0_07&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_07-b06)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 10.0-b23, mixed mode)&lt;/p&gt;</comment>
                            <comment id="12712835" author="justinlynn" created="Tue, 26 May 2009 03:07:51 +0000"  >&lt;p&gt;Output of my java -version reads:&lt;br/&gt;
java version &quot;1.6.0_13&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_13-b03)&lt;br/&gt;
Java HotSpot(TM) Server VM (build 11.3-b02, mixed mode)&lt;/p&gt;

&lt;p&gt;Looking for more differences or reasons why this might happen. Double checking some things.&lt;/p&gt;</comment>
                            <comment id="12712854" author="justinlynn" created="Tue, 26 May 2009 04:53:21 +0000"  >&lt;p&gt;This patch removes all extraneous @override removals (potentially not neccessary, should&apos;ve been done in another bug). Passes all unit tests on trunk (rev. 778559).&lt;/p&gt;</comment>
                            <comment id="12712855" author="justinlynn" created="Tue, 26 May 2009 04:57:49 +0000"  >&lt;p&gt;This patch does not attempt to re-implement the hadoop version specific functionality that was removed. This could potentially cause a bug in running trunk hive on hadoop 0.17.x as indicated by the comment on the removed code. Is this acceptable or should an attempt be made at reimplementation of intention using non-depreciated/removed interfaces?&lt;/p&gt;</comment>
                            <comment id="12713348" author="athusoo" created="Wed, 27 May 2009 00:54:45 +0000"  >&lt;p&gt;Actually this has to compile with hadoop 0.17.x otherwise we will not be able to deploy this internally at FB. We are still on hadoop 0.17 and we have already lauched trunk into production.&lt;/p&gt;</comment>
                            <comment id="12713349" author="athusoo" created="Wed, 27 May 2009 00:54:46 +0000"  >&lt;p&gt;Actually this has to compile with hadoop 0.17.x otherwise we will not be able to deploy this internally at FB. We are still on hadoop 0.17 and we have already lauched trunk into production.&lt;/p&gt;</comment>
                            <comment id="12713357" author="justinlynn" created="Wed, 27 May 2009 01:14:07 +0000"  >&lt;p&gt;Understood, I&apos;ll see what I can do. However, it appears that the API is starting to pull away with what would easily be reverse compatible. A 0.20.0+ branch might be warranted.&lt;/p&gt;</comment>
                            <comment id="12713448" author="kimballa" created="Wed, 27 May 2009 06:55:29 +0000"  >&lt;p&gt;I&apos;m +1 on an 0.20 branch. Cloudera&apos;s Distribution for Hadoop will be moving toward an 0.20 base and we would like to offer a compatible edition of Hive.&lt;/p&gt;</comment>
                            <comment id="12713450" author="ashk" created="Wed, 27 May 2009 06:59:28 +0000"  >&lt;p&gt;Another +1 for the 0.20 branch.&lt;/p&gt;</comment>
                            <comment id="12713780" author="jsensarma" created="Wed, 27 May 2009 22:30:48 +0000"  >&lt;p&gt;I agree that at some point we would drop support for older branches (&amp;lt;=17). But it&apos;s still worth looking at whether we can avoid doing this right now. For example for the ExecDriver change:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;// workaround for hadoop-17 - jobclient only looks at commandlineconfig&lt;/li&gt;
	&lt;li&gt;Configuration commandConf = JobClient.getCommandLineConfig();&lt;/li&gt;
	&lt;li&gt;if (commandConf != null) {&lt;/li&gt;
	&lt;li&gt;commandConf.set(&quot;tmpfiles&quot;, realFiles);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;we can do this using reflection - (grep -i declaredmethod HiveInputFormat.java).&lt;/p&gt;

&lt;p&gt;are the mapredtask.java changes necessary?&lt;/p&gt;</comment>
                            <comment id="12715946" author="jsensarma" created="Wed, 3 Jun 2009 15:07:49 +0000"  >&lt;p&gt;this version uses reflection in a couple of places so that ql continues to compile with older versions.&lt;/p&gt;

&lt;p&gt;i haven&apos;t had a chance to look at the hwi code and make that portable (it doesn&apos;t compile with 19 currently). If Edward could take a look - that would be awesome.&lt;/p&gt;</comment>
                            <comment id="12723588" author="appodictic" created="Wed, 24 Jun 2009 14:54:53 +0000"  >&lt;p&gt;I gave a quick try and was getting hunk errors. Are these patches cumulative? Should I apply them in order &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-487&quot; title=&quot;Hive does not compile with Hadoop 0.20.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-487&quot;&gt;&lt;del&gt;HIVE-487&lt;/del&gt;&lt;/a&gt;.patch, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-487&quot; title=&quot;Hive does not compile with Hadoop 0.20.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-487&quot;&gt;&lt;del&gt;HIVE-487&lt;/del&gt;&lt;/a&gt;-2.patch, hive-487.3.patch?&lt;/p&gt;

&lt;p&gt;I looked at jetty the HWI server in the patch. The changes are cosmetic.  We might be able to make that portable with reflection as well if that is what we want. &lt;/p&gt;</comment>
                            <comment id="12725662" author="jsensarma" created="Tue, 30 Jun 2009 15:08:14 +0000"  >&lt;p&gt;regenerated. &lt;/p&gt;

&lt;p&gt;the HWI stuff does not compile against 0.19 and prior because of the change to using new jetty apis. one option is to bundle the new jetty jar with hive. hadoop seems to have moved to using ivy and i am wondering if we should do the same.&lt;/p&gt;</comment>
                            <comment id="12725667" author="jsensarma" created="Tue, 30 Jun 2009 15:29:22 +0000"  >&lt;p&gt;have to use reflection. putting new jetty jars in hive does not matter since hadoop&apos;s jars take precedence at runtime (since we launch everything via hadoop)&lt;/p&gt;

&lt;p&gt;can take a shot - looks simple ..&lt;/p&gt;</comment>
                            <comment id="12725669" author="prasadc" created="Tue, 30 Jun 2009 15:32:27 +0000"  >&lt;p&gt;i don&apos;t think we can keep single version of Hive for all active versions of Hadoop. Why don&apos;t we release a branch for 20 and periodically merge from trunk to 20?&lt;/p&gt;</comment>
                            <comment id="12725715" author="jsensarma" created="Tue, 30 Jun 2009 17:30:41 +0000"  >&lt;p&gt;branching will get fairly complicated. where will 0.4.0 be branched off? sure there will be a time to deprecate support for older hadoop ersions - just not convinced this is it.&lt;/p&gt;

&lt;p&gt;Note that the dependency in this case is particularly frivolous. We could ship Hive with a single version of jetty that Hive components require - but instead we are depending on Hadoop to provide it. This seems more like a setup problem on our side.&lt;/p&gt;

&lt;p&gt;One simple option (to not use reflection) is to add the right version of jetty into the runtime classpath (if it&apos;s not there already). the compile time works fine already. (since we control the classpath from build xmls)&lt;/p&gt;</comment>
                            <comment id="12726820" author="jsensarma" created="Fri, 3 Jul 2009 08:06:12 +0000"  >&lt;p&gt;so i tried a custom classloader to force the new jetty jars to be used preferentially for loading classes.&lt;/p&gt;

&lt;p&gt;alas - it does not work. it seems that some classes from the hadoop jetty jars are already loaded by the time control is transferred to hive/hwi. trying to load remaining classes from the new jetty jar causes a &apos;sealing violation exception&apos;. (this is with hadoop-19)&lt;/p&gt;

&lt;p&gt;only reasonable alternative i can think of now is to run the hwiserver by spawning a new jvm (with a modified classpath that omits hadoop&apos;s jetty jars)&lt;/p&gt;</comment>
                            <comment id="12727039" author="appodictic" created="Fri, 3 Jul 2009 16:36:11 +0000"  >&lt;p&gt;Joydeep,&lt;br/&gt;
We do depend on Hadoop to provide Jetty. The rational was not to require extra or external libraries for the user. At the time Hive had just become its own project from being a Hadoop contrib project so it made sense to depend on Hadoop Jetty. We have a few other options. We can use a completely different Web Server. &lt;a href=&quot;http://tjws.sourceforge.net/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://tjws.sourceforge.net/&lt;/a&gt;. Now we have no conflicts. Or we can just build a war with no embedded type options. Even if we switch to tjws we still might end up using reflection since the API could change over time although we would chose when to upgrade the servlet engine, not hadoop. For now I will make a version that uses reflection to start up the server, since these changes are mostly cosmetic.&lt;/p&gt;</comment>
                            <comment id="12732929" author="appodictic" created="Sat, 18 Jul 2009 19:40:21 +0000"  >&lt;p&gt;Ok half way there. I added an abstraction to use reflection  to completely kick up the HWI Jetty Server. Right now I only added the code for jetty5 0.19.0. 20 soon. Is this what everyone had in mind?&lt;/p&gt;</comment>
                            <comment id="12733948" author="athusoo" created="Wed, 22 Jul 2009 01:49:08 +0000"  >&lt;p&gt;This sounds reasonable to me. Will go over the patch in more detail. Are you planning to upload another one soon or should I just review this one?&lt;/p&gt;</comment>
                            <comment id="12733973" author="appodictic" created="Wed, 22 Jul 2009 04:01:15 +0000"  >&lt;p&gt;This is going a little slow. The reflection aspect is pretty painful coding. I  think I am 98% percent complete. New test cases added. Hopefully I can have a final take in a day or two, sometimes its is hard to decide what exceptions to throw etc since there are very few design patters based around reflecting entire applications &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="12734609" author="appodictic" created="Thu, 23 Jul 2009 15:04:35 +0000"  >&lt;p&gt;This patch passes all unit tests. Also deployed and tested to a 0.19.0 cluster and a 0.20.0 cluster. &lt;/p&gt;

&lt;p&gt;Changes to hive-default.conf are to correct &lt;br/&gt;
hive-hwi.war&lt;br/&gt;
to&lt;br/&gt;
hive_hwi.war&lt;/p&gt;

&lt;p&gt;My changes to HWIServer.java clobbered other changes in the previous 0.20 patch since HWIServer.java delegates most duty to ServerWrapper.java&lt;/p&gt;</comment>
                            <comment id="12734674" author="namit" created="Thu, 23 Jul 2009 18:08:07 +0000"  >&lt;p&gt;Overall, it looks good - but can you do a simple cosmetic changes.&lt;/p&gt;

&lt;p&gt;1. Have 1 patch instead of different patches for jetty and 487&lt;br/&gt;
2. Add more comments:&lt;/p&gt;

&lt;p&gt;/**&lt;br/&gt;
				29 		 Hadoop 17-19 used Jetty5. Hadoop 20 uses jetty6. Hive still should compile and &lt;br/&gt;
...run with all versions.&lt;br/&gt;
				30 		 Java is strongly typed Class based language. The Reflection API is required to &lt;br/&gt;
...circumvent the strong &lt;br/&gt;
				31 		 typing. We have used the reflection API to deal with the known versions of Jetty &lt;br/&gt;
...we must work with. &lt;br/&gt;
				32 		 CS students: If you are ever in a debate about classless VS classful programming &lt;br/&gt;
...be sure to &lt;br/&gt;
				33 		 reference this code.&lt;br/&gt;
				34 		 */&lt;/p&gt;


&lt;p&gt;is very good:&lt;/p&gt;

&lt;p&gt;Can you repeat a subset of this in HadoopVersion also ?&lt;br/&gt;
Hive still should compile and &lt;br/&gt;
...run with all versions. (17-20)&lt;/p&gt;


&lt;p&gt;3. usesJobShell: can you add more comments here &amp;#8211; it is true for version 20 but not for 20 etc.&lt;br/&gt;
4. This may be outside the scope of this - but should some unit tests run for hadoop17, and some for hadoop 20, as part of ant test.&lt;br/&gt;
    Currently, all of them use the default 19. As I mentioned before, this can be done in a follow-up also.&lt;/p&gt;</comment>
                            <comment id="12734696" author="namit" created="Thu, 23 Jul 2009 18:45:45 +0000"  >&lt;p&gt;4. is not needed - we can enable 20 from hudson&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Can you add some more comments, and then I can commit it&lt;/p&gt;</comment>
                            <comment id="12734749" author="tlipcon" created="Thu, 23 Jul 2009 19:37:09 +0000"  >&lt;p&gt;A couple thoughts:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Does the same compiled jar truly work in all versions of Hadoop between 0.17 and 0.19? That is to say, can we consider an option in which we use some build.xml rules to, depending on the value of a hadoop.version variable, swap between two implementations of the same .java file (one compatible with Jetty 5, one with Jetty 6)? Then in the build product we could simply include two jars and have the wrapper scripts swap between them based on version. If size is a concern, the variant classes could be put in their own jar that would only be a few KB.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The reflection code in this patch is pretty messy. I mocked up an idea for a slightly cleaner way to do it, and will attach it as a tarball momentarily. The idea is to define our own interfaces which have the same methods as we need to use in Jetty, and use a dynamic proxy to forward those invocations through to the actual implementation class. Dynamically choosing between the two interfaces is simple at runtime by simply checking that the method signatures correspond. This is still dirty (and a bad role model for CS students &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ) but it should reduce the number of Class.forName and .getMethod calls in the wrapper class&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12734750" author="tlipcon" created="Thu, 23 Jul 2009 19:41:23 +0000"  >&lt;p&gt;Here&apos;s a tarball showing the technique mentioned in the comment above. The script &quot;run.sh&quot; will compile and run the example once with &quot;v1&quot; on the classpath, and a second time with &quot;v2&quot; on the classpath. I&apos;m not certain that this will cover all the cases that are needed for Jetty, but I figured I would throw it out there.&lt;/p&gt;</comment>
                            <comment id="12734781" author="appodictic" created="Thu, 23 Jul 2009 20:56:54 +0000"  >&lt;p&gt;@Todd - Where were you a few weeks ago? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Then in the build product we could simply include two jars and have the wrapper scripts swap between them based on version
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The jars are upstream in Hadoop core. I did not look into this closely but the talk about &apos;Sealing exceptions&apos; above led me to believe I should not try this.&lt;/p&gt;

&lt;p&gt;I have wrapped my head around most of your Dynamic Proxy idea. My only concern is will the ant process cooperate? Will eclipse think the HWI classes are broken? Can we translate your run.sh into something ant/eclipse can deal with?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public class WebServer {
  public void someMethod(String arg) {
    System.out.println(&quot;Webserver v1: &quot; + arg);
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I really don&apos;t want to have one &apos;someMethod&apos; per each Jetty method. Just start(), stop(), init(). I like your implementation, but this is such a &apos;hacky&apos; thing, I wonder is it worth thinking that hard? Hopefully the Jetty crew will be happy with their API for the next few years. Hopefully, we will not be supporting Hadoop 0.17.0 indefinitely. Honestly all that reflection has me &apos;burnt out&apos;.&lt;/p&gt;

&lt;p&gt;If you/we can tackle the ant/eclipse issues I would be happy to use the &apos;Dynamic Proxy&apos;, but maybe we tackle it in a different Jira because this is a pretty big blocker and I am sure many people want to see this in the trunk. &lt;/p&gt;</comment>
                            <comment id="12734795" author="tlipcon" created="Thu, 23 Jul 2009 21:25:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;@Todd - Where were you a few weeks ago? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Chillin&apos; over on the HADOOP jira &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; We&apos;re gearing up for release of our distribution that includes Hadoop 0.20.0, so just started watching this one more carefully.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The jars are upstream in Hadoop core. I did not look into this closely but the talk about &apos;Sealing exceptions&apos; above led me to believe I should not try this.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sorry, what I meant here is that the hive tarball would include lib/hive-0.4.0.jar, lib/jetty-shims/hive-jetty-shim-v6.jar and lib/jetty-shims/hive-jetty-shim-v5.jar&lt;/p&gt;

&lt;p&gt;In those jars we&apos;d have two different implementations of the shim. The hive wrapper script would then do something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;HADOOP_JAR=$HADOOP_HOME/hadoop*core*jar
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [[ $HADOOP_JAR =~ 0.1[789] ]]; then
  JETTY_SHIM=lib/jetty-shims/jetty-shim-v5.jar
&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
  JETTY_SHIM=lib/jetty-shims/jetty-shim-v6.jar
fi
CLASSPATH=$CLASSPATH:$JETTY_SHIM
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To generate the shim jars at compile time, we&apos;d compile two different JettyShim.java files - one against the v5 API, and one against the v6 API.&lt;/p&gt;

&lt;p&gt;As for eclipse properly completing/warning for the right versions for the right files, I haven&apos;t the foggiest idea. But I am pretty sure it&apos;s not going to warn if your reflective calls are broken either &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;My only concern is will the ant process cooperate?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t see why not - my example build here is just to show how it works in a self contained way. The stuff inside v1-classes and v2-classes in the example are the equivalent of the two jetty jar versions - we don&apos;t have to compile them. The only code that has to compile is DynamicProxy.java which is completely normal code.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If you/we can tackle the ant/eclipse issues I would be happy to use the &apos;Dynamic Proxy&apos;, but maybe we tackle it in a different Jira because this is a pretty big blocker and I am sure many people want to see this in the trunk. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;As for committing now and not worrying, that sounds pretty reasonable, as long as there&apos;s some kind of deprecation timeline set out. (e.g &quot;in Hive 0.5.0 we will drop support for versions of Hadoop that use Jetty v5&quot; or whatever). As someone who isn&apos;t a major Hive contributor, I&apos;ll defer to you guys completely &amp;#8211; I just wanted to throw the idea up on the JIRA.&lt;/p&gt;</comment>
                            <comment id="12734830" author="jsensarma" created="Thu, 23 Jul 2009 23:03:13 +0000"  >&lt;p&gt;need to add the shell script hack to switch the -libjars option as well based on the jar version.&lt;/p&gt;</comment>
                            <comment id="12734972" author="tlipcon" created="Fri, 24 Jul 2009 08:38:30 +0000"  >&lt;p&gt;Here&apos;s a patch which adds a project called &quot;shims&quot; with separate source directories for 0.17, 0.18, 0.19, and 0.20. Inside each there is an implementation of JettyShims and HadoopShims which encapsulate all of the version-dependent code. The build.xml is set in such a way that ${hadoop.version} determines which one gets compiled.&lt;/p&gt;

&lt;p&gt;This probably needs a bit more javadoc before it&apos;s commitable, but I think it&apos;s worth considering this approach over reflection.&lt;/p&gt;

&lt;p&gt;Also, it seems like hadoop.version may be 0.18.0, 0.18.1, 0.18.2, etc. As long as it&apos;s kosher by Apache SVN standards, we should put a symlink for each of those versions in the shims/src/ directory pointing to 0.18, and same for the other minor releases. If symlinks aren&apos;t kosher, we need some way of parsing out the major version from within ant.&lt;/p&gt;

&lt;p&gt;Not being a regular contributor, I don&apos;t have a good test environment set up, but I&apos;ve verified that this at least builds in all of the above versions.&lt;/p&gt;</comment>
                            <comment id="12735772" author="athusoo" created="Mon, 27 Jul 2009 21:00:09 +0000"  >&lt;p&gt;I had added a GetVersionPref.java some time back to ant extensions in hive. It was later not used because we decided not to use preprocessing for 0.19 changes to validateInput and instead decided to rely on reflection. That can easily be resurrected.&lt;/p&gt;

&lt;p&gt;Let me look at this version as well. Also I am going to change this to a blocker as many people are waiting for this.&lt;/p&gt;</comment>
                            <comment id="12735773" author="athusoo" created="Mon, 27 Jul 2009 21:00:29 +0000"  >&lt;p&gt;changing to a blocker.&lt;/p&gt;</comment>
                            <comment id="12735783" author="athusoo" created="Mon, 27 Jul 2009 21:22:12 +0000"  >&lt;p&gt;Looks like a clean implementation. However, I do think that this will need some changes to the eclipse-templates to make it work with eclipse. We would want to conditionally add the src directory in shims corresponding to the proper version of hadoop to the eclipse launch templates in hive/eclipse-templates. Will try this out.&lt;/p&gt;</comment>
                            <comment id="12735787" author="athusoo" created="Mon, 27 Jul 2009 21:33:43 +0000"  >&lt;p&gt;Seems to not compile with 0.17.0 &lt;/p&gt;

&lt;p&gt;ant -Dhadoop.version=0.17.0 clean package ....&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:retrieve&amp;#93;&lt;/span&gt;  1 artifacts copied, 0 already retrieved (14101kB/79ms)&lt;/p&gt;

&lt;p&gt;install-hadoopcore-internal:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;untar&amp;#93;&lt;/span&gt; Expanding: /data/users/athusoo/commits/hive_trunk_ws9/.ptest_0/build/hadoopcore/hadoop-0.17.0.tar.gz into /data/users/athusoo/commits/hive_trunk_ws9/.ptest_0/build/hadoopcore&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;touch&amp;#93;&lt;/span&gt; Creating /data/users/athusoo/commits/hive_trunk_ws9/.ptest_0/build/hadoopcore/hadoop-0.17.0.installed&lt;/p&gt;

&lt;p&gt;compile:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Compiling: shims&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 2 source files to /data/users/athusoo/commits/hive_trunk_ws9/.ptest_0/build/shims/classes&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; /data/users/athusoo/commits/hive_trunk_ws9/.ptest_0/shims/src/0.17.0/java/org/apache/hadoop/hive/shims/HadoopShims.java:48: cannot find symbol&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; symbol  : variable JobClient&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; location: class org.apache.hadoop.hive.shims.HadoopShims&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;     Configuration conf = JobClient.getCommandLineConfig();&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                          ^&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 1 error&lt;/p&gt;
</comment>
                            <comment id="12735789" author="tlipcon" created="Mon, 27 Jul 2009 21:39:05 +0000"  >&lt;p&gt;Woops, sorry about that. Simply add an import for o.a.h.mapred.JobClient and it compiles. New patch in a second&lt;/p&gt;</comment>
                            <comment id="12735791" author="tlipcon" created="Mon, 27 Jul 2009 21:39:56 +0000"  >&lt;p&gt;Fixes the missing import. Now compiles with hadoop.version=0.17.0&lt;/p&gt;</comment>
                            <comment id="12737126" author="athusoo" created="Thu, 30 Jul 2009 15:02:01 +0000"  >&lt;p&gt;Modified Todd&apos;s patch so that it compiles cleanly with 0.20 and 0.17 as well. I have also added support in this patch to generate the proper eclipse files and have verified that this works with eclipse. Additionally the directory names within in shims have been renamed to 0.17, 0.18, ... 0.20 instead of 0.17.0, .. 0.20.0&lt;/p&gt;

&lt;p&gt;Please take a look at this. Want to get this in as soon as possible so that we can move ahead with the branching.&lt;/p&gt;

&lt;p&gt;Joy was mentioning that an additional change to the cli shell script needs to be made for -libjars support. Joy, can you elaborate on that?&lt;/p&gt;</comment>
                            <comment id="12737191" author="tlipcon" created="Thu, 30 Jul 2009 17:34:10 +0000"  >&lt;p&gt;Patch looks good for me (just inspected it visually over here)&lt;/p&gt;

&lt;p&gt;One question: once we use these shims, is it possible that we could have just a single hive distribution which works for all versions of Hadoop? I think we may be able to accomplish this by making the shim jar output be libs/shims/hive_shims-{$hadoop.version.prefix}.jar. Then either through ClassLoader magic or shell wrapper magic, we put the right one on the classpath at runtime based on which hadoop version is on the classpath.&lt;/p&gt;

&lt;p&gt;Is this possible? Having different tarballs of hive for different versions of hadoop makes our lives slightly difficult for packaging.&lt;/p&gt;</comment>
                            <comment id="12737230" author="athusoo" created="Thu, 30 Jul 2009 18:57:24 +0000"  >&lt;p&gt;It would be ideal if we can make a single jar work with different hadoop versions through classloader magic. There are also some things that are needed in the hive cli script which would have to be abstracted away through a configuration/envrionment variable. Lets try to do that for the long term, but get this in for 0.4.0. Does that sound reasonable?&lt;/p&gt;
</comment>
                            <comment id="12737236" author="tlipcon" created="Thu, 30 Jul 2009 19:06:03 +0000"  >&lt;p&gt;Hi Ashish,&lt;/p&gt;

&lt;p&gt;That does sound reasonable, though I will likely take it on in the short term, as we will be distributing packages for hadoop-0.18 and hadoop-0.20 until the majority of the community and our customers have transitioned over. During that time period we&apos;d like to have a single &quot;hive&quot; package which will function with either. We can apply my work on top of the 0.4.0 release for our distribution, so it shouldn&apos;t block it, but I do think it would be nice if this feature were &quot;upstream&quot; in the Apache release.&lt;/p&gt;

&lt;p&gt;I&apos;ve got some time blocked off to work on this - if I get something working this week do you think it might be able to go into 0.4.0?&lt;/p&gt;

&lt;p&gt;-Todd&lt;/p&gt;</comment>
                            <comment id="12737239" author="athusoo" created="Thu, 30 Jul 2009 19:20:31 +0000"  >&lt;p&gt;sure. We can get it into 0.4.0. We can wait for your checkin before freezing on 0.4.0 but we would like to at least branch 0.4.0 this week (will have a vote out for it soon). All that means is that if we branch before your checkin, you will have to provide patches for trunk and 0.4.0. Is that ok?&lt;/p&gt;</comment>
                            <comment id="12737258" author="tlipcon" created="Thu, 30 Jul 2009 19:59:08 +0000"  >&lt;p&gt;Yep, that&apos;s fine. I&apos;m a git user, branches don&apos;t faze me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12737263" author="jsensarma" created="Thu, 30 Jul 2009 20:22:40 +0000"  >&lt;p&gt;attached the previous version with modifications for cli.sh. these modifications are required (even though they don&apos;t fix the problem entirely - see below).&lt;/p&gt;

&lt;p&gt;the reason i am not able to fix the problem entirely is because -libjars is no longer processed automatically by RunJar. We have to convert CliDriver to implement &apos;Tool&apos; interface for this to happen. this is easy - but i would rather not hold up things for that.&lt;/p&gt;

&lt;p&gt;I would suggest incorporating the patch as such - open a new jira for auxlibs/auxpath not working in 0.4/trunk and fix it there.&lt;/p&gt;</comment>
                            <comment id="12737268" author="jsensarma" created="Thu, 30 Jul 2009 20:37:09 +0000"  >&lt;p&gt;on second thoughts - there&apos;s some code in execdriver that i need to call from CliDriver and things should work. will upload another one soon.&lt;/p&gt;</comment>
                            <comment id="12737345" author="jsensarma" created="Thu, 30 Jul 2009 22:59:18 +0000"  >&lt;p&gt;one more:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;--auxpath works in both 19 and 20 now. auxlib should also work - i haven&apos;t tested it separately&lt;/li&gt;
	&lt;li&gt;removed -libjars for hadoop versions 20 and above from cli shell script. changes to CliDriver to add aux jars to classpath at runtime&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;note that hive server and hwi don&apos;t work with auxpath/lib in 20 and above (since that would also require non trivial changes to HWIServer and HiveServer). we can fix this as a followon (in case someone is using the two in combination - which seems doubtful).&lt;/p&gt;

&lt;p&gt;please review changes to bin/ext/cli.sh and CliDriver &lt;/p&gt;</comment>
                            <comment id="12737774" author="namit" created="Fri, 31 Jul 2009 23:40:34 +0000"  >&lt;p&gt;   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Begin query: alter2.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; diff -a -I &amp;#40;&lt;a href=&quot;file:)&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:&amp;amp;#41;\&lt;/a&gt;|&amp;#40;/tmp/.*&amp;#41; /data/users/njain/hive_commit1/hive_commit1/build/ql/test/logs/clientpositive/alter2.q.out /data/users/njain/hive_commit1/hive_commit1/ql/src/test/results/clientpositive/alter2.q.out&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Done query: alter2.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Begin query: alter3.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; plan = /tmp/plan60193.xml&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; java.lang.NoClassDefFoundError: org/apache/hadoop/hive/shims/HadoopShims&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.hive.ql.exec.ExecDriver.initializeFiles(ExecDriver.java:95)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:358)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:571)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.util.RunJar.main(RunJar.java:165)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.mapred.JobShell.run(JobShell.java:54)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.mapred.JobShell.main(JobShell.java:68)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Caused by: java.lang.ClassNotFoundException: org.apache.hadoop.hive.shims.HadoopShims&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.net.URLClassLoader$1.run(URLClassLoader.java:200)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	... 12 more&lt;/p&gt;




&lt;p&gt;Most of the tests are failing&lt;/p&gt;</comment>
                            <comment id="12738571" author="tlipcon" created="Mon, 3 Aug 2009 20:38:44 +0000"  >&lt;p&gt;Taking a look at these failing tests now... any chance someone could hop on IRC in ##hive on freenode? I&apos;m happy to do the work, but would appreciate having someone to hit with quick questions since I&apos;m not too familiar with the code base.&lt;/p&gt;</comment>
                            <comment id="12738596" author="tlipcon" created="Mon, 3 Aug 2009 21:15:46 +0000"  >&lt;p&gt;The issue turned out to be that the shim classes weren&apos;t getting built into hive_exec.jar, which seems to include the built classes of many other of the components. I&apos;m not entirely sure why this is designed like this (why not just have hive_exec.jar add the other jars to its own classloader at startup?) but including build/shims/classes in there fixed the tests. Attaching new patch momentarily&lt;/p&gt;</comment>
                            <comment id="12738613" author="jsensarma" created="Mon, 3 Aug 2009 21:30:59 +0000"  >&lt;p&gt;hive_exec is the one that&apos;s submitted to hadoop to execute the map-reduce jobs. so we bundle all the required classes in it up front.&lt;/p&gt;

&lt;p&gt;it could be done differently (using libjars) - but was the path of least resistance at the start.&lt;/p&gt;</comment>
                            <comment id="12738844" author="tlipcon" created="Tue, 4 Aug 2009 05:49:30 +0000"  >&lt;p&gt;Attaching a new patch which makes the shim behavior happen at runtime. Here&apos;s the general idea:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the shims/build.xml now uses Ivy to download tarballs for Hadoop 17, 18, 19, and 20. It builds each of the shim sources (from src/0.XX/), which have now been renamed so that each classname is unique (eg Hadoop20Shims.class).&lt;/li&gt;
	&lt;li&gt;The results of all of these builds end up in a single hive_shims.jar&lt;/li&gt;
	&lt;li&gt;Instead of being classes with all static methods, the shim classes are now non-static and are instantiated using ShimLoader.class, in a new shims/src/common/ directory&lt;/li&gt;
	&lt;li&gt;ShimLoader simply uses o.a.h.util.VersionInfo to determine the current version info, and reflection to instantiate the proper shims for the current version.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ve tested this against pseudodistributed 18 and 20 clusters and it seemed to work. Unit tests also appear to work, though I haven&apos;t had a chance to let them run all the way through. I have not tested HWI at all as of yet.&lt;/p&gt;

&lt;p&gt;Still TODO:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I may have broken eclipse integration somewhat. I&apos;m hoping someone who uses Eclipse can twiddle the necessary stuff there.&lt;/li&gt;
	&lt;li&gt;I would appreciate a review of the javadocs for the HadoopShims interface. I don&apos;t know the specifics of some of the 17 behavior, so my docs are lame and vague.&lt;/li&gt;
	&lt;li&gt;I think build.xml needs to be modified just a bit more so that the output directory/tarball no longer includes ${hadoop.version} in it. Additionally there are one or two ant conditionals based on hadoop version - I haven&apos;t had a chance to investigate them, but they should probably be removed&lt;/li&gt;
	&lt;li&gt;I think we should have a policy that hadoop.version defaults to the most recently released apache trunk - right now it defaults to 0.19.&lt;/li&gt;
	&lt;li&gt;To compile the shims we&apos;re downloading the entire release tarballs off the apache mirror. Would be nicer if we could just download the specific jars we need to compile against, but that might be a pipe dream.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12738851" author="jsensarma" created="Tue, 4 Aug 2009 06:22:26 +0000"  >&lt;p&gt;hey - how do i apply this git diff using patch?&lt;/p&gt;</comment>
                            <comment id="12738855" author="tlipcon" created="Tue, 4 Aug 2009 06:30:31 +0000"  >&lt;p&gt;Normal patch -p0 ought to work:&lt;/p&gt;

&lt;p&gt;todd@todd-laptop:~/cloudera/cdh/repos/hive$ patch -p0 &amp;lt; /tmp/hive-487-runtime.patch &lt;br/&gt;
patching file ant/build.xml&lt;br/&gt;
patching file bin/ext/cli.sh&lt;br/&gt;
patching file build-common.xml&lt;br/&gt;
patching file build.xml&lt;br/&gt;
etc...&lt;/p&gt;

&lt;p&gt;(from a clean trunk checkout)&lt;/p&gt;</comment>
                            <comment id="12738864" author="jsensarma" created="Tue, 4 Aug 2009 06:47:29 +0000"  >&lt;p&gt;my bad .. code looks pretty clean.&lt;/p&gt;

&lt;p&gt;one concern is the stuff that u mentioned already - that all hadoop versions need to be downloaded. in particular - sometime back i had made some fixes to allow hive to compile against a specific hadoop tree (see &lt;a href=&quot;http://bit.ly/2d4Ch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bit.ly/2d4Ch&lt;/a&gt;). but this would be reverting that i imagine.&lt;/p&gt;</comment>
                            <comment id="12739233" author="namit" created="Tue, 4 Aug 2009 23:11:12 +0000"  >&lt;p&gt;Committed. Thanks Todd&lt;/p&gt;</comment>
                            <comment id="12739356" author="zshao" created="Wed, 5 Aug 2009 07:09:53 +0000"  >&lt;p&gt;When I try to start Hive with hadoop built by myself, I saw an exception:&lt;/p&gt;

&lt;p&gt;java.lang.RuntimeException: Illegal Hadoop Version: Unknown (expected A.B.* format)&lt;br/&gt;
        at org.apache.hadoop.hive.shims.ShimLoader.getMajorVersion(ShimLoader.java:101)&lt;br/&gt;
        at org.apache.hadoop.hive.shims.ShimLoader.loadShims(ShimLoader.java:80)&lt;br/&gt;
        at org.apache.hadoop.hive.shims.ShimLoader.getHadoopShims(ShimLoader.java:62)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:226)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:166)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobShell.run(JobShell.java:194)&lt;br/&gt;
        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)&lt;br/&gt;
        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobShell.main(JobShell.java:220)&lt;/p&gt;

&lt;p&gt;I guess I need to specify some Hadoop version information when compiling hadoop?&lt;/p&gt;</comment>
                            <comment id="12739556" author="tlipcon" created="Wed, 5 Aug 2009 15:11:38 +0000"  >&lt;p&gt;Hi Zheng,&lt;/p&gt;

&lt;p&gt;There is some kind of bug I&apos;ve seen before in Hadoop&apos;s build process where the version info doesn&apos;t get generated on your first compile. It&apos;s silly, but try running &apos;ant package&apos; a second time in your Hadoop build tree? Running &quot;hadoop version&quot; should let you know whether the version info got compiled in.&lt;/p&gt;

&lt;p&gt;-Todd&lt;/p&gt;</comment>
                            <comment id="12739636" author="zshao" created="Wed, 5 Aug 2009 17:29:51 +0000"  >&lt;p&gt;By doing &quot;ant ... package package&quot; I am able to generate the hadoop distribution with version information, and Hive runs fine with it now! Thanks, Todd!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12432308">HIVE-726</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12408992" name="HIVE-487-2.patch" size="5248" author="justinlynn" created="Tue, 26 May 2009 04:53:21 +0000"/>
                            <attachment id="12408731" name="HIVE-487.patch" size="40623" author="justinlynn" created="Thu, 21 May 2009 19:47:13 +0000"/>
                            <attachment id="12414370" name="dynamic-proxy.tar.gz" size="2104" author="tlipcon" created="Thu, 23 Jul 2009 19:41:23 +0000"/>
                            <attachment id="12414180" name="hive-487-jetty-2.diff" size="17723" author="appodictic" created="Wed, 22 Jul 2009 04:01:15 +0000"/>
                            <attachment id="12414345" name="hive-487-jetty.patch" size="17445" author="appodictic" created="Thu, 23 Jul 2009 15:04:35 +0000"/>
                            <attachment id="12415460" name="hive-487-runtime.patch" size="57211" author="tlipcon" created="Tue, 4 Aug 2009 05:49:30 +0000"/>
                            <attachment id="12415069" name="hive-487-with-cli-changes.2.patch" size="40828" author="jsensarma" created="Thu, 30 Jul 2009 22:59:18 +0000"/>
                            <attachment id="12415410" name="hive-487-with-cli-changes.3.patch" size="42478" author="tlipcon" created="Mon, 3 Aug 2009 21:17:00 +0000"/>
                            <attachment id="12415056" name="hive-487-with-cli-changes.patch" size="38852" author="jsensarma" created="Thu, 30 Jul 2009 20:22:40 +0000"/>
                            <attachment id="12409779" name="hive-487.3.patch" size="9135" author="jsensarma" created="Wed, 3 Jun 2009 15:07:49 +0000"/>
                            <attachment id="12412175" name="hive-487.4.patch" size="9107" author="jsensarma" created="Tue, 30 Jun 2009 15:08:14 +0000"/>
                            <attachment id="12414667" name="hive-487.txt" size="34899" author="tlipcon" created="Mon, 27 Jul 2009 21:39:56 +0000"/>
                            <attachment id="12414418" name="hive-487.txt" size="34883" author="tlipcon" created="Fri, 24 Jul 2009 08:38:30 +0000"/>
                            <attachment id="12413932" name="jetty-patch.patch" size="8110" author="appodictic" created="Sat, 18 Jul 2009 19:40:21 +0000"/>
                            <attachment id="12408732" name="junit-patch1.html" size="380622" author="justinlynn" created="Thu, 21 May 2009 19:47:13 +0000"/>
                            <attachment id="12415026" name="patch-487.txt" size="38040" author="athusoo" created="Thu, 30 Jul 2009 15:02:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 May 2009 19:47:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122278</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-488] loading into a partition with more than one partition column fails if the partition is not created before.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-488</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Following test fails on HDFS cluster but not on local file system.&lt;/p&gt;

&lt;p&gt;drop table hive_test_src;&lt;br/&gt;
drop table hive_test_dst;&lt;br/&gt;
create table hive_test_src ( col1 string ) stored as textfile ;&lt;br/&gt;
load data local inpath &apos;../data/files/test.dat&apos; overwrite into table hive_test_src ;&lt;br/&gt;
create table hive_test_dst ( col1 string ) partitioned by ( pcol1 string , pcol2 string) stored as sequencefile;&lt;br/&gt;
insert overwrite table hive_test_dst partition ( pcol1=&apos;test_part&apos;, pcol2=&apos;test_part&apos;) select col1 from hive_test_src ;&lt;br/&gt;
select * from hive_test_dst where pcol1=&apos;test_part&apos; and pcol2=&apos;test_part&apos;; &amp;#8211; returns zero rows.&lt;br/&gt;
drop table hive_test_src;&lt;br/&gt;
drop table hive_test_dst;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425379">HIVE-488</key>
            <summary>loading into a partition with more than one partition column fails if the partition is not created before.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2009 20:55:15 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:33 +0000</updated>
                            <resolved>Tue, 26 May 2009 17:04:59 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12709224" author="prasadc" created="Thu, 14 May 2009 00:10:28 +0000"  >&lt;p&gt;a simple work around is to create the partition before doing insert overwrite using query like below&lt;/p&gt;

&lt;p&gt;alter table hive_test_dst add partition( pcol1=&apos;test_part&apos;, pcol2=&apos;test_part&apos;);&lt;/p&gt;</comment>
                            <comment id="12709242" author="prasadc" created="Thu, 14 May 2009 01:53:07 +0000"  >&lt;p&gt;if the partition is to be copied to  a/b/c and if a/b doesn&apos;t exist, rename(tmpdir, a/b/c) fails. this failure case was never caught but with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-442&quot; title=&quot;Partition is created before data is moved thus creating a window where data is incomplete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-442&quot;&gt;&lt;del&gt;HIVE-442&lt;/del&gt;&lt;/a&gt; this bug is exposed since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-442&quot; title=&quot;Partition is created before data is moved thus creating a window where data is incomplete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-442&quot;&gt;&lt;del&gt;HIVE-442&lt;/del&gt;&lt;/a&gt; explicitly does not create the partition before data is moved. this patch tries to create parent directory (a/b) so it preserves the semantics of not creating a partition until data is moved.&lt;/p&gt;

&lt;p&gt;also removed &apos;add partition&apos; since load automatically creates the partition if one doesn&apos;t exist.&lt;/p&gt;</comment>
                            <comment id="12709243" author="prasadc" created="Thu, 14 May 2009 01:54:29 +0000"  >&lt;p&gt;added the data file used in the test.&lt;/p&gt;</comment>
                            <comment id="12710563" author="athusoo" created="Tue, 19 May 2009 00:49:50 +0000"  >&lt;p&gt;I think the checkin was not meant for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-488&quot; title=&quot;loading into a partition with more than one partition column fails if the partition is not created before.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-488&quot;&gt;&lt;del&gt;HIVE-488&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Also, how will the code work for the case where the partition hierarchy is n deep where n &amp;gt;= 3 ?&lt;/p&gt;</comment>
                            <comment id="12710573" author="athusoo" created="Tue, 19 May 2009 01:04:15 +0000"  >&lt;p&gt;Looks like this is a JIRA bug.&lt;/p&gt;

&lt;p&gt;+1 for the fix.&lt;/p&gt;</comment>
                            <comment id="12712887" author="jsensarma" created="Tue, 26 May 2009 07:29:17 +0000"  >&lt;p&gt;this looks like it&apos;s been committed for a while .. - mark as fixed?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408090" name="hive-488.2.patch" size="5344" author="prasadc" created="Thu, 14 May 2009 01:54:29 +0000"/>
                            <attachment id="12408089" name="hive-488.patch" size="5113" author="prasadc" created="Thu, 14 May 2009 01:53:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 May 2009 00:49:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73500</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122279</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-489] compiler should check for validity of output paths before job submission</title>
                <link>https://issues.apache.org/jira/browse/HIVE-489</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;couple of hours after a job has run - finding that the move operation failed (because the output directory did not exist and move doesn&apos;t make parent directories automatically). No Trash - output is gone. Hive should have barfed on this in the compile phase.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425668">HIVE-489</key>
            <summary>compiler should check for validity of output paths before job submission</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 May 2009 05:17:42 +0000</created>
                <updated>Tue, 5 Apr 2011 22:52:33 +0000</updated>
                                                                            <component>Diagnosability</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12710168" author="prasadc" created="Sun, 17 May 2009 05:27:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-488&quot; title=&quot;loading into a partition with more than one partition column fails if the partition is not created before.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-488&quot;&gt;&lt;del&gt;HIVE-488&lt;/del&gt;&lt;/a&gt; should fix the issue of not creating the parent directories.&lt;/p&gt;</comment>
                            <comment id="12710171" author="jsensarma" created="Sun, 17 May 2009 06:02:50 +0000"  >&lt;p&gt;this happened on insert overwrite directory though ..&lt;/p&gt;</comment>
                            <comment id="12710172" author="prasadc" created="Sun, 17 May 2009 06:12:03 +0000"  >&lt;p&gt;shouldn&apos;t matter. both queries use MoveTask underneath.&lt;/p&gt;</comment>
                            <comment id="12710177" author="jsensarma" created="Sun, 17 May 2009 06:57:58 +0000"  >&lt;p&gt;ok - that covers my problem - i can&apos;t think very many reasons other than the parent dir issue on why things would fail - perhaps things like permissions if the hadoop instance is using one. &lt;/p&gt;

&lt;p&gt;otherwise - let&apos;s dup this one ..&lt;/p&gt;</comment>
                            <comment id="12712890" author="jsensarma" created="Tue, 26 May 2009 07:34:16 +0000"  >&lt;p&gt;the fix for 488 doesn&apos;t seem to cover the loadFile case which applies to the &apos;insert overwrite directory&apos; clause .. - correct?&lt;/p&gt;</comment>
                            <comment id="12713115" author="prasadc" created="Tue, 26 May 2009 17:04:29 +0000"  >&lt;p&gt;488 only creates parent directory before moving the data (both insert overwrite and load) but it doesn&apos;t validate the output path before executing the job.Hive should validate the output path while generating the plan so that job wouldn&apos;t be executed unnecessarily. &lt;/p&gt;</comment>
                            <comment id="12713337" author="jsensarma" created="Wed, 27 May 2009 00:25:34 +0000"  >&lt;p&gt;i don&apos;t see any code for the insert overwrite case:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;genFileSinkPlan generates a loadFileDesc&lt;/li&gt;
	&lt;li&gt;MoveTask does not mkdir on parent for loadFileDesc&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;the changes in 488 only seem to cover loads into tables and partitions if i am not mistaken ? &lt;/p&gt;</comment>
                            <comment id="12713345" author="prasadc" created="Wed, 27 May 2009 00:49:24 +0000"  >&lt;p&gt;yeah, i didn&apos;t realize 489 was for directories and not partitions. 488 doesn&apos;t help with directories.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 17 May 2009 05:27:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122280</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-490] set mapred.reduce.tasks to -1 in hive-default.xml</title>
                <link>https://issues.apache.org/jira/browse/HIVE-490</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;this is profoundly irritating. we can estimate reducers. but since hadoop-default.xml sets this to &apos;1&apos; - by default we don&apos;t. if we expect most users to set this to -1 - then we might as well set it to -1 ourselves.&lt;/p&gt;

&lt;p&gt;to not shoot ourselves in the foot - we might want to cap number of reducers based on cluster size (like 2*Nodes).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425669">HIVE-490</key>
            <summary>set mapred.reduce.tasks to -1 in hive-default.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 May 2009 05:40:45 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:29 +0000</updated>
                            <resolved>Sat, 30 May 2009 23:30:39 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12712389" author="he yongqiang" created="Sat, 23 May 2009 09:00:45 +0000"  >&lt;p&gt;Added a comment to explain that hive will automatically find out the number of reducers by setting this propery to -1.&lt;/p&gt;</comment>
                            <comment id="12712396" author="he yongqiang" created="Sat, 23 May 2009 09:46:11 +0000"  >&lt;p&gt;hive-490-2009-05-23-3.patch includes parameters added in Hive-105. Thanks, Zheng.&lt;br/&gt;
Btw, this is the first step - auto inferring the maximum number of reducers can be done later.&lt;/p&gt;</comment>
                            <comment id="12712403" author="he yongqiang" created="Sat, 23 May 2009 10:52:19 +0000"  >&lt;p&gt;It seems there are some misunderstanding on the configure parameter hive.exec.reducers.max. Some one please help me confirm it.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+&amp;lt;property&amp;gt;
+  &amp;lt;name&amp;gt;hive.exec.reducers.max&amp;lt;/name&amp;gt;
+  &amp;lt;value&amp;gt;999&amp;lt;/value&amp;gt;
+  &amp;lt;description&amp;gt;max number of reducers will be used. If it exceeds the one specified in the configuration parameter
+	mapred.reduce.tasks, hive will use the one specified in mapred.reduce.tasks.&amp;lt;/description&amp;gt;
+&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;should the description be:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;max number of reducers will be used. If the one specified in the configuration parameter mapred.reduce.tasks is negative, hive will use this one as the max number of reducers when automatically determine number of reducers.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12712779" author="he yongqiang" created="Mon, 25 May 2009 19:29:21 +0000"  >&lt;p&gt;Checked the code and found what i suspected in previous comment is right.  &lt;/p&gt;</comment>
                            <comment id="12714370" author="he yongqiang" created="Fri, 29 May 2009 08:56:23 +0000"  >&lt;p&gt;It seems one of the attached files is committed to truck?&lt;/p&gt;</comment>
                            <comment id="12714792" author="zshao" created="Sat, 30 May 2009 23:30:39 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408875" name="hive-490-2009-05-23-2.patch" size="853" author="he yongqiang" created="Sat, 23 May 2009 09:00:45 +0000"/>
                            <attachment id="12408879" name="hive-490-2009-05-23-3.patch" size="1380" author="he yongqiang" created="Sat, 23 May 2009 09:46:11 +0000"/>
                            <attachment id="12408874" name="hive-490-2009-05-23.patch" size="744" author="he yongqiang" created="Sat, 23 May 2009 08:51:04 +0000"/>
                            <attachment id="12408961" name="hive-490-2009-05-26.patch" size="1431" author="he yongqiang" created="Mon, 25 May 2009 19:29:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 May 2009 09:00:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122281</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-490&quot; title=&quot;set mapred.reduce.tasks to -1 in hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-490&quot;&gt;&lt;strike&gt;HIVE-490&lt;/strike&gt;&lt;/a&gt;. Add missing configuration variables to hive-default.xml. (Yongqiang He via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-491] Comments and ALTER TABLE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-491</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Comments are good! They exist about tables and about columns and all sorts of things. However, the ALTER TABLE syntax allows us to ADD COLUMNS but not comments...we should make it as easy as possible for everybody to add comments to a table, especially regarding descriptions of columns.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425691">HIVE-491</key>
            <summary>Comments and ALTER TABLE</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="akramer">Adam Kramer</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 May 2009 21:24:54 +0000</created>
                <updated>Mon, 7 Mar 2011 19:36:21 +0000</updated>
                            <resolved>Mon, 7 Mar 2011 19:36:21 +0000</resolved>
                                                                    <component>Clients</component>
                    <component>Documentation</component>
                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12710241" author="prasadc" created="Mon, 18 May 2009 00:58:04 +0000"  >&lt;p&gt;Actually adding comments is allowed under a different syntax.&lt;/p&gt;

&lt;p&gt;alter table abc ( a string COMMENT &apos;comment string&apos;);&lt;/p&gt;

&lt;p&gt;This is also MySQL syntax. So use this syntax and I modified the wiki accordingly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 May 2009 00:58:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73498</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-492] Allow for output inspection in realtime; perhaps in log files, but somewhere?</title>
                <link>https://issues.apache.org/jira/browse/HIVE-492</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Many queries take a long time to complete, and then fail (either because the job fails or because the output data is not what was desired).&lt;/p&gt;

&lt;p&gt;This is almost always traceable to, of course, an error in a mapper or a reducer, which we can check or verify via multiple methods, most often running the query piece-by-piece and seeing where the &quot;wrong&quot; output is. This process is time-consuming and requires a decent amount of load on the system (e.g., repeating big queries while trying to debug transformers/syntax). This problem is a bigger deal when a single query uses multiple transforms and several mapreduce steps.&lt;/p&gt;

&lt;p&gt;One way to potentially reduce the amount of overhead in debugging would be to provide actual output in some logging mechanism. Specifically, I mean to have EVERY mapper and/or reducer write the first five lines of output to some user-readable file. This would allow a user to see what each part of the system is doing, and to potentially locate, in ONE failed query statement, where the user error is.&lt;/p&gt;

&lt;p&gt;Of course, 5 lines * 20000 mappers * 300 reducers is a lot of overhead; making this user-configurable and/or estimated beforehand (at least 5 lines from at least 5 mappers and at least 5 reducers) would be fine, as would making these output logs auto-delete after some timeframe (a day, perhaps).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425692">HIVE-492</key>
            <summary>Allow for output inspection in realtime; perhaps in log files, but somewhere?</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="akramer">Adam Kramer</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 May 2009 21:35:16 +0000</created>
                <updated>Sun, 17 May 2009 21:35:16 +0000</updated>
                                                                            <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42817</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122283</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-493] automatically infer existing partitions of table from HDFS files.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-493</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Initially partition list for a table is inferred from HDFS directory structure instead of looking into metastore (partitions are created using &apos;alter table ... add partition&apos;). but this automatic inferring was removed to favor the later approach during checking-in metastore checker feature and also to facilitate external partitions.&lt;/p&gt;

&lt;p&gt;Joydeep and Frederick mentioned that it would simple for users to create the HDFS directory and let Hive infer rather than explicitly add a partition. But doing that raises following...&lt;/p&gt;

&lt;p&gt;1) External partitions &amp;#8211; so we have to mix both approaches and partition list is merged list of inferred partitions and registered partitions. and duplicates have to be resolved.&lt;br/&gt;
2) Partition level schemas can&apos;t supported. Which schema to chose for the inferred partitions? the table schema when the inferred partition is created or the latest tale schema? how do we know the table schema when the inferred partitions is created?&lt;br/&gt;
3) If partitions have to be registered the partitions can be disabled without actually deleting the data. this feature is not supported and may not be that useful but nevertheless this can&apos;t be supported with inferred partitions&lt;br/&gt;
4) Indexes are being added. So if partitions are not registered then indexes for such partitions can not be maintained automatically.&lt;/p&gt;

&lt;p&gt;I would like to know what is the general thinking about this among users of Hive. If inferred partitions are preferred then can we live with restricted functionality that this imposes?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425696">HIVE-493</key>
            <summary>automatically infer existing partitions of table from HDFS files.</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2009 01:09:46 +0000</created>
                <updated>Fri, 29 Oct 2010 22:59:34 +0000</updated>
                            <resolved>Thu, 4 Feb 2010 07:58:59 +0000</resolved>
                                    <version>0.3.0</version>
                    <version>0.4.0</version>
                                                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="12726518" author="appodictic" created="Thu, 2 Jul 2009 15:32:24 +0000"  >&lt;p&gt;I have a USE CASE for something similar and I wanted to get peoples opinion on it. My intake process is a map reduce job that takes as input a list of servers. On these servers I connect via FTP and take all the new files. We are doing 5 minute logs. &lt;/p&gt;

&lt;p&gt;I have a map only job that writes the Files to a static HDFS folder. After the map process is complete I am presented with exactly this problem. &lt;/p&gt;

&lt;p&gt;Do I assume the partition is created, and copy the files? I decided to let hive handle this instead.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  String hql=&quot; load data inpath &apos;&quot;+conf.get(&quot;fs.default.name&quot;)+&quot;/user/ecapriolo/pull/raw_web_log/&quot;+p.getName()+
                   &quot;&apos; into table raw_web_data partition (log_date_part=&apos;&quot;+dateFormat.format(today.getTime())+&quot;&apos;)&quot;;
      System.out.println(&quot;Running &quot;+hql);
      String [] run = new String [] { &quot;/opt/hive/bin/hive&quot;, &quot;-e&quot;, hql };

 LoadThread lt = new LoadThread(run);
 Thread t = new Thread(lt);
 t.start();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Personally, I do not think we should let users infer into the table layout of hive. Users should have tools, whether these be API based or HQL based tools.  I should not have to mix match between hive -e &apos;something&apos;, map/reduce, bash scripting to get a job accomplished (I spent 4 hours trying to get the environment correct for my forked &apos;hive -e query&apos;) (I probably should learn more about the thrift API )&lt;/p&gt;

&lt;p&gt;But that problem I already solved. My next problem is also important to this discussion. I now have too many files inside my directory. I am partitioned by day, but each server is dropping 5 minute log files. What I really need now is a COMPACT function. To merge all these 5 minute data files into one.  What would be the proper way to handle this? I could take an all query based approach, by selecting all the data into a new table. Then I need to drop the partition and selecting the data back into the original table. However I could short circuit the operations (and save time) by building the new partition first, deleting the old data, and then moving the new data it back using &apos;dfs mv&apos;&lt;/p&gt;

&lt;p&gt;Should this be a done through HQL &quot; Compact table X partiton Y &quot;? Or should a command like service be done? bin/hive --service compact table X partition Y. Doing it all though HQL is possible now, but not optimized in some cases. Unless I am missing something. &lt;/p&gt;

&lt;p&gt;I think we need more easily insight into the metastore from HQL like how mysql does. show tables is a good step but we need something like a virtual read only schema table to query. &lt;/p&gt;

&lt;p&gt;Sorry to be all over the place on this post.&lt;/p&gt;</comment>
                            <comment id="12730693" author="prasadc" created="Tue, 14 Jul 2009 05:09:20 +0000"  >&lt;p&gt;@edward, you can write an externalutility that keeps checking directories and compacting them as necessary.  don&apos;t understand &apos;virtual read only schema&apos;&lt;/p&gt;</comment>
                            <comment id="12730913" author="appodictic" created="Tue, 14 Jul 2009 15:17:27 +0000"  >&lt;p&gt;Prasad,&lt;/p&gt;

&lt;p&gt;by &apos;virtual read only schema&apos; I mean that mysql has a schema table. You can run queries like &lt;br/&gt;
&apos;select columns from table where tablename=&apos;tablea&apos; &apos;. Hive has some support for things like &apos;show partitions&apos;, but some data can only be read with the MetaStore API. &lt;/p&gt;

&lt;p&gt;For a use case. I want to write my compact utility. As a user I am faced with options on how to do this. The best way would be a tightly integrated tool.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive --service compact --table tablea
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This tool would be smart. It would do things rebuild indexes, warn or error on external tables, or bucketed columns.&lt;/p&gt;

&lt;p&gt;On the other side of the spectrum one could write a map/reduce job with hard coded paths to the warehouse that works on the file level this assumes I know a lot about the underpinning of hive.&lt;/p&gt;

&lt;p&gt;Users need to be able to explore the metastore table structure and the warehouse so their utilities can make an informed decision. Should they link to the metastore API or should the hql language support most of the operations and the process could be done purely from an HQL script?&lt;/p&gt;

</comment>
                            <comment id="12730952" author="prasadc" created="Tue, 14 Jul 2009 16:33:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;hive --service compact --table tablea&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;this would be easiest for users but not extensible in the sense that users will not be able to do more things. eventually users start asking for options to do such things as not rebuild indexes but just drop them or not compact if the number files is small or total size is small etc. this requires lot more effort from developers to provide such options. it may be better to provide ways to script these things using python. may be we can provide basic tools that does not require lot of Hive internal knowledge. there is a JIRA open to create and execute Hive queries natively in Python. We should extend such API to do these kind of tasks better.&lt;/p&gt;

&lt;p&gt;i am not sure how you can use queries like &apos;select columns from table where tablename=&apos;tablea&apos; &apos; for your usecase without a PLSQL kind of support from HiveQL.&lt;/p&gt;</comment>
                            <comment id="12730968" author="appodictic" created="Tue, 14 Jul 2009 16:50:23 +0000"  >&lt;p&gt;Prasad,&lt;/p&gt;

&lt;p&gt;I see your point about creating too many tools. Agreed. &lt;/p&gt;

&lt;p&gt;As for the python integration. Should we have a java native toolset? It more direct then thift, jdbc, in a sense we already have it since the project is in java. It would/should be a very easy to use overlay.&lt;/p&gt;</comment>
                            <comment id="12730970" author="prasadc" created="Tue, 14 Jul 2009 16:54:10 +0000"  >&lt;p&gt;yeah, we could have java toolset similar to ToolRunner that Hadoop provides. i think python will be more useful only because it is a natural scripting language and can develop tools much faster there.&lt;/p&gt;</comment>
                            <comment id="12760290" author="schubertzhang" created="Mon, 28 Sep 2009 16:45:53 +0000"  >&lt;p&gt;We have following use case:&lt;/p&gt;

&lt;p&gt;1. We have a periodic MapReduce job to pre-process the source data (files) and want put the output data files into HDFS directory. The HDFS directory is correspond to a Hive table (this table should be partitioned).  The above MapReduce job shall output data into different partitions based on data analysis.&lt;/p&gt;

&lt;p&gt;2. We want Hive to recognise any new raised partitions from HDFS sub-directories under the table&apos;s root directory. And the above MapReduce job may add new files into new created partitions or existing partitions.&lt;/p&gt;

&lt;p&gt;3. We also need a compact/merging process to periodic compact or merge the existing partitions to get bigger files.&lt;/p&gt;</comment>
                            <comment id="12760293" author="prasadc" created="Mon, 28 Sep 2009 16:57:13 +0000"  >&lt;p&gt;1) You can do &apos;alter table &amp;lt;tbl&amp;gt; add partition &amp;lt;partition spec&amp;gt;&apos; at the end of the map-reduce job that creates the partition. You don&apos;t really &apos;automatic inference&apos; unless you  do not have any control over the partition creation process&lt;/p&gt;

&lt;p&gt;2) Adding new files to existing partitions and tables should not be a problem now. But you may want to do the above add partition command only when last of the partition files have been added otherwise the dependent data processes might see incomplete data. With automatic inferring of partitions, the dependent processes can see incomplete data.&lt;/p&gt;

&lt;p&gt;3) Netflix guys wrote a custom map/reducer job to compact/merging process. But you may want to co-ordinate the partition readers and compactors so that later does not clobber the directory.&lt;/p&gt;</comment>
                            <comment id="12760294" author="schubertzhang" created="Mon, 28 Sep 2009 17:20:31 +0000"  >&lt;p&gt;Thanks Prasad,&lt;/p&gt;

&lt;p&gt;1) Do you mean we should run &apos;alter table &amp;lt;tbl&amp;gt; add partition &amp;lt;partition spec&amp;gt;&apos; at the end of each of the MapReducen run?&lt;br/&gt;
For example: &lt;/p&gt;

&lt;p&gt;The first run of above MapReduce job create directories of partition-1 and partition-2, and each have some files under. And we should do&apos;alter table &amp;lt;tbl&amp;gt; add partition partition-1&apos;  and &apos;alter table &amp;lt;tbl&amp;gt; add partition partition-2&apos;.&lt;/p&gt;

&lt;p&gt;The second run of the job generate some files under partition-2 and create a new partition directory partition-3. And we should do &apos;alter table &amp;lt;tbl&amp;gt; add partition partition-2&apos;  and &apos;alter table &amp;lt;tbl&amp;gt; add partition partition-3&apos;.&lt;/p&gt;

&lt;p&gt;Is right?&lt;/p&gt;

&lt;p&gt;2) When the first do run of 1)&apos;s example, the data in partition-1 and partition-2 are available?&lt;br/&gt;
And do you mean after the second run of 1)&apos;s example, the new added data in partition-2 will become available with the old existing data?&lt;/p&gt;

&lt;p&gt;3) Yes, it is a serious issue to co-ordinate the read and write, since Hive is not a strict data server, but it is a loose solution. &lt;br/&gt;
In fact, we are thinking of this issue in our project. Is there any good practices?&lt;/p&gt;</comment>
                            <comment id="12760301" author="prasadc" created="Mon, 28 Sep 2009 17:30:34 +0000"  >&lt;p&gt;When to run &apos;add partition&apos; command is depending on when you want to make the partition available for use. But you should run that command only once per partition not everytime you add new files to the partition.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;In fact, we are thinking of this issue in our project. Is there any good practices?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;if you have a locking server available in your system such as ZooKeeper you should use it. Otherwise you could create an HDFS file as lock. But you need to be careful here since a client can die after acquiring a lock and thus creating lot of orphaned locks.&lt;/p&gt;

&lt;p&gt;Correct solution will be to create a lease server inside of Hive using metastore db. I might end up doing this if I get couple of days of time. &lt;/p&gt;</comment>
                            <comment id="12760312" author="schubertzhang" created="Mon, 28 Sep 2009 17:53:29 +0000"  >&lt;p&gt;@Prasad,&lt;/p&gt;

&lt;p&gt;1) We want the data to be available in the Hive table after each run of the MapReduce job. Do you mean we should only &apos;add partition&apos; once at the first time? and need not do it after add new files into a existing partition?&lt;/p&gt;

&lt;p&gt;2) Thanks for your good advices. The lease is necessary.&lt;/p&gt;

&lt;p&gt;It seems we (you and we) should add more features into Hive and let Hive to be a data server (or data warehouse server), since current Hive is a dumb data tool to translate HQL to MapReduce.&lt;/p&gt;

&lt;p&gt;When thinking of following important data service features, such as:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Indexing&lt;/li&gt;
	&lt;li&gt;Compact&lt;/li&gt;
	&lt;li&gt;Lease&lt;/li&gt;
	&lt;li&gt;Real Dyanmic Partition (or automatic partition ,even varying partition)&lt;/li&gt;
	&lt;li&gt;....&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It seems, besides MapReduce data processing and SQL, we shall implement a light and flexiable BigTable/HBase like data service solution.&lt;/p&gt;</comment>
                            <comment id="12764283" author="katrakc" created="Sat, 10 Oct 2009 01:47:53 +0000"  >&lt;p&gt;Ping? Was half way through writing a script to do this when I found this thread.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;You can do &apos;alter table &amp;lt;tbl&amp;gt; add partition &amp;lt;partition spec&amp;gt;&apos; at the end of the map-reduce job that creates the partition. You don&apos;t really &apos;automatic inference&apos; unless you do not have any control over the partition creation process &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In one of my use cases I don&apos;t have control over partition creation (Intra-cluster copying of a hive table)&lt;br/&gt;
Ignoring the other issues (Indicies/Compaction), I think an HQL solution would be usefull.&lt;/p&gt;

&lt;p&gt;e.g.: &quot;ALTER TABLE &amp;lt;tbl&amp;gt; ADD PARTITION AUTOSCAN&quot;&lt;br/&gt;
Adds entries for partitions on hdfs that don&apos;t exist in the metastore.&lt;/p&gt;</comment>
                            <comment id="12764522" author="katrakc" created="Mon, 12 Oct 2009 00:04:17 +0000"  >&lt;p&gt;Patch Attached.&lt;br/&gt;
Modified the HQL command MSCK to take an additional parameter REPAIR, that add/removes partitions that msck notices.&lt;br/&gt;
Example output:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; msck table t;&lt;br/&gt;
OK&lt;br/&gt;
Partitions not in metastore:	t:p1=new/p2=5	t:p1=new/p2=6&lt;br/&gt;
Partitions missing from filesystem:	t:p1=6/p2=5	t:p1=6/p2=6&lt;br/&gt;
Time taken: 0.084 seconds&lt;br/&gt;
hive&amp;gt; msck repair table t;&lt;br/&gt;
OK&lt;br/&gt;
Partitions not in metastore:	t:p1=new/p2=5	t:p1=new/p2=6&lt;br/&gt;
Partitions missing from filesystem:	t:p1=6/p2=5	t:p1=6/p2=6&lt;br/&gt;
Repair: Added partition to metastore t:p1=new/p2=5&lt;br/&gt;
Repair: Added partition to metastore t:p1=new/p2=6&lt;br/&gt;
Repair: removed partition from metastore t:p1=6/p2=5&lt;br/&gt;
Repair: removed partition from metastore t:p1=6/p2=6&lt;br/&gt;
Time taken: 0.521 seconds&lt;br/&gt;
hive&amp;gt; msck table t;       &lt;br/&gt;
OK&lt;br/&gt;
Time taken: 0.083 seconds&lt;/p&gt;</comment>
                            <comment id="12764542" author="prasadc" created="Mon, 12 Oct 2009 04:36:04 +0000"  >&lt;p&gt;Cyrus, &lt;/p&gt;

&lt;p&gt;Thanks for providing this patch. Very useful.&lt;/p&gt;

&lt;p&gt;It is possible that on an HDFS with permissions enabled, a partition/table directory is not accessible to the current user but metadata will be deleted here so I am little uncomfortable in removing partitions. I am not really sure that there is that much utility for removing partitions compared to the risk loosing partitions permanently. What do you think? &lt;/p&gt;

&lt;p&gt;Couple of comments on the code:&lt;br/&gt;
1) Can you add a test or two to the msck test package.&lt;br/&gt;
2) REPAIR should be an optional keyword to the MSCK ANTRL clause instead of being whole another clause. Look at how KW_EXTERNAL is used in createStatement clause.&lt;br/&gt;
3) Following like should be outside of the for loop since there is only one table here.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Table table = db.getTable(MetaStoreUtils.DEFAULT_DATABASE_NAME,
                msckDesc.getTableName());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;4) Is this cast &apos;(Map &amp;lt;String, String&amp;gt;)&apos; really needed?&lt;/p&gt;
</comment>
                            <comment id="12764915" author="katrakc" created="Tue, 13 Oct 2009 01:34:34 +0000"  >&lt;p&gt;Prasad,&lt;/p&gt;

&lt;p&gt;Patch revised: Took away the remove partition functionality&lt;br/&gt;
1) I took a look at TestHiveMetaStoreChecker.java, this doesn&apos;t seem to expose the ability to run a HQL command, and the clientpostitive scripts do not seem to expose a way for modifying the file system between queries. Any suggestions?&lt;br/&gt;
2) Done. Thanks for the pointer.&lt;br/&gt;
3) Done.&lt;br/&gt;
4) No, removed.&lt;/p&gt;</comment>
                            <comment id="12765164" author="prasadc" created="Tue, 13 Oct 2009 17:38:57 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-874&quot; title=&quot;add partitions found during metastore check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-874&quot;&gt;&lt;del&gt;HIVE-874&lt;/del&gt;&lt;/a&gt; for this patch as this doesn&apos;t exactly solve this problem. I would like to keep this open for that &apos;perfect&apos; solution &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12829517" author="zshao" created="Thu, 4 Feb 2010 07:58:59 +0000"  >&lt;p&gt;We won&apos;t need this any more given &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-874&quot; title=&quot;add partitions found during metastore check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-874&quot;&gt;&lt;del&gt;HIVE-874&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12437997">HIVE-874</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12421935" name="HIVE-493-2.patch" size="8026" author="katrakc" created="Tue, 13 Oct 2009 01:34:34 +0000"/>
                            <attachment id="12421833" name="HIVE-493.patch" size="10610" author="katrakc" created="Mon, 12 Oct 2009 00:03:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Jul 2009 15:32:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73497</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122284</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-494] Select columns by index instead of name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-494</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SELECT mytable&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, mytable&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; FROM some_table_name mytable;&lt;/p&gt;

&lt;p&gt;...should return the first and third columns, respectively, from mytable regardless of their column names.&lt;/p&gt;

&lt;p&gt;The need for &quot;names&quot; specifically is kind of silly when they just get translated into numbers anyway.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425752">HIVE-494</key>
            <summary>Select columns by index instead of name</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="akramer">Adam Kramer</reporter>
                        <labels>
                            <label>SQL</label>
                    </labels>
                <created>Mon, 18 May 2009 18:51:25 +0000</created>
                <updated>Wed, 8 Oct 2014 01:22:18 +0000</updated>
                                                                            <component>Clients</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="13203354" author="phabricator@reviews.facebook.net" created="Wed, 8 Feb 2012 08:09:58 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-494&quot; title=&quot;Select columns by index instead of name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-494&quot;&gt;HIVE-494&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Select columns by index instead of name&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-732 Select columns by index instead of name&lt;/p&gt;

&lt;p&gt;  SELECT mytable&amp;lt;span class=&quot;error&quot;&amp;gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&amp;lt;/span&amp;gt;, mytable&amp;lt;span class=&quot;error&quot;&amp;gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&amp;lt;/span&amp;gt; FROM some_table_name mytable;&lt;/p&gt;

&lt;p&gt;  ...should return the first and third columns, respectively, from mytable regardless of their column names.&lt;/p&gt;

&lt;p&gt;  The need for &quot;names&quot; specifically is kind of silly when they just get translated into numbers anyway.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1641&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1641&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/select_by_column_index.q&lt;br/&gt;
  ql/src/test/results/clientpositive/select_by_column_index.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3501/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3501/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13203357" author="phabricator@reviews.facebook.net" created="Wed, 8 Feb 2012 08:11:58 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-494&quot; title=&quot;Select columns by index instead of name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-494&quot;&gt;HIVE-494&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Select columns by index instead of name&quot;.&lt;/p&gt;

&lt;p&gt;  Simple patch, but was very useful for me to implement query generator for random-forest.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1641&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1641&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13262373" author="phabricator@reviews.facebook.net" created="Thu, 26 Apr 2012 04:19:29 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-494&quot; title=&quot;Select columns by index instead of name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-494&quot;&gt;HIVE-494&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Select columns by index instead of name&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/select_by_column_index.q:2 Is this syntax part of the SQL standard, or is it an extension specific to Hive?&lt;br/&gt;
  ql/src/test/queries/clientpositive/select_by_column_index.q:5 Please add coverage for JOINs, ORDER BY, HAVING, and UNION clauses, and a negative testcase that shows what happens when an invalid index is referenced.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1641&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1641&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13262381" author="navis" created="Thu, 26 Apr 2012 05:16:55 +0000"  >&lt;p&gt;I&apos;ve completely forgotten this patch and looking into it newly. &lt;/p&gt;

&lt;p&gt;1. It seemed not a standard SQL and also could be confusional especially with join/unions. &lt;br/&gt;
2. The patch is using RR of input operator but it&apos;s clearly not correct.&lt;/p&gt;

&lt;p&gt;Could it be worth to be implemented?&lt;/p&gt;</comment>
                            <comment id="13262449" author="cwsteinbach" created="Thu, 26 Apr 2012 07:59:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;It seemed not a standard SQL and also could be confusional especially with join/unions.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m a little worried about this too, mainly because it appears to extend SQL syntax and (speaking personally) I don&apos;t think I fully understand the long term impact of a change like this. If it turns out that this syntax is broken, deprecating it is going to be painful for all of the people who start using it.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Could it be worth to be implemented?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think we should pass on this unless it turns out to be part of standard SQL, or we can point to some other DB like MySQL that already implements it. On a related note, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1947&quot; title=&quot;ORDER BY should support column position expressions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1947&quot;&gt;&lt;del&gt;HIVE-1947&lt;/del&gt;&lt;/a&gt; covers implementing similar syntax for the ORDER BY clause, and it turns out that this &lt;b&gt;is&lt;/b&gt; part of standard SQL. It&apos;s also interesting to note that ordinal column references in the WHERE clause aren&apos;t supported since it would result in ambiguous statements like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT a, b from src
WHERE 1=1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13262469" author="navis" created="Thu, 26 Apr 2012 08:39:42 +0000"  >&lt;p&gt;Agree on carl&apos;s opinion.&lt;/p&gt;</comment>
                            <comment id="13735746" author="appodictic" created="Sat, 10 Aug 2013 04:45:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think we should commit this. &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;it is impossible to name a column 1&lt;/li&gt;
	&lt;li&gt;it is impossible to name a column alias 1&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If order by supports this I do not see group by can&apos;t? Do we want to reconsider this?I kinda like the feature.&lt;/p&gt;</comment>
                            <comment id="13735928" author="xuefuz" created="Sat, 10 Aug 2013 14:41:12 +0000"  >&lt;p&gt;Pig supports this, though using $1, $2 syntax, which is useful and convenient in some sense. However, I didn&apos;t find it&apos;s in standard SQL. One downside of supporting this is that ordering starts to matter now in the select list. If I do &quot;select a, b, c from T&quot;, the output is deterministic regardless T&apos;s schema (as long it has a, b, and c). On the other hand, if I do &quot;select $1, $2, $3 from T&quot; and if later on the table&apos;s schema is changed as (a, b, d, c), then my query will return a different data set.&lt;/p&gt;

&lt;p&gt;So, projecting by numbers is different from &quot;they just get translated into numbers anyway&quot;.&lt;/p&gt;

&lt;p&gt;Adding columns is quite common in hadoop data. Of course, one can argue that columns should always add at the end, which doesn&apos;t happen that way always.&lt;/p&gt;</comment>
                            <comment id="13735932" author="appodictic" created="Sat, 10 Aug 2013 14:54:33 +0000"  >&lt;p&gt;I think any user will realize that &apos;$1&apos; can change. In the end i think hive should be more dynamic somewhat like pig. Imagine something like this:&lt;/p&gt;

&lt;p&gt;create table x stored by dynamichandler;&lt;/p&gt;

&lt;p&gt;select $1 , $2 from x (inputformat=textinputformat, inpath=/x/y/z);&lt;/p&gt;

&lt;p&gt;We are close to this now because Navis added the ability to specify per query table properties.&lt;/p&gt;

&lt;p&gt;What is, or what is not in the SQL spec should not be our metric, we can already do amazing things that SQL can&apos;t so I want to keep innovating. As long as something does not produce an ambiguity in the language I see no harm in it. &lt;/p&gt;</comment>
                            <comment id="13735943" author="appodictic" created="Sat, 10 Aug 2013 15:31:21 +0000"  >&lt;p&gt;I think we should also support negative numbers to query from the right end like awk&apos;s $NF&lt;/p&gt;</comment>
                            <comment id="13736158" author="navis" created="Sun, 11 Aug 2013 02:58:05 +0000"  >&lt;p&gt;The patch for this was made once and I expect it to be found somewhere in local git (regardless it might be based on hive-0.9 or older). It seemed very convenient especially for SQL generators. I&apos;ll look into this, in tomorrow.&lt;/p&gt;</comment>
                            <comment id="13736551" author="navis" created="Mon, 12 Aug 2013 04:01:38 +0000"  >&lt;p&gt;Preliminary patch for test/review&lt;/p&gt;</comment>
                            <comment id="13736553" author="phabricator@reviews.facebook.net" created="Mon, 12 Aug 2013 04:02:51 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-494&quot; title=&quot;Select columns by index instead of name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-494&quot;&gt;HIVE-494&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Select columns by index instead of name&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-494&quot; title=&quot;Select columns by index instead of name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-494&quot;&gt;HIVE-494&lt;/a&gt; Select columns by index instead of name&lt;/p&gt;

&lt;p&gt;SELECT mytable&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, mytable&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; FROM some_table_name mytable;&lt;/p&gt;

&lt;p&gt;...should return the first and third columns, respectively, from mytable regardless of their column names.&lt;/p&gt;

&lt;p&gt;The need for &quot;names&quot; specifically is kind of silly when they just get translated into numbers anyway.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D12153&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D12153&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/FromClauseParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/select_by_column_index.q&lt;br/&gt;
  ql/src/test/results/clientpositive/select_by_column_index.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/29043/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/29043/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13736716" author="hiveqa" created="Mon, 12 Aug 2013 09:43:21 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12597403/HIVE-494.D12153.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12597403/HIVE-494.D12153.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2790 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/399/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/399/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/399/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/399/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14041800" author="navis" created="Tue, 24 Jun 2014 07:14:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;Edward Capriolo&lt;/a&gt; Anyone still interested in this?&lt;/p&gt;</comment>
                            <comment id="14042453" author="xuefuz" created="Tue, 24 Jun 2014 18:03:04 +0000"  >&lt;p&gt;Yeah. I think this is useful, as long as it doesn&apos;t bring ambiguity. Original original proposal of table&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; notation is ambiguous, but the current table.$0 is good. Also, we should make sure that Hive emits an error message in case $0 cannot be uniquely identified such as in a join, similar to the case where a column&apos;s name cannot be uniquely identified.&lt;/p&gt;</comment>
                            <comment id="14042618" author="hiveqa" created="Tue, 24 Jun 2014 20:20:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12652150/HIVE-494.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12652150/HIVE-494.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5670 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_ppd_decimal
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/579/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/579/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/579/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/579/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-579/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-579/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12652150&lt;/p&gt;</comment>
                            <comment id="14042940" author="navis" created="Wed, 25 Jun 2014 01:35:40 +0000"  >&lt;p&gt;Failed tests are not related to this.&lt;/p&gt;</comment>
                            <comment id="14048647" author="navis" created="Tue, 1 Jul 2014 08:43:00 +0000"  >&lt;p&gt;Check ambiguous columns &amp;amp; added negative tests&lt;/p&gt;</comment>
                            <comment id="14049363" author="hiveqa" created="Tue, 1 Jul 2014 21:56:52 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12653349/HIVE-494.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12653349/HIVE-494.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5675 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
org.apache.hive.hcatalog.streaming.TestStreaming.testRemainingTransactions
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/652/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/652/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/652/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/652/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-652/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-652/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12653349&lt;/p&gt;</comment>
                            <comment id="14055969" author="navis" created="Wed, 9 Jul 2014 07:49:56 +0000"  >&lt;p&gt;Test fails seemed not related to this.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12746530">HIVE-8388</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12497522">HIVE-1947</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12428817">HIVE-581</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12513773" name="ASF.LICENSE.NOT.GRANTED--HIVE-494.D1641.1.patch" size="6750" author="phabricator@reviews.facebook.net" created="Wed, 8 Feb 2012 08:09:59 +0000"/>
                            <attachment id="12652150" name="HIVE-494.2.patch.txt" size="17483" author="navis" created="Tue, 24 Jun 2014 07:11:53 +0000"/>
                            <attachment id="12653349" name="HIVE-494.3.patch.txt" size="19879" author="navis" created="Tue, 1 Jul 2014 08:43:00 +0000"/>
                            <attachment id="12597403" name="HIVE-494.D12153.1.patch" size="14081" author="phabricator@reviews.facebook.net" created="Mon, 12 Aug 2013 04:02:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Feb 2012 08:09:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42816</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 28 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-495] Join of a table with ThriftSerDe of complex columns will fail</title>
                <link>https://issues.apache.org/jira/browse/HIVE-495</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ThriftSerDe exposes its fields using java class names. LazySerDe requires fully-blown map/struct/array format.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425767">HIVE-495</key>
            <summary>Join of a table with ThriftSerDe of complex columns will fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2009 22:48:53 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:54 +0000</updated>
                            <resolved>Tue, 2 Jun 2009 18:51:38 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12710611" author="zshao" created="Tue, 19 May 2009 05:01:40 +0000"  >&lt;p&gt;There are 3 approaches to fix this:&lt;/p&gt;

&lt;p&gt;1. Use fully-blown map/struct/array format everywhere. In this solution, users will see the types of complex columns fully-blown instead of a java class, which may not be wanted.&lt;br/&gt;
2. Use 2 type strings: internal type string, and display type string. This will make sure users will see types of complex columns as before, but it makes the code more convoluted.&lt;br/&gt;
3. Make our TypeInfoParser capable of parsing Java class names. If the TypeInfoParser encounters a Java class name, it will use the ReflectionObjectInspector to get the fully-blown TypeInfo structure.&lt;/p&gt;

&lt;p&gt;I am going to take approach 3.&lt;/p&gt;</comment>
                            <comment id="12710626" author="zshao" created="Tue, 19 May 2009 05:59:07 +0000"  >&lt;p&gt;More debugging shows that the main problem is that we were not allowing &quot;_&quot; in the names of the fields.&lt;/p&gt;</comment>
                            <comment id="12710980" author="zshao" created="Wed, 20 May 2009 03:06:46 +0000"  >&lt;p&gt;This patch fixes the bugs.&lt;/p&gt;</comment>
                            <comment id="12715260" author="zshao" created="Mon, 1 Jun 2009 21:16:11 +0000"  >&lt;p&gt;This is a binary file so I have to attach it separately.&lt;/p&gt;</comment>
                            <comment id="12715603" author="namit" created="Tue, 2 Jun 2009 17:44:40 +0000"  >&lt;p&gt;The patch looks good - but there were failures when I ran the test&lt;br/&gt;
input5, input17 and join_thrift&lt;/p&gt;</comment>
                            <comment id="12715619" author="namit" created="Tue, 2 Jun 2009 18:48:37 +0000"  >&lt;p&gt;My bad: did not apply the patch correctly&lt;br/&gt;
Am merging right now&lt;/p&gt;</comment>
                            <comment id="12715621" author="namit" created="Tue, 2 Jun 2009 18:51:38 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408547" name="HIVE-495.1.patch" size="27686" author="zshao" created="Wed, 20 May 2009 03:06:46 +0000"/>
                            <attachment id="12409602" name="complex.seq" size="1606" author="zshao" created="Mon, 1 Jun 2009 21:16:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 2 Jun 2009 17:44:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73496</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-496] UDFDate fails on null</title>
                <link>https://issues.apache.org/jira/browse/HIVE-496</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;UDFDate will output null pointer exception if called with null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425862">HIVE-496</key>
            <summary>UDFDate fails on null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2009 21:23:59 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:40 +0000</updated>
                            <resolved>Wed, 20 May 2009 04:28:38 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12710961" author="zshao" created="Wed, 20 May 2009 01:05:16 +0000"  >&lt;p&gt;Fixing another null bug in UDFCaseWhen&lt;/p&gt;</comment>
                            <comment id="12710975" author="prasadc" created="Wed, 20 May 2009 02:36:53 +0000"  >&lt;p&gt;UDFDateAdd and UDFDateDiff also can throw similar NullPointerExceptions if the arguments to evaluate() are NULL. Can you verify that all UDFs have a protection against invalid arguments?&lt;/p&gt;</comment>
                            <comment id="12710982" author="zshao" created="Wed, 20 May 2009 03:16:35 +0000"  >&lt;p&gt;Fixed similar problems in all UDFs.&lt;/p&gt;</comment>
                            <comment id="12710983" author="prasadc" created="Wed, 20 May 2009 03:22:29 +0000"  >&lt;p&gt;looks good. running tests.&lt;/p&gt;</comment>
                            <comment id="12710999" author="prasadc" created="Wed, 20 May 2009 04:28:38 +0000"  >&lt;p&gt;Thanks Zheng!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408515" name="HIVE-496.1.patch" size="529" author="zshao" created="Tue, 19 May 2009 21:25:19 +0000"/>
                            <attachment id="12408540" name="HIVE-496.2.patch" size="1343" author="zshao" created="Wed, 20 May 2009 01:05:16 +0000"/>
                            <attachment id="12408548" name="HIVE-496.3.patch" size="6280" author="zshao" created="Wed, 20 May 2009 03:16:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 May 2009 02:36:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73495</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122289</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-497] predicate pushdown fails if all columns are not selected</title>
                <link>https://issues.apache.org/jira/browse/HIVE-497</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;predicate pushdown seems to fail in some scenarios... it is ok if all the columns are selected.&lt;/p&gt;

&lt;p&gt;create table ppda(a string, b string);&lt;br/&gt;
select a from ppda where ppda.a &amp;gt; 10; --&amp;gt; fails&lt;br/&gt;
select b from ppda where ppda.a &amp;gt; 10; --&amp;gt; ok&lt;br/&gt;
select * from ppda where ppda.a &amp;gt; 10; --&amp;gt; ok&lt;br/&gt;
select b from appd where appd.b &amp;gt; 10 and appd.a &amp;gt; 20; --&amp;gt; ok&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425871">HIVE-497</key>
            <summary>predicate pushdown fails if all columns are not selected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2009 23:53:59 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:27 +0000</updated>
                            <resolved>Sat, 30 May 2009 19:20:55 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12710950" author="prasadc" created="Wed, 20 May 2009 00:21:40 +0000"  >&lt;p&gt;I think the problem only happens if ColumPruner kicks in and creates a new SELECT op. Otherwise things seem to be fine.&lt;/p&gt;</comment>
                            <comment id="12710960" author="prasadc" created="Wed, 20 May 2009 00:56:56 +0000"  >&lt;p&gt;The select operator created by ColumnPruner doesn&apos;t have the map of output column to input column names so the code is asserting as expected. Added this map for ColumnPruner as well.&lt;/p&gt;</comment>
                            <comment id="12711033" author="he yongqiang" created="Wed, 20 May 2009 06:30:12 +0000"  >&lt;p&gt;+1. Looks good, and it passed my example.&lt;/p&gt;</comment>
                            <comment id="12711037" author="he yongqiang" created="Wed, 20 May 2009 06:40:41 +0000"  >&lt;p&gt;If we keeps column information(column names instead of numbers) for input tables,as Hive-460 intends to do, can this problem also be resolved.&lt;br/&gt;
In my debug, the error is caused by passing in number to RowResover&apos;s reverseLookup(), but should pass in real column name.&lt;/p&gt;</comment>
                            <comment id="12711246" author="prasadc" created="Wed, 20 May 2009 17:30:16 +0000"  >&lt;p&gt;actually &quot;0&quot; here is not a number but the internal name. so if and when 460 is fixed, actual names are compared. name of columns change when they flow through an operator, especially in a select op. so the colExprMap keeps a map of output columns to input column names (or the other way round, not sure) so that translation can be done when predicates move up (or down depending on how you look at it) an operator.&lt;/p&gt;</comment>
                            <comment id="12711254" author="he yongqiang" created="Wed, 20 May 2009 17:45:44 +0000"  >&lt;p&gt;Got it. Thanks for the explanation, Prasad. The parse and optimize codes are making me a little headache.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12711324" author="athusoo" created="Wed, 20 May 2009 20:34:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Am running tests on this and I will check it in once those are done.&lt;/p&gt;</comment>
                            <comment id="12711336" author="athusoo" created="Wed, 20 May 2009 20:53:50 +0000"  >&lt;p&gt;I am getting a test failure for&lt;/p&gt;

&lt;p&gt;ppd1.q&lt;/p&gt;
</comment>
                            <comment id="12711352" author="prasadc" created="Wed, 20 May 2009 21:11:06 +0000"  >&lt;p&gt;i forgot to update the ppd1.q.out file. attached is the updated version.&lt;/p&gt;</comment>
                            <comment id="12711363" author="namit" created="Wed, 20 May 2009 21:30:30 +0000"  >&lt;p&gt;can we turn on partition pruning by default in the unit tests - new tests are getting added all the time, and it might be difficult to catch these bugs.&lt;br/&gt;
We can still turn it off in any production cluster till it gets reasonably tested.&lt;/p&gt;</comment>
                            <comment id="12711365" author="athusoo" created="Wed, 20 May 2009 21:33:26 +0000"  >&lt;p&gt;Yes we should, we definitely have to do it before putting it into production.&lt;/p&gt;

&lt;p&gt;Need a new JIRA for that. Can you do the honors?&lt;/p&gt;</comment>
                            <comment id="12711368" author="athusoo" created="Wed, 20 May 2009 21:44:00 +0000"  >&lt;p&gt;still fails the tests.&lt;/p&gt;

&lt;p&gt;You have to update the outputs for TestParse as well.&lt;/p&gt;</comment>
                            <comment id="12711376" author="prasadc" created="Wed, 20 May 2009 21:52:37 +0000"  >&lt;p&gt;yes, we should turn on ppd. let&apos;s make it a different JIRA.&lt;/p&gt;

&lt;p&gt;@ashish, TestParse results shouldn&apos;t need to be changed since ppd is not enabled for them. and tests passed fine for me. anyways, i am rerunning the tests. &lt;/p&gt;</comment>
                            <comment id="12711417" author="prasadc" created="Wed, 20 May 2009 23:28:17 +0000"  >&lt;p&gt;ok, another attempt. &lt;b&gt;sigh&lt;/b&gt;&lt;/p&gt;</comment>
                            <comment id="12712327" author="athusoo" created="Sat, 23 May 2009 00:41:50 +0000"  >&lt;p&gt;Running the tests now.&lt;/p&gt;</comment>
                            <comment id="12714758" author="prasadc" created="Sat, 30 May 2009 19:20:55 +0000"  >&lt;p&gt;athusoo committed this patch may19th, 2009.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408623" name="hive-497.2.patch" size="5307" author="prasadc" created="Wed, 20 May 2009 21:11:06 +0000"/>
                            <attachment id="12408637" name="hive-497.3.patch" size="121592" author="prasadc" created="Wed, 20 May 2009 23:28:17 +0000"/>
                            <attachment id="12408538" name="hive-497.patch" size="5152" author="prasadc" created="Wed, 20 May 2009 00:55:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 May 2009 06:30:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73494</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122290</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
