<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:20:18 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-2-28+AND+created+%3C%3D+2012-3-6+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="12" total="12"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2828] make timestamp accessible in the hbase KeyValue </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2828</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Originated from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2781&quot; title=&quot;HBaseSerDe should allow users to specify the timestamp passed to Puts &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2781&quot;&gt;&lt;del&gt;HIVE-2781&lt;/del&gt;&lt;/a&gt; and not accepted, but I think this could be helpful to someone.&lt;/p&gt;

&lt;p&gt;By using special column notation &apos;:timestamp&apos; in HBASE_COLUMNS_MAPPING, user might access timestamp value in hbase KeyValue.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE hbase_table (key &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, value string, time timestamp)
  STORED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;&lt;/span&gt;
  WITH SERDEPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.columns.mapping&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;:key,cf:string,:timestamp&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12544352">HIVE-2828</key>
            <summary>make timestamp accessible in the hbase KeyValue </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Feb 2012 00:48:44 +0000</created>
                <updated>Wed, 15 Aug 2018 14:16:01 +0000</updated>
                            <resolved>Thu, 16 Oct 2014 05:02:16 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>19</watches>
                                                                <comments>
                            <comment id="13217777" author="phabricator@reviews.facebook.net" created="Tue, 28 Feb 2012 01:05:49 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2828&quot; title=&quot;make timestamp accessible in the hbase KeyValue &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2828&quot;&gt;&lt;del&gt;HIVE-2828&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; make timestamp accessible in the hbase KeyValue&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-861 make timestamp accessible in the hbase KeyValue&lt;/p&gt;

&lt;p&gt;  Originated from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2781&quot; title=&quot;HBaseSerDe should allow users to specify the timestamp passed to Puts &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2781&quot;&gt;&lt;del&gt;HIVE-2781&lt;/del&gt;&lt;/a&gt; and not accepted, but I think this could be helpful to someone.&lt;/p&gt;

&lt;p&gt;  By using special column notation &apos;:timestamp&apos; in HBASE_COLUMNS_MAPPING, user might access timestamp value in hbase KeyValue.&lt;/p&gt;

&lt;p&gt;  CREATE TABLE hbase_table (key int, value string, time timestamp)&lt;br/&gt;
    STORED BY &apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;&lt;br/&gt;
    WITH SERDEPROPERTIES (&quot;hbase.columns.mapping&quot; = &quot;:key,cf:string,:timestamp&quot;)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1989&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1989&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/LazyHBaseRow.java&lt;br/&gt;
  hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestLazyHBaseObject.java&lt;br/&gt;
  hbase-handler/src/test/queries/hbase_timestamp.q&lt;br/&gt;
  hbase-handler/src/test/results/hbase_timestamp.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4245/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4245/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13217873" author="anoopsamjohn" created="Tue, 28 Feb 2012 03:50:46 +0000"  >&lt;p&gt;Does HBase integration in Hive allows retrieval of multiple versions ( diff time stamp ) of the same cell?&lt;br/&gt;
Also whether allows specifying the time range while select such that the cell value versions within this time range will be retrieved?&lt;/p&gt;</comment>
                            <comment id="13217894" author="navis" created="Tue, 28 Feb 2012 04:55:00 +0000"  >&lt;p&gt;No and no as far as I know, but might be implemented by modifying HiveHBaseTableInputFormat and HBaseStorageHandler.&lt;/p&gt;</comment>
                            <comment id="13225055" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 07:02:56 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2828&quot; title=&quot;make timestamp accessible in the hbase KeyValue &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2828&quot;&gt;&lt;del&gt;HIVE-2828&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; make timestamp accessible in the hbase KeyValue&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Applied &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2771&quot; title=&quot;Add support for filter pushdown for key ranges in hbase for keys of type string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2771&quot;&gt;&lt;del&gt;HIVE-2771&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1989&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1989&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java.rej&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java.rej&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/LazyHBaseRow.java&lt;br/&gt;
  hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestLazyHBaseObject.java&lt;br/&gt;
  hbase-handler/src/test/queries/external_table_ppd.q&lt;br/&gt;
  hbase-handler/src/test/queries/hbase_timestamp.q&lt;br/&gt;
  hbase-handler/src/test/results/external_table_ppd.q.out&lt;br/&gt;
  hbase-handler/src/test/results/hbase_timestamp.q.out&lt;/p&gt;</comment>
                            <comment id="13230874" author="phabricator@reviews.facebook.net" created="Fri, 16 Mar 2012 03:41:41 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2828&quot; title=&quot;make timestamp accessible in the hbase KeyValue &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2828&quot;&gt;&lt;del&gt;HIVE-2828&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; make timestamp accessible in the hbase KeyValue&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  1. Rebased on trunk&lt;br/&gt;
  2. Support string type for timestamp column&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1989&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1989&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/LazyHBaseRow.java&lt;br/&gt;
  hbase-handler/src/test/queries/hbase_timestamp.q&lt;br/&gt;
  hbase-handler/src/test/results/hbase_timestamp.q.out&lt;/p&gt;</comment>
                            <comment id="13231829" author="phabricator@reviews.facebook.net" created="Sat, 17 Mar 2012 04:02:47 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2828&quot; title=&quot;make timestamp accessible in the hbase KeyValue &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2828&quot;&gt;&lt;del&gt;HIVE-2828&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; make timestamp accessible in the hbase KeyValue&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Rebased on trunk&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1989&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1989&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/LazyHBaseRow.java&lt;br/&gt;
  hbase-handler/src/test/queries/hbase_timestamp.q&lt;br/&gt;
  hbase-handler/src/test/results/hbase_timestamp.q.out&lt;/p&gt;</comment>
                            <comment id="13236341" author="phabricator@reviews.facebook.net" created="Fri, 23 Mar 2012 05:21:28 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2828&quot; title=&quot;make timestamp accessible in the hbase KeyValue &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2828&quot;&gt;&lt;del&gt;HIVE-2828&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; make timestamp accessible in the hbase KeyValue&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Rebased on trunk&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1989&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1989&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/LazyHBaseRow.java&lt;br/&gt;
  hbase-handler/src/test/queries/hbase_timestamp.q&lt;br/&gt;
  hbase-handler/src/test/results/hbase_timestamp.q.out&lt;/p&gt;</comment>
                            <comment id="13423347" author="huhlig" created="Thu, 26 Jul 2012 18:45:52 +0000"  >&lt;p&gt;Would this allow aggregation across timestamps as well?&lt;/p&gt;</comment>
                            <comment id="13423554" author="navis" created="Thu, 26 Jul 2012 23:23:47 +0000"  >&lt;p&gt;If what you meant was is it possible to &apos;group by timestamp&apos;, it&apos;s possible. &lt;/p&gt;</comment>
                            <comment id="13556862" author="john.shields" created="Fri, 18 Jan 2013 01:25:35 +0000"  >&lt;p&gt;What is the right process for applying these patches? Also, on which SVN paths would it be applicable? Obviously the code has changed since these were created so I&apos;m trying to figure out how to apply them. We currently have a version of 0.8.0 that would be great to apply these patches against. I tried against branches/0.8.0 to no avail.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;John&lt;/p&gt;</comment>
                            <comment id="14117159" author="ehsan" created="Mon, 1 Sep 2014 08:13:27 +0000"  >&lt;p&gt;What is the status of this ticket?&lt;br/&gt;
Can someone tell me if this is going to be pushed? or any reason why its not pushed?&lt;/p&gt;

&lt;p&gt;This is a good feature and we have come to a couple of situations where this support is good to have.&lt;/p&gt;

&lt;p&gt;The current patch might not be applicable to the current version Hive 0.13, but I can work on it (in-fact I have a patch available with the current trunk but slightly different implementation). &lt;/p&gt;</comment>
                            <comment id="14117868" author="navis" created="Tue, 2 Sep 2014 04:04:04 +0000"  >&lt;p&gt;2.5 year rebase.&lt;/p&gt;</comment>
                            <comment id="14117904" author="hiveqa" created="Tue, 2 Sep 2014 05:18:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12665836/HIVE-2828.6.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12665836/HIVE-2828.6.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 6134 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.hbase.TestLazyHBaseObject.testLazyHBaseRow1
org.apache.hadoop.hive.hbase.TestLazyHBaseObject.testLazyHBaseRow2
org.apache.hadoop.hive.hbase.TestLazyHBaseObject.testLazyHBaseRow3
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.testImpersonation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/595/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/595/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/595/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/595/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-595/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-595/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12665836&lt;/p&gt;</comment>
                            <comment id="14117927" author="navis" created="Tue, 2 Sep 2014 06:14:17 +0000"  >&lt;p&gt;Fixed test fails&lt;/p&gt;</comment>
                            <comment id="14118041" author="hiveqa" created="Tue, 2 Sep 2014 08:49:41 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12665849/HIVE-2828.7.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12665849/HIVE-2828.7.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6135 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.testImpersonation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/598/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/598/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/598/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/598/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-598/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-598/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12665849&lt;/p&gt;</comment>
                            <comment id="14154402" author="navis" created="Wed, 1 Oct 2014 05:55:40 +0000"  >&lt;p&gt;Rebased to trunk.&lt;/p&gt;</comment>
                            <comment id="14155061" author="hiveqa" created="Wed, 1 Oct 2014 16:27:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12672261/HIVE-2828.8.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12672261/HIVE-2828.8.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 6488 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1072/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1072/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1072/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1072/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1072/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1072/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12672261&lt;/p&gt;</comment>
                            <comment id="14159791" author="navis" created="Mon, 6 Oct 2014 01:41:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; I think there are some requests on this. Could you review this if time allows?&lt;/p&gt;</comment>
                            <comment id="14160981" author="sushanth" created="Mon, 6 Oct 2014 21:25:43 +0000"  >&lt;p&gt;Sure, I&apos;ll try to look into this tonight.&lt;/p&gt;</comment>
                            <comment id="14164106" author="sushanth" created="Wed, 8 Oct 2014 20:29:23 +0000"  >&lt;p&gt;Sorry, I&apos;ve been swamped the last couple of days, and expect to be so for the next couple of days - this weekend is going to be the earliest I can look at it. I think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; also potentially have some context, so tagging them if they want to look at this before I do so.&lt;/p&gt;</comment>
                            <comment id="14164108" author="serega_sheypak" created="Wed, 8 Oct 2014 20:31:34 +0000"  >&lt;p&gt;Can you give a github link where to look at?&lt;/p&gt;</comment>
                            <comment id="14164122" author="brocknoland" created="Wed, 8 Oct 2014 20:43:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; has worked on the hbase serde lately.&lt;/p&gt;</comment>
                            <comment id="14164125" author="serega_sheypak" created="Wed, 8 Oct 2014 20:46:37 +0000"  >&lt;p&gt;Ok,thanks!&lt;/p&gt;</comment>
                            <comment id="14164881" author="ehsan" created="Thu, 9 Oct 2014 07:41:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=serega_sheypak&quot; class=&quot;user-hover&quot; rel=&quot;serega_sheypak&quot;&gt;Sergey&lt;/a&gt;&lt;br/&gt;
Also, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8267&quot; title=&quot;Exposing hbase cell latest timestamp through hbase columns mappings to hive columns.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8267&quot;&gt;HIVE-8267&lt;/a&gt; is the sequel feature request, with the ability to make timestamp of any cell available. So could you guys also look into that?&lt;/p&gt;</comment>
                            <comment id="14165122" author="swarnim" created="Thu, 9 Oct 2014 13:29:07 +0000"  >&lt;p&gt;Sure. I will take a look at it today.&lt;/p&gt;</comment>
                            <comment id="14166239" author="swarnim" created="Fri, 10 Oct 2014 03:44:06 +0000"  >&lt;p&gt;Left comments on the phabricator review.&lt;/p&gt;</comment>
                            <comment id="14167773" author="ndimiduk" created="Fri, 10 Oct 2014 23:29:15 +0000"  >&lt;p&gt;Left a comment on phabricator. +1&lt;/p&gt;</comment>
                            <comment id="14167775" author="phabricator@reviews.facebook.net" created="Fri, 10 Oct 2014 23:29:40 +0000"  >&lt;p&gt;ndimiduk added a subscriber: ndimiduk.&lt;br/&gt;
ndimiduk accepted this revision.&lt;br/&gt;
ndimiduk added a reviewer: ndimiduk.&lt;br/&gt;
ndimiduk added a comment.&lt;br/&gt;
This revision is now accepted and ready to land.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-861&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/LazyHBaseRow.java:154 This is as good a decision as any. Maybe down the road someone will want to specify which cell&apos;s timestamp maps to which column?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1989&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1989&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: navis, JIRA, ndimiduk&lt;br/&gt;
Cc: ndimiduk&lt;/p&gt;</comment>
                            <comment id="14170574" author="navis" created="Tue, 14 Oct 2014 06:28:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; It would be handled in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8267&quot; title=&quot;Exposing hbase cell latest timestamp through hbase columns mappings to hive columns.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8267&quot;&gt;HIVE-8267&lt;/a&gt;. (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8267?focusedCommentId=14154347&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14154347&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-8267?focusedCommentId=14154347&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14154347&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; Cannot find your comments in phabricator and the patch in it would have gone stale. Could you use RB (&lt;a href=&quot;https://reviews.apache.org/r/25238/)?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/25238/)?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14170937" author="swarnim" created="Tue, 14 Oct 2014 13:51:27 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;. The patch looks great to me. Left a minor question on the review. +1 otherwise.&lt;/p&gt;</comment>
                            <comment id="14171887" author="navis" created="Wed, 15 Oct 2014 02:08:52 +0000"  >&lt;p&gt;Addressed comment. Rerunning test.&lt;/p&gt;</comment>
                            <comment id="14173143" author="hiveqa" created="Wed, 15 Oct 2014 23:33:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12674889/HIVE-2828.9.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12674889/HIVE-2828.9.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 6559 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.beeline.TestSchemaTool.testSchemaInit
org.apache.hive.beeline.TestSchemaTool.testSchemaUpgrade
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1280/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1280/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1280/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1280/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1280/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1280/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12674889&lt;/p&gt;</comment>
                            <comment id="14173374" author="navis" created="Thu, 16 Oct 2014 05:02:16 +0000"  >&lt;p&gt;Fails are not related to this. Committed to trunk. Thanks Swarnim for the review!&lt;/p&gt;</comment>
                            <comment id="14173468" author="navis" created="Thu, 16 Oct 2014 07:15:45 +0000"  >&lt;p&gt;My bad. Some codes not in the patch is included by mistake, failing hbase_custom_key* tests. I&apos;ll merge patch for that with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8465&quot; title=&quot;Fix some minor test fails on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8465&quot;&gt;&lt;del&gt;HIVE-8465&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14173481" author="lefty@hortonworks.com" created="Thu, 16 Oct 2014 07:28:37 +0000"  >&lt;p&gt;Doc note:  This should be documented in the HBase Integration wikidoc, with version information, and a release note would be nice.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HBaseIntegration&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HBase Integration &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16581125" author="lars_francke" created="Wed, 15 Aug 2018 14:15:50 +0000"  >&lt;p&gt;I added a note in the docs about this&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12744227">HIVE-8267</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12515353">HIVE-2306</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12516249" name="ASF.LICENSE.NOT.GRANTED--HIVE-2828.D1989.1.patch" size="22532" author="phabricator@reviews.facebook.net" created="Tue, 28 Feb 2012 01:05:49 +0000"/>
                            <attachment id="12517533" name="ASF.LICENSE.NOT.GRANTED--HIVE-2828.D1989.2.patch" size="58714" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 07:02:58 +0000"/>
                            <attachment id="12518608" name="ASF.LICENSE.NOT.GRANTED--HIVE-2828.D1989.3.patch" size="39202" author="phabricator@reviews.facebook.net" created="Fri, 16 Mar 2012 03:41:42 +0000"/>
                            <attachment id="12518773" name="ASF.LICENSE.NOT.GRANTED--HIVE-2828.D1989.4.patch" size="43450" author="phabricator@reviews.facebook.net" created="Sat, 17 Mar 2012 04:02:48 +0000"/>
                            <attachment id="12519586" name="ASF.LICENSE.NOT.GRANTED--HIVE-2828.D1989.5.patch" size="45920" author="phabricator@reviews.facebook.net" created="Fri, 23 Mar 2012 05:21:30 +0000"/>
                            <attachment id="12665836" name="HIVE-2828.6.patch.txt" size="59494" author="navis" created="Tue, 2 Sep 2014 04:04:04 +0000"/>
                            <attachment id="12665849" name="HIVE-2828.7.patch.txt" size="62288" author="navis" created="Tue, 2 Sep 2014 06:14:17 +0000"/>
                            <attachment id="12672261" name="HIVE-2828.8.patch.txt" size="68667" author="navis" created="Wed, 1 Oct 2014 05:55:40 +0000"/>
                            <attachment id="12674889" name="HIVE-2828.9.patch.txt" size="65269" author="navis" created="Wed, 15 Oct 2014 00:44:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Feb 2012 01:05:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>229589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i014vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2829] SET hive.exec.max.dynamic.partitions.pernode is ignored</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2829</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SET hive.exec.max.dynamic.partitions.pernode=12345;&lt;/p&gt;

&lt;p&gt;in a Hive script is ignored. The default value of 100 coming from hive-default.xml is always passed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12544450">HIVE-2829</key>
            <summary>SET hive.exec.max.dynamic.partitions.pernode is ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="patrickangeles">Patrick Angeles</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Feb 2012 17:07:34 +0000</created>
                <updated>Fri, 13 Apr 2012 21:15:41 +0000</updated>
                            <resolved>Fri, 13 Apr 2012 21:15:41 +0000</resolved>
                                    <version>0.7.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12549144">HIVE-2918</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>229687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124167</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2830] getText method of ErrorMsg uses only the rightmost node in AST to construct message</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2830</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The getText method of ErrorMsg uses only the rightmost node of the AST to construct the error message, which is not enough in some cases.&lt;/p&gt;

&lt;p&gt;For example, INVALID_ARGUMENT, which is used by TypeCheckProcFactory, says this rightmost node is an invalid argument, however, if it is the type of the result of the function acting on that argument that makes it invalid, it is actually the function and the argument to that function which are together an invalid argument to whatever function is being type checked.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12544533">HIVE-2830</key>
            <summary>getText method of ErrorMsg uses only the rightmost node in AST to construct message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Feb 2012 23:40:26 +0000</created>
                <updated>Tue, 28 Feb 2012 23:40:26 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>229719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124168</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2831] TestContribCliDriver.dboutput and TestCliDriver.input45 fail on 0.23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2831</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12544534">HIVE-2831</key>
            <summary>TestContribCliDriver.dboutput and TestCliDriver.input45 fail on 0.23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Feb 2012 23:47:59 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:23 +0000</updated>
                            <resolved>Fri, 16 Mar 2012 16:22:08 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13218846" author="cwsteinbach" created="Wed, 29 Feb 2012 02:26:26 +0000"  >&lt;p&gt;Running the &apos;dfs&apos; command on 0.20 produces the following output:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; dfs -rmr ../build/test_dboutput_db;
Deleted file:/data/users/sdong/www/open-source-hive3/build/test_dboutput_db
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But on 0.23 the output of FsShell commands has changed slightly:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; dfs -rmr ../build/test_dboutput_db;
Deleted ../build/test_dboutput_db
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This difference is causing test failures in TestConbribCliDriver.dboutput and TestCliDriver.input45&lt;/p&gt;</comment>
                            <comment id="13219795" author="appodictic" created="Thu, 1 Mar 2012 04:38:03 +0000"  >&lt;p&gt;db_output was one of my creations. I have two thoughts. I believe we have version specific unit tests. I wonder if we can setup the script to write to a table location wearhouse/db and then just drop the table when done.&lt;/p&gt;</comment>
                            <comment id="13220452" author="cwsteinbach" created="Thu, 1 Mar 2012 22:50:00 +0000"  >&lt;p&gt;@Ed: I think in the past we have handled problems like this by updating the list of strings that diff should ignore. The patch I just attached does the same.&lt;/p&gt;</comment>
                            <comment id="13221279" author="phabricator@reviews.facebook.net" created="Fri, 2 Mar 2012 21:29:55 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2831&quot; title=&quot;TestContribCliDriver.dboutput and TestCliDriver.input45 fail on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2831&quot;&gt;&lt;del&gt;HIVE-2831&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Mask FsShell output in QTestUtil&quot;.&lt;br/&gt;
Reviewers: JIRA, edwardcapriolo&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2831&quot; title=&quot;TestContribCliDriver.dboutput and TestCliDriver.input45 fail on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2831&quot;&gt;&lt;del&gt;HIVE-2831&lt;/del&gt;&lt;/a&gt;. Mask FsShell output in QTestUtil&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2049&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2049&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/p&gt;</comment>
                            <comment id="13224343" author="ashutoshc" created="Wed, 7 Mar 2012 13:59:22 +0000"  >&lt;p&gt;The approach looks alright to me, but I suspect this will result in updates in most *.q.out files.  &lt;/p&gt;</comment>
                            <comment id="13231283" author="phabricator@reviews.facebook.net" created="Fri, 16 Mar 2012 15:15:35 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2831&quot; title=&quot;TestContribCliDriver.dboutput and TestCliDriver.input45 fail on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2831&quot;&gt;&lt;del&gt;HIVE-2831&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Mask FsShell output in QTestUtil&quot;.&lt;/p&gt;

&lt;p&gt;  Tests passed, will commit shortly.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2049&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2049&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2831&quot; title=&quot;TestContribCliDriver.dboutput and TestCliDriver.input45 fail on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2831&quot;&gt;&lt;del&gt;HIVE-2831&lt;/del&gt;&lt;/a&gt;-dboutput&lt;/p&gt;</comment>
                            <comment id="13231340" author="ashutoshc" created="Fri, 16 Mar 2012 16:22:08 +0000"  >&lt;p&gt;Committed. Thanks, Carl!&lt;/p&gt;</comment>
                            <comment id="13231349" author="phabricator@reviews.facebook.net" created="Fri, 16 Mar 2012 16:31:41 +0000"  >&lt;p&gt;cwsteinbach has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2831&quot; title=&quot;TestContribCliDriver.dboutput and TestCliDriver.input45 fail on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2831&quot;&gt;&lt;del&gt;HIVE-2831&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Mask FsShell output in QTestUtil&quot;.&lt;/p&gt;

&lt;p&gt;  Change committed by hashutosh.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2049&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2049&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1301630&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1301630&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13231763" author="hudson" created="Sat, 17 Mar 2012 00:42:52 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1316 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1316/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1316/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2831&quot; title=&quot;TestContribCliDriver.dboutput and TestCliDriver.input45 fail on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2831&quot;&gt;&lt;del&gt;HIVE-2831&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Mask FsShell output in QTestUtil&lt;br/&gt;
(Carl Steinbach via Ashutosh Chauhan)&lt;/p&gt;

&lt;p&gt;Summary: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2831&quot; title=&quot;TestContribCliDriver.dboutput and TestCliDriver.input45 fail on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2831&quot;&gt;&lt;del&gt;HIVE-2831&lt;/del&gt;&lt;/a&gt;. Mask FsShell output in QTestUtil&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, edwardcapriolo, ashutoshc&lt;/p&gt;

&lt;p&gt;Reviewed By: ashutoshc&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D2049&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2049&lt;/a&gt; (Revision 1301630)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1301630&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1301630&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265358" author="ashutoshc" created="Mon, 30 Apr 2012 21:12:00 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548100" author="hudson" created="Wed, 9 Jan 2013 10:24:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2831&quot; title=&quot;TestContribCliDriver.dboutput and TestCliDriver.input45 fail on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2831&quot;&gt;&lt;del&gt;HIVE-2831&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Mask FsShell output in QTestUtil&lt;br/&gt;
(Carl Steinbach via Ashutosh Chauhan)&lt;/p&gt;

&lt;p&gt;Summary: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2831&quot; title=&quot;TestContribCliDriver.dboutput and TestCliDriver.input45 fail on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2831&quot;&gt;&lt;del&gt;HIVE-2831&lt;/del&gt;&lt;/a&gt;. Mask FsShell output in QTestUtil&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, edwardcapriolo, ashutoshc&lt;/p&gt;

&lt;p&gt;Reviewed By: ashutoshc&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D2049&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2049&lt;/a&gt; (Revision 1301630)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1301630&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1301630&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12516891" name="ASF.LICENSE.NOT.GRANTED--HIVE-2831.D2049.1.patch" size="531" author="phabricator@reviews.facebook.net" created="Fri, 2 Mar 2012 21:29:56 +0000"/>
                            <attachment id="12516744" name="HIVE-2831.1.patch.txt" size="575" author="cwsteinbach" created="Thu, 1 Mar 2012 22:48:51 +0000"/>
                            <attachment id="12516894" name="HIVE-2831.D2049.1.patch" size="531" author="cwsteinbach" created="Fri, 2 Mar 2012 22:27:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 1 Mar 2012 04:38:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>229720</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2832] Cache error messages for additional logging</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2832</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be good if we could cache logs written to SessionState.err so that they could be exposed to hooks for additional logging.  This would allow logging of error messages with the queries that failed in a central location.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12544818">HIVE-2832</key>
            <summary>Cache error messages for additional logging</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Mar 2012 18:11:01 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:25 +0000</updated>
                            <resolved>Fri, 9 Mar 2012 19:32:33 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13220223" author="phabricator@reviews.facebook.net" created="Thu, 1 Mar 2012 18:35:55 +0000"  >&lt;p&gt;kevinwilfong requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2832&quot; title=&quot;Cache error messages for additional logging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2832&quot;&gt;&lt;del&gt;HIVE-2832&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Cache error messages for additional logging&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2832&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2832&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Created a subclass of PrintStream which stores output written to its println method in a variable (in particular this will store all output written to the LogHelper class&apos;s printError method.  I also created a new variable info in SessionState which, if set, will be used by LogHelper&apos;s printInfo method instead of SessionState.err, as logs written using this method aren&apos;t as significant.&lt;/p&gt;

&lt;p&gt;  It would be good if we could cache logs written to SessionState.err so that they could be exposed to hooks for additional logging.  This would allow logging of error messages with the queries that failed in a central location.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2025&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2025&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/common/io/CachingPrintStream.java&lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;br/&gt;
  ql/src/test/results/clientnegative/cachingprintstream.q.out&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/hooks/VerifyCachingPrintStreamHook.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/cachingprintstream.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4341/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4341/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13225776" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 01:59:56 +0000"  >&lt;p&gt;kevinwilfong updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2832&quot; title=&quot;Cache error messages for additional logging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2832&quot;&gt;&lt;del&gt;HIVE-2832&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Cache error messages for additional logging&quot;.&lt;br/&gt;
Reviewers: JIRA, njain&lt;/p&gt;

&lt;p&gt;  Instead of adding special logic to reset the print stream if it is a CachingPrintStream, override the flush method to do this.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2025&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2025&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/common/io/CachingPrintStream.java&lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;br/&gt;
  ql/src/test/results/clientnegative/cachingprintstream.q.out&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/hooks/VerifyCachingPrintStreamHook.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/cachingprintstream.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/p&gt;</comment>
                            <comment id="13225867" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 05:55:54 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2832&quot; title=&quot;Cache error messages for additional logging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2832&quot;&gt;&lt;del&gt;HIVE-2832&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Cache error messages for additional logging&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2025&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2025&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13225868" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 05:55:56 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2832&quot; title=&quot;Cache error messages for additional logging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2832&quot;&gt;&lt;del&gt;HIVE-2832&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Cache error messages for additional logging&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2025&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2025&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13226362" author="namit" created="Fri, 9 Mar 2012 19:32:33 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13226665" author="hudson" created="Sat, 10 Mar 2012 01:06:22 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1302 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1302/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1302/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2832&quot; title=&quot;Cache error messages for additional logging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2832&quot;&gt;&lt;del&gt;HIVE-2832&lt;/del&gt;&lt;/a&gt; Cache error messages for additional logging&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1299000)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1299000&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1299000&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/common/io/CachingPrintStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/hooks/VerifyCachingPrintStreamHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/cachingprintstream.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/cachingprintstream.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265254" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:20 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13494429" author="phabricator@reviews.facebook.net" created="Fri, 9 Nov 2012 23:37:12 +0000"  >&lt;p&gt;kevinwilfong has closed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2832&quot; title=&quot;Cache error messages for additional logging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2832&quot;&gt;&lt;del&gt;HIVE-2832&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Cache error messages for additional logging&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2025&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2025&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13548107" author="hudson" created="Wed, 9 Jan 2013 10:24:25 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2832&quot; title=&quot;Cache error messages for additional logging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2832&quot;&gt;&lt;del&gt;HIVE-2832&lt;/del&gt;&lt;/a&gt; Cache error messages for additional logging&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1299000)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1299000&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1299000&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/common/io/CachingPrintStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/hooks/VerifyCachingPrintStreamHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/cachingprintstream.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/cachingprintstream.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12516710" name="ASF.LICENSE.NOT.GRANTED--HIVE-2832.D2025.1.patch" size="9694" author="phabricator@reviews.facebook.net" created="Thu, 1 Mar 2012 18:35:56 +0000"/>
                            <attachment id="12517662" name="ASF.LICENSE.NOT.GRANTED--HIVE-2832.D2025.2.patch" size="9634" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 01:59:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 1 Mar 2012 18:35:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0iy6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>108633</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2833] Fix test failures caused by HIVE-2716</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2833</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12544871">HIVE-2833</key>
            <summary>Fix test failures caused by HIVE-2716</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Mar 2012 00:55:16 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:24 +0000</updated>
                            <resolved>Mon, 5 Mar 2012 07:16:27 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13220553" author="cwsteinbach" created="Fri, 2 Mar 2012 00:55:58 +0000"  >&lt;blockquote&gt;
&lt;p&gt;@Ashutosh, it broke facebook&apos;s internal branch.&lt;br/&gt;
Did you test it with mysql db - I haven&apos;t debugged it, but reverting this fixes the problem.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13220557" author="namit" created="Fri, 2 Mar 2012 01:00:58 +0000"  >&lt;p&gt;Can you please work on this as a very high priority ?&lt;br/&gt;
We need a fix asap for this.&lt;/p&gt;</comment>
                            <comment id="13220586" author="ashutoshc" created="Fri, 2 Mar 2012 01:36:05 +0000"  >&lt;p&gt;@Namit,&lt;/p&gt;

&lt;p&gt;It passes all the tests on the trunk. Do, you have a reproducible testcase for this? &lt;/p&gt;</comment>
                            <comment id="13220597" author="enis" created="Fri, 2 Mar 2012 01:53:14 +0000"  >&lt;p&gt;I can work on it, if we can get a reproducible test, or a list of tests which are failing. &lt;/p&gt;

&lt;p&gt;Is there an easy way to run the tests on trunk with mysql? &lt;/p&gt;</comment>
                            <comment id="13220637" author="cwsteinbach" created="Fri, 2 Mar 2012 02:58:17 +0000"  >&lt;p&gt;@Enis: Modifying the metastore configuration properties in data/conf/hive-site.xml will probably work for most tests.&lt;/p&gt;</comment>
                            <comment id="13221129" author="namit" created="Fri, 2 Mar 2012 18:21:12 +0000"  >&lt;p&gt;Enis/Ashutosh, we can try coming up with the testcase.&lt;br/&gt;
But, in the meanwhile, can I upload a patch which reverts this ?&lt;br/&gt;
This will unblock us (facebook branch).&lt;/p&gt;</comment>
                            <comment id="13221164" author="kevinwilfong" created="Fri, 2 Mar 2012 19:03:11 +0000"  >&lt;p&gt;The issue is that updateConnectionURL is now being called after the ObjectStore is initially constructed.  We use a Metastore Connection URL Hook to generate the URL to be used by JDO.  Since, this was being called after the ObjectStore was constructed, it was initially trying to connect to a default URL which was incorrect.&lt;/p&gt;

&lt;p&gt;I&apos;ll upload a patch once I come up with a test case.&lt;/p&gt;</comment>
                            <comment id="13221326" author="kevinwilfong" created="Fri, 2 Mar 2012 22:44:34 +0000"  >&lt;p&gt;kevinwilfong requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;This fixes the issue where the implementation of RawStore was being initialized in the metastore before the JDOConnectionURLHook was being called. I moved some code around so that the RawStore implementation is initialized in the RetryRawStore initialization after the hook is called. In addition, the URL now needs to be updated in the thread local configuration instead of the non-thread local one, as by the time the hook is now being called, the thread local configuration has already been initialized based on the other.&lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1219&quot; title=&quot;More robust handling of metastore connection failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1219&quot;&gt;&lt;del&gt;HIVE-1219&lt;/del&gt;&lt;/a&gt;, method retrying for raw store operation are introduced to handle jdo operations more robustly. However, the abstraction for the RawStore operations can be moved to a separate class implementing RawStore, which should clean up the code base for HiveMetaStore.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D2055&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2055&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java&lt;br/&gt;
metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreConnectionUrlHook.java&lt;br/&gt;
metastore/src/test/org/apache/hadoop/hive/metastore/DummyJdoConnectionUrlHook.java&lt;br/&gt;
metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;br/&gt;
metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4407/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4407/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13221331" author="phabricator@reviews.facebook.net" created="Fri, 2 Mar 2012 22:55:55 +0000"  >&lt;p&gt;enis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2833&quot; title=&quot;Fix test failures caused by HIVE-2716&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2833&quot;&gt;&lt;del&gt;HIVE-2833&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt;&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java:1019 What is class1 is used for? I noticed that you did not change it but just moved the method. Shall we remove that parameter.&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreConnectionUrlHook.java:49 Changing this to DummyJdoConnectionUrlHook.class.getName() will be better for refactoring / finding references.&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreConnectionUrlHook.java:53 same here&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreConnectionUrlHook.java:32 There is a separate test for the metastorehook in&lt;br/&gt;
  contrib/src/test/queries/clientnegative/url_hook.q and&lt;br/&gt;
   contrib/src/java/org/apache/hadoop/hive/contrib/metastore/hooks/TestURLHook.java, which tests the meta store hook connection retry mechanism. Shall we also migrate that test here, wdyt?&lt;br/&gt;
  Please see that patch at &lt;a href=&quot;https://reviews.facebook.net/D1953&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1953&lt;/a&gt;&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/DummyJdoConnectionUrlHook.java:33 Can you remove this, it is not used.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2055&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2055&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13221392" author="phabricator@reviews.facebook.net" created="Sat, 3 Mar 2012 00:39:55 +0000"  >&lt;p&gt;kevinwilfong has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2833&quot; title=&quot;Fix test failures caused by HIVE-2716&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2833&quot;&gt;&lt;del&gt;HIVE-2833&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt;&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/DummyJdoConnectionUrlHook.java:33 It is used in the test method.  I thought it made sense to keep them together.&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreConnectionUrlHook.java:32 A q file will test the entire stack from CLI to the db underlying the Object Store, so it is much more complete.  In this case, I just wanted to target a very specific test.&lt;/p&gt;

&lt;p&gt;  Also, I don&apos;t like to change tests other people have written unless there is a clear problem with the test.  In case I miss something they wanted to test.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2055&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2055&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13221397" author="phabricator@reviews.facebook.net" created="Sat, 3 Mar 2012 00:53:55 +0000"  >&lt;p&gt;kevinwilfong updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2833&quot; title=&quot;Fix test failures caused by HIVE-2716&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2833&quot;&gt;&lt;del&gt;HIVE-2833&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt;&quot;.&lt;br/&gt;
Reviewers: JIRA, njain, ashutoshc, cwsteinbach, enis&lt;/p&gt;

&lt;p&gt;  Removed unnecessary parameter from getClass, used getName method of classes instead of explicit class names in test.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2055&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2055&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreConnectionUrlHook.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/DummyJdoConnectionUrlHook.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;/p&gt;</comment>
                            <comment id="13221435" author="namit" created="Sat, 3 Mar 2012 01:32:47 +0000"  >&lt;p&gt;Looks good to me, but I will wait from Ashutosh/Enis before I commit this.&lt;br/&gt;
Please let us know if you see any problems with this.&lt;/p&gt;</comment>
                            <comment id="13221438" author="ashutoshc" created="Sat, 3 Mar 2012 01:35:09 +0000"  >&lt;p&gt;@Kevin,&lt;br/&gt;
Thanks a bunch for digging into it and for the fix.&lt;/p&gt;

&lt;p&gt;@Namit,&lt;br/&gt;
I will take a look at it over the weekend and will post comments if I have any.&lt;/p&gt;</comment>
                            <comment id="13221773" author="phabricator@reviews.facebook.net" created="Sun, 4 Mar 2012 02:57:55 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2833&quot; title=&quot;Fix test failures caused by HIVE-2716&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2833&quot;&gt;&lt;del&gt;HIVE-2833&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt;&quot;.&lt;/p&gt;

&lt;p&gt;  +1 Looks good to me.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2055&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2055&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13221946" author="namit" created="Sun, 4 Mar 2012 17:31:39 +0000"  >&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="13222194" author="namit" created="Mon, 5 Mar 2012 07:16:27 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13222307" author="hudson" created="Mon, 5 Mar 2012 12:38:40 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1290 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1290/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1290/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2833&quot; title=&quot;Fix test failures caused by HIVE-2716&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2833&quot;&gt;&lt;del&gt;HIVE-2833&lt;/del&gt;&lt;/a&gt; Fix test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1296946)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1296946&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1296946&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyJdoConnectionUrlHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreConnectionUrlHook.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265282" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:30 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548105" author="hudson" created="Wed, 9 Jan 2013 10:24:24 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2833&quot; title=&quot;Fix test failures caused by HIVE-2716&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2833&quot;&gt;&lt;del&gt;HIVE-2833&lt;/del&gt;&lt;/a&gt; Fix test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1296946)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1296946&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1296946&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyJdoConnectionUrlHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreConnectionUrlHook.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12538257">HIVE-2716</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12516913" name="ASF.LICENSE.NOT.GRANTED--HIVE-2833.D2055.2.patch" size="23540" author="phabricator@reviews.facebook.net" created="Sat, 3 Mar 2012 00:53:55 +0000"/>
                            <attachment id="12516898" name="HIVE-2716.D2055.1.patch" size="23544" author="kevinwilfong" created="Fri, 2 Mar 2012 22:44:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Mar 2012 01:00:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124171</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2834] Diff masking it too aggressive in index_bitmap*.q and index_compact*.q tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2834</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12544885">HIVE-2834</key>
            <summary>Diff masking it too aggressive in index_bitmap*.q and index_compact*.q tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Mar 2012 05:04:05 +0000</created>
                <updated>Sat, 6 Dec 2014 05:23:26 +0000</updated>
                                                                            <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13221395" author="phabricator@reviews.facebook.net" created="Sat, 3 Mar 2012 00:47:57 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2834&quot; title=&quot;Diff masking it too aggressive in index_bitmap*.q and index_compact*.q tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2834&quot;&gt;HIVE-2834&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Diff masking it too aggressive in index_bitmap*.q and index_compact*.q tests&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2834&quot; title=&quot;Diff masking it too aggressive in index_bitmap*.q and index_compact*.q tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2834&quot;&gt;HIVE-2834&lt;/a&gt;. Diff masking it too aggressive in index_bitmap*.q and index_compact*.q tests&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2061&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2061&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  data/conf/hive-site.xml&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_rc.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/virtual_column.q&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap_auto.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap_rc.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_compact.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_compact_1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_compact_2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_compact_3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/virtual_column.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4413/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4413/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13222720" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 22:57:57 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2834&quot; title=&quot;Diff masking it too aggressive in index_bitmap*.q and index_compact*.q tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2834&quot;&gt;HIVE-2834&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Diff masking it too aggressive in index_bitmap*.q and index_compact*.q tests&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2834&quot; title=&quot;Diff masking it too aggressive in index_bitmap*.q and index_compact*.q tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2834&quot;&gt;HIVE-2834&lt;/a&gt;. Diff masking it too aggressive in index_bitmap*.q and index_compact*.q tests&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2109&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2109&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_rc.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/virtual_column.q&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap_auto.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_bitmap_rc.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_compact.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_compact_1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_compact_2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/index_compact_3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/virtual_column.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4557/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4557/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13224337" author="ashutoshc" created="Wed, 7 Mar 2012 13:52:35 +0000"  >&lt;p&gt;Failed to apply. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Hunk #3 FAILED at 63.
1 out of 3 hunks FAILED -- saving rejects to file ql/src/test/queries/clientpositive/index_compact_2.q.rej
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12445221">HIVE-1040</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12516912" name="ASF.LICENSE.NOT.GRANTED--HIVE-2834.D2061.1.patch" size="880494" author="phabricator@reviews.facebook.net" created="Sat, 3 Mar 2012 00:47:58 +0000"/>
                            <attachment id="12517148" name="ASF.LICENSE.NOT.GRANTED--HIVE-2834.D2109.1.patch" size="439990" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 22:57:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 3 Mar 2012 00:47:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230071</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2835] Change default configuration for hive.exec.dynamic.partition</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2835</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I think we should enable dynamic partitions by default.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12544970">HIVE-2835</key>
            <summary>Change default configuration for hive.exec.dynamic.partition</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="owen.omalley">Owen O&apos;Malley</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Mar 2012 18:45:11 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:22 +0000</updated>
                            <resolved>Fri, 16 Mar 2012 06:35:14 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13224035" author="phabricator@reviews.facebook.net" created="Wed, 7 Mar 2012 06:43:59 +0000"  >&lt;p&gt;omalley requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2835&quot; title=&quot;Change default configuration for hive.exec.dynamic.partition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2835&quot;&gt;&lt;del&gt;HIVE-2835&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Change default configuration for hive.exec.dynamic.partition&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &amp;lt;&amp;lt;Enter Revision Title&amp;gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;  Change default config for dynamic partitions&lt;/p&gt;

&lt;p&gt;  I think we should enable dynamic partitions by default.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  conf/hive-default.xml.template&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4719/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4719/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13224677" author="appodictic" created="Wed, 7 Mar 2012 20:26:59 +0000"  >&lt;p&gt;+1 will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="13224756" author="appodictic" created="Wed, 7 Mar 2012 21:56:08 +0000"  >&lt;p&gt;Actually -1 changing the .xml.template does nothing. The change has to happen to HiveConf.java.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Index: conf/hive-default.xml.template
===================================================================
--- conf/hive-default.xml.template	(revision 1298087)
+++ conf/hive-default.xml.template	(working copy)
@@ -791,7 +791,7 @@
 
 &amp;lt;property&amp;gt;
   &amp;lt;name&amp;gt;hive.exec.dynamic.partition&amp;lt;/name&amp;gt;
-  &amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;
+  &amp;lt;value&amp;gt;true&amp;lt;/value&amp;gt;
   &amp;lt;description&amp;gt;Whether or not to allow dynamic partitions in DML/DDL.&amp;lt;/description&amp;gt;
 &amp;lt;/property&amp;gt;
 
Index: common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
===================================================================
--- common/src/java/org/apache/hadoop/hive/conf/HiveConf.java	(revision 1298087)
+++ common/src/java/org/apache/hadoop/hive/conf/HiveConf.java	(working copy)
@@ -172,7 +172,7 @@
     EXECPARALLETHREADNUMBER(&quot;hive.exec.parallel.thread.number&quot;, 8),
     HIVESPECULATIVEEXECREDUCERS(&quot;hive.mapred.reduce.tasks.speculative.execution&quot;, true),
     HIVECOUNTERSPULLINTERVAL(&quot;hive.exec.counters.pull.interval&quot;, 1000L),
-    DYNAMICPARTITIONING(&quot;hive.exec.dynamic.partition&quot;, false),
+    DYNAMICPARTITIONING(&quot;hive.exec.dynamic.partition&quot;, true),
     DYNAMICPARTITIONINGMODE(&quot;hive.exec.dynamic.partition.mode&quot;, &quot;strict&quot;),
     DYNAMICPARTITIONMAXPARTS(&quot;hive.exec.max.dynamic.partitions&quot;, 1000),
     DYNAMICPARTITIONMAXPARTSPERNODE(&quot;hive.exec.max.dynamic.partitions.pernode&quot;, 100),
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We will see if the change effects the output of other tests.&lt;/p&gt;</comment>
                            <comment id="13226300" author="owen.omalley" created="Fri, 9 Mar 2012 18:40:11 +0000"  >&lt;p&gt;Thanks for catching the problem, Ed. I uploaded a new patch although clearly you already have the fixed patch.&lt;/p&gt;</comment>
                            <comment id="13226301" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 18:40:54 +0000"  >&lt;p&gt;omalley updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2835&quot; title=&quot;Change default configuration for hive.exec.dynamic.partition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2835&quot;&gt;&lt;del&gt;HIVE-2835&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Change default configuration for hive.exec.dynamic.partition&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Added change to HiveConf.java&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;/p&gt;</comment>
                            <comment id="13230704" author="phabricator@reviews.facebook.net" created="Thu, 15 Mar 2012 23:30:37 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2835&quot; title=&quot;Change default configuration for hive.exec.dynamic.partition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2835&quot;&gt;&lt;del&gt;HIVE-2835&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Change default configuration for hive.exec.dynamic.partition&quot;.&lt;/p&gt;

&lt;p&gt;  +1 Will commit if tests pass&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2157&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  h-2835&lt;/p&gt;</comment>
                            <comment id="13230930" author="ashutoshc" created="Fri, 16 Mar 2012 06:35:14 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Owen!&lt;/p&gt;</comment>
                            <comment id="13231135" author="hudson" created="Fri, 16 Mar 2012 13:05:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1314 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1314/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1314/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2835&quot; title=&quot;Change default configuration for hive.exec.dynamic.partition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2835&quot;&gt;&lt;del&gt;HIVE-2835&lt;/del&gt;&lt;/a&gt;: Change default configuration for hive.exec.dynamic.partition (Owen Omalley via hashutosh) (Revision 1301348)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1301348&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1301348&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265352" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:59 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548096" author="hudson" created="Wed, 9 Jan 2013 10:24:22 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2835&quot; title=&quot;Change default configuration for hive.exec.dynamic.partition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2835&quot;&gt;&lt;del&gt;HIVE-2835&lt;/del&gt;&lt;/a&gt;: Change default configuration for hive.exec.dynamic.partition (Owen Omalley via hashutosh) (Revision 1301348)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1301348&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1301348&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12517373" name="ASF.LICENSE.NOT.GRANTED--HIVE-2835.D2157.1.patch" size="401" author="phabricator@reviews.facebook.net" created="Wed, 7 Mar 2012 06:44:00 +0000"/>
                            <attachment id="12517759" name="ASF.LICENSE.NOT.GRANTED--HIVE-2835.D2157.2.patch" size="1274" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 18:40:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Mar 2012 06:43:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230156</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09ynz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Dynamic Partitioning is now on by default.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2836] CREATE TABLE LIKE does not copy table type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2836</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;CREATE TABLE t LIKE t2&lt;/p&gt;

&lt;p&gt;If t2 is external t will still be managed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12545021">HIVE-2836</key>
            <summary>CREATE TABLE LIKE does not copy table type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Sat, 3 Mar 2012 01:34:24 +0000</created>
                <updated>Mon, 5 Mar 2012 18:19:37 +0000</updated>
                            <resolved>Mon, 5 Mar 2012 18:19:36 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13222143" author="aniket486" created="Mon, 5 Mar 2012 03:01:09 +0000"  >&lt;p&gt;Read Zheng Shao&apos;s comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-509&quot; title=&quot;Support CREATE TABLE a LIKE b&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-509&quot;&gt;&lt;del&gt;HIVE-509&lt;/del&gt;&lt;/a&gt;. Looks like this is intended behavior. If you want to create external table, you have to create external table t like t2.&lt;br/&gt;
Am I missing anything?&lt;/p&gt;</comment>
                            <comment id="13222482" author="kevinwilfong" created="Mon, 5 Mar 2012 18:19:17 +0000"  >&lt;p&gt;@Aniket&lt;/p&gt;

&lt;p&gt;Thanks for pointing that out.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Mar 2012 03:01:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230207</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124173</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2837] insert into external tables should not be allowed</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2837</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is a very risky thing to allow. &lt;br/&gt;
Since, the external tables can point to any user location, which can potentially corrupt some other tables.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12545027">HIVE-2837</key>
            <summary>insert into external tables should not be allowed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Sat, 3 Mar 2012 01:54:38 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:23 +0000</updated>
                            <resolved>Fri, 9 Mar 2012 17:32:18 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13221491" author="appodictic" created="Sat, 3 Mar 2012 03:24:01 +0000"  >&lt;p&gt;maybe add a read only keyword or table property?&lt;/p&gt;</comment>
                            <comment id="13221942" author="namit" created="Sun, 4 Mar 2012 17:26:21 +0000"  >&lt;p&gt;I dont want to it table-by-table.&lt;br/&gt;
The only other option I can think of is add another configuration variable.&lt;/p&gt;</comment>
                            <comment id="13221977" author="appodictic" created="Sun, 4 Mar 2012 19:29:24 +0000"  >&lt;p&gt;Internal tables can have a location as well.&lt;/p&gt;</comment>
                            <comment id="13225286" author="alangates" created="Thu, 8 Mar 2012 16:27:30 +0000"  >&lt;p&gt;If this is to be added it should definitely be configurable, with the default off, since this is a major backwards incompatibility.&lt;/p&gt;</comment>
                            <comment id="13225723" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 00:37:57 +0000"  >&lt;p&gt;njain requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2837&quot; title=&quot;insert into external tables should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2837&quot;&gt;&lt;del&gt;HIVE-2837&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; insert into external tables should not be allowed&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2837&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2837&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2837&quot; title=&quot;insert into external tables should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2837&quot;&gt;&lt;del&gt;HIVE-2837&lt;/del&gt;&lt;/a&gt; By default, the behavior does not change. It is backward compatible&lt;/p&gt;

&lt;p&gt;  This is a very risky thing to allow.&lt;br/&gt;
  Since, the external tables can point to any user location, which can potentially corrupt some other tables.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2211&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2211&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  ql/src/test/results/clientnegative/insertexternal1.q.out&lt;br/&gt;
  ql/src/test/queries/clientnegative/insertexternal1.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4845/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4845/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13225724" author="namit" created="Fri, 9 Mar 2012 00:38:06 +0000"  >&lt;p&gt;I have added a new parameter: hive.insert.into.external.tables which is true by default.&lt;br/&gt;
If you set it to false explicitly, the inserts will fail.&lt;/p&gt;
</comment>
                            <comment id="13225750" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 00:57:56 +0000"  >&lt;p&gt;kevinwilfong has added CCs to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2837&quot; title=&quot;insert into external tables should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2837&quot;&gt;&lt;del&gt;HIVE-2837&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; insert into external tables should not be allowed&quot;.&lt;br/&gt;
Added CCs: kevinwilfong&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2211&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2211&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13225754" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 01:03:56 +0000"  >&lt;p&gt;njain updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2837&quot; title=&quot;insert into external tables should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2837&quot;&gt;&lt;del&gt;HIVE-2837&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; insert into external tables should not be allowed&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Change error message&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2211&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2211&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  ql/src/test/results/clientnegative/insertexternal1.q.out&lt;br/&gt;
  ql/src/test/queries/clientnegative/insertexternal1.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/p&gt;</comment>
                            <comment id="13225809" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 03:37:59 +0000"  >&lt;p&gt;kevinwilfong has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2837&quot; title=&quot;insert into external tables should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2837&quot;&gt;&lt;del&gt;HIVE-2837&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; insert into external tables should not be allowed&quot;.&lt;/p&gt;

&lt;p&gt;  +1 Will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2211&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2211&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13226227" author="kevinwilfong" created="Fri, 9 Mar 2012 17:32:18 +0000"  >&lt;p&gt;Committed, thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13226664" author="hudson" created="Sat, 10 Mar 2012 01:06:22 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1302 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1302/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1302/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2837&quot; title=&quot;insert into external tables should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2837&quot;&gt;&lt;del&gt;HIVE-2837&lt;/del&gt;&lt;/a&gt;. insert into external tables should not be allowed. (namit via kevinwilfong) (Revision 1298936)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1298936&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1298936&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/insertexternal1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/insertexternal1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265367" author="ashutoshc" created="Mon, 30 Apr 2012 21:12:03 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13266274" author="phabricator@reviews.facebook.net" created="Wed, 2 May 2012 01:12:47 +0000"  >&lt;p&gt;njain has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2837&quot; title=&quot;insert into external tables should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2837&quot;&gt;&lt;del&gt;HIVE-2837&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; insert into external tables should not be allowed&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2211&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2211&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13286907" author="mgrover" created="Thu, 31 May 2012 20:34:37 +0000"  >&lt;p&gt;From looking at this, it seems like it applies to external tables on HDFS as well. Can you please confirm this is correct?&lt;br/&gt;
Technically, insert into should be ok for external tables on HDFS (and S3) as well. Seems like a storage file system level thing to specify whether insert into is applied and implement it.&lt;/p&gt;

&lt;p&gt;Some context for you:&lt;br/&gt;
Historically, there hasn&apos;t been any real difference between creating an external table on HDFS vs creating a managed one. However, if we disallow insert into on external tables, that would mean that folks with external tables on HDFS wouldn&apos;t be able to make use of insert into functionality even though they should be able to. This would make new tables to be biased towards managed tables but what about the people who already have their entire Hive warehouses based on external tables?&lt;/p&gt;</comment>
                            <comment id="13548098" author="hudson" created="Wed, 9 Jan 2013 10:24:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2837&quot; title=&quot;insert into external tables should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2837&quot;&gt;&lt;del&gt;HIVE-2837&lt;/del&gt;&lt;/a&gt;. insert into external tables should not be allowed. (namit via kevinwilfong) (Revision 1298936)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1298936&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1298936&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/insertexternal1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/insertexternal1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12517653" name="ASF.LICENSE.NOT.GRANTED--HIVE-2837.D2211.1.patch" size="5429" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 00:37:57 +0000"/>
                            <attachment id="12517659" name="ASF.LICENSE.NOT.GRANTED--HIVE-2837.D2211.2.patch" size="5281" author="phabricator@reviews.facebook.net" created="Fri, 9 Mar 2012 01:03:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 3 Mar 2012 03:24:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230213</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124174</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2838] cleanup readentity/writeentity</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2838</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Ideally, there should be one common entity instead of readentity/writeentity.&lt;/p&gt;

&lt;p&gt;Unfortunately, that would be a backward incompatible change since users os hive might have written&lt;br/&gt;
there own hooks, where they are using readentity/writeentity.&lt;br/&gt;
We should atleast create a common class, and then we can deprecate read/write entity later, for a new release.&lt;/p&gt;

&lt;p&gt;For now, I propose to make a backward compatible change.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12545099">HIVE-2838</key>
            <summary>cleanup readentity/writeentity</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Sun, 4 Mar 2012 17:20:21 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:21 +0000</updated>
                            <resolved>Fri, 9 Mar 2012 04:18:24 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13222760" author="ashutoshc" created="Mon, 5 Mar 2012 23:24:23 +0000"  >&lt;p&gt;@Namit,&lt;br/&gt;
Can you briefly explain why there should be one common entity instead of read/write entity?&lt;/p&gt;</comment>
                            <comment id="13225400" author="namit" created="Thu, 8 Mar 2012 19:02:31 +0000"  >&lt;p&gt;There is a lot of common stuff between ReadEntity and WriteEntity - table, partition, type etc.&lt;br/&gt;
If you look at the code, it is ~80% same.&lt;/p&gt;

&lt;p&gt;Chances are the custom hooks that you are writing for processing readEntity and writeEntity are similar, and &lt;br/&gt;
are duplicating a lot of logic.&lt;/p&gt;

&lt;p&gt;I was proposing the following:&lt;/p&gt;

&lt;p&gt;Common Class (Entity)&lt;/p&gt;

&lt;p&gt;Both ReadEntity and WriteEntity extend Entity.&lt;/p&gt;


&lt;p&gt;Nothing needs to be changed for existing hooks.&lt;/p&gt;</comment>
                            <comment id="13225404" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 19:05:57 +0000"  >&lt;p&gt;njain requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2838&quot; title=&quot;cleanup readentity/writeentity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2838&quot;&gt;&lt;del&gt;HIVE-2838&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; cleanup readentity/writeentity&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2838&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2838&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2838&quot; title=&quot;cleanup readentity/writeentity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2838&quot;&gt;&lt;del&gt;HIVE-2838&lt;/del&gt;&lt;/a&gt; Cleaup  read/write Entities&lt;/p&gt;

&lt;p&gt;  Ideally, there should be one common entity instead of readentity/writeentity.&lt;/p&gt;

&lt;p&gt;  Unfortunately, that would be a backward incompatible change since users os hive might have written&lt;br/&gt;
  there own hooks, where they are using readentity/writeentity.&lt;br/&gt;
  We should atleast create a common class, and then we can deprecate read/write entity later, for a new release.&lt;/p&gt;

&lt;p&gt;  For now, I propose to make a backward compatible change.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2193&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2193&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/WriteEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/ReadEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4815/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4815/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13225441" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 19:49:56 +0000"  >&lt;p&gt;kevinwilfong has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2838&quot; title=&quot;cleanup readentity/writeentity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2838&quot;&gt;&lt;del&gt;HIVE-2838&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; cleanup readentity/writeentity&quot;.&lt;/p&gt;

&lt;p&gt;  The code looks good.&lt;/p&gt;

&lt;p&gt;  Noticed a few relics left over from WriteEntity in the comments in Entity.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java:30-31 Could you fix this comment.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java:37 This one too.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java:70 Could you split this into two.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java:133 Could you change written to to accessed or something like that.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java:152 here too.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java:180 here too.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2193&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2193&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13225526" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 21:15:56 +0000"  >&lt;p&gt;njain updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2838&quot; title=&quot;cleanup readentity/writeentity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2838&quot;&gt;&lt;del&gt;HIVE-2838&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; cleanup readentity/writeentity&quot;.&lt;br/&gt;
Reviewers: JIRA, kevinwilfong&lt;/p&gt;

&lt;p&gt;  Comments&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2193&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2193&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/WriteEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/ReadEntity.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java&lt;/p&gt;</comment>
                            <comment id="13225622" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 22:39:56 +0000"  >&lt;p&gt;kevinwilfong has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2838&quot; title=&quot;cleanup readentity/writeentity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2838&quot;&gt;&lt;del&gt;HIVE-2838&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; cleanup readentity/writeentity&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;  Will commit after tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2193&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2193&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13225827" author="kevinwilfong" created="Fri, 9 Mar 2012 04:18:24 +0000"  >&lt;p&gt;Committed, thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13226007" author="hudson" created="Fri, 9 Mar 2012 11:06:31 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1300 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1300/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1300/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2838&quot; title=&quot;cleanup readentity/writeentity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2838&quot;&gt;&lt;del&gt;HIVE-2838&lt;/del&gt;&lt;/a&gt;. cleanup readentity/writeentity. (namit via kevinwilfong) (Revision 1298699)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1298699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1298699&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/hooks/ReadEntity.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/hooks/WriteEntity.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265366" author="ashutoshc" created="Mon, 30 Apr 2012 21:12:03 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13266277" author="phabricator@reviews.facebook.net" created="Wed, 2 May 2012 01:14:49 +0000"  >&lt;p&gt;njain has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2838&quot; title=&quot;cleanup readentity/writeentity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2838&quot;&gt;&lt;del&gt;HIVE-2838&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; cleanup readentity/writeentity&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2193&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2193&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13548093" author="hudson" created="Wed, 9 Jan 2013 10:24:21 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2838&quot; title=&quot;cleanup readentity/writeentity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2838&quot;&gt;&lt;del&gt;HIVE-2838&lt;/del&gt;&lt;/a&gt;. cleanup readentity/writeentity. (namit via kevinwilfong) (Revision 1298699)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1298699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1298699&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/hooks/ReadEntity.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/hooks/WriteEntity.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12517589" name="ASF.LICENSE.NOT.GRANTED--HIVE-2838.D2193.1.patch" size="15079" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 19:05:58 +0000"/>
                            <attachment id="12517611" name="ASF.LICENSE.NOT.GRANTED--HIVE-2838.D2193.2.patch" size="15102" author="phabricator@reviews.facebook.net" created="Thu, 8 Mar 2012 21:15:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Mar 2012 23:24:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2839] Filters on outer join with mapjoin hint is not applied correctly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2839</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Testing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2820&quot; title=&quot;Invalid tag is used for MapJoinProcessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2820&quot;&gt;&lt;del&gt;HIVE-2820&lt;/del&gt;&lt;/a&gt;, I&apos;ve found some queries with mapjoin hint makes exceptions.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT &lt;span class=&quot;code-comment&quot;&gt;/*+ MAPJOIN(a) */&lt;/span&gt; * FROM src a RIGHT OUTER JOIN src b on a.key=b.key AND &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; limit 10;

FAILED: Hive Internal Error: java.lang.ClassCastException(org.apache.hadoop.hive.ql.plan.ExprNodeConstantDesc cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc)
java.lang.ClassCastException: org.apache.hadoop.hive.ql.plan.ExprNodeConstantDesc cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.convertMapJoin(MapJoinProcessor.java:363)
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.generateMapJoinOperator(MapJoinProcessor.java:483)
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.transform(MapJoinProcessor.java:689)
	at org.apache.hadoop.hive.ql.optimizer.Optimizer.optimize(Optimizer.java:87)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7519)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:431)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:336)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:891)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:186)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT &lt;span class=&quot;code-comment&quot;&gt;/*+ MAPJOIN(a) */&lt;/span&gt; * FROM src a RIGHT OUTER JOIN src b on a.key=b.key AND b.key * 10 &amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&apos;1000&apos;&lt;/span&gt; limit 10;

java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:161)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:391)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:325)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:270)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:416)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1127)
	at org.apache.hadoop.mapred.Child.main(Child.java:264)
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException
	at org.apache.hadoop.hive.ql.exec.MapJoinOperator.loadHashTable(MapJoinOperator.java:198)
	at org.apache.hadoop.hive.ql.exec.MapJoinOperator.cleanUpInputFileChangedOp(MapJoinOperator.java:212)
	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1321)
	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1325)
	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1325)
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:495)
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:143)
	... 8 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12545125">HIVE-2839</key>
            <summary>Filters on outer join with mapjoin hint is not applied correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Mar 2012 02:44:28 +0000</created>
                <updated>Thu, 16 May 2013 21:10:40 +0000</updated>
                            <resolved>Wed, 6 Feb 2013 17:04:02 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13222136" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 02:46:57 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-919 Filters on outer join with mapjoin hint is not applied correctly&lt;/p&gt;

&lt;p&gt;  Testing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2820&quot; title=&quot;Invalid tag is used for MapJoinProcessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2820&quot;&gt;&lt;del&gt;HIVE-2820&lt;/del&gt;&lt;/a&gt;, I&apos;ve found some queries with mapjoin hint makes exceptions.&lt;/p&gt;

&lt;p&gt;  SELECT /*+ MAPJOIN(a) */ * FROM src a RIGHT OUTER JOIN src b on a.key=b.key AND true limit 10;&lt;/p&gt;

&lt;p&gt;  FAILED: Hive Internal Error: java.lang.ClassCastException(org.apache.hadoop.hive.ql.plan.ExprNodeConstantDesc cannot be cast to org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc)&lt;br/&gt;
  java.lang.ClassCastException: org.apache.hadoop.hive.ql.plan.ExprNodeConstantDesc cannot be cast to org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.convertMapJoin(MapJoinProcessor.java:363)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.generateMapJoinOperator(MapJoinProcessor.java:483)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.transform(MapJoinProcessor.java:689)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.Optimizer.optimize(Optimizer.java:87)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7519)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:250)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:431)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:336)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:891)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)&lt;br/&gt;
  	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
  	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
  	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
  	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
  	at org.apache.hadoop.util.RunJar.main(RunJar.java:186)&lt;/p&gt;

&lt;p&gt;  and&lt;/p&gt;

&lt;p&gt;  SELECT /*+ MAPJOIN(a) */ * FROM src a RIGHT OUTER JOIN src b on a.key=b.key AND b.key * 10 &amp;lt; &apos;1000&apos; limit 10;&lt;/p&gt;

&lt;p&gt;  java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:161)&lt;br/&gt;
  	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
  	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:391)&lt;br/&gt;
  	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:325)&lt;br/&gt;
  	at org.apache.hadoop.mapred.Child$4.run(Child.java:270)&lt;br/&gt;
  	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
  	at javax.security.auth.Subject.doAs(Subject.java:416)&lt;br/&gt;
  	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1127)&lt;br/&gt;
  	at org.apache.hadoop.mapred.Child.main(Child.java:264)&lt;br/&gt;
  Caused by: org.apache.hadoop.hive.ql.metadata.HiveException&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.MapJoinOperator.loadHashTable(MapJoinOperator.java:198)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.MapJoinOperator.cleanUpInputFileChangedOp(MapJoinOperator.java:212)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1321)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1325)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.cleanUpInputFileChanged(Operator.java:1325)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:495)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:143)&lt;br/&gt;
  	... 8 more&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeUtil.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4509/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4509/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13222149" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 03:25:04 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fixed rebasing mistakes.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeUtil.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;</comment>
                            <comment id="13258516" author="ashutoshc" created="Fri, 20 Apr 2012 19:38:05 +0000"  >&lt;p&gt;Unlinking from 0.9&lt;/p&gt;</comment>
                            <comment id="13547819" author="ashutoshc" created="Wed, 9 Jan 2013 09:59:42 +0000"  >&lt;p&gt;This patch got stale as well. Navis, please refresh this patch and I will take a look.&lt;/p&gt;</comment>
                            <comment id="13548946" author="ashutoshc" created="Wed, 9 Jan 2013 20:13:50 +0000"  >&lt;p&gt;This bug also exists on trunk. Query failed with same stacktrace. Unfortunately cannot resolve conflicts to get the patch applied on trunk for testing.&lt;/p&gt;</comment>
                            <comment id="13559423" author="navis" created="Tue, 22 Jan 2013 06:26:49 +0000"  >&lt;p&gt;I think all of the patches dealing MAPJOIN hint should wait till &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3784&quot; title=&quot;de-emphasize mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3784&quot;&gt;&lt;del&gt;HIVE-3784&lt;/del&gt;&lt;/a&gt; is committed.&lt;/p&gt;</comment>
                            <comment id="13569876" author="ashutoshc" created="Sun, 3 Feb 2013 19:40:45 +0000"  >&lt;p&gt;Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3784&quot; title=&quot;de-emphasize mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3784&quot;&gt;&lt;del&gt;HIVE-3784&lt;/del&gt;&lt;/a&gt; whats the status of this bug? Seems like once we get rid of hint completely, we won&apos;t hit this, but I am not sure when will we get there. So feels like this bug still exists. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt; What do you think ? Shall we proceed with this fix?&lt;/p&gt;</comment>
                            <comment id="13569972" author="namit" created="Mon, 4 Feb 2013 03:54:50 +0000"  >&lt;p&gt;I think we should proceed with this fix.&lt;br/&gt;
It might take some time to completely deprecate this hint.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;, can you refresh ?&lt;/p&gt;</comment>
                            <comment id="13569997" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 05:30:12 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Lost the branch. Recreating.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079?vs=6441&amp;amp;id=27147#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079?vs=6441&amp;amp;id=27147#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13570017" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 06:34:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:123 Can you add come comments ?&lt;/p&gt;

&lt;p&gt;  Return List instead of ArrayList.&lt;br/&gt;
  Same applies to the variables.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:150 Do you want to add a else ?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:154 Can you add some comments everywhere ?&lt;br/&gt;
  It will make the review easier&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q:11 Do you want to add a test with a struct column - and the where clause&lt;br/&gt;
  accesses the field&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13570018" author="namit" created="Mon, 4 Feb 2013 06:34:46 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13570068" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 08:42:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comments&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079?vs=27147&amp;amp;id=27171#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079?vs=27147&amp;amp;id=27171#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13570069" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 08:44:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Typos, sorry.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079?vs=27171&amp;amp;id=27177#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079?vs=27171&amp;amp;id=27177#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13570130" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 12:14:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q:15 Can you add tests with hive.outerjoin.supports.filter also ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13570817" author="phabricator@reviews.facebook.net" created="Tue, 5 Feb 2013 01:02:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Added tests&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079?vs=27177&amp;amp;id=27231#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079?vs=27177&amp;amp;id=27231#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13571115" author="namit" created="Tue, 5 Feb 2013 07:26:26 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13571117" author="phabricator@reviews.facebook.net" created="Tue, 5 Feb 2013 07:28:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:169 This should not be possible.&lt;/p&gt;

&lt;p&gt;  We don&apos;t support&lt;/p&gt;

&lt;p&gt;  join -&amp;gt; mapjoin&lt;br/&gt;
  union -&amp;gt; mapjoin&lt;/p&gt;

&lt;p&gt;  I am not sure about LateralView -&amp;gt; mapjoin,&lt;br/&gt;
  but if it is allowed, I will add a jira to stop that, and fix that&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:181 Remove this function.&lt;/p&gt;

&lt;p&gt;  assert that parents.size() == 1&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:128 return a List instead of ArrayList&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:130 result can be a List instead of ArrayList&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13571996" author="phabricator@reviews.facebook.net" created="Wed, 6 Feb 2013 00:51:11 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:169 It&apos;s just a list of operators which can have multiple parents. The conditions you&apos;ve mentioned should be checked before calling this. I&apos;ve done this intentionally cause this is utility class.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:181 hm.. ok.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:130 Return value might be used for setting OperatorDescs, which has ArrayList instead of List. Would it be better to wrap again with ArrayList before setting?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13572118" author="phabricator@reviews.facebook.net" created="Wed, 6 Feb 2013 03:55:12 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:169 You should assert numberParents == 1&lt;/p&gt;

&lt;p&gt;  We need to check that before coming to this function.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:130 ok - that&apos;s fine&lt;br/&gt;
  ideally, it should be cleaned up, but can be a follow-up&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13572259" author="phabricator@reviews.facebook.net" created="Wed, 6 Feb 2013 08:13:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comments except removing getSingleParent() method, which is needed for error handling&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079?vs=27231&amp;amp;id=27309#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079?vs=27231&amp;amp;id=27309#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13572323" author="phabricator@reviews.facebook.net" created="Wed, 6 Feb 2013 10:41:12 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-919&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13572575" author="hudson" created="Wed, 6 Feb 2013 17:02:53 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #71 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/71/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/71/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; Filters on outer join with mapjoin hint is not applied correctly&lt;br/&gt;
(Navis via namit) (Revision 1443065)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mapjoin1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13572576" author="hudson" created="Wed, 6 Feb 2013 17:02:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1959 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1959/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1959/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; Filters on outer join with mapjoin hint is not applied correctly&lt;br/&gt;
(Navis via namit) (Revision 1443065)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mapjoin1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13572577" author="namit" created="Wed, 6 Feb 2013 17:04:02 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13573245" author="hudson" created="Thu, 7 Feb 2013 06:33:08 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #110 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/110/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/110/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; Filters on outer join with mapjoin hint is not applied correctly&lt;br/&gt;
(Navis via namit) (Revision 1443065)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1443065&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mapjoin1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mapjoin1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13580584" author="phabricator@reviews.facebook.net" created="Mon, 18 Feb 2013 12:39:12 +0000"  >&lt;p&gt;navis has closed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2839&quot; title=&quot;Filters on outer join with mapjoin hint is not applied correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2839&quot;&gt;&lt;del&gt;HIVE-2839&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Filters on outer join with mapjoin hint is not applied correctly&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2079&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2079&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12630830">HIVE-3988</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12517042" name="ASF.LICENSE.NOT.GRANTED--HIVE-2839.D2079.1.patch" size="9233" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 02:46:57 +0000"/>
                            <attachment id="12517043" name="ASF.LICENSE.NOT.GRANTED--HIVE-2839.D2079.2.patch" size="9229" author="phabricator@reviews.facebook.net" created="Mon, 5 Mar 2012 03:25:05 +0000"/>
                            <attachment id="12567800" name="HIVE-2839.D2079.3.patch" size="8987" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 05:30:12 +0000"/>
                            <attachment id="12567818" name="HIVE-2839.D2079.4.patch" size="11099" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 08:42:11 +0000"/>
                            <attachment id="12567819" name="HIVE-2839.D2079.5.patch" size="11101" author="phabricator@reviews.facebook.net" created="Mon, 4 Feb 2013 08:44:11 +0000"/>
                            <attachment id="12567919" name="HIVE-2839.D2079.6.patch" size="38203" author="phabricator@reviews.facebook.net" created="Tue, 5 Feb 2013 01:02:11 +0000"/>
                            <attachment id="12568185" name="HIVE-2839.D2079.7.patch" size="38315" author="phabricator@reviews.facebook.net" created="Wed, 6 Feb 2013 08:13:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Mar 2012 02:46:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d3fj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74332</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
