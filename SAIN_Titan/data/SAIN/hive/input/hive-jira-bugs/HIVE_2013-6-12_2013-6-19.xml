<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:23:31 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2013-6-12+AND+created+%3C%3D+2013-6-19+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="35" total="35"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-4719] EmbeddedLockManager should be shared to all clients</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4719</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, EmbeddedLockManager is created per Driver instance, so locking has no meaning.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652309">HIVE-4719</key>
            <summary>EmbeddedLockManager should be shared to all clients</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jun 2013 02:07:12 +0000</created>
                <updated>Sat, 24 May 2014 20:10:33 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13680898" author="phabricator@reviews.facebook.net" created="Wed, 12 Jun 2013 02:10:20 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4719&quot; title=&quot;EmbeddedLockManager should be shared to all clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4719&quot;&gt;HIVE-4719&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; EmbeddedLockManager should be shared to all clients&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4719&quot; title=&quot;EmbeddedLockManager should be shared to all clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4719&quot;&gt;HIVE-4719&lt;/a&gt; EmbeddedLockManager should be shared to all clients&lt;/p&gt;

&lt;p&gt;Currently, EmbeddedLockManager is created per Driver instance, so locking has no meaning.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/SharedLockManager.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/26721/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/26721/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13692016" author="phabricator@reviews.facebook.net" created="Mon, 24 Jun 2013 14:21:21 +0000"  >&lt;p&gt;brock has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4719&quot; title=&quot;EmbeddedLockManager should be shared to all clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4719&quot;&gt;HIVE-4719&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; EmbeddedLockManager should be shared to all clients&quot;.&lt;/p&gt;

&lt;p&gt;  Hi Navis,&lt;/p&gt;

&lt;p&gt;  Nice patch! What about moving the lock manager creation to a separate class, say &quot;LockManagerFactory&quot;?  I think that might be useful for a couple reasons:&lt;/p&gt;

&lt;p&gt;  1) Driver is already complex it&apos;d be nice to remove some of the complexity, if possible.&lt;br/&gt;
  2) I could be wrong, but it looks like with the current patch, there is a race condition where two HS2 clients could create a SharedLockManager at the same time?&lt;br/&gt;
  3) If using a factory method I think the additional interface of SharedLockManager wouldn&apos;t be required.&lt;/p&gt;

&lt;p&gt;  What do you think about this proposal?&lt;/p&gt;

&lt;p&gt;  Cheers!&lt;br/&gt;
  Brock&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java:201 I think the exception should be passed into the second argument of the constructor so we don&apos;t lose the stack trace.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13692772" author="phabricator@reviews.facebook.net" created="Tue, 25 Jun 2013 06:01:20 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4719&quot; title=&quot;EmbeddedLockManager should be shared to all clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4719&quot;&gt;HIVE-4719&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; EmbeddedLockManager should be shared to all clients&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comments&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229?vs=34593&amp;amp;id=35109#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229?vs=34593&amp;amp;id=35109#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Context.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DefaultLockFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/LockManagerFactory.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13693010" author="phabricator@reviews.facebook.net" created="Tue, 25 Jun 2013 13:11:20 +0000"  >&lt;p&gt;brock has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4719&quot; title=&quot;EmbeddedLockManager should be shared to all clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4719&quot;&gt;HIVE-4719&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; EmbeddedLockManager should be shared to all clients&quot;.&lt;/p&gt;

&lt;p&gt;  Hi Navis,&lt;/p&gt;

&lt;p&gt;  Thank you very much for the patch!  Once again, I am newish to this code so my comments might not be applicable.  However, I do have a question below in the case when a lockFactory and lockManager cannot be created.  I did note some very minor nits as well.&lt;/p&gt;

&lt;p&gt;  Cheers!&lt;br/&gt;
  Brock&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java:143 It seems that if newInstance throws an exception than the member variable lockFactory will be null. When lockFactory is null createLockManager will return null. Then the member variable of Context, hiveLockMgr, will be null. In this case isLockRequired will always return false. I think that is a concern when locking is required?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java:153 When lockFactory.create() throws an exception, createLockManager will return null. Then the member variable of Context, hiveLockMgr, will be null. In this case isLockRequired will always return false. I think that is a concern when locking is required?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DefaultLockFactory.java:40 nit: missing @Override&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DefaultLockFactory.java:31 nit: missing @Override&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockFactory.java:44 nit: missing @Override&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockFactory.java:48 nit: missing @Override&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockFactory.java:58 nit: missing @Override&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13693586" author="phabricator@reviews.facebook.net" created="Wed, 26 Jun 2013 02:33:22 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4719&quot; title=&quot;EmbeddedLockManager should be shared to all clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4719&quot;&gt;HIVE-4719&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; EmbeddedLockManager should be shared to all clients&quot;.&lt;/p&gt;

&lt;p&gt;  I think codes related to locks and hooks could be separated to another classes. But it would be better to concentrate on this specific issue.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java:143 Yes, I considered throwing exception. But in the original implementation, if client failed to instantiate a lock manager, hive had just logs it and continued. I cannot sure which one is better.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java:153 Same with above.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DefaultLockFactory.java:40 I&apos;m in a little old way of thinking that implementation of interface is not override. But I&apos;ll add that.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13694240" author="phabricator@reviews.facebook.net" created="Wed, 26 Jun 2013 21:09:21 +0000"  >&lt;p&gt;brock has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4719&quot; title=&quot;EmbeddedLockManager should be shared to all clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4719&quot;&gt;HIVE-4719&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; EmbeddedLockManager should be shared to all clients&quot;.&lt;/p&gt;

&lt;p&gt;  Navis,&lt;/p&gt;

&lt;p&gt;  The patch looks good to me. I think the issue where creation of the factory/manager can be taken forward in a follow JIRA since it&apos;s not related to the patch itself!&lt;/p&gt;

&lt;p&gt;  Cheers!&lt;br/&gt;
  Brock&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java:143 Ahh interesting!  I don&apos;t think Hive should continue on if it cannot create a lock manager but is configured to use concurrency. However, I think we can handle this on a follow on JIRA.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13694505" author="phabricator@reviews.facebook.net" created="Thu, 27 Jun 2013 05:37:20 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4719&quot; title=&quot;EmbeddedLockManager should be shared to all clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4719&quot;&gt;HIVE-4719&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; EmbeddedLockManager should be shared to all clients&quot;.&lt;/p&gt;

&lt;p&gt;  addressed comments&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229?vs=35109&amp;amp;id=35187#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229?vs=35109&amp;amp;id=35187#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Context.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DefaultLockFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/LockManagerFactory.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13701589" author="ashutoshc" created="Sun, 7 Jul 2013 15:32:14 +0000"  >&lt;p&gt;Following tests failed:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;testCliDriver_lock1&lt;/li&gt;
	&lt;li&gt;testCliDriver_lock2&lt;/li&gt;
	&lt;li&gt;testCliDriver_lock3&lt;/li&gt;
	&lt;li&gt;testCliDriver_lock4&lt;/li&gt;
	&lt;li&gt;testNegativeCliDriver_insert_into1&lt;/li&gt;
	&lt;li&gt;testNegativeCliDriver_insert_into2&lt;/li&gt;
	&lt;li&gt;testNegativeCliDriver_insert_into3&lt;/li&gt;
	&lt;li&gt;testNegativeCliDriver_insert_into4&lt;/li&gt;
	&lt;li&gt;testNegativeCliDriver_lockneg1&lt;/li&gt;
	&lt;li&gt;testNegativeCliDriver_lockneg2&lt;/li&gt;
	&lt;li&gt;testNegativeCliDriver_lockneg3&lt;/li&gt;
	&lt;li&gt;testNegativeCliDriver_lockneg4&lt;/li&gt;
	&lt;li&gt;testNegativeCliDriver_lockneg5&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13702717" author="phabricator@reviews.facebook.net" created="Tue, 9 Jul 2013 00:53:47 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4719&quot; title=&quot;EmbeddedLockManager should be shared to all clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4719&quot;&gt;HIVE-4719&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; EmbeddedLockManager should be shared to all clients&quot;.&lt;/p&gt;

&lt;p&gt;  Fixed error (Sorry for immatured patch). Running test.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229?vs=35187&amp;amp;id=35511#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229?vs=35187&amp;amp;id=35511#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Context.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DefaultLockManagerFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/LockManagerFactory.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13709502" author="phabricator@reviews.facebook.net" created="Tue, 16 Jul 2013 06:02:47 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4719&quot; title=&quot;EmbeddedLockManager should be shared to all clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4719&quot;&gt;HIVE-4719&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; EmbeddedLockManager should be shared to all clients&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;br/&gt;
  As Brock pointed out current semantics of just logging the exception in case of failure to acquire lock (even when Hive is configured to support concurrency) is not a correct one. We should take this up on follow on.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11229&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11229&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4719&quot; title=&quot;EmbeddedLockManager should be shared to all clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4719&quot;&gt;HIVE-4719&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13709509" author="ashutoshc" created="Tue, 16 Jul 2013 06:20:28 +0000"  >&lt;p&gt;Unfortunately patch went stale. Sorry about that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Can you rebase it?&lt;/p&gt;</comment>
                            <comment id="13710697" author="navis" created="Wed, 17 Jul 2013 04:58:13 +0000"  >&lt;p&gt;There is some issues that should be fixed before commit. I&apos;m on this.&lt;/p&gt;</comment>
                            <comment id="13992505" author="hiveqa" created="Thu, 8 May 2014 04:58:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12643699/HIVE-4719.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12643699/HIVE-4719.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 5497 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_partscan_1_23
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_bucket_map_join_tez2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_load_dyn_part1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_dml
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.ql.lockmgr.TestEmbeddedLockManager.testLocking
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/142/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/142/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/142/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/142/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12643699&lt;/p&gt;</comment>
                            <comment id="13994109" author="hiveqa" created="Sat, 10 May 2014 01:48:10 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12643911/HIVE-4719.6.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12643911/HIVE-4719.6.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5505 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_ends_with_nulls
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_partscan_1_23
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_dml
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/156/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/156/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/156/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/156/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12643911&lt;/p&gt;</comment>
                            <comment id="14008202" author="ashutoshc" created="Sat, 24 May 2014 20:10:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Can you create RB entry for this ?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12635649">HIVE-4132</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12643699" name="HIVE-4719.5.patch.txt" size="52306" author="navis" created="Wed, 7 May 2014 06:05:42 +0000"/>
                            <attachment id="12643911" name="HIVE-4719.6.patch.txt" size="52534" author="navis" created="Thu, 8 May 2014 05:37:25 +0000"/>
                            <attachment id="12587360" name="HIVE-4719.D11229.1.patch" size="6939" author="phabricator@reviews.facebook.net" created="Wed, 12 Jun 2013 02:10:21 +0000"/>
                            <attachment id="12589558" name="HIVE-4719.D11229.2.patch" size="20508" author="phabricator@reviews.facebook.net" created="Tue, 25 Jun 2013 06:01:20 +0000"/>
                            <attachment id="12589837" name="HIVE-4719.D11229.3.patch" size="22123" author="phabricator@reviews.facebook.net" created="Thu, 27 Jun 2013 05:37:20 +0000"/>
                            <attachment id="12591338" name="HIVE-4719.D11229.4.patch" size="22293" author="phabricator@reviews.facebook.net" created="Tue, 9 Jul 2013 00:53:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Jun 2013 02:10:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332633</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ldrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4720] Provide Metastore upgrade scripts and default schemas for 0.11.0 version.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4720</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12652312">HIVE-4720</key>
            <summary>Provide Metastore upgrade scripts and default schemas for 0.11.0 version.</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rohithsharma">Rohith Sharma K S</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jun 2013 03:24:04 +0000</created>
                <updated>Wed, 12 Jun 2013 03:24:04 +0000</updated>
                                            <version>0.11.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ldsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4721] Fix TestCliDriver.ptf_npath.q on 0.23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4721</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4717&quot; title=&quot;Fix non-deterministic TestCliDriver on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4717&quot;&gt;&lt;del&gt;HIVE-4717&lt;/del&gt;&lt;/a&gt; I tried changing the last line of ptf_npath.q from:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;where fl_num = 1142;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;where fl_num = 1142 order by origin_city_name, fl_num, year, month, day_of_month, sz, tpath;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in order to make the test deterministic. However this results, not just different order, in different results for 0.23 and 0.20S. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12652334">HIVE-4721</key>
            <summary>Fix TestCliDriver.ptf_npath.q on 0.23</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12629407">HIVE-3949</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jun 2013 07:13:54 +0000</created>
                <updated>Mon, 25 Jun 2018 11:16:25 +0000</updated>
                            <resolved>Mon, 15 Jul 2013 15:32:13 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13707864" author="hagleitn" created="Sat, 13 Jul 2013 23:02:09 +0000"  >&lt;p&gt;I think you&apos;ve tried sorting in the wrong place. You need to make sure that the fl_num is in the sort key in the npath expression. Otherwise other rows of same date might come in between resulting in non-deterministic behavior.&lt;/p&gt;</comment>
                            <comment id="13707865" author="hagleitn" created="Sat, 13 Jul 2013 23:03:20 +0000"  >&lt;p&gt;Tried on both hadoop 1 &amp;amp; 2. Same result.&lt;/p&gt;</comment>
                            <comment id="13707956" author="brocknoland" created="Sun, 14 Jul 2013 05:16:35 +0000"  >&lt;p&gt;Good call! To test the test-patch build I ran the full unit test suite and everything looks good: &lt;a href=&quot;https://builds.apache.org/user/brock/my-views/view/hive/job/Hive-Test-Patch-trunk-hadoop1-ptest/10/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/user/brock/my-views/view/hive/job/Hive-Test-Patch-trunk-hadoop1-ptest/10/testReport/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13707960" author="ashutoshc" created="Sun, 14 Jul 2013 05:31:17 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13708547" author="ashutoshc" created="Mon, 15 Jul 2013 15:32:13 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Gunther!&lt;/p&gt;</comment>
                            <comment id="13708929" author="hudson" created="Mon, 15 Jul 2013 20:26:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #84 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/84/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/84/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4721&quot; title=&quot;Fix TestCliDriver.ptf_npath.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4721&quot;&gt;&lt;del&gt;HIVE-4721&lt;/del&gt;&lt;/a&gt; : Fix TestCliDriver.ptf_npath.q on 0.23 (Gunther Hagleitner via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503297&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503297&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ptf_npath.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ptf_npath.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13709119" author="hudson" created="Mon, 15 Jul 2013 22:58:42 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #15 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/15/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/15/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4721&quot; title=&quot;Fix TestCliDriver.ptf_npath.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4721&quot;&gt;&lt;del&gt;HIVE-4721&lt;/del&gt;&lt;/a&gt; : Fix TestCliDriver.ptf_npath.q on 0.23 (Gunther Hagleitner via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503297&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503297&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ptf_npath.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ptf_npath.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13709474" author="hudson" created="Tue, 16 Jul 2013 05:10:03 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-h0.21 #2199 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2199/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2199/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4721&quot; title=&quot;Fix TestCliDriver.ptf_npath.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4721&quot;&gt;&lt;del&gt;HIVE-4721&lt;/del&gt;&lt;/a&gt; : Fix TestCliDriver.ptf_npath.q on 0.23 (Gunther Hagleitner via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503297&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503297&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ptf_npath.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ptf_npath.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13709536" author="hudson" created="Tue, 16 Jul 2013 06:59:06 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2 #289 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/289/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/289/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4721&quot; title=&quot;Fix TestCliDriver.ptf_npath.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4721&quot;&gt;&lt;del&gt;HIVE-4721&lt;/del&gt;&lt;/a&gt; : Fix TestCliDriver.ptf_npath.q on 0.23 (Gunther Hagleitner via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503297&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503297&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ptf_npath.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ptf_npath.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795916" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:37 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                            <comment id="16522159" author="ramakrishnaa14" created="Mon, 25 Jun 2018 11:16:25 +0000"  >&lt;p&gt;Hi I couldn&apos;t find npath function in hive. Is it still available in newer versions of hive or deprecated .&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;If this function is changed to different name let me know.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Ramakrishnaa&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12592170" name="HIVE-4721.1.patch" size="2200" author="hagleitn" created="Sat, 13 Jul 2013 23:02:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 13 Jul 2013 23:02:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332658</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ldxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4722] MIN on timestamp column gives incorrect result.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4722</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;MIN on timestamp column gives incorrect result.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652341">HIVE-4722</key>
            <summary>MIN on timestamp column gives incorrect result.</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="gopalv">Gopal V</assignee>
                                    <reporter username="jnp">Jitendra Nath Pandey</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jun 2013 07:51:47 +0000</created>
                <updated>Fri, 14 Jun 2013 14:20:58 +0000</updated>
                            <resolved>Fri, 14 Jun 2013 14:20:58 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13683393" author="gopalv" created="Fri, 14 Jun 2013 14:20:38 +0000"  >&lt;p&gt;Fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4686&quot; title=&quot;Max on float returning wrong results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4686&quot;&gt;&lt;del&gt;HIVE-4686&lt;/del&gt;&lt;/a&gt; seems to have made min/max work for Timestamp fields.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12651784">HIVE-4686</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 Jun 2013 14:20:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332665</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ldz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4723] DDLSemanticAnalyzer.addTablePartsOutputs eats several exceptions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4723</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I accidently tried to archive a partition on a non-partitioned table. The error message was bad, hive ate an exception, and NPE&apos;ed.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2013-06-09 16:36:12,628 ERROR parse.DDLSemanticAnalyzer (DDLSemanticAnalyzer.java:addTablePartsOutputs(2899)) - Got HiveException during obtaining list of partitions
2013-06-09 16:36:12,628 ERROR ql.Driver (SessionState.java:printError(383)) - FAILED: NullPointerException null
java.lang.NullPointerException
	at org.apache.hadoop.hive.ql.parse.DDLSemanticAnalyzer.addTablePartsOutputs(DDLSemanticAnalyzer.java:2912)
	at org.apache.hadoop.hive.ql.parse.DDLSemanticAnalyzer.addTablePartsOutputs(DDLSemanticAnalyzer.java:2877)
	at org.apache.hadoop.hive.ql.parse.DDLSemanticAnalyzer.analyzeAlterTableArchive(DDLSemanticAnalyzer.java:2730)
	at org.apache.hadoop.hive.ql.parse.DDLSemanticAnalyzer.analyzeInternal(DDLSemanticAnalyzer.java:316)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:277)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:433)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:902)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:782)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:675)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:614)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12652491">HIVE-4723</key>
            <summary>DDLSemanticAnalyzer.addTablePartsOutputs eats several exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="szehon">Szehon Ho</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jun 2013 20:37:55 +0000</created>
                <updated>Thu, 13 Nov 2014 19:39:52 +0000</updated>
                            <resolved>Mon, 10 Mar 2014 04:53:18 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13806194" author="hiveqa" created="Sun, 27 Oct 2013 00:55:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12610432/HIVE-4723.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12610432/HIVE-4723.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4483 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_rename_partition_failure3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_touch2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1255/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1255/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1255/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1255/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13807197" author="szehon" created="Mon, 28 Oct 2013 20:43:56 +0000"  >&lt;p&gt;There were two negative tests that expected the exception to be swallowed during semantic analysis, and for execution to continue and the DDL Task to fail.  Changed the test output accordingly to only expect the exception during the semantic analysis and not proceed further.&lt;/p&gt;</comment>
                            <comment id="13807417" author="szehon" created="Mon, 28 Oct 2013 22:32:07 +0000"  >&lt;p&gt;Adding the exception to the log as per review request.  Verified by checking hive.log.&lt;/p&gt;</comment>
                            <comment id="13820383" author="szehon" created="Tue, 12 Nov 2013 19:39:13 +0000"  >&lt;p&gt;Attaching the same patch again to trigger testing.  I believe the pre-commit test of the previous patch got lost in the queue the build moved to bigtop.&lt;/p&gt;</comment>
                            <comment id="13821004" author="hiveqa" created="Wed, 13 Nov 2013 06:48:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12613415/HIVE-4723.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12613415/HIVE-4723.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/254/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/254/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/254/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/254/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: NonZeroExitCodeException: Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-254/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/assembly/target shims/0.20S/target shims/0.23/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1541401.

At revision 1541401.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12613415&lt;/p&gt;</comment>
                            <comment id="13821949" author="szehon" created="Wed, 13 Nov 2013 22:54:44 +0000"  >&lt;p&gt;Looks like files got moved with mavenization.  Generating a new patch for that.&lt;/p&gt;</comment>
                            <comment id="13823102" author="hiveqa" created="Thu, 14 Nov 2013 23:26:37 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12613733/HIVE-4723.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12613733/HIVE-4723.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/284/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/284/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/284/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/284/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Tests failed with: IllegalArgumentException: null
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12613733&lt;/p&gt;</comment>
                            <comment id="13823112" author="szehon" created="Thu, 14 Nov 2013 23:35:30 +0000"  >&lt;p&gt;Got the following error in the pre-commit tests:&lt;/p&gt;

&lt;p&gt;2013-11-14 18:05:07,142  WARN ExecutionPhase.replaceBadHosts:135 Only 0 hosts out of an expected 16, attempting to replace bad hosts&lt;br/&gt;
2013-11-14 18:26:25,422  INFO ExecutionPhase.execute:113 PERF: exec phase 96 minutes&lt;br/&gt;
2013-11-14 18:26:25,422 ERROR PTest.run:173 Test run exited with an unexpected error java.lang.IllegalArgumentException&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.&amp;lt;init&amp;gt;(ThreadPoolExecutor.java:589)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.&amp;lt;init&amp;gt;(ThreadPoolExecutor.java:480)&lt;br/&gt;
	at java.util.concurrent.Executors.newFixedThreadPool(Executors.java:59)&lt;br/&gt;
	at org.apache.hive.ptest.execution.context.CloudExecutionContextProvider.verifyHosts(CloudExecutionContextProvider.java:245)&lt;br/&gt;
	at org.apache.hive.ptest.execution.context.CloudExecutionContextProvider.createNodes(CloudExecutionContextProvider.java:208)&lt;br/&gt;
	at org.apache.hive.ptest.execution.context.CloudExecutionContextProvider.replaceBadHosts(CloudExecutionContextProvider.java:167)&lt;br/&gt;
	at org.apache.hive.ptest.execution.context.ExecutionContext.replaceBadHosts(ExecutionContext.java:68)&lt;br/&gt;
	at org.apache.hive.ptest.execution.ExecutionPhase.replaceBadHosts(ExecutionPhase.java:138)&lt;br/&gt;
	at org.apache.hive.ptest.execution.ExecutionPhase.execute(ExecutionPhase.java:93)&lt;br/&gt;
	at org.apache.hive.ptest.execution.PTest.run(PTest.java:162)&lt;br/&gt;
	at org.apache.hive.ptest.api.server.TestExecutor.run(TestExecutor.java:118)&lt;/p&gt;

&lt;p&gt;I am guessing its a test-framework sporadic error nothing to do with this change, re-attaching new patch to try again.&lt;/p&gt;</comment>
                            <comment id="13824095" author="hiveqa" created="Fri, 15 Nov 2013 21:10:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12613970/HIVE-4723.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12613970/HIVE-4723.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/317/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/317/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/317/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/317/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Tests failed with: RuntimeException: java.lang.InterruptedException
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12613970&lt;/p&gt;</comment>
                            <comment id="13824098" author="brocknoland" created="Fri, 15 Nov 2013 21:13:51 +0000"  >&lt;p&gt;Re-uploading...my bad.&lt;/p&gt;</comment>
                            <comment id="13824648" author="hiveqa" created="Sat, 16 Nov 2013 22:02:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12614128/HIVE-4723.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12614128/HIVE-4723.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4614 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/326/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/326/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/326/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/326/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12614128&lt;/p&gt;</comment>
                            <comment id="13925406" author="ashutoshc" created="Mon, 10 Mar 2014 02:22:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13925449" author="ashutoshc" created="Mon, 10 Mar 2014 04:53:18 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Szehon!&lt;/p&gt;</comment>
                            <comment id="14210255" author="thejas" created="Thu, 13 Nov 2014 19:39:52 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12610658" name="HIVE-4723.1.patch" size="6126" author="szehon" created="Mon, 28 Oct 2013 20:43:06 +0000"/>
                            <attachment id="12610703" name="HIVE-4723.2.patch" size="6457" author="szehon" created="Mon, 28 Oct 2013 22:32:07 +0000"/>
                            <attachment id="12613415" name="HIVE-4723.3.patch" size="6457" author="szehon" created="Tue, 12 Nov 2013 19:39:13 +0000"/>
                            <attachment id="12613733" name="HIVE-4723.4.patch" size="6703" author="szehon" created="Wed, 13 Nov 2013 22:54:44 +0000"/>
                            <attachment id="12614128" name="HIVE-4723.5.patch" size="6703" author="brocknoland" created="Fri, 15 Nov 2013 21:13:51 +0000"/>
                            <attachment id="12613970" name="HIVE-4723.5.patch" size="6703" author="szehon" created="Thu, 14 Nov 2013 23:35:30 +0000"/>
                            <attachment id="12610432" name="HIVE-4723.patch" size="4087" author="szehon" created="Sat, 26 Oct 2013 02:18:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 27 Oct 2013 00:55:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332815</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lewf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333144</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4724] ORC readers should have a better error detection for non-ORC files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4724</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A customer loaded a text file into a table that is stored as ORC. The error message was very unfriendly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652505">HIVE-4724</key>
            <summary>ORC readers should have a better error detection for non-ORC files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="owen.omalley">Owen O&apos;Malley</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jun 2013 21:54:59 +0000</created>
                <updated>Tue, 15 Oct 2013 23:31:14 +0000</updated>
                            <resolved>Sat, 20 Jul 2013 18:31:12 +0000</resolved>
                                                    <fixVersion>0.11.1</fixVersion>
                    <fixVersion>0.12.0</fixVersion>
                                    <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13694325" author="phabricator@reviews.facebook.net" created="Wed, 26 Jun 2013 22:37:20 +0000"  >&lt;p&gt;omalley requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4724&quot; title=&quot;ORC readers should have a better error detection for non-ORC files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4724&quot;&gt;&lt;del&gt;HIVE-4724&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ORC readers should have a better error detection for non-ORC files&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;Add better checks for non-ORC files in the ORC reader to fail with a better error message. Also add a version&lt;br/&gt;
check to warn users if they are reading files from a more advanaced version of Hadoop. Added a check so that unknown&lt;br/&gt;
encodings for a column will fail quickly with a good error message.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  .gitignore&lt;br/&gt;
  .idea/.name&lt;br/&gt;
  .idea/ant.xml&lt;br/&gt;
  .idea/codeStyleSettings.xml&lt;br/&gt;
  .idea/compiler.xml&lt;br/&gt;
  .idea/copyright/Apache.xml&lt;br/&gt;
  .idea/copyright/profiles_settings.xml&lt;br/&gt;
  .idea/encodings.xml&lt;br/&gt;
  .idea/libraries/default.xml&lt;br/&gt;
  .idea/libraries/hadoop0_20S_shim.xml&lt;br/&gt;
  .idea/libraries/hadoop0_20_shim.xml&lt;br/&gt;
  .idea/libraries/hadoop0_23.xml&lt;br/&gt;
  .idea/misc.xml&lt;br/&gt;
  .idea/modules.xml&lt;br/&gt;
  .idea/scopes/scope_settings.xml&lt;br/&gt;
  .idea/uiDesigner.xml&lt;br/&gt;
  .idea/vcs.xml&lt;br/&gt;
  .idea/workspace.xml&lt;br/&gt;
  ant/Ant.iml&lt;br/&gt;
  builtins/Builtins.iml&lt;br/&gt;
  cli/src/Cli.iml&lt;br/&gt;
  common/src/Common.iml&lt;br/&gt;
  contrib/src/Contrib.iml&lt;br/&gt;
  hbase-handler/src/Hbase-handler.iml&lt;br/&gt;
  hwi/src/Hwi.iml&lt;br/&gt;
  jdbc/src/Jdbc.iml&lt;br/&gt;
  metastore/src/Metastore.iml&lt;br/&gt;
  metastore/src/gen/thrift/Thrift.iml&lt;br/&gt;
  metastore/src/test/Metastore-test.iml&lt;br/&gt;
  pdk/src/Pdk.iml&lt;br/&gt;
  pdk/test-plugin/Test-plugin.iml&lt;br/&gt;
  ql/src/Ql.iml&lt;br/&gt;
  ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc/OrcProto.java&lt;br/&gt;
  ql/src/gen/thrift/Thrift1.iml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcFile.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;br/&gt;
  ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc/orc_proto.proto&lt;br/&gt;
  ql/src/test/Ql-test.iml&lt;br/&gt;
  serde/src/Serde.iml&lt;br/&gt;
  serde/src/gen/protobuf/Protobuf.iml&lt;br/&gt;
  serde/src/gen/thrift/Thrift2.iml&lt;br/&gt;
  serde/src/test/Serde-test.iml&lt;br/&gt;
  service/src/Service.iml&lt;br/&gt;
  service/src/gen/thrift/Thrift3.iml&lt;br/&gt;
  shims/src/0.20/Shims-0.20.iml&lt;br/&gt;
  shims/src/0.20S/Shims-0.20S.iml&lt;br/&gt;
  shims/src/0.23/Shims-0.23.iml&lt;br/&gt;
  shims/src/Shims.iml&lt;br/&gt;
  shims/src/common-secure/Shims-secure.iml&lt;br/&gt;
  shims/src/test/Shims-test.iml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/27255/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/27255/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;/p&gt;</comment>
                            <comment id="13694814" author="phabricator@reviews.facebook.net" created="Thu, 27 Jun 2013 15:45:21 +0000"  >&lt;p&gt;omalley updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4724&quot; title=&quot;ORC readers should have a better error detection for non-ORC files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4724&quot;&gt;&lt;del&gt;HIVE-4724&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ORC readers should have a better error detection for non-ORC files&quot;.&lt;/p&gt;

&lt;p&gt;  Remove extra files from my workspace that slipped in.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11529?vs=35175&amp;amp;id=35199#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11529?vs=35175&amp;amp;id=35199#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc/OrcProto.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcFile.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;br/&gt;
  ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc/orc_proto.proto&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;/p&gt;</comment>
                            <comment id="13701423" author="phabricator@reviews.facebook.net" created="Sat, 6 Jul 2013 21:57:46 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4724&quot; title=&quot;ORC readers should have a better error detection for non-ORC files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4724&quot;&gt;&lt;del&gt;HIVE-4724&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ORC readers should have a better error detection for non-ORC files&quot;.&lt;/p&gt;

&lt;p&gt;  Patch looks alright. But wondering tying orc version with hive version is a good idea ?&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcFile.java:35 Is this tied to hive version? Also, since 0.11 is already released, this should be 12.&lt;/p&gt;

&lt;p&gt;  More importantly though, does this mean this version need to be bumped when hive moves to next version even though there is no change in ORC itself?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: ashutoshc&lt;/p&gt;</comment>
                            <comment id="13711596" author="owen.omalley" created="Wed, 17 Jul 2013 20:48:32 +0000"  >&lt;p&gt;Added comment explaining the version string.&lt;/p&gt;</comment>
                            <comment id="13711599" author="phabricator@reviews.facebook.net" created="Wed, 17 Jul 2013 20:48:47 +0000"  >&lt;p&gt;omalley updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4724&quot; title=&quot;ORC readers should have a better error detection for non-ORC files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4724&quot;&gt;&lt;del&gt;HIVE-4724&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ORC readers should have a better error detection for non-ORC files&quot;.&lt;/p&gt;

&lt;p&gt;  Updated comment to explain the use of the version.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11529?vs=35199&amp;amp;id=35829#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11529?vs=35199&amp;amp;id=35829#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc/OrcProto.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcFile.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;br/&gt;
  ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc/orc_proto.proto&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: ashutoshc&lt;/p&gt;</comment>
                            <comment id="13711607" author="phabricator@reviews.facebook.net" created="Wed, 17 Jul 2013 20:54:46 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4724&quot; title=&quot;ORC readers should have a better error detection for non-ORC files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4724&quot;&gt;&lt;del&gt;HIVE-4724&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ORC readers should have a better error detection for non-ORC files&quot;.&lt;/p&gt;

&lt;p&gt;  +1 Make sense. Thanks, Owen for adding comments. That clarifies my confusion.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  h-4724&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, omalley&lt;br/&gt;
Cc: ashutoshc&lt;/p&gt;</comment>
                            <comment id="13711618" author="appodictic" created="Wed, 17 Jul 2013 21:02:33 +0000"  >&lt;p&gt;Am I mistaken or are we checking in the protobuf generated files?&lt;/p&gt;

&lt;p&gt;Would it be better to use an ant target &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;lt;exec executable=&quot;protoc&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;arg value=&quot;--java_out=outdir&quot; /&amp;gt;&lt;br/&gt;
  &amp;lt;arg value=&quot;--proto_path=srcdir&quot; /&amp;gt;&lt;br/&gt;
  &amp;lt;arg value=&quot;srcdir/path/to/input.proto&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/exec&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;And not check in the generated files? I belive this is what we do with thrift.&lt;/p&gt;</comment>
                            <comment id="13711658" author="owen.omalley" created="Wed, 17 Jul 2013 21:35:59 +0000"  >&lt;p&gt;We had the discussion about whether to commit the generated files when ORC was committed. Thrift and protobuf generated files are currently checked in so that they are not required to build Hive. The ant target to regenerate the protobuf generated code is already there:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;% ant protobuf
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;will regenerate the code.&lt;/p&gt;</comment>
                            <comment id="13714510" author="owen.omalley" created="Sat, 20 Jul 2013 18:31:12 +0000"  >&lt;p&gt;I just committed this.&lt;/p&gt;</comment>
                            <comment id="13796136" author="ashutoshc" created="Tue, 15 Oct 2013 23:31:14 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589923" name="HIVE-4724.D11529.2.patch" size="29114" author="phabricator@reviews.facebook.net" created="Thu, 27 Jun 2013 15:45:21 +0000"/>
                            <attachment id="12592849" name="HIVE-4724.D11529.3.patch" size="29963" author="phabricator@reviews.facebook.net" created="Wed, 17 Jul 2013 20:48:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Jun 2013 22:37:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332829</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lezj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4725] templeton.hadoop.queue.name property should be documented</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4725</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is to track that changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4679&quot; title=&quot;WebHCat can deadlock Hadoop if the number of concurrently running tasks if higher or equal than the number of mappers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4679&quot;&gt;&lt;del&gt;HIVE-4679&lt;/del&gt;&lt;/a&gt; get documented.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652516">HIVE-4725</key>
            <summary>templeton.hadoop.queue.name property should be documented</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="leftylev">Lefty Leverenz</assignee>
                                    <reporter username="ekoifman">Eugene Koifman</reporter>
                        <labels>
                            <label>TODOC12</label>
                            <label>TODOC14</label>
                    </labels>
                <created>Wed, 12 Jun 2013 22:39:20 +0000</created>
                <updated>Mon, 10 Nov 2014 21:43:08 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>Documentation</component>
                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14123274" author="ekoifman" created="Fri, 5 Sep 2014 18:04:00 +0000"  >&lt;p&gt;ping&lt;/p&gt;</comment>
                            <comment id="14125096" author="lefty@hortonworks.com" created="Sun, 7 Sep 2014 23:35:48 +0000"  >&lt;p&gt;Whew, this has been waiting a long long time.  I&apos;ll get to it right after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6586&quot; title=&quot;Update parameters in HiveConf.java after commit HIVE-6037&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6586&quot;&gt;&lt;del&gt;HIVE-6586&lt;/del&gt;&lt;/a&gt; (HiveConf.java fixes), which is needed for the 0.14.0 release.&lt;/p&gt;

&lt;p&gt;Thanks for reminding me, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eugene.koifman&quot; class=&quot;user-hover&quot; rel=&quot;eugene.koifman&quot;&gt;Eugene Koifman&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14142962" author="lefty@hortonworks.com" created="Mon, 22 Sep 2014 07:01:34 +0000"  >&lt;p&gt;Done:  &lt;b&gt;templeton.hadoop.queue.name&lt;/b&gt; is documented in the wiki here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/WebHCat+Configure#WebHCatConfigure-ConfigurationVariables&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;WebHCat Configuration &amp;#8211; Configuration Variables &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But while doing this I noticed a few other issues.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;These are not documented in the wiki:
	&lt;ul&gt;
		&lt;li&gt;templeton.python&lt;/li&gt;
		&lt;li&gt;templeton.sqoop.path&lt;/li&gt;
		&lt;li&gt;templeton.mapper.memory.mb&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;These are not documented but their defaults suggest they&apos;re 0.14.0 additions, so presumably they&apos;ll be documented for another JIRA ticket:
	&lt;ul&gt;
		&lt;li&gt;templeton.hive.home&lt;/li&gt;
		&lt;li&gt;templeton.hcat.home&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;These are documented and exist in AppConfig.java, but they aren&apos;t in webhcat-default.xml:
	&lt;ul&gt;
		&lt;li&gt;templeton.kerberos.secret&lt;/li&gt;
		&lt;li&gt;templeton.kerberos.principal&lt;/li&gt;
		&lt;li&gt;templeton.kerberos.keytab&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;These still have 0.11.0 defaults in webhcat-default.xml:
	&lt;ul&gt;
		&lt;li&gt;templeton.pig.path&lt;/li&gt;
		&lt;li&gt;templeton.hive.path&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;For templeton.controller.mr.child.opts, webhcat-default.xml has more information than the wikidoc&apos;s simple description:  &quot;Java options to be passed to WebHCat controller map task.&quot;  Should the wiki include the extra information?
	&lt;ul&gt;
		&lt;li&gt;The default value of mapreduce child &quot;-Xmx&quot; (heap memory limit)&lt;br/&gt;
        might be close to what is allowed for a map task.&lt;br/&gt;
        Even if templeton  controller map task does not need much &lt;br/&gt;
        memory, the jvm (with -server option?)&lt;br/&gt;
        allocates the max memory when it starts. This along with the &lt;br/&gt;
        memory used by pig/hive client it starts can end up exceeding&lt;br/&gt;
        the max memory configured to be allowed for a map task&lt;br/&gt;
        Use this option to set -Xmx to lower value&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Some of those might be non-issues.  Do we need a new JIRA ticket for any of them?&lt;/p&gt;</comment>
                            <comment id="14143721" author="ekoifman" created="Mon, 22 Sep 2014 20:13:24 +0000"  >&lt;p&gt;1. sqoop requires doc in general: tracked in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6940&quot; title=&quot;[WebHCat]Update documentation for Templeton-Sqoop action&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6940&quot;&gt;HIVE-6940&lt;/a&gt; - it would be good to document this&lt;br/&gt;
2. these are not new - these have been there always I believe&lt;br/&gt;
3. these are needed only if you are configuring secure env, i.e. there are no useful defaults&lt;br/&gt;
4. we usually update these to current version in the release branch once it&apos;s cut&lt;/p&gt;</comment>
                            <comment id="14174807" author="lefty@hortonworks.com" created="Fri, 17 Oct 2014 07:26:52 +0000"  >&lt;p&gt;Adding TODOC14 label just as a reminder that the defaults for &lt;b&gt;templeton.pig.path&lt;/b&gt; &amp;amp; &lt;b&gt;templeton.hive.path&lt;/b&gt; still need to be updated in webhcat-default.xml.  This could go in a separate JIRA ticket, but keeping it with the discussion seems like a good idea.&lt;/p&gt;

&lt;p&gt;In today&apos;s branch-0.14, &lt;b&gt;templeton.pig.path&lt;/b&gt; &amp;amp; &lt;b&gt;templeton.hive.path&lt;/b&gt; values have obsolete version numbers in these files (excluding old xml doc files):&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;hcatalog/webhcat/svr/src/main/config/webhcat-default.xml&lt;/li&gt;
	&lt;li&gt;hcatalog/src/test/e2e/templeton/deployAndTest.pl&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Otherwise, this ticket can be closed because &lt;b&gt;templeton.hadoop.queue.name&lt;/b&gt; has been documented in the WebHCat Configuration wikidoc (see link two comments back).&lt;/p&gt;</comment>
                            <comment id="14205376" author="lefty@hortonworks.com" created="Mon, 10 Nov 2014 21:43:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8807&quot; title=&quot;Obsolete default values in webhcat-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8807&quot;&gt;&lt;del&gt;HIVE-8807&lt;/del&gt;&lt;/a&gt; will fix the obsolete default values.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12651479">HIVE-4679</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12754239">HIVE-8807</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 7 Sep 2014 23:35:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lf1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4726] HCatDelegator should not have to parse error text; should instead rely on canonical errorCode</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4726</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HCatDelegator.descOnePartition() and addOnePartition() look for specific exception names in Hive stderr.&lt;br/&gt;
This is unreliable.  Hive should produce errorCode value from org.apache.hadoop.hive.ql.ErrorMsg.  This likely needs to be fixed in DDLTask which are called on behalf of HCatDelegator methods.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652527">HIVE-4726</key>
            <summary>HCatDelegator should not have to parse error text; should instead rely on canonical errorCode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ekoifman">Eugene Koifman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jun 2013 23:58:53 +0000</created>
                <updated>Fri, 2 Oct 2015 19:24:15 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13693557" author="ekoifman" created="Wed, 26 Jun 2013 01:09:14 +0000"  >&lt;p&gt;This should be done after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4580&quot; title=&quot;Change DDLTask to report errors using canonical error messages rather than http status codes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4580&quot;&gt;&lt;del&gt;HIVE-4580&lt;/del&gt;&lt;/a&gt; is committed &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12648544">HIVE-4580</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332851</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lf47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333179</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4727] Optimize ORC StringTreeReader::nextVector to not create dictionary of strings for each call to nextVector</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4727</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently ORC StringTreeReader::nextVector creates dictionary of strings for each call to nextVector. This leads to bad perf as there is huge memory allocation and deallocation on each call. Since the dictionary does not change within a stripe, StringTreeReader::nextVector should be optimized to create this dictionary only on stripe read.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652540">HIVE-4727</key>
            <summary>Optimize ORC StringTreeReader::nextVector to not create dictionary of strings for each call to nextVector</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarvesh.sn">Sarvesh Sakalanaga</assignee>
                                    <reporter username="sarvesh.sn">Sarvesh Sakalanaga</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jun 2013 01:05:51 +0000</created>
                <updated>Wed, 23 Oct 2013 21:59:11 +0000</updated>
                            <resolved>Thu, 13 Jun 2013 19:38:32 +0000</resolved>
                                                    <fixVersion>vectorization-branch</fixVersion>
                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13681830" author="sarvesh.sn" created="Thu, 13 Jun 2013 01:19:49 +0000"  >&lt;p&gt;Patch available.&lt;/p&gt;</comment>
                            <comment id="13682616" author="ashutoshc" created="Thu, 13 Jun 2013 19:38:32 +0000"  >&lt;p&gt;Committed to branch. Thanks, Sarvesh!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12587540" name="Hive-4727.0.patch" size="2792" author="sarvesh.sn" created="Thu, 13 Jun 2013 01:19:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Jun 2013 19:38:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lf73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4728] Add option for skipping build of hcatalogue</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4728</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is a temporal patch until &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4305&quot; title=&quot;Use a single system for dependency resolution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4305&quot;&gt;&lt;del&gt;HIVE-4305&lt;/del&gt;&lt;/a&gt;. It just takes too much time for a simple build.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652582">HIVE-4728</key>
            <summary>Add option for skipping build of hcatalogue</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jun 2013 07:40:18 +0000</created>
                <updated>Sat, 13 Jul 2013 08:34:26 +0000</updated>
                            <resolved>Sat, 13 Jul 2013 08:34:26 +0000</resolved>
                                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13682000" author="phabricator@reviews.facebook.net" created="Thu, 13 Jun 2013 07:45:20 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4728&quot; title=&quot;Add option for skipping build of hcatalogue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4728&quot;&gt;&lt;del&gt;HIVE-4728&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add option for skipping build of hcatalogue&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4728&quot; title=&quot;Add option for skipping build of hcatalogue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4728&quot;&gt;&lt;del&gt;HIVE-4728&lt;/del&gt;&lt;/a&gt; Add option for skipping build of hcatalogue&lt;/p&gt;

&lt;p&gt;This is a temporal patch until &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4305&quot; title=&quot;Use a single system for dependency resolution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4305&quot;&gt;&lt;del&gt;HIVE-4305&lt;/del&gt;&lt;/a&gt;. It just takes too much time for a simple build.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11259&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11259&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/26781/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/26781/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12640457">HIVE-4290</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587584" name="HIVE-4728.D11259.1.patch" size="2964" author="phabricator@reviews.facebook.net" created="Thu, 13 Jun 2013 07:45:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Jun 2013 07:45:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lfgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333234</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4729] when subquery is a star selection  with a group by ,the query will generate Confusing SemanticException</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4729</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive (default)&amp;gt; desc src;&lt;br/&gt;
OK&lt;br/&gt;
key                 	string              	None                &lt;br/&gt;
value               	string              	None                &lt;br/&gt;
Time taken: 2.887 seconds, Fetched: 2 row(s)&lt;br/&gt;
hive (default)&amp;gt; desc src_1;&lt;br/&gt;
OK&lt;br/&gt;
key                 	string              	None                &lt;br/&gt;
value               	string              	None                &lt;br/&gt;
Time taken: 0.146 seconds, Fetched: 2 row(s)&lt;/p&gt;


&lt;p&gt;SubQuery with &apos;group by&apos; will generate semantic exception:&lt;br/&gt;
explain &lt;br/&gt;
select a.key as a_key, &lt;br/&gt;
        b.key as b_key&lt;br/&gt;
 from (select * from src&lt;br/&gt;
      group by key, value&lt;br/&gt;
      ) a&lt;br/&gt;
 left outer join  src_1 b&lt;br/&gt;
 on a.key = b.key;&lt;br/&gt;
FAILED: Error in semantic analysis: Line 8:6 Invalid column reference &apos;key&apos;&lt;/p&gt;

&lt;p&gt;However the following query will work well :&lt;br/&gt;
explain &lt;br/&gt;
select a.key as a_key, &lt;br/&gt;
       b.key as b_key&lt;br/&gt;
from (select key,value from src   &lt;br/&gt;
      group by key, value&lt;br/&gt;
     ) a&lt;br/&gt;
left outer join  src_1 b&lt;br/&gt;
on a.key = b.key;&lt;/p&gt;


&lt;p&gt;In debug mode:&lt;br/&gt;
13/06/13 16:09:04 WARN parse.TypeCheckProcFactory: Invalid type entry TOK_TABLE_OR_COL=null&lt;br/&gt;
FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10002&amp;#93;&lt;/span&gt;: Line 8:5 Invalid column reference &apos;key&apos;&lt;br/&gt;
13/06/13 16:09:04 ERROR ql.Driver: FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10002&amp;#93;&lt;/span&gt;: Line 8:5 Invalid column reference &apos;key&apos;&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.SemanticException: Line 8:5 Invalid column reference &apos;key&apos;&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genAllExprNodeDesc(SemanticAnalyzer.java:9002)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:8950)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:8921)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genJoinReduceSinkChild(SemanticAnalyzer.java:5982)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genJoinOperator(SemanticAnalyzer.java:6079)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genJoinPlan(SemanticAnalyzer.java:6240)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:8057)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:8720)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:277)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:50)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:277)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:433)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:902)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:348)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processReader(CliDriver.java:446)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processFile(CliDriver.java:456)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:122)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:782)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:675)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:614)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;/p&gt;

&lt;p&gt;13/06/13 16:09:04 INFO ql.Driver: &amp;lt;/PERFLOG method=compile start=1371110941624 end=1371110944658 duration=3034&amp;gt;&lt;/p&gt;

</description>
                <environment>&lt;p&gt;hive-trunk&lt;br/&gt;
hadoop-0.20.1&lt;/p&gt;</environment>
        <key id="12652589">HIVE-4729</key>
            <summary>when subquery is a star selection  with a group by ,the query will generate Confusing SemanticException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="caofangkun">caofangkun</assignee>
                                    <reporter username="caofangkun">caofangkun</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jun 2013 08:46:15 +0000</created>
                <updated>Thu, 13 Jun 2013 08:46:15 +0000</updated>
                                            <version>0.8.1</version>
                    <version>0.12.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lfhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333241</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4730] Join on more than 2^31 records on single reducer failed (wrong results)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4730</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;join on more than 2^31 rows leads to wrong results. for example:&lt;/p&gt;

&lt;p&gt;Create table small_table (p1 string) ROW FORMAT DELIMITED    LINES TERMINATED BY  &apos;\n&apos;;&lt;br/&gt;
Create table big_table (p1 string) ROW FORMAT DELIMITED    LINES TERMINATED BY  &apos;\n&apos;;&lt;/p&gt;

&lt;p&gt;Loading 1 row to small_table (the value 1).&lt;br/&gt;
Loading 2149580800 rows to big_table with the same value (1 on this case).&lt;/p&gt;

&lt;p&gt;create table output as select a.p1 from  big_table a join small_table b on (a.p1=b.p1);&lt;/p&gt;

&lt;p&gt;select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from output ; will return only 1 row...&lt;/p&gt;

&lt;p&gt;the reducer syslog:&lt;br/&gt;
...&lt;br/&gt;
2013-06-13 17:20:59,254 INFO ExecReducer: ExecReducer: processing 2147000000 rows: used memory = 32925960&lt;br/&gt;
2013-06-13 17:21:00,745 INFO ExecReducer: ExecReducer: processing 2148000000 rows: used memory = 12815184&lt;br/&gt;
2013-06-13 17:21:02,205 INFO ExecReducer: ExecReducer: processing 2149000000 rows: used memory = 26684552   &amp;lt;-- looks like wrong value..&lt;br/&gt;
...&lt;br/&gt;
2013-06-13 17:21:04,062 INFO ExecReducer: ExecReducer: processed 2149580801 rows: used memory = 17715896&lt;br/&gt;
2013-06-13 17:21:04,062 INFO org.apache.hadoop.hive.ql.exec.JoinOperator: 4 finished. closing...&lt;br/&gt;
2013-06-13 17:21:04,062 INFO org.apache.hadoop.hive.ql.exec.JoinOperator: 4 forwarded 1 rows&lt;br/&gt;
2013-06-13 17:21:05,791 INFO org.apache.hadoop.hive.ql.exec.JoinOperator: SKEWJOINFOLLOWUPJOBS:0&lt;br/&gt;
2013-06-13 17:21:05,792 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: 5 finished. closing...&lt;br/&gt;
2013-06-13 17:21:05,792 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: 5 forwarded 1 rows&lt;br/&gt;
2013-06-13 17:21:05,792 INFO org.apache.hadoop.hive.ql.exec.FileSinkOperator: 6 finished. closing...&lt;br/&gt;
2013-06-13 17:21:05,792 INFO org.apache.hadoop.hive.ql.exec.FileSinkOperator: 6 forwarded 0 rows&lt;br/&gt;
2013-06-13 17:21:05,946 INFO org.apache.hadoop.hive.ql.exec.FileSinkOperator: TABLE_ID_1_ROWCOUNT:1&lt;br/&gt;
2013-06-13 17:21:05,946 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: 5 Close done&lt;br/&gt;
2013-06-13 17:21:05,946 INFO org.apache.hadoop.hive.ql.exec.JoinOperator: 4 Close done&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12652723">HIVE-4730</key>
            <summary>Join on more than 2^31 records on single reducer failed (wrong results)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="gabik">Gabi Kazav</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jun 2013 18:36:46 +0000</created>
                <updated>Tue, 15 Oct 2013 23:29:29 +0000</updated>
                            <resolved>Fri, 19 Jul 2013 19:57:29 +0000</resolved>
                                    <version>0.7.1</version>
                    <version>0.8.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13683000" author="navis" created="Fri, 14 Jun 2013 01:49:23 +0000"  >&lt;p&gt;Could you try to change join order something like, &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select a.p1 from small_table a join big_table b on (a.p1=b.p1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13683076" author="phabricator@reviews.facebook.net" created="Fri, 14 Jun 2013 04:33:21 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4730&quot; title=&quot;Join on more than 2^31 records on single reducer failed (wrong results)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4730&quot;&gt;&lt;del&gt;HIVE-4730&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Join on more than 2^31 records on single reducer failed (wrong results)&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4730&quot; title=&quot;Join on more than 2^31 records on single reducer failed (wrong results)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4730&quot;&gt;&lt;del&gt;HIVE-4730&lt;/del&gt;&lt;/a&gt; Join on more than 2^31 records on single reducer failed (wrong results)&lt;/p&gt;

&lt;p&gt;join on more than 2^31 rows leads to wrong results. for example:&lt;/p&gt;

&lt;p&gt;Create table small_table (p1 string) ROW FORMAT DELIMITED    LINES TERMINATED BY  &apos;\n&apos;;&lt;br/&gt;
Create table big_table (p1 string) ROW FORMAT DELIMITED    LINES TERMINATED BY  &apos;\n&apos;;&lt;/p&gt;

&lt;p&gt;Loading 1 row to small_table (the value 1).&lt;br/&gt;
Loading 2149580800 rows to big_table with the same value (1 on this case).&lt;/p&gt;

&lt;p&gt;create table output as select a.p1 from  big_table a join small_table b on (a.p1=b.p1);&lt;/p&gt;

&lt;p&gt;select count from output ; will return only 1 row...&lt;/p&gt;

&lt;p&gt;the reducer syslog:&lt;br/&gt;
...&lt;br/&gt;
2013-06-13 17:20:59,254 INFO ExecReducer: ExecReducer: processing 2147000000 rows: used memory = 32925960&lt;br/&gt;
2013-06-13 17:21:00,745 INFO ExecReducer: ExecReducer: processing 2148000000 rows: used memory = 12815184&lt;br/&gt;
2013-06-13 17:21:02,205 INFO ExecReducer: ExecReducer: processing 2149000000 rows: used memory = 26684552   &amp;lt;-- looks like wrong value..&lt;br/&gt;
...&lt;br/&gt;
2013-06-13 17:21:04,062 INFO ExecReducer: ExecReducer: processed 2149580801 rows: used memory = 17715896&lt;br/&gt;
2013-06-13 17:21:04,062 INFO org.apache.hadoop.hive.ql.exec.JoinOperator: 4 finished. closing...&lt;br/&gt;
2013-06-13 17:21:04,062 INFO org.apache.hadoop.hive.ql.exec.JoinOperator: 4 forwarded 1 rows&lt;br/&gt;
2013-06-13 17:21:05,791 INFO org.apache.hadoop.hive.ql.exec.JoinOperator: SKEWJOINFOLLOWUPJOBS:0&lt;br/&gt;
2013-06-13 17:21:05,792 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: 5 finished. closing...&lt;br/&gt;
2013-06-13 17:21:05,792 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: 5 forwarded 1 rows&lt;br/&gt;
2013-06-13 17:21:05,792 INFO org.apache.hadoop.hive.ql.exec.FileSinkOperator: 6 finished. closing...&lt;br/&gt;
2013-06-13 17:21:05,792 INFO org.apache.hadoop.hive.ql.exec.FileSinkOperator: 6 forwarded 0 rows&lt;br/&gt;
2013-06-13 17:21:05,946 INFO org.apache.hadoop.hive.ql.exec.FileSinkOperator: TABLE_ID_1_ROWCOUNT:1&lt;br/&gt;
2013-06-13 17:21:05,946 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: 5 Close done&lt;br/&gt;
2013-06-13 17:21:05,946 INFO org.apache.hadoop.hive.ql.exec.JoinOperator: 4 Close done&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11283&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11283&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/JoinOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/AbstractRowContainer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinObjectValue.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinRowContainer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/RowContainer.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/26817/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/26817/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13683364" author="gabik" created="Fri, 14 Jun 2013 14:01:45 +0000"  >&lt;p&gt;After patching and compiling, when i run the same join it fail:&lt;/p&gt;

&lt;p&gt;......&lt;br/&gt;
2013-06-14 16:47:14,924 INFO ExecReducer: ExecReducer: processing 2149000000 rows: used memory = 45018992&lt;br/&gt;
2013-06-14 16:47:16,042 FATAL org.apache.hadoop.mapred.TaskTracker: Error running child : java.lang.NoSuchMethodError: org.apache.hadoop.hive.ql.exec.persistence.AbstractRowContainer.size()I&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.checkAndGenObject(CommonJoinOperator.java:802)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.JoinOperator.endGroup(JoinOperator.java:263)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.ExecReducer.close(ExecReducer.java:301)&lt;br/&gt;
        at org.apache.hadoop.mapred.ReduceTask.runOldReducer(ReduceTask.java:473)&lt;br/&gt;
        at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:411)&lt;br/&gt;
        at org.apache.hadoop.mapred.Child.main(Child.java:170)&lt;/p&gt;

&lt;p&gt;2013-06-14 16:47:19,051 INFO org.apache.hadoop.metrics.jvm.JvmMetrics: Initializing JVM Metrics with processName=CLEANUP, sessionId=&lt;br/&gt;
2013-06-14 16:47:19,305 INFO org.apache.hadoop.mapred.TaskRunner: Runnning cleanup for the task&lt;br/&gt;
2013-06-14 16:47:19,305 INFO org.apache.hadoop.mapred.TaskRunner: Task:attempt_201306121727_0032_r_000004_0 is done. And is in the process of commiting&lt;br/&gt;
2013-06-14 16:47:19,311 INFO org.apache.hadoop.mapred.TaskRunner: Task &apos;attempt_201306121727_0032_r_000004_0&apos; done.&lt;/p&gt;
</comment>
                            <comment id="13683409" author="navis" created="Fri, 14 Jun 2013 14:42:18 +0000"  >&lt;p&gt;I think you should do clean build.&lt;/p&gt;</comment>
                            <comment id="13683427" author="gabik" created="Fri, 14 Jun 2013 15:13:49 +0000"  >&lt;p&gt;can you explain me how?&lt;br/&gt;
ant clean ?&lt;/p&gt;

&lt;p&gt;Navis - thank you for your kindly and fast help!&lt;/p&gt;</comment>
                            <comment id="13683436" author="navis" created="Fri, 14 Jun 2013 15:20:30 +0000"  >&lt;p&gt;You can just remove build/ql directory and build, which might be a little faster. &lt;br/&gt;
I wish I could confirm this patch, but my notebook couldn&apos;t handle shuffling of 4G data.&lt;/p&gt;</comment>
                            <comment id="13683439" author="gabik" created="Fri, 14 Jun 2013 15:23:01 +0000"  >&lt;p&gt;ok - i am trying now - building ql from scratch and running the join,&lt;br/&gt;
i will comment here the results.&lt;/p&gt;

&lt;p&gt;Thanks. &lt;/p&gt;</comment>
                            <comment id="13683444" author="gabik" created="Fri, 14 Jun 2013 15:31:38 +0000"  >&lt;p&gt;do i need to copy the hive-exec jar only?  or did the patch changed another jar?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13683448" author="navis" created="Fri, 14 Jun 2013 15:34:36 +0000"  >&lt;p&gt;exec only&lt;/p&gt;</comment>
                            <comment id="13684192" author="gabik" created="Sat, 15 Jun 2013 13:22:29 +0000"  >&lt;p&gt;Hi Navis - &lt;br/&gt;
on hive 0.7.x is works,&lt;br/&gt;
on hive 0.10.0, i am compiling the exec jar and it build me hive-exec-0.10.0-SNAPSHOT.jar&lt;br/&gt;
when i am running hive on ver 0.10.0, i got the following massage (also after clean build):&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;hdp@hive-1 gabi&amp;#93;&lt;/span&gt;$ hive&lt;br/&gt;
/hive/hive/bin/hive: line 72: [: /hive/hive/lib/hive-exec-0.10.0.jar: binary operator expected&lt;br/&gt;
Logging initialized using configuration in jar:&lt;a href=&quot;file:/hive/hive-0.10.0/lib/hive-common-0.10.0.jar!/hive-log4j.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/hive/hive-0.10.0/lib/hive-common-0.10.0.jar!/hive-log4j.properties&lt;/a&gt;&lt;br/&gt;
Hive history file=/tmp/hdp/hive_job_log_hdp_201306151610_458251040.txt&lt;br/&gt;
hive&amp;gt; show tables;&lt;br/&gt;
FAILED: Error in metadata: MetaException(message:Got exception: org.apache.hadoop.hive.metastore.api.MetaException javax.jdo.JDODataStoreException: An exception was thrown while adding/validating class(es) : Constraint &apos;COLUMNS_PK&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
java.sql.SQLException: Constraint &apos;COLUMNS_PK&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
        at org.apache.commons.dbcp.DelegatingStatement.execute(DelegatingStatement.java:264)&lt;br/&gt;
        at org.apache.commons.dbcp.DelegatingStatement.execute(DelegatingStatement.java:264)&lt;br/&gt;
        at org.datanucleus.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:730)&lt;br/&gt;
        at org.datanucleus.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:681)&lt;br/&gt;
        at org.datanucleus.store.rdbms.table.AbstractTable.create(AbstractTable.java:402)&lt;br/&gt;
        at org.datanucleus.store.rdbms.table.AbstractTable.exists(AbstractTable.java:458)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager$ClassAdder.performTablesValidation(RDBMSStoreManager.java:2689)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager$ClassAdder.addClassTablesAndValidate(RDBMSStoreManager.java:2503)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager$ClassAdder.run(RDBMSStoreManager.java:2148)&lt;br/&gt;
        at org.datanucleus.store.rdbms.AbstractSchemaTransaction.execute(AbstractSchemaTransaction.java:113)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager.addClasses(RDBMSStoreManager.java:986)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager.addClasses(RDBMSStoreManager.java:952)&lt;br/&gt;
        at org.datanucleus.store.AbstractStoreManager.addClass(AbstractStoreManager.java:919)&lt;br/&gt;
        at org.datanucleus.store.mapped.MappedStoreManager.getDatastoreClass(MappedStoreManager.java:356)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.ExtentHelper.getExtent(ExtentHelper.java:48)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager.getExtent(RDBMSStoreManager.java:1332)&lt;br/&gt;
        at org.datanucleus.ObjectManagerImpl.getExtent(ObjectManagerImpl.java:4149)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileCandidates(JDOQLQueryCompiler.java:411)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.QueryCompiler.executionCompile(QueryCompiler.java:312)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compile(JDOQLQueryCompiler.java:225)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.compileInternal(JDOQLQuery.java:175)&lt;br/&gt;
        at org.datanucleus.store.query.Query.executeQuery(Query.java:1628)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.executeQuery(JDOQLQuery.java:245)&lt;br/&gt;
        at org.datanucleus.store.query.Query.executeWithArray(Query.java:1499)&lt;br/&gt;
        at org.datanucleus.jdo.JDOQuery.execute(JDOQuery.java:243)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.ObjectStore.getTables(ObjectStore.java:781)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.RetryingRawStore.invoke(RetryingRawStore.java:111)&lt;br/&gt;
        at $Proxy6.getTables(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.get_tables(HiveMetaStore.java:2327)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invoke(RetryingHMSHandler.java:105)&lt;br/&gt;
        at $Proxy7.get_tables(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.getTables(HiveMetaStoreClient.java:817)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.invoke(RetryingMetaStoreClient.java:74)&lt;br/&gt;
        at $Proxy8.getTables(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.metadata.Hive.getTablesByPattern(Hive.java:1009)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.metadata.Hive.getAllTables(Hive.java:983)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.DDLTask.showTables(DDLTask.java:2215)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.DDLTask.execute(DDLTask.java:334)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:138)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1336)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1122)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:935)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:412)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:755)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:613)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;br/&gt;
Caused by: java.sql.SQLException: Constraint &apos;COLUMNS_PK&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)&lt;br/&gt;
        ... 74 more&lt;br/&gt;
Caused by: ERROR X0Y32: Constraint &apos;COLUMNS_PK&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.duplicateDescriptorException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.addDescriptor(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.addDescriptor(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.addConstraintDescriptor(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.execute.CreateConstraintConstantAction.executeConstantAction(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.execute.AlterTableConstantAction.executeConstantAction(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.execute.MiscResultSet.open(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)&lt;br/&gt;
        ... 68 more&lt;/p&gt;

&lt;p&gt;NestedThrowables:&lt;br/&gt;
java.sql.SQLException: Constraint &apos;COLUMNS_PK&apos; already exists in Schema &apos;APP&apos;.)&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask&lt;/p&gt;

&lt;p&gt;Do i need to change something on 0.10.0 to get it work?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Gabi&lt;/p&gt;</comment>
                            <comment id="13684193" author="gabik" created="Sat, 15 Jun 2013 13:26:04 +0000"  >&lt;p&gt;ignore the script error line : /hive/hive/bin/hive: line 72: [: /hive/hive/lib/hive-exec-0.10.0.jar: binary operator expected&lt;br/&gt;
i had 2 jar files (old and new), fixed it, but i still have the exception:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; show tables;&lt;br/&gt;
FAILED: Error in metadata: MetaException(message:Got exception: org.apache.hadoop.hive.metastore.api.MetaException javax.jdo.JDODataStoreException: An exception was thrown while adding/validating class(es) : Constraint &apos;COLUMNS_PK&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
java.sql.SQLException: Constraint &apos;COLUMNS_PK&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
        at org.apache.commons.dbcp.DelegatingStatement.execute(DelegatingStatement.java:264)&lt;br/&gt;
        at org.apache.commons.dbcp.DelegatingStatement.execute(DelegatingStatement.java:264)&lt;br/&gt;
        at org.datanucleus.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:730)&lt;br/&gt;
        at org.datanucleus.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:681)&lt;br/&gt;
        at org.datanucleus.store.rdbms.table.AbstractTable.create(AbstractTable.java:402)&lt;br/&gt;
        at org.datanucleus.store.rdbms.table.AbstractTable.exists(AbstractTable.java:458)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager$ClassAdder.performTablesValidation(RDBMSStoreManager.java:2689)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager$ClassAdder.addClassTablesAndValidate(RDBMSStoreManager.java:2503)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager$ClassAdder.run(RDBMSStoreManager.java:2148)&lt;br/&gt;
        at org.datanucleus.store.rdbms.AbstractSchemaTransaction.execute(AbstractSchemaTransaction.java:113)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager.addClasses(RDBMSStoreManager.java:986)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager.addClasses(RDBMSStoreManager.java:952)&lt;br/&gt;
        at org.datanucleus.store.AbstractStoreManager.addClass(AbstractStoreManager.java:919)&lt;br/&gt;
        at org.datanucleus.store.mapped.MappedStoreManager.getDatastoreClass(MappedStoreManager.java:356)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.ExtentHelper.getExtent(ExtentHelper.java:48)&lt;br/&gt;
        at org.datanucleus.store.rdbms.RDBMSStoreManager.getExtent(RDBMSStoreManager.java:1332)&lt;br/&gt;
        at org.datanucleus.ObjectManagerImpl.getExtent(ObjectManagerImpl.java:4149)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileCandidates(JDOQLQueryCompiler.java:411)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.QueryCompiler.executionCompile(QueryCompiler.java:312)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compile(JDOQLQueryCompiler.java:225)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.compileInternal(JDOQLQuery.java:175)&lt;br/&gt;
        at org.datanucleus.store.query.Query.executeQuery(Query.java:1628)&lt;br/&gt;
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.executeQuery(JDOQLQuery.java:245)&lt;br/&gt;
        at org.datanucleus.store.query.Query.executeWithArray(Query.java:1499)&lt;br/&gt;
        at org.datanucleus.jdo.JDOQuery.execute(JDOQuery.java:243)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.ObjectStore.getTables(ObjectStore.java:781)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.RetryingRawStore.invoke(RetryingRawStore.java:111)&lt;br/&gt;
        at $Proxy6.getTables(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.get_tables(HiveMetaStore.java:2327)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invoke(RetryingHMSHandler.java:105)&lt;br/&gt;
        at $Proxy7.get_tables(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.getTables(HiveMetaStoreClient.java:817)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.invoke(RetryingMetaStoreClient.java:74)&lt;br/&gt;
        at $Proxy8.getTables(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.metadata.Hive.getTablesByPattern(Hive.java:1009)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.metadata.Hive.getAllTables(Hive.java:983)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.DDLTask.showTables(DDLTask.java:2215)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.DDLTask.execute(DDLTask.java:334)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:138)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1336)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1122)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:935)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:412)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:755)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:613)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;br/&gt;
Caused by: java.sql.SQLException: Constraint &apos;COLUMNS_PK&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)&lt;br/&gt;
        ... 74 more&lt;br/&gt;
Caused by: ERROR X0Y32: Constraint &apos;COLUMNS_PK&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.duplicateDescriptorException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.addDescriptor(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.addDescriptor(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.addConstraintDescriptor(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.execute.CreateConstraintConstantAction.executeConstantAction(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.execute.AlterTableConstantAction.executeConstantAction(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.execute.MiscResultSet.open(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)&lt;br/&gt;
        ... 68 more&lt;/p&gt;

&lt;p&gt;NestedThrowables:&lt;br/&gt;
java.sql.SQLException: Constraint &apos;COLUMNS_PK&apos; already exists in Schema &apos;APP&apos;.)&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask&lt;/p&gt;</comment>
                            <comment id="13684558" author="navis" created="Sun, 16 Jun 2013 03:38:11 +0000"  >&lt;p&gt;I think the exception above is from change of metastore schema between 0.7.0 and 0.10.0. You need upgrade metastore via script (I haven&apos;t do that, yet) or make a new metastore.&lt;/p&gt;</comment>
                            <comment id="13684584" author="gabik" created="Sun, 16 Jun 2013 06:22:39 +0000"  >&lt;p&gt;looks like you right, sorry for that.&lt;/p&gt;

&lt;p&gt;will check and update here.&lt;/p&gt;

&lt;p&gt;Thanks again!&lt;/p&gt;</comment>
                            <comment id="13684759" author="gabik" created="Sun, 16 Jun 2013 19:48:20 +0000"  >&lt;p&gt;Looks good, thanks!&lt;/p&gt;</comment>
                            <comment id="13688862" author="gabik" created="Thu, 20 Jun 2013 04:47:01 +0000"  >&lt;p&gt;Hi - i want to add it to git,&lt;br/&gt;
how can i get permissions to push?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13688883" author="gabik" created="Thu, 20 Jun 2013 05:28:30 +0000"  >&lt;p&gt;I have it here:&lt;br/&gt;
&lt;a href=&quot;https://github.com/gabik/hive/tree/HIVE-4730&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/gabik/hive/tree/HIVE-4730&lt;/a&gt;&lt;br/&gt;
and merged into trunk:&lt;br/&gt;
&lt;a href=&quot;https://github.com/gabik/hive/tree/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/gabik/hive/tree/trunk&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13708691" author="phabricator@reviews.facebook.net" created="Mon, 15 Jul 2013 17:38:46 +0000"  >&lt;p&gt;brock has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4730&quot; title=&quot;Join on more than 2^31 records on single reducer failed (wrong results)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4730&quot;&gt;&lt;del&gt;HIVE-4730&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Join on more than 2^31 records on single reducer failed (wrong results)&quot;.&lt;/p&gt;

&lt;p&gt;  Hi Navis,&lt;/p&gt;

&lt;p&gt;  Thanks for the patch!  I noted a few style nits.  Just curious, how long did the query take to complete?  My guess is far too long to have a q-file test for this.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/RowContainer.java:286 Is it possible to move this up near the rest of the member variable definitions?&lt;/p&gt;

&lt;p&gt;  Ideally it&apos;d be nice to change the LHS to be List but it&apos;s possible that something in the class requires ArrayList.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11283&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11283&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13709442" author="phabricator@reviews.facebook.net" created="Tue, 16 Jul 2013 03:54:47 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4730&quot; title=&quot;Join on more than 2^31 records on single reducer failed (wrong results)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4730&quot;&gt;&lt;del&gt;HIVE-4730&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Join on more than 2^31 records on single reducer failed (wrong results)&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11283&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11283&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4730&quot; title=&quot;Join on more than 2^31 records on single reducer failed (wrong results)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4730&quot;&gt;&lt;del&gt;HIVE-4730&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13710052" author="ashutoshc" created="Tue, 16 Jul 2013 18:28:44 +0000"  >&lt;p&gt;Test &lt;tt&gt;TestCliDriver_skewjoin.q&lt;/tt&gt; failed. All others did pass.&lt;/p&gt;</comment>
                            <comment id="13710717" author="phabricator@reviews.facebook.net" created="Wed, 17 Jul 2013 05:16:48 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4730&quot; title=&quot;Join on more than 2^31 records on single reducer failed (wrong results)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4730&quot;&gt;&lt;del&gt;HIVE-4730&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Join on more than 2^31 records on single reducer failed (wrong results)&quot;.&lt;/p&gt;

&lt;p&gt;  Fixed test failure&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11283&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11283&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11283?vs=34707&amp;amp;id=35805#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11283?vs=34707&amp;amp;id=35805#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4730&quot; title=&quot;Join on more than 2^31 records on single reducer failed (wrong results)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4730&quot;&gt;&lt;del&gt;HIVE-4730&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/JoinOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/AbstractRowContainer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinObjectValue.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinRowContainer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/RowContainer.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13710720" author="navis" created="Wed, 17 Jul 2013 05:20:19 +0000"  >&lt;p&gt;I wish I could add a test case for this. But I couldn&apos;t run some query for table with 2G rows (job failed after 40min).&lt;/p&gt;</comment>
                            <comment id="13712157" author="ashutoshc" created="Thu, 18 Jul 2013 09:27:31 +0000"  >&lt;p&gt;skewjoin.q test still fails for me. Canceling patch trying to trigger pre-commit test-patch&lt;/p&gt;</comment>
                            <comment id="13712158" author="ashutoshc" created="Thu, 18 Jul 2013 09:28:28 +0000"  >&lt;p&gt;Marking Patch available to trigger pre-commit script to see if failure reproduces.&lt;/p&gt;</comment>
                            <comment id="13712419" author="hiveqa" created="Thu, 18 Jul 2013 15:38:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 build exited with an error&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12592716/HIVE-4730.D11283.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12592716/HIVE-4730.D11283.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 all tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/78/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/78/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/78/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/78/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;br/&gt;
Executing org.apache.hive.ptest.execution.CleanupPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.PrepPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ExecutionPhase&lt;br/&gt;
Tests failed with: IllegalStateException: Too many bad hosts: 5 bad hosts out of 8 is greater than threshold of 30%&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13712422" author="brocknoland" created="Thu, 18 Jul 2013 15:42:07 +0000"  >&lt;p&gt;OK interesting. Basically 5 of our 8 ec2 hosts went &quot;bad&quot; during testing. We&apos;ll see this from time to time. Uploading the patch again will start a new build, but I kicked off the pre-commit build manually.&lt;/p&gt;</comment>
                            <comment id="13712437" author="hiveqa" created="Thu, 18 Jul 2013 16:02:32 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 build exited with an error&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12592716/HIVE-4730.D11283.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12592716/HIVE-4730.D11283.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 all tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/79/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/79/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/79/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/79/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;br/&gt;
Executing org.apache.hive.ptest.execution.CleanupPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.PrepPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ExecutionPhase&lt;br/&gt;
Tests failed with: IllegalStateException: Too many bad hosts: 5 bad hosts out of 8 is greater than threshold of 30%&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13712451" author="brocknoland" created="Thu, 18 Jul 2013 16:29:13 +0000"  >&lt;p&gt;And there is a bug we aren&apos;t correctly replacing I created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4882&quot; title=&quot;PTest2 via the Cloud Provider doesn&amp;#39;t replace bad hosts if an exception occurs during a test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4882&quot;&gt;&lt;del&gt;HIVE-4882&lt;/del&gt;&lt;/a&gt; for this. I also kicked off the pre-commit job again.&lt;/p&gt;</comment>
                            <comment id="13712903" author="hiveqa" created="Thu, 18 Jul 2013 21:40:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12592716/HIVE-4730.D11283.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12592716/HIVE-4730.D11283.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 all tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/81/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/81/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/81/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/81/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;br/&gt;
Executing org.apache.hive.ptest.execution.CleanupPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.PrepPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ExecutionPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ReportingPhase&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13712950" author="appodictic" created="Thu, 18 Jul 2013 22:07:03 +0000"  >&lt;p&gt;Q. Why do we cast down to int here?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;       // Different processing for key and value&lt;br/&gt;
       MapJoinRowContainer&amp;lt;Object[]&amp;gt; v = obj;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;out.writeInt(v.size());&lt;br/&gt;
+      out.writeInt((int)v.size());&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</comment>
                            <comment id="13712984" author="appodictic" created="Thu, 18 Jul 2013 22:23:34 +0000"  >&lt;p&gt;Never mind I see its an array size issue.&lt;/p&gt;</comment>
                            <comment id="13714015" author="ashutoshc" created="Fri, 19 Jul 2013 19:57:29 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="13795902" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:29 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12657104">HIVE-4838</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587771" name="HIVE-4730.D11283.1.patch" size="3730" author="phabricator@reviews.facebook.net" created="Fri, 14 Jun 2013 04:33:21 +0000"/>
                            <attachment id="12592716" name="HIVE-4730.D11283.2.patch" size="3364" author="phabricator@reviews.facebook.net" created="Wed, 17 Jul 2013 05:16:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 Jun 2013 01:49:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333047</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lgbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4731] Hive needs to provide source only releases</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4731</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive&apos;s official release currently includes binaries such as jars.  This is actually counter to Apache policy.  Hive should instead be producing a source only (no binaries, no jars) release.  It is free to also provide a convenience package that includes the compiled jars, but this is not the official release.&lt;/p&gt;

&lt;p&gt;For details on this see &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/incubator-general/201203.mbox/%3C0F5691A1-97C0-444F-A514-B2E4E8E907DA@gbiv.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/incubator-general/201203.mbox/%3C0F5691A1-97C0-444F-A514-B2E4E8E907DA@gbiv.com%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652730">HIVE-4731</key>
            <summary>Hive needs to provide source only releases</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jun 2013 19:11:30 +0000</created>
                <updated>Thu, 10 Oct 2013 00:52:38 +0000</updated>
                                            <version>0.11.0</version>
                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13791060" author="brocknoland" created="Thu, 10 Oct 2013 00:52:38 +0000"  >&lt;p&gt;Linking to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5107&quot; title=&quot;Change hive&amp;#39;s build to maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5107&quot;&gt;&lt;del&gt;HIVE-5107&lt;/del&gt;&lt;/a&gt; since we will probably be done with maven.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12663974">HIVE-5107</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Oct 2013 00:52:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lgdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333382</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4732] Reduce or eliminate the expensive Schema equals() check for AvroSerde</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4732</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The AvroSerde spends a significant amount of time checking schema equality. Changing to compare hashcodes (which can be computed once then reused) will improve performance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652761">HIVE-4732</key>
            <summary>Reduce or eliminate the expensive Schema equals() check for AvroSerde</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kamrul">Mohammad Kamrul Islam</assignee>
                                    <reporter username="mwagner">Mark Wagner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jun 2013 22:53:58 +0000</created>
                <updated>Sun, 22 Sep 2013 09:43:24 +0000</updated>
                            <resolved>Sat, 21 Sep 2013 20:36:45 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13682897" author="mwagner" created="Thu, 13 Jun 2013 23:27:06 +0000"  >&lt;p&gt;This patch improves per record read and deserialization time by ~40% in my tests. Since this is a small and useful change, I&apos;d propose that it go into branch-.11 as well as trunk.&lt;/p&gt;</comment>
                            <comment id="13691714" author="navis" created="Mon, 24 Jun 2013 05:52:28 +0000"  >&lt;p&gt;Schema in avro-1.7.1 which is in hive-0.11.0 compares hashCodes first. This issue might be regarded as resolved.&lt;/p&gt;</comment>
                            <comment id="13696611" author="ashutoshc" created="Mon, 1 Jul 2013 06:44:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mwagner&quot; class=&quot;user-hover&quot; rel=&quot;mwagner&quot;&gt;Mark Wagner&lt;/a&gt; Shall we close this as &quot;Not a problem&quot;, per Navis comments?&lt;/p&gt;</comment>
                            <comment id="13697052" author="mwagner" created="Mon, 1 Jul 2013 18:39:05 +0000"  >&lt;p&gt;I double checked and I am using the latest release (1.7.4) for my benchmarks. Although the equals() method uses hashcode to quickly discard unequal schemas, it still does a full recursive walk of the schema to make sure all the nodes are equal, so I think this patch is still a necessary change.&lt;/p&gt;
</comment>
                            <comment id="13697096" author="appodictic" created="Mon, 1 Jul 2013 19:43:21 +0000"  >&lt;p&gt;We can not use hashCode() where equals() should be used. Just because two things have the same hashCode() does not mean that they are equal. Future versions may not work the same way.&lt;/p&gt;

&lt;p&gt;How about something like this:&lt;/p&gt;

&lt;p&gt;if this.hashCode == other.hashCode &amp;amp;&amp;amp; this.equals(other) {&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;In this way you still get the short circuit optimized behavior you want for performance for most cases, but the logic is still correct if a hashCode collision happens.&lt;/p&gt;</comment>
                            <comment id="13697127" author="mwagner" created="Mon, 1 Jul 2013 20:19:01 +0000"  >&lt;p&gt;&amp;amp;&amp;amp; wouldn&apos;t allow short circuiting if hashCodes were equal, only if they&apos;re unequal. This change definitely assumes that we won&apos;t be unlucky and have a hashcode collision. An alternative is to give each RecordReader an Id and keep track of which readers have the correct schema in the deserializer. All the records from the same reader should have the same schema&lt;/p&gt;</comment>
                            <comment id="13697238" author="appodictic" created="Mon, 1 Jul 2013 21:55:46 +0000"  >

&lt;blockquote&gt;
&lt;p&gt;This change definitely assumes that we won&apos;t be unlucky and have a hashcode collision.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;^ is a dangerous assumption I would not want to +1.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;amp;&amp;amp; wouldn&apos;t allow short circuiting if hashCodes were equal, only if they&apos;re unequal.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ah good point. I just meant to say &apos;use short circuiting and a compound if clause&apos; (it could use ! | || &amp;amp;&amp;amp; or &amp;amp; or whatever your need. The point was you can optimize the code without making it logically incorrect. &lt;/p&gt;</comment>
                            <comment id="13706299" author="kamrul" created="Thu, 11 Jul 2013 21:58:04 +0000"  >&lt;p&gt;Thanks Edward for the comments.&lt;br/&gt;
We are now trying to take a different approach to address the same issue.&lt;br/&gt;
A new patch is coming soon.&lt;/p&gt;</comment>
                            <comment id="13706360" author="kamrul" created="Thu, 11 Jul 2013 22:32:32 +0000"  >&lt;p&gt;New patch is uploaded in RB: &lt;a href=&quot;https://reviews.apache.org/r/12480/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/12480/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Description copied from RB:&lt;br/&gt;
From our performance analysis, we found AvroSerde&apos;s schema.equals() call consumed a substantial amount ( nearly 40%) of time. This patch intends to minimize the number schema.equals() calls by pushing the check as late/fewer as possible.&lt;/p&gt;

&lt;p&gt;At first, we added a unique id for each record reader which is then included in every AvroGenericRecordWritable. Then, we introduce two new data structures (one hashset and one hashmap) to store intermediate data to avoid duplicates checkings. Hashset contains all the record readers&apos; IDs that don&apos;t need any re-encoding. On the other hand, HashMap contains the already used re-encoders. It works as cache and allows re-encoders reuse. With this change, our test shows nearly 40% reduction in Avro record reading time.&lt;/p&gt;

</comment>
                            <comment id="13728930" author="appodictic" created="Sun, 4 Aug 2013 17:43:06 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.recordReaderID = UUID.randomUUID();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Random UUID does not guarantee no collisions. I believe using a TimeUUID is better&lt;/p&gt;</comment>
                            <comment id="13728931" author="appodictic" created="Sun, 4 Aug 2013 17:44:01 +0000"  >&lt;p&gt;See:&lt;br/&gt;
&lt;a href=&quot;http://en.wikipedia.org/wiki/Universally_unique_identifier#Random_UUID_probability_of_duplicates&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Universally_unique_identifier#Random_UUID_probability_of_duplicates&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13766543" author="ashutoshc" created="Fri, 13 Sep 2013 15:20:10 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kamrul&quot; class=&quot;user-hover&quot; rel=&quot;kamrul&quot;&gt;Mohammad Kamrul Islam&lt;/a&gt; for addressing concern. Overall looks good. One quick question: I see in AvroGenericRecordWritable::write(Dataoutput out) this line &lt;br/&gt;
out.writeUTF(recordReaderID.toString()); Doesn&apos;t this mean id is now persisted on-disk? I thought id is generated by reader at read time and than added to record, but I don&apos;t get why while writing record we need to write it. Seems like I am missing something obvious.&lt;/p&gt;</comment>
                            <comment id="13766816" author="mwagner" created="Fri, 13 Sep 2013 19:02:23 +0000"  >&lt;p&gt;The write and readFields methods are used when serializing the writable, but not when persisting to disk. We&apos;ll still want to maintain that id if the record is serialized and deserialized so we can do the equality comparison on the other side. I don&apos;t believe that those methods are ever actually used in Hive (the ORC equivalent of AvroGenericRecordWritable doesn&apos;t even implement it), but for completeness they are included.&lt;/p&gt;</comment>
                            <comment id="13766986" author="ashutoshc" created="Fri, 13 Sep 2013 21:33:59 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mwagner&quot; class=&quot;user-hover&quot; rel=&quot;mwagner&quot;&gt;Mark Wagner&lt;/a&gt; for explanation. +1&lt;/p&gt;</comment>
                            <comment id="13767007" author="ashutoshc" created="Fri, 13 Sep 2013 21:44:19 +0000"  >&lt;p&gt;Can one of you upload the patch on jira, so that HIVE QA have a run on it?&lt;/p&gt;</comment>
                            <comment id="13767009" author="kamrul" created="Fri, 13 Sep 2013 21:46:19 +0000"  >&lt;p&gt;Same patch review in RB.&lt;/p&gt;</comment>
                            <comment id="13767021" author="kamrul" created="Fri, 13 Sep 2013 21:53:32 +0000"  >&lt;p&gt;renamed the file for pre-commit build. &lt;/p&gt;</comment>
                            <comment id="13767043" author="appodictic" created="Fri, 13 Sep 2013 22:08:48 +0000"  >&lt;p&gt;Patch is not ready for commit.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;+  /**&lt;br/&gt;
+   * A unique ID for each record reader.&lt;br/&gt;
+   */&lt;br/&gt;
+  final private UUID recordReaderID;&lt;/p&gt;

&lt;p&gt;+    this.recordReaderID = UUID.randomUUID();&lt;br/&gt;
   }&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Your comment conflicts your code randomUUID() is not unique. See the link above.&lt;/p&gt;</comment>
                            <comment id="13767625" author="hiveqa" created="Sun, 15 Sep 2013 00:07:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12603120/HIVE-4732.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12603120/HIVE-4732.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 3108 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.serde2.avro.TestGenericAvroRecordWritable.writableContractIsImplementedCorrectly
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/747/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/747/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/747/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/747/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13769049" author="kamrul" created="Tue, 17 Sep 2013 01:05:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;Edward Capriolo&lt;/a&gt;: I can see your point. Indeed a very informative link.&lt;br/&gt;
As the link mentioned, the probability of ID collisions are very very rare. &lt;br/&gt;
Pasted from wikipedia:&lt;br/&gt;
&quot;To put these numbers into perspective, the annual risk of someone being hit by a meteorite is estimated to be one chance in 17 billion,&lt;span class=&quot;error&quot;&gt;&amp;#91;38&amp;#93;&lt;/span&gt; which means the probability is about 0.00000000006 (6 &#215; 10&#8722;11), equivalent to the odds of creating a few tens of trillions of UUIDs in a year and having one duplicate. In other words, only after generating 1 billion UUIDs every second for the next 100 years, the probability of creating just one duplicate would be about 50%. The probability of one duplicate would be about 50% if every person on earth owns 600 million UUIDs.&quot;&lt;/p&gt;

&lt;p&gt;With these probability, will it be necessary to make thing complex. Moreover, these IDs are often few in one hive session.&lt;/p&gt;






</comment>
                            <comment id="13769052" author="kamrul" created="Tue, 17 Sep 2013 01:07:27 +0000"  >&lt;p&gt;Fixed the failed testcase.&lt;/p&gt;</comment>
                            <comment id="13769275" author="hiveqa" created="Tue, 17 Sep 2013 07:02:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12603500/HIVE-4732.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12603500/HIVE-4732.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 3126 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/774/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/774/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/774/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/774/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13770092" author="ashutoshc" created="Tue, 17 Sep 2013 22:32:59 +0000"  >&lt;p&gt;I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kamrul&quot; class=&quot;user-hover&quot; rel=&quot;kamrul&quot;&gt;Mohammad Kamrul Islam&lt;/a&gt; analysis. Lets not complicate the code for highly obscure case. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;Edward Capriolo&lt;/a&gt; Let us know if you disagree.&lt;/p&gt;</comment>
                            <comment id="13770288" author="appodictic" created="Wed, 18 Sep 2013 01:28:08 +0000"  >&lt;p&gt;I do disagree, because it is not complex to generate a GUID that will never collide. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.javapractices.com/topic/TopicAction.do?Id=56&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.javapractices.com/topic/TopicAction.do?Id=56&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;An implementation would likely replace 1 line of code with between 2 to 4. It is not a complex task and there are probably hundreds of references on how to do this on the internet.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.rmi.server.UID;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;UniqueId {

  /**
  * Build and display some UID objects.
  */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;... arguments) {
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; idx=0; idx&amp;lt;10; ++idx){
      UID userId = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UID();
      &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;User Id: &quot;&lt;/span&gt; + userId);
    }
  }
} 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Would you rather have: &lt;br/&gt;
1) a parachute that very very rarely does not work&lt;br/&gt;
2) a parachute that always works&lt;br/&gt;
&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13770291" author="appodictic" created="Wed, 18 Sep 2013 01:32:42 +0000"  >&lt;p&gt;If you do not want to do it just file another Jira issue and assign it to me and Ill do it.&lt;/p&gt;</comment>
                            <comment id="13770327" author="ashutoshc" created="Wed, 18 Sep 2013 02:24:55 +0000"  >&lt;p&gt;Its upto &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kamrul&quot; class=&quot;user-hover&quot; rel=&quot;kamrul&quot;&gt;Mohammad Kamrul Islam&lt;/a&gt; whether he wants to do it in current jira or a new one. I am fine either way.&lt;/p&gt;</comment>
                            <comment id="13772146" author="kamrul" created="Thu, 19 Sep 2013 18:31:41 +0000"  >&lt;p&gt;Incorporating &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;Edward Capriolo&lt;/a&gt; comments.&lt;/p&gt;</comment>
                            <comment id="13772337" author="hiveqa" created="Thu, 19 Sep 2013 21:26:43 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12604084/HIVE-4732.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12604084/HIVE-4732.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 174 failed/errored test(s), 1242 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_external_table_ppd
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_external_table_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_map_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_map_queries_prefix
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_storage_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_joins
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_ppd_key_range
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_pushdown
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_scan_params
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_single_sourced_multi_insert
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats2
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats3
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats_empty_partition
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_ppd_key_ranges
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_cascade_dbdrop_hadoop20
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket4
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket5
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin7
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_disable_merge_for_bucketing
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_groupby2
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_bucketed_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_dyn_part
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_map_operators
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_merge
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_num_buckets
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_join1
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_list_bucket_dml_10
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_load_fs2
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_parallel_orderby
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_reduce_deduplicate
org.apache.hadoop.hive.hwi.TestHWISessionManager.testHiveDriver
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testConversionsBaseResultSet
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDataTypes
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDatabaseMetaData
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDescribeTable
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDriverProperties
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testErrorMessages
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testExplainStmt
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetCatalogs
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetColumns
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetColumnsMetaData
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetSchemas
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetTableTypes
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetTables
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testNullType
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testPrepareStatement
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testResultSetMetaData
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAll
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllFetchSize
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllMaxRows
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllPartioned
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSetCommand
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testShowTables
org.apache.hadoop.hive.ql.TestLocationQueries.testAlterTablePartitionLocation_alter5
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1
org.apache.hadoop.hive.ql.exec.TestExecDriver.testMapPlan1
org.apache.hadoop.hive.ql.exec.TestExecDriver.testMapPlan2
org.apache.hadoop.hive.ql.exec.TestExecDriver.testMapRedPlan1
org.apache.hadoop.hive.ql.exec.TestExecDriver.testMapRedPlan2
org.apache.hadoop.hive.ql.exec.TestExecDriver.testMapRedPlan3
org.apache.hadoop.hive.ql.exec.TestExecDriver.testMapRedPlan4
org.apache.hadoop.hive.ql.exec.TestExecDriver.testMapRedPlan5
org.apache.hadoop.hive.ql.exec.TestExecDriver.testMapRedPlan6
org.apache.hadoop.hive.ql.history.TestHiveHistory.testSimpleQuery
org.apache.hadoop.hive.ql.io.TestSymlinkTextInputFormat.testCombine
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_ambiguous_join_col
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_duplicate_alias
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_garbage
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_insert_wrong_number_columns
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_create_table
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_dot
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_function_param2
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_index
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_list_index
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_list_index2
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_map_index
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_map_index2
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_select
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_macro_reserved_word
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_missing_overwrite
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_nonkey_groupby
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_quoted_string
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column1
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column2
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column3
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column4
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column5
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column6
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function1
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function2
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function3
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function4
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_table1
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_table2
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_wrong_distinct1
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_wrong_distinct2
org.apache.hadoop.hive.service.TestHiveServer.testDynamicSerde
org.apache.hadoop.hive.service.TestHiveServer.testFetch
org.apache.hadoop.hive.service.TestHiveServer.testNonHiveCommand
org.apache.hcatalog.cli.TestSemanticAnalysis.testAddReplaceCols
org.apache.hcatalog.cli.TestSemanticAnalysis.testDescDB
org.apache.hcatalog.fileformats.TestOrcDynamicPartitioned.testHCatDynamicPartitionedTable
org.apache.hcatalog.fileformats.TestOrcDynamicPartitioned.testHCatDynamicPartitionedTableMultipleTask
org.apache.hcatalog.mapreduce.TestHCatDynamicPartitioned.testHCatDynamicPartitionedTable
org.apache.hcatalog.mapreduce.TestHCatDynamicPartitioned.testHCatDynamicPartitionedTableMultipleTask
org.apache.hcatalog.mapreduce.TestHCatInputFormat.testBadRecordHandlingFails
org.apache.hcatalog.mapreduce.TestHCatInputFormat.testBadRecordHandlingPasses
org.apache.hcatalog.pig.TestHCatLoaderStorer.testSmallTinyInt
org.apache.hcatalog.security.TestHdfsAuthorizationProvider.testDatabaseOps
org.apache.hcatalog.security.TestHdfsAuthorizationProvider.testShowDatabases
org.apache.hcatalog.security.TestHdfsAuthorizationProvider.testShowTables
org.apache.hcatalog.security.TestHdfsAuthorizationProvider.testTableOps
org.apache.hive.beeline.src.test.TestBeeLineWithArgs.testPositiveScriptFile
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testAddReplaceCols
org.apache.hive.hcatalog.cli.TestSemanticAnalysis.testDescDB
org.apache.hive.hcatalog.fileformats.TestOrcDynamicPartitioned.testHCatDynamicPartitionedTable
org.apache.hive.hcatalog.fileformats.TestOrcDynamicPartitioned.testHCatDynamicPartitionedTableMultipleTask
org.apache.hive.hcatalog.mapreduce.TestHCatDynamicPartitioned.testHCatDynamicPartitionedTable
org.apache.hive.hcatalog.mapreduce.TestHCatDynamicPartitioned.testHCatDynamicPartitionedTableMultipleTask
org.apache.hive.hcatalog.mapreduce.TestHCatExternalDynamicPartitioned.testHCatDynamicPartitionedTable
org.apache.hive.hcatalog.mapreduce.TestHCatExternalDynamicPartitioned.testHCatDynamicPartitionedTableMultipleTask
org.apache.hive.hcatalog.mapreduce.TestHCatInputFormat.testBadRecordHandlingFails
org.apache.hive.hcatalog.mapreduce.TestHCatInputFormat.testBadRecordHandlingPasses
org.apache.hive.hcatalog.pig.TestE2EScenarios.testReadOrcAndRCFromPig
org.apache.hive.hcatalog.pig.TestHCatLoaderStorer.testSmallTinyInt
org.apache.hive.hcatalog.security.TestHdfsAuthorizationProvider.testDatabaseOps
org.apache.hive.hcatalog.security.TestHdfsAuthorizationProvider.testShowDatabases
org.apache.hive.hcatalog.security.TestHdfsAuthorizationProvider.testShowTables
org.apache.hive.hcatalog.security.TestHdfsAuthorizationProvider.testTableOps
org.apache.hive.jdbc.TestJdbcDriver2.testBadURL
org.apache.hive.jdbc.TestJdbcDriver2.testBuiltInUDFCol
org.apache.hive.jdbc.TestJdbcDriver2.testDataTypes
org.apache.hive.jdbc.TestJdbcDriver2.testDataTypes2
org.apache.hive.jdbc.TestJdbcDriver2.testDatabaseMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testDescribeTable
org.apache.hive.jdbc.TestJdbcDriver2.testDriverProperties
org.apache.hive.jdbc.TestJdbcDriver2.testDuplicateColumnNameOrder
org.apache.hive.jdbc.TestJdbcDriver2.testErrorDiag
org.apache.hive.jdbc.TestJdbcDriver2.testErrorMessages
org.apache.hive.jdbc.TestJdbcDriver2.testExecutePreparedStatement
org.apache.hive.jdbc.TestJdbcDriver2.testExecuteQueryException
org.apache.hive.jdbc.TestJdbcDriver2.testExplainStmt
org.apache.hive.jdbc.TestJdbcDriver2.testExprCol
org.apache.hive.jdbc.TestJdbcDriver2.testImportedKeys
org.apache.hive.jdbc.TestJdbcDriver2.testInvalidURL
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetCatalogs
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetClassicTableTypes
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetColumns
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetColumnsMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetHiveTableTypes
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetSchemas
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTableTypes
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTables
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTablesClassic
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTablesHive
org.apache.hive.jdbc.TestJdbcDriver2.testNullResultSet
org.apache.hive.jdbc.TestJdbcDriver2.testNullType
org.apache.hive.jdbc.TestJdbcDriver2.testOutOfBoundCols
org.apache.hive.jdbc.TestJdbcDriver2.testPostClose
org.apache.hive.jdbc.TestJdbcDriver2.testPrepareStatement
org.apache.hive.jdbc.TestJdbcDriver2.testPrimaryKeys
org.apache.hive.jdbc.TestJdbcDriver2.testProcCols
org.apache.hive.jdbc.TestJdbcDriver2.testProccedures
org.apache.hive.jdbc.TestJdbcDriver2.testResultSetMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAll
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllFetchSize
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllMaxRows
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllPartioned
org.apache.hive.jdbc.TestJdbcDriver2.testSetCommand
org.apache.hive.jdbc.TestJdbcDriver2.testShowTables
org.apache.hive.service.cli.TestEmbeddedThriftCLIService.testExecuteStatement
org.apache.hive.service.cli.TestEmbeddedThriftCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/828/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/828/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/828/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/828/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 174 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13772562" author="kamrul" created="Fri, 20 Sep 2013 01:43:43 +0000"  >&lt;p&gt;Uploading the previous patch. trunk had an issue in lat pre-commit build.&lt;/p&gt;</comment>
                            <comment id="13772844" author="hiveqa" created="Fri, 20 Sep 2013 07:26:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12604184/HIVE-4732.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12604184/HIVE-4732.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 3128 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/836/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/836/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/836/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/836/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13773898" author="ashutoshc" created="Sat, 21 Sep 2013 20:36:45 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Mohammad!&lt;/p&gt;</comment>
                            <comment id="13773949" author="hudson" created="Sun, 22 Sep 2013 01:46:40 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #110 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/110/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/110/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4732&quot; title=&quot;Reduce or eliminate the expensive Schema equals() check for AvroSerde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4732&quot;&gt;&lt;del&gt;HIVE-4732&lt;/del&gt;&lt;/a&gt; : Reduce or eliminate the expensive Schema equals() check for AvroSerde (Mohammad Kamrul Islam via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1525290&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1525290&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroGenericRecordReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroGenericRecordWritable.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestGenericAvroRecordWritable.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestSchemaReEncoder.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/Utils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13773959" author="hudson" created="Sun, 22 Sep 2013 03:27:00 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop1-ptest #178 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/178/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/178/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4732&quot; title=&quot;Reduce or eliminate the expensive Schema equals() check for AvroSerde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4732&quot;&gt;&lt;del&gt;HIVE-4732&lt;/del&gt;&lt;/a&gt; : Reduce or eliminate the expensive Schema equals() check for AvroSerde (Mohammad Kamrul Islam via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1525290&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1525290&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroGenericRecordReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroGenericRecordWritable.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestGenericAvroRecordWritable.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestSchemaReEncoder.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/Utils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13773964" author="hudson" created="Sun, 22 Sep 2013 03:43:00 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #449 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/449/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/449/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4732&quot; title=&quot;Reduce or eliminate the expensive Schema equals() check for AvroSerde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4732&quot;&gt;&lt;del&gt;HIVE-4732&lt;/del&gt;&lt;/a&gt; : Reduce or eliminate the expensive Schema equals() check for AvroSerde (Mohammad Kamrul Islam via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1525290&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1525290&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroGenericRecordReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroGenericRecordWritable.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestGenericAvroRecordWritable.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestSchemaReEncoder.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/Utils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13773995" author="hudson" created="Sun, 22 Sep 2013 09:43:24 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2350 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2350/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2350/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4732&quot; title=&quot;Reduce or eliminate the expensive Schema equals() check for AvroSerde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4732&quot;&gt;&lt;del&gt;HIVE-4732&lt;/del&gt;&lt;/a&gt; : Reduce or eliminate the expensive Schema equals() check for AvroSerde (Mohammad Kamrul Islam via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1525290&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1525290&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroGenericRecordReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroGenericRecordWritable.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestGenericAvroRecordWritable.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestSchemaReEncoder.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/Utils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12587728" name="HIVE-4732.1.patch" size="1059" author="mwagner" created="Thu, 13 Jun 2013 23:24:44 +0000"/>
                            <attachment id="12603120" name="HIVE-4732.4.patch" size="17016" author="kamrul" created="Fri, 13 Sep 2013 21:53:32 +0000"/>
                            <attachment id="12603500" name="HIVE-4732.5.patch" size="18842" author="kamrul" created="Tue, 17 Sep 2013 01:07:27 +0000"/>
                            <attachment id="12604084" name="HIVE-4732.6.patch" size="18681" author="kamrul" created="Thu, 19 Sep 2013 18:31:41 +0000"/>
                            <attachment id="12604184" name="HIVE-4732.7.patch" size="18681" author="kamrul" created="Fri, 20 Sep 2013 01:43:43 +0000"/>
                            <attachment id="12591925" name="HIVE-4732.v1.patch" size="15950" author="kamrul" created="Thu, 11 Jul 2013 22:33:14 +0000"/>
                            <attachment id="12603116" name="HIVE-4732.v4.patch" size="17016" author="kamrul" created="Fri, 13 Sep 2013 21:46:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Jun 2013 05:52:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333085</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lgk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333413</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4733] HiveLockObjectData is not compared properly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4733</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ret = ret &amp;amp;&amp;amp; (clientIp == null) ? target.getClientIp() == null :
          clientIp.equals(target.getClientIp());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;seemed intended to be&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ret = ret &amp;amp;&amp;amp; (clientIp == null ? target.getClientIp() == null :
          clientIp.equals(target.getClientIp()));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12652780">HIVE-4733</key>
            <summary>HiveLockObjectData is not compared properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jun 2013 01:03:56 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:47 +0000</updated>
                            <resolved>Mon, 8 Jul 2013 03:48:56 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Locking</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13682982" author="phabricator@reviews.facebook.net" created="Fri, 14 Jun 2013 01:11:21 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; HiveLockObjectData is not compared properly&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; HiveLockObjectData is not compared properly&lt;/p&gt;

&lt;p&gt;ret = ret &amp;amp;&amp;amp; (clientIp == null) ? target.getClientIp() == null :&lt;br/&gt;
          clientIp.equals(target.getClientIp());&lt;/p&gt;

&lt;p&gt;seemed intended to be&lt;/p&gt;

&lt;p&gt;ret = ret &amp;amp;&amp;amp; (clientIp == null ? target.getClientIp() == null :&lt;br/&gt;
          clientIp.equals(target.getClientIp()));&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11277&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11277&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/26811/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/26811/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13684964" author="phabricator@reviews.facebook.net" created="Mon, 17 Jun 2013 04:39:20 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; HiveLockObjectData is not compared properly&quot;.&lt;/p&gt;

&lt;p&gt;  Fix typo&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11277&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11277&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11277?vs=34701&amp;amp;id=34803#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11277?vs=34701&amp;amp;id=34803#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13689342" author="phabricator@reviews.facebook.net" created="Thu, 20 Jun 2013 15:42:20 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; HiveLockObjectData is not compared properly&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11277&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11277&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;/p&gt;</comment>
                            <comment id="13689354" author="phabricator@reviews.facebook.net" created="Thu, 20 Jun 2013 15:52:20 +0000"  >&lt;p&gt;brock has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; HiveLockObjectData is not compared properly&quot;.&lt;/p&gt;

&lt;p&gt;  Hi Navis,&lt;/p&gt;

&lt;p&gt;  Great catch on the ordering issue!  I do have one minor question about the change to ZooKeeperHiveLockManager.  I am not expert there so I might be totally off base. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;  Brock&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java:448 Ignoring this exception I am less sure about.  Too be sure I am no expert on this class! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  But I read this method as:&lt;/p&gt;

&lt;p&gt;      delete mylock&lt;br/&gt;
      if not parent.hasChildren():&lt;br/&gt;
        delete parent&lt;/p&gt;

&lt;p&gt;  Is that your reading?  If so, I wonder if we should let this exception be thrown because it could be an indication of correctness issues?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11277&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11277&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13689516" author="phabricator@reviews.facebook.net" created="Thu, 20 Jun 2013 18:52:23 +0000"  >&lt;p&gt;brock has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; HiveLockObjectData is not compared properly&quot;.&lt;/p&gt;

&lt;p&gt;  One comment about a new exception I saw.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java:456 Looks like we still have an issue with getChildren(). I am able to get get the following exception on trunk.&lt;/p&gt;


&lt;p&gt;      2013-06-20 13:42:05,313 ERROR ZooKeeperHiveLockManager pool-1-thread-17 (ZooKeeperHiveLockManager.java:unlockPrimitive(465)) - Failed to release ZooKeeper lock:&lt;br/&gt;
  org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /hive_zookeeper_namespace/default&lt;br/&gt;
          at org.apache.zookeeper.KeeperException.create(KeeperException.java:111)&lt;br/&gt;
          at org.apache.zookeeper.KeeperException.create(KeeperException.java:51)&lt;br/&gt;
          at org.apache.zookeeper.ZooKeeper.getChildren(ZooKeeper.java:1448)&lt;br/&gt;
          at org.apache.zookeeper.ZooKeeper.getChildren(ZooKeeper.java:1476)&lt;br/&gt;
          at org.apache.hadoop.hive.ql.lockmgr.zookeeper.ZooKeeperHiveLockManager.unlockPrimitive(ZooKeeperHiveLockManager.java:455)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11277&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11277&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13691668" author="phabricator@reviews.facebook.net" created="Mon, 24 Jun 2013 02:21:21 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; HiveLockObjectData is not compared properly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java:448 It seemed that this fix is merged with other one which was in progress. I&apos;m also not expert on this class and even haven&apos;t read intensively. Can I ask your opinion? Should we return here leaving some log messages?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11277&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11277&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13692021" author="phabricator@reviews.facebook.net" created="Mon, 24 Jun 2013 14:27:20 +0000"  >&lt;p&gt;brock has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; HiveLockObjectData is not compared properly&quot;.&lt;/p&gt;

&lt;p&gt;  Hi Navis,&lt;/p&gt;

&lt;p&gt;  Once again, thanks for the patch!  I expressed by thoughts in two comments in ZooKeeperHiveLockManager.java.&lt;/p&gt;

&lt;p&gt;  Cheers!&lt;br/&gt;
  Brock&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java:448 Hi,&lt;/p&gt;

&lt;p&gt;  I am not a committer so what I say is certainly not binding! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;ve done a decent amount of testing of this code via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4759&quot; title=&quot;Multi-user deployment model has issues with concurrent ddl&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4759&quot;&gt;HIVE-4759&lt;/a&gt; and I haven&apos;t hit the issue where the zLock.getPath() has already been deleted. Therefor my preference would be to leave this specific delete() as is.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java:456 The fix around the parent delete &quot;zkpClient.delete(name)&quot; wasn&apos;t sufficient. We could either do this in this JIRA or in a follow on JIRA but the getChildren() call also needs to go in the try{ } catch(KeeperException.NoNodeException).&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11277&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11277&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13692691" author="phabricator@reviews.facebook.net" created="Tue, 25 Jun 2013 02:19:20 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; HiveLockObjectData is not compared properly&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comments&lt;br/&gt;
  1. rollback try/catch on zk.delete(path)&lt;br/&gt;
  2. include zk.getChildren() into try/catch clause&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11277&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11277&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11277?vs=34803&amp;amp;id=35097#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11277?vs=34803&amp;amp;id=35097#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13692982" author="phabricator@reviews.facebook.net" created="Tue, 25 Jun 2013 12:43:20 +0000"  >&lt;p&gt;brock has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; HiveLockObjectData is not compared properly&quot;.&lt;/p&gt;

&lt;p&gt;  LGTM!&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11277&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11277&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13701752" author="ashutoshc" created="Mon, 8 Jul 2013 03:48:56 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="13701809" author="hudson" created="Mon, 8 Jul 2013 06:21:50 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop1-ptest #44 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/44/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/44/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; : HiveLockObjectData is not compared properly (Navis via Ashutosh Chauhan) (Revision 1500569)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500569&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500569&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13702163" author="hudson" created="Mon, 8 Jul 2013 17:40:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2186 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2186/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2186/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; : HiveLockObjectData is not compared properly (Navis via Ashutosh Chauhan) (Revision 1500569)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500569&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500569&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13702439" author="hudson" created="Mon, 8 Jul 2013 21:20:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #277 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/277/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/277/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; : HiveLockObjectData is not compared properly (Navis via Ashutosh Chauhan) (Revision 1500569)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500569&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500569&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13708725" author="hudson" created="Mon, 15 Jul 2013 17:55:22 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #14 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/14/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/14/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4733&quot; title=&quot;HiveLockObjectData is not compared properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4733&quot;&gt;&lt;del&gt;HIVE-4733&lt;/del&gt;&lt;/a&gt; : HiveLockObjectData is not compared properly (Navis via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500569&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500569&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13796074" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:47 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12653799">HIVE-4761</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587750" name="HIVE-4733.D11277.1.patch" size="2934" author="phabricator@reviews.facebook.net" created="Fri, 14 Jun 2013 01:11:21 +0000"/>
                            <attachment id="12588083" name="HIVE-4733.D11277.2.patch" size="3782" author="phabricator@reviews.facebook.net" created="Mon, 17 Jun 2013 04:39:20 +0000"/>
                            <attachment id="12589537" name="HIVE-4733.D11277.3.patch" size="4491" author="phabricator@reviews.facebook.net" created="Tue, 25 Jun 2013 02:19:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 Jun 2013 01:11:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333103</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lgo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333431</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4734] Use custom ObjectInspectors for AvroSerde</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4734</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, the AvroSerde recursively copies all fields of a record from the GenericRecord to a List row object and provides the standard ObjectInspectors. Performance can be improved by providing ObjectInspectors to the Avro record itself.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652788">HIVE-4734</key>
            <summary>Use custom ObjectInspectors for AvroSerde</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="mwagner">Mark Wagner</assignee>
                                    <reporter username="mwagner">Mark Wagner</reporter>
                        <labels>
                            <label>Avro</label>
                            <label>AvroSerde</label>
                            <label>Performance</label>
                    </labels>
                <created>Fri, 14 Jun 2013 01:58:30 +0000</created>
                <updated>Tue, 12 Sep 2017 00:05:37 +0000</updated>
                                                                            <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13710480" author="mwagner" created="Tue, 16 Jul 2013 23:40:50 +0000"  >&lt;p&gt;First patch. This depends on the work in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3264&quot; title=&quot;Add support for binary dataype to AvroSerde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3264&quot;&gt;&lt;del&gt;HIVE-3264&lt;/del&gt;&lt;/a&gt; for making the Avro Serde use binary.&lt;/p&gt;</comment>
                            <comment id="13721496" author="mwagner" created="Sat, 27 Jul 2013 02:05:18 +0000"  >&lt;p&gt;Updated a few things that were off. Patches are also on RB: &lt;a href=&quot;https://reviews.apache.org/r/12602/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/12602/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13721535" author="hiveqa" created="Sat, 27 Jul 2013 05:44:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594507/HIVE-4734.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594507/HIVE-4734.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/203/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/203/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/203/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/203/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: NonZeroExitCodeException: Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-203/source-prep.txt
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;conf/hive-default.xml.template&apos;
Reverted &apos;common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join13.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join22.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/mapjoin_filter_on_outerjoin.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/join33.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/mapjoin_mapjoin.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_sortmerge_join_9.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/multi_join_union.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/correlationoptimizer3.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_sortmerge_join_11.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join29.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join15.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join24.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join10.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join33.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/union34.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/mapjoin_subquery2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/mapjoin_subquery.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join26.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/mapjoin_test_outer.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join12.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/join28.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join21.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/join32.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/join_star.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/correlationoptimizer7.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_sortmerge_join_10.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join28.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join23.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join32.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/correlationoptimizer4.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join0.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_sortmerge_join_12.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join16.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join11.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join20.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/multiMapJoin1.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/correlationoptimizer6.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/auto_join2.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/correlationoptimizer1.q.out&apos;
Reverted &apos;ql/src/test/queries/clientpositive/correlationoptimizer4.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/correlationoptimizer6.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/union34.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/multiMapJoin1.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/auto_join33.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/correlationoptimizer1.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/correlationoptimizer3.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/correlationoptimizer5.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/correlationoptimizer7.q&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinTaskDispatcher.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/OperatorUtils.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf build hcatalog/build hcatalog/core/build hcatalog/storage-handlers/hbase/build hcatalog/server-extensions/build hcatalog/webhcat/svr/build hcatalog/webhcat/java-client/build hcatalog/hcatalog-pig-adapter/build common/src/gen ql/src/test/results/clientpositive/multiMapJoin2.q.out ql/src/test/queries/clientpositive/multiMapJoin2.q
+ svn update
U    hcatalog/webhcat/svr/src/main/java/org/apache/hcatalog/templeton/tool/TempletonControllerJob.java
A    hcatalog/src/test/e2e/templeton/tests/jobsubmission2.conf
U    hcatalog/src/test/e2e/templeton/README.txt
U    hcatalog/src/test/e2e/templeton/build.xml
U    hcatalog/src/test/e2e/templeton/drivers/TestDriverCurl.pm

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1507577.

Updated to revision 1507577.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0 to p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13722635" author="jghoman" created="Mon, 29 Jul 2013 16:59:41 +0000"  >&lt;p&gt;+1.  Looks good.&lt;/p&gt;</comment>
                            <comment id="13722637" author="jghoman" created="Mon, 29 Jul 2013 17:00:44 +0000"  >&lt;p&gt;Sorry, above comment was for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3264&quot; title=&quot;Add support for binary dataype to AvroSerde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3264&quot;&gt;&lt;del&gt;HIVE-3264&lt;/del&gt;&lt;/a&gt;.  Still reviewing this one.&lt;/p&gt;</comment>
                            <comment id="13722675" author="jghoman" created="Mon, 29 Jul 2013 17:25:39 +0000"  >&lt;p&gt;Added comments into the rb.&lt;/p&gt;</comment>
                            <comment id="13722967" author="mwagner" created="Mon, 29 Jul 2013 21:03:13 +0000"  >&lt;p&gt;Responded to comments on RB, and made needed changes.&lt;/p&gt;</comment>
                            <comment id="13723422" author="hiveqa" created="Tue, 30 Jul 2013 05:28:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594789/HIVE-4734.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594789/HIVE-4734.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/228/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/228/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/228/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/228/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: NonZeroExitCodeException: Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-228/source-prep.txt
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;bin/ext/debug.sh&apos;
Reverted &apos;bin/hive&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf build hcatalog/build hcatalog/core/build hcatalog/storage-handlers/hbase/build hcatalog/server-extensions/build hcatalog/webhcat/svr/build hcatalog/webhcat/java-client/build hcatalog/hcatalog-pig-adapter/build common/src/gen
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1508304.

At revision 1508304.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0 to p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13749836" author="jghoman" created="Mon, 26 Aug 2013 05:12:48 +0000"  >&lt;p&gt;Reviewed last patch on RB.  Everything looks good except for a change in the handling of &lt;span class=&quot;error&quot;&gt;&amp;#91;T1,Tn,NULL&amp;#93;&lt;/span&gt; types.&lt;/p&gt;</comment>
                            <comment id="13784757" author="mwagner" created="Thu, 3 Oct 2013 02:39:57 +0000"  >&lt;p&gt;I&apos;ve rebased and added a test for the &lt;span class=&quot;error&quot;&gt;&amp;#91;null, T1, T2&amp;#93;&lt;/span&gt; case. I updated the RB and am uploading here for precommit testing.&lt;/p&gt;</comment>
                            <comment id="13785482" author="hiveqa" created="Thu, 3 Oct 2013 19:54:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12606510/HIVE-4734.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12606510/HIVE-4734.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4047 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_serde
org.apache.hadoop.hive.serde2.avro.TestAvroDeserializer.verifyCaching
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1013/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1013/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1013/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1013/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13785514" author="mwagner" created="Thu, 3 Oct 2013 20:44:20 +0000"  >&lt;p&gt;I missed a couple things in the rebase. I&apos;ve resolved those and the failing tests now pass. &lt;/p&gt;</comment>
                            <comment id="13787863" author="thejas" created="Mon, 7 Oct 2013 02:24:37 +0000"  >&lt;p&gt;Preparing for 0.12 release. Removing fix version of 0.12 for those that are not in 0.12 branch.&lt;/p&gt;</comment>
                            <comment id="14027319" author="cwsteinbach" created="Wed, 11 Jun 2014 01:30:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mwagner&quot; class=&quot;user-hover&quot; rel=&quot;mwagner&quot;&gt;Mark Wagner&lt;/a&gt;: I&apos;d like to get this committed. Would you mind rebasing the patch against trunk? Thanks.&lt;/p&gt;</comment>
                            <comment id="14618187" author="rdsr" created="Wed, 8 Jul 2015 08:07:59 +0000"  >&lt;p&gt;I found some minor issues with the patch. Adding notes below.&lt;/p&gt;

&lt;p&gt;In class AvroObjectInspectorGenerator.java, while constructing an &lt;tt&gt;AvroMapObjectInspector&lt;/tt&gt; we are using  a &lt;tt&gt;JavaStringObjectInspector&lt;/tt&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; MAP:
        MapTypeInfo mti = (MapTypeInfo)ti;
        result = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AvroMapObjectInspector(
            PrimitiveObjectInspectorFactory
            .getPrimitiveJavaObjectInspector(PrimitiveObjectInspector.PrimitiveCategory.STRING),
            createObjectInspectorWorker(mti.getMapValueTypeInfo(), subSchema.getValueType()));
        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
   
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Whereas Avro string could be of type UTF8 or java.lang.String . Default being UTF8.&lt;/p&gt;

&lt;p&gt;Also, &lt;tt&gt;AvroStringObjectInspector&lt;/tt&gt; assumes that avro strings are always &lt;tt&gt;Utf8&lt;/tt&gt; which may not be the case. Avro strings can either be UFT-8 or String type.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;AvroMapObjectInspector&lt;/tt&gt; also assumes that Map keys will always be &lt;tt&gt;String&lt;/tt&gt; s. Further the below methods in MapObjectInspector  assume the second argument (&apos;key&apos;) passed to them is of type &lt;tt&gt;String&lt;/tt&gt; whereas it could be either &lt;tt&gt;utf8&lt;/tt&gt; or &lt;tt&gt;String&lt;/tt&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getMapValueElement(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; data, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; key) {
    Utf8 utf8key = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Utf8((&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) key);
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.getMapValueElement(data, utf8key);
  }

  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; put(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; map, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; key, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; value) {
    Utf8 utf8key = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Utf8((&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) key);
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.put(map, utf8key, value);
  }

  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; remove(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; map, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; key) {
    Utf8 utf8key = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Utf8((&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) key);
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.remove(map, utf8key);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14680395" author="erwaman" created="Mon, 10 Aug 2015 17:20:19 +0000"  >&lt;p&gt;Any updates on this patch? I&apos;d love to see this committed, too! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12599153">HIVE-3264</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12592669" name="HIVE-4734.1.patch" size="81612" author="mwagner" created="Tue, 16 Jul 2013 23:40:50 +0000"/>
                            <attachment id="12594507" name="HIVE-4734.2.patch" size="93641" author="mwagner" created="Sat, 27 Jul 2013 02:05:18 +0000"/>
                            <attachment id="12594789" name="HIVE-4734.3.patch" size="92492" author="mwagner" created="Mon, 29 Jul 2013 21:03:13 +0000"/>
                            <attachment id="12606510" name="HIVE-4734.4.patch" size="118074" author="mwagner" created="Thu, 3 Oct 2013 02:39:57 +0000"/>
                            <attachment id="12606636" name="HIVE-4734.5.patch" size="126477" author="mwagner" created="Thu, 3 Oct 2013 20:44:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Jul 2013 05:44:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lgpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4735] table&apos;s lifecycle should be controlled in Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4735</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Example as:&lt;br/&gt;
&amp;#8211; create table src&#65292;and set it&apos;s lifecycle as 100 days&lt;br/&gt;
&amp;#8211; alter 100 days the table will be dropped automatically&lt;br/&gt;
CREATE TABLE src (key string, value string) TBLPROPERTIES (&apos;LIFECYCLE&apos;=&apos;100d&apos;);&lt;/p&gt;

&lt;p&gt;&amp;#8211; alter table src and reset it&apos;s lifecycle as 50 day&lt;br/&gt;
&amp;#8211; alter 50 days the table will be dropped automatically&lt;br/&gt;
ALTER TABLE src SET TBLPROPERTIES(&apos;LIFECYCLE&apos;=&apos;50d&apos;);&lt;/p&gt;

&lt;p&gt;&amp;#8211; alter specific table partition&apos;s lifecycle&lt;br/&gt;
&amp;#8211; we have DBPROPERTIES and TBLPROPERTIES , but seems we do not have &apos;PRTPROPERTIES&apos;&lt;br/&gt;
ALTER TABLE srcpart PARTITION (dt=&apos;20130614&apos;,hr=&apos;10&apos;) SET PRTPROPERTIES(&apos;LIFECYCLE&apos;=&apos;50d&apos;);&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652790">HIVE-4735</key>
            <summary>table&apos;s lifecycle should be controlled in Hive</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="caofangkun">caofangkun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jun 2013 02:28:43 +0000</created>
                <updated>Fri, 14 Jun 2013 06:42:45 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13683139" author="cwsteinbach" created="Fri, 14 Jun 2013 06:27:41 +0000"  >&lt;p&gt;I think all of the metadata infrastructure that is required to support this use case is already available in the form of the TBLPROPERTIES mechanism, e.g:&lt;/p&gt;

&lt;p&gt;ALTER TABLE src SET TBLPROPERTIES(&apos;LIFECYCLE&apos;=&apos;50d&apos;);&lt;/p&gt;</comment>
                            <comment id="13683147" author="caofangkun" created="Fri, 14 Jun 2013 06:42:45 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; I&apos;m think you are indeed right. I&apos;ve changed the description. &lt;br/&gt;
thanks &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 Jun 2013 06:27:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333113</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lgqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4736] Float aggregate of single value loses precission</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4736</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I am seeing differences that are small but greater than expected in the output of TPC-H query 1. Thanks to Jitendra&#8217;s patch, the negative result error is gone. However, I am seeing that the results for &lt;/p&gt;

&lt;p&gt;Sum(l_extendedprice * ( 1 - l_discount ))&lt;br/&gt;
Sum(l_extendedprice * ( 1 - l_discount ) * ( 1 + l_tax ))&lt;/p&gt;

&lt;p&gt;Differ in the low-order 8 or so digits compared with text.  I know the input is float so it should have all zeros in the low digits when cast to double. I would not expect the answers to match exactly but I would expect errors in the last few digits, not the last 8. I could be wrong, but I think this may be worth investigating. Any ideas?&lt;/p&gt;

&lt;p&gt;I also noticed this, where I ran the query against a single row worth of input (order 1, line 1):&lt;/p&gt;

&lt;p&gt;SELECT l_returnflag,&lt;br/&gt;
       l_linestatus,&lt;br/&gt;
       Sum(l_quantity)                                           AS sum_qty,&lt;br/&gt;
       Sum(l_extendedprice)                                      AS sum_base_price,&lt;br/&gt;
       Sum(l_extendedprice * ( 1 - l_discount ))                 AS sum_disc_price,&lt;br/&gt;
       Sum(l_extendedprice * ( 1 - l_discount ) * ( 1 + l_tax )) AS sum_charge,&lt;br/&gt;
       Avg(l_quantity)                                           AS avg_qty,&lt;br/&gt;
       Avg(l_extendedprice)                                      AS avg_price,&lt;br/&gt;
       Avg(l_discount)                                           AS avg_disc,&lt;br/&gt;
       Count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;                                                  AS count_order&lt;br/&gt;
FROM   lineitem&lt;br/&gt;
WHERE  l_shipdate &amp;lt;= &apos;1998-09-19&apos;&lt;br/&gt;
       and l_orderkey = 1 and l_linenumber = 1 &lt;br/&gt;
GROUP  BY l_returnflag,&lt;br/&gt;
          l_linestatus&lt;br/&gt;
ORDER  BY l_returnflag,&lt;br/&gt;
          l_linestatus; &lt;/p&gt;

&lt;p&gt;input row&lt;br/&gt;
1       155190  7706    1       17.0    21168.23        0.04    0.02    N       O       1996-03-13  1996-02-12  1996-03-22      DELIVER IN PERSON   TRUCK   egular courts above the&lt;/p&gt;


&lt;p&gt;Result&lt;/p&gt;

&lt;p&gt;V (orc)&lt;br/&gt;
N       O       17.0    21168.23046875  20321.501268925873      20727.931285219973      17.0    21168.23046875  0.03999999910593033 1&lt;/p&gt;

&lt;p&gt;NV (text)&lt;br/&gt;
N       O       17.0    21168.23046875  20321.5                 20727.9296875           17.0    21168.23046875  0.03999999910593033     1&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652818">HIVE-4736</key>
            <summary>Float aggregate of single value loses precission</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="rusanu">Remus Rusanu</assignee>
                                    <reporter username="rusanu">Remus Rusanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jun 2013 06:50:22 +0000</created>
                <updated>Fri, 1 Nov 2013 23:48:54 +0000</updated>
                                            <version>vectorization-branch</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lgwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4737] Allow access to MapredContext</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4737</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In order to tackle &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1016&quot; title=&quot;Ability to access DistributedCache from UDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1016&quot;&gt;&lt;del&gt;HIVE-1016&lt;/del&gt;&lt;/a&gt;, I have been pointed to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3628&quot; title=&quot;Provide a way to use counters in Hive through UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3628&quot;&gt;&lt;del&gt;HIVE-3628&lt;/del&gt;&lt;/a&gt;. But MapredContext.get() is package protected.&lt;/p&gt;

&lt;p&gt;Here is my current work around, a hack which I put in my code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.hadoop.hive.ql.exec;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MapredContextAccessor {

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; MapredContext get() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; MapredContext.get();
    }

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12652909">HIVE-4737</key>
            <summary>Allow access to MapredContext</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10">Implemented</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hibou">Nicolas Lalev&#233;e</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jun 2013 16:11:07 +0000</created>
                <updated>Mon, 25 Nov 2013 06:09:15 +0000</updated>
                            <resolved>Mon, 25 Nov 2013 06:09:15 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13684561" author="navis" created="Sun, 16 Jun 2013 03:40:14 +0000"  >&lt;p&gt;If it would be exposed to client, how about make a interface?&lt;/p&gt;</comment>
                            <comment id="13831197" author="navis" created="Mon, 25 Nov 2013 06:09:15 +0000"  >&lt;p&gt;It&apos;s exposed from hive-0.12.0. So I closing this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 16 Jun 2013 03:40:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lhgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4738] Compiler should captures addional read/write entities for non-select statements </title>
                <link>https://issues.apache.org/jira/browse/HIVE-4738</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The describe table statement should include the source table in the read entity.&lt;/li&gt;
	&lt;li&gt;Create view should include tables referred in the view in the read entity.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12652938">HIVE-4738</key>
            <summary>Compiler should captures addional read/write entities for non-select statements </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="prasadm">Prasad Mujumdar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jun 2013 18:27:17 +0000</created>
                <updated>Mon, 7 Oct 2013 02:24:39 +0000</updated>
                                            <version>0.11.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13683641" author="prasadm" created="Fri, 14 Jun 2013 18:31:16 +0000"  >&lt;p&gt;This patch is dependant on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4390&quot; title=&quot;Enable capturing input URI entities for DML statements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4390&quot;&gt;HIVE-4390&lt;/a&gt; patch&lt;/p&gt;</comment>
                            <comment id="13787868" author="thejas" created="Mon, 7 Oct 2013 02:24:39 +0000"  >&lt;p&gt;Preparing for 0.12 release. Removing fix version of 0.12 for those that are not in 0.12 branch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12661053">HIVE-4973</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12643836">HIVE-4390</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587856" name="HIVE-4738-1.patch" size="17225" author="prasadm" created="Fri, 14 Jun 2013 18:30:19 +0000"/>
                            <attachment id="12587917" name="HIVE-4738-2.patch" size="23073" author="prasadm" created="Fri, 14 Jun 2013 22:51:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Oct 2013 02:24:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lhnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4739] Create public parallel test environment</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4739</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See discussion here &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hive-dev/201306.mbox/%3CCAENxBwx%3Dc4VFLhR1zXZ3uWbP2BUFZc%2BZuiqF4SZY5zUZ9%2BUcxQ%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hive-dev/201306.mbox/%3CCAENxBwx%3Dc4VFLhR1zXZ3uWbP2BUFZc%2BZuiqF4SZY5zUZ9%2BUcxQ%40mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12653094">HIVE-4739</key>
            <summary>Create public parallel test environment</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Sun, 16 Jun 2013 22:10:42 +0000</created>
                <updated>Mon, 24 Mar 2014 20:37:28 +0000</updated>
                            <resolved>Sat, 20 Jul 2013 13:08:59 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13684820" author="brocknoland" created="Sun, 16 Jun 2013 22:19:34 +0000"  >&lt;p&gt;As I see it there are three phases:&lt;/p&gt;

&lt;p&gt;1) Executing the post-commit tests on the parallel infrastructure&lt;br/&gt;
2) Providing a manual patch test build&lt;br/&gt;
3) Implementing automated patch testing&lt;/p&gt;

&lt;p&gt;I am interesting this work.&lt;/p&gt;</comment>
                            <comment id="13685670" author="brocknoland" created="Mon, 17 Jun 2013 16:09:30 +0000"  >&lt;p&gt;My employer, Cloudera, has agreed to sponsor a public/open test cluster for the Hive project. The current thought is to run the ptest framework using Apache JClouds (incubating) to spin up &quot;spot instances&quot; via Jenkins for each run. I will be working through setting this up. Just to be clear, once setup it will be available for Hive community use.&lt;/p&gt;

&lt;p&gt;If anyone else is interested in helping to sponsor this project, just comment here and we can work out the details.&lt;/p&gt;</comment>
                            <comment id="13685989" author="appodictic" created="Mon, 17 Jun 2013 21:09:48 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;My dream is to only have to do code reviews, that testing patches would be completely automated. It will take a lot of burden off the committers and make the project more fair and a lower barrier for entry for newer people.&lt;/p&gt;

&lt;p&gt;I am interested to help sponsor. &lt;/p&gt;

&lt;p&gt;There is an important point here. By OPEN the platform has to be OPEN. It can not be open like fabricator/arc, when that process is broken there is no access and no path for support. It needs to be a service running somewhere that any hive committer can access and administer. &lt;/p&gt;
</comment>
                            <comment id="13686062" author="brocknoland" created="Mon, 17 Jun 2013 21:53:57 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;We have the same dream! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Regarding sponsorship, I am working on a POC with spot instances. If spot instances work there are two items of note:&lt;/p&gt;

&lt;p&gt;1) Sponsorship will be more difficult since they&apos;ll be created on demand. I think we&apos;d have to managed multiple EC2 Api keys.&lt;br/&gt;
2) It looks like it will be very, very cheap.&lt;/p&gt;

&lt;p&gt;Regarding &quot;OPEN&quot; - I agree. If the instances are created on-demand, the only item I think we&apos;ll need to figure out is how to store the EC2 API key. I am not too versed on EC2 API keys but I am hoping we can create a key for this specific application.&lt;/p&gt;

&lt;p&gt;Brock&lt;/p&gt;</comment>
                            <comment id="13691189" author="appodictic" created="Sat, 22 Jun 2013 17:01:58 +0000"  >&lt;p&gt;Is the concept that we can simply send an SVN URL, and a patch URL to a &quot;service&quot; and it runs svn co ; ant test ; ant testreport?&lt;/p&gt;</comment>
                            <comment id="13692992" author="brocknoland" created="Tue, 25 Jun 2013 12:57:31 +0000"  >&lt;p&gt;I hope to use Jenkins parameterized builds in terms of the end user interface. Basically you&apos;d go the &quot;Apache-Hive-Trunk-Patch-Build&quot; and then paste in the URL of the patch or upload the patch file. In order to implement this I think we&apos;d need some kind of service simply to keep the EC2 API key semi-private. That is putting it on the Jenkins build slaves probably isn&apos;t the best idea.&lt;/p&gt;

&lt;p&gt;Additionally if we were going to allow contributors to test patches this way a service might be required...&lt;/p&gt;

&lt;p&gt;Brock&lt;/p&gt;</comment>
                            <comment id="13693614" author="appodictic" created="Wed, 26 Jun 2013 03:58:14 +0000"  >&lt;p&gt;I also like the way the Hadoop does it. As an issue is marked &apos;patch available&apos; it kicks in. Then it reply&apos;s back the jira with the test result. Not sure if that is done by an external system querying jira or some type of jira hook.&lt;/p&gt;</comment>
                            <comment id="13701639" author="brocknoland" created="Sun, 7 Jul 2013 19:21:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;Edward Capriolo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OK I think this is ready. To summarize&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;A dedicated ec2 medium instance runs a webservice which is used to kick of the build&lt;/li&gt;
	&lt;li&gt;The build starts up 8 ec2 spot instances and then runs the build (these stick around for a half hour waiting for another build)&lt;/li&gt;
	&lt;li&gt;It seems to work well, see more details here: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4675?focusedCommentId=13701636&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13701636&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-4675?focusedCommentId=13701636&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13701636&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;This is extremely cheap and handling multiple ec2 keys would be complex. Therefore let&apos;s just charge this to my employer for now and then later we can add multiple ec2 key support to ptest2.&lt;/li&gt;
	&lt;li&gt;Once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4815&quot; title=&quot;Create cloud hosting option for ptest2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4815&quot;&gt;&lt;del&gt;HIVE-4815&lt;/del&gt;&lt;/a&gt; is resolved I can create the automated &quot;patch available&quot; testing&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I am ready to create accounts for hive committers that are interested. In order to protect the ec2 key, the account will not have full sudo access. However, the account will be able to:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Stop/Start/Restart the ptest2 service&lt;/li&gt;
	&lt;li&gt;Push the latest changes to ptest2 from trunk&lt;/li&gt;
	&lt;li&gt;Look at all logs&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;How does this sound?&lt;/p&gt;</comment>
                            <comment id="13701645" author="brocknoland" created="Sun, 7 Jul 2013 19:38:06 +0000"  >&lt;p&gt;Also in case it wasn&apos;t clear above, my plan would be to create individual accounts for hive committers interested in working with this infrastructure.&lt;/p&gt;</comment>
                            <comment id="13711217" author="brocknoland" created="Wed, 17 Jul 2013 16:10:06 +0000"  >&lt;p&gt;Hey guys, &lt;/p&gt;

&lt;p&gt;This is pretty much ready to go. Any committers that would like admin access to this infrastructure should send me there uid and public ssh key. This can be shared by encrypting a message (&lt;a href=&quot;http://pgp.mit.edu:11371/pks/lookup?op=get&amp;amp;search=0x9DC27AFB8E991CC5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pgp.mit.edu:11371/pks/lookup?op=get&amp;amp;search=0x9DC27AFB8E991CC5&lt;/a&gt;) with pgp or sending me an email with a service such as &lt;a href=&quot;https://www.sendinc.com/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://www.sendinc.com/&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Brock&lt;/p&gt;</comment>
                            <comment id="13711232" author="brocknoland" created="Wed, 17 Jul 2013 16:16:35 +0000"  >&lt;p&gt;uid should be username above.&lt;/p&gt;</comment>
                            <comment id="13713909" author="brocknoland" created="Fri, 19 Jul 2013 18:29:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; or any other committer did you guys want admin accounts on this testing infrastructure?  If so just shoot me an email with the username you&apos;d like and I&apos;ll create an account and password for you.&lt;/p&gt;</comment>
                            <comment id="13713915" author="ashutoshc" created="Fri, 19 Jul 2013 18:34:14 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; for setting this up. I will shoot you an email.&lt;/p&gt;</comment>
                            <comment id="13714360" author="cwsteinbach" created="Sat, 20 Jul 2013 07:03:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Ditto. Thanks!&lt;/p&gt;</comment>
                            <comment id="13714421" author="brocknoland" created="Sat, 20 Jul 2013 13:08:59 +0000"  >&lt;p&gt;I am going to mark this resolved. Two PMC members have accounts and a third has expressed interest.  Thanks guys!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12657909">HIVE-4862</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12656127">HIVE-4815</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12651365">HIVE-4675</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Jun 2013 21:09:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lilz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333745</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4740] HIVE-2379 is missing hbase.jar itself</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4740</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I should test that before addressing comments. Sorry.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12653143">HIVE-4740</key>
            <summary>HIVE-2379 is missing hbase.jar itself</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jun 2013 07:32:26 +0000</created>
                <updated>Tue, 15 Oct 2013 23:28:50 +0000</updated>
                            <resolved>Sun, 30 Jun 2013 05:23:38 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13685057" author="phabricator@reviews.facebook.net" created="Mon, 17 Jun 2013 07:35:20 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4740&quot; title=&quot;HIVE-2379 is missing hbase.jar itself&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4740&quot;&gt;&lt;del&gt;HIVE-4740&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2379&quot; title=&quot;Hive/HBase integration could be improved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2379&quot;&gt;&lt;del&gt;HIVE-2379&lt;/del&gt;&lt;/a&gt; is missing hbase.jar itself&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4740&quot; title=&quot;HIVE-2379 is missing hbase.jar itself&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4740&quot;&gt;&lt;del&gt;HIVE-4740&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2379&quot; title=&quot;Hive/HBase integration could be improved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2379&quot;&gt;&lt;del&gt;HIVE-2379&lt;/del&gt;&lt;/a&gt; is missing hbase.jar itself&lt;/p&gt;

&lt;p&gt;I should test that before addressing comments. Sorry.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11325&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11325&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/26913/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/26913/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13696263" author="ashutoshc" created="Sun, 30 Jun 2013 03:56:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13696275" author="ashutoshc" created="Sun, 30 Jun 2013 05:23:38 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="13696393" author="hudson" created="Sun, 30 Jun 2013 18:32:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2170 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2170/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2170/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4740&quot; title=&quot;HIVE-2379 is missing hbase.jar itself&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4740&quot;&gt;&lt;del&gt;HIVE-4740&lt;/del&gt;&lt;/a&gt; : HIVE2379 is missing hbase.jar itself (Navis via Ashutosh Chauhan) (Revision 1498062)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1498062&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1498062&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13696410" author="hudson" created="Sun, 30 Jun 2013 21:03:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #265 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/265/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/265/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4740&quot; title=&quot;HIVE-2379 is missing hbase.jar itself&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4740&quot;&gt;&lt;del&gt;HIVE-4740&lt;/del&gt;&lt;/a&gt; : HIVE2379 is missing hbase.jar itself (Navis via Ashutosh Chauhan) (Revision 1498062)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1498062&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1498062&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795811" author="ashutoshc" created="Tue, 15 Oct 2013 23:28:50 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12588103" name="HIVE-4740.D11325.1.patch" size="690" author="phabricator@reviews.facebook.net" created="Mon, 17 Jun 2013 07:35:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Jun 2013 07:35:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333466</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1liwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333794</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4741] Add Hive config API to modify the restrict list</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4741</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveConf supports a restrict list configuration which is a black list of configurations that can be modified through the &apos;set x=y&apos;. This is especially useful for HiveServer2 to restrict clients from overriding some of server configurations.&lt;br/&gt;
Currently the restrict list value can&apos;t be changed after the HiveConf object is instantiated. It would be useful for custom code like Hooks to have a way to be able to update that setting.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12653155">HIVE-4741</key>
            <summary>Add Hive config API to modify the restrict list</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="prasadm">Prasad Mujumdar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jun 2013 08:16:34 +0000</created>
                <updated>Fri, 7 Feb 2014 15:54:33 +0000</updated>
                            <resolved>Tue, 26 Nov 2013 18:24:29 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13685095" author="prasadm" created="Mon, 17 Jun 2013 08:21:46 +0000"  >&lt;p&gt;Review request on &lt;a href=&quot;https://reviews.apache.org/r/11905/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/11905/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13787857" author="thejas" created="Mon, 7 Oct 2013 02:24:35 +0000"  >&lt;p&gt;Preparing for 0.12 release. Removing fix version of 0.12 for those that are not in 0.12 branch.&lt;/p&gt;</comment>
                            <comment id="13794399" author="brocknoland" created="Mon, 14 Oct 2013 19:47:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt;, can you rebase this and submit with a name that works for HiveQA?&lt;/p&gt;</comment>
                            <comment id="13831190" author="navis" created="Mon, 25 Nov 2013 05:53:03 +0000"  >&lt;p&gt;Rebased to trunk&lt;/p&gt;</comment>
                            <comment id="13831381" author="hiveqa" created="Mon, 25 Nov 2013 11:38:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615539/HIVE-4714.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615539/HIVE-4714.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4687 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/433/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/433/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/433/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/433/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615539&lt;/p&gt;</comment>
                            <comment id="13831568" author="brocknoland" created="Mon, 25 Nov 2013 15:46:41 +0000"  >&lt;p&gt;Awesome, thank you Navis!&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13832838" author="brocknoland" created="Tue, 26 Nov 2013 18:24:29 +0000"  >&lt;p&gt;I have committed this to trunk! Thank you Prasad and Navis!&lt;/p&gt;</comment>
                            <comment id="13894371" author="lefty@hortonworks.com" created="Fri, 7 Feb 2014 10:16:42 +0000"  >&lt;p&gt;What user doc does this need?&lt;/p&gt;</comment>
                            <comment id="13894654" author="prasadm" created="Fri, 7 Feb 2014 15:54:33 +0000"  >&lt;p&gt;This particular is not directly exposed to end users via SQL or configuration. It fixes the way this restrict list configuration can be changed programatically from a HiveServer2 session. It&apos;s only useful for custom hooks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12679959">SENTRY-67</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12615539" name="HIVE-4714.2.patch.txt" size="5728" author="navis" created="Mon, 25 Nov 2013 05:53:03 +0000"/>
                            <attachment id="12588112" name="HIVE-4741-1.patch" size="5697" author="prasadm" created="Mon, 17 Jun 2013 08:18:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Oct 2013 02:24:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333478</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lizj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4742] A useless CAST makes Hive fail to create a VIEW based on an UNION</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4742</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I create programmatically a script to create a view which is a union of all kind of event I have. To keep things simple, data are just blindly cast as STRING. It used to work with Hive 0.10, not anymore with 0.11.&lt;/p&gt;

&lt;p&gt;I tried to narrow down the simplest script. It seems that it only occurs if a least a view and an union is involved.&lt;/p&gt;

&lt;p&gt;Here is a failing script:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE TABLE Event1 (d STRING, userid BIGINT, eventData1 STRING);
CREATE TABLE Event2 (d STRING, userid BIGINT, eventData2 STRING);
CREATE VIEW AllEventsTest
  AS SELECT * FROM (
    SELECT &apos;Event1&apos; AS eventType, map(&apos;d&apos;, CAST(`d` AS STRING)) AS eventData FROM Event1
    UNION ALL
    SELECT &apos;Event2&apos; AS eventType, map(&apos;d&apos;, CAST(`d` AS STRING)) AS eventData FROM Event2
) d;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There are warnings in the logs:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;o.a.h.h.q.parse.TypeCheckProcFactory - Invalid type entry TOK_STRING=null
o.a.h.h.q.parse.TypeCheckProcFactory - Invalid type entry TOK_STRING=null
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the error is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FAILED: IllegalArgumentException replace op boundaries of &amp;lt;ReplaceOp@[@46,103:105=&apos;`d`&apos;,&amp;lt;26&amp;gt;,3:52]..[@46,103:105=&apos;`d`&apos;,&amp;lt;26&amp;gt;,3:52]:&quot;`event1`.`d`&quot;&amp;gt; overlap with previous &amp;lt;ReplaceOp@[@44,98:101=&apos;CAST&apos;,&amp;lt;48&amp;gt;,3:47]..[@51,116:116=&apos;)&apos;,&amp;lt;276&amp;gt;,3:65]:&quot;`event1`.`d`&quot;&amp;gt;
10:52:51.024 [scoopMapredScheduler_Worker-9 ] [ERROR] org.apache.hadoop.hive.ql.Driver - FAILED: IllegalArgumentException replace op boundaries of &amp;lt;ReplaceOp@[@46,103:105=&apos;`d`&apos;,&amp;lt;26&amp;gt;,3:52]..[@46,103:105=&apos;`d`&apos;,&amp;lt;26&amp;gt;,3:52]:&quot;`event1`.`d`&quot;&amp;gt; overlap with previous &amp;lt;ReplaceOp@[@44,98:101=&apos;CAST&apos;,&amp;lt;48&amp;gt;,3:47]..[@51,116:116=&apos;)&apos;,&amp;lt;276&amp;gt;,3:65]:&quot;`event1`.`d`&quot;&amp;gt;
java.lang.IllegalArgumentException: replace op boundaries of &amp;lt;ReplaceOp@[@46,103:105=&apos;`d`&apos;,&amp;lt;26&amp;gt;,3:52]..[@46,103:105=&apos;`d`&apos;,&amp;lt;26&amp;gt;,3:52]:&quot;`event1`.`d`&quot;&amp;gt; overlap with previous &amp;lt;ReplaceOp@[@44,98:101=&apos;CAST&apos;,&amp;lt;48&amp;gt;,3:47]..[@51,116:116=&apos;)&apos;,&amp;lt;276&amp;gt;,3:65]:&quot;`event1`.`d`&quot;&amp;gt;
    at org.antlr.runtime.TokenRewriteStream.reduceToSingleOperationPerIndex(TokenRewriteStream.java:504)
    at org.antlr.runtime.TokenRewriteStream.toString(TokenRewriteStream.java:374)
    at org.antlr.runtime.TokenRewriteStream.toString(TokenRewriteStream.java:358)
    at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.saveViewDefinition(SemanticAnalyzer.java:8781)
    at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:8689)
    at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:278)
    at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:433)
    at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)
    at org.apache.hadoop.hive.ql.Driver.run(Driver.java:902)
    at org.apache.hadoop.hive.service.HiveServer$HiveServerHandler.execute(HiveServer.java:198)
    at org.apache.hadoop.hive.jdbc.HiveStatement.executeQuery(HiveStatement.java:192)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here is a working script:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE TABLE Event1 (d STRING, userid BIGINT, eventData1 STRING);
CREATE TABLE Event2 (d STRING, userid BIGINT, eventData2 STRING);
CREATE VIEW AllEventsTest
  AS SELECT * FROM (
    SELECT &apos;Event1&apos; AS eventType, map(&apos;d&apos;, `d`, &apos;userid&apos;, CAST(`userid` AS STRING)) AS eventData FROM Event1
    UNION ALL
    SELECT &apos;Event2&apos; AS eventType, map(&apos;d&apos;, `d`, &apos;userid&apos;, CAST(`userid` AS STRING)) AS eventData FROM Event2
) d;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12653159">HIVE-4742</key>
            <summary>A useless CAST makes Hive fail to create a VIEW based on an UNION</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hibou">Nicolas Lalev&#233;e</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jun 2013 09:02:03 +0000</created>
                <updated>Tue, 3 Dec 2013 19:11:49 +0000</updated>
                            <resolved>Mon, 19 Aug 2013 14:26:04 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13685117" author="caofangkun" created="Mon, 17 Jun 2013 09:18:22 +0000"  >&lt;p&gt;Simplify the query and generate the following SemanticException :&lt;br/&gt;
hive (default)&amp;gt; select CAST(`d` AS STRING) from dual limit 1;&lt;br/&gt;
FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10004&amp;#93;&lt;/span&gt;: Line 1:12 Invalid table alias or column reference &apos;`d`&apos;: (possible column names are: dummy)&lt;/p&gt;

&lt;p&gt;I don&apos;t think this&apos;s a BUG.We&apos;d better follow the Grammar rules.&lt;/p&gt;</comment>
                            <comment id="13730556" author="hibou" created="Tue, 6 Aug 2013 09:13:08 +0000"  >&lt;p&gt;Sorry for the late reply, but what you tried has nothing to do with my issues. My columns do exist. See the &apos;working script&apos;. For some reason, if there&apos;s a cast, then it fails.&lt;/p&gt;</comment>
                            <comment id="13743844" author="navis" created="Mon, 19 Aug 2013 14:26:04 +0000"  >&lt;p&gt;I cannot sure of what it was, but it seemed fixed in trunk. Anyone may reopen this issue when it happens again.&lt;/p&gt;</comment>
                            <comment id="13796001" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:17 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                            <comment id="13838009" author="prasadm" created="Tue, 3 Dec 2013 18:37:05 +0000"  >&lt;p&gt;I guess its the same issue that is addressed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4547&quot; title=&quot;A complex create view statement fails with new Antlr 3.4&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4547&quot;&gt;&lt;del&gt;HIVE-4547&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13838052" author="hibou" created="Tue, 3 Dec 2013 19:11:49 +0000"  >&lt;p&gt;FYI, I upgraded to Hive 0.12, and it is indeed fixed, at least for my use case.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12647266">HIVE-4547</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Jun 2013 09:18:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lj0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333810</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4743] Improve test coverage of package org.apache.hadoop.hive.ql.io</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4743</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The patch improves unit test coverage of package org.apache.hadoop.hive.ql.io up to 80%.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12653197">HIVE-4743</key>
            <summary>Improve test coverage of package org.apache.hadoop.hive.ql.io</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="iveselovsky">Ivan A. Veselovsky</assignee>
                                    <reporter username="iveselovsky">Ivan A. Veselovsky</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jun 2013 14:48:53 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:51 +0000</updated>
                            <resolved>Fri, 21 Jun 2013 14:57:09 +0000</resolved>
                                    <version>0.10.1</version>
                    <version>0.11.1</version>
                    <version>0.12.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13689368" author="iveselovsky" created="Thu, 20 Jun 2013 16:10:29 +0000"  >&lt;p&gt;The patch intended to be applied to branches trunk, 0.11, 0.10.&lt;/p&gt;</comment>
                            <comment id="13689382" author="ashutoshc" created="Thu, 20 Jun 2013 16:27:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iveselovsky&quot; class=&quot;user-hover&quot; rel=&quot;iveselovsky&quot;&gt;Ivan A. Veselovsky&lt;/a&gt; How are you measuring test coverage ?&lt;/p&gt;</comment>
                            <comment id="13689394" author="iveselovsky" created="Thu, 20 Jun 2013 16:40:33 +0000"  >&lt;p&gt;We measure coverage with Clover (&lt;a href=&quot;http://www.atlassian.com/software/clover/overview&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.atlassian.com/software/clover/overview&lt;/a&gt;).&lt;br/&gt;
Clover integration with Hive described in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2991&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2991&lt;/a&gt; .&lt;br/&gt;
We use somewhat updated version of those changes, will update the patches in 2991 soon.&lt;/p&gt;</comment>
                            <comment id="13689983" author="ashutoshc" created="Fri, 21 Jun 2013 02:39:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13689999" author="brocknoland" created="Fri, 21 Jun 2013 03:38:27 +0000"  >&lt;p&gt;Nice, I love to see new unit test coverage! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13690349" author="ashutoshc" created="Fri, 21 Jun 2013 14:57:09 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Ivan!&lt;/p&gt;</comment>
                            <comment id="13690368" author="hudson" created="Fri, 21 Jun 2013 15:14:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2161 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2161/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2161/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4743&quot; title=&quot;Improve test coverage of package org.apache.hadoop.hive.ql.io&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4743&quot;&gt;&lt;del&gt;HIVE-4743&lt;/del&gt;&lt;/a&gt; : Improve test coverage of package org.apache.hadoop.hive.ql.io (Ivan Veselovsky via Ashutosh Chauhan) (Revision 1495462)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1495462&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1495462&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/NonSyncDataInputBuffer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/PerformTestRCFileAndSeqFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestHiveInputOutputBuffer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestPerformTestRCFileAndSeqFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestSymlinkTextInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13691120" author="hudson" created="Sat, 22 Jun 2013 12:09:09 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #252 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/252/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/252/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4743&quot; title=&quot;Improve test coverage of package org.apache.hadoop.hive.ql.io&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4743&quot;&gt;&lt;del&gt;HIVE-4743&lt;/del&gt;&lt;/a&gt; : Improve test coverage of package org.apache.hadoop.hive.ql.io (Ivan Veselovsky via Ashutosh Chauhan) (Revision 1495462)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1495462&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1495462&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/NonSyncDataInputBuffer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/PerformTestRCFileAndSeqFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestHiveInputOutputBuffer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestPerformTestRCFileAndSeqFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestSymlinkTextInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13691873" author="iveselovsky" created="Mon, 24 Jun 2013 10:40:17 +0000"  >&lt;p&gt;Hi, Ashutosh, is that possible to commit this patch also into branches 0.10.1, 0.11.1?&lt;/p&gt;</comment>
                            <comment id="13692102" author="ashutoshc" created="Mon, 24 Jun 2013 16:19:41 +0000"  >&lt;p&gt;We usually only backport critical bugfixes. IMO, this one doesn&apos;t fall into that category.&lt;/p&gt;</comment>
                            <comment id="13796088" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:51 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12588864" name="HIVE-4743-trunk--N1.patch" size="20700" author="iveselovsky" created="Thu, 20 Jun 2013 16:10:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Jun 2013 16:27:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lj8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4744] Unary Minus Expression Throwing java.lang.NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4744</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT   L_QUANTITY,
         L_RETURNFLAG,
         (L_QUANTITY * -2),
         (L_QUANTITY % L_SUPPKEY),
         (-(L_TAX))
FROM     lineitem_orc
WHERE    ((L_QUANTITY &amp;lt; L_TAX)
          OR (L_TAX &amp;gt; L_ORDERKEY))
ORDER BY L_QUANTITY;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Executed over tcpch lineitem generated at a scale factor of 1gb&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;13/06/15 03:27:21 WARN conf.HiveConf: DEPRECATED: Configuration property hive.metastore.local no longer has any effect. Make sure to provide a valid value for hive.metastore.uris if you are connecting to a remote metastore.

Logging initialized using configuration in file:/C:/Hadoop/hive-0.9.0/conf/hive-log4j.properties

Hive history file=c:\hadoop\hive-0.9.0\logs\history/hive_job_log_jenkinsuser_4280@SLAVE23-WIN_201306150327_1960387810.txt

Total MapReduce jobs = 1

Launching Job 1 out of 1
Number of reduce tasks determined at compile time: 1
In order to change the average load for a reducer (in bytes):
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;
In order to limit the maximum number of reducers:
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;
In order to set a constant number of reducers:
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;

java.lang.NullPointerException
	at org.apache.hadoop.hive.ql.exec.vector.VectorizationContext.getUnaryMinusExpression(VectorizationContext.java:327)
	at org.apache.hadoop.hive.ql.exec.vector.VectorizationContext.getVectorExpression(VectorizationContext.java:440)
	at org.apache.hadoop.hive.ql.exec.vector.VectorizationContext.getVectorExpression(VectorizationContext.java:397)
	at org.apache.hadoop.hive.ql.exec.vector.VectorizationContext.getVectorExpression(VectorizationContext.java:248)
	at org.apache.hadoop.hive.ql.exec.vector.VectorSelectOperator.initializeOp(VectorSelectOperator.java:73)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:375)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:451)
	at org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:407)

	at org.apache.hadoop.hive.ql.exec.vector.VectorFilterOperator.initializeOp(VectorFilterOperator.java:76)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:375)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:451)
	at org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:407)
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.initializeOp(TableScanOperator.java:187)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:375)
	at org.apache.hadoop.hive.ql.exec.ExecDriver.validateVectorOperator(ExecDriver.java:580)
	at org.apache.hadoop.hive.ql.exec.ExecDriver.validateVectorPath(ExecDriver.java:568)
	at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:287)

	at org.apache.hadoop.hive.ql.exec.MapRedTask.execute(MapRedTask.java:138)
	at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:145)
	at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)
	at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1355)
	at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1139)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:945)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:348)
	at org.apache.hadoop.hive.cli.CliDriver.processReader(CliDriver.java:446)

	at org.apache.hadoop.hive.cli.CliDriver.processFile(CliDriver.java:456)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:712)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:614)

	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MapRedTask

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12653217">HIVE-4744</key>
            <summary>Unary Minus Expression Throwing java.lang.NullPointerException</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jnp">Jitendra Nath Pandey</assignee>
                                    <reporter username="anthony.murphy">Tony Murphy</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jun 2013 16:43:17 +0000</created>
                <updated>Wed, 23 Oct 2013 21:59:10 +0000</updated>
                            <resolved>Wed, 19 Jun 2013 22:28:30 +0000</resolved>
                                    <version>vectorization-branch</version>
                                    <fixVersion>vectorization-branch</fixVersion>
                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13688510" author="jnp" created="Wed, 19 Jun 2013 21:51:22 +0000"  >&lt;p&gt;Updated patch with unit tests.&lt;/p&gt;</comment>
                            <comment id="13688531" author="ashutoshc" created="Wed, 19 Jun 2013 22:08:37 +0000"  >&lt;p&gt;There is some commented code in patch. Would you like to remove that ?&lt;/p&gt;</comment>
                            <comment id="13688550" author="jnp" created="Wed, 19 Jun 2013 22:21:03 +0000"  >&lt;p&gt;Updated patch with removed commented code.&lt;/p&gt;</comment>
                            <comment id="13688561" author="ashutoshc" created="Wed, 19 Jun 2013 22:28:30 +0000"  >&lt;p&gt;Committed to branch. Thanks, Jitendra!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12588527" name="HIVE-4744.1.patch" size="8605" author="jnp" created="Wed, 19 Jun 2013 03:31:56 +0000"/>
                            <attachment id="12588695" name="HIVE-4744.2.patch" size="12474" author="jnp" created="Wed, 19 Jun 2013 21:51:22 +0000"/>
                            <attachment id="12588707" name="HIVE-4744.3.patch" size="12040" author="jnp" created="Wed, 19 Jun 2013 22:20:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Jun 2013 21:51:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333540</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ljdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4745] java.lang.RuntimeException: Hive Runtime Error while closing operators: java.lang.ClassCastException: org.apache.hadoop.io.NullWritable cannot be cast to org.apache.hadoop.hive.serde2.io.DoubleWritable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4745</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT SUM(L_QUANTITY),
       (SUM(L_QUANTITY) + -1.30000000000000000000E+000),
       (-2.20000000000000020000E+000 % (SUM(L_QUANTITY) + -1.30000000000000000000E+000)),
       MIN(L_EXTENDEDPRICE)
FROM   lineitem_orc
WHERE  ((L_EXTENDEDPRICE &amp;lt;= L_LINENUMBER)
        OR (L_TAX &amp;gt; L_EXTENDEDPRICE));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;executed over tpch line item with scale factor 1gb&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;13/06/15 11:19:17 WARN conf.HiveConf: DEPRECATED: Configuration property hive.metastore.local no longer has any effect. Make sure to provide a valid value for hive.metastore.uris if you are connecting to a remote metastore.

Logging initialized using configuration in file:/C:/Hadoop/hive-0.9.0/conf/hive-log4j.properties
Hive history file=c:\hadoop\hive-0.9.0\logs\history/hive_job_log_jenkinsuser_5292@SLAVE23-WIN_201306151119_1652846565.txt
Total MapReduce jobs = 1

Launching Job 1 out of 1

Number of reduce tasks determined at compile time: 1

In order to change the average load for a reducer (in bytes):
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;
In order to limit the maximum number of reducers:
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;
In order to set a constant number of reducers:
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;

Starting Job = job_201306142329_0098, Tracking URL = http://localhost:50030/jobdetails.jsp?jobid=job_201306142329_0098
Kill Command = c:\Hadoop\hadoop-1.1.0-SNAPSHOT\bin\hadoop.cmd job  -kill job_201306142329_0098
Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 1
2013-06-15 11:19:47,490 Stage-1 map = 0%,  reduce = 0%
2013-06-15 11:20:29,801 Stage-1 map = 76%,  reduce = 0%
2013-06-15 11:20:32,849 Stage-1 map = 0%,  reduce = 0%
2013-06-15 11:20:35,880 Stage-1 map = 100%,  reduce = 100%
Ended Job = job_201306142329_0098 with errors
Error during job, obtaining debugging information...
Job Tracking URL: http://localhost:50030/jobdetails.jsp?jobid=job_201306142329_0098
Examining task ID: task_201306142329_0098_m_000002 (and more) from job job_201306142329_0098

Task with the most failures(4): 
-----
Task ID:
  task_201306142329_0098_m_000000

URL:
  http://localhost:50030/taskdetails.jsp?jobid=job_201306142329_0098&amp;amp;tipid=task_201306142329_0098_m_000000
-----
Diagnostic Messages for this Task:
java.lang.RuntimeException: Hive Runtime Error while closing operators
	at org.apache.hadoop.hive.ql.exec.vector.VectorExecMapper.close(VectorExecMapper.java:229)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:436)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:372)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:271)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1135)
	at org.apache.hadoop.mapred.Child.main(Child.java:265)
Caused by: java.lang.ClassCastException: org.apache.hadoop.io.NullWritable cannot be cast to org.apache.hadoop.hive.serde2.io.DoubleWritable
	at org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableDoubleObjectInspector.get(WritableDoubleObjectInspector.java:35)
	at org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe.serialize(LazyBinarySerDe.java:340)
	at org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe.serializeStruct(LazyBinarySerDe.java:257)
	at org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe.serialize(LazyBinarySerDe.java:204)
	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.processOp(ReduceSinkOperator.java:245)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:502)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:832)
	at org.apache.hadoop.hive.ql.exec.vector.VectorGroupByOperator.flush(VectorGroupByOperator.java:281)
	at org.apache.hadoop.hive.ql.exec.vector.VectorGroupByOperator.closeOp(VectorGroupByOperator.java:423)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:588)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.vector.VectorExecMapper.close(VectorExecMapper.java:196)
	... 8 more


FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask
MapReduce Jobs Launched: 
Job 0: Map: 1  Reduce: 1   HDFS Read: 0 HDFS Write: 0 FAIL
Total MapReduce CPU Time Spent: 0 msec


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Similar issues seen with other queries:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT VAR_SAMP(L_SUPPKEY),
       (VAR_SAMP(L_SUPPKEY) - -2.20000000000000020000E+000),
       (-(VAR_SAMP(L_SUPPKEY)))
FROM   lineitem_orc
WHERE  ((L_SUPPKEY = -1));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;13/06/15 11:41:08 WARN conf.HiveConf: DEPRECATED: Configuration property hive.metastore.local no longer has any effect. Make sure to provide a valid value for hive.metastore.uris if you are connecting to a remote metastore.

Logging initialized using configuration in file:/C:/Hadoop/hive-0.9.0/conf/hive-log4j.properties

Hive history file=c:\hadoop\hive-0.9.0\logs\history/hive_job_log_jenkinsuser_6976@SLAVE23-WIN_201306151141_1255577417.txt

Total MapReduce jobs = 1
Launching Job 1 out of 1
Number of reduce tasks determined at compile time: 1
In order to change the average load for a reducer (in bytes):
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;
In order to limit the maximum number of reducers:
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;
In order to set a constant number of reducers:
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;
Starting Job = job_201306142329_0109, Tracking URL = http://localhost:50030/jobdetails.jsp?jobid=job_201306142329_0109
Kill Command = c:\Hadoop\hadoop-1.1.0-SNAPSHOT\bin\hadoop.cmd job  -kill job_201306142329_0109
Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 1
2013-06-15 11:41:38,753 Stage-1 map = 0%,  reduce = 0%
2013-06-15 11:42:17,959 Stage-1 map = 100%,  reduce = 100%
Ended Job = job_201306142329_0109 with errors
Error during job, obtaining debugging information...
Job Tracking URL: http://localhost:50030/jobdetails.jsp?jobid=job_201306142329_0109
Examining task ID: task_201306142329_0109_m_000002 (and more) from job job_201306142329_0109

Task with the most failures(4): 
-----
Task ID:
  task_201306142329_0109_m_000000

URL:
  http://localhost:50030/taskdetails.jsp?jobid=job_201306142329_0109&amp;amp;tipid=task_201306142329_0109_m_000000
-----
Diagnostic Messages for this Task:
java.lang.RuntimeException: Hive Runtime Error while closing operators
	at org.apache.hadoop.hive.ql.exec.vector.VectorExecMapper.close(VectorExecMapper.java:229)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:436)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:372)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:271)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1135)
	at org.apache.hadoop.mapred.Child.main(Child.java:265)
Caused by: java.lang.ClassCastException: org.apache.hadoop.io.NullWritable cannot be cast to [Ljava.lang.Object;
	at org.apache.hadoop.hive.serde2.objectinspector.StandardStructObjectInspector.getStructFieldData(StandardStructObjectInspector.java:166)
	at org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe.serializeStruct(LazyBinarySerDe.java:248)
	at org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe.serialize(LazyBinarySerDe.java:534)
	at org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe.serializeStruct(LazyBinarySerDe.java:257)
	at org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe.serialize(LazyBinarySerDe.java:204)
	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.processOp(ReduceSinkOperator.java:245)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:502)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:832)
	at org.apache.hadoop.hive.ql.exec.vector.VectorGroupByOperator.flush(VectorGroupByOperator.java:281)
	at org.apache.hadoop.hive.ql.exec.vector.VectorGroupByOperator.closeOp(VectorGroupByOperator.java:423)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:588)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.vector.VectorExecMapper.close(VectorExecMapper.java:196)
	... 8 more


FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask
MapReduce Jobs Launched: 
Job 0: Map: 1  Reduce: 1   HDFS Read: 0 HDFS Write: 0 FAIL

Total MapReduce CPU Time Spent: 0 msec

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT MAX(L_ORDERKEY),
       (MAX(L_ORDERKEY) + 2)
FROM   lineitem_orc
WHERE  ((L_ORDERKEY &amp;lt;= L_DISCOUNT));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;13/06/15 11:55:02 WARN conf.HiveConf: DEPRECATED: Configuration property hive.metastore.local no longer has any effect. Make sure to provide a valid value for hive.metastore.uris if you are connecting to a remote metastore.

Logging initialized using configuration in file:/C:/Hadoop/hive-0.9.0/conf/hive-log4j.properties


Hive history file=c:\hadoop\hive-0.9.0\logs\history/hive_job_log_jenkinsuser_3208@SLAVE23-WIN_201306151155_919702960.txt


Total MapReduce jobs = 1


Launching Job 1 out of 1

Number of reduce tasks determined at compile time: 1
In order to change the average load for a reducer (in bytes):
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;
In order to limit the maximum number of reducers:
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;
In order to set a constant number of reducers:
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;

Starting Job = job_201306142329_0114, Tracking URL = http://localhost:50030/jobdetails.jsp?jobid=job_201306142329_0114


Kill Command = c:\Hadoop\hadoop-1.1.0-SNAPSHOT\bin\hadoop.cmd job  -kill job_201306142329_0114


Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 1


2013-06-15 11:55:34,191 Stage-1 map = 0%,  reduce = 0%


2013-06-15 11:56:14,464 Stage-1 map = 100%,  reduce = 100%


Ended Job = job_201306142329_0114 with errors


Error during job, obtaining debugging information...


Job Tracking URL: http://localhost:50030/jobdetails.jsp?jobid=job_201306142329_0114


Examining task ID: task_201306142329_0114_m_000002 (and more) from job job_201306142329_0114



Task with the most failures(4): 
-----
Task ID:
  task_201306142329_0114_m_000000

URL:
  http://localhost:50030/taskdetails.jsp?jobid=job_201306142329_0114&amp;amp;tipid=task_201306142329_0114_m_000000
-----
Diagnostic Messages for this Task:
java.lang.RuntimeException: Hive Runtime Error while closing operators
	at org.apache.hadoop.hive.ql.exec.vector.VectorExecMapper.close(VectorExecMapper.java:229)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:436)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:372)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:271)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1135)
	at org.apache.hadoop.mapred.Child.main(Child.java:265)
Caused by: java.lang.ClassCastException: org.apache.hadoop.io.NullWritable cannot be cast to org.apache.hadoop.io.LongWritable
	at org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableLongObjectInspector.get(WritableLongObjectInspector.java:35)
	at org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe.serialize(LazyBinarySerDe.java:325)
	at org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe.serializeStruct(LazyBinarySerDe.java:257)
	at org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe.serialize(LazyBinarySerDe.java:204)
	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.processOp(ReduceSinkOperator.java:245)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:502)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:832)
	at org.apache.hadoop.hive.ql.exec.vector.VectorGroupByOperator.flush(VectorGroupByOperator.java:281)
	at org.apache.hadoop.hive.ql.exec.vector.VectorGroupByOperator.closeOp(VectorGroupByOperator.java:423)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:588)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:597)
	at org.apache.hadoop.hive.ql.exec.vector.VectorExecMapper.close(VectorExecMapper.java:196)
	... 8 more




FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask

MapReduce Jobs Launched: 
Job 0: Map: 1  Reduce: 1   HDFS Read: 0 HDFS Write: 0 FAIL
Total MapReduce CPU Time Spent: 0 msec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12653219">HIVE-4745</key>
            <summary>java.lang.RuntimeException: Hive Runtime Error while closing operators: java.lang.ClassCastException: org.apache.hadoop.io.NullWritable cannot be cast to org.apache.hadoop.hive.serde2.io.DoubleWritable</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jnp">Jitendra Nath Pandey</assignee>
                                    <reporter username="anthony.murphy">Tony Murphy</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jun 2013 16:51:53 +0000</created>
                <updated>Wed, 23 Oct 2013 21:59:11 +0000</updated>
                            <resolved>Fri, 21 Jun 2013 18:31:50 +0000</resolved>
                                    <version>vectorization-branch</version>
                                    <fixVersion>vectorization-branch</fixVersion>
                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13688720" author="jnp" created="Thu, 20 Jun 2013 00:59:19 +0000"  >&lt;p&gt;This patch effectively reverts the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4688&quot; title=&quot;NPE in writing null values.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4688&quot;&gt;&lt;del&gt;HIVE-4688&lt;/del&gt;&lt;/a&gt; change. The NPE is fixed in VectorizedRowBatch by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4758&quot; title=&quot;NULLs and record separators broken with vectorization branch intermediate outputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4758&quot;&gt;&lt;del&gt;HIVE-4758&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13689030" author="rusanu" created="Thu, 20 Jun 2013 08:54:14 +0000"  >&lt;p&gt;I made a minor modification and changed assertSame back to assertEquals for null checks&lt;/p&gt;</comment>
                            <comment id="13690570" author="ashutoshc" created="Fri, 21 Jun 2013 18:31:50 +0000"  >&lt;p&gt;Committed to branch. Thanks, Jitendra!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12588731" name="HIVE-4745.2.patch" size="36214" author="jnp" created="Thu, 20 Jun 2013 00:48:57 +0000"/>
                            <attachment id="12588795" name="HIVE-4745.3.patch" size="36199" author="rusanu" created="Thu, 20 Jun 2013 08:54:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Jun 2013 00:59:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ljdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4746] Fix TestCliDriver.list_bucket_dml_{2,4,5,9,12,13}.q on 0.23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4746</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12653245">HIVE-4746</key>
            <summary>Fix TestCliDriver.list_bucket_dml_{2,4,5,9,12,13}.q on 0.23</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12629407">HIVE-3949</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jun 2013 18:31:12 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:41 +0000</updated>
                            <resolved>Tue, 18 Jun 2013 17:56:56 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13685899" author="brocknoland" created="Mon, 17 Jun 2013 19:45:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D11337&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11337&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13686053" author="ashutoshc" created="Mon, 17 Jun 2013 21:43:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13686085" author="ashutoshc" created="Mon, 17 Jun 2013 22:12:51 +0000"  >&lt;p&gt;I did following:&lt;br/&gt;
$ curl &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12588202/HIVE-4746.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12588202/HIVE-4746.patch&lt;/a&gt; | patch -p1&lt;br/&gt;
$ ant clean package&lt;br/&gt;
$ ant test -Dtestcase=TestCliDriver -Dmodule=ql -Dqfile_regex=list_bucket_dml.* -Dhadoop.mr.rev=23&lt;/p&gt;

&lt;p&gt;Following three tests failed:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;list_bucket_dml_6.q&lt;/li&gt;
	&lt;li&gt;list_bucket_dml_7.q&lt;/li&gt;
	&lt;li&gt;list_bucket_dml_8.q&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;All other tests did pass.&lt;/p&gt;</comment>
                            <comment id="13686173" author="brocknoland" created="Mon, 17 Jun 2013 23:34:02 +0000"  >&lt;p&gt;OK 7 didn&apos;t fail in my full run but does fail for me now. I added ORDER BY clauses to that one. I have added two additional ORDER BY columns to 6 and 8. If they fail again, please share the output.&lt;/p&gt;

&lt;p&gt;Thank you very much!&lt;/p&gt;</comment>
                            <comment id="13686180" author="brocknoland" created="Mon, 17 Jun 2013 23:36:12 +0000"  >&lt;p&gt;I closed the Phabricator item after the +1. The new one is here: &lt;a href=&quot;https://reviews.facebook.net/D11361&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11361&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13686307" author="ashutoshc" created="Tue, 18 Jun 2013 02:21:54 +0000"  >&lt;p&gt;Still seeing same 3 fails. Log:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] Running: diff -a /Users/ashutosh/workspace/hive/build/ql/test/logs/clientpositive/list_bucket_dml_6.q.out /Users/ashutosh/workspace/hive/ql/src/test/results/clientpositive/list_bucket_dml_6.q.out
    [junit] 349c349
    [junit] &amp;lt; 	totalSize           	102                 
    [junit] ---
    [junit] &amp;gt; 	totalSize           	4096                
    [junit] 481c481
    [junit] &amp;lt;                       totalSize 10836
    [junit] ---
    [junit] &amp;gt;                       totalSize 14830
    [junit] 622c622
    [junit] &amp;lt;                 totalSize 10836
    [junit] ---
    [junit] &amp;gt;                 totalSize 14830
    [junit] 656c656
    [junit] &amp;lt;               totalSize 10836
    [junit] ---
    [junit] &amp;gt;               totalSize 14830
    [junit] 676c676
    [junit] &amp;lt;                 totalSize 10836
    [junit] ---
    [junit] &amp;gt;                 totalSize 14830
    [junit] 708c708
    [junit] &amp;lt;               totalSize 10836
    [junit] ---
    [junit] &amp;gt;               totalSize 14830
    [junit] 728c728
    [junit] &amp;lt;                 totalSize 10836
    [junit] ---
    [junit] &amp;gt;                 totalSize 14830
    [junit] 816c816
    [junit] &amp;lt; 	totalSize           	102                 
    [junit] ---
    [junit] &amp;gt; 	totalSize           	4096                
    [junit] 1017c1017
    [junit] &amp;lt;               totalSize 102
    [junit] ---
    [junit] &amp;gt;               totalSize 4096
    [junit] 1037c1037
    [junit] &amp;lt;                 totalSize 10724
    [junit] ---
    [junit] &amp;gt;                 totalSize 14718
    [junit] 1083c1083
    [junit] &amp;lt;                 totalSize 10724
    [junit] ---
    [junit] &amp;gt;                 totalSize 14718
    [junit] Exception: Client execution results failed with error code = 1
    [junit] See build/ql/tmp/hive.log, or &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;ant test ... -Dtest.silent=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt; to get more logs.
    [junit] Failed query: list_bucket_dml_6.q
    [junit] Begin query: list_bucket_dml_7.q
    [junit] Running: diff -a /Users/ashutosh/workspace/hive/build/ql/test/logs/clientpositive/list_bucket_dml_7.q.out /Users/ashutosh/workspace/hive/ql/src/test/results/clientpositive/list_bucket_dml_7.q.out
    [junit] 297c297
    [junit] &amp;lt; 	totalSize           	204                 
    [junit] ---
    [junit] &amp;gt; 	totalSize           	4096                
    [junit] 429c429
    [junit] &amp;lt;                       totalSize 10780
    [junit] ---
    [junit] &amp;gt;                       totalSize 14672
    [junit] 570c570
    [junit] &amp;lt;                 totalSize 10780
    [junit] ---
    [junit] &amp;gt;                 totalSize 14672
    [junit] 604c604
    [junit] &amp;lt;               totalSize 10780
    [junit] ---
    [junit] &amp;gt;               totalSize 14672
    [junit] 624c624
    [junit] &amp;lt;                 totalSize 10780
    [junit] ---
    [junit] &amp;gt;                 totalSize 14672
    [junit] 656c656
    [junit] &amp;lt;               totalSize 10780
    [junit] ---
    [junit] &amp;gt;               totalSize 14672
    [junit] 676c676
    [junit] &amp;lt;                 totalSize 10780
    [junit] ---
    [junit] &amp;gt;                 totalSize 14672
    [junit] 764c764
    [junit] &amp;lt; 	totalSize           	136                 
    [junit] ---
    [junit] &amp;gt; 	totalSize           	4096                
    [junit] 965c965
    [junit] &amp;lt;               totalSize 136
    [junit] ---
    [junit] &amp;gt;               totalSize 4096
    [junit] 985c985
    [junit] &amp;lt;                 totalSize 10656
    [junit] ---
    [junit] &amp;gt;                 totalSize 14616
    [junit] 1031c1031
    [junit] &amp;lt;                 totalSize 10656
    [junit] ---
    [junit] &amp;gt;                 totalSize 14616
    [junit] Exception: Client execution results failed with error code = 1
    [junit] See build/ql/tmp/hive.log, or &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;ant test ... -Dtest.silent=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt; to get more logs.
    [junit] Failed query: list_bucket_dml_7.q
    [junit] Begin query: list_bucket_dml_8.q
    [junit] Running: diff -a /Users/ashutosh/workspace/hive/build/ql/test/logs/clientpositive/list_bucket_dml_8.q.out /Users/ashutosh/workspace/hive/ql/src/test/results/clientpositive/list_bucket_dml_8.q.out
    [junit] 353c353
    [junit] &amp;lt; 	totalSize           	102                 
    [junit] ---
    [junit] &amp;gt; 	totalSize           	4096                
    [junit] 600c600
    [junit] &amp;lt;               totalSize 102
    [junit] ---
    [junit] &amp;gt;               totalSize 4096
    [junit] 620c620
    [junit] &amp;lt;                 totalSize 10688
    [junit] ---
    [junit] &amp;gt;                 totalSize 14682
    [junit] 666c666
    [junit] &amp;lt;                 totalSize 10688
    [junit] ---
    [junit] &amp;gt;                 totalSize 14682

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13686351" author="brocknoland" created="Tue, 18 Jun 2013 03:31:18 +0000"  >&lt;p&gt;I see you are on a Mac. I am able to reproduce on my Mac but not on CentOS so it looks like still have some non-determinism. I&apos;ll look into it.&lt;/p&gt;</comment>
                            <comment id="13686735" author="brocknoland" created="Tue, 18 Jun 2013 14:01:57 +0000"  >&lt;p&gt;The failures are due to the different return values of File.length() for a directory with the same contents on Mac versus Linux. I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4750&quot; title=&quot;Fix TestCliDriver.list_bucket_dml_{6,7,8}.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4750&quot;&gt;&lt;del&gt;HIVE-4750&lt;/del&gt;&lt;/a&gt; and let&apos;s take 6,7,8 forward in that JIRA. I&apos;ll update the patch.&lt;/p&gt;</comment>
                            <comment id="13686777" author="brocknoland" created="Tue, 18 Jun 2013 14:28:34 +0000"  >&lt;p&gt;OK the updated patch removes the changes to 6,7,8. For me it passes on both CentOS and Mac with the following command:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant package
ant test -Dtestcase=TestCliDriver -Dmodule=ql -Dqfile=list_bucket_dml_2.q,list_bucket_dml_4.q,list_bucket_dml_5.q,list_bucket_dml_9.q,list_bucket_dml_12.q,list_bucket_dml_13.q -Dhadoop.mr.rev=23 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13686779" author="brocknoland" created="Tue, 18 Jun 2013 14:29:13 +0000"  >&lt;p&gt;Phabricator seems down for me. I&apos;ll update it when it comes back online.&lt;/p&gt;</comment>
                            <comment id="13687009" author="ashutoshc" created="Tue, 18 Jun 2013 17:56:56 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Brock!&lt;/p&gt;</comment>
                            <comment id="13687021" author="hudson" created="Tue, 18 Jun 2013 18:09:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2153 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2153/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2153/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4746&quot; title=&quot;Fix TestCliDriver.list_bucket_dml_{2,4,5,9,12,13}.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4746&quot;&gt;&lt;del&gt;HIVE-4746&lt;/del&gt;&lt;/a&gt; : Fix TestCliDriver.list_bucket_dml_&lt;/p&gt;
{2,4,5,9,12,13}
&lt;p&gt;.q on 0.23 (Brock Noland via Ashutosh Chauhan) (Revision 1494231)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494231&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494231&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_12.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_13.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_9.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_9.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13687877" author="hudson" created="Wed, 19 Jun 2013 11:05:08 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #247 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/247/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/247/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4746&quot; title=&quot;Fix TestCliDriver.list_bucket_dml_{2,4,5,9,12,13}.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4746&quot;&gt;&lt;del&gt;HIVE-4746&lt;/del&gt;&lt;/a&gt; : Fix TestCliDriver.list_bucket_dml_&lt;/p&gt;
{2,4,5,9,12,13}
&lt;p&gt;.q on 0.23 (Brock Noland via Ashutosh Chauhan) (Revision 1494231)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494231&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1494231&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_12.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_13.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_9.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_9.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13796059" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:41 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12653443">HIVE-4750</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12588367" name="HIVE-4746.patch" size="66704" author="brocknoland" created="Tue, 18 Jun 2013 14:28:34 +0000"/>
                            <attachment id="12588253" name="HIVE-4746.patch" size="95177" author="brocknoland" created="Mon, 17 Jun 2013 23:34:02 +0000"/>
                            <attachment id="12588202" name="HIVE-4746.patch" size="85647" author="brocknoland" created="Mon, 17 Jun 2013 19:45:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Jun 2013 21:43:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333568</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ljjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333896</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4747] Upgrade hive to HBase 0.95</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4747</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I was just working on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4388&quot; title=&quot;Upgrade HBase to 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4388&quot;&gt;&lt;del&gt;HIVE-4388&lt;/del&gt;&lt;/a&gt; and attempting to get Hive working with a Hadoop2 build. The only published Hadoop2 build is 0.95.X (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8224&quot; title=&quot;Publish hbase build against h1 and h2 adding &amp;#39;-hadoop1&amp;#39; or &amp;#39;-hadoop2&amp;#39; to version string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8224&quot;&gt;&lt;del&gt;HBASE-8224&lt;/del&gt;&lt;/a&gt;). I noticed there are some compilation issues with both HCatalog and hbase-storage-handler. Specifically:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Put/Result no longer implement Writable&lt;/li&gt;
	&lt;li&gt;Put no longer as setWriteToWal(boolean)&lt;/li&gt;
	&lt;li&gt;MasterNotRunningException and other exceptions have changed there package structure&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;and probably a couple more. This JIRA is to to track that work.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12653299">HIVE-4747</key>
            <summary>Upgrade hive to HBase 0.95</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jun 2013 23:11:10 +0000</created>
                <updated>Wed, 17 Jul 2013 01:45:11 +0000</updated>
                            <resolved>Wed, 17 Jul 2013 01:45:11 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13710599" author="jarcec" created="Wed, 17 Jul 2013 01:42:17 +0000"  >&lt;p&gt;I was exploring the changes in HBase 0.95 and the method &lt;tt&gt;setWriteToWAL(boolean&lt;/tt&gt; has been replaced by &lt;tt&gt;setDurability(Durability)&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13710602" author="brocknoland" created="Wed, 17 Jul 2013 01:45:04 +0000"  >&lt;p&gt;Thanks Jarcec! We are going to use &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4388&quot; title=&quot;Upgrade HBase to 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4388&quot;&gt;&lt;del&gt;HIVE-4388&lt;/del&gt;&lt;/a&gt; for this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12643803">HIVE-4388</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Jul 2013 01:42:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ljv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4748] Fix TempletonUtilsTest failure on Windows</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4748</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The test was assuming that /tmp and /usr folders exist on the OS. As this is not true on Windows, the test fails.&lt;br/&gt;
The fix modified the test such that it creates the files it needs before doing the verification.&lt;br/&gt;
This is a test-only issue.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows&lt;/p&gt;</environment>
        <key id="12653353">HIVE-4748</key>
            <summary>Fix TempletonUtilsTest failure on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shuainie">Shuaishuai Nie</assignee>
                                    <reporter username="shuainie">Shuaishuai Nie</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Jun 2013 00:28:21 +0000</created>
                <updated>Tue, 15 Oct 2013 23:29:07 +0000</updated>
                            <resolved>Wed, 4 Sep 2013 06:11:14 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>HCatalog</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13757142" author="thejas" created="Tue, 3 Sep 2013 22:07:32 +0000"  >&lt;p&gt;The patch does not work apply on trunk&lt;/p&gt;</comment>
                            <comment id="13757143" author="thejas" created="Tue, 3 Sep 2013 22:08:45 +0000"  >&lt;p&gt;+1 to the patch.&lt;br/&gt;
I have addressed the minor rebasing that was needed and fixed indentation issue (hcat using 4 spaces instead of the standard of 2 of hive) in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4748&quot; title=&quot;Fix TempletonUtilsTest failure on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4748&quot;&gt;&lt;del&gt;HIVE-4748&lt;/del&gt;&lt;/a&gt;.2.patch&lt;/p&gt;
</comment>
                            <comment id="13757334" author="shuainie" created="Wed, 4 Sep 2013 00:53:05 +0000"  >&lt;p&gt;Thanks Thejas&lt;/p&gt;</comment>
                            <comment id="13757458" author="hiveqa" created="Wed, 4 Sep 2013 04:35:27 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12601251/HIVE-4748.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12601251/HIVE-4748.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2909 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/600/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/600/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/600/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/600/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13757488" author="thejas" created="Wed, 4 Sep 2013 06:11:14 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks for the contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shuainie&quot; class=&quot;user-hover&quot; rel=&quot;shuainie&quot;&gt;Shuaishuai Nie&lt;/a&gt; !&lt;/p&gt;</comment>
                            <comment id="13757858" author="hudson" created="Wed, 4 Sep 2013 15:16:15 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #83 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/83/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/83/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4748&quot; title=&quot;Fix TempletonUtilsTest failure on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4748&quot;&gt;&lt;del&gt;HIVE-4748&lt;/del&gt;&lt;/a&gt; - Fix TempletonUtilsTest failure on Windows (Shuaishuai Nie via Thejas Nair) (thejas: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519915&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519915&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build-support/ant/test.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/test/java/org/apache/hcatalog/templeton/tool/TestTempletonUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13757961" author="hudson" created="Wed, 4 Sep 2013 17:03:17 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop1-ptest #150 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/150/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/150/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4748&quot; title=&quot;Fix TempletonUtilsTest failure on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4748&quot;&gt;&lt;del&gt;HIVE-4748&lt;/del&gt;&lt;/a&gt; - Fix TempletonUtilsTest failure on Windows (Shuaishuai Nie via Thejas Nair) (thejas: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519915&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519915&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build-support/ant/test.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/test/java/org/apache/hcatalog/templeton/tool/TestTempletonUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13758714" author="hudson" created="Thu, 5 Sep 2013 02:37:05 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #404 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/404/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/404/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4748&quot; title=&quot;Fix TempletonUtilsTest failure on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4748&quot;&gt;&lt;del&gt;HIVE-4748&lt;/del&gt;&lt;/a&gt; - Fix TempletonUtilsTest failure on Windows (Shuaishuai Nie via Thejas Nair) (thejas: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519915&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519915&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build-support/ant/test.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/test/java/org/apache/hcatalog/templeton/tool/TestTempletonUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13758755" author="hudson" created="Thu, 5 Sep 2013 03:48:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-h0.21 #2310 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2310/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2310/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4748&quot; title=&quot;Fix TempletonUtilsTest failure on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4748&quot;&gt;&lt;del&gt;HIVE-4748&lt;/del&gt;&lt;/a&gt; - Fix TempletonUtilsTest failure on Windows (Shuaishuai Nie via Thejas Nair) (thejas: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519915&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519915&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build-support/ant/test.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/webhcat/svr/src/test/java/org/apache/hcatalog/templeton/tool/TestTempletonUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795845" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:07 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12588268" name="HIVE-4748.1.patch" size="8011" author="shuainie" created="Tue, 18 Jun 2013 00:30:26 +0000"/>
                            <attachment id="12601251" name="HIVE-4748.2.patch" size="8623" author="thejas" created="Tue, 3 Sep 2013 22:08:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Sep 2013 22:07:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333631</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ljxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4749] WebHCat reads hive.metastore.uris, etc. from different places for different types of operations</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4749</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;webhcat-default.xml (webhcat-stie.xml) has templeton.hive.properties which specifies values of some properties to pass to hive, in particular hive.metastore.uris.  This is then passes as a start up parameter to Hive when WebHCat launches Hive to execute a query.  (The design is that for job submission WebHCat expects a Hive metastore to be running somewhere.)&lt;/p&gt;

&lt;p&gt;On the other hand, when a DDL operation is executed, WebHCat ignores webhcat-default.xml and expects hive-site.xml to contain hive.mestastore.uris, etc.&lt;/p&gt;

&lt;p&gt;This is very confusing (unless you happen to know this).&lt;/p&gt;

&lt;p&gt;There should be a single source of truth.&lt;/p&gt;

&lt;p&gt;Since we always expect Hive to be installed on the machine running WebHCat (to execute DDL command), we should probably get rid of templeton.hive.properties in webhcat-default/site.xml and get this from hive-site.xml.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12653366">HIVE-4749</key>
            <summary>WebHCat reads hive.metastore.uris, etc. from different places for different types of operations</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ekoifman">Eugene Koifman</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Jun 2013 02:16:26 +0000</created>
                <updated>Tue, 24 Sep 2013 01:53:12 +0000</updated>
                                            <version>0.11.0</version>
                                                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333644</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lk0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4750] Fix TestCliDriver.list_bucket_dml_{6,7,8}.q on 0.23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4750</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Removing 6,7,8 from the scope of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4746&quot; title=&quot;Fix TestCliDriver.list_bucket_dml_{2,4,5,9,12,13}.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4746&quot;&gt;&lt;del&gt;HIVE-4746&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12653443">HIVE-4750</key>
            <summary>Fix TestCliDriver.list_bucket_dml_{6,7,8}.q on 0.23</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12629407">HIVE-3949</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Jun 2013 13:59:39 +0000</created>
                <updated>Tue, 15 Oct 2013 23:29:11 +0000</updated>
                            <resolved>Tue, 3 Sep 2013 21:38:15 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13686736" author="brocknoland" created="Tue, 18 Jun 2013 14:02:21 +0000"  >&lt;p&gt;The failures are due to the different return values of File.length() for a directory with the same contents on Mac versus Linux. See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4746&quot; title=&quot;Fix TestCliDriver.list_bucket_dml_{2,4,5,9,12,13}.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4746&quot;&gt;&lt;del&gt;HIVE-4746&lt;/del&gt;&lt;/a&gt; for more details.&lt;/p&gt;</comment>
                            <comment id="13686755" author="brocknoland" created="Tue, 18 Jun 2013 14:08:11 +0000"  >&lt;p&gt;The totalSize value that it doesn&apos;t like between MacOS and Linux is getting generated here &lt;a href=&quot;https://github.com/apache/hive/blob/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java#L413&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java#L413&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13749020" author="prasanth_j" created="Fri, 23 Aug 2013 21:37:08 +0000"  >&lt;p&gt;The issue is not related to inconsistent File.length() on Mac vs Linux. But it is related to FileInputFormat in map reduce. The map reduce JIRA for this &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3193&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAPREDUCE-3193&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;The problem is when there is only one nested directory (under a partition directory in hive), the FileInputFormat considers it as a file and then returns the size of it (which apparently is a directory). Its true that Mac vs Linux returns different lengths for directories. But thats not the intended behavior. The intended behavior of this test is to recurse through the subdirectory of HIVE_DEFAULT_LIST_BUCKETING_DIR_NAME and get the total file lengths of all the files contained in the sub-directory. Since the golden file is generated with hadoop version that didn&apos;t contain &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3193&quot; title=&quot;FileInputFormat doesn&amp;#39;t read files recursively in the input path dir&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3193&quot;&gt;&lt;del&gt;MAPREDUCE-3193&lt;/del&gt;&lt;/a&gt; fix, the results were wrong and were OS dependent.&lt;/p&gt;

&lt;p&gt;I regenerated the golden file for the failing test and tested it under Mac and CentOS 6. The test cases are passing with the expected results on both OSes. &lt;/p&gt;

&lt;p&gt;For further verification, the list_bucket_dml_6.q file has comments with the list of file structure/details which can be used to validate the results. &lt;/p&gt;

&lt;p&gt;Also, test cases list_bucket_dml_&lt;/p&gt;
{7,8}
&lt;p&gt;.q are passing for me in the local setup.&lt;/p&gt;</comment>
                            <comment id="13749024" author="prasanth_j" created="Fri, 23 Aug 2013 21:39:21 +0000"  >&lt;p&gt;Marking it as patch available to check test results.&lt;/p&gt;</comment>
                            <comment id="13750570" author="ashutoshc" created="Mon, 26 Aug 2013 21:22:10 +0000"  >&lt;p&gt;Current patch passes on MacOS but fails on ubuntu. I think it is caused by order in which sub-dirs of a dir are returned by OS, which could vary. I guess we need to add order by on partition column for this to work consistently on all OS.&lt;/p&gt;</comment>
                            <comment id="13750594" author="prasanth_j" created="Mon, 26 Aug 2013 21:46:27 +0000"  >&lt;p&gt;Added order by to make the test cases works consistently across OSes. I tested it on Mac and CentOS 6. Can you please test it on Ubuntu before committing it (I don&apos;t have an ubuntu installation)?&lt;/p&gt;</comment>
                            <comment id="13757092" author="ashutoshc" created="Tue, 3 Sep 2013 21:18:20 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13757112" author="ashutoshc" created="Tue, 3 Sep 2013 21:37:59 +0000"  >&lt;p&gt;Test 6,7,8 on both mac OS and ubuntu after patch. All 3 passed on both OS. Committed to trunk. Thanks, Prasanth!&lt;/p&gt;</comment>
                            <comment id="13757772" author="hudson" created="Wed, 4 Sep 2013 13:52:46 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #403 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/403/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/403/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4750&quot; title=&quot;Fix TestCliDriver.list_bucket_dml_{6,7,8}.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4750&quot;&gt;&lt;del&gt;HIVE-4750&lt;/del&gt;&lt;/a&gt; : Fix TestCliDriver.list_bucket_dml_&lt;/p&gt;
{6,7,8}
&lt;p&gt;.q on 0.23 (Prasanth J via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519857&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519857&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_6.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13757846" author="hudson" created="Wed, 4 Sep 2013 15:16:13 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #83 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/83/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/83/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4750&quot; title=&quot;Fix TestCliDriver.list_bucket_dml_{6,7,8}.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4750&quot;&gt;&lt;del&gt;HIVE-4750&lt;/del&gt;&lt;/a&gt; : Fix TestCliDriver.list_bucket_dml_&lt;/p&gt;
{6,7,8}
&lt;p&gt;.q on 0.23 (Prasanth J via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519857&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519857&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_6.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13757949" author="hudson" created="Wed, 4 Sep 2013 17:03:15 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop1-ptest #150 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/150/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/150/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4750&quot; title=&quot;Fix TestCliDriver.list_bucket_dml_{6,7,8}.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4750&quot;&gt;&lt;del&gt;HIVE-4750&lt;/del&gt;&lt;/a&gt; : Fix TestCliDriver.list_bucket_dml_&lt;/p&gt;
{6,7,8}
&lt;p&gt;.q on 0.23 (Prasanth J via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519857&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519857&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_6.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13758020" author="hudson" created="Wed, 4 Sep 2013 17:43:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-h0.21 #2309 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2309/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2309/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4750&quot; title=&quot;Fix TestCliDriver.list_bucket_dml_{6,7,8}.q on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4750&quot;&gt;&lt;del&gt;HIVE-4750&lt;/del&gt;&lt;/a&gt; : Fix TestCliDriver.list_bucket_dml_&lt;/p&gt;
{6,7,8}
&lt;p&gt;.q on 0.23 (Prasanth J via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519857&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1519857&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_dml_6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_6.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795849" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:11 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12653245">HIVE-4746</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12527413">MAPREDUCE-3193</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12600028" name="HIVE-4750.2.patch" size="10085" author="prasanth_j" created="Mon, 26 Aug 2013 21:44:51 +0000"/>
                            <attachment id="12599713" name="HIVE-4750.patch" size="8221" author="prasanth_j" created="Fri, 23 Aug 2013 21:37:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Aug 2013 21:37:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333721</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lkhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4751] Support distinct aggregations</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4751</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Right now, the query shown below cannot be optimized by correlation optimizer because for distinct aggregations, distinct columns will be added into the sorting keys. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; key1, &lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt;.cnt &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; cnt1, b.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; key2, b.cnt &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; cnt2
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; x.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;DISTINCT&lt;/span&gt; x.&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; cnt &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; src x &lt;span class=&quot;code-keyword&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; x.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;JOIN&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; y.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;DISTINCT&lt;/span&gt; y.&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; cnt &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; src1 y &lt;span class=&quot;code-keyword&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; y.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;) b
&lt;span class=&quot;code-keyword&quot;&gt;ON&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; = b.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12653548">HIVE-4751</key>
            <summary>Support distinct aggregations</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12614802">HIVE-3667</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Jun 2013 18:29:01 +0000</created>
                <updated>Tue, 18 Jun 2013 18:35:56 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ll4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334152</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4752] Add support for hs2 api to use thrift over http</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4752</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hiveserver2 acts as service on the cluster for external applications. One way to implement access control to services on a hadoop cluster to have a gateway server authorizes service requests before forwarding them to the server. The &lt;a href=&quot;http://wiki.apache.org/incubator/knox&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;knox project &lt;/a&gt; has taken this approach to simplify cluster security management.&lt;/p&gt;

&lt;p&gt;Other services on hadoop cluster such as webhdfs and webhcat already use HTTP. Having hiveserver2 also support thrift over http transport will enable securing hiveserver2 as well using the same approach.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12653568">HIVE-4752</key>
            <summary>Add support for hs2 api to use thrift over http</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="vgumashta">Vaibhav Gumashta</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Jun 2013 20:36:26 +0000</created>
                <updated>Fri, 4 Sep 2015 21:33:21 +0000</updated>
                                            <version>0.13.0</version>
                                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                            <comments>
                            <comment id="13687154" author="thejas" created="Tue, 18 Jun 2013 20:37:29 +0000"  >&lt;p&gt;This mode would be configurable, and default configuration will use the current thrift-serialization + thrift-tcp transport.&lt;/p&gt;</comment>
                            <comment id="13787867" author="thejas" created="Mon, 7 Oct 2013 02:24:39 +0000"  >&lt;p&gt;Preparing for 0.12 release. Removing fix version of 0.12 for those that are not in 0.12 branch.&lt;/p&gt;</comment>
                            <comment id="14731475" author="austinlee" created="Fri, 4 Sep 2015 21:33:21 +0000"  >&lt;p&gt;Are there any plans to add similar support for the metastore to use Thrift over HTTP?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12632647">HIVE-4026</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12653814">HIVE-4763</subtask>
                            <subtask id="12653815">HIVE-4764</subtask>
                            <subtask id="12669305">HIVE-5312</subtask>
                            <subtask id="12679292">HIVE-5826</subtask>
                            <subtask id="12691150">HIVE-6306</subtask>
                            <subtask id="12691474">HIVE-6318</subtask>
                            <subtask id="12692640">HIVE-6350</subtask>
                            <subtask id="12692641">HIVE-6351</subtask>
                            <subtask id="12695470">HIVE-6445</subtask>
                            <subtask id="12700917">HIVE-6625</subtask>
                            <subtask id="12746342">HIVE-8377</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Sep 2015 21:33:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ll8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4754] OrcInputFormat should be enhanced to provide vectorized input.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4754</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This change will make CommonOrcInputFormat redundant. The OrcInputFormat will again become the default input format for Orc files. The reason for this change is to allow existing orc files to work with vectorized code path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12653586">HIVE-4754</key>
            <summary>OrcInputFormat should be enhanced to provide vectorized input.</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jnp">Jitendra Nath Pandey</assignee>
                                    <reporter username="jnp">Jitendra Nath Pandey</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Jun 2013 22:36:42 +0000</created>
                <updated>Wed, 23 Oct 2013 21:59:18 +0000</updated>
                            <resolved>Wed, 19 Jun 2013 22:53:56 +0000</resolved>
                                                    <fixVersion>vectorization-branch</fixVersion>
                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13688524" author="ashutoshc" created="Wed, 19 Jun 2013 22:03:58 +0000"  >&lt;p&gt;If CommonOrcIF is redundant, shall not we just remove it from codebase now?&lt;/p&gt;</comment>
                            <comment id="13688574" author="jnp" created="Wed, 19 Jun 2013 22:36:41 +0000"  >&lt;p&gt;Removed CommonOrcInputFormat in the latest patch.&lt;/p&gt;</comment>
                            <comment id="13688596" author="ashutoshc" created="Wed, 19 Jun 2013 22:53:56 +0000"  >&lt;p&gt;Committed to branch. Thanks, Jitendra!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12588528" name="HIVE-4754.1.patch" size="4257" author="jnp" created="Wed, 19 Jun 2013 03:32:32 +0000"/>
                            <attachment id="12588715" name="HIVE-4754.2.patch" size="9062" author="jnp" created="Wed, 19 Jun 2013 22:36:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Jun 2013 22:03:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333863</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1llcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
