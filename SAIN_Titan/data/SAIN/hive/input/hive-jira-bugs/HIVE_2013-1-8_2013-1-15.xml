<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:22:45 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2013-1-8+AND+created+%3C%3D+2013-1-15+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="22" total="22"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3871] show number of mappers/reducers as part of explain extended</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3871</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be useful to show the number of mappers/reducers as part of explain extended.&lt;br/&gt;
For the MR jobs referencing intermediate data, the number can be approximate.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626492">HIVE-3871</key>
            <summary>show number of mappers/reducers as part of explain extended</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="nrai">niraj rai</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Jan 2013 05:11:55 +0000</created>
                <updated>Fri, 18 Jan 2013 05:05:47 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i177xj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3872] MAP JOIN  for VIEW throws NULL pointer exception error</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3872</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I have created a view  as shown below. &lt;/p&gt;

&lt;p&gt;CREATE VIEW V1 AS&lt;br/&gt;
select /*+ MAPJOIN(t1) ,MAPJOIN(t2)  */ t1.f1, t1.f2, t1.f3, t1.f4, t2.f1, t2.f2, t2.f3 from TABLE1 t1 join TABLE t2 on ( t1.f2= t2.f2 and t1.f3 = t2.f3 and t1.f4 = t2.f4 ) group by t1.f1, t1.f2, t1.f3, t1.f4, t2.f1, t2.f2, t2.f3&lt;/p&gt;

&lt;p&gt;View get created successfully however when I execute below mentioned SQL or any SQL on the view  get NULLPOINTER exception error&lt;/p&gt;

&lt;p&gt;hive&amp;gt; select count &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from V1;&lt;br/&gt;
FAILED: NullPointerException null&lt;br/&gt;
hive&amp;gt;&lt;/p&gt;

&lt;p&gt;Is there anything wrong with the view creation ?&lt;/p&gt;

&lt;p&gt;Next I created view without MAPJOIN hints &lt;/p&gt;

&lt;p&gt;CREATE VIEW V1 AS&lt;br/&gt;
select  t1.f1, t1.f2, t1.f3, t1.f4, t2.f1, t2.f2, t2.f3 from TABLE1 t1 join TABLE t2 on ( t1.f2= t2.f2 and t1.f3 = t2.f3 and t1.f4 = t2.f4 ) group by t1.f1, t1.f2, t1.f3, t1.f4, t2.f1, t2.f2, t2.f3&lt;/p&gt;

&lt;p&gt;Before executing select SQL I excute set  hive.auto.convert.join=true; &lt;/p&gt;

&lt;p&gt;I am getting beloow mentioned warnings&lt;br/&gt;
java.lang.InstantiationException: org.apache.hadoop.hive.ql.parse.ASTNodeOrigin&lt;br/&gt;
Continuing ...&lt;br/&gt;
java.lang.RuntimeException: failed to evaluate: &amp;lt;unbound&amp;gt;=Class.new();&lt;br/&gt;
Continuing ...&lt;/p&gt;


&lt;p&gt;And I see from log that total 5 mapreduce jobs are started however when don&apos;t set auto.convert.join to true, I see only 3 mapreduce jobs getting invoked.&lt;br/&gt;
Total MapReduce jobs = 5&lt;br/&gt;
Ended Job = 1116112419, job is filtered out (removed at runtime).&lt;br/&gt;
Ended Job = -33256989, job is filtered out (removed at runtime).&lt;br/&gt;
WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated. Please use org.apache.hadoop.log.metrics.EventCounter in all the log4j.properties files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626729">HIVE-3872</key>
            <summary>MAP JOIN  for VIEW throws NULL pointer exception error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="santoshachhra">Santosh Achhra</reporter>
                        <labels>
                            <label>HINTS</label>
                            <label>MAPJOIN</label>
                    </labels>
                <created>Wed, 9 Jan 2013 09:25:00 +0000</created>
                <updated>Fri, 24 Jan 2014 17:05:04 +0000</updated>
                            <resolved>Wed, 16 Jan 2013 15:48:36 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Views</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13554895" author="phabricator@reviews.facebook.net" created="Wed, 16 Jan 2013 10:06:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3872&quot; title=&quot;MAP JOIN  for VIEW throws NULL pointer exception error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3872&quot;&gt;&lt;del&gt;HIVE-3872&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; MAP JOIN  for VIEW thorws NULL pointer exception error&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1961 Invalid mapjoin hint throws NPE&lt;/p&gt;

&lt;p&gt;  I have created a view  as shown below.&lt;/p&gt;

&lt;p&gt;  CREATE VIEW V1 AS&lt;br/&gt;
  select /*+ MAPJOIN(t1) ,MAPJOIN(t2)  */ t1.f1, t1.f2, t1.f3, t1.f4, t2.f1, t2.f2, t2.f3 from TABLE1 t1 join TABLE t2 on ( t1.f2= t2.f2 and t1.f3 = t2.f3 and t1.f4 = t2.f4 ) group by t1.f1, t1.f2, t1.f3, t1.f4, t2.f1, t2.f2, t2.f3&lt;/p&gt;

&lt;p&gt;  View get created successfully however when I execute below mentioned SQL or any SQL on the view  get NULLPOINTER exception error&lt;/p&gt;

&lt;p&gt;  hive&amp;gt; select count  from V1;&lt;br/&gt;
  FAILED: NullPointerException null&lt;br/&gt;
  hive&amp;gt;&lt;/p&gt;

&lt;p&gt;  Is there anything wrong with the view creation ?&lt;/p&gt;

&lt;p&gt;  Next I created view without MAPJOIN hints&lt;/p&gt;

&lt;p&gt;  CREATE VIEW V1 AS&lt;br/&gt;
  select  t1.f1, t1.f2, t1.f3, t1.f4, t2.f1, t2.f2, t2.f3 from TABLE1 t1 join TABLE t2 on ( t1.f2= t2.f2 and t1.f3 = t2.f3 and t1.f4 = t2.f4 ) group by t1.f1, t1.f2, t1.f3, t1.f4, t2.f1, t2.f2, t2.f3&lt;/p&gt;

&lt;p&gt;  Before executing select SQL I excute set  hive.auto.convert.join=true;&lt;/p&gt;

&lt;p&gt;  I am getting beloow mentioned warnings&lt;br/&gt;
  java.lang.InstantiationException: org.apache.hadoop.hive.ql.parse.ASTNodeOrigin&lt;br/&gt;
  Continuing ...&lt;br/&gt;
  java.lang.RuntimeException: failed to evaluate: &amp;lt;unbound&amp;gt;=Class.new();&lt;br/&gt;
  Continuing ...&lt;/p&gt;

&lt;p&gt;  And I see from log that total 5 mapreduce jobs are started however when don&apos;t set auto.convert.join to true, I see only 3 mapreduce jobs getting invoked.&lt;br/&gt;
  Total MapReduce jobs = 5&lt;br/&gt;
  Ended Job = 1116112419, job is filtered out (removed at runtime).&lt;br/&gt;
  Ended Job = -33256989, job is filtered out (removed at runtime).&lt;br/&gt;
  WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated. Please use org.apache.hadoop.log.metrics.EventCounter in all the log4j.properties files.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7965&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7965&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_mapjoin1.q&lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_mapjoin1.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/19185/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/19185/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13554896" author="navis" created="Wed, 16 Jan 2013 10:07:34 +0000"  >&lt;p&gt;NPE is thrown while making exception message(At least one of the join alises whould not be map table). Not related to view logic. &lt;/p&gt;</comment>
                            <comment id="13554959" author="namit" created="Wed, 16 Jan 2013 11:52:48 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13554962" author="phabricator@reviews.facebook.net" created="Wed, 16 Jan 2013 11:54:11 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3872&quot; title=&quot;MAP JOIN  for VIEW throws NULL pointer exception error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3872&quot;&gt;&lt;del&gt;HIVE-3872&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; MAP JOIN  for VIEW thorws NULL pointer exception error&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7965&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7965&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1961&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;/p&gt;</comment>
                            <comment id="13555139" author="namit" created="Wed, 16 Jan 2013 15:48:36 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13555241" author="hudson" created="Wed, 16 Jan 2013 17:34:03 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #18 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/18/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/18/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3872&quot; title=&quot;MAP JOIN  for VIEW throws NULL pointer exception error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3872&quot;&gt;&lt;del&gt;HIVE-3872&lt;/del&gt;&lt;/a&gt; MAP JOIN for VIEW thorws NULL pointer exception error&lt;br/&gt;
(Navis via namit) (Revision 1433997)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1433997&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1433997&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_mapjoin1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_mapjoin1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13555731" author="hudson" created="Thu, 17 Jan 2013 01:30:21 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1917 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1917/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1917/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3872&quot; title=&quot;MAP JOIN  for VIEW throws NULL pointer exception error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3872&quot;&gt;&lt;del&gt;HIVE-3872&lt;/del&gt;&lt;/a&gt; MAP JOIN for VIEW thorws NULL pointer exception error&lt;br/&gt;
(Navis via namit) (Revision 1433997)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1433997&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1433997&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_mapjoin1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_mapjoin1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13556006" author="hudson" created="Thu, 17 Jan 2013 09:22:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #69 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/69/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/69/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3872&quot; title=&quot;MAP JOIN  for VIEW throws NULL pointer exception error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3872&quot;&gt;&lt;del&gt;HIVE-3872&lt;/del&gt;&lt;/a&gt; MAP JOIN for VIEW thorws NULL pointer exception error&lt;br/&gt;
(Navis via namit) (Revision 1433997)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1433997&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1433997&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_mapjoin1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_mapjoin1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12565104" name="HIVE-3872.D7965.1.patch" size="2443" author="phabricator@reviews.facebook.net" created="Wed, 16 Jan 2013 10:06:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Jan 2013 10:06:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17alj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250685</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3873] lot of tests failing for hadoop 23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3873</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following tests are failing on hadoop 23:&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: archive_excludeHadoop20.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: archive_multi.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: index_bitmap.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: join_filters_overlap.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: join_nullsafe.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: list_bucket_dml_6.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: list_bucket_dml_7.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: list_bucket_dml_8.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: list_bucket_query_oneskew_3.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: parenthesis_star_by.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Failed query: recursive_dir.q&lt;/p&gt;

&lt;p&gt;Some of them may be log updates.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626752">HIVE-3873</key>
            <summary>lot of tests failing for hadoop 23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2013 11:38:53 +0000</created>
                <updated>Thu, 16 May 2013 21:10:42 +0000</updated>
                            <resolved>Tue, 29 Jan 2013 08:17:30 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13548712" author="namit" created="Wed, 9 Jan 2013 17:34:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gangtimliu&quot; class=&quot;user-hover&quot; rel=&quot;gangtimliu&quot;&gt;Gang Tim Liu&lt;/a&gt;, there are a bunch of list bucketing related failures.&lt;br/&gt;
So, assigning it to you&lt;/p&gt;</comment>
                            <comment id="13548728" author="gangtimliu" created="Wed, 9 Jan 2013 17:46:04 +0000"  >&lt;p&gt;Yes, will take a look.&lt;/p&gt;</comment>
                            <comment id="13549372" author="namit" created="Thu, 10 Jan 2013 05:42:07 +0000"  >&lt;p&gt;The following tests failed on the completed run.&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_archive_excludeHadoop20&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_archive_multi&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_filters_overlap&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_nullsafe&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_2&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_4&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_6&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_7&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_8&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_9&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_query_multiskew_2&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_query_oneskew_3&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parenthesis_star_by&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_recursive_dir&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_table_access_keys_stats&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_percentile_approx&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/55/#showFailuresLink&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/55/#showFailuresLink&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13549547" author="thiruvel" created="Thu, 10 Jan 2013 11:21:41 +0000"  >&lt;p&gt;Some of the tests also fail when hive-10 is tested with 0.23.4.&lt;/p&gt;

&lt;p&gt;The following also fail in 0.10 and have a patch for branch 10 if required. Reasons vary from output in a different order (for queries without order by) or changes in test cases.&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_filters_overlap&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_nullsafe&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_query_multiskew_2&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_query_oneskew_3&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parenthesis_star_by&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_recursive_dir&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_table_access_keys_stats&lt;/p&gt;


&lt;p&gt;udaf_percentile_approx on branch 10 fail with a data quality issue, checking that out.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 20c20&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; 254.08333333333331&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; 252.77777777777777&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 47c47&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; 254.08333333333331&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; 252.77777777777777&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 74c74&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; &lt;span class=&quot;error&quot;&gt;&amp;#91;23.355555555555558,254.08333333333331,477.0625,489.5466666666667&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;24.07,252.77777777777777,476.9444444444444,487.82&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 101c101&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; &lt;span class=&quot;error&quot;&gt;&amp;#91;23.355555555555558,254.08333333333331,477.0625,489.5466666666667&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;24.07,252.77777777777777,476.9444444444444,487.82&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Archive tests also fail on 10, but havent looked at them.&lt;/p&gt;</comment>
                            <comment id="13550875" author="prasadm" created="Fri, 11 Jan 2013 06:19:58 +0000"  >&lt;p&gt;Looks like there&apos;s already a jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3025&quot; title=&quot;Fix Hive ARCHIVE command on 0.22 and 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3025&quot;&gt;&lt;del&gt;HIVE-3025&lt;/del&gt;&lt;/a&gt; for the archive tests.&lt;/p&gt;</comment>
                            <comment id="13560210" author="sushanth" created="Wed, 23 Jan 2013 00:05:42 +0000"  >&lt;p&gt;I looked at a bunch of these tests and submitted jiras for each one I put up a patch for : &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3912&quot; title=&quot;table_access_keys_stats.q fails with hadoop 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3912&quot;&gt;&lt;del&gt;HIVE-3912&lt;/del&gt;&lt;/a&gt; (table_access_keys_stats.q) , &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3921&quot; title=&quot;recursive_dir.q fails on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3921&quot;&gt;&lt;del&gt;HIVE-3921&lt;/del&gt;&lt;/a&gt; (recursive_dir.q) , &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3923&quot; title=&quot;join_filters_overlap.q fails on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3923&quot;&gt;&lt;del&gt;HIVE-3923&lt;/del&gt;&lt;/a&gt; (join_filters_overlap.q) and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3924&quot; title=&quot;join_nullsafe.q fails on 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3924&quot;&gt;&lt;del&gt;HIVE-3924&lt;/del&gt;&lt;/a&gt; (join_nullsafe.q).&lt;/p&gt;

&lt;p&gt;I also looked at parenthesis_star_by.q, and while it could be fixed by adding order-by to the test queries, I think that makes for a bad test, since order-by would mask sort-by and distribute-by. In fact, I&apos;m not entirely convinced that distribute-by should be tested using a .q file and a golden file.&lt;/p&gt;

&lt;p&gt;I&apos;ve also been looking at the archive failures, and will put up a patch for that soon.&lt;/p&gt;</comment>
                            <comment id="13563115" author="gangtimliu" created="Fri, 25 Jan 2013 22:44:41 +0000"  >&lt;p&gt;Here is patch which fixes a few of them.&lt;/p&gt;</comment>
                            <comment id="13563116" author="gangtimliu" created="Fri, 25 Jan 2013 22:45:04 +0000"  >&lt;p&gt;patch is available.&lt;/p&gt;</comment>
                            <comment id="13563400" author="namit" created="Sat, 26 Jan 2013 08:12:11 +0000"  >&lt;p&gt;Tim, can you create a phabricator entry ?&lt;br/&gt;
Also, file a separate follow-up jira for the ones still remaining to be fixed.&lt;/p&gt;</comment>
                            <comment id="13563615" author="gangtimliu" created="Sat, 26 Jan 2013 20:15:40 +0000"  >&lt;p&gt;sorry. created a phabricator but forgot to put it here: &lt;a href=&quot;https://reviews.facebook.net/D8199&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8199&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Yes, here is follow up jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3949&quot; title=&quot;Some test failures in hadoop 23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3949&quot;&gt;&lt;del&gt;HIVE-3949&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13565167" author="namit" created="Tue, 29 Jan 2013 07:57:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Running tests&lt;/p&gt;</comment>
                            <comment id="13565180" author="namit" created="Tue, 29 Jan 2013 08:17:30 +0000"  >&lt;p&gt;Committed. Thanks Tim&lt;/p&gt;</comment>
                            <comment id="13565241" author="hudson" created="Tue, 29 Jan 2013 10:01:05 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #53 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/53/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/53/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3873&quot; title=&quot;lot of tests failing for hadoop 23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3873&quot;&gt;&lt;del&gt;HIVE-3873&lt;/del&gt;&lt;/a&gt; lot of tests failing for hadoop 23&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1439777)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439777&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439777&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_3.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13565716" author="gangtimliu" created="Tue, 29 Jan 2013 19:48:33 +0000"  >&lt;p&gt;thank you Namit&lt;/p&gt;</comment>
                            <comment id="13565868" author="hudson" created="Tue, 29 Jan 2013 22:07:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1944 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1944/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1944/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3873&quot; title=&quot;lot of tests failing for hadoop 23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3873&quot;&gt;&lt;del&gt;HIVE-3873&lt;/del&gt;&lt;/a&gt; lot of tests failing for hadoop 23&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1439777)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439777&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439777&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_3.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13565955" author="hudson" created="Tue, 29 Jan 2013 23:23:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #95 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/95/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/95/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3873&quot; title=&quot;lot of tests failing for hadoop 23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3873&quot;&gt;&lt;del&gt;HIVE-3873&lt;/del&gt;&lt;/a&gt; lot of tests failing for hadoop 23&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1439777)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439777&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1439777&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_3.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12629407">HIVE-3949</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12555237">HIVE-3025</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12566570" name="HIVE-3873.patch" size="64275" author="gangtimliu" created="Fri, 25 Jan 2013 22:44:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Jan 2013 17:46:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17aqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3874] Create a new Optimized Row Columnar file format for Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3874</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are several limitations of the current RC File format that I&apos;d like to address by creating a new format:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;each column value is stored as a binary blob, which means:
	&lt;ul&gt;
		&lt;li&gt;the entire column value must be read, decompressed, and deserialized&lt;/li&gt;
		&lt;li&gt;the file format can&apos;t use smarter type-specific compression&lt;/li&gt;
		&lt;li&gt;push down filters can&apos;t be evaluated&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;the start of each row group needs to be found by scanning&lt;/li&gt;
	&lt;li&gt;user metadata can only be added to the file when the file is created&lt;/li&gt;
	&lt;li&gt;the file doesn&apos;t store the number of rows per a file or row group&lt;/li&gt;
	&lt;li&gt;there is no mechanism for seeking to a particular row number, which is required for external indexes.&lt;/li&gt;
	&lt;li&gt;there is no mechanism for storing light weight indexes within the file to enable push-down filters to skip entire row groups.&lt;/li&gt;
	&lt;li&gt;the type of the rows aren&apos;t stored in the file&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12626790">HIVE-3874</key>
            <summary>Create a new Optimized Row Columnar file format for Hive</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="owen.omalley">Owen O&apos;Malley</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2013 16:19:25 +0000</created>
                <updated>Thu, 16 May 2013 21:11:04 +0000</updated>
                            <resolved>Tue, 5 Mar 2013 20:45:20 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>6</votes>
                                    <watches>61</watches>
                                                                <comments>
                            <comment id="13548710" author="namit" created="Wed, 9 Jan 2013 17:33:21 +0000"  >&lt;p&gt;Owen, will it also be more compact overall ?&lt;br/&gt;
Will it be possible to perform dictionary encoding for a string ? Some initial experiments we performed on top of RCFile suggested that&lt;br/&gt;
dictionary encoding for low cardinality columns gives very good overall space savings for some of our top tables.&lt;/p&gt;

&lt;p&gt;It would be useful to have a initial patch/doc out asap, so that we can also play around with it.&lt;/p&gt;</comment>
                            <comment id="13548750" author="owen.omalley" created="Wed, 9 Jan 2013 17:59:02 +0000"  >&lt;p&gt;Namit,&lt;br/&gt;
  Yes, it has dictionary encoding for strings. The dictionary enables both better compression and makes push down filters much more efficient. The dictionaries are local to only the row group, so that row groups can be processed independently of each other. Currently, strings are always dictionary encoded, but it would make sense to allow the writer to pick whether the column should be encoded directly or using a dictionary.&lt;/p&gt;</comment>
                            <comment id="13549396" author="vinodkv" created="Thu, 10 Jan 2013 07:09:09 +0000"  >&lt;p&gt;+100 !&lt;/p&gt;</comment>
                            <comment id="13549410" author="he yongqiang" created="Thu, 10 Jan 2013 07:46:03 +0000"  >&lt;p&gt;will this optimized format support backward compatibility? If it&apos;s backward compatible, it will be easier to deploy. New formats without backward compatibility is really a headache, especially when you have a need to convert old data. &lt;/p&gt;</comment>
                            <comment id="13549416" author="vinodkv" created="Thu, 10 Jan 2013 08:00:13 +0000"  >&lt;p&gt;Bumping up the version number for ORC and transparently forwarding old data to the current file format should work, no?&lt;/p&gt;</comment>
                            <comment id="13549431" author="he yongqiang" created="Thu, 10 Jan 2013 08:36:11 +0000"  >&lt;p&gt;That should work, just want to make sure they have similar API, so other tools/utilities will automatically work, or just needs small changes. One example is the block merger.  &lt;/p&gt;</comment>
                            <comment id="13549556" author="namit" created="Thu, 10 Jan 2013 11:38:12 +0000"  >
&lt;p&gt;Can the index be made optional ? In our typical use-case, the old data is hardly queried - so we are willing to trade off cpu, and not&lt;br/&gt;
support skipping rows for old data to save some space.&lt;/p&gt;

&lt;p&gt;These are not v1 requirements, but might be good to have.&lt;/p&gt;</comment>
                            <comment id="13549559" author="namit" created="Thu, 10 Jan 2013 11:42:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt;, what are your thoughts on Trevni ? From the ppt. ORC strictly looks better than Trenvi.&lt;br/&gt;
Should we focus more on ORC in that case.&lt;/p&gt;</comment>
                            <comment id="13549774" author="owen.omalley" created="Thu, 10 Jan 2013 16:41:00 +0000"  >&lt;p&gt;He Yongqiang, the APIs to the two formats are significantly different. It would be possible to extend the RCFile reader to recognize an ORC file and to have it delegate to the ORC File reader.&lt;/p&gt;

&lt;p&gt;The other direction (having the ORC file reader parse an RCFile) isn&apos;t possible, because ORC provides operations that would be very expensive or impossible to implement in RCFile.&lt;/p&gt;

&lt;p&gt;One concern with making the RCFile reader delegate to the ORC file reader is that RCFile returns binary values that are interpreted by the serde while in ORC deserialization happens in the reader. Therefore, either the adaptor would need to re-serialize the data or would require changes in the serde as well.&lt;/p&gt;</comment>
                            <comment id="13549784" author="owen.omalley" created="Thu, 10 Jan 2013 16:49:59 +0000"  >&lt;p&gt;Namit, I obviously did consider Trevni, but it didn&apos;t support some of the features that I wanted:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;using the hive type model&lt;/li&gt;
	&lt;li&gt;more advanced encodings like dictionaries&lt;/li&gt;
	&lt;li&gt;the ability to support push down predicates for skipping row groups&lt;/li&gt;
	&lt;li&gt;running compression in block mode rather than streaming so that the reader can skip entire compression blocks&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13549804" author="namit" created="Thu, 10 Jan 2013 17:19:39 +0000"  >&lt;p&gt;What I meant was, for a pure hive user (who does not data inherit data from anywhere else), is there any advantage of trevni over ORC ?&lt;/p&gt;</comment>
                            <comment id="13549839" author="owen.omalley" created="Thu, 10 Jan 2013 17:54:57 +0000"  >&lt;p&gt;Namit, for pure hive users there aren&apos;t any advantages of trevni over ORC.&lt;/p&gt;</comment>
                            <comment id="13549867" author="cutting" created="Thu, 10 Jan 2013 18:24:30 +0000"  >&lt;p&gt;Owen, did you consider proposing improvements to Trevni instead?&lt;/p&gt;

&lt;p&gt;Addressing your four points of distinction with Trevni:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;How is Trevni&apos;s type model incompatible with Hive?  Is the irreparable?&lt;/li&gt;
	&lt;li&gt;Might dictionaries be somehow added to Trevni?&lt;/li&gt;
	&lt;li&gt;What sort of indexes are required in addition to those that Trevni supports, where the initial value of every block may be stored before all the blocks, permitting random access by value to the blocks?  If something different is required, might that be added to Trevni?&lt;/li&gt;
	&lt;li&gt;Trevni uses relatively small compression blocks (~64k) that may be skipped.  How would block mode substantially improve this?  If it would, might this change be made to Trevni?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13549870" author="he yongqiang" created="Thu, 10 Jan 2013 18:27:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;It would be possible to extend the RCFile reader to recognize an ORC file and to have it delegate to the ORC File reader.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;it will be great to have this support. In this case, what&apos;s the fileformat for the partition/table, rcfile, or orcfile?&lt;/p&gt;

&lt;p&gt;When we did the conversion for old data from sequencefile to rcfile long time ago, it is a big headache handle errors like &quot;unrecognized fileformat or corruption&quot; because there is no interoperability between these two files. The most errors we saw are because the table/partition format does not match the actual data format.&lt;/p&gt;

&lt;p&gt;two examples:&lt;br/&gt;
1. old partition&apos;s data is rcfile, new partition&apos;s data is in orc format. &lt;br/&gt;
2. in one partition, some files are rcfile, and some files are in orc format.&lt;/p&gt;
</comment>
                            <comment id="13549916" author="cutting" created="Thu, 10 Jan 2013 18:54:53 +0000"  >&lt;p&gt;A way to proceed with improvements to Trevni might be, once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3585&quot; title=&quot;Integrate Trevni as another columnar oriented file format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3585&quot;&gt;HIVE-3585&lt;/a&gt; is committed, propose a patch to Trevni together with a Hive benchmark that illustrates its advantage.  Then we could quantitatively demonstrate the advantage of each proposed improvement.  With &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3585&quot; title=&quot;Integrate Trevni as another columnar oriented file format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3585&quot;&gt;HIVE-3585&lt;/a&gt; we should be able to quantitatively demonstrate advantages of Trevni as-is over RCFile and SequenceFile.&lt;/p&gt;</comment>
                            <comment id="13550375" author="russell.jurney" created="Thu, 10 Jan 2013 20:25:48 +0000"  >&lt;p&gt;He had told us this work must go in contrib. See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3585&quot; title=&quot;Integrate Trevni as another columnar oriented file format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3585&quot;&gt;HIVE-3585&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13550379" author="he yongqiang" created="Thu, 10 Jan 2013 20:30:56 +0000"  >&lt;p&gt;I want to list a few thoughts why i think the orc solution is a much more appealing one.&lt;/p&gt;

&lt;p&gt;1. For a BIG data warehouse that stores more than 90% of existing data in rcfile (like FB&apos;s &amp;gt;100PB warehouse), data conversion from one format to another is something that definitely should be avoided. It is possible to convert some tables if there is a big space saving advantage. But managing two distinct formats which do not have any compatibility, inter-operability, or even in two different code repositories is another big headache that would avoid at the first place.&lt;br/&gt;
2. Developing the new ORC format in the hive/hcatalog codebase will make hive development/operations much easier.&lt;br/&gt;
3. Letting new ORC format have some backward compatibility with RCFile will save a lot of trouble.&lt;/p&gt;

</comment>
                            <comment id="13550898" author="vinodkv" created="Fri, 11 Jan 2013 06:54:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can the index be made optional ? In our typical use-case, the old data is hardly queried - so we are willing to trade off cpu, and not&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;support skipping rows for old data to save some space.&lt;br/&gt;
The way I understand it, index creation can be specified during creation, so it can be made optional. To start with, we may in fact have no indices and then add them later.&lt;/p&gt;</comment>
                            <comment id="13550961" author="namit" created="Fri, 11 Jan 2013 08:08:01 +0000"  >&lt;p&gt;In partition metadata, can I somehow specify - dont create index ?&lt;br/&gt;
When that partition is over-written, the index would dis-appear.&lt;/p&gt;

&lt;p&gt;I agree, we can think about that later.&lt;/p&gt;</comment>
                            <comment id="13551231" author="owen.omalley" created="Fri, 11 Jan 2013 16:33:33 +0000"  >&lt;p&gt;Namit, I&apos;m using the table properties to manage the other features like compression, so I would probably make a table property like &apos;orc.create.index&apos; or something. Would that make sense?&lt;/p&gt;

&lt;p&gt;I should note that the indexes are very light. In a sample file:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;uncompressed text: 370MB&lt;/li&gt;
	&lt;li&gt;compress orc: 86MB&lt;/li&gt;
	&lt;li&gt;row index in orc: 140k&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13551248" author="owen.omalley" created="Fri, 11 Jan 2013 16:47:19 +0000"  >&lt;p&gt;Doug, of course Trevni could be modified arbitrarily to match the needs of Hive. But Hive will benefit more if there is a deep integration between the file format and the query engine. Both HBase and Accumulo have file formats that were originally based on Hadoop&apos;s TFile. But the need for integration with the query engine was such that their projects were better served by having the file format in their project rather than an upstream project. &lt;/p&gt;

&lt;p&gt;Of course the Avro project is free to copy any of the ORC code into Trevni, but Hive has the need to innovate in this area without asking Avro to make changes and waiting for them to be released. &lt;/p&gt;</comment>
                            <comment id="13551275" author="sambavi" created="Fri, 11 Jan 2013 17:09:37 +0000"  >&lt;p&gt;Owen: is the row group expected to be about 250 MB (per stripe size)? Does your implementation attempt to make every row group align with HDFS block size so a split = 1 block?&lt;/p&gt;

&lt;p&gt;Also: do you have an ETA for an initial patch? We would really like to try this out - we have some additional ideas that we would like to try out on top of this.&lt;/p&gt;</comment>
                            <comment id="13551286" author="owen.omalley" created="Fri, 11 Jan 2013 17:23:49 +0000"  >&lt;p&gt;Sambavi, I should have a patch ready next week. Yes, the row groups (stripes) are 250MB by default. I currently set the HDFS block size for the files to 2 times the stripe size, but I don&apos;t try to align them other than that.&lt;/p&gt;</comment>
                            <comment id="13551347" author="namit" created="Fri, 11 Jan 2013 18:20:49 +0000"  >&lt;p&gt;Owen, that would be good &apos;a table property like &apos;orc.create.index&apos; or something&apos;&lt;/p&gt;</comment>
                            <comment id="13556977" author="jsensarma" created="Fri, 18 Jan 2013 05:40:26 +0000"  >&lt;p&gt;couple of observations:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;one use case mentioned is external indices. but in my experience, secondary index pointers have little correlation with the primary key ordering. If the use case is to speed up secondary index lookups - then one will be forced to consider smaller row groups. At that point - this starts breaking down - large row groups are good for scanning for scanning and compression - but poor for lookups.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  a possible way out is to do a two level structure - stripes or chunks as the unit of compression (column dictionaries maintained at this level), but a smaller unit for row-groups (a single 250MB chunk has many smaller row groups all encoded using a common dictionary). this can give a good balance of compression and lookup capabilities.&lt;/p&gt;

&lt;p&gt;  at this point - i believe - we are closer to a HFile data structure - and I think converging HFile* so it works well for Hive would be a great goal. A lot of people would benefit from letting HBase do indexing and let Hive/Hadoop chomp on HBase produced HFiles.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;another use case mentioned is pruning based on column ranges. Once again - these use cases typically only benefit columns whose values are correlated with the primary row order. Timestamps and anything correlated with timestamps do benefit - but others don&apos;t. In systems like Netezza - this is used as a substitute for partitioning.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  The issue is that pruning at the block level is not enough - because one has already generated large number splits for MR to chomp on. And large number splits make processing really slow - even if everything is pruned out inside each mapper. Unless that issue is addressed - most users would end up repartitioning their (using Hive&apos;s dynamic partitioning) based on column values - and the whole column range stuff would largely not come in use.&lt;/p&gt;</comment>
                            <comment id="13557245" author="yhuai" created="Fri, 18 Jan 2013 14:36:52 +0000"  >&lt;p&gt;one question. Why a small row group size has to be used if we want to speed up secondary index lookups? When using a large row group size, if we store a column to multiple blocks, with a index of this column in this large row group, we do not need to read the entire column from the disk. Also, we can use row numbers to locate what blocks should be read from other columns in the row group.&lt;/p&gt;

&lt;p&gt;If a small row group size is used, the size of a single column can be very small and a single buffered read may retrieve lots of unnecessary data from those unneeded columns from the disk.&lt;/p&gt;</comment>
                            <comment id="13557341" author="owen.omalley" created="Fri, 18 Jan 2013 16:52:49 +0000"  >&lt;p&gt;Joydeep, I&apos;ve used a two level strategy:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;large stripes (default 250MB) to enable large efficient reads&lt;/li&gt;
	&lt;li&gt;relatively frequent row index entries (default 10k rows) to enable skipping with in a stripe&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The row index entries have the locations within each column to enable seeking to the right compression block and byte within the decompressed block.&lt;/p&gt;

&lt;p&gt;I obviously did consider HFile, although from a practical point of view it is fairly embedded within HBase. Additionally, since it treats each of the columns as bytes it can&apos;t do any type-specific encodings/compression and can&apos;t interpret the column values, which is critical for performance.&lt;/p&gt;

&lt;p&gt;Once you have the ability to skip large sets of rows based on the filter predicates, you can sort the table on the secondary keys and achieve a large speed up. For example, if your primary partition is transaction date, you might want to sort the table on state, zip, and last name. Then if you are looking for just the records in CA it won&apos;t need to read the records for the other states.&lt;/p&gt;

</comment>
                            <comment id="13557353" author="owen.omalley" created="Fri, 18 Jan 2013 17:07:39 +0000"  >&lt;p&gt;Yin, large stripes (and I&apos;m defaulting to 250MB) enable efficient reads from HDFS. The row indexes help address the issue of the large stripes by providing the offsets within the large stripes.&lt;/p&gt;</comment>
                            <comment id="13557448" author="owen.omalley" created="Fri, 18 Jan 2013 18:31:21 +0000"  >&lt;p&gt;Here&apos;s the current version of the code. The seek to row isn&apos;t implemented and it is still a standalone project, but it will let people start looking at it.&lt;/p&gt;</comment>
                            <comment id="13557691" author="owen.omalley" created="Fri, 18 Jan 2013 22:30:18 +0000"  >&lt;p&gt;I&apos;ve updated the patch with the index suppression option that Nammit asked for.&lt;/p&gt;</comment>
                            <comment id="13560209" author="owen.omalley" created="Wed, 23 Jan 2013 00:05:22 +0000"  >&lt;p&gt;I&apos;ve fixed some bugs.&lt;/p&gt;</comment>
                            <comment id="13561067" author="alangates" created="Wed, 23 Jan 2013 20:33:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;Letting new ORC format have some backward compatibility with RCFile will save a lot of trouble.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=he+yongqiang&quot; class=&quot;user-hover&quot; rel=&quot;he yongqiang&quot;&gt;He Yongqiang&lt;/a&gt;, I&apos;m curious what trouble this would solve.  Hive handles the case where different partitions in a table have different formats.  Rather than trying to integrate these two formats at the InputFormat/SerDe level it makes more sense to me to test that when a table has some partitions in RC and some in ORC reads across the partitions still works.&lt;/p&gt;</comment>
                            <comment id="13566174" author="namit" created="Wed, 30 Jan 2013 05:23:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt;, do you want to get the patch in a compilable state in contrib ?&lt;br/&gt;
That way, we can work on getting it in, and continue development over there.&lt;/p&gt;</comment>
                            <comment id="13566175" author="namit" created="Wed, 30 Jan 2013 05:24:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, what do you think ?&lt;/p&gt;</comment>
                            <comment id="13566185" author="kevinwilfong" created="Wed, 30 Jan 2013 05:38:23 +0000"  >&lt;p&gt;+1 to Namit&apos;s suggestion&lt;/p&gt;</comment>
                            <comment id="13566707" author="owen.omalley" created="Wed, 30 Jan 2013 18:12:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt;, I&apos;ve got one more feature that I&apos;m working on (seek to row) and then I&apos;ll make a patch. I&apos;m aiming to upload the patch on Friday.&lt;/p&gt;</comment>
                            <comment id="13566727" author="namit" created="Wed, 30 Jan 2013 18:28:33 +0000"  >&lt;p&gt;I took a stab at it. I am attaching it just in case - feel free to ignore it.&lt;br/&gt;
I was not able to get the protocol buffer file auto-generated from ant, so I manually generated it for the&lt;br/&gt;
purpose of this patch.&lt;/p&gt;</comment>
                            <comment id="13568977" author="cwsteinbach" created="Fri, 1 Feb 2013 19:02:36 +0000"  >&lt;p&gt;@Namit: The only advantage I see to putting ORC in contrib is that it will make it harder for people to use. Why are people opposed to adding this to the serde module?&lt;/p&gt;</comment>
                            <comment id="13569010" author="kevinwilfong" created="Fri, 1 Feb 2013 19:46:17 +0000"  >&lt;p&gt;The reason I supported the idea was that I was hoping this would get it into the repo sooner.  Based on my experiences trying it so far, it seems a little unstable, but I would like to help fix the issues.  Getting the code in contrib would make it easier for other contributors to provide fixes as we develop them, without suggesting to users that it is as solid as any other piece of code in Hive (relatively speaking of course).  I assumed it would be pulled into the serde module after this (short) period of cleanup.&lt;/p&gt;

&lt;p&gt;If people are willing to pull this into the serde module with the knowledge of that instability and that people would be working to fix it, I&apos;d be happy with that too.&lt;/p&gt;</comment>
                            <comment id="13569029" author="cwsteinbach" created="Fri, 1 Feb 2013 20:09:41 +0000"  >&lt;p&gt;@Kevin: I think there will be more than enough time to stabilize this feature on trunk before the next release. I also think putting this code in the serde module and adding a release note explaining any stability issues is preferable to the alternative which will require users to update all of their scripts when ORC is moved from contrib to serde.&lt;/p&gt;</comment>
                            <comment id="13569036" author="kevinwilfong" created="Fri, 1 Feb 2013 20:25:21 +0000"  >&lt;p&gt;@Carl: In that case, I don&apos;t see any reason to put it in contrib.&lt;/p&gt;</comment>
                            <comment id="13569237" author="kevinwilfong" created="Fri, 1 Feb 2013 23:24:45 +0000"  >&lt;p&gt;@Owen: Regarding some of the issues I&apos;ve seen:&lt;br/&gt;
1) In the add method in DynamicByteArray, the line which updates remaining seems a little off, and it causes a NPE if newLength &amp;gt; chunkSize / 2&lt;br/&gt;
I think it should be remaining -= size&lt;br/&gt;
2) I had trouble reading a column of only null values, I saw division by zero exceptions in a couple methods of DynamicByteArray.&lt;br/&gt;
I wrote up a possible fix here &lt;a href=&quot;https://reviews.facebook.net/D8361&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8361&lt;/a&gt; but I&apos;m not sure if it&apos;s the right fix.&lt;/p&gt;

&lt;p&gt;If you want to wait, I can file formal JIRAs for these later instead.&lt;/p&gt;</comment>
                            <comment id="13569829" author="namit" created="Sun, 3 Feb 2013 17:49:22 +0000"  >&lt;p&gt;@Carl, I am OK with putting this in the serde.&lt;br/&gt;
We can even add a new config, which clearly says that this is a work in progress type of thing.&lt;br/&gt;
The only reason for contrib was to suggest that this is not stable enough.&lt;/p&gt;</comment>
                            <comment id="13570888" author="kevinwilfong" created="Tue, 5 Feb 2013 02:38:06 +0000"  >&lt;p&gt;@Owen: Here&apos;s a couple more issues I ran into, and again I can file JIRAs for these later once the code is checked in.&lt;/p&gt;

&lt;p&gt;Incorrect deserialization of doubles (leads to a lot of NaNs)&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D8379&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8379&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Strings are written incorrectly when they span two chunks of a DynamicByteArray&lt;br/&gt;
E.g. say the original string is &apos;abcdefghi&apos; the string written in the ORC file may be &apos;abcdefabc&apos;&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D8385&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8385&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13571510" author="owen.omalley" created="Tue, 5 Feb 2013 17:54:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevinwilfong&quot; class=&quot;user-hover&quot; rel=&quot;kevinwilfong&quot;&gt;Kevin Wilfong&lt;/a&gt; Thanks for the bug fixes, Kevin. I pushed the DynamicByteArray and double serialization fixes to &lt;a href=&quot;https://github.com/hortonworks/orc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;github&lt;/a&gt;. I have the null column problem fixed, but it is tied into my other changes on my row-seek dev branch. I hope to finish up the row-seek today and I&apos;ll merge it into master and make the patch putting it into Hive.&lt;/p&gt;</comment>
                            <comment id="13572623" author="owen.omalley" created="Wed, 6 Feb 2013 18:02:45 +0000"  >&lt;p&gt;I&apos;ve pushed the current version up to &lt;a href=&quot;http://github.com/hortonworks/orc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;github&lt;/a&gt; with the seek to record implemented. Does it make more sense to put ORC into serde or ql? RCFile is in ql, so I&apos;d assumed it would go there. Thoughts?&lt;/p&gt;</comment>
                            <comment id="13572629" author="namit" created="Wed, 6 Feb 2013 18:10:51 +0000"  >&lt;p&gt;ql is fine.&lt;/p&gt;</comment>
                            <comment id="13572677" author="vinodkv" created="Wed, 6 Feb 2013 19:06:56 +0000"  >&lt;p&gt;Would it make sense to create a (very) temporary svn branch for capturing various bug fixes from (possibly) different contributors on sub-JIRAs?&lt;/p&gt;</comment>
                            <comment id="13574783" author="kevinwilfong" created="Fri, 8 Feb 2013 20:18:47 +0000"  >&lt;p&gt;Thanks for merging my fixes Owen, any update on uploading a patch here?&lt;/p&gt;</comment>
                            <comment id="13576691" author="owen.omalley" created="Tue, 12 Feb 2013 15:36:03 +0000"  >&lt;p&gt;Kevin, I had some distractions at work, but I should get the patch uploaded today.&lt;/p&gt;</comment>
                            <comment id="13577130" author="phabricator@reviews.facebook.net" created="Tue, 12 Feb 2013 22:49:12 +0000"  >&lt;p&gt;omalley requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt;. Create ORC File format.&lt;/p&gt;

&lt;p&gt;There are several limitations of the current RC File format that I&apos;d like to address by creating a new format:&lt;/p&gt;

&lt;p&gt;	each column value is stored as a binary blob, which means:&lt;/p&gt;

&lt;p&gt;		the entire column value must be read, decompressed, and deserialized&lt;br/&gt;
		the file format can&apos;t use smarter type-specific compression&lt;br/&gt;
		push down filters can&apos;t be evaluated&lt;/p&gt;

&lt;p&gt;	the start of each row group needs to be found by scanning&lt;br/&gt;
	user metadata can only be added to the file when the file is created&lt;br/&gt;
	the file doesn&apos;t store the number of rows per a file or row group&lt;br/&gt;
	there is no mechanism for seeking to a particular row number, which is required for external indexes.&lt;br/&gt;
	there is no mechanism for storing light weight indexes within the file to enable push-down filters to skip entire row groups.&lt;br/&gt;
	the type of the rows aren&apos;t stored in the file&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc/OrcProto.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/BitFieldReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/BitFieldWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/BooleanColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/ColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/ColumnStatisticsImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/CompressionCodec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/CompressionKind.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/DoubleColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/DynamicByteArray.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/DynamicIntArray.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/FileDump.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/InStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/IntegerColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OrcFile.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OrcInputFormat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OrcOutputFormat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OrcSerde.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OrcStruct.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OrcUnion.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OutStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/PositionProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/PositionRecorder.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/PositionedOutputStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/Reader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/ReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/RecordReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/RecordReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/RedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/RunLengthByteReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/RunLengthByteWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/RunLengthIntegerReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/RunLengthIntegerWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/SerializationUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/SnappyCodec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/StreamName.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/StringColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/StringRedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/StripeInformation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/Writer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/WriterImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/ZlibCodec.java&lt;br/&gt;
  ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc/orc_proto.proto&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestBitFieldReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestDynamicArray.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestFileDump.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInStream.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInputOutputFormat.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcFile.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcStruct.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthByteReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthIntegerReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestSerializationUtils.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStreamName.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStringRedBlackTree.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestZlib.java&lt;br/&gt;
  ql/src/test/resources/orc-file-dump.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/20781/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/20781/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;/p&gt;</comment>
                            <comment id="13578587" author="phabricator@reviews.facebook.net" created="Thu, 14 Feb 2013 19:21:11 +0000"  >&lt;p&gt;kevinwilfong has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;p&gt;  A couple of minor style comments, according to the style guide &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HowToContribute#HowToContribute-CodingConvention&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HowToContribute#HowToContribute-CodingConvention&lt;/a&gt; :&lt;/p&gt;

&lt;p&gt;  There are a number of places in the code where you are missing spaces around + operators (e.g. line 58 in DynamicByteArray), you&apos;re missing a space between for and ( (e.g. line 63 in DynamicByteArray), and you&apos;re missing a space before a : in a for-each loop (e.g. line 191 in OrcStruct).&lt;/p&gt;

&lt;p&gt;  Mentioning these now as I don&apos;t want them to hold up a commit later.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OrcInputFormat.java:149-151 Is this loop necessary?  result is a boolean array so all of these entries will default to false anyway&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OutStream.java:136-140 I&apos;m a little confused by this, if compressed is null, why aren&apos;t you initializing overflow as well?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OrcStruct.java:307 I saw issues with this, and TypeInfoUtils expecting array instead of list.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/WriterImpl.java:561-562 As far as I can tell, by storing the intermediate string data in these structures which do not write to a stream until writeStripe is called, the size of string columns is not being accounted for at all when determining whether or not to write out the stripe.  (This could be fixed as a follow up)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13578829" author="phabricator@reviews.facebook.net" created="Fri, 15 Feb 2013 00:11:11 +0000"  >&lt;p&gt;kevinwilfong has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;p&gt;  lso&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/BitFieldReader.java:18 The package name doesn&apos;t match the directory structure.  This doesn&apos;t seem to be causing the build to fail, but in Eclipse it shows up as an error.  Could you adjust either the package name or the directory structure so they match.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13578830" author="phabricator@reviews.facebook.net" created="Fri, 15 Feb 2013 00:11:12 +0000"  >&lt;p&gt;kevinwilfong has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;p&gt;  *Ignore the &quot;lso&quot;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13580571" author="phabricator@reviews.facebook.net" created="Mon, 18 Feb 2013 12:07:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;p&gt;  Do you want to have a simple test for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4015&quot; title=&quot;Add ORC file to the grammar as a file format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4015&quot;&gt;&lt;del&gt;HIVE-4015&lt;/del&gt;&lt;/a&gt; as part of this patch ?&lt;br/&gt;
  Dont need to be exhaustive, but just a very simple select&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: kevinwilfong, njain&lt;/p&gt;</comment>
                            <comment id="13582001" author="phabricator@reviews.facebook.net" created="Wed, 20 Feb 2013 06:51:12 +0000"  >&lt;p&gt;omalley updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed Kevin&apos;s feedback.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Fixed 500+ warnings out of checkstyle - there are a few left that I couldn&apos;t&lt;br/&gt;
    avoid.&lt;/li&gt;
	&lt;li&gt;Fixed all of the cases that I could find where operators didn&apos;t have space&lt;br/&gt;
    around them. If we care about that, we should configure checkstyle to check&lt;br/&gt;
    for it.&lt;/li&gt;
	&lt;li&gt;Fixed the directory with the code to match the package name.&lt;/li&gt;
	&lt;li&gt;Removed the loop initializing the boolean array in OrcInputFormat.&lt;/li&gt;
	&lt;li&gt;Added code to include the dictionary size when estimating memory size.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529?vs=27621&amp;amp;id=28101#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529?vs=27621&amp;amp;id=28101#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc/OrcProto.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/BitFieldReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/BitFieldWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/BooleanColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ColumnStatisticsImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/CompressionCodec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/CompressionKind.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/DoubleColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/DynamicByteArray.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/DynamicIntArray.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/FileDump.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/InStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/IntegerColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcFile.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcOutputFormat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcSerde.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcStruct.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcUnion.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OutStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionRecorder.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionedOutputStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/Reader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthByteReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthByteWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/SerializationUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/SnappyCodec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StreamName.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringRedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StripeInformation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/Writer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ZlibCodec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/package-info.java&lt;br/&gt;
  ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc/orc_proto.proto&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestBitFieldReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestDynamicArray.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestFileDump.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInStream.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInputOutputFormat.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcFile.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcStruct.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthByteReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthIntegerReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestSerializationUtils.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStreamName.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStringRedBlackTree.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestZlib.java&lt;br/&gt;
  ql/src/test/resources/orc-file-dump.out&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: kevinwilfong, njain&lt;/p&gt;</comment>
                            <comment id="13582121" author="namit" created="Wed, 20 Feb 2013 11:37:02 +0000"  >&lt;p&gt;Can you fix eclipse also ?&lt;/p&gt;</comment>
                            <comment id="13583078" author="phabricator@reviews.facebook.net" created="Thu, 21 Feb 2013 10:22:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;


&lt;p&gt;  1. Can you add more comments - specially, in the class/interface definitions&lt;br/&gt;
     Writer/TreeWriter/StreamFactory to name a few.&lt;br/&gt;
  2. Can column statistics be made optional ? (can be a follow-up)&lt;br/&gt;
  3. This has a lot of new code - I mean, is it possible to use some of the constructs which are&lt;br/&gt;
      already there - for eg. RedBlackTrees, RLE etc. Can you use some existing implementations&lt;br/&gt;
      instead of writing these from scratch ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: kevinwilfong, njain&lt;/p&gt;</comment>
                            <comment id="13583107" author="phabricator@reviews.facebook.net" created="Thu, 21 Feb 2013 11:08:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;p&gt;  Right now, the RLE is fixed. Should it be pluggable ? I mean - we can have a different scheme to&lt;br/&gt;
  store deltas.&lt;/p&gt;


&lt;p&gt;  It is perfectly fine to do all these changes in follow-ups, Can you file jiras for them, as you see&lt;br/&gt;
  appropriate. That way, once the basic framework is in, other people can also jump in&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerWriter.java:84 Is this correct &amp;#8211; should you be comparing with literals&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; ?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerWriter.java:105 If I understand it right, we are not optimizing for Deltas:&lt;br/&gt;
  If the data is:&lt;/p&gt;

&lt;p&gt;  10&lt;br/&gt;
  11&lt;br/&gt;
  12&lt;br/&gt;
  13&lt;br/&gt;
  14&lt;/p&gt;

&lt;p&gt;  We will be storing each value separately&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: kevinwilfong, njain&lt;/p&gt;</comment>
                            <comment id="13583371" author="phabricator@reviews.facebook.net" created="Thu, 21 Feb 2013 17:44:11 +0000"  >&lt;p&gt;omalley updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fix unit tests&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529?vs=28101&amp;amp;id=28305#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529?vs=28101&amp;amp;id=28305#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc/OrcProto.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/BitFieldReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/BitFieldWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/BooleanColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ColumnStatisticsImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/CompressionCodec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/CompressionKind.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/DoubleColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/DynamicByteArray.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/DynamicIntArray.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/FileDump.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/InStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/IntegerColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcFile.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcOutputFormat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcSerde.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcStruct.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcUnion.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OutStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionRecorder.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionedOutputStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/Reader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthByteReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthByteWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/SerializationUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/SnappyCodec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StreamName.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringRedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StripeInformation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/Writer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ZlibCodec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/package-info.java&lt;br/&gt;
  ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc/orc_proto.proto&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestBitFieldReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestDynamicArray.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestFileDump.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInStream.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInputOutputFormat.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcFile.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcStruct.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthByteReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthIntegerReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestSerializationUtils.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStreamName.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStringRedBlackTree.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestZlib.java&lt;br/&gt;
  ql/src/test/resources/orc-file-dump.out&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: kevinwilfong, njain&lt;/p&gt;</comment>
                            <comment id="13583385" author="phabricator@reviews.facebook.net" created="Thu, 21 Feb 2013 18:00:12 +0000"  >&lt;p&gt;omalley has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Do you want to have a simple test for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4015&quot; title=&quot;Add ORC file to the grammar as a file format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4015&quot;&gt;&lt;del&gt;HIVE-4015&lt;/del&gt;&lt;/a&gt; as part of this patch ?&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;  Since the test will fail until I change the grammer, I think it would be better to wait until they will pass.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1. Can you add more comments - specially, in the class/interface definitions Writer/TreeWriter/StreamFactory to name a few.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;  Sure.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 2. Can column statistics be made optional ? (can be a follow-up)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;  They are very cheap in practice, but it wouldn&apos;t be hard to disable them.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3. This has a lot of new code - I mean, is it possible to use some of the constructs which are already there - for eg. RedBlackTrees, RLE etc. Can you use some existing implementations instead of writing these from scratch ?&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;  I&apos;m a big fan of not writing new code when I can just use someone else&apos;s. That said, it is always a trade off when evaluating when to re-use versus write new that involves comparing the requirements to what the other code provides.&lt;/p&gt;

&lt;p&gt;  I&apos;m not aware of any open source java red-black trees that work on primitives without allocating multiple objects per an entry. Do you have a suggestion?&lt;/p&gt;

&lt;p&gt;  The RLE is very specific to ORC format and it didn&apos;t seem like any of the implementations available were a good match. I&apos;m also considering how to do a better delta and small integer encoding, but I&apos;ll do that in a follow up jira.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Right now, the RLE is fixed. Should it be pluggable ? I mean - we can have a different scheme to store deltas.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;  I think that pluggable will create compatibility problems, since you won&apos;t be able to read an ORC file that was written by a different plugin.&lt;/p&gt;

&lt;p&gt;  My preferred direction is to use the ColumnEncoding to allow the Writer to pick a different encoding based on the observed data. For example, by looking at the first 100,000 values the writer should be able to decide if a dictionary or direct encoding is better. We could use the same mechanism to add additional encodings.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OutStream.java:136-140 There is an requirement that the codec&apos;s compress method will return false rather than take more space than the input. Given that, if the compressed is empty, we can&apos;t need the overflow.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OrcInputFormat.java:149-151 I&apos;ve removed it.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/OrcStruct.java:307 fixed.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/WriterImpl.java:561-562 I&apos;ve added the size of the dictionary to the estimate of the memory size, which should be better.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/orc/BitFieldReader.java:18 i managed to move the directory in the wrong place. fixed.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: kevinwilfong, njain&lt;/p&gt;</comment>
                            <comment id="13586004" author="phabricator@reviews.facebook.net" created="Mon, 25 Feb 2013 17:14:11 +0000"  >&lt;p&gt;omalley requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;improve some of the comments on WriterImpl&lt;/p&gt;

&lt;p&gt;There are several limitations of the current RC File format that I&apos;d like to address by creating a new format:&lt;/p&gt;

&lt;p&gt;	each column value is stored as a binary blob, which means:&lt;/p&gt;

&lt;p&gt;		the entire column value must be read, decompressed, and deserialized&lt;br/&gt;
		the file format can&apos;t use smarter type-specific compression&lt;br/&gt;
		push down filters can&apos;t be evaluated&lt;/p&gt;

&lt;p&gt;	the start of each row group needs to be found by scanning&lt;br/&gt;
	user metadata can only be added to the file when the file is created&lt;br/&gt;
	the file doesn&apos;t store the number of rows per a file or row group&lt;br/&gt;
	there is no mechanism for seeking to a particular row number, which is required for external indexes.&lt;br/&gt;
	there is no mechanism for storing light weight indexes within the file to enable push-down filters to skip entire row groups.&lt;br/&gt;
	the type of the rows aren&apos;t stored in the file&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/21597/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/21597/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;/p&gt;</comment>
                            <comment id="13586008" author="phabricator@reviews.facebook.net" created="Mon, 25 Feb 2013 17:16:11 +0000"  >&lt;p&gt;omalley has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;/p&gt;</comment>
                            <comment id="13586012" author="phabricator@reviews.facebook.net" created="Mon, 25 Feb 2013 17:18:12 +0000"  >&lt;p&gt;omalley updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create a new Optimized Row Columnar file format for Hive&quot;.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;started updating comments&lt;/li&gt;
	&lt;li&gt;more style changes&lt;/li&gt;
	&lt;li&gt;fix compilation&lt;/li&gt;
	&lt;li&gt;fix unit tests&lt;/li&gt;
	&lt;li&gt;fix more unit tests&lt;/li&gt;
	&lt;li&gt;added more comments&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8529?vs=28305&amp;amp;id=28617#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8529?vs=28305&amp;amp;id=28617#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.properties&lt;br/&gt;
  build.xml&lt;br/&gt;
  ivy/libraries.properties&lt;br/&gt;
  ql/build.xml&lt;br/&gt;
  ql/ivy.xml&lt;br/&gt;
  ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc/OrcProto.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/BitFieldReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/BitFieldWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/BooleanColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ColumnStatisticsImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/CompressionCodec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/CompressionKind.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/DoubleColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/DynamicByteArray.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/DynamicIntArray.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/FileDump.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/InStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/IntegerColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcFile.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcOutputFormat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcSerde.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcStruct.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcUnion.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OutStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionRecorder.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionedOutputStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/Reader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthByteReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthByteWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerWriter.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/SerializationUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/SnappyCodec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StreamName.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringColumnStatistics.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringRedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StripeInformation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/Writer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ZlibCodec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/package-info.java&lt;br/&gt;
  ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc/orc_proto.proto&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestBitFieldReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestDynamicArray.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestFileDump.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInStream.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInputOutputFormat.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcFile.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcStruct.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthByteReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthIntegerReader.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestSerializationUtils.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStreamName.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStringRedBlackTree.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestZlib.java&lt;br/&gt;
  ql/src/test/resources/orc-file-dump.out&lt;/p&gt;

&lt;p&gt;To: JIRA, omalley&lt;br/&gt;
Cc: kevinwilfong, njain&lt;/p&gt;</comment>
                            <comment id="13586018" author="owen.omalley" created="Mon, 25 Feb 2013 17:24:21 +0000"  >&lt;p&gt;Ok, I added some additional comments in the Writer as Namit asked and all of the unit tests cases pass.&lt;/p&gt;</comment>
                            <comment id="13587922" author="kevinwilfong" created="Wed, 27 Feb 2013 02:27:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Thanks Owen, I think this is ready.&lt;/p&gt;</comment>
                            <comment id="13588983" author="owen.omalley" created="Thu, 28 Feb 2013 00:54:28 +0000"  >&lt;p&gt;I&apos;m actually tracking down a bug that Gunther found with a query. Let me finish track it down.&lt;/p&gt;</comment>
                            <comment id="13588986" author="kevinwilfong" created="Thu, 28 Feb 2013 01:00:52 +0000"  >&lt;p&gt;K, let me know when it&apos;s ready for review again.&lt;/p&gt;</comment>
                            <comment id="13590092" author="pamelavagata" created="Fri, 1 Mar 2013 00:16:20 +0000"  >&lt;p&gt;Owen, would you mind filing the bug as a separate JIRA and committing the code as is? We are currently hunting down issues and putting together fixes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13590607" author="owen.omalley" created="Fri, 1 Mar 2013 15:06:26 +0000"  >&lt;p&gt;Pamela,&lt;br/&gt;
  Yeah, that probably makes sense. I&apos;ll file the follow up jiras.&lt;/p&gt;</comment>
                            <comment id="13590757" author="kevinwilfong" created="Fri, 1 Mar 2013 17:45:43 +0000"  >&lt;p&gt;Thanks Pam and Owen.&lt;/p&gt;

&lt;p&gt;+1 again&lt;/p&gt;</comment>
                            <comment id="13593818" author="hagleitn" created="Tue, 5 Mar 2013 19:43:35 +0000"  >&lt;p&gt;Looks good to me. +1 (non-committer)&lt;/p&gt;</comment>
                            <comment id="13593891" author="kevinwilfong" created="Tue, 5 Mar 2013 20:45:20 +0000"  >&lt;p&gt;Committed, thanks Owen!&lt;/p&gt;</comment>
                            <comment id="13594521" author="hudson" created="Wed, 6 Mar 2013 09:31:04 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2002 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2002/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2002/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt;. Create a new Optimized Row Columnar file format for Hive. (Owen O&apos;Malley via kevinwilfong) (Revision 1452992)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1452992&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1452992&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc/OrcProto.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/BitFieldReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/BitFieldWriter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/BooleanColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/ColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/ColumnStatisticsImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/CompressionCodec.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/CompressionKind.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/DoubleColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/DynamicByteArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/DynamicIntArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/FileDump.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/InStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/IntegerColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcSerde.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcUnion.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OutStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionRecorder.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionedOutputStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/Reader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/ReaderImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RedBlackTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthByteReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthByteWriter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerWriter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/SerializationUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/SnappyCodec.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/StreamName.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringRedBlackTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/StripeInformation.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/Writer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/ZlibCodec.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/package-info.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop/hive/ql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop/hive/ql/io&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc/orc_proto.proto&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestBitFieldReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestDynamicArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestFileDump.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInputOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthByteReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthIntegerReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestSerializationUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStreamName.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStringRedBlackTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestZlib.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/resources/orc-file-dump.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623001" author="hudson" created="Thu, 4 Apr 2013 23:39:47 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt;. Create a new Optimized Row Columnar file format for Hive. (Owen O&apos;Malley via kevinwilfong) (Revision 1452992)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1452992&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1452992&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc/OrcProto.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/BitFieldReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/BitFieldWriter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/BooleanColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/ColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/ColumnStatisticsImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/CompressionCodec.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/CompressionKind.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/DoubleColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/DynamicByteArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/DynamicIntArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/FileDump.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/InStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/IntegerColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcSerde.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcUnion.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OutStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionRecorder.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/PositionedOutputStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/Reader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/ReaderImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RedBlackTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthByteReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthByteWriter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RunLengthIntegerWriter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/SerializationUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/SnappyCodec.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/StreamName.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringRedBlackTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/StripeInformation.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/Writer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/ZlibCodec.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/package-info.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop/hive/ql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop/hive/ql/io&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc/orc_proto.proto&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestBitFieldReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestDynamicArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestFileDump.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInputOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthByteReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestRunLengthIntegerReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestSerializationUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStreamName.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestStringRedBlackTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestZlib.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/resources/orc-file-dump.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12643145">HIVE-4376</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12634826">HIVE-4097</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12634828">HIVE-4098</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12627202">ORC-15</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12633565">HIVE-4059</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12633602">HIVE-4060</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12633607">HIVE-4063</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12633564">HIVE-4058</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12633604">HIVE-4061</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12633605">HIVE-4062</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12632118">HIVE-4015</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12569090" name="HIVE-3874.D8529.1.patch" size="752536" author="phabricator@reviews.facebook.net" created="Tue, 12 Feb 2013 22:49:12 +0000"/>
                            <attachment id="12570091" name="HIVE-3874.D8529.2.patch" size="758043" author="phabricator@reviews.facebook.net" created="Wed, 20 Feb 2013 06:51:12 +0000"/>
                            <attachment id="12570332" name="HIVE-3874.D8529.3.patch" size="758989" author="phabricator@reviews.facebook.net" created="Thu, 21 Feb 2013 17:44:11 +0000"/>
                            <attachment id="12570813" name="HIVE-3874.D8529.4.patch" size="763287" author="phabricator@reviews.facebook.net" created="Mon, 25 Feb 2013 17:18:12 +0000"/>
                            <attachment id="12570810" name="HIVE-3874.D8871.1.patch" size="11886" author="phabricator@reviews.facebook.net" created="Mon, 25 Feb 2013 17:14:11 +0000"/>
                            <attachment id="12564124" name="OrcFileIntro.pptx" size="1151595" author="owen.omalley" created="Thu, 10 Jan 2013 06:24:31 +0000"/>
                            <attachment id="12567179" name="hive.3874.2.patch" size="681734" author="namit" created="Wed, 30 Jan 2013 18:27:06 +0000"/>
                            <attachment id="12566052" name="orc.tgz" size="49798" author="owen.omalley" created="Wed, 23 Jan 2013 00:05:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Jan 2013 17:33:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303408</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17azr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250749</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3875] negative value for hive.stats.ndv.error should be disallowed </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3875</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, if a negative value is specified for hive.stats.ndv.error in hive-site.xml, it is treated as 0. We should instead throw an exception.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626830">HIVE-3875</key>
            <summary>negative value for hive.stats.ndv.error should be disallowed </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2013 19:24:51 +0000</created>
                <updated>Thu, 16 May 2013 21:10:07 +0000</updated>
                            <resolved>Fri, 11 Jan 2013 01:47:38 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13549007" author="cwsteinbach" created="Wed, 9 Jan 2013 21:10:21 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13550688" author="cwsteinbach" created="Fri, 11 Jan 2013 01:47:38 +0000"  >&lt;p&gt;Committed to trunk. Thanks Shreepadma!&lt;/p&gt;</comment>
                            <comment id="13550693" author="shreepadma" created="Fri, 11 Jan 2013 01:51:21 +0000"  >&lt;p&gt;Thanks Carl for committing.&lt;/p&gt;</comment>
                            <comment id="13550797" author="hudson" created="Fri, 11 Jan 2013 04:00:33 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #6 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/6/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/6/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3875&quot; title=&quot;negative value for hive.stats.ndv.error should be disallowed &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3875&quot;&gt;&lt;del&gt;HIVE-3875&lt;/del&gt;&lt;/a&gt;. Negative value for hive.stats.ndv.error should be disallowed (Shreepadma Venugopalan via cws) (Revision 1431793)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431793&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431793&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ColumnStatsSemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13551044" author="hudson" created="Fri, 11 Jan 2013 10:56:42 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #58 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/58/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/58/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3875&quot; title=&quot;negative value for hive.stats.ndv.error should be disallowed &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3875&quot;&gt;&lt;del&gt;HIVE-3875&lt;/del&gt;&lt;/a&gt;. Negative value for hive.stats.ndv.error should be disallowed (Shreepadma Venugopalan via cws) (Revision 1431793)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431793&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431793&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ColumnStatsSemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13551092" author="hudson" created="Fri, 11 Jan 2013 13:03:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1906 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1906/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1906/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3875&quot; title=&quot;negative value for hive.stats.ndv.error should be disallowed &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3875&quot;&gt;&lt;del&gt;HIVE-3875&lt;/del&gt;&lt;/a&gt;. Negative value for hive.stats.ndv.error should be disallowed (Shreepadma Venugopalan via cws) (Revision 1431793)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431793&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431793&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ColumnStatsSemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12564024" name="HIVE-3875.1.patch.txt" size="2975" author="shreepadma" created="Wed, 9 Jan 2013 20:12:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Jan 2013 21:10:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17b8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250790</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3876] call resetValid instead of ensureCapacity in the constructor of BytesRefArrayWritable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3876</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In the constructor of BytesRefArrayWritable, ensureCapacity(capacity) is called, but &quot;valid&quot; has not been adjusted accordingly. After a new BytesRefArrayWritable has been created with a initial capacity of &quot;x&quot;, if resetValid() has not been called explicitly, the size returned is still 0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626852">HIVE-3876</key>
            <summary>call resetValid instead of ensureCapacity in the constructor of BytesRefArrayWritable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2013 21:26:24 +0000</created>
                <updated>Mon, 3 Jun 2013 21:53:11 +0000</updated>
                            <resolved>Mon, 3 Jun 2013 21:53:11 +0000</resolved>
                                    <version>0.10.0</version>
                                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13549035" author="yhuai" created="Wed, 9 Jan 2013 21:34:52 +0000"  >&lt;p&gt;is there any reason that we do not set valid to the capacity in the original constructor?&lt;/p&gt;</comment>
                            <comment id="13552104" author="ashutoshc" created="Sun, 13 Jan 2013 00:06:02 +0000"  >&lt;p&gt;Looks like it was a bug. +1 Running tests now.&lt;/p&gt;</comment>
                            <comment id="13552277" author="ashutoshc" created="Sun, 13 Jan 2013 19:08:13 +0000"  >&lt;p&gt;Turns out this results in tons of failures. 46 tests failed in CliDriver and there were failures in other drivers as well.&lt;/p&gt;</comment>
                            <comment id="13552595" author="yhuai" created="Mon, 14 Jan 2013 11:56:06 +0000"  >&lt;p&gt;I see. I am running tests now. Will check what causes those failures.&lt;/p&gt;</comment>
                            <comment id="13673590" author="ashutoshc" created="Mon, 3 Jun 2013 21:19:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yhuai&quot; class=&quot;user-hover&quot; rel=&quot;yhuai&quot;&gt;Yin Huai&lt;/a&gt; Are you still working on this? Or shall we close this as &quot;Not A Problem&quot;?&lt;/p&gt;</comment>
                            <comment id="13673636" author="yhuai" created="Mon, 3 Jun 2013 21:53:11 +0000"  >&lt;p&gt;Sorry for not looking at it for a long time. I just took a look at the code. BytesRefArrayWritable is used by first &quot;ensureCapacity&quot; and then set &quot;valid&quot; in &quot;resetValid&quot; or &quot;set&quot;. If we use &quot;resetValid&quot; in the constructor, we can get those elements which are not valid, which should not be allowed. Let&apos;s close it as &quot;Not A Problem&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12564041" name="HIVE-3876.1.patch.txt" size="641" author="yhuai" created="Wed, 9 Jan 2013 21:34:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 13 Jan 2013 00:06:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17c8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250951</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3877] Implement equi-depth histograms as a UDAF</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3877</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Implement a space and time efficient algorithm to bin numeric column data such that all bins approximately contain the same number of elements. Implement such an algorithm as a generic UDAF.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626866">HIVE-3877</key>
            <summary>Implement equi-depth histograms as a UDAF</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12610150">HIVE-3526</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2013 22:49:49 +0000</created>
                <updated>Mon, 21 Jan 2013 18:11:54 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13558950" author="rjain7" created="Mon, 21 Jan 2013 18:11:54 +0000"  >&lt;p&gt;Hi Shreepadma,&lt;/p&gt;

&lt;p&gt;We&apos;re very interested in such a functionality for analytics use cases on standard hive... Has this been implemented at all or still at concept stage ? If you&apos;ve already made progress here, I&apos;d be happy to collaborate to bring this to completion.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Jan 2013 18:11:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17cc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3878] Enhance the existing thrift APIs to persist the histogram </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3878</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Enhance the existing thrift APIs added for column statistics to persist histograms in addition to the scalar stats value.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626867">HIVE-3878</key>
            <summary>Enhance the existing thrift APIs to persist the histogram </summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12610150">HIVE-3526</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2013 22:51:27 +0000</created>
                <updated>Wed, 9 Jan 2013 22:56:44 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17ccf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250968</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3879] Enhance the existing thrift APIs to retrieve the histogram corresponding to a column</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3879</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Enhance the existing thrift API to retrieve the histogram, if it exists, corresponding to a column.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626868">HIVE-3879</key>
            <summary>Enhance the existing thrift APIs to retrieve the histogram corresponding to a column</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12610150">HIVE-3526</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2013 22:52:37 +0000</created>
                <updated>Wed, 9 Jan 2013 22:56:38 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303558</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17ccn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3880] Extend the analyze table syntax to allow the user to specify the histogram bins</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3880</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Extend the analyze table syntax to allow the user to specify the number of bins desired for the histogram.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626869">HIVE-3880</key>
            <summary>Extend the analyze table syntax to allow the user to specify the histogram bins</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12610150">HIVE-3526</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2013 22:53:46 +0000</created>
                <updated>Wed, 9 Jan 2013 22:53:46 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17ccv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3881] Extend the analyze table syntax to allow the user to request computing histogram</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3881</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Since computing histograms can be expensive, by default only scalar statistics on columns will be gathered when an analyze table .. compute statistics for columns ... is executed. This JIRA covers the task of extending the analyze table to allow the user to specify computing histogram in addition to other statistics on columns.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626870">HIVE-3881</key>
            <summary>Extend the analyze table syntax to allow the user to request computing histogram</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12610150">HIVE-3526</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2013 22:56:30 +0000</created>
                <updated>Wed, 9 Jan 2013 22:56:30 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17cd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3882] config for enabling HIVE-2723</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3882</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Since it a backward incompatible change, it might be a good idea to make it&lt;br/&gt;
configurable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626898">HIVE-3882</key>
            <summary>config for enabling HIVE-2723</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="pamelavagata">Pamela Vagata</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Jan 2013 05:08:23 +0000</created>
                <updated>Fri, 11 Jan 2013 06:38:17 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13550433" author="pamelavagata" created="Thu, 10 Jan 2013 21:22:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D7839&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7839&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13550801" author="namit" created="Fri, 11 Jan 2013 04:09:53 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="13550809" author="pamelavagata" created="Fri, 11 Jan 2013 04:28:11 +0000"  >&lt;p&gt;We may want to hold off on checking this in - also I missed a spot - We&apos;ve&lt;br/&gt;
been talking about committing this as an internal only flag and then&lt;br/&gt;
reverting it once the change has had some time to bake.&lt;/p&gt;

&lt;p&gt;Pam&lt;/p&gt;


</comment>
                            <comment id="13550887" author="namit" created="Fri, 11 Jan 2013 06:38:17 +0000"  >&lt;p&gt;OK&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12538597">HIVE-2723</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12564265" name="HIVE-3882.patch.1.txt" size="5695" author="pamelavagata" created="Thu, 10 Jan 2013 21:22:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Jan 2013 21:22:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17cov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3883] user defined partition info does not match the actual partition info defined in the table schema </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3883</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;create table src_part (key string, value string) partitioned by (dt string, hr string);&lt;br/&gt;
load data local inpath &apos;./in1.txt&apos; overwrite into table src_part partition (dt=&apos;20121230&apos;,hr=&apos;11&apos;);&lt;/p&gt;

&lt;p&gt;load data local inpath &apos;./in1.txt&apos; overwrite into table src_part partition (hr=&apos;12&apos;, dt=&apos;20121230&apos;); &amp;#8211; user defined the wrong partition info &lt;/p&gt;

&lt;p&gt;hive (default)&amp;gt; select * from src_part where dt=&apos;20121230&apos; and hr=&apos;12&apos; limit 1;&lt;br/&gt;
no result.&lt;/p&gt;

&lt;p&gt;hive (default)&amp;gt; desc formatted src_part partition (dt=&apos;20121230&apos;, hr=&apos;12&apos;) ;&lt;br/&gt;
hive (default)&amp;gt; dfs -ls /user/zongren/hive/src_part/hr=12/dt=20121230/;&lt;br/&gt;
Found 1 items&lt;br/&gt;
rw-rr- 3 zongren supergroup 16 2012-12-04 14:18 /user/zongren/hive/src_part/hr=12/dt=20121230/in1.t &amp;#8211; data&apos;s here &lt;/p&gt;

&lt;p&gt;Should we provate strict check about this ?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626900">HIVE-3883</key>
            <summary>user defined partition info does not match the actual partition info defined in the table schema </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="caofangkun">caofangkun</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Jan 2013 07:39:12 +0000</created>
                <updated>Thu, 10 Jan 2013 07:39:27 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303590</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17crb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251035</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3884] Better align columns in DESCRIBE table_name output to make more human-readable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3884</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If a table contains very long comments or very long column names, the output of DESCRIBE table_name is not aligned nicely.  The attached screenshot shows the following two problems:&lt;/p&gt;

&lt;p&gt;1. Rows with long column names do not align well with other columns.&lt;br/&gt;
2. Rows with long comments wrap to the next line, and make it hard to read the output.  The wrapping behavior depends on the width of the user&apos;s terminal width.&lt;/p&gt;

&lt;p&gt;It will be nice to have a DESCRIBE PRETTY table_name command that will produce nicely formatted output that avoids the two problems mentioned above.  It is better to introduce a new DESCRIBE PRETTY command rather than change the behavior of the existing DESCRIBE or DESCRIBE FORMATTED commands, so that we avoid breaking any scripts that automatically parse the output.&lt;/p&gt;

&lt;p&gt;Since the pretty formatting depends on the current terminal width, we need a new hive conf parameter to tell the CLI to auto-detect the current terminal width or to use a fixed width (needed for unit tests).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626991">HIVE-3884</key>
            <summary>Better align columns in DESCRIBE table_name output to make more human-readable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dilipjoseph">Dilip Joseph</assignee>
                                    <reporter username="dilipjoseph">Dilip Joseph</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Jan 2013 18:30:31 +0000</created>
                <updated>Thu, 16 May 2013 21:09:59 +0000</updated>
                            <resolved>Sat, 19 Jan 2013 08:09:52 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13549880" author="dilipjoseph" created="Thu, 10 Jan 2013 18:32:21 +0000"  >&lt;p&gt;Output of DESCRIBE test_table for the following table:&lt;/p&gt;

&lt;p&gt;CREATE TABLE test_table(&lt;br/&gt;
    col1 INT COMMENT &apos;col1 one line comment&apos;,&lt;br/&gt;
    col2 STRING COMMENT &apos;col2 very long comment that is greater than 80 chars and is likely to spill into multiple lines&apos;,&lt;br/&gt;
    col3 STRING COMMENT &apos;col3 very long multi-line comment where each line is very long by itself and is likely to spill&lt;br/&gt;
into multiple lines.  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin in dolor nisl, sodales&lt;br/&gt;
adipiscing tortor. Integer venenatis&apos;,&lt;br/&gt;
    col4 INT COMMENT &apos;col4 one line comment&apos;,&lt;br/&gt;
    col5_VeryLongColumnNameThatMessesUpAlignment INT COMMENT &apos;col5 one line comment&apos;,&lt;br/&gt;
    col6 STRING COMMENT &apos;col6 one line comment&apos;&lt;br/&gt;
);&lt;/p&gt;</comment>
                            <comment id="13550896" author="dilipjoseph" created="Fri, 11 Jan 2013 06:53:59 +0000"  >&lt;p&gt;Phabricator diff is at &lt;a href=&quot;https://reviews.facebook.net/D7851&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7851&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13554734" author="namit" created="Wed, 16 Jan 2013 04:32:24 +0000"  >&lt;p&gt;Comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13557075" author="namit" created="Fri, 18 Jan 2013 09:25:03 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13557703" author="dilipjoseph" created="Fri, 18 Jan 2013 22:42:59 +0000"  >&lt;p&gt;Added comment about tabs at end of comment output.  Minor refactoring.&lt;/p&gt;</comment>
                            <comment id="13557947" author="namit" created="Sat, 19 Jan 2013 08:09:53 +0000"  >&lt;p&gt;Committed. Thanks Dilip&lt;/p&gt;</comment>
                            <comment id="13557956" author="hudson" created="Sat, 19 Jan 2013 10:06:05 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #28 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/28/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/28/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3884&quot; title=&quot;Better align columns in DESCRIBE table_name output to make more human-readable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3884&quot;&gt;&lt;del&gt;HIVE-3884&lt;/del&gt;&lt;/a&gt; Better align columns in DESCRIBE table_name output to make more&lt;br/&gt;
human-readable (Dilip Joseph via namit) (Revision 1435503)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435503&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/JsonMetaDataFormatter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataFormatter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataPrettyFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/TextMetaDataFormatter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/describe_pretty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/describe_pretty.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13558106" author="hudson" created="Sat, 19 Jan 2013 22:30:32 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #75 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/75/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/75/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3884&quot; title=&quot;Better align columns in DESCRIBE table_name output to make more human-readable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3884&quot;&gt;&lt;del&gt;HIVE-3884&lt;/del&gt;&lt;/a&gt; Better align columns in DESCRIBE table_name output to make more&lt;br/&gt;
human-readable (Dilip Joseph via namit) (Revision 1435503)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435503&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/JsonMetaDataFormatter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataFormatter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataPrettyFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/TextMetaDataFormatter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/describe_pretty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/describe_pretty.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13558119" author="hudson" created="Sat, 19 Jan 2013 23:19:10 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1924 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1924/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1924/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3884&quot; title=&quot;Better align columns in DESCRIBE table_name output to make more human-readable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3884&quot;&gt;&lt;del&gt;HIVE-3884&lt;/del&gt;&lt;/a&gt; Better align columns in DESCRIBE table_name output to make more&lt;br/&gt;
human-readable (Dilip Joseph via namit) (Revision 1435503)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435503&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/JsonMetaDataFormatter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataFormatter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataPrettyFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/TextMetaDataFormatter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/describe_pretty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/describe_pretty.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12564367" name="HIVE-3884.1.patch.txt" size="32611" author="dilipjoseph" created="Fri, 11 Jan 2013 06:51:18 +0000"/>
                            <attachment id="12565571" name="HIVE-3884.2.patch.txt" size="43648" author="dilipjoseph" created="Fri, 18 Jan 2013 22:42:59 +0000"/>
                            <attachment id="12564211" name="describe_test_table.png" size="46887" author="dilipjoseph" created="Thu, 10 Jan 2013 18:32:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Jan 2013 04:32:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17don:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251186</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Introduces new DESCRIBE PRETTY table_name command and  hive.cli.pretty.output.num.cols conf parameter.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3885] CLI command &quot;SHOW PARTITIONS&quot; could be extended to provide LOCATION information</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3885</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SHOW PARTITIONS does not provide information on the HDFS location of the data. The workaround is to query the metadata DB. The following command will give you the HDFS file locations as stored in the metadata tables.&lt;/p&gt;

&lt;p&gt;echo &quot;select t.TBL_NAME, p.PART_NAME, s.LOCATION from PARTITIONS p, SDS s, TBLS t where t.TBL_ID=p.TBL_ID and p.SD_ID=s.SD_ID &quot; |mysql -u&amp;lt;username&amp;gt; &#8211;p&amp;lt;password&amp;gt;  &amp;lt;hive_metastore_DB&amp;gt; |grep &amp;lt;HIVETABLENAME&amp;gt;|less&lt;/p&gt;

&lt;p&gt;If this could be encapsulated in a CLI command SHOW LOCATIONS that displays&lt;br/&gt;
PARTITION_NAME        LOCATION&lt;/p&gt;</description>
                <environment></environment>
        <key id="12627019">HIVE-3885</key>
            <summary>CLI command &quot;SHOW PARTITIONS&quot; could be extended to provide LOCATION information</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sanjaysubramanian">Sanjay Subramanian</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Jan 2013 20:57:24 +0000</created>
                <updated>Sat, 16 Feb 2013 17:35:42 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13579844" author="mgrover" created="Sat, 16 Feb 2013 17:35:42 +0000"  >&lt;p&gt;Sanjay: I am replying to your question on the IRC channel.&lt;br/&gt;
I think this will be a good starting point, &lt;a href=&quot;https://github.com/apache/hive/blob/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowPartitionsDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowPartitionsDesc.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See who uses this class and how.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 16 Feb 2013 17:35:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303712</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17dzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251235</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3886] WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3886</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated. Please use org.apache.hadoop.log.metrics.EventCounter in all the log4j.properties files. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12627108">HIVE-3886</key>
            <summary>WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jan 2013 02:42:13 +0000</created>
                <updated>Mon, 6 May 2013 18:17:15 +0000</updated>
                            <resolved>Wed, 27 Feb 2013 09:04:12 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13563767" author="ashutoshc" created="Sun, 27 Jan 2013 08:15:10 +0000"  >&lt;p&gt;Shreepadma,&lt;/p&gt;

&lt;p&gt;See the comment &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1990?focusedCommentId=13044115&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13044115&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1990?focusedCommentId=13044115&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13044115&lt;/a&gt; Only way to solve this problem is via shim for consistent support across hadoop versions. Gunther&apos;s patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3428&quot; title=&quot;Fix log4j configuration errors when running hive on hadoop23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3428&quot;&gt;&lt;del&gt;HIVE-3428&lt;/del&gt;&lt;/a&gt; has it. Can you look at that patch and check if that works for you?&lt;/p&gt;</comment>
                            <comment id="13588081" author="ashutoshc" created="Wed, 27 Feb 2013 07:22:53 +0000"  >&lt;p&gt;Fixed via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3428&quot; title=&quot;Fix log4j configuration errors when running hive on hadoop23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3428&quot;&gt;&lt;del&gt;HIVE-3428&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12606175">HIVE-3428</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12564830" name="HIVE-3886.1.patch" size="577" author="shreepadma" created="Tue, 15 Jan 2013 01:12:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 27 Jan 2013 08:15:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303877</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17gmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251662</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3887] Upgrade Hive&apos;s Avro dependency to version 1.7.3</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3887</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12627109">HIVE-3887</key>
            <summary>Upgrade Hive&apos;s Avro dependency to version 1.7.3</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jan 2013 02:44:19 +0000</created>
                <updated>Fri, 1 Aug 2014 06:22:36 +0000</updated>
                            <resolved>Fri, 1 Aug 2014 06:22:36 +0000</resolved>
                                    <version>0.11.0</version>
                                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13553434" author="initialcontext" created="Tue, 15 Jan 2013 02:48:23 +0000"  >&lt;p&gt;This passes &apos;ant clean binary&apos; I think this is all there is too it? Thanks!&lt;/p&gt;</comment>
                            <comment id="14081973" author="ashutoshc" created="Fri, 1 Aug 2014 06:22:36 +0000"  >&lt;p&gt;Avro&apos;s current version is 1.7.5&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12564860" name="HIVE-3887-1.patch" size="408" author="initialcontext" created="Tue, 15 Jan 2013 02:48:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 Jan 2013 02:48:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303878</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17gmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251663</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3888] wrong mapside groupby if no partition is being selected</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3888</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12627133">HIVE-3888</key>
            <summary>wrong mapside groupby if no partition is being selected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jan 2013 06:34:19 +0000</created>
                <updated>Thu, 16 May 2013 21:10:27 +0000</updated>
                            <resolved>Fri, 11 Jan 2013 08:38:15 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13550886" author="namit" created="Fri, 11 Jan 2013 06:36:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D7845&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7845&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13550891" author="ashutoshc" created="Fri, 11 Jan 2013 06:44:15 +0000"  >&lt;p&gt;+1 please commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13550985" author="namit" created="Fri, 11 Jan 2013 08:38:15 +0000"  >&lt;p&gt;Committed. Thanks Ashutosh&lt;/p&gt;</comment>
                            <comment id="13551021" author="hudson" created="Fri, 11 Jan 2013 10:01:29 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #7 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/7/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/7/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3888&quot; title=&quot;wrong mapside groupby if no partition is being selected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3888&quot;&gt;&lt;del&gt;HIVE-3888&lt;/del&gt;&lt;/a&gt; wrong mapside groupby if no partition is being selected&lt;br/&gt;
(Namit Jain via Ashutosh and namit) (Revision 1431936)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431936&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431936&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13551368" author="hudson" created="Fri, 11 Jan 2013 18:38:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #59 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/59/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/59/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3888&quot; title=&quot;wrong mapside groupby if no partition is being selected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3888&quot;&gt;&lt;del&gt;HIVE-3888&lt;/del&gt;&lt;/a&gt; wrong mapside groupby if no partition is being selected&lt;br/&gt;
(Namit Jain via Ashutosh and namit) (Revision 1431936)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431936&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431936&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13551498" author="hudson" created="Fri, 11 Jan 2013 20:34:26 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1907 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1907/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1907/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3888&quot; title=&quot;wrong mapside groupby if no partition is being selected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3888&quot;&gt;&lt;del&gt;HIVE-3888&lt;/del&gt;&lt;/a&gt; wrong mapside groupby if no partition is being selected&lt;br/&gt;
(Namit Jain via Ashutosh and namit) (Revision 1431936)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431936&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1431936&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12614314">HIVE-3647</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12606234">HIVE-3432</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12564365" name="hive.3888.1.patch" size="37654" author="namit" created="Fri, 11 Jan 2013 06:37:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Jan 2013 06:44:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303902</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17grz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3890] Hive List Bucketing - merge per skewed dir</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3890</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Right now, in list bucketing DML, if it involves merge, it uses 1 MR job for all skewed directory. If no. of files is big, it might triggers hive client side OOM due to too many spits. If we use 1 MR job for one skewed dir, it will reduce OOM risks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12627374">HIVE-3890</key>
            <summary>Hive List Bucketing - merge per skewed dir</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Jan 2013 04:05:48 +0000</created>
                <updated>Mon, 14 Jan 2013 04:05:48 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17jt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252178</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3891] physical optimizer changes for auto sort-merge join</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3891</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12627393">HIVE-3891</key>
            <summary>physical optimizer changes for auto sort-merge join</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                            <label>TODOC12</label>
                    </labels>
                <created>Mon, 14 Jan 2013 08:24:42 +0000</created>
                <updated>Sat, 3 Feb 2018 20:14:02 +0000</updated>
                            <resolved>Wed, 24 Apr 2013 01:33:53 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13573240" author="namit" created="Thu, 7 Feb 2013 06:21:56 +0000"  >&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3403&quot; title=&quot;user should not specify mapjoin to perform sort-merge bucketed join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3403&quot;&gt;&lt;del&gt;HIVE-3403&lt;/del&gt;&lt;/a&gt;, an auto sortmerge join can be performed.&lt;br/&gt;
However, consider the following scenario:&lt;br/&gt;
T1 - big table: 3 partitions : big partitions&lt;br/&gt;
T2 - small table: 1 partition&lt;br/&gt;
both T1 and T2 are sorted/bucketed on the same key.&lt;br/&gt;
If a join is being performed between T1 and T2, with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3403&quot; title=&quot;user should not specify mapjoin to perform sort-merge bucketed join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3403&quot;&gt;&lt;del&gt;HIVE-3403&lt;/del&gt;&lt;/a&gt;, T2 would be picked up as the table on which the mapper would run.&lt;br/&gt;
Ideally, if T2 is so small that it can fit in memory, a better approach would be map-join. &lt;br/&gt;
The physical optimizer should change the sort-merge join task into a backup task, with all tables being candidates for map-join&lt;br/&gt;
(similar to auto convert mapjoin).&lt;/p&gt;</comment>
                            <comment id="13573343" author="namit" created="Thu, 7 Feb 2013 09:31:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D8439&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8439&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13574403" author="namit" created="Fri, 8 Feb 2013 11:26:30 +0000"  >&lt;p&gt;tests pass&lt;/p&gt;</comment>
                            <comment id="13581223" author="namit" created="Tue, 19 Feb 2013 11:24:14 +0000"  >&lt;p&gt;The tests passed&lt;/p&gt;</comment>
                            <comment id="13587961" author="vikram.dixit" created="Wed, 27 Feb 2013 03:25:02 +0000"  >&lt;p&gt;Hi Namit,&lt;/p&gt;

&lt;p&gt;In case of the test auto_sortmerge_join_1.q, I see the output does not seem to be an SMB join on the partitioned table. I am seeing similar behavior when I run on a partitioned table as well. Is there any reason why we are not converting the join to an SMB map-join in the case of partitioned table?&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13589253" author="namit" created="Thu, 28 Feb 2013 06:50:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt;, I am confused.&lt;/p&gt;

&lt;p&gt;Look at line 965 of auto_sortmerge_join_1.q.out, it is a SMB.&lt;/p&gt;

&lt;p&gt;Going in more detail: (line 486-492)&lt;/p&gt;

&lt;p&gt;  Stage-5 is a root stage , consists of Stage-6, Stage-7, Stage-1&lt;br/&gt;
  Stage-6 has a backup stage: Stage-1&lt;br/&gt;
  Stage-3 depends on stages: Stage-6&lt;br/&gt;
  Stage-7 has a backup stage: Stage-1&lt;br/&gt;
  Stage-4 depends on stages: Stage-7&lt;br/&gt;
  Stage-1&lt;br/&gt;
  Stage-0 is a root stage&lt;/p&gt;

&lt;p&gt;Stage6 and 7 are mapjoin jobs, whereas Stage1 is a SMB join.&lt;br/&gt;
This is the purpose of this jira. If a mapjoin can be performed, that&lt;br/&gt;
gets priority over SMB join.&lt;/p&gt;</comment>
                            <comment id="13589357" author="vikram.dixit" created="Thu, 28 Feb 2013 09:01:15 +0000"  >&lt;p&gt;Hi Namit,&lt;/p&gt;

&lt;p&gt;I have added some more variations to the queries in auto_sortmerge_join_1.q. I originally did not catch that there was a SMB map join in stage-1. That as you say is correct. One thing I see is that if I try to join sorted, bucketed tables on different keys (last join in the attached file), I see a SMB Map join operator followed by a reduce side join. It seems like the reduce side join could actually become a map join operator. Is this possible?&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13589373" author="namit" created="Thu, 28 Feb 2013 09:30:38 +0000"  >&lt;p&gt;Yes, that is true even before my patch&lt;/p&gt;</comment>
                            <comment id="13589374" author="namit" created="Thu, 28 Feb 2013 09:31:23 +0000"  >&lt;p&gt;I verified the last query in the attached file in trunk, and got the same results&lt;/p&gt;</comment>
                            <comment id="13590219" author="vikram.dixit" created="Fri, 1 Mar 2013 04:02:30 +0000"  >&lt;p&gt;Hi Namit,&lt;/p&gt;

&lt;p&gt;Can you please create a review request. I see one issue in the AbstractSMBJoinProcessor. The &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;String joinAlias =
      bigTablePosition == 0 ?
        joinCtx.getLeftAlias() : joinCtx.getRightAliases()[bigTablePosition - 1];
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The joinCtx.getRightAliases() array size would be at most 2 in case of joining against different keys. However the code that produces the bigTablePosition traverses all the tables. If the big table position comes up as 2 in a multi-way join, this code will cause an ArrayOutOfBounds exception. This needs to be addressed.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13590221" author="vikram.dixit" created="Fri, 1 Mar 2013 04:07:53 +0000"  >&lt;p&gt;What I mean is right aliases can be only 1 (position 0; in case of join on different keys) so if the bigTablePosition comes out as 2, the code looks to find something in position 1 causing a failure.&lt;/p&gt;</comment>
                            <comment id="13590224" author="namit" created="Fri, 1 Mar 2013 04:15:22 +0000"  >&lt;p&gt;The review request is there : &lt;a href=&quot;https://reviews.facebook.net/D8439&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8439&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I will get back to you on the comment&lt;/p&gt;</comment>
                            <comment id="13590231" author="namit" created="Fri, 1 Mar 2013 04:27:40 +0000"  >&lt;p&gt;I dont see any change in AbstractSMBJoinProc in this patch&lt;/p&gt;</comment>
                            <comment id="13590232" author="vikram.dixit" created="Fri, 1 Mar 2013 04:29:46 +0000"  >&lt;p&gt;Hey Namit,&lt;/p&gt;

&lt;p&gt;I thought that this was the patch that changed something in AbstractSMBJoinProcessor. I think this was done as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3403&quot; title=&quot;user should not specify mapjoin to perform sort-merge bucketed join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3403&quot;&gt;&lt;del&gt;HIVE-3403&lt;/del&gt;&lt;/a&gt;. Just caught this while doing some testing with this patch.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13590233" author="namit" created="Fri, 1 Mar 2013 04:30:31 +0000"  >&lt;p&gt;I didn&apos;t understand your case.&lt;/p&gt;

&lt;p&gt;A join B on A.key = B.key join C on A.key = C.key&lt;/p&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;p&gt;A join B on A.key = B.key join C on A.value = C.value&lt;/p&gt;</comment>
                            <comment id="13590234" author="namit" created="Fri, 1 Mar 2013 04:30:51 +0000"  >&lt;p&gt;Both of them should work.&lt;/p&gt;</comment>
                            <comment id="13590250" author="vikram.dixit" created="Fri, 1 Mar 2013 05:16:45 +0000"  >&lt;p&gt;Hi Namit,&lt;/p&gt;

&lt;p&gt;The test case I have is very similar to the star join case. I have a 4 way join with 3 dimension tables and 1 fact table. All the joins are on different keys. By default, the average partition size is used as the tie breaker for the choice of big table. However when I run this query, I get the array out of bounds exception as it chose the table from the 2nd join (T3 from below) as the big table (index = 2). However, the joinCtx right alias has only one table. So this resulted in a crash.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;T1 \
      J1.out \
T2 /           J2.out \
          T3 /          J3.out (Final)
                   T4 /
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13590262" author="vikram.dixit" created="Fri, 1 Mar 2013 05:57:00 +0000"  >&lt;p&gt;I think all this needs is SizeBasedBigTableSelectorForAutoSMJ to have the following additional snippet:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
if (parentOp instanceof TableScanOperator) {
topOps.add(parentOp);

&amp;lt;b&amp;gt;else if (parentOp instanceof CommonJoinOperator) {
  return;
}
&amp;lt;/b&amp;gt;
else {
...

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We shouldn&apos;t be taking that operation all the way to the top of the operator tree which is what is happening. Let me know what you think? &lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13590294" author="namit" created="Fri, 1 Mar 2013 06:58:27 +0000"  >&lt;p&gt;canConvertJoinToBucketMapJoin:&lt;/p&gt;

&lt;p&gt;   The join should be rejected by:&lt;/p&gt;

&lt;p&gt;    // This has already been inspected and rejected&lt;br/&gt;
    if (context.getRejectedJoinOps().contains(joinOp)) &lt;/p&gt;
{
      return false;
    }


&lt;p&gt;Can you open a separate jira for this ?&lt;br/&gt;
We should never run into this scenario.&lt;/p&gt;</comment>
                            <comment id="13590295" author="namit" created="Fri, 1 Mar 2013 06:59:47 +0000"  >&lt;p&gt;This is a existing bug, and we need to debug this, but not as part of this patch.&lt;/p&gt;</comment>
                            <comment id="13593003" author="vikram.dixit" created="Tue, 5 Mar 2013 03:18:33 +0000"  >&lt;p&gt;+1 (non-binding) for this patch.&lt;/p&gt;

&lt;p&gt;Raised &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4106&quot; title=&quot;SMB joins fail in multi-way joins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4106&quot;&gt;&lt;del&gt;HIVE-4106&lt;/del&gt;&lt;/a&gt; for the issue discussed here.&lt;/p&gt;</comment>
                            <comment id="13607676" author="ashutoshc" created="Wed, 20 Mar 2013 14:56:48 +0000"  >&lt;p&gt;+1 running tests.&lt;/p&gt;</comment>
                            <comment id="13608334" author="ashutoshc" created="Wed, 20 Mar 2013 22:32:55 +0000"  >&lt;p&gt;Test auto_sortmerge_join_9.q failed, likely because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-948&quot; title=&quot;more query plan optimization rules &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-948&quot;&gt;&lt;del&gt;HIVE-948&lt;/del&gt;&lt;/a&gt; where you need to update .q.out file. &lt;br/&gt;
Also, patch doesn&apos;t apply cleanly anymore because of commit of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4146&quot; title=&quot;bug with hive.auto.convert.join.noconditionaltask with outer joins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4146&quot;&gt;&lt;del&gt;HIVE-4146&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
I also have few comments which I left on phabricator. &lt;/p&gt;</comment>
                            <comment id="13620229" author="vikram.dixit" created="Tue, 2 Apr 2013 20:16:07 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~namitjain&amp;#93;&lt;/span&gt; Could you refresh this patch.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13628711" author="ashutoshc" created="Thu, 11 Apr 2013 06:23:25 +0000"  >&lt;p&gt;Updated patch. &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Rebased with trunk.&lt;/li&gt;
	&lt;li&gt;Merged in changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4146&quot; title=&quot;bug with hive.auto.convert.join.noconditionaltask with outer joins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4146&quot;&gt;&lt;del&gt;HIVE-4146&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Merged in changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4078&quot; title=&quot;Delay the serialize-deserialize pair in CommonJoinTaskDispatcher&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4078&quot;&gt;&lt;del&gt;HIVE-4078&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Took care of my own review comments.&lt;/li&gt;
	&lt;li&gt;Renamed the flag to  hive.auto.convert.sortmerge.join.to.mapjoin&lt;/li&gt;
	&lt;li&gt;Set its default value to true.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt; Can you take a look?&lt;/p&gt;</comment>
                            <comment id="13628782" author="namit" created="Thu, 11 Apr 2013 09:14:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, will do&lt;/p&gt;</comment>
                            <comment id="13628814" author="namit" created="Thu, 11 Apr 2013 10:16:17 +0000"  >&lt;p&gt;I am refreshing &lt;a href=&quot;https://reviews.facebook.net/D8439&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8439&lt;/a&gt; with your latest patch, will keep that in sync for latest reviews&lt;/p&gt;</comment>
                            <comment id="13628836" author="namit" created="Thu, 11 Apr 2013 10:57:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, it might be a good idea to get &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4241&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-4241&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4328&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-4328&lt;/a&gt; first.&lt;br/&gt;
This should be turned off, if &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4241&quot; title=&quot;optimize hive.enforce.sorting and hive.enforce bucketing join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4241&quot;&gt;&lt;del&gt;HIVE-4241&lt;/del&gt;&lt;/a&gt; optimization has triggered.&lt;/p&gt;</comment>
                            <comment id="13628844" author="namit" created="Thu, 11 Apr 2013 11:24:22 +0000"  >&lt;p&gt;Otherwise, the refreshed patch looks good.&lt;br/&gt;
Can you take a look at the above patches (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4241&quot; title=&quot;optimize hive.enforce.sorting and hive.enforce bucketing join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4241&quot;&gt;&lt;del&gt;HIVE-4241&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4328&quot; title=&quot;Change default bigtable selection policy for sort-merge joins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4328&quot;&gt;&lt;del&gt;HIVE-4328&lt;/del&gt;&lt;/a&gt;) first ?&lt;br/&gt;
As soon as they are in, we can refresh and finish &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3891&quot; title=&quot;physical optimizer changes for auto sort-merge join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3891&quot;&gt;&lt;del&gt;HIVE-3891&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13629810" author="namit" created="Fri, 12 Apr 2013 05:31:22 +0000"  >&lt;p&gt;Wait till &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4167&quot; title=&quot;Hive converts bucket map join to SMB join even when tables are not sorted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4167&quot;&gt;&lt;del&gt;HIVE-4167&lt;/del&gt;&lt;/a&gt; is confirmed.&lt;br/&gt;
If it is a problem anyway, the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3891&quot; title=&quot;physical optimizer changes for auto sort-merge join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3891&quot;&gt;&lt;del&gt;HIVE-3891&lt;/del&gt;&lt;/a&gt; can be independently merged, otherwise need to resolve &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4167&quot; title=&quot;Hive converts bucket map join to SMB join even when tables are not sorted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4167&quot;&gt;&lt;del&gt;HIVE-4167&lt;/del&gt;&lt;/a&gt; first&lt;/p&gt;</comment>
                            <comment id="13632730" author="namit" created="Tue, 16 Apr 2013 10:26:19 +0000"  >&lt;p&gt;refreshing again and resolving conflicts&lt;/p&gt;</comment>
                            <comment id="13635005" author="namit" created="Thu, 18 Apr 2013 09:05:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, all the tests passed. Since this was accepted sometime back, can you take a look again ?&lt;/p&gt;</comment>
                            <comment id="13635660" author="ashutoshc" created="Thu, 18 Apr 2013 20:37:06 +0000"  >&lt;p&gt;Left some comments on Phabricator.&lt;/p&gt;</comment>
                            <comment id="13637908" author="namit" created="Mon, 22 Apr 2013 10:31:28 +0000"  >&lt;p&gt;Refreshed, addressed comments, ran tests.&lt;br/&gt;
Can you take a look again ?&lt;br/&gt;
cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13638973" author="namit" created="Tue, 23 Apr 2013 11:44:12 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13639964" author="ashutoshc" created="Wed, 24 Apr 2013 01:33:53 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Namit!&lt;/p&gt;</comment>
                            <comment id="13640104" author="hudson" created="Wed, 24 Apr 2013 05:24:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2076 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2076/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2076/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3891&quot; title=&quot;physical optimizer changes for auto sort-merge join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3891&quot;&gt;&lt;del&gt;HIVE-3891&lt;/del&gt;&lt;/a&gt; : physical optimizer changes for auto sort-merge join (Namit Jain via Ashutosh Chauhan) (Revision 1471224)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1471224&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1471224&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/UnionOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketingSortingReduceSinkOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/AbstractJoinTaskDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinTaskDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/PhysicalOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/SortMergeJoinResolver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/SortMergeJoinTaskDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ConditionalResolverCommonJoin.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FileSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/auto_sortmerge_join_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_10.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_13.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_14.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_8.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_9.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_8.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/auto_sortmerge_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketsortoptimize_insert_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketsortoptimize_insert_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketsortoptimize_insert_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketsortoptimize_insert_6.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13640579" author="hudson" created="Wed, 24 Apr 2013 16:03:11 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #173 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/173/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/173/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3891&quot; title=&quot;physical optimizer changes for auto sort-merge join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3891&quot;&gt;&lt;del&gt;HIVE-3891&lt;/del&gt;&lt;/a&gt; : physical optimizer changes for auto sort-merge join (Namit Jain via Ashutosh Chauhan) (Revision 1471224)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1471224&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1471224&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/UnionOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketingSortingReduceSinkOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/AbstractJoinTaskDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinTaskDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/PhysicalOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/SortMergeJoinResolver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/SortMergeJoinTaskDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ConditionalResolverCommonJoin.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FileSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/auto_sortmerge_join_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_10.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_13.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_14.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_8.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_9.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketsortoptimize_insert_8.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/auto_sortmerge_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketsortoptimize_insert_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketsortoptimize_insert_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketsortoptimize_insert_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketsortoptimize_insert_6.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13796054" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:39 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                            <comment id="15719381" author="lefty@hortonworks.com" created="Sun, 4 Dec 2016 05:46:58 +0000"  >&lt;p&gt;Doc note:  This adds &lt;b&gt;hive.auto.convert.sortmerge.join.to.mapjoin&lt;/b&gt; to HiveConf.java in release 0.12.0, so it needs to be documented in the wiki.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-QueryandDDLExecution&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; Query and DDL Execution &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Added a TODOC12 label.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12634954">HIVE-4106</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12636925">HIVE-4167</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12634336">HIVE-4078</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12631195">HIVE-3996</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12612477">HIVE-3598</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12604358">HIVE-3403</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12639516">HIVE-4241</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12641830">HIVE-4328</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12578167" name="HIVE-3891_8.patch" size="530420" author="ashutoshc" created="Thu, 11 Apr 2013 06:23:25 +0000"/>
                            <attachment id="12571383" name="auto_sortmerge_join_1.q" size="3554" author="vikram.dixit" created="Thu, 28 Feb 2013 09:01:15 +0000"/>
                            <attachment id="12571384" name="auto_sortmerge_join_1.q.out" size="82110" author="vikram.dixit" created="Thu, 28 Feb 2013 09:01:15 +0000"/>
                            <attachment id="12568394" name="hive.3891.1.patch" size="581392" author="namit" created="Thu, 7 Feb 2013 09:31:52 +0000"/>
                            <attachment id="12578397" name="hive.3891.10.patch" size="537026" author="namit" created="Fri, 12 Apr 2013 08:10:35 +0000"/>
                            <attachment id="12578401" name="hive.3891.11.patch" size="545076" author="namit" created="Fri, 12 Apr 2013 09:19:58 +0000"/>
                            <attachment id="12578915" name="hive.3891.12.patch" size="539999" author="namit" created="Tue, 16 Apr 2013 11:06:22 +0000"/>
                            <attachment id="12579099" name="hive.3891.13.patch" size="540236" author="namit" created="Wed, 17 Apr 2013 06:21:45 +0000"/>
                            <attachment id="12579295" name="hive.3891.14.patch" size="600135" author="namit" created="Thu, 18 Apr 2013 09:04:19 +0000"/>
                            <attachment id="12579800" name="hive.3891.15.patch" size="628662" author="namit" created="Mon, 22 Apr 2013 08:35:20 +0000"/>
                            <attachment id="12579817" name="hive.3891.16.patch" size="628662" author="namit" created="Mon, 22 Apr 2013 10:28:47 +0000"/>
                            <attachment id="12568400" name="hive.3891.2.patch" size="793126" author="namit" created="Thu, 7 Feb 2013 10:25:48 +0000"/>
                            <attachment id="12568537" name="hive.3891.3.patch" size="853050" author="namit" created="Fri, 8 Feb 2013 06:02:21 +0000"/>
                            <attachment id="12568545" name="hive.3891.4.patch" size="934405" author="namit" created="Fri, 8 Feb 2013 09:02:09 +0000"/>
                            <attachment id="12569927" name="hive.3891.5.patch" size="530326" author="namit" created="Tue, 19 Feb 2013 09:55:19 +0000"/>
                            <attachment id="12569937" name="hive.3891.6.patch" size="531282" author="namit" created="Tue, 19 Feb 2013 13:33:19 +0000"/>
                            <attachment id="12571360" name="hive.3891.7.patch" size="531282" author="namit" created="Thu, 28 Feb 2013 06:31:06 +0000"/>
                            <attachment id="12578188" name="hive.3891.9.patch" size="530761" author="namit" created="Thu, 11 Apr 2013 10:32:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Feb 2013 03:25:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17jxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252197</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3892] auto sort merge join does not work for sub-queries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3892</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;set hive.enforce.bucketing = true;&lt;br/&gt;
set hive.enforce.sorting = true;&lt;br/&gt;
set hive.exec.reducers.max = 1;&lt;/p&gt;

&lt;p&gt;CREATE TABLE tbl1(key int, value string) CLUSTERED BY (key) SORTED BY (key) INTO 2 BUCKETS;&lt;br/&gt;
CREATE TABLE tbl2(key int, value string) CLUSTERED BY (key) SORTED BY (key) INTO 2 BUCKETS;&lt;/p&gt;

&lt;p&gt;insert overwrite table tbl1&lt;br/&gt;
select * from src where key &amp;lt; 10;&lt;/p&gt;

&lt;p&gt;insert overwrite table tbl2&lt;br/&gt;
select * from src where key &amp;lt; 10;&lt;/p&gt;

&lt;p&gt;set hive.auto.sort.merge.join=true;&lt;br/&gt;
set hive.optimize.bucketmapjoin = true;&lt;br/&gt;
set hive.optimize.bucketmapjoin.sortedmerge = true;&lt;br/&gt;
set hive.auto.sort.merge.join.bigtbl.matcher = org.apache.hadoop.hive.ql.optimizer.SizeSortMergeJoinBigTableMatcher;&lt;/p&gt;

&lt;p&gt;&amp;#8211; The join is being performed in sub-query. It should be converted to a sort-merge join&lt;br/&gt;
explain&lt;br/&gt;
select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from (&lt;br/&gt;
  select a.key as key, a.value as val1, b.value as val2 from tbl1 a join tbl2 b on a.key = b.key&lt;br/&gt;
) subq1;&lt;/p&gt;


&lt;p&gt;Even after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3403&quot; title=&quot;user should not specify mapjoin to perform sort-merge bucketed join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3403&quot;&gt;&lt;del&gt;HIVE-3403&lt;/del&gt;&lt;/a&gt;, the test above does not convert to a sort-merge join.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12627400">HIVE-3892</key>
            <summary>auto sort merge join does not work for sub-queries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Jan 2013 09:37:04 +0000</created>
                <updated>Mon, 24 Mar 2014 20:50:14 +0000</updated>
                            <resolved>Thu, 7 Feb 2013 06:52:25 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13573250" author="namit" created="Thu, 7 Feb 2013 06:51:58 +0000"  >&lt;p&gt;Is fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3403&quot; title=&quot;user should not specify mapjoin to perform sort-merge bucketed join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3403&quot;&gt;&lt;del&gt;HIVE-3403&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13573251" author="namit" created="Thu, 7 Feb 2013 06:52:25 +0000"  >&lt;p&gt;Will be fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3403&quot; title=&quot;user should not specify mapjoin to perform sort-merge bucketed join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3403&quot;&gt;&lt;del&gt;HIVE-3403&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12604358">HIVE-3403</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304184</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17jyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252204</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3893] something wrong with the hive-default.xml</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3893</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;in the line  482  in the hive-site.xml, there is no  matching end-tag for the element type &quot;description&quot; ;&lt;br/&gt;
The same mistake also appears in the line 561.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12627413">HIVE-3893</key>
            <summary>something wrong with the hive-default.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jet.j.j.cheng@gmail.com">jet cheng</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Jan 2013 11:19:04 +0000</created>
                <updated>Thu, 16 May 2013 21:10:03 +0000</updated>
                            <resolved>Thu, 17 Jan 2013 17:49:31 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13552860" author="cwsteinbach" created="Mon, 14 Jan 2013 16:40:56 +0000"  >&lt;p&gt;@Jet: Which hive-site.xml file are you talking about? There are four different copies in the Hive source tree:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;./common/src/test/resources/hive-site.xml
./conf/hive-site.xml
./data/conf/hive-site.xml
./pdk/scripts/conf/hive-site.xml
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13553547" author="jet.j.j.cheng@gmail.com" created="Tue, 15 Jan 2013 06:40:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; ./conf/hive-site.xml&lt;/p&gt;</comment>
                            <comment id="13556246" author="hongjiangzhang" created="Thu, 17 Jan 2013 14:59:45 +0000"  >&lt;p&gt;./conf/hive-default.xml.template is not welformed.&lt;/p&gt;</comment>
                            <comment id="13556404" author="namit" created="Thu, 17 Jan 2013 17:46:28 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13556408" author="namit" created="Thu, 17 Jan 2013 17:49:31 +0000"  >&lt;p&gt;Committed. Thanks jet&lt;/p&gt;</comment>
                            <comment id="13556479" author="hudson" created="Thu, 17 Jan 2013 19:07:46 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #23 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/23/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/23/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3893&quot; title=&quot;something wrong with the hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3893&quot;&gt;&lt;del&gt;HIVE-3893&lt;/del&gt;&lt;/a&gt; something wrong with the hive-default.xml&lt;br/&gt;
(jet cheng via namit) (Revision 1434811)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434811&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13556927" author="jet.j.j.cheng@gmail.com" created="Fri, 18 Jan 2013 03:26:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt; You are welcome.&lt;/p&gt;</comment>
                            <comment id="13556962" author="hudson" created="Fri, 18 Jan 2013 04:53:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #71 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/71/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/71/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3893&quot; title=&quot;something wrong with the hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3893&quot;&gt;&lt;del&gt;HIVE-3893&lt;/del&gt;&lt;/a&gt; something wrong with the hive-default.xml&lt;br/&gt;
(jet cheng via namit) (Revision 1434811)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434811&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13557008" author="hudson" created="Fri, 18 Jan 2013 07:10:31 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1920 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1920/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1920/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3893&quot; title=&quot;something wrong with the hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3893&quot;&gt;&lt;del&gt;HIVE-3893&lt;/del&gt;&lt;/a&gt; something wrong with the hive-default.xml&lt;br/&gt;
(jet cheng via namit) (Revision 1434811)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434811&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12565333" name="hive-3893.patch.txt" size="1749" author="hongjiangzhang" created="Thu, 17 Jan 2013 15:00:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Jan 2013 16:40:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304197</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17k1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
