<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:22:23 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2013-2-19+AND+created+%3C%3D+2013-2-26+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="35" total="35"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-4038] each mapper/reducer should have a plan for itself rather than the global plan</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4038</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It is a pretty fundamental change, and will require a lot of cleanup.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12632934">HIVE-4038</key>
            <summary>each mapper/reducer should have a plan for itself rather than the global plan</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Feb 2013 04:39:01 +0000</created>
                <updated>Tue, 19 Feb 2013 04:39:01 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i36n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313775</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4039] Hive compiler sometimes fails in semantic analysis / optimisation stage when boolean variable appears in WHERE clause.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4039</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive compiler fails with a NullPointerException in semantic analysis / optimisation stage when a boolean variable appears in the WHERE clause in some cases. A minimal query to generate this error is here:&lt;br/&gt;
SELECT 1&lt;br/&gt;
FROM (&lt;br/&gt;
SELECT TRUE AS flag&lt;br/&gt;
FROM dim_one_row:measurementsystems&lt;br/&gt;
) a&lt;br/&gt;
WHERE flag;&lt;/p&gt;


&lt;p&gt;On the other hand, the following query is perfectly fine:&lt;br/&gt;
SELECT 1&lt;br/&gt;
FROM (&lt;br/&gt;
SELECT TRUE AS flag&lt;br/&gt;
FROM dim_one_row:measurementsystems&lt;br/&gt;
) a&lt;br/&gt;
WHERE flag=TRUE;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633025">HIVE-4039</key>
            <summary>Hive compiler sometimes fails in semantic analysis / optimisation stage when boolean variable appears in WHERE clause.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeanxu">Jean Xu</assignee>
                                    <reporter username="jeanxu">Jean Xu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Feb 2013 19:09:54 +0000</created>
                <updated>Thu, 16 May 2013 21:10:38 +0000</updated>
                            <resolved>Wed, 20 Feb 2013 12:53:26 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13582083" author="namit" created="Wed, 20 Feb 2013 10:38:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13582154" author="namit" created="Wed, 20 Feb 2013 12:53:26 +0000"  >&lt;p&gt;Committed. Thanks Jean&lt;/p&gt;</comment>
                            <comment id="13582184" author="hudson" created="Wed, 20 Feb 2013 13:58:13 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #93 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/93/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/93/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4039&quot; title=&quot;Hive compiler sometimes fails in semantic analysis / optimisation stage when boolean variable appears in WHERE clause.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4039&quot;&gt;&lt;del&gt;HIVE-4039&lt;/del&gt;&lt;/a&gt; Hive compiler sometimes fails in semantic analysis / optimisation stage when boolean&lt;br/&gt;
variable appears in WHERE clause. (Jezn Xu via namit) (Revision 1448135)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448135&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448135&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/test_boolean_whereclause.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/test_boolean_whereclause.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13582423" author="hudson" created="Wed, 20 Feb 2013 19:08:45 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #130 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/130/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/130/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4039&quot; title=&quot;Hive compiler sometimes fails in semantic analysis / optimisation stage when boolean variable appears in WHERE clause.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4039&quot;&gt;&lt;del&gt;HIVE-4039&lt;/del&gt;&lt;/a&gt; Hive compiler sometimes fails in semantic analysis / optimisation stage when boolean&lt;br/&gt;
variable appears in WHERE clause. (Jezn Xu via namit) (Revision 1448135)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448135&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448135&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/test_boolean_whereclause.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/test_boolean_whereclause.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13582676" author="hudson" created="Wed, 20 Feb 2013 23:45:42 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1978 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1978/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1978/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4039&quot; title=&quot;Hive compiler sometimes fails in semantic analysis / optimisation stage when boolean variable appears in WHERE clause.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4039&quot;&gt;&lt;del&gt;HIVE-4039&lt;/del&gt;&lt;/a&gt; Hive compiler sometimes fails in semantic analysis / optimisation stage when boolean&lt;br/&gt;
variable appears in WHERE clause. (Jezn Xu via namit) (Revision 1448135)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448135&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448135&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/test_boolean_whereclause.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/test_boolean_whereclause.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12569979" name="HIVE_4039.1.patch.txt" size="2525" author="jeanxu" created="Tue, 19 Feb 2013 19:26:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Feb 2013 10:38:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i3qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>I have changed the code, and added in a test file </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4040] fix ptf negative tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4040</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;fix queries in -ve tests to match language changes. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12633125">HIVE-4040</key>
            <summary>fix ptf negative tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pkalmegh">Prajakta Kalmegh</assignee>
                                    <reporter username="rhbutani">Harish Butani</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Feb 2013 02:52:10 +0000</created>
                <updated>Thu, 16 May 2013 21:10:11 +0000</updated>
                            <resolved>Wed, 20 Feb 2013 18:38:27 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13581973" author="pkalmegh" created="Wed, 20 Feb 2013 05:45:16 +0000"  >&lt;p&gt;Attached patch to fix negative tests. This change was triggered due to separation of PTF and Windowing in &amp;lt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3984&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3984&lt;/a&gt;&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13581985" author="rhbutani" created="Wed, 20 Feb 2013 06:19:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good; just ran the tests and confirmed.&lt;/p&gt;</comment>
                            <comment id="13582404" author="ashutoshc" created="Wed, 20 Feb 2013 18:38:27 +0000"  >&lt;p&gt;Committed to branch. Thanks, Prajakta!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12438744">HIVE-896</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12570084" name="HIVE-4040.1.patch.txt" size="20479" author="pkalmegh" created="Wed, 20 Feb 2013 05:45:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Feb 2013 05:45:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313621</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i4d3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4041] Support multiple partitionings in a single Query</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4041</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently we disallow queries if the partition specifications of all Wdw fns are not the same. We can relax this by generating multiple PTFOps based on the unique partitionings in a Query. For partitionings that only differ in sort, we can introduce a sort step in between PTFOps, which can happen in the same Reduce task.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633126">HIVE-4041</key>
            <summary>Support multiple partitionings in a single Query</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="rhbutani">Harish Butani</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Feb 2013 02:58:56 +0000</created>
                <updated>Thu, 16 May 2013 21:10:08 +0000</updated>
                            <resolved>Wed, 20 Mar 2013 17:04:43 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13594355" author="rhbutani" created="Wed, 6 Mar 2013 04:39:21 +0000"  >&lt;p&gt;attached Design notes&lt;/p&gt;</comment>
                            <comment id="13596406" author="ashutoshc" created="Thu, 7 Mar 2013 21:36:23 +0000"  >&lt;p&gt;Went through the design doc. Thanks, Harish for writing this up. &lt;br/&gt;
In light of discussion over on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4108&quot; title=&quot;Allow over() clause to contain an order by with no partition by&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4108&quot;&gt;&lt;del&gt;HIVE-4108&lt;/del&gt;&lt;/a&gt; you may want to update section 3. Also, section 4 needs to be updated because of it. I believe because of dropping of implicit partitioning concept, design (and thus implementation) will be cleaner (and thus easier), which is a good thing.&lt;/p&gt;</comment>
                            <comment id="13601563" author="phabricator@reviews.facebook.net" created="Wed, 13 Mar 2013 20:00:11 +0000"  >&lt;p&gt;hbutani requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support multiple partitionings in a single Query&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, ashutoshc&lt;/p&gt;

&lt;p&gt;add support for multiple partitioning&lt;/p&gt;

&lt;p&gt;Currently we disallow queries if the partition specifications of all Wdw fns are not the same. We can relax this by generating multiple PTFOps based on the unique partitionings in a Query. For partitionings that only differ in sort, we can introduce a sort step in between PTFOps, which can happen in the same Reduce task.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  added tests to windowing_multipartitioning.q&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/files/flights_tiny.txt&lt;br/&gt;
  data/files/part.rc&lt;br/&gt;
  data/files/part.seq&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/PTFInvocationSpec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/PTFTranslator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingComponentizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingSpec.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/windowing_multipartitioning.q&lt;br/&gt;
  ql/src/test/results/clientpositive/windowing_multipartitioning.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/22545/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/22545/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13601919" author="phabricator@reviews.facebook.net" created="Thu, 14 Mar 2013 00:56:12 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support multiple partitionings in a single Query&quot;.&lt;/p&gt;

&lt;p&gt;  First pass through patch. Some initial questions.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java:415 Why do we need to do this null check here ?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java:425 Same question.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/PTFTranslator.java:482 This will set Order on all queries ?&lt;br/&gt;
  Consider query like sum&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/information.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; over (partition by si) ... this doesn&apos;t need an ordering, right ?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcFactory.java:212 Why do we need to change this function?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13602037" author="phabricator@reviews.facebook.net" created="Thu, 14 Mar 2013 05:12:11 +0000"  >&lt;p&gt;hbutani has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support multiple partitionings in a single Query&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcFactory.java:212 We need to maintain the order of the original columns. This is because at runtime we reconstruct the OIs using the serde props map which has the column names and types.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java:415 because ExprNodeConstantDesc returns a null for the getCols() call.&lt;br/&gt;
  for the over() case we add a Constant expression to the Partition list&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java:425 same reason as above&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/PTFTranslator.java:482 What we are doing today is adding the partition columns as a prefix to the order expressions. Functionally it should not matter; but it is not needed and probably has a performance impact. I need to test that removal.&lt;br/&gt;
  Was planning to do this for Jira 4109. Didn&apos;t want to change this behavior in this Jira. But with the refactoring it is quite easy to remove the prefixing code.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13603591" author="phabricator@reviews.facebook.net" created="Fri, 15 Mar 2013 17:52:11 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support multiple partitionings in a single Query&quot;.&lt;/p&gt;

&lt;p&gt;  Some more questions.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java:415 I see. I thought with following query I can simulate the same problem even on trunk.&lt;br/&gt;
  select 1 from over10k group by 1;&lt;/p&gt;

&lt;p&gt;  But this didn&apos;t result in NPE and query ran successfully. Is this query good approximation to simulate this path ? My motivation is somehow to simulate this code path without over clause and thus expose bug on trunk and fix it there, so we don&apos;t need to do this in branch.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcFactory.java:212 Hmm. I think we hold on to the schema for PTFOp way too early in semantic phase. Apart from changes required here, this holding on to the schema is not playing well with other compile time optimization which hive does after semantic analysis. Other operators don&apos;t do this. I think we need to spend a bit of time on this. Can you point to me where we hold on to schema in SemanticAnalyzer and why is it necessary?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/PTFTranslator.java:482 I am fine with doing it in follow-up. But if possible we should get rid of this. This probably result in runtime perf impact since I think this will force hadoop secondary sort so that values for a given key come out sorted. Further, adding extra constraints will lessen the opportunity to do compile time optimizations like filter push down (see my comments on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4180&quot; title=&quot;Filter getting dropped with PTFOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4180&quot;&gt;&lt;del&gt;HIVE-4180&lt;/del&gt;&lt;/a&gt;).&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingComponentizer.java:38 It will be good to define group more concretely. If I am getting this right, this is group of over functions which has same partitioning. Is that correct ?&lt;br/&gt;
  So, a group may have multiple functions associated with it (but all on same partitioning). So, group -&amp;gt; one PTFOp on which there will be multiple functions working? Or a group implies multiple PTFOp chained in same reducer one after other each working on their own function.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingComponentizer.java:85 Which filter this is? Is this having clause ? But I thought we already removed support for that. If not, I think we should. Or this regular where clause. If later, we should not consume other operators of query in PTOperator.&lt;br/&gt;
  ql/src/test/queries/clientpositive/windowing_multipartitioning.q:21 It will be good to add more tests from the google document which I shared with you. It has multipartitioning tests towards the end.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13603738" author="phabricator@reviews.facebook.net" created="Fri, 15 Mar 2013 19:34:11 +0000"  >&lt;p&gt;hbutani has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support multiple partitionings in a single Query&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcFactory.java:212 Yes the translation code could do with your review.&lt;br/&gt;
  We were not paying much attention to optimization at the time we wrote it.&lt;br/&gt;
  So the TableFuncDef holds onto ShapeDetails(input, output..)&lt;br/&gt;
  The Shape class has Serde props that we use to reconstruct the OIs during runtime.&lt;br/&gt;
  This happens in PTFTranslator. Read the translate for WindowingSpec method (line 138) in PTFTranslator.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java:415 Just added a Jira 4186 for this.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/PTFTranslator.java:482 yes I agree. I just don&apos;t want to make these changes in this Jira. Want to only add multi partition support here.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingComponentizer.java:38 I will add more comments. So there is:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;1 PTFOp&lt;/li&gt;
	&lt;li&gt;It can contain one or more PTF invocations.&lt;/li&gt;
	&lt;li&gt;When the PTF is WindowTableFunc, it can contain 1 or more UDAFs; they have the same partitioning.&lt;/li&gt;
	&lt;li&gt;During translation we create a WindowingSpec for each destination with Windowing(over clauses).&lt;/li&gt;
	&lt;li&gt;Here we then componentize the single WindowingSpec into multiple WindowingSpecs based on the partitioning.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingComponentizer.java:85 Yes the having is to be removed. Haven&apos;t gotten around to it. Again didn&apos;t want to make this change in this Jira. It is on my todo.&lt;br/&gt;
  ql/src/test/queries/clientpositive/windowing_multipartitioning.q:21 I added all the multipartition tests from the spreadsheet except the ones that have no order. Those I will add once we resolve how to handle no order.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13606090" author="phabricator@reviews.facebook.net" created="Tue, 19 Mar 2013 05:41:13 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support multiple partitionings in a single Query&quot;.&lt;/p&gt;

&lt;p&gt;  Changes look good. I will commit this once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4186&quot; title=&quot;NPE in ReduceSinkDeDuplication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4186&quot;&gt;&lt;del&gt;HIVE-4186&lt;/del&gt;&lt;/a&gt; is in trunk and after I have merged trunk into branch.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/PTFTranslator.java:482 Can you file a follow-up jira for this?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingComponentizer.java:85 Can you file a follow-up jira for this?&lt;br/&gt;
  ql/src/test/queries/clientpositive/windowing_multipartitioning.q:21 Can you file a follow-up jira for this?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13606451" author="phabricator@reviews.facebook.net" created="Tue, 19 Mar 2013 16:17:14 +0000"  >&lt;p&gt;hbutani updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support multiple partitionings in a single Query&quot;.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Merge branch &apos;ptf&apos; into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;updates for 4041&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9381?vs=29775&amp;amp;id=30057#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9381?vs=29775&amp;amp;id=30057#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/files/flights_tiny.txt&lt;br/&gt;
  data/files/part.rc&lt;br/&gt;
  data/files/part.seq&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/PTFInvocationSpec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/PTFTranslator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingComponentizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingSpec.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/windowing_multipartitioning.q&lt;br/&gt;
  ql/src/test/results/clientpositive/windowing_multipartitioning.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13606457" author="rhbutani" created="Tue, 19 Mar 2013 16:18:53 +0000"  >&lt;p&gt;Thanks Ashutosh. I have&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;removed change to ReduceSinkDeDuplication&lt;/li&gt;
	&lt;li&gt;added comments to WindowingComponentizer.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13607237" author="ashutoshc" created="Wed, 20 Mar 2013 03:39:29 +0000"  >&lt;p&gt;Following negative tests failed:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;ptf_negative_IncompatibleDistributeClause.q&lt;/li&gt;
	&lt;li&gt;ptf_negative_IncompatibleOrderInWindowDefs.q&lt;/li&gt;
	&lt;li&gt;ptf_negative_IncompatiblePartitionInWindowDefs.q&lt;/li&gt;
	&lt;li&gt;ptf_negative_IncompatibleSortClause.q&lt;/li&gt;
	&lt;li&gt;ptf_negative_InvalidValueBoundary.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13607247" author="ashutoshc" created="Wed, 20 Mar 2013 03:59:51 +0000"  >&lt;p&gt;All the +ve tests did pass.&lt;/p&gt;</comment>
                            <comment id="13607818" author="phabricator@reviews.facebook.net" created="Wed, 20 Mar 2013 16:29:15 +0000"  >&lt;p&gt;hbutani updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support multiple partitionings in a single Query&quot;.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove negative tests, that are valid now; expose underlying error when componentization fails&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9381?vs=30057&amp;amp;id=30159#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9381?vs=30057&amp;amp;id=30159#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4041&quot; title=&quot;Support multiple partitionings in a single Query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4041&quot;&gt;&lt;del&gt;HIVE-4041&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/files/flights_tiny.txt&lt;br/&gt;
  data/files/part.rc&lt;br/&gt;
  data/files/part.seq&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/PTFInvocationSpec.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/PTFTranslator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingComponentizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/WindowingSpec.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/ptf_negative_IncompatibleDistributeClause.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/ptf_negative_IncompatibleOrderInWindowDefs.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/ptf_negative_IncompatiblePartitionInWindowDefs.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/ptf_negative_IncompatibleSortClause.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/ptf_negative_InvalidValueBoundary.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/windowing_multipartitioning.q&lt;br/&gt;
  ql/src/test/results/clientnegative/ptf_negative_IncompatibleDistributeClause.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/ptf_negative_IncompatibleOrderInWindowDefs.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/ptf_negative_IncompatiblePartitionInWindowDefs.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/ptf_negative_IncompatibleSortClause.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/ptf_negative_InvalidValueBoundary.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/windowing_multipartitioning.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13607859" author="ashutoshc" created="Wed, 20 Mar 2013 17:04:43 +0000"  >&lt;p&gt;Committed to branch. Thanks, Harish!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12438744">HIVE-896</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12573564" name="HIVE-4041.D9381.1.patch" size="26297" author="phabricator@reviews.facebook.net" created="Wed, 13 Mar 2013 20:00:11 +0000"/>
                            <attachment id="12574360" name="HIVE-4041.D9381.2.patch" size="25414" author="phabricator@reviews.facebook.net" created="Tue, 19 Mar 2013 16:17:14 +0000"/>
                            <attachment id="12574569" name="HIVE-4041.D9381.3.patch" size="34457" author="phabricator@reviews.facebook.net" created="Wed, 20 Mar 2013 16:29:15 +0000"/>
                            <attachment id="12572253" name="WindowingComponentization.pdf" size="136576" author="rhbutani" created="Wed, 6 Mar 2013 04:39:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Mar 2013 21:36:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313622</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i4db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4042] ignore mapjoin hint</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4042</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3784&quot; title=&quot;de-emphasize mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3784&quot;&gt;&lt;del&gt;HIVE-3784&lt;/del&gt;&lt;/a&gt;, in a production environment, it can become difficult to&lt;br/&gt;
deploy since a lot of production queries can break.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633139">HIVE-4042</key>
            <summary>ignore mapjoin hint</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Feb 2013 04:53:11 +0000</created>
                <updated>Mon, 15 Dec 2014 00:39:59 +0000</updated>
                            <resolved>Tue, 26 Mar 2013 07:56:53 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13581953" author="namit" created="Wed, 20 Feb 2013 05:09:03 +0000"  >&lt;p&gt;Mapjoin hint is only needed for bucketed/sorted tables.&lt;br/&gt;
It might be a good idea to just ignore the hint, if the underlying table is not bucketed/sorted.&lt;/p&gt;</comment>
                            <comment id="13582019" author="namit" created="Wed, 20 Feb 2013 07:53:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D8709&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8709&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13582125" author="namit" created="Wed, 20 Feb 2013 11:43:40 +0000"  >&lt;p&gt;Tests passed&lt;/p&gt;</comment>
                            <comment id="13584584" author="kevinwilfong" created="Fri, 22 Feb 2013 19:37:06 +0000"  >&lt;p&gt;What if the table is not bucketed but the partitions are.  Granted this is an unusual case, but it&apos;s possible that this will prevent bucket map join or SMB join from being used where it normally would be.&lt;/p&gt;</comment>
                            <comment id="13585006" author="namit" created="Sat, 23 Feb 2013 05:16:59 +0000"  >&lt;p&gt;I agree - that is fairly difficult to find out at the semantic analysis time before any pruning.&lt;br/&gt;
The hint is to help deployments where there are a lot of queries running with mapjoin hint, and so they will fail.&lt;/p&gt;

&lt;p&gt;I can add logging while the hint is being ignored, it leaves the burden on the client to change the query.&lt;/p&gt;</comment>
                            <comment id="13585022" author="namit" created="Sat, 23 Feb 2013 05:47:59 +0000"  >&lt;p&gt;I have added logging in the above patch.&lt;br/&gt;
The assumption is that the client is monitoring these, and will change the queries over time.&lt;/p&gt;</comment>
                            <comment id="13585195" author="ashutoshc" created="Sat, 23 Feb 2013 19:06:50 +0000"  >&lt;p&gt;Whats the point of adding &lt;b&gt;yet another config and defaulting it to false&lt;/b&gt; ? As I see this, whole point of this patch is not to fail the production query when it has hints. With default value being false, queries will still fail. I don&apos;t see any merit of this config at all. Why cant we &lt;b&gt;always&lt;/b&gt; ignore map-join hint?&lt;br/&gt;
For the case Kevin brought up you have already added logging and relies on user to rewrite their query using that logging info. &lt;/p&gt;</comment>
                            <comment id="13585408" author="namit" created="Sun, 24 Feb 2013 16:33:59 +0000"  >&lt;p&gt;I can add more logging (probably include the query, table name etc.) also.&lt;br/&gt;
I would still like to add a config, this was a fairly big change, and we may run into some random bugs, which are difficult to&lt;br/&gt;
anticipate right now. I am fine changing the default to true.&lt;/p&gt;</comment>
                            <comment id="13585649" author="namit" created="Mon, 25 Feb 2013 05:59:16 +0000"  >&lt;p&gt;Once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3891&quot; title=&quot;physical optimizer changes for auto sort-merge join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3891&quot;&gt;&lt;del&gt;HIVE-3891&lt;/del&gt;&lt;/a&gt; is in, and we are confident of it, we can simplify mapjoin removal.&lt;br/&gt;
Always, remove the mapjoin hint.&lt;/p&gt;</comment>
                            <comment id="13585706" author="namit" created="Mon, 25 Feb 2013 08:06:06 +0000"  >&lt;p&gt;Updated the default to true, changed some tests/outputs and added this as a query property for easy logging.&lt;br/&gt;
All the tests passed&lt;/p&gt;</comment>
                            <comment id="13589411" author="namit" created="Thu, 28 Feb 2013 10:23:40 +0000"  >&lt;p&gt;Refreshed&lt;/p&gt;</comment>
                            <comment id="13591622" author="ashutoshc" created="Sun, 3 Mar 2013 03:34:32 +0000"  >&lt;p&gt;I think we should get &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3891&quot; title=&quot;physical optimizer changes for auto sort-merge join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3891&quot;&gt;&lt;del&gt;HIVE-3891&lt;/del&gt;&lt;/a&gt; in asap (I am reviewing it) and than either always ignore the mapjoin hint or not (depending on this new config). I don&apos;t like the idea of not ignoring it for bucketed/sorted join case. I think it will be burdensome for user to reason about whether to enable this config, hint will be ignored in some cases but not all. Than they will ask which are those cases and why. To avoid all this unnecessary explanation, just let either always ignore or never.&lt;br/&gt;
Also, you can set the value of this config to false in data/conf/hive-site.xml which is used for tests, so that patch need not to  update test outputs.&lt;/p&gt;</comment>
                            <comment id="13593723" author="namit" created="Tue, 5 Mar 2013 18:35:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, too risky. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3891&quot; title=&quot;physical optimizer changes for auto sort-merge join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3891&quot;&gt;&lt;del&gt;HIVE-3891&lt;/del&gt;&lt;/a&gt; only takes care of the sort-merge join case, not the bucketed join case.&lt;br/&gt;
Even if we do that, this is brand new code, and may have issues.&lt;/p&gt;

&lt;p&gt;This patch really eases large deployments with lots of queries, where it is not manually possible to change the&lt;br/&gt;
queries (there are simply too many of them). I completely agree that eventually we should completely ignore the&lt;br/&gt;
mapjoin hint always, but we need some time to get there.&lt;/p&gt;</comment>
                            <comment id="13593724" author="namit" created="Tue, 5 Mar 2013 18:36:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevinwilfong&quot; class=&quot;user-hover&quot; rel=&quot;kevinwilfong&quot;&gt;Kevin Wilfong&lt;/a&gt;, do you want to add something ?&lt;/p&gt;</comment>
                            <comment id="13594819" author="ashutoshc" created="Wed, 6 Mar 2013 16:07:34 +0000"  >&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3297&quot; title=&quot;change hive.auto.convert.join&amp;#39;s default value to true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3297&quot;&gt;&lt;del&gt;HIVE-3297&lt;/del&gt;&lt;/a&gt; should be a pre-requisite for it at minimum. Otherwise, hint will be ignored as well as joins won&apos;t be auto-converted, which will be worst of both worlds. Ideally, I would like to see auto.convert.sortmerge.join also default to true, but I am fine doing it later. Please take a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3297&quot; title=&quot;change hive.auto.convert.join&amp;#39;s default value to true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3297&quot;&gt;&lt;del&gt;HIVE-3297&lt;/del&gt;&lt;/a&gt; patch I have posted.&lt;/p&gt;</comment>
                            <comment id="13595404" author="ashutoshc" created="Thu, 7 Mar 2013 01:27:59 +0000"  >&lt;p&gt;There is still a problem with this patch. The query which Vinod posted on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3784&quot; title=&quot;de-emphasize mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3784&quot;&gt;&lt;del&gt;HIVE-3784&lt;/del&gt;&lt;/a&gt; will result in more MR jobs than needed if this gets checked in, which is a performance regression. To solve that we should default &lt;tt&gt;hive.auto.convert.join.noconditionaltask&lt;/tt&gt; to true. Whats your thought for that property ?&lt;/p&gt;</comment>
                            <comment id="13596241" author="namit" created="Thu, 7 Mar 2013 19:27:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, I am assuming you are talking about the following query:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select /*+MAPJOIN(smallTableTwo)*/ idOne, idTwo, value FROM
        ( select /*+MAPJOIN(smallTableOne)*/ idOne, idTwo, value FROM
              bigTable                                       
              JOIN                                                                
              smallTableOne on (bigTable.idOne = smallTableOne.idOne)                                                   
          ) firstjoin                                                             
            JOIN                                                                  
            smallTableTwo on (firstjoin.idTwo = smallTableTwo.idTwo)                       
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;without the mapjoin hints. This query will remain the same.&lt;/p&gt;

&lt;p&gt;The query:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select &lt;span class=&quot;code-comment&quot;&gt;/*+ MAPJOIN(t2) */&lt;/span&gt; * from t1 join t2 on t1.t11 = t2.t21   group by t1.t12;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;will have an extra MR job (I need to verify that), which should go away by setting hive.auto.convert.join.noconditionaltask to true. &lt;br/&gt;
Let me test that.&lt;/p&gt;</comment>
                            <comment id="13596381" author="ashutoshc" created="Thu, 7 Mar 2013 21:17:19 +0000"  >&lt;p&gt;For the first query you have, my understanding is with this patch (which removes map-join hints), this will result in two regular Joins which will both get converted to map-join (if they satisfy requirements). Problem is this still results in 2 Map-only jobs, instead it should have resulted in 1 Map-only job with both joins happening in same mapper. Prior to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3784&quot; title=&quot;de-emphasize mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3784&quot;&gt;&lt;del&gt;HIVE-3784&lt;/del&gt;&lt;/a&gt; i.e., on 0.10, above query  would result in 1 MR job. &lt;br/&gt;
So, to get back the desired behavior of 0.10, {{ hive.auto.convert.join.noconditionaltask}} needs to be true.&lt;/p&gt;</comment>
                            <comment id="13597622" author="namit" created="Fri, 8 Mar 2013 22:13:50 +0000"  >&lt;p&gt;The first query would fail as is - mapjoin followed by mapjoin&lt;/p&gt;</comment>
                            <comment id="13597665" author="namit" created="Fri, 8 Mar 2013 23:01:15 +0000"  >&lt;p&gt;Running tests with the parameter set to true.&lt;/p&gt;</comment>
                            <comment id="13598038" author="namit" created="Sat, 9 Mar 2013 18:57:54 +0000"  >&lt;p&gt;Too many test updates - changed the parameter false for tests, true otherwise&lt;/p&gt;</comment>
                            <comment id="13598042" author="namit" created="Sat, 9 Mar 2013 19:07:54 +0000"  >&lt;p&gt;tests pass&lt;/p&gt;</comment>
                            <comment id="13610009" author="namit" created="Fri, 22 Mar 2013 07:10:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D9663&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9663&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13611136" author="ashutoshc" created="Fri, 22 Mar 2013 19:44:41 +0000"  >&lt;p&gt;I think its better to leave parameter to false for tests and true otherwise. +1 for .12 running tests.&lt;/p&gt;</comment>
                            <comment id="13611566" author="namit" created="Sat, 23 Mar 2013 04:18:21 +0000"  >&lt;p&gt;I agree, it was too painful to change all the tests.&lt;br/&gt;
I tried, but then gave up.&lt;br/&gt;
The semantics of ignore mapjoin hint are also pretty simple now - always ignore&lt;/p&gt;</comment>
                            <comment id="13611590" author="namit" created="Sat, 23 Mar 2013 04:32:55 +0000"  >&lt;p&gt;tests passed&lt;/p&gt;</comment>
                            <comment id="13613489" author="namit" created="Tue, 26 Mar 2013 04:41:01 +0000"  >&lt;p&gt;ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13613596" author="ashutoshc" created="Tue, 26 Mar 2013 07:56:53 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Namit!&lt;/p&gt;</comment>
                            <comment id="13615493" author="hudson" created="Wed, 27 Mar 2013 16:57:52 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2033 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2033/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2033/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4042&quot; title=&quot;ignore mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4042&quot;&gt;&lt;del&gt;HIVE-4042&lt;/del&gt;&lt;/a&gt; : ignore mapjoin hint (Namit Jain via Ashutosh Chauhan) (Revision 1461003)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1461003&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1461003&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/conf/hive-site.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/QueryProperties.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623004" author="hudson" created="Thu, 4 Apr 2013 23:39:48 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4042&quot; title=&quot;ignore mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4042&quot;&gt;&lt;del&gt;HIVE-4042&lt;/del&gt;&lt;/a&gt; : ignore mapjoin hint (Namit Jain via Ashutosh Chauhan) (Revision 1461003)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1461003&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1461003&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/conf/hive-site.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/QueryProperties.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14246204" author="lefty@hortonworks.com" created="Mon, 15 Dec 2014 00:39:59 +0000"  >&lt;p&gt;The new configuration parameter &lt;b&gt;hive.ignore.mapjoin.hint&lt;/b&gt; is documented in the wiki:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.ignore.mapjoin.hint&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.ignore.mapjoin.hint &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12636291">HIVE-4146</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12623099">HIVE-3784</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12570094" name="hive.4042.1.patch" size="3649" author="namit" created="Wed, 20 Feb 2013 07:51:43 +0000"/>
                            <attachment id="12572919" name="hive.4042.10.patch" size="258643" author="namit" created="Sat, 9 Mar 2013 16:22:53 +0000"/>
                            <attachment id="12574973" name="hive.4042.11.patch" size="386996" author="namit" created="Fri, 22 Mar 2013 07:09:28 +0000"/>
                            <attachment id="12574993" name="hive.4042.12.patch" size="4842" author="namit" created="Fri, 22 Mar 2013 10:06:36 +0000"/>
                            <attachment id="12570098" name="hive.4042.2.patch" size="243621" author="namit" created="Wed, 20 Feb 2013 09:37:29 +0000"/>
                            <attachment id="12570607" name="hive.4042.3.patch" size="244080" author="namit" created="Sat, 23 Feb 2013 05:45:31 +0000"/>
                            <attachment id="12570677" name="hive.4042.4.patch" size="244909" author="namit" created="Sun, 24 Feb 2013 17:50:08 +0000"/>
                            <attachment id="12570678" name="hive.4042.5.patch" size="247173" author="namit" created="Sun, 24 Feb 2013 18:00:45 +0000"/>
                            <attachment id="12570729" name="hive.4042.6.patch" size="261172" author="namit" created="Mon, 25 Feb 2013 05:58:20 +0000"/>
                            <attachment id="12571362" name="hive.4042.7.patch" size="261172" author="namit" created="Thu, 28 Feb 2013 06:33:29 +0000"/>
                            <attachment id="12571398" name="hive.4042.8.patch" size="256618" author="namit" created="Thu, 28 Feb 2013 10:23:30 +0000"/>
                            <attachment id="12572851" name="hive.4042.9.patch" size="257574" author="namit" created="Fri, 8 Mar 2013 23:00:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Feb 2013 19:37:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313635</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i4g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313980</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4043] Parallel Hive Queries: Sporadic Errors of form: Error in metadata: javax.jdo.JDOFatalDataStoreException: IO Error: Connection reset</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4043</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I have a program that spawns Hive queries/processes, up to a maximum of 5, in parallel. When the number of queries drops below. ie the process has ended, another Hive query/process is initiated.&lt;/p&gt;

&lt;p&gt;Sometimes, this program works, i.e. all 34 queries successfully process.&lt;/p&gt;

&lt;p&gt;However, on other occasions, I get sporadic instances of the following error for some of the queries:&lt;/p&gt;

&lt;p&gt;FAILED: Error in metadata: javax.jdo.JDOFatalDataStoreException: IO Error: Connection reset&lt;br/&gt;
NestedThrowables:&lt;br/&gt;
java.sql.SQLRecoverableException: IO Error: Connection reset&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask&lt;/p&gt;

&lt;p&gt;Can anyone help in identifying/resolving why this occurs. It looks to me as if there is some kind of race condition/collision with the Hive Metastore, this being hosted in an Oracle DB on the same node as the Hadoop infrastructure (single node).&lt;/p&gt;</description>
                <environment>&lt;p&gt;O/S: RHEL 6.3&lt;br/&gt;
Metastore: Oracle 11gR2&lt;/p&gt;</environment>
        <key id="12633250">HIVE-4043</key>
            <summary>Parallel Hive Queries: Sporadic Errors of form: Error in metadata: javax.jdo.JDOFatalDataStoreException: IO Error: Connection reset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="atindle">Andrew Tindle</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Feb 2013 18:42:32 +0000</created>
                <updated>Wed, 20 Feb 2013 18:42:32 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i54v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314091</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4044] Add URL type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4044</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Having a separate type for URLs would enable improvements in storage efficiency based on breaking up a URL into its components. The new type will be named &quot;URL&quot; and made a non-reserved keyword (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633251">HIVE-4044</key>
            <summary>Add URL type</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="sxyuan">Samuel Yuan</assignee>
                                    <reporter username="sxyuan">Samuel Yuan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Feb 2013 18:44:38 +0000</created>
                <updated>Sun, 30 Jun 2013 09:12:40 +0000</updated>
                            <resolved>Wed, 27 Feb 2013 23:17:58 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13583945" author="phabricator@reviews.facebook.net" created="Fri, 22 Feb 2013 06:02:12 +0000"  >&lt;p&gt;sxyuan requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4044&quot; title=&quot;Add URL type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4044&quot;&gt;&lt;del&gt;HIVE-4044&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add URL type&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: kevinwilfong&lt;/p&gt;

&lt;p&gt;Having a separate type for URLs would enable improvements in storage efficiency based on breaking up a URL into its components. The new type will be named &quot;URL&quot; and made a non-reserved keyword (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;The change involves adding new classes and object inspectors for representing URLs, modifying existing serdes to read and write URLs, and adding the supporting grammar. In addition, some UDFs were modified to handle the new type.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  Added queries testing various ways of using the new type: reading/writing URLs, comparing URLs, and applying UDFs to URLs.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8799&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8799&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Partition.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/EnvironmentContext.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Schema.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrincipalPrivilegeSet.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SerDeInfo.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Table.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/StorageDescriptor.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Database.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Index.java&lt;br/&gt;
  data/files/url.txt&lt;br/&gt;
  data/files/primitive_type_arrays.txt&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyURL.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyURLObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryURL.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableConstantURLObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableURLObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableURLObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/URLObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaURLObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/io/URLWritable.java&lt;br/&gt;
  serde/src/gen/thrift/gen-py/org_apache_hadoop_hive_serde/constants.py&lt;br/&gt;
  serde/src/gen/thrift/gen-cpp/serde_constants.cpp&lt;br/&gt;
  serde/src/gen/thrift/gen-cpp/serde_constants.h&lt;br/&gt;
  serde/src/gen/thrift/gen-rb/serde_constants.rb&lt;br/&gt;
  serde/src/gen/thrift/gen-php/org/apache/hadoop/hive/serde/Types.php&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/serdeConstants.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/Complex.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java&lt;br/&gt;
  serde/if/serde.thrift&lt;br/&gt;
  ql/src/test/results/clientpositive/url_udf.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/url.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/url_comparison.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/compute_stats_url.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/url_comparison.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/url_udf.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/url.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sort_array.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/compute_stats_url.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/HiveLexer.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToURL.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFParseUrlTuple.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFComputeStats.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Task.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Stage.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Operator.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/21417/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/21417/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: kevinwilfong, sxyuan&lt;br/&gt;
Cc: JIRA&lt;/p&gt;</comment>
                            <comment id="13585177" author="ashutoshc" created="Sat, 23 Feb 2013 17:57:07 +0000"  >&lt;p&gt;URL is an unusual type to add in query processing engines. Can you spec out whats the motivation of adding this type (e.g. you can always use string type for urls). I am assuming from your description above that it might result in storage efficiency by having better encoding of urls. But, I see in LazyBinaryURL following comment&lt;br/&gt;
/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The serialization of LazyBinaryURL is the same as the binary representation&lt;/li&gt;
	&lt;li&gt;of the underlying string&lt;br/&gt;
 */&lt;br/&gt;
and also URLWritable has
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; @Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void write(DataOutput out) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (url != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] bytes = url.toString().getBytes();
      WritableUtils.writeVInt(out, bytes.length);
      out.write(bytes);
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
      WritableUtils.writeVInt(out, 0);
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So, it seems like you are storing urls as string anyways both for intermediate data of MR as well as output of query. So, I don&apos;t see how is it resulting in better storage efficiency. &lt;/p&gt;</comment>
                            <comment id="13588887" author="sxyuan" created="Wed, 27 Feb 2013 23:05:30 +0000"  >&lt;p&gt;You&apos;re right, the idea is that it will enable better encoding of URLs. Kevin found that breaking up the URL into its components and storing them as separate columns results in significant space savings. The original plan was to implement this idea with RCFile, but with the new ORC file format I decided to wait for that instead, and to submit this part separately.&lt;/p&gt;

&lt;p&gt;However, it looks like the improvements of the ORC file have erased any gains we would have gotten by breaking up URLs into the individual components, so this won&apos;t be needed any more.&lt;/p&gt;</comment>
                            <comment id="13588892" author="ashutoshc" created="Wed, 27 Feb 2013 23:17:58 +0000"  >&lt;p&gt;Per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sxyuan&quot; class=&quot;user-hover&quot; rel=&quot;sxyuan&quot;&gt;Samuel Yuan&lt;/a&gt; this is not needed anymore. Resolving.&lt;/p&gt;</comment>
                            <comment id="13679659" author="owen.omalley" created="Mon, 10 Jun 2013 17:30:08 +0000"  >&lt;p&gt;We could actually implement this as a different encoding of string columns that recognizes string columns and breaks them down into individual parts. Another approach would be to use a trie encoding for the dictionary. That would have a lot of the same value and would likely be a general win.&lt;/p&gt;</comment>
                            <comment id="13681573" author="sxyuan" created="Wed, 12 Jun 2013 20:05:13 +0000"  >&lt;p&gt;I tried breaking the URL into parts and encoding them as individual columns; the dictionary shrunk, but the overhead of the other ORC columns introduced (mostly the column of indices) made a bigger impact, so compression was actually worse overall. I also tried storing the query string as a map and putting common keys into separate columns; this improved compression somewhat, but still not enough to offset the overhead of new columns for the query string.&lt;/p&gt;</comment>
                            <comment id="13696306" author="ashutoshc" created="Sun, 30 Jun 2013 09:12:40 +0000"  >&lt;p&gt;I didn&apos;t know this, but apparently there exists a datalink type in sql standard which very much look and feel like url. &lt;a href=&quot;http://wiki.postgresql.org/wiki/DATALINK&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.postgresql.org/wiki/DATALINK&lt;/a&gt; So, if standard compliance is a goal, we may need to add this eventually. Though at that point its better to call it datalink instead of url.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12570420" name="HIVE-4044.HIVE-4044.HIVE-4044.D8799.1.patch" size="174130" author="phabricator@reviews.facebook.net" created="Fri, 22 Feb 2013 06:02:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Feb 2013 06:02:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313747</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i553:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314092</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4045] Modify PreDropPartitionEvent to pass Table parameter</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4045</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;MetaStorePreEventListener which implements onEvent(PreEventContext context) sometimes needs to access Table properties when PreDropPartitionEvent is listened to.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633260">HIVE-4045</key>
            <summary>Modify PreDropPartitionEvent to pass Table parameter</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liyangliyang">Li Yang</assignee>
                                    <reporter username="liyangliyang">Li Yang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Feb 2013 19:43:45 +0000</created>
                <updated>Thu, 16 May 2013 21:10:15 +0000</updated>
                            <resolved>Mon, 11 Mar 2013 18:43:53 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13583006" author="namit" created="Thu, 21 Feb 2013 08:38:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D8757&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8757&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13583008" author="liyangliyang" created="Thu, 21 Feb 2013 08:39:06 +0000"  >&lt;p&gt;diff is at: &lt;a href=&quot;https://reviews.facebook.net/D8757&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8757&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13590769" author="liyangliyang" created="Fri, 1 Mar 2013 17:53:27 +0000"  >&lt;p&gt;Namit,&lt;/p&gt;

&lt;p&gt;Can you please review this change?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Li&lt;/p&gt;</comment>
                            <comment id="13590867" author="kevinwilfong" created="Fri, 1 Mar 2013 19:34:22 +0000"  >&lt;p&gt;Comments on Phabricator&lt;/p&gt;</comment>
                            <comment id="13592784" author="pamelavagata" created="Mon, 4 Mar 2013 23:16:09 +0000"  >&lt;p&gt;Kevin, Namit - Li has updated the diff with a unit test, could one of you take a look at the diff?&lt;/p&gt;</comment>
                            <comment id="13597409" author="kevinwilfong" created="Fri, 8 Mar 2013 19:07:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13597410" author="kevinwilfong" created="Fri, 8 Mar 2013 19:07:30 +0000"  >&lt;p&gt;Li, can you update the patch attached to the JIRA?&lt;/p&gt;</comment>
                            <comment id="13597417" author="pamelavagata" created="Fri, 8 Mar 2013 19:14:12 +0000"  >&lt;p&gt;Thanks Kevin!&lt;/p&gt;


</comment>
                            <comment id="13597604" author="liyangliyang" created="Fri, 8 Mar 2013 21:47:58 +0000"  >&lt;p&gt;Thanks Kevin. I&apos;ve updated the patch.&lt;/p&gt;</comment>
                            <comment id="13599123" author="kevinwilfong" created="Mon, 11 Mar 2013 18:43:53 +0000"  >&lt;p&gt;Committed, thanks Li.&lt;/p&gt;</comment>
                            <comment id="13599175" author="liyangliyang" created="Mon, 11 Mar 2013 19:36:40 +0000"  >&lt;p&gt;Thanks Kevin!&lt;/p&gt;</comment>
                            <comment id="13599956" author="hudson" created="Tue, 12 Mar 2013 11:58:05 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2011 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2011/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2011/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4045&quot; title=&quot;Modify PreDropPartitionEvent to pass Table parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4045&quot;&gt;&lt;del&gt;HIVE-4045&lt;/del&gt;&lt;/a&gt;. Modify PreDropPartitionEvent to pass Table parameter. (Li Yang via kevinwilfong) (Revision 1455282)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455282&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455282&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/PreDropPartitionEvent.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623000" author="hudson" created="Thu, 4 Apr 2013 23:39:47 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4045&quot; title=&quot;Modify PreDropPartitionEvent to pass Table parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4045&quot;&gt;&lt;del&gt;HIVE-4045&lt;/del&gt;&lt;/a&gt;. Modify PreDropPartitionEvent to pass Table parameter. (Li Yang via kevinwilfong) (Revision 1455282)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455282&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455282&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/PreDropPartitionEvent.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12571981" name="HIVE-4045.1.patch.txt" size="3089" author="liyangliyang" created="Mon, 4 Mar 2013 23:11:25 +0000"/>
                            <attachment id="12572837" name="HIVE-4045.2.patch.txt" size="3156" author="liyangliyang" created="Fri, 8 Mar 2013 21:45:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Feb 2013 08:38:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313756</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i573:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4046] Column masking</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4046</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Sometimes data in a table needs to be kept around but made inaccessible. Right now it is possible to offline a table or a partition, but not a specific column of a partition. Also, accessing an offlined table results in an error. With this change, it will be possible to mask a column at the partition level, causing all further queries to that column to return null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633290">HIVE-4046</key>
            <summary>Column masking</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="sxyuan">Samuel Yuan</assignee>
                                    <reporter username="sxyuan">Samuel Yuan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Feb 2013 22:34:02 +0000</created>
                <updated>Thu, 2 Jun 2016 10:11:48 +0000</updated>
                            <resolved>Wed, 1 Jun 2016 22:00:56 +0000</resolved>
                                    <version>0.11.0</version>
                                                    <component>Authorization</component>
                    <component>CLI</component>
                    <component>Metastore</component>
                    <component>Query Processor</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13582648" author="cwsteinbach" created="Wed, 20 Feb 2013 23:18:08 +0000"  >&lt;p&gt;I think it&apos;s possible to accomplish most of this functionality using views in combination with authorization.&lt;/p&gt;

&lt;p&gt;I&apos;m also concerned that with the proposed behavior users will have trouble differentiating between the case where they aren&apos;t allowed to read a column and the other case where they do have permission to read the column, but all of the values are actually NULL.&lt;/p&gt;</comment>
                            <comment id="13582759" author="justinboseant" created="Thu, 21 Feb 2013 01:11:45 +0000"  >&lt;p&gt;The problem with using authorization is that querying one of these columns is going to result in an error / failed query.  The requested functionality requires that we succeed the query and mask the data.&lt;/p&gt;</comment>
                            <comment id="13582772" author="cwsteinbach" created="Thu, 21 Feb 2013 01:35:59 +0000"  >&lt;p&gt;Here&apos;s what I meant:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE emp (
  name STRING,
  title STRING,
  salary INT
);

CREATE VIEW emp_masked AS
  SELECT name, title, NULL
  FROM emp;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then use authorization to restrict access to the underlying emp table.&lt;/p&gt;

&lt;p&gt;Regardless of which approach is used, I think it would be good to write up a proposal explaining the functional and implementation details before writing any code.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12941428">HIVE-13125</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Feb 2013 23:18:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313786</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i5dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4047] skewjoin.q unit test inconsistently fails with Hadoop 0.23.x on branch 10</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4047</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12633428">HIVE-4047</key>
            <summary>skewjoin.q unit test inconsistently fails with Hadoop 0.23.x on branch 10</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="thiruvel">Thiruvel Thirumoolan</assignee>
                                    <reporter username="thiruvel">Thiruvel Thirumoolan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Feb 2013 17:18:22 +0000</created>
                <updated>Thu, 21 Feb 2013 17:18:22 +0000</updated>
                                            <version>0.10.0</version>
                                    <fixVersion>0.10.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i687:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314268</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4048] Allow partition by/order by in partitioning spec in over clause and partition function</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4048</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12633475">HIVE-4048</key>
            <summary>Allow partition by/order by in partitioning spec in over clause and partition function</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Feb 2013 21:43:52 +0000</created>
                <updated>Thu, 16 May 2013 21:10:04 +0000</updated>
                            <resolved>Fri, 22 Feb 2013 01:32:18 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13583581" author="ashutoshc" created="Thu, 21 Feb 2013 21:53:49 +0000"  >&lt;p&gt;Phabricator entry : &lt;a href=&quot;https://reviews.facebook.net/D8775&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8775&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13583585" author="ashutoshc" created="Thu, 21 Feb 2013 21:57:05 +0000"  >&lt;p&gt;Marking Patch Available.&lt;/p&gt;</comment>
                            <comment id="13583728" author="rhbutani" created="Fri, 22 Feb 2013 00:20:27 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13583791" author="ashutoshc" created="Fri, 22 Feb 2013 01:32:18 +0000"  >&lt;p&gt;Committed to branch. Filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4052&quot; title=&quot;Disallow partition/sort and distribute/order combinations in windowing and partitioning spec&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4052&quot;&gt;&lt;del&gt;HIVE-4052&lt;/del&gt;&lt;/a&gt; for follow-up.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12630801">HIVE-3987</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12438744">HIVE-896</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12570361" name="HIVE-4048.patch" size="62334" author="ashutoshc" created="Thu, 21 Feb 2013 21:53:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Feb 2013 00:20:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i6in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4049] local_mapred_error_cache.q with hadoop 23.x fails with additional warning messages</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4049</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When run on branch10 with 23.x, the test fails. An additional warning message leads to failure. The test should be independent of these things.&lt;/p&gt;

&lt;p&gt;Diff output:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 16d15&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated. Please use org.apache.hadoop.log.metrics.EventCounter in all the log4j.properties files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633478">HIVE-4049</key>
            <summary>local_mapred_error_cache.q with hadoop 23.x fails with additional warning messages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thiruvel">Thiruvel Thirumoolan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Feb 2013 22:01:39 +0000</created>
                <updated>Wed, 3 Apr 2013 09:29:17 +0000</updated>
                            <resolved>Wed, 3 Apr 2013 09:29:17 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13620773" author="thiruvel" created="Wed, 3 Apr 2013 09:29:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3428&quot; title=&quot;Fix log4j configuration errors when running hive on hadoop23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3428&quot;&gt;&lt;del&gt;HIVE-3428&lt;/del&gt;&lt;/a&gt; has already fixed this.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12606175">HIVE-3428</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i6jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314318</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4050] Pass ObjectInspectors to Hive OperatorHook</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4050</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;OperatorHook should have ObjectInspectors passed in to allow row level operations to be performed in the hooks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633481">HIVE-4050</key>
            <summary>Pass ObjectInspectors to Hive OperatorHook</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="pamelavagata">Pamela Vagata</assignee>
                                    <reporter username="pamelavagata">Pamela Vagata</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Feb 2013 22:11:57 +0000</created>
                <updated>Thu, 21 Feb 2013 22:19:13 +0000</updated>
                            <resolved>Thu, 21 Feb 2013 22:19:13 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13583606" author="pamelavagata" created="Thu, 21 Feb 2013 22:18:44 +0000"  >&lt;p&gt;ObjectInspectors can be retrieved from the operator in the OperatorHookContext - no change necessary&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i6jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314321</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4051] Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp; is slow</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4051</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive&apos;s query client takes a long time to initialize &amp;amp; start planning queries because of delays in creating all the MTable/MPartition objects.&lt;/p&gt;

&lt;p&gt;For a hive db with 1800 partitions, the metastore took 6-7 seconds to initialize - firing approximately 5900 queries to the mysql database.&lt;/p&gt;

&lt;p&gt;Several of those queries fetch exactly one row to create a single object on the client.&lt;/p&gt;

&lt;p&gt;The following 12 queries were repeated for each partition, generating a storm of SQL queries &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;4 Query     SELECT `A0`.`SD_ID`,`B0`.`INPUT_FORMAT`,`B0`.`IS_COMPRESSED`,`B0`.`IS_STOREDASSUBDIRECTORIES`,`B0`.`LOCATION`,`B0`.`NUM_BUCKETS`,`B0`.`OUTPUT_FORMAT`,`B0`.`SD_ID` FROM `PARTITIONS` `A0` LEFT OUTER JOIN `SDS` `B0` ON `A0`.`SD_ID` = `B0`.`SD_ID` WHERE `A0`.`PART_ID` = 3945
4 Query     SELECT `A0`.`CD_ID`,`B0`.`CD_ID` FROM `SDS` `A0` LEFT OUTER JOIN `CDS` `B0` ON `A0`.`CD_ID` = `B0`.`CD_ID` WHERE `A0`.`SD_ID` =4871
4 Query     SELECT COUNT(*) FROM `COLUMNS_V2` THIS WHERE THIS.`CD_ID`=1546 AND THIS.`INTEGER_IDX`&amp;gt;=0
4 Query     SELECT `A0`.`COMMENT`,`A0`.`COLUMN_NAME`,`A0`.`TYPE_NAME`,`A0`.`INTEGER_IDX` AS NUCORDER0 FROM `COLUMNS_V2` `A0` WHERE `A0`.`CD_ID` = 1546 AND `A0`.`INTEGER_IDX` &amp;gt;= 0 ORDER BY NUCORDER0
4 Query     SELECT `A0`.`SERDE_ID`,`B0`.`NAME`,`B0`.`SLIB`,`B0`.`SERDE_ID` FROM `SDS` `A0` LEFT OUTER JOIN `SERDES` `B0` ON `A0`.`SERDE_ID` = `B0`.`SERDE_ID` WHERE `A0`.`SD_ID` =4871
4 Query     SELECT COUNT(*) FROM `SORT_COLS` THIS WHERE THIS.`SD_ID`=4871 AND THIS.`INTEGER_IDX`&amp;gt;=0
4 Query     SELECT `A0`.`COLUMN_NAME`,`A0`.`ORDER`,`A0`.`INTEGER_IDX` AS NUCORDER0 FROM `SORT_COLS` `A0` WHERE `A0`.`SD_ID` =4871 AND `A0`.`INTEGER_IDX` &amp;gt;= 0 ORDER BY NUCORDER0
4 Query     SELECT COUNT(*) FROM `SKEWED_VALUES` THIS WHERE THIS.`SD_ID_OID`=4871 AND THIS.`INTEGER_IDX`&amp;gt;=0
4 Query     SELECT &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.metastore.model.MStringList&apos;&lt;/span&gt; AS NUCLEUS_TYPE,`A1`.`STRING_LIST_ID`,`A0`.`INTEGER_IDX` AS NUCORDER0 FROM `SKEWED_VALUES` `A0` INNER JOIN `SKEWED_STRING_LIST` `A1` ON `A0`.`STRING_LIST_ID_EID` = `A1`.`STRING_LIST_ID` WHERE `A0`.`SD_ID_OID` =4871 AND `A0`.`INTEGER_IDX` &amp;gt;= 0 ORDER BY NUCORDER0
4 Query     SELECT COUNT(*) FROM `SKEWED_COL_VALUE_LOC_MAP` WHERE `SD_ID` =4871 AND `STRING_LIST_ID_KID` IS NOT NULL
4 Query     SELECT &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.metastore.model.MStringList&apos;&lt;/span&gt; AS NUCLEUS_TYPE,`A0`.`STRING_LIST_ID` FROM `SKEWED_STRING_LIST` `A0` INNER JOIN `SKEWED_COL_VALUE_LOC_MAP` `B0` ON `A0`.`STRING_LIST_ID` = `B0`.`STRING_LIST_ID_KID` WHERE `B0`.`SD_ID` =4871
4 Query     SELECT `A0`.`STRING_LIST_ID_KID`,`A0`.`LOCATION` FROM `SKEWED_COL_VALUE_LOC_MAP` `A0` WHERE `A0`.`SD_ID` =4871 AND NOT (`A0`.`STRING_LIST_ID_KID` IS NULL)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This data is not detached or cached, so this operation is performed during every query plan for the partitions, even in the same hive client.&lt;/p&gt;

&lt;p&gt;The queries are automatically generated by JDO/DataNucleus which makes it nearly impossible to rewrite it into a single denormalized join operation &amp;amp; process it locally.&lt;/p&gt;

&lt;p&gt;Attempts to optimize this with JDO fetch-groups did not bear fruit in improving the query count.&lt;/p&gt;</description>
                <environment>&lt;p&gt;RHEL 6.3 / EC2 C1.XL&lt;/p&gt;</environment>
        <key id="12633522">HIVE-4051</key>
            <summary>Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp; is slow</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 01:25:39 +0000</created>
                <updated>Tue, 25 Mar 2014 07:28:19 +0000</updated>
                            <resolved>Wed, 7 Aug 2013 05:30:29 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Clients</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>16</watches>
                                                                <comments>
                            <comment id="13714281" author="sershe" created="Sat, 20 Jul 2013 00:58:43 +0000"  >&lt;p&gt;I am actually getting 16 queries... 3 by PART_ID (itself, values, params), 10 per its SD_ID, 2 for SD_ID_OID (might also be SD_ID?), and 1 for SERDE.&lt;br/&gt;
Some normalization doesn&apos;t make any sense, e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mysql&amp;gt; select name, slib, count(1) from SERDES;
+------+----------------------------------------------------+----------+
| name | slib                                               | count(1) |
+------+----------------------------------------------------+----------+
| NULL | org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe |    32769 |
+------+----------------------------------------------------+----------+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;if stored for each row 1-on-1 anyway, why not just store it in the row?&lt;/p&gt;

&lt;p&gt;I am looking in the direction of doing a full-string query returning a bag of fields, rather than MPartition, so that per-object calls are not done. Then SDs can be fetched with join, etc.&lt;br/&gt;
One thing that is not quite clear is how to do fetch from separate tables for which DN object doesn&apos;t exist e.g. PARTITION_KEY_VALS. Ideally we would fetch all of these for all necessary partitions in one query and put them into objects.&lt;/p&gt;

&lt;p&gt;If all else fails we can use SQL &lt;a href=&quot;http://www.datanucleus.org/products/datanucleus/jdo/sql.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/products/datanucleus/jdo/sql.html&lt;/a&gt;, but it will halfway defeat the purpose of having DN in the first place, since it becomes RDBMS-dependent.&lt;/p&gt;

&lt;p&gt;In fact to avoid warring with datanucleus perhaps we could do SQL as storage-specific optimization, configurable for metastore, and fall back to ORM if disabled.&lt;/p&gt;</comment>
                            <comment id="13719045" author="phabricator@reviews.facebook.net" created="Wed, 24 Jul 2013 23:53:46 +0000"  >&lt;p&gt;sershe requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;Preliminary patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; (ready for review).&lt;br/&gt;
This introduces &quot;direct SQL&quot; optimization for metastore.&lt;br/&gt;
When memstore gets partitions by filter or by names, it does so using ANSI SQL92 queries, if enabled (default).&lt;br/&gt;
This will not work on non-RDBMS datastores, may not work on non-ANSI-compiant ones (I tested on mysql in default mode).&lt;br/&gt;
If disabled, or if any error happens, it will use the default DataNucleus code.&lt;br/&gt;
When it does work, which is most practical cases, with local mysql it produces up to x20 speedup for getting large number of partitions.&lt;br/&gt;
SQL queries can be further optimized to achieve even more, presumably - see some comments in the code. That will be done as separate JIRAs.&lt;/p&gt;

&lt;p&gt;So far the patch has no tests, because it is peculiar to the storage engine, so I need to look if derby test makes sense.&lt;br/&gt;
Another question is whether it makes sense to put SQL antics into separate class.&lt;br/&gt;
Let me run HIVE QA (some test have run on local). After discussion I will update the patch, but the core is ready for review.&lt;/p&gt;


&lt;p&gt;Hive&apos;s query client takes a long time to initialize &amp;amp; start planning queries because of delays in creating all the MTable/MPartition objects.&lt;/p&gt;

&lt;p&gt;For a hive db with 1800 partitions, the metastore took 6-7 seconds to initialize - firing approximately 5900 queries to the mysql database.&lt;/p&gt;

&lt;p&gt;Several of those queries fetch exactly one row to create a single object on the client.&lt;/p&gt;

&lt;p&gt;The following 12 queries were repeated for each partition, generating a storm of SQL queries&lt;/p&gt;

&lt;p&gt;4 Query     SELECT `A0`.`SD_ID`,`B0`.`INPUT_FORMAT`,`B0`.`IS_COMPRESSED`,`B0`.`IS_STOREDASSUBDIRECTORIES`,`B0`.`LOCATION`,`B0`.`NUM_BUCKETS`,`B0`.`OUTPUT_FORMAT`,`B0`.`SD_ID` FROM `PARTITIONS` `A0` LEFT OUTER JOIN `SDS` `B0` ON `A0`.`SD_ID` = `B0`.`SD_ID` WHERE `A0`.`PART_ID` = 3945&lt;br/&gt;
4 Query     SELECT `A0`.`CD_ID`,`B0`.`CD_ID` FROM `SDS` `A0` LEFT OUTER JOIN `CDS` `B0` ON `A0`.`CD_ID` = `B0`.`CD_ID` WHERE `A0`.`SD_ID` =4871&lt;br/&gt;
4 Query     SELECT COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM `COLUMNS_V2` THIS WHERE THIS.`CD_ID`=1546 AND THIS.`INTEGER_IDX`&amp;gt;=0&lt;br/&gt;
4 Query     SELECT `A0`.`COMMENT`,`A0`.`COLUMN_NAME`,`A0`.`TYPE_NAME`,`A0`.`INTEGER_IDX` AS NUCORDER0 FROM `COLUMNS_V2` `A0` WHERE `A0`.`CD_ID` = 1546 AND `A0`.`INTEGER_IDX` &amp;gt;= 0 ORDER BY NUCORDER0&lt;br/&gt;
4 Query     SELECT `A0`.`SERDE_ID`,`B0`.`NAME`,`B0`.`SLIB`,`B0`.`SERDE_ID` FROM `SDS` `A0` LEFT OUTER JOIN `SERDES` `B0` ON `A0`.`SERDE_ID` = `B0`.`SERDE_ID` WHERE `A0`.`SD_ID` =4871&lt;br/&gt;
4 Query     SELECT COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM `SORT_COLS` THIS WHERE THIS.`SD_ID`=4871 AND THIS.`INTEGER_IDX`&amp;gt;=0&lt;br/&gt;
4 Query     SELECT `A0`.`COLUMN_NAME`,`A0`.`ORDER`,`A0`.`INTEGER_IDX` AS NUCORDER0 FROM `SORT_COLS` `A0` WHERE `A0`.`SD_ID` =4871 AND `A0`.`INTEGER_IDX` &amp;gt;= 0 ORDER BY NUCORDER0&lt;br/&gt;
4 Query     SELECT COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM `SKEWED_VALUES` THIS WHERE THIS.`SD_ID_OID`=4871 AND THIS.`INTEGER_IDX`&amp;gt;=0&lt;br/&gt;
4 Query     SELECT &apos;org.apache.hadoop.hive.metastore.model.MStringList&apos; AS NUCLEUS_TYPE,`A1`.`STRING_LIST_ID`,`A0`.`INTEGER_IDX` AS NUCORDER0 FROM `SKEWED_VALUES` `A0` INNER JOIN `SKEWED_STRING_LIST` `A1` ON `A0`.`STRING_LIST_ID_EID` = `A1`.`STRING_LIST_ID` WHERE `A0`.`SD_ID_OID` =4871 AND `A0`.`INTEGER_IDX` &amp;gt;= 0 ORDER BY NUCORDER0&lt;br/&gt;
4 Query     SELECT COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM `SKEWED_COL_VALUE_LOC_MAP` WHERE `SD_ID` =4871 AND `STRING_LIST_ID_KID` IS NOT NULL&lt;br/&gt;
4 Query     SELECT &apos;org.apache.hadoop.hive.metastore.model.MStringList&apos; AS NUCLEUS_TYPE,`A0`.`STRING_LIST_ID` FROM `SKEWED_STRING_LIST` `A0` INNER JOIN `SKEWED_COL_VALUE_LOC_MAP` `B0` ON `A0`.`STRING_LIST_ID` = `B0`.`STRING_LIST_ID_KID` WHERE `B0`.`SD_ID` =4871&lt;br/&gt;
4 Query     SELECT `A0`.`STRING_LIST_ID_KID`,`A0`.`LOCATION` FROM `SKEWED_COL_VALUE_LOC_MAP` `A0` WHERE `A0`.`SD_ID` =4871 AND NOT (`A0`.`STRING_LIST_ID_KID` IS NULL)&lt;/p&gt;

&lt;p&gt;This data is not detached or cached, so this operation is performed during every query plan for the partitions, even in the same hive client.&lt;/p&gt;

&lt;p&gt;The queries are automatically generated by JDO/DataNucleus which makes it nearly impossible to rewrite it into a single denormalized join operation &amp;amp; process it locally.&lt;/p&gt;

&lt;p&gt;Attempts to optimize this with JDO fetch-groups did not bear fruit in improving the query count.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/28047/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/28047/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, sershe&lt;/p&gt;</comment>
                            <comment id="13719782" author="hiveqa" created="Thu, 25 Jul 2013 17:06:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594063/HIVE-4051.D11805.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594063/HIVE-4051.D11805.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 230 failed/errored test(s), 2651 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_drop_multi_partitions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_6
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_multi7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_quote1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nullgroup5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_escape1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin2
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testFilterSinglePartition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_part10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_part5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_hook
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_map_ppr
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_insert4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_part
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_rc
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_filter_join_breaktask
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_ppr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_lateralview
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppr_pushdown2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_hook_context_cs
org.apache.hcatalog.listener.TestNotificationListener.testAMQListener
org.apache.hcatalog.pig.TestHCatStorer.testPartColsInData
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppr_pushdown
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_distinct
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_5
org.apache.hcatalog.pig.TestHCatLoader.testReadPartitionedBasic
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_part0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_partitioned
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_multi2
org.apache.hcatalog.mapreduce.TestHCatPartitioned.testHCatPartitionedTable
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_10
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testPartitionFilter
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testFilterSinglePartition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_drop_partitions_ignore_protection
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nonmr_fetch
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union26
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_transform_ppr2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_serde_format
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testPartitionFilter
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_20
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_disallow_incompatible_type_change_on2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lock2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_6
org.apache.hadoop.hive.ql.parse.TestParse.testParse_input_part1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_partspec5
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testFilterLastPartition
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_multi1
org.apache.hcatalog.pig.TestOrcHCatLoader.testReadPartitionedBasic
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_filter_join_breaktask2
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testPartitionFilter
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_18
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_auto_partitioned
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_partition_offline
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testFilterLastPartition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_partition_protect_mode
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert2_overwrite_partitions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_global_limit
org.apache.hadoop.hive.ql.parse.TestParse.testParse_sample1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_part1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_router_join_ppr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_truncate_column
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testFilterSinglePartition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition4
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testFilterLastPartition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mi
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_fail_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input42
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_merge_2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_tbl7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_inputddl7
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_partspec2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_archive_multi
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_or_replace_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge4
org.apache.hcatalog.mapreduce.TestHCatDynamicPartitioned.testHCatDynamicPartitionedTableMultipleTask
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_dynamic_partitions_with_whitelist
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_21
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input28
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insertexternal1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_part9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppr_allchildsarenull
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_sa_fail_hook3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample8
org.apache.hcatalog.mapreduce.TestHCatHiveThriftCompatibility.testDynamicCols
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_multi4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join14_hadoop20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_part2
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testPartitionFilter
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testFilterLastPartition
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testFilterSinglePartition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_protectmode
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lock4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_union22
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_part
org.apache.hcatalog.fileformats.TestOrcDynamicPartitioned.testHCatDynamicPartitionedTable
org.apache.hcatalog.fileformats.TestOrcDynamicPartitioned.testHCatDynamicPartitionedTableMultipleTask
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rename_external_partition_location
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partitions_json
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_partspec1
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testFilterSinglePartition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_truncate_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_noscan_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_ppr_multi_distinct
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_inputddl6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_pcr
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_partspec3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_6
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_partition_nodrop
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_fail_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin_negative
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_multi3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rand_partitionpruner2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_multi6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_merge1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_insert1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_unused
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter3
org.apache.hadoop.hive.metastore.TestMetaStoreEventListener.testListener
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_disallow_incompatible_type_change_on1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_union_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input40
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_map_ppr_multi_distinct
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_louter_join_ppr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_partition_coltype
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_groupby
org.apache.hadoop.hive.ql.security.TestAuthorizationPreEventListener.testListener
org.apache.hcatalog.security.TestHdfsAuthorizationProvider.testAddDropPartition
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_fail_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_stale_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part2
org.apache.hcatalog.security.TestHdfsAuthorizationProvider.testDropPartitionFail2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join14_hadoop20
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_insert2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part7
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_partspec4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert1_overwrite_partitions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_concatenate_inherit_table_location
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_disallow_incompatible_type_change_off
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input26
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_loadpart1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lock3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_view_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_8
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_part_no_drop
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_multi5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input24
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auth
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_lockneg4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union22
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_touch
org.apache.hcatalog.api.TestHCatClient.testGetPartitionsWithPartialSpec
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_combine3
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testPartitionFilter
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_bucket_mapjoin_mismatch1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rename_partition_location
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_7
org.apache.hcatalog.api.TestHCatClient.testPartitionsHCatClientImpl
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_part8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input39_hadoop20
org.apache.hcatalog.mapreduce.TestHCatDynamicPartitioned.testHCatDynamicPartitionedTable
org.apache.hcatalog.security.TestHdfsAuthorizationProvider.testDropPartitionFail1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_updateAccessTime
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_drop_partitions_filter
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_database_drop
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables_compact
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_insert3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_tbl8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input23
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input_part7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_lockneg3
org.apache.hcatalog.pig.TestHCatStorer.testStoreInPartiitonedTbl
org.apache.hcatalog.mapreduce.TestHCatHiveCompatibility.testPartedRead
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_view_cast
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testFilterLastPartition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_ppr
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_protectmode_part1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_rename_partition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_udf_case
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_database
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin7
org.apache.hcatalog.api.TestHCatClient.testDropPartitionsWithPartialSpec
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lateral_view_ppd
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/182/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/182/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/182/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/182/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 230 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13721505" author="phabricator@reviews.facebook.net" created="Sat, 27 Jul 2013 02:53:46 +0000"  >&lt;p&gt;sershe updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  Fixed mishandling of transactions, lack of support for limit, and boolean fields failing on Derby. Some random tests I ran pass, will run all tests overnight.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805?vs=36135&amp;amp;id=36357#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805?vs=36135&amp;amp;id=36357#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/p&gt;

&lt;p&gt;To: JIRA, sershe&lt;/p&gt;</comment>
                            <comment id="13721584" author="hiveqa" created="Sat, 27 Jul 2013 09:07:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594511/HIVE-4051.D11805.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594511/HIVE-4051.D11805.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 59 failed/errored test(s), 2653 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppr_pushdown2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_unquote_or
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_rc
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_unquote_and
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_explain_dependency2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_special_char
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_auto_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_inputddl7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_archive_multi
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mi
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_combine2_hadoop20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_merge_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_columnstats_partlvl
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_decode_name
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_noscan_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_unused
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_partition_coltype
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_stale_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_groupby
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_explain_dependency
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_concatenate_inherit_table_location
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auth
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input24
org.apache.hcatalog.api.TestHCatClient.testGetPartitionsWithPartialSpec
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part8
org.apache.hcatalog.api.TestHCatClient.testPartitionsHCatClientImpl
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_explain_logical
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rename_partition_location
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_unquote_not
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_updateAccessTime
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables_compact
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_database_drop
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_constant_where
org.apache.hcatalog.api.TestHCatClient.testDropPartitionsWithPartialSpec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/206/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/206/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/206/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/206/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 59 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13721696" author="phabricator@reviews.facebook.net" created="Sat, 27 Jul 2013 17:33:46 +0000"  >&lt;p&gt;brock has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  Comments about handling of error.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:2074 In general I am supportive of this patch but we should not be catching Throwable here. We should at most catch Exceptuon.&lt;/p&gt;

&lt;p&gt;  Additionally log4j now supports passing exceptions directly, the stringifyException is no longer needed, you can pass the exception as the second arg of the log method.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13724152" author="sershe" created="Tue, 30 Jul 2013 17:49:50 +0000"  >&lt;p&gt;I&apos;ve fixed most of the queries, there are a couple of bugs and sorting is undefined (and changed as we no longer sort by partition name) in some tests, couple stubborn ones remain, hopefully will update today&lt;/p&gt;</comment>
                            <comment id="13724160" author="lchouinard" created="Tue, 30 Jul 2013 17:53:48 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I will be on vacation from July 29th to August 6th inclusively. For any question or emergency, please contact the group MTL-IT-Production-Tools@ubisoft.com&amp;lt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:MTL-IT-Production-Tools@ubisoft.com&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;MTL-IT-Production-Tools@ubisoft.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;

&lt;p&gt;Laurent Chouinard&lt;br/&gt;
IT Production - Tools Programmer&lt;/p&gt;

</comment>
                            <comment id="13724607" author="phabricator@reviews.facebook.net" created="Tue, 30 Jul 2013 23:29:48 +0000"  >&lt;p&gt;sershe updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed Phabricator comments, fixed minor bugs (e.g. null checks, setTableName called instead of setDbName), added column schemas that ended up being needed after all, cleaned up the code a bit, added some short circuiting, added order to tests that had undefined order and so depended on the order in which partitions are returned (ORM code returns them by name, SQL by ID).&lt;br/&gt;
  Added some short-circuiting to the queries/getting stuff.&lt;br/&gt;
  I compared the reflection-based dump of SQL- and ORM- based objects from some tests (code not included) and they are the same.&lt;/p&gt;

&lt;p&gt;  The existing tests seem to adequately cover this code. The only concern is that if it fails it&apos;s impossible to see as it falls back to ORM...&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805?vs=36357&amp;amp;id=36615#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805?vs=36357&amp;amp;id=36615#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/alter_partition_coltype.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_dyn_part3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_dyn_part4.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_dyn_part9.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/ppr_pushdown2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/stats4.q&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppr_pushdown2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats4.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13724630" author="phabricator@reviews.facebook.net" created="Tue, 30 Jul 2013 23:53:47 +0000"  >&lt;p&gt;sershe updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  Followup - forgot to rerun one query after changing.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805?vs=36615&amp;amp;id=36621#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805?vs=36615&amp;amp;id=36621#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/alter_partition_coltype.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_dyn_part3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_dyn_part4.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_dyn_part9.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/ppr_pushdown2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/stats4.q&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppr_pushdown2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats4.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13724737" author="hiveqa" created="Wed, 31 Jul 2013 01:42:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595079/HIVE-4051.D11805.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12595079/HIVE-4051.D11805.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/251/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/251/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/251/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/251/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: NonZeroExitCodeException: Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-251/source-prep.txt
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/JoinOperator.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf build hcatalog/build hcatalog/core/build hcatalog/storage-handlers/hbase/build hcatalog/server-extensions/build hcatalog/webhcat/svr/build hcatalog/webhcat/java-client/build hcatalog/hcatalog-pig-adapter/build common/src/gen
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1508705.

At revision 1508705.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0 to p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13724749" author="hiveqa" created="Wed, 31 Jul 2013 01:54:49 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595079/HIVE-4051.D11805.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12595079/HIVE-4051.D11805.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/252/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/252/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/252/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/252/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: NonZeroExitCodeException: Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-252/source-prep.txt
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf
+ svn update
U    testutils/ptest2/src/test/resources/SomeTest-success.xml
U    testutils/ptest2/src/test/resources/test-outputs/SomeTest-truncated.xml
U    testutils/ptest2/src/test/resources/test-outputs/skewjoin_union_remove_1.q-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestHostExecutor.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestExecutionPhase.testPassingUnitTest.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestCleanupPhase.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testPrepGit.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestPhase.testRsyncFromLocalToRemoteInstancesWithFailureUnknown.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestCleanupPhase.testExecute.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testPrepNone.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testPrepSvn.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestPhase.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestPrepPhase.testExecute.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestPhase.testRsyncFromLocalToRemoteInstancesWithFailureOne.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestExecutionPhase.testFailingUnitTest.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestExecutionPhase.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/AbstractTestPhase.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestExecutionPhase.testPassingQFileTest.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/MockSSHCommandExecutor.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/MockRSyncCommandExecutor.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestReportParser.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestExecutionPhase.testFailingQFile.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/MockLocalCommandFactory.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/api/server/TestTestExecutor.java
U    testutils/ptest2/src/main/resources/batch-exec.vm
U    testutils/ptest2/src/main/resources/source-prep.vm
U    testutils/ptest2/src/main/resources/log4j.properties
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/api/server/TestExecutor.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/api/server/ExecutionController.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/api/request/TestStartRequest.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/api/client/PTestClient.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/ExecutionPhase.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/PrepPhase.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/ReportingPhase.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/HostExecutor.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/PTest.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/LogDirectoryCleaner.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/Phase.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/JUnitReportParser.java
A    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/HostExecutorBuilder.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/context/CloudExecutionContextProvider.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/context/CloudComputeService.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/conf/ExecutionContextConfiguration.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/conf/QFileTestBatch.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/conf/TestConfiguration.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/conf/TestParser.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/JIRAService.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/Drone.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/CleanupPhase.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/Constants.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/ssh/SSHCommandExecutor.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/ssh/RSyncCommandExecutor.java
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/ssh/AbstractSSHCommand.java
U    eclipse-templates/.classpath
U    eclipse-templates/.classpath._hbase

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1508709.

Updated to revision 1508708.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0 to p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13724781" author="phabricator@reviews.facebook.net" created="Wed, 31 Jul 2013 02:33:47 +0000"  >&lt;p&gt;sershe updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  Rebase the patch&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805?vs=36621&amp;amp;id=36627#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805?vs=36621&amp;amp;id=36627#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/alter_partition_coltype.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_dyn_part3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_dyn_part4.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_dyn_part9.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/ppr_pushdown2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/stats4.q&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppr_pushdown2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats4.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13724818" author="cwsteinbach" created="Wed, 31 Jul 2013 03:38:34 +0000"  >&lt;blockquote&gt;
&lt;p&gt;This introduces &quot;direct SQL&quot; optimization for metastore.&lt;br/&gt;
When memstore gets partitions by filter or by names, it does so using ANSI SQL92 queries, if enabled (default).&lt;br/&gt;
This will not work on non-RDBMS datastores, may not work on non-ANSI-compiant ones (I tested on mysql in default mode).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Has anyone tested this patch on Derby, PostgreSQL, or Oracle? Until it&apos;s verified to work on these DBs I think this new code should be disabled by default.&lt;/p&gt;</comment>
                            <comment id="13724880" author="hiveqa" created="Wed, 31 Jul 2013 05:21:21 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595110/HIVE-4051.D11805.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12595110/HIVE-4051.D11805.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 2748 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/256/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/256/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/256/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/256/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13725486" author="sershe" created="Wed, 31 Jul 2013 17:48:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;Has anyone tested this patch on Derby, PostgreSQL, or Oracle? Until it&apos;s verified to work on these DBs I think this new code should be disabled by default.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I tested on Derby and MySQL so far.&lt;br/&gt;
Note that full fallback is there, so it could have a 3-position switch or two settings - current on/off being the same, and the &quot;on, but turn off &lt;span class=&quot;error&quot;&gt;&amp;#91;for some grace period?&amp;#93;&lt;/span&gt; on first error&quot;-setting. The latter could be the default, so in case if it fails it goes back to DN and doesn&apos;t introduce a lot of extra load. &lt;br/&gt;
What do you think?&lt;/p&gt;</comment>
                            <comment id="13726852" author="phabricator@reviews.facebook.net" created="Thu, 1 Aug 2013 20:37:47 +0000"  >&lt;p&gt;sershe updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  The above failed tests are due to sorting. Due to so many tests failing I changed the code to preserve the same sort as JDO, it&apos;s actually a very small change. I am getting some test failures locally that look like they are caused by my laptop problems; let me try to push to HiveQA again.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805?vs=36627&amp;amp;id=36771#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805?vs=36627&amp;amp;id=36771#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/p&gt;

&lt;p&gt;To: JIRA, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13726974" author="hiveqa" created="Thu, 1 Aug 2013 22:14:27 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595477/HIVE-4051.D11805.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12595477/HIVE-4051.D11805.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2749 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/278/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/278/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/278/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/278/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13728115" author="phabricator@reviews.facebook.net" created="Fri, 2 Aug 2013 21:05:47 +0000"  >&lt;p&gt;ashutoshc has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  Initial review pass. Few comments.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  build.xml:703 This is a good change which I like, but lets do it in separate jira : )&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1654 ObjectStore is getting too big. Lets move this class in a separate file.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1681 I havent verified in code, but as far as I remember nothing in code at the moment uses CREATE_TIME, LAST_ACCESS_TIME, so we can drop these from select list.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1711 You can initialize size of these treemaps with result.size()&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1681 We already know dbName and table name, why are you having them in select list?&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1735 If we do decide to keep create and last access time, can you check if they are Integer, I though they are longs.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1776 Can there ever be a case when coldId == null ? I am not able to imagine one, did you see some failures ?&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1826 Instead of *, its better to use ORDER here, because RDBMS which doesn&apos;t support ORDER as column name would anyway be broken when schemas are created in it.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:2268 This query is not encapsulated in transaction anymore?&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java:379 We should be able to support for non-strings as well, right? Is it just that you want to do that in later jira ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13728356" author="phabricator@reviews.facebook.net" created="Sat, 3 Aug 2013 01:03:47 +0000"  >&lt;p&gt;sershe has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1654 Will do after other feedback, otherwise the diff will be hard to do between files&lt;br/&gt;
  build.xml:703 fixed&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1681 fixed&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1681 someone might use them without knowing... it&apos;s cheap to get couple more columns&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1711 treemaps don&apos;t have size initializer?&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1735 they are int both in db, and in methods&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1776 I am being paranoid... I think it cannot happen, but db schema doesn&apos;t prevent that.&lt;br/&gt;
  Should we throw if sd, serde or col Ids are null?&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1826 the database is created by script (or DN) in RDBMS-specific way I&apos;d assume, so it would escape the reserved word properly. Mysql by default doesn&apos;t support ANSI way of escaping words... and it we use backticks for mysql it won&apos;t work on other RDBMS-es.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:2268 the tx is external to the method... renamed method for clarity&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13728403" author="sershe" created="Sat, 3 Aug 2013 02:25:38 +0000"  >&lt;p&gt;Some perf results (with a patch I am about to update).&lt;br/&gt;
I am running metastore separately on the same box as MySQL box in a cluster, with default config.&lt;br/&gt;
I&apos;ve created a table as such:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table sqltest(c string) partitioned by (s string,n string,p &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and inserted 32k partitions with s being 32-character random string, n - a number between 0 and 14, and p also a number.&lt;br/&gt;
There&apos;s no data in the table.&lt;/p&gt;

&lt;p&gt;I am running a query that would select 256 partitions with filter pushdown from hive CLI is on a different box&lt;br/&gt;
The time spent for creating partition objects out of 32k is about 150-180ms on current database schema. Bulk of it (~100ms) is in the query that does the filtering by joining PARTITION_KEY_VALS.&lt;br/&gt;
If this is done beforehand: &quot;create index idx1 on PARTITION_KEY_VALS (PART_KEY_VAL);&quot;, the total server-side fetch time becomes about 50ms, ~40-45ms for assorted queries and ~5ms for java code.&lt;br/&gt;
On empty dataset, the total time to run the query (no job as there&apos;s no data) is about 150ms in the latter case.&lt;br/&gt;
Trunk with filter pushdown takes the total of 1.7-2 seconds in this case; with more partitions fetched the difference is proportional.&lt;br/&gt;
Results are similar if both are run w/o pushdown (both are slower ofc).&lt;/p&gt;

&lt;p&gt;As mentioned above, I will move code into its own class in separate &quot;last&quot; iteration w/o logic changes in order to not complicate the review.&lt;/p&gt;

&lt;p&gt;Tuning MySQL/other databases, and queries, for further perf, can be in separate JIRA(s). The Hive admin/DBA could even do the former in the meantime if absolutely necessary.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cws&quot; class=&quot;user-hover&quot; rel=&quot;cws&quot;&gt;Sariel&lt;/a&gt; What do you think about the more conservative fallback scheme proposed above? (not in the patch yet)&lt;br/&gt;
I can test on Postgres if desired but I don&apos;t think I have access to Oracle.&lt;/p&gt;

</comment>
                            <comment id="13728404" author="sershe" created="Sat, 3 Aug 2013 02:27:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; Sorry, mistyped the alias in the previous comment.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;What do you think about the more conservative fallback scheme proposed above? (not in the patch yet)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;I can test on Postgres if desired but I don&apos;t think I have access to Oracle.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13728408" author="phabricator@reviews.facebook.net" created="Sat, 3 Aug 2013 02:35:48 +0000"  >&lt;p&gt;sershe updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  Feedback from review board, split the first query because it&apos;s hideously slow otherwise after sorting is added.&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805?vs=36771&amp;amp;id=36879#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805?vs=36771&amp;amp;id=36879#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13728460" author="hiveqa" created="Sat, 3 Aug 2013 05:40:23 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595725/HIVE-4051.D11805.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12595725/HIVE-4051.D11805.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2758 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hcatalog.pig.TestHCatStorer.testPartColsInData
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/296/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/296/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/296/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/296/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13729915" author="phabricator@reviews.facebook.net" created="Mon, 5 Aug 2013 20:45:47 +0000"  >&lt;p&gt;ashutoshc has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  Mostly looks good. Can you update the final patch with new class in its own file, with following two comments (if they looks alright.)&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1681 You are still selecting dbname, tblname ?&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1776 Yes.. I think we should throw in those cases. Having empty list will mask the root problem if there is any which results from it.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13729917" author="ashutoshc" created="Mon, 5 Aug 2013 20:47:13 +0000"  >&lt;p&gt;I think automatic fallback is good which makes sure that user query always succeed even in cases where this direct-sql optimization doesn&apos;t work for whatever reason. Folks who wants to turn this off anyway, can always do this by setting config variable. I am +1 on the patch as it is.&lt;/p&gt;</comment>
                            <comment id="13730134" author="phabricator@reviews.facebook.net" created="Mon, 5 Aug 2013 23:33:50 +0000"  >&lt;p&gt;sershe updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  Moved the code for SQL filter generation and usage into separate class.&lt;br/&gt;
  The only other changes are latest two comments on Phabricator, as well as some minor cleanup like null checks.&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805?vs=36879&amp;amp;id=37071#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805?vs=36879&amp;amp;id=37071#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13730137" author="phabricator@reviews.facebook.net" created="Mon, 5 Aug 2013 23:35:50 +0000"  >&lt;p&gt;sershe has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1681 fixed&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java:1776 fixed&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13730238" author="phabricator@reviews.facebook.net" created="Tue, 6 Aug 2013 01:09:48 +0000"  >&lt;p&gt;sershe updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  Fixing bugs introduced while moving code.&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805?vs=37071&amp;amp;id=37083#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805?vs=37071&amp;amp;id=37083#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13730363" author="phabricator@reviews.facebook.net" created="Tue, 6 Aug 2013 05:17:49 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13731662" author="ashutoshc" created="Wed, 7 Aug 2013 05:30:29 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Sergey!&lt;/p&gt;</comment>
                            <comment id="13731676" author="hudson" created="Wed, 7 Aug 2013 05:50:27 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #336 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/336/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/336/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; : Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow (Sergey Shelukhin via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511177&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511177&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13732847" author="hudson" created="Wed, 7 Aug 2013 22:29:51 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2-ptest #50 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/50/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/50/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; : Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow (Sergey Shelukhin via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511177&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511177&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13733048" author="hudson" created="Thu, 8 Aug 2013 01:46:51 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-h0.21 #2250 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2250/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2250/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; : Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow (Sergey Shelukhin via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511177&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511177&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13733287" author="hudson" created="Thu, 8 Aug 2013 09:08:56 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop1-ptest #121 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/121/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/121/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4051&quot; title=&quot;Hive&amp;#39;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4051&quot;&gt;&lt;del&gt;HIVE-4051&lt;/del&gt;&lt;/a&gt; : Hive&apos;s metastore suffers from 1+N queries when querying partitions &amp;amp; is slow (Sergey Shelukhin via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511177&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511177&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13772142" author="dougsedlak" created="Thu, 19 Sep 2013 18:26:05 +0000"  >&lt;p&gt;I&apos;ve noticed that the more partitions in a Hive table, the slower the following operations come back.  With thousands of partitions they approach painfully slow:&lt;br/&gt;
SELECT * FROM TABNAME&lt;br/&gt;
SHOW TABLE EXTENDED LIKE `TABNAME`&lt;/p&gt;

&lt;p&gt;Do you know if this fix takes case of these issues?  If not is it something you could test?&lt;br/&gt;
If not, I&apos;ll enter a new case.&lt;/p&gt;

&lt;p&gt;Thanks, Doug  doug.sedlak@sas.com&lt;/p&gt;</comment>
                            <comment id="13775826" author="sershe" created="Tue, 24 Sep 2013 00:01:20 +0000"  >&lt;p&gt;this and the followup patches (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5158&quot; title=&quot;allow getting all partitions for table to also use direct SQL path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5158&quot;&gt;&lt;del&gt;HIVE-5158&lt;/del&gt;&lt;/a&gt;) will take care of pre-map-reduce-job slowdown on select * with many partitions, but it&apos;s hard to tell whether that&apos;s the main culprit from just looking at the query.&lt;br/&gt;
show table I am not sure, if not it should be easy to extend. &lt;/p&gt;</comment>
                            <comment id="13796011" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:21 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12675308">HIVE-5626</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12688444">HIVE-6188</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12662706">HIVE-5029</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594063" name="HIVE-4051.D11805.1.patch" size="36856" author="phabricator@reviews.facebook.net" created="Wed, 24 Jul 2013 23:53:46 +0000"/>
                            <attachment id="12594511" name="HIVE-4051.D11805.2.patch" size="37616" author="phabricator@reviews.facebook.net" created="Sat, 27 Jul 2013 02:53:46 +0000"/>
                            <attachment id="12595072" name="HIVE-4051.D11805.3.patch" size="179986" author="phabricator@reviews.facebook.net" created="Tue, 30 Jul 2013 23:29:48 +0000"/>
                            <attachment id="12595079" name="HIVE-4051.D11805.4.patch" size="185778" author="phabricator@reviews.facebook.net" created="Tue, 30 Jul 2013 23:53:48 +0000"/>
                            <attachment id="12595110" name="HIVE-4051.D11805.5.patch" size="186200" author="phabricator@reviews.facebook.net" created="Wed, 31 Jul 2013 02:33:47 +0000"/>
                            <attachment id="12595477" name="HIVE-4051.D11805.6.patch" size="40725" author="phabricator@reviews.facebook.net" created="Thu, 1 Aug 2013 20:37:48 +0000"/>
                            <attachment id="12595725" name="HIVE-4051.D11805.7.patch" size="44334" author="phabricator@reviews.facebook.net" created="Sat, 3 Aug 2013 02:35:48 +0000"/>
                            <attachment id="12596239" name="HIVE-4051.D11805.8.patch" size="52059" author="phabricator@reviews.facebook.net" created="Mon, 5 Aug 2013 23:33:50 +0000"/>
                            <attachment id="12596257" name="HIVE-4051.D11805.9.patch" size="52064" author="phabricator@reviews.facebook.net" created="Tue, 6 Aug 2013 01:09:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 20 Jul 2013 00:58:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i6t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314362</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4052] Disallow partition/sort and distribute/order combinations in windowing and partitioning spec</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4052</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12633525">HIVE-4052</key>
            <summary>Disallow partition/sort and distribute/order combinations in windowing and partitioning spec</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 01:27:59 +0000</created>
                <updated>Thu, 16 May 2013 21:10:15 +0000</updated>
                            <resolved>Tue, 26 Feb 2013 06:04:08 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13586323" author="rhbutani" created="Mon, 25 Feb 2013 21:43:50 +0000"  >&lt;p&gt;patch attached.&lt;/p&gt;</comment>
                            <comment id="13586704" author="phabricator@reviews.facebook.net" created="Tue, 26 Feb 2013 03:48:12 +0000"  >&lt;p&gt;hbutani requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4052&quot; title=&quot;Disallow partition/sort and distribute/order combinations in windowing and partitioning spec&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4052&quot;&gt;&lt;del&gt;HIVE-4052&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Disallow partition/sort and distribute/order combinations in windowing and partitioning spec&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;change grammar so that only Part-Order or Dist-Sort are valid combinations&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8901&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8901&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/files/flights_tiny.txt&lt;br/&gt;
  data/files/part.rc&lt;br/&gt;
  data/files/part.seq&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  ql/src/test/queries/clientnegative/ptf_negative_DistributeByOrderBy.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/ptf_negative_PartitionBySortBy.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/ptf_general_queries.q&lt;br/&gt;
  ql/src/test/results/clientnegative/ptf_negative_DistributeByOrderBy.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/ptf_negative_PartitionBySortBy.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ptf_general_queries.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/21639/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/21639/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, hbutani&lt;/p&gt;</comment>
                            <comment id="13586758" author="phabricator@reviews.facebook.net" created="Tue, 26 Feb 2013 04:56:11 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4052&quot; title=&quot;Disallow partition/sort and distribute/order combinations in windowing and partitioning spec&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4052&quot;&gt;&lt;del&gt;HIVE-4052&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Disallow partition/sort and distribute/order combinations in windowing and partitioning spec&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8901&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8901&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4052&quot; title=&quot;Disallow partition/sort and distribute/order combinations in windowing and partitioning spec&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4052&quot;&gt;&lt;del&gt;HIVE-4052&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13586831" author="ashutoshc" created="Tue, 26 Feb 2013 06:04:08 +0000"  >&lt;p&gt;Committed to branch. Thanks, Harish!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12438744">HIVE-896</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12570869" name="HIVE-4052.1.patch.txt" size="65895" author="rhbutani" created="Mon, 25 Feb 2013 21:43:14 +0000"/>
                            <attachment id="12570923" name="HIVE-4052.D8901.1.patch" size="65926" author="phabricator@reviews.facebook.net" created="Tue, 26 Feb 2013 03:48:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Feb 2013 21:43:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314020</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i6tr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4053] Add support for phonetic algorithms in Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4053</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Following phonetic algorithms should be considered, which are very useful in search:&lt;br/&gt;
Soundex: &lt;a href=&quot;http://en.wikipedia.org/wiki/Soundex&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Soundex&lt;/a&gt;&lt;br/&gt;
Refined Soundex: Refer to the comment on 22/Feb/13 23:51&lt;br/&gt;
Daitch&#8211;Mokotoff Soundex: &lt;a href=&quot;http://en.wikipedia.org/wiki/Daitch%E2%80%93Mokotoff_Soundex&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Daitch%E2%80%93Mokotoff_Soundex&lt;/a&gt;&lt;br/&gt;
Metaphone and Double Metaphone: &lt;a href=&quot;http://en.wikipedia.org/wiki/Metaphone&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Metaphone&lt;/a&gt;&lt;br/&gt;
New York State Identification and Intelligence System (NYSIIS): &lt;a href=&quot;http://en.wikipedia.org/wiki/New_York_State_Identification_and_Intelligence_System&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/New_York_State_Identification_and_Intelligence_System&lt;/a&gt;&lt;br/&gt;
Caverphone: &lt;a href=&quot;http://en.wikipedia.org/wiki/Caverphone&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Caverphone&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633532">HIVE-4053</key>
            <summary>Add support for phonetic algorithms in Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="research800">Krishna</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Fri, 22 Feb 2013 01:58:24 +0000</created>
                <updated>Mon, 18 May 2015 20:47:41 +0000</updated>
                                            <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13583819" author="research800" created="Fri, 22 Feb 2013 02:08:26 +0000"  >&lt;p&gt;Soundex: &lt;a href=&quot;http://en.wikipedia.org/wiki/Soundex&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Soundex&lt;/a&gt;&lt;br/&gt;
Daitch-Mokotoff Soundex: &lt;a href=&quot;http://en.wikipedia.org/wiki/Daitch%E2%80%93Mokotoff_Soundex&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Daitch%E2%80%93Mokotoff_Soundex&lt;/a&gt;&lt;br/&gt;
New York State Identification and Intelligence System (NYSIIS): &lt;a href=&quot;http://en.wikipedia.org/wiki/New_York_State_Identification_and_Intelligence_System&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/New_York_State_Identification_and_Intelligence_System&lt;/a&gt;&lt;br/&gt;
Caverphone: &lt;a href=&quot;http://en.wikipedia.org/wiki/Caverphone&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Caverphone&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13585025" author="research800" created="Sat, 23 Feb 2013 05:51:29 +0000"  >&lt;p&gt;I&apos;ve implemented &apos;Refined Soundex&apos; algorithm using a GenericUDF and would like to share it for a review by experts as I&apos;m a newbie.&lt;/p&gt;

&lt;p&gt;Change Details:&lt;br/&gt;
A new java class is created: GenericUDFRefinedSoundex.java&lt;br/&gt;
Add a entry to FunctionRegistry.java: registerGenericUDF(&quot;soundex_ref&quot;, GenericUDFRefinedSoundex.class);&lt;/p&gt;

&lt;p&gt;Both files are attached to the email.&lt;/p&gt;

&lt;p&gt;I&apos;m planning to implement other phonetic algorithms and submit all as a single patch. I understand there are many other steps that I need to finish before a patch is ready but for now, if you could review the attached code and provide feedback, it&apos;ll be great.&lt;/p&gt;

&lt;p&gt;Here are the details of Refined Soundex algorithm:&lt;br/&gt;
First letter is stored&lt;br/&gt;
Subsequent letters are replaced by numbers as defined below-&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;B, P =&amp;gt; 1&lt;/li&gt;
	&lt;li&gt;F, V =&amp;gt; 2&lt;/li&gt;
	&lt;li&gt;C, K, S =&amp;gt; 3&lt;/li&gt;
	&lt;li&gt;G, J =&amp;gt; 4&lt;/li&gt;
	&lt;li&gt;Q, X, Z =&amp;gt; 5&lt;/li&gt;
	&lt;li&gt;D, T =&amp;gt; 6&lt;/li&gt;
	&lt;li&gt;L =&amp;gt; 7&lt;/li&gt;
	&lt;li&gt;M, N =&amp;gt; 8&lt;/li&gt;
	&lt;li&gt;R =&amp;gt; 9&lt;/li&gt;
	&lt;li&gt;Other letters =&amp;gt; 0&lt;br/&gt;
Consecutive letters belonging to the same group are replaced by one letter&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Example: &lt;br/&gt;
&amp;gt; SELECT soundex_ref(&apos;Carren&apos;) FROM src LIMIT 1;&lt;br/&gt;
&amp;gt; C30908&lt;/p&gt;</comment>
                            <comment id="13585226" author="mgrover" created="Sat, 23 Feb 2013 23:14:27 +0000"  >&lt;p&gt;Can you please post a patch on the JIRA and post a review on reviewboard? You should also consider adding some unit tests. If you need help with any of this, please let us know.&lt;/p&gt;</comment>
                            <comment id="13586422" author="research800" created="Mon, 25 Feb 2013 23:03:09 +0000"  >&lt;p&gt;I&apos;ve attached the patch to JIRA. How do I post it for review on reviewboard?&lt;/p&gt;</comment>
                            <comment id="13586499" author="research800" created="Tue, 26 Feb 2013 00:05:29 +0000"  >&lt;p&gt;I have submitted the patch; please review the code.&lt;/p&gt;</comment>
                            <comment id="13587827" author="research800" created="Wed, 27 Feb 2013 01:12:01 +0000"  >&lt;p&gt;There are 6 popular phonetic algorithms (as mentioned in JIRA description). I think, it&apos;s a good idea to implement all of them in Hive. There are 2 ways to implement:&lt;/p&gt;

&lt;p&gt;Option 1: Write a separate GenericUDF for each algorithm and there&apos;ll be a separate Hive function for each algorithm&lt;/p&gt;

&lt;p&gt;Option 2: Write one GenericUDF and use a parameter argument to this function for determining which algorithm is called.&lt;/p&gt;

&lt;p&gt;I prefer to implement the algorithms using option (2) but if someone feels option (1) is better, please comment.&lt;/p&gt;</comment>
                            <comment id="13591425" author="research800" created="Sat, 2 Mar 2013 15:17:57 +0000"  >&lt;p&gt;I will re-submit the patch&lt;/p&gt;</comment>
                            <comment id="13591449" author="mgrover" created="Sat, 2 Mar 2013 16:43:58 +0000"  >&lt;p&gt;Krishna, thanks for doing this. I don&apos;t have a whole lot of insight into these particular algorithms but do they always take the same parameters? What&apos;s the possibility of a new phonetic algorithm using a different set or number of parameters?&lt;/p&gt;

&lt;p&gt;If these functions always take same parameters, it may make sense to do (2).&lt;br/&gt;
However, if not, (1) would be a good idea. Of course, you can still refactor the code and share amongst all different UDFs even when they are separate.&lt;/p&gt;

&lt;p&gt;To post a review on reviewboard, go to reviews.apache.org. Generate a diff file of your changes on top of hive trunk (using svn diff or git diff) and upload that diff (use &quot;hive&quot; repository when using svn diff output and hive-git repository when using git diff output).&lt;/p&gt;

&lt;p&gt;Please let me know if you have any further questions.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12776369">HIVE-9738</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12570610" name="FunctionRegistry.java" size="54006" author="research800" created="Sat, 23 Feb 2013 05:52:10 +0000"/>
                            <attachment id="12570611" name="GenericUDFRefinedSoundex.java" size="5050" author="research800" created="Sat, 23 Feb 2013 05:52:10 +0000"/>
                            <attachment id="12570886" name="HIVE-4053.1.patch.txt" size="9188" author="research800" created="Mon, 25 Feb 2013 23:00:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 Feb 2013 23:14:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314027</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i6vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314372</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Implementation of the phonetic algorithm - Refined Soundex</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Hive, UDF, Phonetic</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4054] Broken Links on GettingStarted Page</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4054</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The Links to &quot;Hive introduction videos From Cloudera&quot; are broken. 404, The requested URL /hadoop-training-hive-introduction was not found on this server.&lt;/p&gt;</description>
                <environment>&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/GettingStarted&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/GettingStarted&lt;/a&gt;&lt;/p&gt;</environment>
        <key id="12633553">HIVE-4054</key>
            <summary>Broken Links on GettingStarted Page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="iigorr">Igor Lankin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 06:33:22 +0000</created>
                <updated>Fri, 22 Feb 2013 06:59:32 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13584028" author="iigorr" created="Fri, 22 Feb 2013 06:59:32 +0000"  >&lt;p&gt;Here is the correct link for the introduction. The tutorial video seems to be gone.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.cloudera.com/content/cloudera/en/resources/library/training/introduction-to-apache-hive.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.cloudera.com/content/cloudera/en/resources/library/training/introduction-to-apache-hive.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i6zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4055] add Date data type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4055</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add Date data type, a new primitive data type which supports the standard SQL date type.&lt;/p&gt;

&lt;p&gt;Basically, the implementation can take &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2957&quot; title=&quot;Hive JDBC doesn&amp;#39;t support TIMESTAMP column&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2957&quot;&gt;&lt;del&gt;HIVE-2957&lt;/del&gt;&lt;/a&gt; as references.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633560">HIVE-4055</key>
            <summary>add Date data type</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12607881">HIVE-3472</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdere">Jason Dere</assignee>
                                    <reporter username="sunrui">Sun Rui</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 07:09:25 +0000</created>
                <updated>Fri, 28 Feb 2014 14:39:49 +0000</updated>
                            <resolved>Sat, 27 Jul 2013 21:21:54 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>JDBC</component>
                    <component>Query Processor</component>
                    <component>Serializers/Deserializers</component>
                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="13584071" author="sunrui" created="Fri, 22 Feb 2013 07:55:04 +0000"  >&lt;p&gt;review request submitted @ &lt;a href=&quot;https://reviews.facebook.net/D8817&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8817&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13675533" author="thejas" created="Wed, 5 Jun 2013 02:03:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sunrui&quot; class=&quot;user-hover&quot; rel=&quot;sunrui&quot;&gt;Sun Rui&lt;/a&gt; I think we should consider using JodaTime instead of java.sql.Date.&lt;br/&gt;
While working on datetime implementation in Apache Pig (&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1314&quot; title=&quot;Add DateTime Support to Pig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1314&quot;&gt;&lt;del&gt;PIG-1314&lt;/del&gt;&lt;/a&gt;), we found that JodaTime is significantly faster than java built in date type. See numbers here - &lt;a href=&quot;https://issues.apache.org/jira/secure/EditComment!default.jspa?id=12459893&amp;amp;commentId=13284047&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/EditComment!default.jspa?id=12459893&amp;amp;commentId=13284047&lt;/a&gt; . The test code is attached in the jira. Note that the comparison is after adding optimization to avoid conversion Calendar objects from java.util.date. java.sql.Date is a thin wrapper around java.util.Date , so it is likely to have the same performance characteristics.&lt;/p&gt;

</comment>
                            <comment id="13676627" author="jdere" created="Thu, 6 Jun 2013 03:19:40 +0000"  >&lt;p&gt;Hi Sun Rui, I made a few comments on possible additions to your proposed patch at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3910&quot; title=&quot;Create a new DATE datatype&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3910&quot;&gt;&lt;del&gt;HIVE-3910&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13678623" author="jdere" created="Sat, 8 Jun 2013 00:25:47 +0000"  >&lt;p&gt;Also, I am willing to make those additions to your patch.&lt;/p&gt;</comment>
                            <comment id="13687746" author="sunrui" created="Wed, 19 Jun 2013 08:02:35 +0000"  >&lt;p&gt;Hi, Thejas M Nair and Jason Dere, Thanks for your comments. I will review the patch soon.&lt;/p&gt;</comment>
                            <comment id="13689554" author="jdere" created="Thu, 20 Jun 2013 19:37:36 +0000"  >&lt;p&gt;Hi Sun Rui, I&apos;m almost done with those proposed changes (trying to get tests to pass), stay tuned on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3910&quot; title=&quot;Create a new DATE datatype&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3910&quot;&gt;&lt;del&gt;HIVE-3910&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13690951" author="jdere" created="Sat, 22 Jun 2013 00:30:00 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;change to integer representation based on days since epoch&lt;/li&gt;
	&lt;li&gt;pull in JodaTime lib as dependency&lt;/li&gt;
	&lt;li&gt;support date literal syntax&lt;/li&gt;
	&lt;li&gt;limit the amount of type compatibility of date with other types&lt;/li&gt;
	&lt;li&gt;Hive server2 jdbc support&lt;/li&gt;
	&lt;li&gt;Support additional SerDe classes&lt;/li&gt;
	&lt;li&gt;Additional tests&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13690957" author="jdere" created="Sat, 22 Jun 2013 00:32:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4055&quot; title=&quot;add Date data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4055&quot;&gt;&lt;del&gt;HIVE-4055&lt;/del&gt;&lt;/a&gt;.2.patch.txt is the same as the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3910&quot; title=&quot;Create a new DATE datatype&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3910&quot;&gt;&lt;del&gt;HIVE-3910&lt;/del&gt;&lt;/a&gt;.1.patch that I had posted to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3910&quot; title=&quot;Create a new DATE datatype&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3910&quot;&gt;&lt;del&gt;HIVE-3910&lt;/del&gt;&lt;/a&gt;.  Already got some offline feedback about additional tests to add, will post another patch when ready.&lt;/p&gt;</comment>
                            <comment id="13690975" author="ehans" created="Sat, 22 Jun 2013 00:54:47 +0000"  >&lt;p&gt;Can you please attach a functional specification to the JIRA, or write the documentation and provide a link to the documentation? I&apos;ll want to know details including the range of legal values, and any rules about casts and conversions, to help implement support for DATE with vectorized execution (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4160&quot; title=&quot;Vectorized Query Execution in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4160&quot;&gt;&lt;del&gt;HIVE-4160&lt;/del&gt;&lt;/a&gt;). Thanks!&lt;/p&gt;</comment>
                            <comment id="13692178" author="jdere" created="Mon, 24 Jun 2013 17:42:44 +0000"  >&lt;p&gt;Hi Eric, attached Date.pdf which provides some details.&lt;/p&gt;</comment>
                            <comment id="13692327" author="jdere" created="Mon, 24 Jun 2013 20:13:00 +0000"  >&lt;p&gt;After adding additional tests I found that table partitioning isn&apos;t working properly with date values.  Will investigate.&lt;/p&gt;</comment>
                            <comment id="13692616" author="jdere" created="Tue, 25 Jun 2013 00:20:48 +0000"  >&lt;p&gt;Looks like this issue with partition values is not limited to date types: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-7&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13696031" author="phabricator@reviews.facebook.net" created="Sat, 29 Jun 2013 02:53:20 +0000"  >&lt;p&gt;jdere requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4055&quot; title=&quot;add Date data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4055&quot;&gt;&lt;del&gt;HIVE-4055&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; add Date data type&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;Add Date data type, a new primitive data type which supports the standard SQL date type.&lt;/p&gt;

&lt;p&gt;Basically, the implementation can take &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2957&quot; title=&quot;Hive JDBC doesn&amp;#39;t support TIMESTAMP column&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2957&quot;&gt;&lt;del&gt;HIVE-2957&lt;/del&gt;&lt;/a&gt; as references.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11547&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11547&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/files/datatypes.txt&lt;br/&gt;
  data/files/flights_join.txt&lt;br/&gt;
  data/files/flights_tiny.txt.1&lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveBaseResultSet.java&lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HivePreparedStatement.java&lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveResultSetMetaData.java&lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcColumn.java&lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/Utils.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HivePreparedStatement.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveResultSetMetaData.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/JdbcColumn.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/Utils.java&lt;br/&gt;
  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;br/&gt;
  jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;br/&gt;
  ql/src/gen/protobuf/gen-java/org/apache/hadoop/hive/ql/io/orc/OrcProto.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/ColumnStatisticsImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/DateColumnStatistics.java&lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/lazybinary/MyTestClassSmaller.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcStruct.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToDate.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUnixTimeStamp.java&lt;br/&gt;
  ql/src/protobuf/org/apache/hadoop/hive/ql/io/orc/orc_proto.proto&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/exec/TestFunctionRegistry.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_t_alter1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_t_alter2.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_t_create1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/invalid_t_transform.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/ctas_date.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/date_1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/date_2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/date_3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/date_4.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/date_comparison.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/date_join1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/date_serde.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/date_udf.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/partition_date.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_date.q&lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_create_tbl1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_t_alter1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_t_alter2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_t_create1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_t_create2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_t_transform.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ctas_date.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/date_1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/date_2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/date_3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/date_4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/date_comparison.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/date_join1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/date_serde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/date_udf.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_date.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union_date.q.out&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/RegexSerDe.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/io/DateWritable.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyDate.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyDateObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryDate.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/DateObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaDateObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableDateObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableConstantDateObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableDateObjectInspector.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java&lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/TestStatsSerde.java&lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/binarysortable/MyTestClass.java&lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/binarysortable/TestBinarySortableSerDe.java&lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/lazybinary/MyTestClassBigger.java&lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/lazybinary/TestLazyBinarySerDe.java&lt;br/&gt;
  service/README.txt&lt;br/&gt;
  service/if/TCLIService.thrift&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_constants.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.h&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TCLIServiceConstants.java&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TTypeId.java&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/TCLIService-remote&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/constants.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/ttypes.py&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_constants.rb&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/ColumnValue.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Type.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/27315/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/27315/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, jdere&lt;/p&gt;</comment>
                            <comment id="13714290" author="ashutoshc" created="Sat, 20 Jul 2013 01:21:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; Left some comments on phabricator.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt; Can you take a look at orc related changes in the patch? I reviewed the patch except for orc stuff in it.&lt;/p&gt;</comment>
                            <comment id="13719296" author="jdere" created="Thu, 25 Jul 2013 06:31:00 +0000"  >&lt;p&gt;Updated the Phabricator review at &lt;a href=&quot;https://reviews.facebook.net/D11547&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11547&lt;/a&gt;, but it didn&apos;t post the patch update here.  Attaching now. &lt;/p&gt;</comment>
                            <comment id="13719299" author="jdere" created="Thu, 25 Jul 2013 06:35:45 +0000"  >&lt;p&gt;Latest patch is &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4055&quot; title=&quot;add Date data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4055&quot;&gt;&lt;del&gt;HIVE-4055&lt;/del&gt;&lt;/a&gt;.3.patch.txt&lt;/p&gt;</comment>
                            <comment id="13719731" author="ashutoshc" created="Thu, 25 Jul 2013 16:02:37 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13719899" author="hiveqa" created="Thu, 25 Jul 2013 18:49:32 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594114/HIVE-4055.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594114/HIVE-4055.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2664 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_serde_regex
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/183/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/183/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/183/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/183/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13720117" author="jdere" created="Thu, 25 Jul 2013 21:56:55 +0000"  >&lt;p&gt;Not sure why the automated testing failed on serde_regex.q - that seems to work fine for my on both Mac and Linux:&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Begin query: serde_regex.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running: diff -a /Users/jdere/dev/hive.git/build/ql/test/logs/clientpositive/serde_regex.q.out /Users/jdere/dev/hive.git/ql/src/test/results/clientpositive/serde_regex.q.out&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Done query: serde_regex.q elapsedTime=15s&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Cleaning up TestCliDriver&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 16.179 sec&lt;/p&gt;</comment>
                            <comment id="13720406" author="ashutoshc" created="Fri, 26 Jul 2013 04:56:53 +0000"  >&lt;p&gt;Failure for serde_regex is actually in TestNegativeCliDriver (not in TestCliDriver). Stacktrace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; [junit] Running org.apache.hadoop.hive.cli.TestNegativeCliDriver
    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec
    [junit] FAILED: NoSuchElementException &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
    [junit] java.lang.Exception: load command: LOAD DATA LOCAL INPATH &lt;span class=&quot;code-quote&quot;&gt;&apos;/grid/0/ashutosh/hive/data/files/kv1.txt&apos;&lt;/span&gt; OVERWRITE INTO TABLE srcpart PARTITION (ds=&lt;span class=&quot;code-quote&quot;&gt;&apos;2008-04-08&apos;&lt;/span&gt;,hr=&lt;span class=&quot;code-quote&quot;&gt;&apos;11&apos;&lt;/span&gt;) failed with exit code= 40000
    [junit] 	at org.apache.hadoop.hive.ql.QTestUtil.runLoadCmd(QTestUtil.java:538)
    [junit] 	at org.apache.hadoop.hive.ql.QTestUtil.createSources(QTestUtil.java:582)
    [junit] 	at org.apache.hadoop.hive.cli.TestNegativeCliDriver.&amp;lt;clinit&amp;gt;(TestNegativeCliDriver.java:44)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Additionally, I also saw TestJdbcDriver and TestJdbcDriver2 failing in my runs, with following traces:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] OK
    [junit] FAILED: SemanticException [Error 10099]: DATE and DATETIME types aren&apos;t supported yet. Please use TIMESTAMP instead
    [junit] Test org.apache.hadoop.hive.jdbc.TestJdbcDriver FAILED


    [junit] Running org.apache.hive.jdbc.TestJdbcDriver2
    [junit] Tests run: 34, Failures: 0, Errors: 34, Time elapsed: 61.357 sec
    [junit] Test org.apache.hive.jdbc.TestJdbcDriver2 FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13720419" author="brocknoland" created="Fri, 26 Jul 2013 05:23:08 +0000"  >&lt;p&gt;Side note: TestJdbcDriver2 is ignored for some reason I am investigating in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4941&quot; title=&quot;PTest2 Investigate Ignores&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4941&quot;&gt;&lt;del&gt;HIVE-4941&lt;/del&gt;&lt;/a&gt; but it&apos;s very odd that TestJdbcDriver didn&apos;t fail. I can see the changes (ie date columns) in the test output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-183/succeeded/TestJdbcDriver/ant-test.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;create table testDataTypeTable ...., c20 date)&lt;/a&gt; and it doesn&apos;t look like something which would be a race condition.&lt;/p&gt;</comment>
                            <comment id="13720495" author="jdere" created="Fri, 26 Jul 2013 07:35:08 +0000"  >&lt;p&gt;Looks like I had added both date and timestamp support to RegexSerDe.  I&apos;ll update the diff accordingly. &lt;br/&gt;
Both Jdbc tests work for me. Well, actually they seem to fail (with or without this diff) if they&apos;re the first tests I run, but if I run a qfile before running the Jdbc tests they seem to pass fine. &lt;/p&gt;</comment>
                            <comment id="13720558" author="jdere" created="Fri, 26 Jul 2013 09:12:51 +0000"  >&lt;p&gt;New patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4055&quot; title=&quot;add Date data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4055&quot;&gt;&lt;del&gt;HIVE-4055&lt;/del&gt;&lt;/a&gt;.4.patch.txt, with updated unit test output for serde_regex.q&lt;/p&gt;</comment>
                            <comment id="13721202" author="jdere" created="Fri, 26 Jul 2013 20:57:00 +0000"  >&lt;p&gt;Re-upload &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4055&quot; title=&quot;add Date data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4055&quot;&gt;&lt;del&gt;HIVE-4055&lt;/del&gt;&lt;/a&gt;.4.patch (without .txt suffix), to get automated tests to run.&lt;/p&gt;</comment>
                            <comment id="13721759" author="ashutoshc" created="Sat, 27 Jul 2013 21:21:54 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Sun for initial work and Jason for following it up to see through this completion.&lt;/p&gt;</comment>
                            <comment id="13721817" author="brocknoland" created="Sun, 28 Jul 2013 01:37:44 +0000"  >&lt;p&gt;We appear to be seeing the following failures on trunk&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;DATE and DATETIME types aren&apos;t supported yet. Please use TIMESTAMP instead at
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;for TestJdbcDriver{,2}&lt;/p&gt;</comment>
                            <comment id="13721829" author="brocknoland" created="Sun, 28 Jul 2013 03:06:46 +0000"  >&lt;p&gt;Something quite strange is going on with the TestJdbcDriver* tests. I cannot TestJdbcDriver2 to fail locally but it does fail on ptest: &lt;a href=&quot;https://builds.apache.org/user/brock/my-views/view/hive/job/Hive-trunk-hadoop1-ptest/103/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/user/brock/my-views/view/hive/job/Hive-trunk-hadoop1-ptest/103/&lt;/a&gt; I&apos;ll take a look tomorrow unless someone else figures it out first.&lt;/p&gt;</comment>
                            <comment id="13721838" author="brocknoland" created="Sun, 28 Jul 2013 03:57:36 +0000"  >&lt;p&gt;It looks to me like ivy is/was not publishing to the local cache directory. That is probably the same problem Ashutosh had &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4055?focusedCommentId=13720406&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13720406&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;earlier&lt;/a&gt;. For PTest2 I enabled &quot;cache clearing&quot; on all builds. We&apos;ll see how the builds run tonight.&lt;/p&gt;</comment>
                            <comment id="13724515" author="lars_francke" created="Tue, 30 Jul 2013 22:22:58 +0000"  >&lt;p&gt;It&apos;d be great if you could document this new data type in the Wiki.&lt;/p&gt;</comment>
                            <comment id="13796046" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:36 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                            <comment id="13915819" author="dvasilen" created="Fri, 28 Feb 2014 14:21:05 +0000"  >&lt;p&gt;Now when HCatalog is a part of Hive any plans to add Date and Timestamp data types to HCatalog?&lt;/p&gt;</comment>
                            <comment id="13915824" author="dvasilen" created="Fri, 28 Feb 2014 14:39:49 +0000"  >&lt;p&gt;Nevermind, it is addressed in Hive 0.13.0&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5814&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-5814&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12659688">HIVE-4928</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12628012">HIVE-3910</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12459949">HIVE-1269</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12659688">HIVE-4928</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12589444" name="Date.pdf" size="71083" author="jdere" created="Mon, 24 Jun 2013 17:41:58 +0000"/>
                            <attachment id="12570437" name="HIVE-4055.1.patch.txt" size="144830" author="sunrui" created="Fri, 22 Feb 2013 07:26:08 +0000"/>
                            <attachment id="12589210" name="HIVE-4055.2.patch.txt" size="332009" author="jdere" created="Sat, 22 Jun 2013 00:30:00 +0000"/>
                            <attachment id="12594114" name="HIVE-4055.3.patch.txt" size="391794" author="jdere" created="Thu, 25 Jul 2013 06:31:00 +0000"/>
                            <attachment id="12594448" name="HIVE-4055.4.patch" size="393720" author="jdere" created="Fri, 26 Jul 2013 20:57:00 +0000"/>
                            <attachment id="12594348" name="HIVE-4055.4.patch.txt" size="393720" author="jdere" created="Fri, 26 Jul 2013 09:12:51 +0000"/>
                            <attachment id="12590147" name="HIVE-4055.D11547.1.patch" size="371027" author="phabricator@reviews.facebook.net" created="Sat, 29 Jun 2013 02:53:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 5 Jun 2013 02:03:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314055</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 47 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i71j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4056] Extend rcfilecat to support (un)compressed size and no. of row</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4056</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;rcfilecat supports data and metadata:&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/Hive/rcfilecat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/rcfilecat.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In metadata, it supports column statistics.&lt;/p&gt;

&lt;p&gt;It will be natural to extend metadata support to &lt;br/&gt;
1. no. of rows &lt;br/&gt;
2. uncompressed size for the file&lt;br/&gt;
3. compressed size for the file&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633562">HIVE-4056</key>
            <summary>Extend rcfilecat to support (un)compressed size and no. of row</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 07:27:24 +0000</created>
                <updated>Thu, 16 May 2013 21:10:12 +0000</updated>
                            <resolved>Thu, 28 Feb 2013 07:52:18 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13584937" author="gangtimliu" created="Sat, 23 Feb 2013 01:39:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D8847&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8847&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13584938" author="gangtimliu" created="Sat, 23 Feb 2013 01:39:52 +0000"  >&lt;p&gt;patch is available on both attachment and phabricator.&lt;/p&gt;</comment>
                            <comment id="13585007" author="namit" created="Sat, 23 Feb 2013 05:25:29 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13589313" author="namit" created="Thu, 28 Feb 2013 07:52:18 +0000"  >&lt;p&gt;Committed. Thanks Tim&lt;/p&gt;</comment>
                            <comment id="13589611" author="gangtimliu" created="Thu, 28 Feb 2013 15:41:11 +0000"  >&lt;p&gt;Namit, thanks Tim&lt;/p&gt;



&lt;p&gt;Sent from my iPhone &lt;/p&gt;

</comment>
                            <comment id="13589673" author="hudson" created="Thu, 28 Feb 2013 17:12:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1991 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1991/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1991/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4056&quot; title=&quot;Extend rcfilecat to support (un)compressed size and no. of row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4056&quot;&gt;&lt;del&gt;HIVE-4056&lt;/del&gt;&lt;/a&gt; Extend rcfilecat to support (un)compressed size and no. of row&lt;br/&gt;
Gang Tim Liu via namit) (Revision 1451130)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1451130&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1451130&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/RCFileCat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623061" author="hudson" created="Thu, 4 Apr 2013 23:39:58 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4056&quot; title=&quot;Extend rcfilecat to support (un)compressed size and no. of row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4056&quot;&gt;&lt;del&gt;HIVE-4056&lt;/del&gt;&lt;/a&gt; Extend rcfilecat to support (un)compressed size and no. of row&lt;br/&gt;
Gang Tim Liu via namit) (Revision 1451130)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1451130&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1451130&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/RCFileCat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12570583" name="HIVE-4056.patch.1" size="3616" author="gangtimliu" created="Sat, 23 Feb 2013 01:39:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 Feb 2013 05:25:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i71z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4057] LazyHBaseRow may return cache data if the field is null and make the result wrong</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4057</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;LazyHBaseRow&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; uncheckedGetField(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; fieldID) {
   &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(!fieldsInited[fieldID]) {
      fieldsInited[fieldID] = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
          &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] res = result.getValue(colMap.familyNameBytes, colMap.qualifierNameBytes);

          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (res == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
          }
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; fields[fieldID].getObject();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;if there is a LazyHBaseRow instance row,  the fieldID is 0, we assume this field is null, so the first time row.uncheckedGetField(0) will return null, but the second time when row.uncheckedGetField(0) will return fields&lt;span class=&quot;error&quot;&gt;&amp;#91;fieldID&amp;#93;&lt;/span&gt;.getObject(), this is the last cache data.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633563">HIVE-4057</key>
            <summary>LazyHBaseRow may return cache data if the field is null and make the result wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aoxiang">binlijin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 07:29:53 +0000</created>
                <updated>Tue, 15 Oct 2013 23:31:41 +0000</updated>
                            <resolved>Sat, 20 Apr 2013 23:18:20 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13637401" author="ashutoshc" created="Sat, 20 Apr 2013 23:18:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3179&quot; title=&quot;HBase Handler doesn&amp;#39;t handle NULLs properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3179&quot;&gt;&lt;del&gt;HIVE-3179&lt;/del&gt;&lt;/a&gt; fixes the issue. Please reopen if you can still reproduce the bug.&lt;/p&gt;</comment>
                            <comment id="13796190" author="ashutoshc" created="Tue, 15 Oct 2013 23:31:41 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12595575">HIVE-3179</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12570439" name="HIVE-4057.patch" size="1309" author="aoxiang" created="Fri, 22 Feb 2013 07:31:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 20 Apr 2013 23:18:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314058</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i727:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314403</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4058] make ORC versioned</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4058</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12633564">HIVE-4058</key>
            <summary>make ORC versioned</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 07:31:57 +0000</created>
                <updated>Thu, 2 May 2013 02:30:01 +0000</updated>
                            <resolved>Mon, 25 Feb 2013 22:49:54 +0000</resolved>
                                                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13584057" author="namit" created="Fri, 22 Feb 2013 07:32:57 +0000"  >&lt;p&gt;It would be useful to add a version number in each file.&lt;br/&gt;
In case the format changes, it would be easy to read/write&lt;br/&gt;
the old data.&lt;/p&gt;</comment>
                            <comment id="13586021" author="owen.omalley" created="Mon, 25 Feb 2013 17:26:24 +0000"  >&lt;p&gt;The metadata is versioned, it just doesn&apos;t have a global version. The intent is that new fields can be added to the protobuf and the reader will check if those new fields are defined.&lt;/p&gt;</comment>
                            <comment id="13586398" author="owen.omalley" created="Mon, 25 Feb 2013 22:46:06 +0000"  >&lt;p&gt;I should also note that if it is required at some point, we can always create such a field in the footer and treat that missing field as a version 0.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12626790">HIVE-3874</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Feb 2013 17:26:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314059</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i72f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4059] Make Column statistics for ORC optional</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4059</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12633565">HIVE-4059</key>
            <summary>Make Column statistics for ORC optional</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 07:34:01 +0000</created>
                <updated>Fri, 17 May 2013 16:41:17 +0000</updated>
                                                                            <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12626790">HIVE-3874</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314060</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i72n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314405</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4060] Make streams for types for ORC pluggable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4060</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, all types are written in a hard-coded manner.&lt;/p&gt;

&lt;p&gt;For eg. integers are always written in a RLE manner, which are written in a&lt;br/&gt;
binary manner. What if a method writing deltas is useful for some dataset ? &lt;br/&gt;
It should be made pluggable, and the version should somehow indicate the policy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633602">HIVE-4060</key>
            <summary>Make streams for types for ORC pluggable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 12:36:07 +0000</created>
                <updated>Fri, 17 May 2013 16:41:17 +0000</updated>
                                                                            <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12626790">HIVE-3874</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314097</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i7av:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314442</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4061] skip columns which are not accessed in the query for ORC</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4061</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12633604">HIVE-4061</key>
            <summary>skip columns which are not accessed in the query for ORC</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 12:39:32 +0000</created>
                <updated>Thu, 2 May 2013 02:30:01 +0000</updated>
                            <resolved>Mon, 25 Feb 2013 22:46:50 +0000</resolved>
                                                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13586401" author="owen.omalley" created="Mon, 25 Feb 2013 22:46:50 +0000"  >&lt;p&gt;This is already done.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12626790">HIVE-3874</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Feb 2013 22:46:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i7bb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314444</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4062] use column statistics for ORC to evaluate predicates for ORC</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4062</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12633605">HIVE-4062</key>
            <summary>use column statistics for ORC to evaluate predicates for ORC</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 12:40:51 +0000</created>
                <updated>Sat, 20 Jul 2013 18:57:55 +0000</updated>
                            <resolved>Sat, 20 Jul 2013 18:57:55 +0000</resolved>
                                                                    <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13714515" author="owen.omalley" created="Sat, 20 Jul 2013 18:57:45 +0000"  >&lt;p&gt;Sorry, I just saw this duplicate jira. The patch is up on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4246&quot; title=&quot;Implement predicate pushdown for ORC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4246&quot;&gt;&lt;del&gt;HIVE-4246&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12639619">HIVE-4246</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12626790">HIVE-3874</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 20 Jul 2013 18:57:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i7bj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4063] Negative tests for types not supported by ORC</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4063</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ORC supports a type specific encoding.&lt;br/&gt;
What happens if there is a type which is not supported by ORC - say UrlType,&lt;br/&gt;
but supported by Hive.&lt;br/&gt;
It should throw an error gracefully.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633607">HIVE-4063</key>
            <summary>Negative tests for types not supported by ORC</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 12:51:57 +0000</created>
                <updated>Fri, 17 May 2013 16:41:17 +0000</updated>
                                                                            <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12626790">HIVE-3874</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314102</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i7bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314447</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4064] Handle db qualified names consistently across all HiveQL statements</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4064</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive doesn&apos;t consistently handle db qualified names across all HiveQL statements. While some HiveQL statements such as SELECT support DB qualified names, other such as CREATE INDEX doesn&apos;t. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12633663">HIVE-4064</key>
            <summary>Handle db qualified names consistently across all HiveQL statements</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                            <label>TODOC14</label>
                    </labels>
                <created>Fri, 22 Feb 2013 18:41:18 +0000</created>
                <updated>Wed, 24 Feb 2016 02:49:15 +0000</updated>
                            <resolved>Mon, 11 Aug 2014 17:23:09 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="13584579" author="jarcec" created="Fri, 22 Feb 2013 19:31:55 +0000"  >&lt;p&gt;Another command that is not working consistently is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ALTER TABLE db.table ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13588639" author="shreepadma" created="Wed, 27 Feb 2013 19:00:39 +0000"  >&lt;p&gt;I believe there is a problem with a number of DDLs including ALTER TABLE, CREATE INDEX. &lt;/p&gt;</comment>
                            <comment id="13645269" author="jeremy.rayner" created="Tue, 30 Apr 2013 05:23:38 +0000"  >&lt;p&gt;Any progress on this issue? I understand that there are workarounds, but I would be nice if this got resolved sometime in the near future.&lt;/p&gt;</comment>
                            <comment id="13678979" author="caofangkun" created="Sun, 9 Jun 2013 09:15:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/11755/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/11755/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;HiveLexer.g Identifier should contain &apos;.&apos; for full table name .&lt;br/&gt;
It works now for &apos;alter table &apos; statements.&lt;/p&gt;</comment>
                            <comment id="14026571" author="jarcec" created="Tue, 10 Jun 2014 15:25:42 +0000"  >&lt;p&gt;You might need to set the status to &quot;Patch available&quot; if you want Hive committers to take a look &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caofangkun&quot; class=&quot;user-hover&quot; rel=&quot;caofangkun&quot;&gt;caofangkun&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14063196" author="navis" created="Wed, 16 Jul 2014 05:55:17 +0000"  >&lt;p&gt;Preliminary test&lt;/p&gt;</comment>
                            <comment id="14063330" author="hiveqa" created="Wed, 16 Jul 2014 09:42:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12655996/HIVE-4064.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12655996/HIVE-4064.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 31 failed/errored test(s), 5719 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_partition_coltype
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_columns
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_create_table_db_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_tblproperties
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_temp_table_names
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_temp_table_precedence
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_temp_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_stats_counter
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_concatenate_indexed_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_partition_coltype_invalidcolname
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure6
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_merge_negative_1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_merge_negative_2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_show_columns3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_show_tableproperties1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_temp_table_index
org.apache.hadoop.hive.ql.metadata.TestHive.testIndex
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testIndex
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantGroupTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantUserTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeGroupTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeUserTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantGroupOnTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantRoleOnTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantUserOnTable
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV1.testPrivInGrant
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV2.testPrivInGrant
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/809/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/809/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/809/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/809/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-809/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-809/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 31 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12655996&lt;/p&gt;</comment>
                            <comment id="14066153" author="hiveqa" created="Fri, 18 Jul 2014 08:10:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12656440/HIVE-4064.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12656440/HIVE-4064.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5724 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_columns
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/847/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/847/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/847/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/847/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-847/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-847/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12656440&lt;/p&gt;</comment>
                            <comment id="14068106" author="navis" created="Mon, 21 Jul 2014 01:54:00 +0000"  >&lt;p&gt;Rebased to trunk &amp;amp; Updates gold files&lt;/p&gt;</comment>
                            <comment id="14068156" author="hiveqa" created="Mon, 21 Jul 2014 03:34:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12656806/HIVE-4064.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12656806/HIVE-4064.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5749 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_fail_8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/867/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/867/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/867/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/867/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-867/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-867/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12656806&lt;/p&gt;</comment>
                            <comment id="14068181" author="navis" created="Mon, 21 Jul 2014 04:15:32 +0000"  >&lt;p&gt;authorization_fail_8 is &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7456&quot; title=&quot;HIVE-7361 missed updating authorization_fail_8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7456&quot;&gt;&lt;del&gt;HIVE-7456&lt;/del&gt;&lt;/a&gt; and ql_rewrite_gbtoidx is &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7415&quot; title=&quot;Test TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7415&quot;&gt;&lt;del&gt;HIVE-7415&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14082049" author="hiveqa" created="Fri, 1 Aug 2014 08:03:57 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12659067/HIVE-4064.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12659067/HIVE-4064.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 11 failed/errored test(s), 5847 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_show_grant
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_8
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_show_grant_otherrole
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_show_grant_otheruser_all
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_show_grant_otheruser_alltabs
org.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/133/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/133/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/133/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/133/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-133/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-133/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 11 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12659067&lt;/p&gt;</comment>
                            <comment id="14083126" author="hiveqa" created="Fri, 1 Aug 2014 22:53:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12659120/HIVE-4064.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12659120/HIVE-4064.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5847 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/139/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/139/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/139/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/139/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-139/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-139/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12659120&lt;/p&gt;</comment>
                            <comment id="14084237" author="navis" created="Mon, 4 Aug 2014 02:32:20 +0000"  >&lt;p&gt;Could anyone review this? We can close five issues altogether with this.&lt;/p&gt;</comment>
                            <comment id="14085260" author="thejas" created="Mon, 4 Aug 2014 20:43:36 +0000"  >&lt;p&gt;Sure, I am reviewing this patch.&lt;/p&gt;</comment>
                            <comment id="14085813" author="thejas" created="Tue, 5 Aug 2014 05:10:08 +0000"  >&lt;p&gt;Added some comments in review board.&lt;/p&gt;</comment>
                            <comment id="14086043" author="chenchun" created="Tue, 5 Aug 2014 09:42:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; It seems the patch doesn&apos;t cover &quot;alter db.table rename to db2.table2&quot;? I think rename table across database is very useful for back up tables. For example, we can create a database named backup. Each time we want to backup a table, we could simply rename the table from its current db to the backup db.&lt;/p&gt;</comment>
                            <comment id="14086048" author="chenchun" created="Tue, 5 Aug 2014 09:47:30 +0000"  >&lt;p&gt;MySQL also support rename table to a different database and that is the original motivation that I take up &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2584&quot; title=&quot;Alter table should accept database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2584&quot;&gt;&lt;del&gt;HIVE-2584&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14088630" author="navis" created="Thu, 7 Aug 2014 01:28:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenchun&quot; class=&quot;user-hover&quot; rel=&quot;chenchun&quot;&gt;Chun Chen&lt;/a&gt; Missed that. Thanks!&lt;/p&gt;</comment>
                            <comment id="14090422" author="thejas" created="Fri, 8 Aug 2014 07:23:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Can you also please upload the new patch to reviewboard ?&lt;/p&gt;</comment>
                            <comment id="14091452" author="hiveqa" created="Fri, 8 Aug 2014 23:40:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660530/HIVE-4064.6.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12660530/HIVE-4064.6.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5887 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.ql.TestDDLWithRemoteMetastoreSecondNamenode.testCreateTableWithIndexAndPartitionsNonDefaultNameNode
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/234/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/234/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/234/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/234/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-234/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-234/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12660530&lt;/p&gt;</comment>
                            <comment id="14092412" author="hiveqa" created="Mon, 11 Aug 2014 04:07:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660896/HIVE-4064.7.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12660896/HIVE-4064.7.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 5875 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
org.apache.hadoop.hive.metastore.txn.TestCompactionTxnHandler.testRevokeTimedOutWorkers
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/246/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/246/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/246/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/246/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-246/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-246/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12660896&lt;/p&gt;</comment>
                            <comment id="14092429" author="thejas" created="Mon, 11 Aug 2014 04:30:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14092514" author="navis" created="Mon, 11 Aug 2014 07:03:20 +0000"  >&lt;p&gt;input3.q.out needed to be updated, but cannot reproduce schemeAuthority.q and ql_rewrite_gbtoidx.q (tried with hadoop-1 and hadoop-2).&lt;/p&gt;</comment>
                            <comment id="14092540" author="lefty@hortonworks.com" created="Mon, 11 Aug 2014 07:59:28 +0000"  >&lt;p&gt;+1 for the javadocs and code comments&lt;/p&gt;</comment>
                            <comment id="14092739" author="hiveqa" created="Mon, 11 Aug 2014 13:01:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660939/HIVE-4064.8.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12660939/HIVE-4064.8.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5874 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_join_hash
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/251/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/251/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/251/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/251/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-251/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-251/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12660939&lt;/p&gt;</comment>
                            <comment id="14093011" author="thejas" created="Mon, 11 Aug 2014 17:23:09 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks for the contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;!&lt;br/&gt;
This was some long pending cleanup!&lt;/p&gt;</comment>
                            <comment id="14093713" author="lefty@hortonworks.com" created="Tue, 12 Aug 2014 04:24:37 +0000"  >&lt;p&gt;Many thanks for this work, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Could we please have a release note listing HiveQL statements that can take database qualified names starting with this patch?  (But more are expected with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7681&quot; title=&quot;qualified tablenames usage does not work with several alter-table commands&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7681&quot;&gt;&lt;del&gt;HIVE-7681&lt;/del&gt;&lt;/a&gt;, so perhaps we should wait for that.)&lt;/p&gt;</comment>
                            <comment id="14211089" author="thejas" created="Thu, 13 Nov 2014 19:44:04 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="15160104" author="bylomo" created="Wed, 24 Feb 2016 02:49:15 +0000"  >&lt;p&gt;I face with the similar issue. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9639&quot; title=&quot;Create Index failed in Multiple version of Hive running&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9639&quot;&gt;HIVE-9639&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="12682157">HIVE-5912</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12612146">HIVE-3589</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12721474">HIVE-7238</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12531663">HIVE-2584</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12634456">HIVE-4086</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12682815">HIVE-5956</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12612146">HIVE-3589</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12721474">HIVE-7238</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12752519">HIVE-8712</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12749478">HIVE-8538</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12682815">HIVE-5956</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12709302">HIVE-6933</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12498035">HIVE-1977</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12733331">HIVE-7681</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12733295">HIVE-7678</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12586935" name="HIVE-4064-1.patch" size="4181" author="caofangkun" created="Sun, 9 Jun 2013 09:15:12 +0000"/>
                            <attachment id="12655996" name="HIVE-4064.1.patch.txt" size="78307" author="navis" created="Wed, 16 Jul 2014 05:55:01 +0000"/>
                            <attachment id="12656440" name="HIVE-4064.2.patch.txt" size="104004" author="navis" created="Fri, 18 Jul 2014 03:59:36 +0000"/>
                            <attachment id="12656806" name="HIVE-4064.3.patch.txt" size="104339" author="navis" created="Mon, 21 Jul 2014 01:54:00 +0000"/>
                            <attachment id="12659067" name="HIVE-4064.4.patch.txt" size="119415" author="navis" created="Fri, 1 Aug 2014 01:54:39 +0000"/>
                            <attachment id="12659120" name="HIVE-4064.5.patch.txt" size="119722" author="navis" created="Fri, 1 Aug 2014 08:18:41 +0000"/>
                            <attachment id="12660530" name="HIVE-4064.6.patch.txt" size="138575" author="navis" created="Fri, 8 Aug 2014 02:01:01 +0000"/>
                            <attachment id="12660896" name="HIVE-4064.7.patch.txt" size="138481" author="navis" created="Mon, 11 Aug 2014 00:53:26 +0000"/>
                            <attachment id="12660939" name="HIVE-4064.8.patch.txt" size="139995" author="navis" created="Mon, 11 Aug 2014 07:03:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Feb 2013 19:31:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i7of:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4065] Broken documentation links on Hive website</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4065</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Many of the documentation links on the Hive website (hive.apache.org) are broken. Specifically, links for the following versions don&apos;t work: 0.8.0, 0.8.1, 0.9.0, 0.10.0&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633691">HIVE-4065</key>
            <summary>Broken documentation links on Hive website</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 21:20:06 +0000</created>
                <updated>Thu, 3 Oct 2013 22:51:12 +0000</updated>
                                                                            <component>Website</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13584708" author="cwsteinbach" created="Fri, 22 Feb 2013 21:23:28 +0000"  >&lt;p&gt;Lefty recently finished copying all of the old xdocs over to the wiki. I&apos;m in favor of making the wiki the official location for Hive documentation and removing the version specific links from the website. We also currently provide links to javadocs for non-public internal APIs. I think these should be removed.&lt;/p&gt;</comment>
                            <comment id="13587954" author="lefty@hortonworks.com" created="Wed, 27 Feb 2013 03:15:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;... links to javadocs for non-public internal APIs. I think these should be removed.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Which javadocs are those?  Do you mean we should remove the API links from the menu altogether, or purge javadoc comments on non-public APIs, or something else?&lt;/p&gt;

&lt;p&gt;As for ditching xdocs in favor of wikidocs, where are the howls of protest?  (If nobody else speaks up for xdocs, I might have to do it myself.)  Plenty of pros and cons on both sides.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12634073">HIVE-4074</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12627546">HIVE-3896</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Feb 2013 03:15:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314186</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i7un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4066] New website for Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4066</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The current design of the Hive website (hive.apache.org) was inherited from the Hadoop project. I&apos;m not a big fan, and apparently &lt;a href=&quot;https://twitter.com/Prinzhorn/status/294516153475280898&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;other people&lt;/a&gt; feel the same way.&lt;/p&gt;

&lt;p&gt;I propose we make the website look more like &lt;a href=&quot;http://mahout.apache.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Mahout&apos;s&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633692">HIVE-4066</key>
            <summary>New website for Hive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 21:28:12 +0000</created>
                <updated>Fri, 22 Feb 2013 21:28:12 +0000</updated>
                                                                            <component>Website</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314187</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i7uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314532</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4067] Followup to HIVE-701: reduce ambiguity in grammar</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4067</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt; the grammar has become much more ambiguous, and the compilation generates a large number of warnings. Making FROM, DISTINCT, PRESERVE, COLUMN, ALL, AND, OR, and NOT reserved keywords again reduces the number of warnings to 134, up from the original 81 warnings but down from the 565 after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt;. Most of the remaining ambiguity is trivial, an example being &quot;KW_ELEM_TYPE | KW_KEY_TYPE | KW_VALUE_TYPE | identifier&quot;, and they are all correctly handled by ANTLR.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633701">HIVE-4067</key>
            <summary>Followup to HIVE-701: reduce ambiguity in grammar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sxyuan">Samuel Yuan</assignee>
                                    <reporter username="sxyuan">Samuel Yuan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 22:47:20 +0000</created>
                <updated>Fri, 16 Jan 2015 23:02:51 +0000</updated>
                            <resolved>Fri, 5 Apr 2013 02:02:13 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13597451" author="phabricator@reviews.facebook.net" created="Fri, 8 Mar 2013 19:38:11 +0000"  >&lt;p&gt;sxyuan added you to the CC list for the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4067&quot; title=&quot;Followup to HIVE-701: reduce ambiguity in grammar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4067&quot;&gt;&lt;del&gt;HIVE-4067&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Followup to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt;: reduce ambiguity in grammar&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: kevinwilfong&lt;/p&gt;

&lt;p&gt;Make FROM, DISTINCT, PRESERVE, COLUMN, ALL, AND, OR, and NOT reserved keywords (see comments for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  Run test queries.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8883&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8883&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/nonreserved_keywords_insert_into1.q.out&lt;br/&gt;
  ql/src/test/results/compiler/errors/wrong_distinct2.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/nonreserved_keywords_insert_into1.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/p&gt;

&lt;p&gt;To: JIRA&lt;/p&gt;</comment>
                            <comment id="13597987" author="ashutoshc" created="Sat, 9 Mar 2013 15:59:47 +0000"  >&lt;p&gt;I started getting following errors while compiling after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt; This patch doesn&apos;t address these.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[java] error(111): /home/ashutosh/hive/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g:303:10: reference to attribute outside of a rule: KEY
     [java] error(111): /home/ashutosh/hive/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g:303:10: reference to attribute outside of a rule: VALUE
     [java] error(111): /home/ashutosh/hive/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g:303:10: reference to attribute outside of a rule: ELEM
     [java] error(146): /home/ashutosh/hive/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g:303:10: invalid StringTemplate % shorthand syntax: &apos;%&quot;)&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I also suspect its because of this, we later get &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;     [java] Java Result: 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;at the conclusion of grammar compilation. The way we compile grammar is by calling out to java process from within ant which runs org.antlr.Tool to compile grammar. This java process used to return with return code = 0 before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt; but now returns with return code = 1 which implies some error condition. My suspicion its the error which I have pointed out is causing this. We should fix both these problems. &lt;/p&gt;</comment>
                            <comment id="13598566" author="sxyuan" created="Mon, 11 Mar 2013 06:10:07 +0000"  >&lt;p&gt;This is referring to the Java code in the @members section. The section is still being properly inserted into the generated HiveParser.java file, which then compiles fine, so I don&apos;t know why ANTLR is complaining. I&apos;ll look into it.&lt;/p&gt;</comment>
                            <comment id="13600445" author="ashutoshc" created="Tue, 12 Mar 2013 20:40:43 +0000"  >&lt;p&gt;Can you expand a bit on what was the motivation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt;. SQL standard 2003 &lt;a href=&quot;http://developer.mimer.se/validator/sql-reserved-words.tml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://developer.mimer.se/validator/sql-reserved-words.tml&lt;/a&gt; lists many keywords as reserved, which we don&apos;t consider reserved anymore. We should strive to be standard compliant.&lt;/p&gt;</comment>
                            <comment id="13604068" author="sxyuan" created="Sat, 16 Mar 2013 01:14:07 +0000"  >&lt;p&gt;The primary motivation was that it was tricky to add new keywords, which are almost always reserved words by default in Hive, because doing so could easily break existing queries. The changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt; make it easy to add non-reserved keywords in the future. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt; also removes the reserved status of most keywords, to prevent recently introduced keywords from breaking queries.&lt;/p&gt;

&lt;p&gt;I can undo the changes for the Hive keywords which are reserved in SQL 2003, but would there be any reason to do so besides to adhere to the standard, given that the grammar can support leaving them non-reserved?&lt;/p&gt;</comment>
                            <comment id="13621731" author="phabricator@reviews.facebook.net" created="Thu, 4 Apr 2013 03:53:15 +0000"  >&lt;p&gt;sxyuan updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4067&quot; title=&quot;Followup to HIVE-701: reduce ambiguity in grammar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4067&quot;&gt;&lt;del&gt;HIVE-4067&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Followup to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt;: reduce ambiguity in grammar&quot;.&lt;/p&gt;

&lt;p&gt;  Fix for error messages in grammar compilation.&lt;/p&gt;

&lt;p&gt;Reviewers: kevinwilfong&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8883&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8883&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8883?vs=28629&amp;amp;id=31041#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8883?vs=28629&amp;amp;id=31041#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/nonreserved_keywords_insert_into1.q.out&lt;br/&gt;
  ql/src/test/results/compiler/errors/wrong_distinct2.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/nonreserved_keywords_insert_into1.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;/p&gt;

&lt;p&gt;To: kevinwilfong, sxyuan&lt;br/&gt;
Cc: ashutoshc, JIRA&lt;/p&gt;</comment>
                            <comment id="13622421" author="phabricator@reviews.facebook.net" created="Thu, 4 Apr 2013 15:35:14 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4067&quot; title=&quot;Followup to HIVE-701: reduce ambiguity in grammar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4067&quot;&gt;&lt;del&gt;HIVE-4067&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Followup to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt;: reduce ambiguity in grammar&quot;.&lt;/p&gt;

&lt;p&gt;  +1 will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8883&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8883&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: kevinwilfong, ashutoshc, sxyuan&lt;br/&gt;
Cc: ashutoshc, JIRA&lt;/p&gt;</comment>
                            <comment id="13623255" author="ashutoshc" created="Fri, 5 Apr 2013 02:02:13 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Samuel!&lt;/p&gt;</comment>
                            <comment id="13623270" author="hudson" created="Fri, 5 Apr 2013 02:36:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #139 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/139/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/139/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4067&quot; title=&quot;Followup to HIVE-701: reduce ambiguity in grammar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4067&quot;&gt;&lt;del&gt;HIVE-4067&lt;/del&gt;&lt;/a&gt; : Followup to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt;: reduce ambiguity in grammar (Samuel Yuan via Ashutosh Chauhan) (Revision 1464808)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464808&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464808&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/nonreserved_keywords_insert_into1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/nonreserved_keywords_insert_into1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/errors/wrong_distinct2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623320" author="hudson" created="Fri, 5 Apr 2013 03:37:21 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2046 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2046/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2046/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4067&quot; title=&quot;Followup to HIVE-701: reduce ambiguity in grammar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4067&quot;&gt;&lt;del&gt;HIVE-4067&lt;/del&gt;&lt;/a&gt; : Followup to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt;: reduce ambiguity in grammar (Samuel Yuan via Ashutosh Chauhan) (Revision 1464808)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464808&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464808&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/nonreserved_keywords_insert_into1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/nonreserved_keywords_insert_into1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/errors/wrong_distinct2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12700763">HIVE-6617</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12572807" name="HIVE-4067.D8883.1.patch" size="15266" author="phabricator@reviews.facebook.net" created="Fri, 8 Mar 2013 19:38:11 +0000"/>
                            <attachment id="12576917" name="HIVE-4067.HIVE-4067.HIVE-4067.HIVE-4067.D8883.2.patch" size="16558" author="phabricator@reviews.facebook.net" created="Thu, 4 Apr 2013 03:53:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Mar 2013 19:38:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314196</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i7wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314541</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4068] Size of aggregation buffer which uses non-primitive type is not estimated correctly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4068</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, hive assumes an aggregation buffer which holds a map is occupying just 256 byte (fixed). If it&apos;s bigger than that in real, OutOfMemoryError can be thrown (especially for &amp;gt;1k buffer). &lt;/p&gt;

&lt;p&gt;workaround : set hive.map.aggr.hash.percentmemory=&amp;lt;smaller value than default(0.5)&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633787">HIVE-4068</key>
            <summary>Size of aggregation buffer which uses non-primitive type is not estimated correctly</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Sun, 24 Feb 2013 07:18:31 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:03 +0000</updated>
                            <resolved>Sat, 27 Apr 2013 03:39:12 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13585320" author="phabricator@reviews.facebook.net" created="Sun, 24 Feb 2013 07:26:12 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly&lt;/p&gt;

&lt;p&gt;Currently, hive assumes an aggregation buffer which holds a map is occupying just 256 byte (fixed). If it&apos;s bigger than that in real, OutOfMemoryError can be thrown (especially for &amp;gt;1k buffer).&lt;/p&gt;

&lt;p&gt;workaround : set hive.map.aggr.hash.percentmemory=&amp;lt;smaller value than default(0.5)&amp;gt;&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEvaluator.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/21519/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/21519/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13585323" author="phabricator@reviews.facebook.net" created="Sun, 24 Feb 2013 08:04:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Added sample implementation for ewah_bitmap and histogram_numeric&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859?vs=28533&amp;amp;id=28539#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859?vs=28533&amp;amp;id=28539#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEWAHBitmap.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/NumericHistogram.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13585413" author="namit" created="Sun, 24 Feb 2013 16:47:54 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13585414" author="phabricator@reviews.facebook.net" created="Sun, 24 Feb 2013 16:48:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java:581 Instead of checking instanceof, can you add a annotation ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13585546" author="phabricator@reviews.facebook.net" created="Mon, 25 Feb 2013 00:20:11 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java:581 We still need a method for estimation and I thought it&apos;s better to have a interface for that. You mean annotation + interface or annotation + reflection on convention?&lt;/p&gt;

&lt;p&gt;  For &quot;annotation + interface&quot; case, it seemed a little redundant. User should specify the annotation and implement new interface also. For &quot;annotation + reflection&quot;, it&apos; not safe and need a little more codes.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13585722" author="phabricator@reviews.facebook.net" created="Mon, 25 Feb 2013 08:32:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot;.&lt;/p&gt;

&lt;p&gt;  I was thinking of a abstract class &amp;#8212;&lt;br/&gt;
  AbstractAggregationBuffer with the annotation.&lt;/p&gt;

&lt;p&gt;  The default implementation of estimate() is empty&lt;/p&gt;

&lt;p&gt;  All known aggregationBuffers extend AbstractAB.&lt;/p&gt;

&lt;p&gt;     if (agg instanceof GenericUDAFEvaluator.EstimableBuffer) &lt;/p&gt;
{
        return ((GenericUDAFEvaluator.EstimableBuffer)agg).estimate();
      }

&lt;p&gt;  change instanceof to annotation&lt;/p&gt;

&lt;p&gt;  Mark AB as deprecated&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13585743" author="phabricator@reviews.facebook.net" created="Mon, 25 Feb 2013 09:18:12 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Like this?&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859?vs=28539&amp;amp;id=28593#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859?vs=28539&amp;amp;id=28593#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEWAHBitmap.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/NumericHistogram.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13589327" author="namit" created="Thu, 28 Feb 2013 08:10:29 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13589329" author="phabricator@reviews.facebook.net" created="Thu, 28 Feb 2013 08:11:12 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot;.&lt;/p&gt;

&lt;p&gt;  yes, but can you also make other aggregation buffers extend AbstractAggregationBuffer ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13591929" author="phabricator@reviews.facebook.net" created="Mon, 4 Mar 2013 01:11:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comment&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859?vs=28593&amp;amp;id=29133#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859?vs=28593&amp;amp;id=29133#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  builtins/src/org/apache/hive/builtins/UDAFUnionMap.java&lt;br/&gt;
  pdk/scripts/build-plugin.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFBridge.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCollectSet.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFComputeStats.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCount.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEWAHBitmap.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMax.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMin.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/NumericHistogram.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/util/JavaDataModel.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13640362" author="namit" created="Wed, 24 Apr 2013 12:08:22 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13640363" author="phabricator@reviews.facebook.net" created="Wed, 24 Apr 2013 12:09:15 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot;.&lt;/p&gt;

&lt;p&gt;  can you refresh this ?&lt;br/&gt;
  I missed this.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13641378" author="phabricator@reviews.facebook.net" created="Thu, 25 Apr 2013 03:52:15 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot;.&lt;/p&gt;

&lt;p&gt;  Rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8859?vs=29133&amp;amp;id=32877#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8859?vs=29133&amp;amp;id=32877#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFBridge.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCollectSet.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFComputeStats.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCount.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEWAHBitmap.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMax.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMin.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/NumericHistogram.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/util/JavaDataModel.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13641603" author="namit" created="Thu, 25 Apr 2013 09:49:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;, can you commit it if tests pass&lt;/p&gt;</comment>
                            <comment id="13642504" author="navis" created="Fri, 26 Apr 2013 01:51:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt; ok, sure.&lt;/p&gt;</comment>
                            <comment id="13643507" author="navis" created="Sat, 27 Apr 2013 03:39:12 +0000"  >&lt;p&gt;Committed to trunk. Thanks Namit for review&lt;/p&gt;</comment>
                            <comment id="13643560" author="hudson" created="Sat, 27 Apr 2013 06:38:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2080 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2080/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2080/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly (Navis) (Revision 1476483)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
navis : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476483&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476483&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFBridge.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCollectSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFComputeStats.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCount.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEWAHBitmap.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEvaluator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMax.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMin.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/NumericHistogram.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13643704" author="hudson" created="Sat, 27 Apr 2013 15:29:31 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #177 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/177/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/177/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; Size of aggregation buffer which uses non-primitive type is not estimated correctly (Navis) (Revision 1476483)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
navis : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476483&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476483&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFBridge.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCollectSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFComputeStats.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCount.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEWAHBitmap.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFEvaluator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMax.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMin.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/NumericHistogram.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13643768" author="gopalv" created="Sat, 27 Apr 2013 19:19:21 +0000"  >&lt;p&gt;Missed svn add of ql/src/java/org/apache/hadoop/hive/ql/util/JavaDataModel.java before check-in?&lt;/p&gt;


</comment>
                            <comment id="13643849" author="navis" created="Sun, 28 Apr 2013 01:06:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Thanks. I thinks I should not commit things.&lt;/p&gt;</comment>
                            <comment id="13643922" author="gopalv" created="Sun, 28 Apr 2013 06:56:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;: no big deal, man - we all forget stuff &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13644056" author="hudson" created="Sun, 28 Apr 2013 16:59:49 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #180 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/180/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/180/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4437&quot; title=&quot;Missing file on HIVE-4068&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4437&quot;&gt;&lt;del&gt;HIVE-4437&lt;/del&gt;&lt;/a&gt; Missing file on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; (Navis) (Revision 1476701)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
navis : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476701&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476701&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/util/JavaDataModel.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13644059" author="hudson" created="Sun, 28 Apr 2013 17:05:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2083 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2083/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2083/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4437&quot; title=&quot;Missing file on HIVE-4068&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4437&quot;&gt;&lt;del&gt;HIVE-4437&lt;/del&gt;&lt;/a&gt; Missing file on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4068&quot; title=&quot;Size of aggregation buffer which uses non-primitive type is not estimated correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4068&quot;&gt;&lt;del&gt;HIVE-4068&lt;/del&gt;&lt;/a&gt; (Navis) (Revision 1476701)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
navis : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476701&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476701&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/util/JavaDataModel.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795961" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:03 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12570643" name="HIVE-4068.D8859.1.patch" size="2995" author="phabricator@reviews.facebook.net" created="Sun, 24 Feb 2013 07:26:12 +0000"/>
                            <attachment id="12570644" name="HIVE-4068.D8859.2.patch" size="5081" author="phabricator@reviews.facebook.net" created="Sun, 24 Feb 2013 08:04:11 +0000"/>
                            <attachment id="12570754" name="HIVE-4068.D8859.3.patch" size="7133" author="phabricator@reviews.facebook.net" created="Mon, 25 Feb 2013 09:18:12 +0000"/>
                            <attachment id="12571837" name="HIVE-4068.D8859.4.patch" size="38664" author="phabricator@reviews.facebook.net" created="Mon, 4 Mar 2013 01:11:11 +0000"/>
                            <attachment id="12580466" name="HIVE-4068.D8859.5.patch" size="36739" author="phabricator@reviews.facebook.net" created="Thu, 25 Apr 2013 03:52:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 24 Feb 2013 07:26:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i8fz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314627</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4069] Investigate why jenkins builds continuously fail</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4069</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;These builds:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Have not passed in a long time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633811">HIVE-4069</key>
            <summary>Investigate why jenkins builds continuously fail</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Sun, 24 Feb 2013 20:12:35 +0000</created>
                <updated>Wed, 3 Jul 2013 22:42:20 +0000</updated>
                            <resolved>Wed, 3 Jul 2013 22:42:20 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13585478" author="brocknoland" created="Sun, 24 Feb 2013 20:15:30 +0000"  >&lt;p&gt;Until this is resolved I have disabled the builds more details here &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hive-dev/201302.mbox/%3CCAG44Fj0fnjceHCmKTVyGfyRvgNq09T5tb%2Bq5yEt49ZxgS3y3zg%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hive-dev/201302.mbox/%3CCAG44Fj0fnjceHCmKTVyGfyRvgNq09T5tb%2Bq5yEt49ZxgS3y3zg%40mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13699540" author="brocknoland" created="Wed, 3 Jul 2013 22:42:20 +0000"  >&lt;p&gt;I believe this to be environmental and this environment will be replaced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4675&quot; title=&quot;Create new parallel unit test environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4675&quot;&gt;&lt;del&gt;HIVE-4675&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314305</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i8l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314650</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4070] Like operator in Hive is case sensitive while in MySQL (and most likely other DBs) it&apos;s case insensitive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4070</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive&apos;s like operator seems to be case sensitive.&lt;br/&gt;
See &lt;a href=&quot;https://github.com/apache/hive/blob/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFLike.java#L164&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFLike.java#L164&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;However, MySQL&apos;s like operator is case insensitive. I don&apos;t have other DB&apos;s (like PostgreSQL) installed and handy but I am guessing their LIKE is case insensitive as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633812">HIVE-4070</key>
            <summary>Like operator in Hive is case sensitive while in MySQL (and most likely other DBs) it&apos;s case insensitive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mgrover">Mark Grover</reporter>
                        <labels>
                    </labels>
                <created>Sun, 24 Feb 2013 20:43:52 +0000</created>
                <updated>Sat, 8 Apr 2017 19:51:25 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13585944" author="mackrorysd" created="Mon, 25 Feb 2013 15:54:34 +0000"  >&lt;p&gt;Though admittedly it was a question of mine trying to clarify HiveQL that spawned this thought, I don&apos;t necessarily think HiveQL&apos;s LIKE operator &lt;em&gt;should&lt;/em&gt; be case insensitive. It would certainly make HiveQL more consistent with SQL if it was, but when running extremely long queries over certain types of data, I could see it being a nice feature that LIKE gives you the flexibility of wild-cards without the overhead of case insensitivity. There&apos;s always the option of using RLIKE when one is looking for a very flexible match, but I think this is a toss-up between compliance with SQL&apos;s behavior and being able to limit the overhead of the query when possible.&lt;/p&gt;</comment>
                            <comment id="13603853" author="gwenshap" created="Fri, 15 Mar 2013 21:09:21 +0000"  >&lt;p&gt;Oracle&apos;s &quot;LIKE&quot; (as well as any other char/varchar comparison) is case sensitive.&lt;br/&gt;
No matter how HiveQL behaves it can&apos;t be consistent with every SQL implementation out there. &lt;/p&gt;</comment>
                            <comment id="13609278" author="mgrover" created="Thu, 21 Mar 2013 18:33:37 +0000"  >&lt;p&gt;Thanks Gwen. In that case, I am ok with documenting it and resolving this JIRA as won&apos;t fix.&lt;/p&gt;

&lt;p&gt;Is that ok with you as well, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mackrorysd&quot; class=&quot;user-hover&quot; rel=&quot;mackrorysd&quot;&gt;Sean Mackrory&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13666278" author="mandoskippy" created="Fri, 24 May 2013 13:06:50 +0000"  >&lt;p&gt;What about this? Leave it case sensitive as it is, but provide a HIVE Variable that allows it to be set globally. That way, an administrator can set the behaivior of LIKE based on what their users are migrating in from. I.e. if MSSQL or MYSQL  then set it to be case insensitive, else use the default of case sensitive. The issue here is one of transitioning and potential false negatives because of the assumption. Correct, you can&apos;t be consistent with every SQL implementation out there, however, I think there is some precedence for being LIKE &apos;%mySql%&apos;(see what I did there) which is case insensitive by default. &lt;/p&gt;</comment>
                            <comment id="13666362" author="appodictic" created="Fri, 24 May 2013 14:35:20 +0000"  >&lt;p&gt;Global conf variables that affect something like this are a bit scary. (It is also not common in how hive works now, global vars only effect performance usually not results. In the end &apos;like&apos; is a UDF, I think the best solution is to create mlike &apos;mysql like&apos; and implement that to work as desired.&lt;/p&gt;</comment>
                            <comment id="13666713" author="mandoskippy" created="Fri, 24 May 2013 21:43:04 +0000"  >&lt;p&gt;They may be a bit scary, but from what perspective? The programming of the system or the users/operators of the data warehouse that need consistency in results?  The scary thing about the LIKE operator and it not being able to be controlled in it&apos;s behavior is ensuring that assumptions by users don&apos;t lead to false negative hits.  I know personally, I came from MySQl/MSSQL and I had that happened to me until I figured out the difference. It isn&apos;t well documented, I can&apos;t control it, it bit me. Ok, no problem, how do I fix it now in my environment, most of my users are from that same background, so now I have to do training to change this? How effective will that be? Will people forget? Will I get false negatives? &lt;/p&gt;

&lt;p&gt;A &quot;mlike&quot; may be an option, however, I am not sure; it still requires the user to remember there is a change, is mlike better than other work arounds? Not if the user forgets to use it and in the case of like, the end result is false negatives(user forgets, no results, moves on not realizing they are missing something).  &lt;/p&gt;

&lt;p&gt;If a global option isn&apos;t available, could like be case insensitive and an olike function (oracle like) be added? I will say that while false positives are a pain, at least you can look at the results and say &quot;wait, why isn&apos;t this case sensitive?&quot; and you know something is different than what you are used to (i.e. Oracle, hence olike).  You see and then understand there is a discrepancy. With mlike and case sensitivity being the default, you don&apos;t have any indicator, because unexpected case sensitivity produces false negatives, unexpected case insensitivity produces false positives. In analytics false positives are far preferred than false negatives.  &lt;/p&gt;

&lt;p&gt;Just brainstorming here, what if we implemented mlike AND olike (my/ms SQL like and oracle  like) (or cslike and cilike (case sensitive and case insensitive)) Then we have the like function just be a link to mlike or olike.  Since Hive started out with case sensitivity, we could have like link to olike, but it can be changed to mlike in the hive-site.  The point being, absence of specification, default to normal (LIKE = OLIKE Case sensitive) hive.like.insensitive = true make it MLIKE.  Simple, doesn&apos;t change the default hive setting/behavior (out of the box), gives the option of global setting, and from a programing standpoint we are doing an if test on what LIKE links to, and we&apos;d have olike and mlike available as UDFs when a user wanted to do the opposite of what the default setting is. &lt;/p&gt;

</comment>
                            <comment id="13666785" author="mgrover" created="Fri, 24 May 2013 22:51:05 +0000"  >&lt;p&gt;I agree with Edward that having a property like that is risky. I also like John&apos;s idea of having two different like UDFs. We can only change the behavior (if at all) in a major release. I think in this case, we are just going to have to pick one kind of like and implement another one. Yeah, people coming from MySQL land may get confused but that&apos;s the best we can do is document it and ask them to use the other like. &lt;/p&gt;

&lt;p&gt;John, it would be great if you could create a JIRA for the case-insensitive like. Thanks!&lt;/p&gt;</comment>
                            <comment id="13666844" author="mandoskippy" created="Sat, 25 May 2013 00:04:51 +0000"  >&lt;p&gt;Edward and Mark: Can you please explain risky (from a programming PoV)in the situations you are talking about?  I am not a programmer, so I am looking at this from both and end-user and from the point of view of an organization that is going to implement Hive to assist with business decisions. &lt;/p&gt;

&lt;p&gt;When I see the two risks, i.e. my understanding of the programming risk (Which I am admitting I have very little understanding, hence the asking for the explanation) vs. the implementation risk i.e. organizations that are migrating to Hive, I worry that those decisions, which are based on false negatives because of the current choices (case sensitivity), could be very bad from a business/implementation risk standpoint. &lt;/p&gt;

&lt;p&gt;Please do not take my persistent questioning as being combative, I am just trying to look at this purely from a user/organization point of view. I.e. training people to do things different, the results from poor training or employee turnover, etc causing these false negatives on data.  There has to be an elegant way to give the organization control over this... even documenting such a setting for administrators is nice, but it still relies on user training/choices to ensure business decisions are not based on false negatives. If we had a setting we could change, we could point out the difference, and give users/org and option that fits with each org&apos;s use case. &lt;/p&gt;

&lt;p&gt;As I said, just trying to understand about the risk on the programming side, I see the risk, as a power user, administrator etc as having a high likelihood of occurring, and the impact of said risk (false negatives) as being high as well.  That said, I defer to you guys on the programming side. &lt;/p&gt;</comment>
                            <comment id="13667121" author="appodictic" created="Sat, 25 May 2013 15:56:51 +0000"  >&lt;p&gt;The risk, as I see it, is that there are already a large number of people depending on the current behaviour. If we change the default that would change the results current users are getting. Better that the new users learn how hive works, since they are learning anyway, then break assumptions of current users. Most users do not want to have to heavily test before upgrade, they want consistent behaviour between versions.&lt;/p&gt;

&lt;p&gt;You suggestion to have a global or session level property is a good one. There are some cases where I have thought about doing this. In general, it is not ideal because no other component in hive works this way. Thus having a one-off configuration for handling how like statements work is odd. Also the query is no longer self documenting. Based on how some parameter outside the query is set, the system functions differently. Imagine if we had 10 such parameters could the same query produce 100 different results based on permutations of properties?&lt;/p&gt;

&lt;p&gt;For the most part, we model functionality in hive based on what mysql does. You will find a lot of compatibility in how UDFs work and other language features.&lt;/p&gt;

&lt;p&gt;There are many ways this can be dealt with, hive has &apos;like&apos; and &apos;rlike&apos;. If there is an sql standard on how like must work that might be ammo for the argument of changing the default, but basing a change solely on how mysql does something just for new users is not attractive. MySQL has made its own bad choices over the years (non standard things like enum) (non standard date/time types) (non standard ways to specify indexes).&lt;/p&gt;

&lt;p&gt;I am guessing that hive&apos;s like is the way it is because hive initially only supported java&apos;s UTf8 strings and that comparison is by default case sensitive.&lt;/p&gt;</comment>
                            <comment id="13667142" author="mandoskippy" created="Sat, 25 May 2013 17:52:01 +0000"  >&lt;p&gt;A couple of points to consider:&lt;br/&gt;
1. &quot; If we change the default that would change the results current users are getting.&quot; I am in absolute agreement here.  I do not wish to change the default, the horse has left the gate. If I have referenced that in my previous posts, it&apos;s in the context of other ideas etc.  My issue with the current default isn&apos;t the choice of what it is, as much as there is no way to change it on a case by base basis. &lt;/p&gt;

&lt;p&gt;2. Paragraph 2: Those are solid points based on risks to the ongoing maintenance of Hive. That said, most Relational Databases, including MySQL have the option to change collation for given databases. True it may not be global setting (although the collation default is a global setting), but rather a per database setting. I.e. in MySQL you can have one database use a case sensitive collation and another use a case insensitive collation. Perhaps hive-site isn&apos;t the place for this, but metadata is (Set it as a per database or table setting?)  &lt;/p&gt;

&lt;p&gt;3. For the most part, we model functionality in hive based on what mysql does - Because of Point 1, this is moot, but by default, MySQL is case insensitive. &lt;/p&gt;

&lt;p&gt;4.  Most users do not want to have to heavily test before upgrade, they want consistent behaviour between versions. - This is exactly why I think we need an option for administrators of Hive to be able to set the case sensitivity on database/table level, and the default case sensitivity at a global level.  Most users do not test.  From a philosophical (data philosopher?) point of view, users will not test, therefore if failure is to happen because of lack of testing, please fail with pomp and circumstance.  &lt;/p&gt;

&lt;p&gt;I.e. Both lines of users (MySQL/MSSQL Migrating to Hive and Oracle/Postgres Migrating to Hive) are going to make assumptions when they write their queries that will cause a failure to happen.  If LIKE is Case Sensitive as it is, Oracle/Postgres users will assume correctly and all will be well.  MySQL/Users will assume wrong, but they won&apos;t KNOW they assumed wrong, they will just assume no results (given a lack of testing).   The converse is actually the preferred model: If LIKE is not case sensitive, then Oracle/Postgres users will assume incorrectly, they will run a query, and they will get their expected results, but will also get extra results allowing them to understand they assumed wrong. MySQL/MSSQL users will assume correctly and get their results.   &lt;/p&gt;

&lt;p&gt;Going back to Point 1, the horse has left the building, we can&apos;t change default because of what it would do to the current user base, thus the next best option is to allow administrators to set that so users don&apos;t have to deal with it, document it so good administrators can handle it out of the gate, and to find a way to do it like &apos;%MysQL%&apos; (i.e. similar to collation settings on databases rather then a global setting as described previously).  &lt;/p&gt;

&lt;p&gt;I do see the challenges with a global setting affecting how a function works; no precedence for that, and thus it could introduce risk, but I still hold that the current risk, especially on a system that is touted as modeled after MySQL (that&apos;s how it was explained to me, thus I assumed LIKE was case insensitive), to users is high.  As I was typing this novelette, I realized I tossed out an idea related to per database settings.  Thoughts on that? That is similar to how MySQL handles it, and thus follows the models mentioned while avoiding a global setting that affects the behavior of a UDF.  (The setting doesn&apos;t change the UDF, the &quot;collation equivalent&quot; setting on the databases does, and thus the global setting is just the default collation equivalent. &lt;/p&gt;</comment>
                            <comment id="13668559" author="ehans" created="Tue, 28 May 2013 18:54:18 +0000"  >&lt;p&gt;There&apos;s an effort to add vectorized query execution to Hive, and this JIRA is to speed up the most common cases for LIKE in vectorized mode: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4548&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-4548&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Making the performance as fast as in the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4548&quot; title=&quot;Speed up vectorized LIKE filter for special cases abc%, %abc and %abc%&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4548&quot;&gt;&lt;del&gt;HIVE-4548&lt;/del&gt;&lt;/a&gt; JIRA will not be possible if LIKE is case-insensitive. That makes things quite a bit harder. So I am glad the sentiment here is to keep the default behavior case-sensitive.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Feb 2013 15:54:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i8lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314651</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4071] Map-join outer join produces incorrect results.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4071</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For example, if one sets the size of noConditionalTask.size to 100000 with corresponding auto join configurations set to true in auto_join28.q instead of the current smalltable.filesize configuration, we will observe different results if a select query is run. (The test only has explain statements at present).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634001">HIVE-4071</key>
            <summary>Map-join outer join produces incorrect results.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Feb 2013 21:43:05 +0000</created>
                <updated>Sat, 3 Feb 2018 20:13:34 +0000</updated>
                            <resolved>Wed, 3 Apr 2013 00:50:02 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13586326" author="vikram.dixit" created="Mon, 25 Feb 2013 21:45:29 +0000"  >&lt;p&gt;Added modified versions of the auto_join28.q test case and corresponding .out files. Also updated test results for existing tests.&lt;/p&gt;</comment>
                            <comment id="13589330" author="namit" created="Thu, 28 Feb 2013 08:12:18 +0000"  >&lt;p&gt;can you create a phabricator entry ?&lt;/p&gt;</comment>
                            <comment id="13589359" author="vikram.dixit" created="Thu, 28 Feb 2013 09:03:20 +0000"  >&lt;p&gt;~Namit&lt;/p&gt;

&lt;p&gt;I am facing some issues with setting up phabricator. I had opened a review board request earlier. Providing link here for reference.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/9597/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9597/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13589394" author="namit" created="Thu, 28 Feb 2013 09:48:45 +0000"  >&lt;p&gt;minor comments&lt;/p&gt;</comment>
                            <comment id="13590980" author="vikram.dixit" created="Fri, 1 Mar 2013 21:57:30 +0000"  >&lt;p&gt;Updated to remove the dead code. Still needs work to address tests comment.&lt;/p&gt;</comment>
                            <comment id="13591969" author="vikram.dixit" created="Mon, 4 Mar 2013 03:34:50 +0000"  >&lt;p&gt;Makes changes in the same code path.&lt;/p&gt;</comment>
                            <comment id="13620461" author="vikram.dixit" created="Wed, 3 Apr 2013 00:50:02 +0000"  >&lt;p&gt;Fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3381&quot; title=&quot;Result of outer join is not valid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3381&quot;&gt;&lt;del&gt;HIVE-3381&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12634336">HIVE-4078</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12631195">HIVE-3996</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12570883" name="HIVE-4071.patch" size="634062" author="vikram.dixit" created="Mon, 25 Feb 2013 22:45:44 +0000"/>
                            <attachment id="12571656" name="HIVE-4071_2.patch" size="589574" author="vikram.dixit" created="Fri, 1 Mar 2013 21:57:30 +0000"/>
                            <attachment id="12571720" name="HIVE-4071_3.patch" size="637576" author="vikram.dixit" created="Sat, 2 Mar 2013 02:31:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Feb 2013 08:12:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314495</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i9r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314839</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4072] Hive eclipse build path update for string template jar</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4072</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;StringTemplate jar version needs to be updated for hive to work with eclipse without user intervention.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634006">HIVE-4072</key>
            <summary>Hive eclipse build path update for string template jar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Feb 2013 21:55:54 +0000</created>
                <updated>Thu, 16 May 2013 21:10:19 +0000</updated>
                            <resolved>Thu, 28 Feb 2013 10:05:28 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13589403" author="namit" created="Thu, 28 Feb 2013 10:02:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13589404" author="namit" created="Thu, 28 Feb 2013 10:05:28 +0000"  >&lt;p&gt;Committed. Thanks Vikram&lt;/p&gt;</comment>
                            <comment id="13589672" author="hudson" created="Thu, 28 Feb 2013 17:12:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1991 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1991/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1991/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4072&quot; title=&quot;Hive eclipse build path update for string template jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4072&quot;&gt;&lt;del&gt;HIVE-4072&lt;/del&gt;&lt;/a&gt; Hive eclipse build path update for string template jar&lt;br/&gt;
(Vikram Dixit K via namit) (Revision 1451162)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1451162&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1451162&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623018" author="hudson" created="Thu, 4 Apr 2013 23:39:50 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4072&quot; title=&quot;Hive eclipse build path update for string template jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4072&quot;&gt;&lt;del&gt;HIVE-4072&lt;/del&gt;&lt;/a&gt; Hive eclipse build path update for string template jar&lt;br/&gt;
(Vikram Dixit K via namit) (Revision 1451162)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1451162&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1451162&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12570876" name="HIVE-4072.patch" size="337" author="vikram.dixit" created="Mon, 25 Feb 2013 21:56:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Feb 2013 10:02:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314500</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i9s7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314844</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
