<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:42:45 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2016-12-20+AND+created+%3C%3D+2016-12-27+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="44" total="44"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-15469] Fix REPL DUMP/LOAD DROP_PTN so it works on non-string-ptn-key tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15469</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The current implementation of REPL DUMP/REPL LOAD for DROP_PTN is limited to dropping partitions whose key types are strings. This needs the tableObj to be available in the DropPartitionMessage before it can be fixed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029308">HIVE-15469</key>
            <summary>Fix REPL DUMP/LOAD DROP_PTN so it works on non-string-ptn-key tables</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="13007626">HIVE-14841</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vgumashta">Vaibhav Gumashta</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 00:27:58 +0000</created>
                <updated>Wed, 26 Jul 2017 00:03:35 +0000</updated>
                            <resolved>Fri, 13 Jan 2017 20:13:45 +0000</resolved>
                                                    <fixVersion>2.2.0</fixVersion>
                                    <component>repl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15818343" author="hiveqa" created="Wed, 11 Jan 2017 13:35:08 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12846670/HIVE-15469.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12846670/HIVE-15469.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10950 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_testxpath] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_coalesce] (batchId=75)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=148)
org.apache.hive.hcatalog.api.TestHCatClientNotification.dropPartition (batchId=219)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2883/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2883/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2883/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2883/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2883/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2883/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12846670 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15819833" author="sushanth" created="Thu, 12 Jan 2017 01:38:52 +0000"  >&lt;p&gt;This patch needed rebasing since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15365&quot; title=&quot;Add new methods to MessageFactory API (corresponding to the ones added in JSONMessageFactory)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15365&quot;&gt;&lt;del&gt;HIVE-15365&lt;/del&gt;&lt;/a&gt; went in, and also a couple of minor api changes, so I&apos;m looking in to rebasing with those changes.&lt;/p&gt;

&lt;p&gt;However, the org.apache.hive.hcatalog.api.TestHCatClientNotification.dropPartition test failure reported by ptest does seem to be related to this patch, so that will likely need further fixing past my rebasing/updating.&lt;/p&gt;</comment>
                            <comment id="15819876" author="sushanth" created="Thu, 12 Jan 2017 01:58:23 +0000"  >&lt;p&gt;Cancelling patch to upload a new version that should also go through ptests.&lt;/p&gt;</comment>
                            <comment id="15819891" author="sushanth" created="Thu, 12 Jan 2017 02:05:30 +0000"  >&lt;p&gt;Updated patch with rebases, as well as the test from TestHCatClientNotification fixed. TestHCatClientNotification seemed to be doing an exact match of json produced, and thus, is too strict a test while not testing the api - thus, I&apos;ve updated other occurrences past DropPartition in that test as well, with this update.&lt;/p&gt;</comment>
                            <comment id="15820934" author="hiveqa" created="Thu, 12 Jan 2017 12:53:34 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12847136/HIVE-15469.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12847136/HIVE-15469.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 3 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 10927 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=148)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=95)
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerCheckInvocation.org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerCheckInvocation (batchId=208)
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerShowFilters.org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerShowFilters (batchId=208)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2909/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2909/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2909/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2909/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2909/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2909/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12847136 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15822269" author="sushanth" created="Fri, 13 Jan 2017 19:59:44 +0000"  >&lt;p&gt;None of the test failures reported here are related, and since my changes to Vaibhav&apos;s patch were trivial and test-related, I&apos;m going to go ahead and check this in with my +1.&lt;/p&gt;</comment>
                            <comment id="15822291" author="sushanth" created="Fri, 13 Jan 2017 20:13:45 +0000"  >&lt;p&gt;Committed to master. Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13029283">HIVE-15466</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12846670" name="HIVE-15469.1.patch" size="15333" author="vgumashta" created="Tue, 10 Jan 2017 21:27:45 +0000"/>
                            <attachment id="12847136" name="HIVE-15469.2.patch" size="19853" author="sushanth" created="Thu, 12 Jan 2017 02:05:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Jan 2017 13:35:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37st3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15470] Catch Throwable instead of Exception in driver.execute.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15470</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Catch Throwable instead of Exception in driver.execute. So the failed query with Throwable not Exception will also be logged and reported.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029313">HIVE-15470</key>
            <summary>Catch Throwable instead of Exception in driver.execute.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zxu">zhihai xu</assignee>
                                    <reporter username="zxu">zhihai xu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 01:03:16 +0000</created>
                <updated>Fri, 21 Jul 2017 18:26:29 +0000</updated>
                            <resolved>Tue, 20 Dec 2016 22:16:14 +0000</resolved>
                                                    <fixVersion>2.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15763220" author="hiveqa" created="Tue, 20 Dec 2016 04:34:36 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12843984/HIVE-15470.000.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12843984/HIVE-15470.000.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 10822 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestVectorizedColumnReaderBase - did not produce a TEST-*.xml file (likely timed out) (batchId=251)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample2] (batchId=5)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample4] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample6] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample7] (batchId=60)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample9] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_sort_array] (batchId=59)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=151)
org.apache.hive.hcatalog.pig.TestHCatLoaderComplexSchema.testMapNullKey[3] (batchId=173)
org.apache.hive.hcatalog.pig.TestHCatLoaderComplexSchema.testSyntheticComplexSchema[3] (batchId=173)
org.apache.hive.hcatalog.pig.TestTextFileHCatStorer.testWriteTimestamp (batchId=173)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2645/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2645/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2645/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2645/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2645/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2645/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12843984 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15764570" author="jxiang" created="Tue, 20 Dec 2016 16:22:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15765406" author="jxiang" created="Tue, 20 Dec 2016 22:16:14 +0000"  >&lt;p&gt;Pushed to master. Thanks Zhihai for the patch.&lt;/p&gt;</comment>
                            <comment id="15768589" author="zxu" created="Thu, 22 Dec 2016 00:36:07 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt; for reviewing and committing the patch!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12843984" name="HIVE-15470.000.patch" size="1202" author="zxu" created="Tue, 20 Dec 2016 01:06:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Dec 2016 04:34:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37su7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15471] LLAP UI: NPE when getting thread metrics</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15471</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When tasks are interrupted/killed in the middle of the job in LLAP, &lt;tt&gt;LlapDaemonExecutorMetrics.updateThreadMetrics&lt;/tt&gt; could end up throwing NPE.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException
	at org.apache.hadoop.hive.llap.metrics.LlapDaemonExecutorMetrics.updateThreadMetrics(LlapDaemonExecutorMetrics.java:307) ~[hive-llap-server-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]
	at org.apache.hadoop.hive.llap.metrics.LlapDaemonExecutorMetrics.getExecutorStats(LlapDaemonExecutorMetrics.java:269) ~[hive-llap-server-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]
	at org.apache.hadoop.hive.llap.metrics.LlapDaemonExecutorMetrics.getMetrics(LlapDaemonExecutorMetrics.java:187) ~[hive-llap-server-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]
	at org.apache.hadoop.metrics2.impl.MetricsSourceAdapter.getMetrics(MetricsSourceAdapter.java:194) ~[hadoop-common-2.7.1.jar:?]
	at org.apache.hadoop.metrics2.impl.MetricsSourceAdapter.updateJmxCache(MetricsSourceAdapter.java:172) ~[hadoop-common-2.7.1.jar:?]
	at org.apache.hadoop.metrics2.impl.MetricsSourceAdapter.getMBeanInfo(MetricsSourceAdapter.java:151) ~[hadoop-common-2.7.1.jar:?]
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getMBeanInfo(DefaultMBeanServerInterceptor.java:1378) ~[?:1.8.0_77]
	at com.sun.jmx.mbeanserver.JmxMBeanServer.getMBeanInfo(JmxMBeanServer.java:920) ~[?:1.8.0_77]
	at org.apache.hive.http.JMXJsonServlet.listBeans(JMXJsonServlet.java:228) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]
	at org.apache.hive.http.JMXJsonServlet.doGet(JMXJsonServlet.java:194) ~[hive-exec-2.2.0-SNAPSHOT.jar:2.2.0-SNAPSHOT]

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13029345">HIVE-15471</key>
            <summary>LLAP UI: NPE when getting thread metrics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajesh.balamohan">Rajesh Balamohan</assignee>
                                    <reporter username="rajesh.balamohan">Rajesh Balamohan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 04:46:51 +0000</created>
                <updated>Fri, 21 Jul 2017 18:26:35 +0000</updated>
                            <resolved>Thu, 22 Dec 2016 04:47:03 +0000</resolved>
                                                    <fixVersion>2.3.0</fixVersion>
                                    <component>llap</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15763267" author="rajesh.balamohan" created="Tue, 20 Dec 2016 05:02:55 +0000"  >&lt;p&gt;Also, observed lots of objects created when accessing LLAP-UI.  Attaching .1 patch. &lt;/p&gt;

&lt;p&gt;\cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15763290" author="gopalv" created="Tue, 20 Dec 2016 05:14:58 +0000"  >&lt;p&gt;LGTM - +1.&lt;/p&gt;

&lt;p&gt;Quick q - did you mean to remove the loop?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;         &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; j = 0; j &amp;lt; numExecutors; j++) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I see a dead-code loop there?&lt;/p&gt;</comment>
                            <comment id="15763344" author="rajesh.balamohan" created="Tue, 20 Dec 2016 05:48:35 +0000"  >&lt;p&gt;Attaching .2 version to address review comments.&lt;/p&gt;</comment>
                            <comment id="15763395" author="hiveqa" created="Tue, 20 Dec 2016 06:22:39 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844010/HIVE-15471.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844010/HIVE-15471.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 10822 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestVectorizedColumnReaderBase - did not produce a TEST-*.xml file (likely timed out) (batchId=251)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample2] (batchId=5)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample4] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample6] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample7] (batchId=60)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample9] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_sort_array] (batchId=59)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=151)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2647/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2647/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2647/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2647/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2647/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844010 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15763479" author="hiveqa" created="Tue, 20 Dec 2016 07:09:50 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844013/HIVE-15471.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844013/HIVE-15471.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 10818 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestVectorizedColumnReaderBase - did not produce a TEST-*.xml file (likely timed out) (batchId=251)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample2] (batchId=5)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample4] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample6] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample7] (batchId=60)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample9] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_sort_array] (batchId=59)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=92)
org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver.org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver (batchId=229)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2648/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2648/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2648/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2648/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2648/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2648/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844013 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15769040" author="rajesh.balamohan" created="Thu, 22 Dec 2016 04:47:03 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt;. Committed to master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844010" name="HIVE-15471.1.patch" size="2615" author="rajesh.balamohan" created="Tue, 20 Dec 2016 05:02:55 +0000"/>
                            <attachment id="12844013" name="HIVE-15471.2.patch" size="2736" author="rajesh.balamohan" created="Tue, 20 Dec 2016 05:48:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Dec 2016 05:14:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37t1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15472] JDBC: Standalone jar is missing ZK dependencies</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15472</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.NoClassDefFoundError: org/apache/curator/RetryPolicy
	at org.apache.hive.jdbc.Utils.configureConnParams(Utils.java:514)
	at org.apache.hive.jdbc.Utils.parseURL(Utils.java:434)
	at org.apache.hive.jdbc.HiveConnection.&amp;lt;init&amp;gt;(HiveConnection.java:132)
	at org.apache.hive.jdbc.HiveDriver.connect(HiveDriver.java:107)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:247)
	at JDBCExecutor.getConnection(JDBCExecutor.java:65)
	at JDBCExecutor.executeStatement(JDBCExecutor.java:104)
	at JDBCExecutor.executeSQLFile(JDBCExecutor.java:81)
	at JDBCExecutor.main(JDBCExecutor.java:183)
Caused by: java.lang.ClassNotFoundException: org.apache.curator.RetryPolicy
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:424)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:357)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13029365">HIVE-15472</key>
            <summary>JDBC: Standalone jar is missing ZK dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="taoli-hwx">Tao Li</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 06:07:13 +0000</created>
                <updated>Wed, 26 Jul 2017 00:03:25 +0000</updated>
                            <resolved>Tue, 24 Jan 2017 19:23:15 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15812944" author="taoli-hwx" created="Mon, 9 Jan 2017 21:44:51 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; for creating this JIRA.&lt;/p&gt;

&lt;p&gt;I have uploaded a patch and will wait for the test results.&lt;/p&gt;</comment>
                            <comment id="15813335" author="hiveqa" created="Tue, 10 Jan 2017 00:22:05 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12846422/HIVE-15472.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12846422/HIVE-15472.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10928 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_testxpath] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_coalesce] (batchId=75)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_llap_counters] (batchId=136)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=148)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=97)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2849/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2849/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2849/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2849/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2849/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2849/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12846422 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15813372" author="taoli-hwx" created="Tue, 10 Jan 2017 00:38:18 +0000"  >&lt;p&gt;+ &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15813379" author="taoli-hwx" created="Tue, 10 Jan 2017 00:41:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Can you please verify if it works for you with the patch? Thanks a lot.&lt;/p&gt;</comment>
                            <comment id="15816551" author="thejas" created="Tue, 10 Jan 2017 23:39:05 +0000"  >&lt;p&gt;+1 pending test verification&lt;br/&gt;
Can you please verify if the test failures are unrelated and tracked under the umbrella UT jira ?&lt;/p&gt;</comment>
                            <comment id="15816577" author="vgumashta" created="Tue, 10 Jan 2017 23:55:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15817083" author="gopalv" created="Wed, 11 Jan 2017 03:58:34 +0000"  >&lt;p&gt;This works as long as minimizeJar is off. MinimizeJar seems to be breaking this, with missing apache logging impl classes.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Unable to create &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.logging.log4j.core.impl.Log4jContextFactory specified in jar:file:/grid/5/dev/gopalv/jdbc_hive_standalone_program/target/lib/hive-jdbc-2.1.0-standalone.jar!/META-INF/log4j-provider.props
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This error goes away when minimizeJar is disabled.&lt;/p&gt;</comment>
                            <comment id="15817382" author="taoli-hwx" created="Wed, 11 Jan 2017 06:32:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Test failures are unrelated and being tracked in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15058&quot; title=&quot;[Umbrella] Current Flaky Tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15058&quot;&gt;HIVE-15058&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15817443" author="taoli-hwx" created="Wed, 11 Jan 2017 06:59:08 +0000"  >&lt;p&gt;The patch worked for me in my local tests (could be due to wrong local setup). I will double check the minimizeJar issue. What error are you seeing with minimizeJar on?&lt;/p&gt;</comment>
                            <comment id="15822134" author="taoli-hwx" created="Fri, 13 Jan 2017 18:38:08 +0000"  >&lt;p&gt;According to the error below, the log4j-provider.properties files shaded to the jdbc jar is specifying the classes from &quot;org.apache.logging&quot; which have been renamed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14992&quot; title=&quot;Relocate several common libraries in hive jdbc uber jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14992&quot;&gt;&lt;del&gt;HIVE-14992&lt;/del&gt;&lt;/a&gt;. Apparently the relocation/renaming does not update the properties file. So for now the quick fix is to revert relocation for &quot;org.apache.logging&quot;. Will upload another patch for that. &lt;/p&gt;

&lt;p&gt;ERROR StatusLogger Unable to create class org.apache.logging.log4j.core.impl.Log4jContextFactory specified in jar:&lt;a href=&quot;file:/Users/tli/dev/hive/jdbc/target/hive-jdbc-2.2.0-SNAPSHOT-standalone.jar!/META-INF/log4j-provider.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/Users/tli/dev/hive/jdbc/target/hive-jdbc-2.2.0-SNAPSHOT-standalone.jar!/META-INF/log4j-provider.properties&lt;/a&gt;&lt;br/&gt;
 java.lang.ClassNotFoundException: org.apache.logging.log4j.core.impl.Log4jContextFactory&lt;br/&gt;
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)&lt;br/&gt;
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)&lt;/p&gt;</comment>
                            <comment id="15827473" author="hiveqa" created="Wed, 18 Jan 2017 06:00:40 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12847949/HIVE-15472.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12847949/HIVE-15472.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 371 failed/errored test(s), 10814 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.accumulo.TestAccumuloConnectionParameters.testMissingPassword (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloConnectionParameters.testMissingUserName (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testDropTableWithoutDeleteLeavesTableIntact (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testEmptyIteratorPushdownValue (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testExternalNonExistentTableFails (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testMissingColumnMappingFails (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testNonBooleanIteratorPushdownValue (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testNonExternalExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testNonNullLocation (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testPreCreateTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testRollbackCreateTableDeletesExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testRollbackCreateTableDoesntDeleteExternalExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testRollbackCreateTableOnNonExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testTableJobPropertiesCallsInputAndOutputMethods (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testTablePropertiesPassedToInputJobProperties (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testTablePropertiesPassedToOutputJobProperties (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testISEIsPropagated (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testISEIsPropagatedWithReflection (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testTokenMerge (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testTokenToConfFromUser (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormat (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormatWithAuthorizations (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormatWithEmptyColumns (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormatWithIterators (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureMockAccumuloInputFormat (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testIteratorNotInSplitsCompensation (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableOutputFormat.testBasicConfiguration (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableOutputFormat.testMockInstance (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableOutputFormat.testSaslConfiguration (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testEmptyListRangeGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testManyRangesGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testNullRangeGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testSingleRangeGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.serde.TestAccumuloRowSerializer.testBufferResetBeforeUse (batchId=165)
org.apache.hadoop.hive.cli.TestCliDriverMethods.testThatCliDriverPrintsHeaderForCommandsWithSchema (batchId=166)
org.apache.hadoop.hive.cli.TestCliDriverMethods.testThatCliDriverPrintsNoHeaderForCommandsWithNoSchema (batchId=166)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=148)
org.apache.hadoop.hive.common.TestBlobStorageUtils.testValidAndInvalidFileSystems (batchId=240)
org.apache.hadoop.hive.io.TestHadoopFileStatus.testHadoopFileStatusAclEntries (batchId=190)
org.apache.hadoop.hive.llap.cache.TestIncrementalObjectSizeEstimator.testMetadata (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize2 (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize30 (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize64 (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize8 (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestLlapDaemonProtocolServerImpl.testSimpleCall (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testFinishablePreeptsNonFinishable (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionQueueComparator (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionStateOnTaskMoveToFinishableState (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionStateOnTaskMoveToNonFinishableState (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testWaitQueuePreemption (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestFirstInFirstOutComparator.testWaitQueueComparator (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestFirstInFirstOutComparator.testWaitQueueComparatorParallelism (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestFirstInFirstOutComparator.testWaitQueueComparatorWithinDagPriority (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestShortestJobFirstComparator.testWaitQueueComparator (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestShortestJobFirstComparator.testWaitQueueComparatorParallelism (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestShortestJobFirstComparator.testWaitQueueComparatorWithinDagPriority (batchId=282)
org.apache.hadoop.hive.llap.tez.TestLlapDaemonProtocolClientProxy.testMultipleNodes (batchId=164)
org.apache.hadoop.hive.llap.tez.TestLlapDaemonProtocolClientProxy.testSingleInvocationPerNode (batchId=164)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testEntityTracker1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testFinishableStateUpdateFailure (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityDelayedAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityFallbackToNonLocal (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityNodeCommErrorDelayedAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityNodeCommErrorImmediateAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedQueeTaskSelectionAfterScheduled (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testFallbackAllocationOrderedNext (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForceLocalityTest1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityMultiplePreemptionsSameHost1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityMultiplePreemptionsSameHost2 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityNotInDelayedQueue (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityPreemption (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityUnknownHost (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testLocalityDelayTaskOrdering (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNoForceLocalityCounterTest1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNoLocalityNotInDelayedQueue (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNodeDisabled (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNodeReEnabled (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testPreemption (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testPreemptionChoiceTimeOrdering (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testSimpleLocalAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testSimpleNoLocalityAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testTaskInfoDelay (batchId=232)
org.apache.hadoop.hive.metastore.TestHiveAlterHandler.testAlterTableAddColNotUpdateStats (batchId=186)
org.apache.hadoop.hive.metastore.TestHiveAlterHandler.testAlterTableChangePosNotUpdateStats (batchId=186)
org.apache.hadoop.hive.metastore.TestHiveAlterHandler.testAlterTableDelColUpdateStats (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.allWithStats (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.noneWithStats (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.nonexistentPartitions (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.someNonexistentPartitions (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCacheWithBitVector.allPartitions (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.MiddleOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusDouble (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusLong (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.TwoEndsOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusDecimal (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusDouble (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusLong (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusString (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.noPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.MiddleOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusDecimal (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusDouble (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusLong (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.allPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.noPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addMultiColForeignKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addMultiColPrimaryKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addMultiForeignKeys (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addSecondForeignKeys (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterDb (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterFunction (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterIndex (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.binaryPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.binaryTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.booleanPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.booleanTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createDb (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createFunction (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createIndex (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createRole (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createTableWithForeignKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createTableWithPrimaryKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.decimalPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.decimalTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.doublePartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.doublePrimaryKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.doubleTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropDb (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropFunction (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropIndex (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropRole (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.getPartitions (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.hashSd (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.listGetDropPartitionNames (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.longPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.longTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.skewInfo (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.stringPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.stringTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.decimalPartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.decimalTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.doublePartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.doubleTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.longPartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.longTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.stringPartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.stringTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.alterTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.booleanTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.createPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.createTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.dropPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.dropTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.getPartitions (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.listGetDropPartitionNames (batchId=187)
org.apache.hadoop.hive.ql.TestReplicationScenarios.org.apache.hadoop.hive.ql.TestReplicationScenarios (batchId=206)
org.apache.hadoop.hive.ql.exec.TestContext.testGetScratchDirectoriesForPaths (batchId=262)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testDelete (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testDeleteDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testInsert (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testInsertDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testNonAcidDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testNonAcidWrite (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testUpdate (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testUpdateDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestUtilities.testGetInputPathsWithEmptyTables (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnMrNoDp (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnMrWithDp (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnTezNoDp (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnTezWithDp (batchId=268)
org.apache.hadoop.hive.ql.exec.mr.TestMapRedTask.mrTask_updates_Metrics (batchId=268)
org.apache.hadoop.hive.ql.exec.mr.TestMapredLocalTask.localMRTask_updates_Metrics (batchId=268)
org.apache.hadoop.hive.ql.exec.spark.TestSparkTask.sparkTask_updates_Metrics (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestCustomPartitionVertex.testGetBytePayload (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testExtraEvents (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMissingEvent (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMultipleSourcesOrdering1 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMultipleSourcesOrdering2 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMultipleSourcesOrdering3 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testNoPruning (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceMultipleFiltersOrdering1 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceMultipleFiltersOrdering2 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceOrdering1 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceOrdering2 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testConsistentHashing (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testConsistentHashingFallback (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testNonFileSplits (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testOrcSplitsBasic (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testOrcSplitsLocationAffinity (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testCloseAndOpenDefault (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testCloseAndOpenWithResources (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testSessionDestroy (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testSessionReopen (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testBuildDag (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testClose (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testEmptyWork (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testExistingSessionGetsStorageHandlerResources (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testExtraResourcesAddedToDag (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testGetExtraLocalResources (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testParseRightmostXmx (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.tezTask_updates_Metrics (batchId=267)
org.apache.hadoop.hive.ql.io.TestAcidInputFormat.org.apache.hadoop.hive.ql.io.TestAcidInputFormat (batchId=254)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testEqualOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testGreaterThanOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testGreaterThanOrEqualOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testHitLastBlock (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testHitSamePositionTwice (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testLessThanOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testLessThanOrEqualOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testNonLinearEqualTo (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testNonLinearGreaterThan (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testNonLinearLessThan (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testResetRange (batchId=252)
org.apache.hadoop.hive.ql.io.avro.TestAvroGenericRecordReader.emptyFile (batchId=252)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testNewBase (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testOriginalReaderPair (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testOriginalReaderPairNoMin (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testReaderPair (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testReaderPairNoMin (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestVectorizedOrcAcidRowBatchReader.testCanCreateVectorizedAcidRowBatchReaderOnSplit (batchId=254)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testArrayOfArrays (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testArrayType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testEmptyArrays (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testExpectedArrayTypeOnRecord (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testExpectedMapTypeOnRecord (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testExpectedStructTypeOnRecord (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testMapType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testSimpleType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testStructType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestMapredParquetInputFormat.testConstructorWithParquetInputFormat (batchId=251)
org.apache.hadoop.hive.ql.io.parquet.TestMapredParquetOutputFormat.testConstructorWithFormat (batchId=252)
org.apache.hadoop.hive.ql.io.parquet.TestMapredParquetOutputFormat.testGetHiveRecordWriter (batchId=252)
org.apache.hadoop.hive.ql.lockmgr.TestDummyTxnManager.org.apache.hadoop.hive.ql.lockmgr.TestDummyTxnManager (batchId=275)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyExistingFilesOnDifferentFileSystem[0] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyExistingFilesOnDifferentFileSystem[15] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyNewFilesOnDifferentFileSystem[0] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyNewFilesOnDifferentFileSystem[15] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestTableIterable.testNumReturned (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren1 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren2 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren3 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren4 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren5 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren6 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren7 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testConditionalMoveOnHdfsIsNotOptimized (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testConditionalMoveTaskIsNotOptimized (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testConditionalMoveTaskIsOptimized (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMergePathValidMoveWorkReturnsNewMoveWork (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMergePathWithInvalidMoveWorkThrowsException (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMovePathsThatCanBeMerged (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMovePathsThatCannotBeMerged (batchId=262)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testCreateRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testDropRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantGroupTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleGroup (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantServer (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantUri (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantUserTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeGroupTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleGroup (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeUserTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantGroupOnTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantRoleOnTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantUserOnTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantGroup (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV1.testPrivInGrant (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV1.testPrivInGrantNotAccepted (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV2.testPrivInGrant (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestSessionUserName.testSessionConstructorUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestSessionUserName.testSessionDefaultUser (batchId=257)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJars (batchId=274)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJarsNoExtraJars (batchId=274)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJarsStartingWithNull (batchId=274)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJarsWithNull (batchId=274)
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerCheckInvocation.org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerCheckInvocation (batchId=208)
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerShowFilters.org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerShowFilters (batchId=208)
org.apache.hadoop.hive.ql.session.TestAddResource.testDeleteJar (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testDeleteJarMultiple (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testDuplicateAdds (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testSanity (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testUnion (batchId=270)
org.apache.hadoop.hive.schshim.TestFairSchedulerQueueAllocator.testQueueAllocation (batchId=230)
org.apache.hadoop.hive.serde2.TestSerdeWithFieldComments.testFieldComments (batchId=190)
org.apache.hive.beeline.TestBeeLineOpts.testPropertyNamesSet (batchId=167)
org.apache.hive.beeline.TestBufferedRows.testNormalizeWidths (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testConnectHook (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGetHookBeeLineWithShowDbInPrompt (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGetHookBeeLineWithoutShowDbInPrompt (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGetHookCli (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGoHook (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testUseHook (batchId=167)
org.apache.hive.beeline.TestIncrementalRowsWithNormalization.testIncrementalRows (batchId=167)
org.apache.hive.beeline.TestTableOutputFormat.testPrint (batchId=167)
org.apache.hive.hcatalog.cli.SemanticAnalysis.TestHCatAuthUtil.authEnabledV2Auth (batchId=174)
org.apache.hive.hcatalog.streaming.mutate.client.TestMutatorClient.org.apache.hive.hcatalog.streaming.mutate.client.TestMutatorClient (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.client.TestTransaction.org.apache.hive.hcatalog.streaming.mutate.client.TestTransaction (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.client.lock.TestHeartbeatTimerTask.org.apache.hive.hcatalog.streaming.mutate.client.lock.TestHeartbeatTimerTask (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.client.lock.TestLock.org.apache.hive.hcatalog.streaming.mutate.client.lock.TestLock (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.worker.TestMetaStorePartitionHelper.org.apache.hive.hcatalog.streaming.mutate.worker.TestMetaStorePartitionHelper (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorCoordinator.org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorCoordinator (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorImpl.org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorImpl (batchId=181)
org.apache.hive.jdbc.TestHivePreparedStatement.escapingOfStringArgument (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.oneArgument (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.pastingIntoEscapedQuery (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.pastingIntoQuery (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.testNonParameterized (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.unsetArgument (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.unusedArgument (batchId=233)
org.apache.hive.jdbc.authorization.TestCLIAuthzSessionContext.testAuthzSessionContextContents (batchId=215)
org.apache.hive.jdbc.authorization.TestHS2AuthzContext.org.apache.hive.jdbc.authorization.TestHS2AuthzContext (batchId=216)
org.apache.hive.jdbc.authorization.TestHS2AuthzSessionContext.org.apache.hive.jdbc.authorization.TestHS2AuthzSessionContext (batchId=216)
org.apache.hive.service.auth.TestLdapAuthenticationProviderImpl.org.apache.hive.service.auth.TestLdapAuthenticationProviderImpl (batchId=183)
org.apache.hive.service.auth.ldap.TestChainFilter.org.apache.hive.service.auth.ldap.TestChainFilter (batchId=183)
org.apache.hive.service.auth.ldap.TestCustomQueryFilter.org.apache.hive.service.auth.ldap.TestCustomQueryFilter (batchId=184)
org.apache.hive.service.auth.ldap.TestGroupFilter.org.apache.hive.service.auth.ldap.TestGroupFilter (batchId=183)
org.apache.hive.service.auth.ldap.TestLdapSearch.org.apache.hive.service.auth.ldap.TestLdapSearch (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNames (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNamesAndAttributes (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNamesNoRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNamesWithExceptionInNamingEnumerationClose (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetSingleLdapName (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetSingleLdapNameNoRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHandle (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHasSingleResult (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHasSingleResultManyRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHasSingleResultNoRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestUserFilter.org.apache.hive.service.auth.ldap.TestUserFilter (batchId=184)
org.apache.hive.service.auth.ldap.TestUserSearchFilter.org.apache.hive.service.auth.ldap.TestUserSearchFilter (batchId=184)
org.apache.hive.service.cli.session.TestHiveSessionImpl.testLeakOperationHandle (batchId=211)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testAbandonedSessionMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testActiveSessionMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testActiveSessionTimeMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testOpenSessionMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testOpenSessionTimeMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testThreadPoolMetrics (batchId=185)
org.apache.hive.service.cli.thrift.TestThriftHttpCLIServiceFeatures.org.apache.hive.service.cli.thrift.TestThriftHttpCLIServiceFeatures (batchId=209)
org.apache.hive.spark.client.TestJobHandle.org.apache.hive.spark.client.TestJobHandle (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testCounters (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testErrorJob (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testJobSubmission (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob (batchId=277)
org.apache.orc.impl.TestDataReaderProperties.testCompleteBuild (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testEmptyBuild (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testMissingFileSystem (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testMissingNonRequiredArgs (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testMissingPath (batchId=236)
org.apache.orc.impl.TestMemoryManager.testCallback (batchId=237)
org.apache.orc.impl.TestOutStream.testFlush (batchId=237)
org.apache.orc.impl.TestRecordReaderImpl.testClose (batchId=237)
org.apache.orc.impl.TestRecordReaderImpl.testCloseWithException (batchId=237)
org.apache.orc.impl.TestRecordReaderImpl.testMaxLengthToReader (batchId=237)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2999/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2999/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2999/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2999/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2999/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2999/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 371 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12847949 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15829879" author="hiveqa" created="Thu, 19 Jan 2017 13:03:00 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12848112/HIVE-15472.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12848112/HIVE-15472.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 79 failed/errored test(s), 10946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_joins] (batchId=218)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_predicate_pushdown] (batchId=218)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_single_sourced_multi_insert] (batchId=218)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[ctas] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_into_dynamic_partitions] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_into_table] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_directory] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_dynamic_partitions] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_table] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[write_final_output_blobstore] (batchId=230)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_table_stats] (batchId=48)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[analyze_tbl_part] (batchId=44)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input19] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_overwrite_directory] (batchId=25)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample5] (batchId=52)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[serde_opencsv] (batchId=68)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[specialChar] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_math_funcs] (batchId=19)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[dboutput] (batchId=221)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[fileformat_base64] (batchId=221)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[udf_row_sequence] (batchId=221)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[url_hook] (batchId=221)
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testCliDriver[case_with_row_sequence] (batchId=224)
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testCliDriver[invalid_row_sequence] (batchId=224)
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testCliDriver[serde_regex] (batchId=224)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_insert_partition_dynamic] (batchId=158)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_insert_partition_static] (batchId=156)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_insert_values] (batchId=157)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_unencrypted_tbl] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_load_data_to_encrypted_tables] (batchId=157)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_move_tbl] (batchId=157)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_select_read_only_encrypted_tbl] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_select_read_only_unencrypted_tbl] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_unencrypted_nonhdfs_external_tables] (batchId=157)
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver[cascade_dbdrop] (batchId=225)
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver[generatehfiles_require_family_path] (batchId=225)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_llap_counters] (batchId=137)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=136)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[escape1] (batchId=139)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[escape2] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_expressions] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_math_funcs] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[hybridgrace_hashjoin_1] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[hybridgrace_hashjoin_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[orc_vectorization_ppd] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[tez_union_with_udf] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[unionDistinct_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[update_orig_table] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[vectorization_div0] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[vectorization_limit] (batchId=93)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[bucket_num_reducers2] (batchId=84)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[bucket_num_reducers] (batchId=84)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[index_bitmap3] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[index_bitmap_auto] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_dyn_part] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_map_operators] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_merge] (batchId=84)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_num_buckets] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_reducers_power_two] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[parallel_orderby] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[scriptfile1] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[fs_default_name1] (batchId=85)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[fs_default_name2] (batchId=86)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[cluster_tasklog_retrieval] (batchId=87)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[minimr_broken_pipe] (batchId=87)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query33] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query60] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query83] (batchId=222)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=98)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[sample5] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorized_math_funcs] (batchId=104)
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1 (batchId=205)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3037/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3037/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3037/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3037/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3037/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3037/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 79 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12848112 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15830340" author="taoli-hwx" created="Thu, 19 Jan 2017 18:00:00 +0000"  >&lt;p&gt;Test failures are unrelated.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Can you please review this patch?&lt;/p&gt;</comment>
                            <comment id="15835439" author="hiveqa" created="Tue, 24 Jan 2017 00:36:26 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12849009/HIVE-15472.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12849009/HIVE-15472.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 18 failed/errored test(s), 10990 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[ctas] (batchId=231)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_into_dynamic_partitions] (batchId=231)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_into_table] (batchId=231)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_directory] (batchId=231)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_dynamic_partitions] (batchId=231)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_table] (batchId=231)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[write_final_output_blobstore] (batchId=231)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[offset_limit_ppd_optimizer] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[optimize_nullscan] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_varchar_simple] (batchId=152)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[bucket5] (batchId=162)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[list_bucket_dml_10] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[reduce_deduplicate] (batchId=162)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3134/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3134/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3134/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3134/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3134/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3134/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 18 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12849009 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15835763" author="taoli-hwx" created="Tue, 24 Jan 2017 06:55:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; I kicked off another test run and the result looks good (failures not related).&lt;/p&gt;</comment>
                            <comment id="15836434" author="taoli-hwx" created="Tue, 24 Jan 2017 18:34:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Test failures are unrelated and being tracked in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15058&quot; title=&quot;[Umbrella] Current Flaky Tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15058&quot;&gt;HIVE-15058&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15667&quot; title=&quot;TestBlobstoreCliDriver tests are failing due to output differences&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15667&quot;&gt;&lt;del&gt;HIVE-15667&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;
</comment>
                            <comment id="15836481" author="thejas" created="Tue, 24 Jan 2017 19:23:15 +0000"  >&lt;p&gt;Patch committed to master.&lt;br/&gt;
Thanks Tao!&lt;/p&gt;</comment>
                            <comment id="15840725" author="taoli-hwx" created="Fri, 27 Jan 2017 00:09:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Thanks! Do we want to commit this change to hive1 as well?&lt;/p&gt;</comment>
                            <comment id="15840762" author="thejas" created="Fri, 27 Jan 2017 00:47:50 +0000"  >&lt;p&gt;I think master is fine. Most development is happening there.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12846422" name="HIVE-15472.1.patch" size="867" author="taoli-hwx" created="Mon, 9 Jan 2017 21:43:46 +0000"/>
                            <attachment id="12849009" name="HIVE-15472.2.patch" size="1396" author="taoli-hwx" created="Mon, 23 Jan 2017 23:01:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Jan 2017 21:44:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37t5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15473] Progress Bar on Beeline client</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15473</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive Cli allows showing progress bar for tez execution engine as shown in &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12678767/ux-demo.gif&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12678767/ux-demo.gif&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;it would be great to have similar progress bar displayed when user is connecting via beeline command line client as well. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13029374">HIVE-15473</key>
            <summary>Progress Bar on Beeline client</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anishek">anishek</assignee>
                                    <reporter username="anishek">anishek</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 06:49:41 +0000</created>
                <updated>Wed, 30 Aug 2017 18:40:18 +0000</updated>
                            <resolved>Tue, 7 Feb 2017 20:13:53 +0000</resolved>
                                    <version>2.1.1</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>Beeline</component>
                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="15763492" author="gopalv" created="Tue, 20 Dec 2016 07:15:54 +0000"  >&lt;p&gt;Beeline client is JDBC driver agnostic - so this is somewhat of an odd feature, because beeline works with any JDBC driver &amp;amp; there&apos;s no detailed progress bar protocols.&lt;/p&gt;</comment>
                            <comment id="15766606" author="anishek" created="Wed, 21 Dec 2016 09:40:03 +0000"  >&lt;p&gt;The Operation logs update on the beeline client is done via non jdbc api&apos;s, The same could be used for the progress bar update as well.&lt;/p&gt;</comment>
                            <comment id="15766646" author="anishek" created="Wed, 21 Dec 2016 09:58:13 +0000"  >&lt;p&gt;Given:&lt;br/&gt;
Currently there is tez and spark execution engines which have the ability to show the progress bar. The Progress bar information is almost similar with few label differences in both the representations.&lt;/p&gt;

&lt;p&gt;There are two options of implementing this:&lt;br/&gt;
common changes for both approaches: Have a interface in hive-exec which returns this generic data-structure which is implemented by various execution engines currently tez/spark. Additional api on the ThriftCliService to get the data structure based on the execution engine.&lt;/p&gt;

&lt;p&gt;First:&lt;/p&gt;

&lt;p&gt;Have a generalized view printer on the beeline side which has a well defined format which can be derived from the existing representation @   &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12678767/ux-demo.gif&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12678767/ux-demo.gif&lt;/a&gt;  &lt;br/&gt;
Create a data-structure tied closely to the above view, to hold the relevant information such that the view printer above can use it to fill in the required details.&lt;/p&gt;


&lt;p&gt;Pros:&lt;br/&gt;
We dont need to know on the client side what execution engine the server was using the process the query as the representations are same for both.&lt;br/&gt;
Faster development time since currently we are going to assume the display Format on the beeline side and hence this will have ripple effect on the design of API&apos;s on server side as well.&lt;/p&gt;

&lt;p&gt;Cons:&lt;br/&gt;
We will be only able to represent the progress bar for any future execution engines in the  same format as for tez/Spark, which might / might not fit the needs of other engines?&lt;/p&gt;

&lt;p&gt;Second:&lt;br/&gt;
Have a basic map of key value pairs as the serialized data structure from server to beeline&lt;br/&gt;
Have specific view implementations based on the execution engine ( which will be sent in the above map )  on the beeline side. The server / beeline have to have a common understanding of what various keys mean in the map per execution engine.&lt;/p&gt;

&lt;p&gt;Pros:&lt;br/&gt;
Allows us a great deal of flexibility as to how the progress view has to be implemented on the beeline side for any execution engine.&lt;/p&gt;

&lt;p&gt;Cons:&lt;br/&gt;
Longer development time.&lt;br/&gt;
May be over engineering for this since we dont get support for a new Execution engine everyday.&lt;/p&gt;


&lt;p&gt;Any preferences / suggestions ?&lt;/p&gt;</comment>
                            <comment id="15770877" author="thejas" created="Thu, 22 Dec 2016 19:28:56 +0000"  >&lt;p&gt;The information we present right now (in ux-demo.gif link), is reasonably generic for progress notification. Different execution engines would have different terminology and that can be addressed by sending different labels/headers with progress information. &lt;br/&gt;
The first option is generic enough for use cases we know or anticipate and is also simpler. I think we should go for that.&lt;/p&gt;</comment>
                            <comment id="15797774" author="githubbot" created="Wed, 4 Jan 2017 09:32:20 +0000"  >&lt;p&gt;Github user anishek closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/127&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/pull/127&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15797939" author="githubbot" created="Wed, 4 Jan 2017 10:58:40 +0000"  >&lt;p&gt;GitHub user anishek opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/128&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/pull/128&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt; Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;    Have a common strategy to rendering the in place updates from both the hive cli and beeline. Various summary updates once the tez job is completed are no longer rendered with fancy colors. There is a possible condition where the logRunnable thread requests progress update from the server before the session state is updated with relevant object (TezJobMonitor in this case) to provide information. In this case no progress bar will be displayed.&lt;/p&gt;

&lt;p&gt;    Additionally since on local testing I was doing simple query, due to the wait interval time of 1 Second between calls the query finishes faster and the progress bar is just stuck in between and we get the results. hopefully for larger queries it would not be so off, else we have to do frequent calls to server to get the updates which will just overload it.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/anishek/hive&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/anishek/hive&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/128.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/pull/128.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #128&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7038c0ccc81273cd1b0872735908772d56d764eb&lt;br/&gt;
Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-01-04T10:03:05Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt; Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;commit a2ff2f9e52174f86227ebb539bfba0a08c830cb2&lt;br/&gt;
Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-01-04T10:15:55Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;    removing unnecessary dependency and making sure we show progress only if available&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15797952" author="anishek" created="Wed, 4 Jan 2017 11:04:10 +0000"  >&lt;p&gt;issue description as mentioned in pull request comment for #128&lt;/p&gt;</comment>
                            <comment id="15800692" author="hiveqa" created="Thu, 5 Jan 2017 08:04:42 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845510/screen_shot_beeline.jpg&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845510/screen_shot_beeline.jpg&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2796/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2796/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2796/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2796/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2796/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2796/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-05 08:04:41.147
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-2796/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-05 08:04:41.150
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at ad335c1 HIVE-15518: Refactoring rows and range related classes to put the window type on Window (Aihua Xu, reviewed by Yongzhi Chen)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at ad335c1 HIVE-15518: Refactoring rows and range related classes to put the window type on Window (Aihua Xu, reviewed by Yongzhi Chen)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-05 08:04:42.050
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
patch: **** Only garbage was found in the patch input.
patch: **** Only garbage was found in the patch input.
patch: **** Only garbage was found in the patch input.
fatal: unrecognized input
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845510 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15803514" author="thejas" created="Fri, 6 Jan 2017 04:24:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anagarwal&quot; class=&quot;user-hover&quot; rel=&quot;anagarwal&quot;&gt;aa&lt;/a&gt; There are many lines that have changed because of formatting changes. Can you remove the formatting changes that are not in lines you changed ? It makes it easier to review. I think  you might need to change some setting in your IDE to not format the entire file.&lt;/p&gt;

&lt;p&gt;It is also customary to attach the patch file to jira as well, so that UT can run on it.&lt;/p&gt;</comment>
                            <comment id="15803605" author="anishek" created="Fri, 6 Jan 2017 05:18:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; was in the process of reverting the commit changes, i think all of them are complete as of last checkin a few mins ago. i will add the patch file as well soon.&lt;/p&gt;
</comment>
                            <comment id="15803674" author="anishek" created="Fri, 6 Jan 2017 06:00:32 +0000"  >&lt;p&gt;patch file downloaded from &lt;a href=&quot;https://github.com/apache/hive/pull/128.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/pull/128.patch&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15803724" author="anishek" created="Fri, 6 Jan 2017 06:27:08 +0000"  >&lt;p&gt;latest patch  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;.patch.1&lt;/p&gt;</comment>
                            <comment id="15803747" author="hiveqa" created="Fri, 6 Jan 2017 06:36:20 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845950/HIVE-15473.patch.1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845950/HIVE-15473.patch.1.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2812/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2812/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2812/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2812/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2812/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2812/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 06:36:19.370
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-2812/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 06:36:19.373
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 4e3a620 HIVE-15542: NPE in StatsUtils::getColStatistics when all values in DATE column are NULL (Rajesh Balamohan, reviewed by Gopal V)
+ git clean -f -d
Removing metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveAlterHandler.java
Removing metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreUtils.java
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at 4e3a620 HIVE-15542: NPE in StatsUtils::getColStatistics when all values in DATE column are NULL (Rajesh Balamohan, reviewed by Gopal V)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 06:36:20.302
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/beeline/pom.xml: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/BeeLine.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/Commands.java: No such file or directory
error: a/common/pom.xml: No such file or directory
error: a/itests/hive-unit/src/test/java/org/apache/hive/service/cli/operation/TestOperationLoggingAPIWithTez.java: No such file or directory
error: a/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/InPlaceUpdates.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/SerializationUtilities.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezJobExecHelper.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezTask.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/service-rpc/if/TCLIService.thrift: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService.cpp: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService.h: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService_server.skeleton.cpp: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService_types.cpp: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService_types.h: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-php/TCLIService.php: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-php/Types.php: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-py/TCLIService/TCLIService-remote: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-py/TCLIService/TCLIService.py: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-py/TCLIService/ttypes.py: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-rb/t_c_l_i_service.rb: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/CLIService.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/EmbeddedCLIServiceClient.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/ICLIService.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/RetryingThriftCLIServiceClient.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/ThriftCLIService.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/ThriftCLIServiceClient.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/Commands.java: No such file or directory
error: a/ql/pom.xml: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/BeeLine.java: No such file or directory
error: a/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/SerializationUtilities.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezTask.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/CLIService.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/Commands.java: No such file or directory
error: a/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/RetryingThriftCLIServiceClient.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/BeeLine.java: No such file or directory
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845950 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15803749" author="hiveqa" created="Fri, 6 Jan 2017 06:37:01 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845950/HIVE-15473.patch.1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845950/HIVE-15473.patch.1.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2813/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2813/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2813/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2813/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2813/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2813/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 06:37:00.307
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-2813/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 06:37:00.309
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 4e3a620 HIVE-15542: NPE in StatsUtils::getColStatistics when all values in DATE column are NULL (Rajesh Balamohan, reviewed by Gopal V)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at 4e3a620 HIVE-15542: NPE in StatsUtils::getColStatistics when all values in DATE column are NULL (Rajesh Balamohan, reviewed by Gopal V)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 06:37:01.227
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/beeline/pom.xml: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/BeeLine.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/Commands.java: No such file or directory
error: a/common/pom.xml: No such file or directory
error: a/itests/hive-unit/src/test/java/org/apache/hive/service/cli/operation/TestOperationLoggingAPIWithTez.java: No such file or directory
error: a/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/InPlaceUpdates.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/SerializationUtilities.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezJobExecHelper.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezTask.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/service-rpc/if/TCLIService.thrift: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService.cpp: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService.h: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService_server.skeleton.cpp: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService_types.cpp: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService_types.h: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-php/TCLIService.php: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-php/Types.php: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-py/TCLIService/TCLIService-remote: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-py/TCLIService/TCLIService.py: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-py/TCLIService/ttypes.py: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-rb/t_c_l_i_service.rb: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/CLIService.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/EmbeddedCLIServiceClient.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/ICLIService.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/RetryingThriftCLIServiceClient.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/ThriftCLIService.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/ThriftCLIServiceClient.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/Commands.java: No such file or directory
error: a/ql/pom.xml: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/BeeLine.java: No such file or directory
error: a/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/SerializationUtilities.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezTask.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/CLIService.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/Commands.java: No such file or directory
error: a/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/RetryingThriftCLIServiceClient.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/BeeLine.java: No such file or directory
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845950 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15803752" author="hiveqa" created="Fri, 6 Jan 2017 06:37:44 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845950/HIVE-15473.patch.1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845950/HIVE-15473.patch.1.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2814/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2814/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2814/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2814/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2814/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2814/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 06:37:43.558
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-2814/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 06:37:43.560
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 4e3a620 HIVE-15542: NPE in StatsUtils::getColStatistics when all values in DATE column are NULL (Rajesh Balamohan, reviewed by Gopal V)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at 4e3a620 HIVE-15542: NPE in StatsUtils::getColStatistics when all values in DATE column are NULL (Rajesh Balamohan, reviewed by Gopal V)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 06:37:44.451
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/beeline/pom.xml: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/BeeLine.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/Commands.java: No such file or directory
error: a/common/pom.xml: No such file or directory
error: a/itests/hive-unit/src/test/java/org/apache/hive/service/cli/operation/TestOperationLoggingAPIWithTez.java: No such file or directory
error: a/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/InPlaceUpdates.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/SerializationUtilities.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezJobExecHelper.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezTask.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/service-rpc/if/TCLIService.thrift: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService.cpp: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService.h: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService_server.skeleton.cpp: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService_types.cpp: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-cpp/TCLIService_types.h: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TCLIService.java: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-php/TCLIService.php: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-php/Types.php: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-py/TCLIService/TCLIService-remote: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-py/TCLIService/TCLIService.py: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-py/TCLIService/ttypes.py: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-rb/t_c_l_i_service.rb: No such file or directory
error: a/service-rpc/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/CLIService.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/EmbeddedCLIServiceClient.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/ICLIService.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/RetryingThriftCLIServiceClient.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/ThriftCLIService.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/ThriftCLIServiceClient.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/Commands.java: No such file or directory
error: a/ql/pom.xml: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/BeeLine.java: No such file or directory
error: a/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/SerializationUtilities.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/spark/status/SparkJobMonitor.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezSessionState.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/exec/tez/TezTask.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/CLIService.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/Commands.java: No such file or directory
error: a/jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java: No such file or directory
error: a/service/src/java/org/apache/hive/service/cli/thrift/RetryingThriftCLIServiceClient.java: No such file or directory
error: a/beeline/src/java/org/apache/hive/beeline/BeeLine.java: No such file or directory
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845950 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15803785" author="anishek" created="Fri, 6 Jan 2017 06:56:51 +0000"  >&lt;p&gt;using the --no-prefix to send the correct patch, the patch url does not have the --no-prefix&lt;/p&gt;</comment>
                            <comment id="15803980" author="hiveqa" created="Fri, 6 Jan 2017 08:27:13 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845954/HIVE-15473.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845954/HIVE-15473.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 20 failed/errored test(s), 10919 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_testxpath] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_coalesce] (batchId=75)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_spark2] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucketmapjoin2] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[cbo_udf_udaf] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_cube1] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join13] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_vc] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ptf_decimal] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[sample3] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[smb_mapjoin_19] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[stats16] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union23] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union31] (batchId=95)
org.apache.hive.beeline.TestLogRunnable.shouldNotQueryLogWhenInPlaceUpdateAvailable (batchId=167)
org.apache.hive.beeline.TestLogRunnable.shouldNotTryToRenderWhenJobStatusIsNotAvailable (batchId=167)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2816/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2816/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2816/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2816/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2816/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2816/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 20 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845954 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15804050" author="githubbot" created="Fri, 6 Jan 2017 08:59:15 +0000"  >&lt;p&gt;Github user anishek closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/128&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/pull/128&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15804057" author="githubbot" created="Fri, 6 Jan 2017 09:03:29 +0000"  >&lt;p&gt;GitHub user anishek opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/129&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/pull/129&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;: Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;    Have a common strategy to rendering the in place updates from both the hive cli and beeline. Various summary updates once the tez job is completed are no longer rendered with fancy colors. There is a possible condition where the logRunnable thread requests progress update from the server before the session state is updated with relevant object (TezJobMonitor in this case) to provide information. In this case no progress bar will be displayed.&lt;/p&gt;

&lt;p&gt;    Additionally since on local testing I was doing simple query, due to the wait interval time of 1 Second between calls the query finishes faster and the progress bar is just stuck in between and we get the results. hopefully for larger queries it would not be so off, else we have to do frequent calls to server to get the updates which will just overload it.&lt;/p&gt;


&lt;p&gt;    Squashed commit of the following:&lt;/p&gt;

&lt;p&gt;    commit 189ed18663f0e3d69cd6ef2770c66f347f44c98f&lt;br/&gt;
    Author: Anishek Agarwal &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Fri Jan 6 11:49:14 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;        using the correct method call.&lt;/p&gt;

&lt;p&gt;    commit 22b843ab68c7d2e24ae7ead48e1e6b49850a39ab&lt;br/&gt;
    Author: Anishek Agarwal &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Fri Jan 6 10:42:31 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;        Reverting the formatting changes&lt;/p&gt;

&lt;p&gt;    commit 491ecdffd84945a4fbde50e70ae9d4538503bb16&lt;br/&gt;
    Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Thu Jan 5 14:45:59 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;        Second attempt to use the correct set of imports&lt;/p&gt;

&lt;p&gt;    commit 6539df6f0bf6dc11e6c686455b1377527096ce84&lt;br/&gt;
    Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Thu Jan 5 14:36:01 2017 +0530&lt;/p&gt;

&lt;p&gt;        Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&quot; &amp;#8211; reverting this as intellij git commit optimized imports again in correctly&lt;/p&gt;

&lt;p&gt;        This reverts commit 0a1b8eff71fccf8ed3bae7c5a8e9dd5eccb753b4.&lt;/p&gt;

&lt;p&gt;    commit 0a1b8eff71fccf8ed3bae7c5a8e9dd5eccb753b4&lt;br/&gt;
    Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Thu Jan 5 14:33:18 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;        reverting back to the old style of imports without &apos;*&apos;&lt;/p&gt;

&lt;p&gt;    commit a2ff2f9e52174f86227ebb539bfba0a08c830cb2&lt;br/&gt;
    Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Wed Jan 4 15:45:55 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;        removing unnecessary dependency and making sure we show progress only if available&lt;/p&gt;

&lt;p&gt;    commit 7038c0ccc81273cd1b0872735908772d56d764eb&lt;br/&gt;
    Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Wed Jan 4 15:33:05 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt; Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/anishek/hive&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/anishek/hive&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/129.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/pull/129.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #129&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 8e49707a8a49a4de096e623846a5d1ccefbd8d9a&lt;br/&gt;
Author: Anishek Agarwal &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-01-06T09:01:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;: Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;    Squashed commit of the following:&lt;/p&gt;

&lt;p&gt;    commit 189ed18663f0e3d69cd6ef2770c66f347f44c98f&lt;br/&gt;
    Author: Anishek Agarwal &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Fri Jan 6 11:49:14 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;        using the correct method call.&lt;/p&gt;

&lt;p&gt;    commit 22b843ab68c7d2e24ae7ead48e1e6b49850a39ab&lt;br/&gt;
    Author: Anishek Agarwal &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Fri Jan 6 10:42:31 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;        Reverting the formatting changes&lt;/p&gt;

&lt;p&gt;    commit 491ecdffd84945a4fbde50e70ae9d4538503bb16&lt;br/&gt;
    Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Thu Jan 5 14:45:59 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;        Second attempt to use the correct set of imports&lt;/p&gt;

&lt;p&gt;    commit 6539df6f0bf6dc11e6c686455b1377527096ce84&lt;br/&gt;
    Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Thu Jan 5 14:36:01 2017 +0530&lt;/p&gt;

&lt;p&gt;        Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&quot; &amp;#8211; reverting this as intellij git commit optimized imports again in correctly&lt;/p&gt;

&lt;p&gt;        This reverts commit 0a1b8eff71fccf8ed3bae7c5a8e9dd5eccb753b4.&lt;/p&gt;

&lt;p&gt;    commit 0a1b8eff71fccf8ed3bae7c5a8e9dd5eccb753b4&lt;br/&gt;
    Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Thu Jan 5 14:33:18 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;        reverting back to the old style of imports without &apos;*&apos;&lt;/p&gt;

&lt;p&gt;    commit a2ff2f9e52174f86227ebb539bfba0a08c830cb2&lt;br/&gt;
    Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Wed Jan 4 15:45:55 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt;  Progress Bar on Beeline client&lt;/p&gt;

&lt;p&gt;        removing unnecessary dependency and making sure we show progress only if available&lt;/p&gt;

&lt;p&gt;    commit 7038c0ccc81273cd1b0872735908772d56d764eb&lt;br/&gt;
    Author: anishek &amp;lt;anishek@gmail.com&amp;gt;&lt;br/&gt;
    Date:   Wed Jan 4 15:33:05 2017 +0530&lt;/p&gt;

&lt;p&gt;        &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15473&quot; title=&quot;Progress Bar on Beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15473&quot;&gt;&lt;del&gt;HIVE-15473&lt;/del&gt;&lt;/a&gt; Progress Bar on Beeline client&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15804277" author="anishek" created="Fri, 6 Jan 2017 10:51:19 +0000"  >&lt;p&gt;patch with more formatting reverts to original representation and fix for failing test &lt;/p&gt;</comment>
                            <comment id="15804361" author="anishek" created="Fri, 6 Jan 2017 11:40:44 +0000"  >&lt;p&gt;Ran couple of tests that were failing in &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2816/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2816/testReport&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Specifically :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join13] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_vc] (batchId=95)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;both of them passed on local machine. ran them as &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; mvn test -Dtest=TestSparkCliDriver -Dqfile=join_vc.q
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;from hive/itests/qtest-spark&lt;/p&gt;

&lt;p&gt;after  &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn clean install -DskipTests &amp;amp;&amp;amp; cd itests &amp;amp;&amp;amp; mvn clean install -DskipTests
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Any idea why they might be failing on jenkins ?&lt;/p&gt;</comment>
                            <comment id="15804420" author="hiveqa" created="Fri, 6 Jan 2017 12:14:35 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845989/HIVE-15473.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845989/HIVE-15473.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10920 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_testxpath] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_coalesce] (batchId=75)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hive.hcatalog.pig.TestHCatLoaderComplexSchema.testSyntheticComplexSchema[0] (batchId=172)
org.apache.hive.hcatalog.pig.TestTextFileHCatStorer.testWriteDate2 (batchId=172)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2818/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2818/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2818/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2818/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2818/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2818/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845989 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15817460" author="anishek" created="Wed, 11 Jan 2017 07:07:30 +0000"  >&lt;p&gt;latest patch with squashed commits&lt;/p&gt;</comment>
                            <comment id="15818212" author="hiveqa" created="Wed, 11 Jan 2017 12:44:33 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12846762/HIVE-15473.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12846762/HIVE-15473.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 3 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 10953 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_testxpath] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_coalesce] (batchId=75)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=148)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2882/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2882/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2882/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2882/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2882/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2882/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12846762 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15820134" author="thejas" created="Thu, 12 Jan 2017 04:23:55 +0000"  >&lt;p&gt;While reviewing this, one question I had was whether it makes sense to reuse GetOperationStatus thrift api for progress notification as well. I think it makes sense to follow the approach in this patch of creating a new thrift method for more detailed progress information, and keeping GetOperationStatus a lightweight call that can be used from jdbc/odbc to get notified about query completion.&lt;br/&gt;
(Making this statement so that I remember the reasoning in future!)&lt;/p&gt;</comment>
                            <comment id="15820437" author="anishek" created="Thu, 12 Jan 2017 08:09:32 +0000"  >&lt;p&gt;We cant use TOpeartionState as those state names are used to display the states in progress bar, we need to allow states as  &apos;java.lang.String&apos; as this will allow progress bar for any other execution engine to be displayed, The rendering of the progress bar does not care about the HiveServer State representations but rather for, the execution engine state representations. &lt;/p&gt;

&lt;p&gt;Since we also need to know on the client side when to stop querying for the progressBar the internal execution engine states have to be mapped to JobExecutionStatus. For now since progress bar is only for tez the matching happens via the &apos;fromString&apos; method in JobExecutionStatus. Ideally this class should do the relevant mapping. Idea about how this could be achieved is here :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; JobExecutionStatus {
  SUBMITTED((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 0),

  INITING((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 1),

  RUNNING((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 2),

  SUCCEEDED((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 3),

  KILLED((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 4),

  FAILED((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 5),

  ERROR((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 6),

  NOT_AVAILABLE((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 7);

  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; executionStatusOrdinal;

  JobExecutionStatus(&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; executionStatusOrdinal) {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.executionStatusOrdinal = executionStatusOrdinal;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; toExecutionStatus() {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; executionStatusOrdinal;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; JobExecutionStatus fromString(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; input, StatusFinder finder) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; finder.from(input);
  }

  &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; StatusFinder {
    JobExecutionStatus from(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; inputStatus);
  }

  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TezStatusFinder &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; StatusFinder {

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; JobExecutionStatus from(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; inputStatus) {
      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (JobExecutionStatus status : values()) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (status.name().equals(inputStatus))
          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; status;
      }
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; NOT_AVAILABLE;
    }
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;OR&lt;/p&gt;

&lt;p&gt;may be have two state variables in the response for GetProgressUpdate , one as String used for display, other a OperationState Object allow us to create control flow statements on the caller side.&lt;/p&gt;</comment>
                            <comment id="15824997" author="anishek" created="Tue, 17 Jan 2017 04:59:29 +0000"  >&lt;p&gt;New Patch with changes &lt;/p&gt;</comment>
                            <comment id="15842353" author="anishek" created="Fri, 27 Jan 2017 07:14:06 +0000"  >&lt;p&gt;There are few observations / limitations that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; had cited while reviewing this. Writing down the reasoning here and steps of how we can move forward.&lt;/p&gt;

&lt;p&gt;Given that we use SynchronizedHandler for the client on beeline side, only one operation / api at a time can be in execution from a single beeline session to hiveserver2. Current flow of how the progress bar is updated on the client side is &lt;/p&gt;

&lt;p&gt;Thread 1 &amp;#8211; does statement execution: This is achieved by calling GetOperationStatus for the operation from beeline till the execution of the operation is complete. The server side implementation of GetOperationStatus uses a timeout mechanism (which waits for the query execution to finish), before it sends the status to the client. The time value is decided by a step function, where for long running queries this can lead to a approx wait time of 5 seconds per call to GetOperationStatus .&lt;br/&gt;
Thread 2 &amp;#8211; prints query Logs and progress logs.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Problem Space:&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Since the client synchronizes the various api calls, This effectively means that only one api from either Thread 1 / Thread 2 is executed at at time and the notion of trying to project concurrent execution capability in code for beeline seems misleading and hence with the current patch the progress bar /  query log updates can be delayed by at least 5+ seconds ( &lt;em&gt;I dont think we can avoid this anyways, as i will discuss later&lt;/em&gt; ).&lt;/li&gt;
	&lt;li&gt;Additionally, since there is no &lt;b&gt;order&lt;/b&gt; of threads requesting synchronization on a object is maintained, there is a possibility that Thread 1 can get the next lock on the object without Thread 2 getting a chance to obtain the lock, thus leading to long delays in updating the Query Log or Progress log ( &lt;em&gt;I am not sure how this will happen for use case of long running queries as while Thread 1 is executing , Thread 2 would already have blocked on the synchronize of the object. Once Thread 1 completes and before it comes around the while loop in&lt;/em&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;HiveStatement.waitForOperationToComplete()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Thread 2 should start executing, it seems highly improbable that, thread 1 completes and executes additional statements and gets the lock again before Thread 2 gets a chance to acquire the lock&lt;/em&gt; )&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;So in summary:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Prevent multi threaded code in beeline for interactions with hiveserver2, as no concurrency is supported by the Thrift protocol, unless we move to ThriftHttpCliService using Http based connection, or use NonBlockingThrift server for binary protocol on the server side.&lt;/li&gt;
	&lt;li&gt;Address the issue of responsiveness if we can.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Solution Space:&lt;/b&gt;&lt;br/&gt;
Since concurrent execution is not supported programming anything, to that effect should be avoided in beeline client. Hence, we strive to remove the multi threaded code from beeline side, in effect, moving the query log and progress bar log to merge with the GetOperationStatus api. This would still not address the issue of responsiveness as indicated in 1. above as the GetOperationStatus will use the wait time before responding to calls from beeline side, unless we decide to remove this, or reduce the wait time to a default value of say 500 milliseconds, not sure why the step function is used &amp;#8211; &lt;em&gt;to prevent server from wasting CPU resources on non-critical operations ?&lt;/em&gt; . This will address 2. above though since we are going to get all the information in a single call. &lt;/p&gt;

&lt;p&gt;&lt;b&gt;Implementation Considerations:&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Merge QueryLog and ProgressBarLog request / response as part of GetOperationStatus.&lt;/li&gt;
	&lt;li&gt;To get this working we have to extend HiveStatement to include few non JDBC compliant setters ( one interface for displaying progress bar, other for displaying query logs) &amp;#8211; default implementations for these will be &lt;em&gt;do nothing&lt;/em&gt; implementations&lt;/li&gt;
	&lt;li&gt;Have setters on hive statement for both the interfaces, used by beeline to provide required implementations.&lt;/li&gt;
	&lt;li&gt;As part of hive statement execute&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; call, we create appropriate request if custom implementations of the interfaces are provided above.&lt;/li&gt;
	&lt;li&gt;There will be additional function signature for GetOperationStatus that we might need to create to allow for backward compatibility reasons.&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;Not related to above&lt;/em&gt; : make sure we pass the vertex progress as string (for progress bar display) and query progress as custom enum for decision making(and implementations on server side to map from execution engine based state to our generic enum state).&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;If we are too worried about the responsiveness of the progress bar, or &lt;b&gt;2. in Problem Space&lt;/b&gt; being a major impediment for hive usage, we should go with the new implementation proposal, else we just additionally implement &lt;b&gt;6. in Implementation Considerations&lt;/b&gt;&lt;/p&gt;
</comment>
                            <comment id="15843689" author="thejas" created="Sat, 28 Jan 2017 00:16:16 +0000"  >&lt;p&gt;This sounds good. Some minor comments - &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;not sure why the step function is used &#8211; to prevent server from wasting CPU resources on non-critical operations ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, too many RPC calls would mean wasted CPU resources (and also bit of network bandwitdh). For queries that complete in a few seconds, it makes sense to update progress more frequently. But if it is a very large query taking minutes, then update of log/progress every 5 seconds is reasonable. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Merge QueryLog and ProgressBarLog request / response as part of GetOperationStatus.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think this makes sense, however I think we can move the QueryLog functionality as a follow up task in another jira to keep the jira smaller and easier to review.&lt;br/&gt;
In first patch we could add the ProgressBarLog functionality as part of GeOperationStatus, instead of introducing a new function.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;There will be additional function signature for GetOperationStatus that we might need to create to allow for backward compatibility reasons.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If we add the new request and response objects as optional in the thrift api, we can keep it backward compatible without adding a new function.&lt;/p&gt;
</comment>
                            <comment id="15844806" author="anishek" created="Mon, 30 Jan 2017 04:00:29 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I think this makes sense, however I think we can move the QueryLog functionality as a follow up task in another jira to keep the jira smaller and easier to review.&lt;br/&gt;
In first patch we could add the ProgressBarLog functionality as part of GeOperationStatus, instead of introducing a new function.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Keeping the Query log as a separate thread and the progress bar in GetOperationStatus will be a bit of overhead since i have to pause the query log updates unless the progress bar is complete, with part of it happening in beeline and part of it happening in jdbc layer. It will be easier to do both of them together. &lt;/p&gt;
</comment>
                            <comment id="15848181" author="anishek" created="Wed, 1 Feb 2017 09:43:21 +0000"  >&lt;p&gt;Patch with changes only for the inplace porgress bar for beeline is available, no changes to existing query log retrieval is done, another jira to correct the same should be created.&lt;/p&gt;
</comment>
                            <comment id="15848267" author="hiveqa" created="Wed, 1 Feb 2017 11:39:52 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12850388/HIVE-15473.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12850388/HIVE-15473.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3302/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3302/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3302/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3302/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3302/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3302/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Exception.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Throwable.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/Serializable.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Enum.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Comparable.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-server/1.14/jersey-server-1.14.jar(com/sun/jersey/api/core/PackagesResourceConfig.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-servlet/1.14/jersey-servlet-1.14.jar(com/sun/jersey/spi/container/servlet/ServletContainer.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/FileInputStream.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/ql/target/hive-exec-2.2.0-SNAPSHOT.jar(org/apache/commons/lang3/StringUtils.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/ql/target/hive-exec-2.2.0-SNAPSHOT.jar(org/apache/commons/lang3/ArrayUtils.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/common/target/hive-common-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/common/classification/InterfaceStability.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-hdfs/2.7.2/hadoop-hdfs-2.7.2.jar(org/apache/hadoop/hdfs/web/AuthFilter.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/shims/common/target/hive-shims-common-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/shims/Utils.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/security/UserGroupInformation.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-auth/2.7.2/hadoop-auth-2.7.2.jar(org/apache/hadoop/security/authentication/client/PseudoAuthenticator.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-auth/2.7.2/hadoop-auth-2.7.2.jar(org/apache/hadoop/security/authentication/server/PseudoAuthenticationHandler.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/util/GenericOptionsParser.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/eclipse/jetty/aggregate/jetty-all-server/7.6.0.v20120127/jetty-all-server-7.6.0.v20120127.jar(org/eclipse/jetty/rewrite/handler/RedirectPatternRule.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/eclipse/jetty/aggregate/jetty-all-server/7.6.0.v20120127/jetty-all-server-7.6.0.v20120127.jar(org/eclipse/jetty/rewrite/handler/RewriteHandler.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/eclipse/jetty/aggregate/jetty-all-server/7.6.0.v20120127/jetty-all-server-7.6.0.v20120127.jar(org/eclipse/jetty/server/Handler.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/eclipse/jetty/aggregate/jetty-all-server/7.6.0.v20120127/jetty-all-server-7.6.0.v20120127.jar(org/eclipse/jetty/server/Server.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/eclipse/jetty/aggregate/jetty-all-server/7.6.0.v20120127/jetty-all-server-7.6.0.v20120127.jar(org/eclipse/jetty/server/handler/HandlerList.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/eclipse/jetty/aggregate/jetty-all-server/7.6.0.v20120127/jetty-all-server-7.6.0.v20120127.jar(org/eclipse/jetty/servlet/FilterHolder.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/eclipse/jetty/aggregate/jetty-all-server/7.6.0.v20120127/jetty-all-server-7.6.0.v20120127.jar(org/eclipse/jetty/servlet/FilterMapping.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/eclipse/jetty/aggregate/jetty-all-server/7.6.0.v20120127/jetty-all-server-7.6.0.v20120127.jar(org/eclipse/jetty/servlet/ServletContextHandler.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/eclipse/jetty/aggregate/jetty-all-server/7.6.0.v20120127/jetty-all-server-7.6.0.v20120127.jar(org/eclipse/jetty/servlet/ServletHolder.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/eclipse/jetty/aggregate/jetty-all-server/7.6.0.v20120127/jetty-all-server-7.6.0.v20120127.jar(org/eclipse/jetty/xml/XmlConfiguration.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/slf4j/jul-to-slf4j/1.7.10/jul-to-slf4j-1.7.10.jar(org/slf4j/bridge/SLF4JBridgeHandler.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/javax/servlet/servlet-api/2.5/servlet-api-2.5.jar(javax/servlet/http/HttpServletRequest.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/common/target/hive-common-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/common/classification/InterfaceAudience$LimitedPrivate.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/common/target/hive-common-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/common/classification/InterfaceStability$Unstable.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/ByteArrayOutputStream.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/OutputStream.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/Closeable.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/AutoCloseable.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/Flushable.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(javax/xml/bind/annotation/XmlRootElement.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/commons/commons-exec/1.1/commons-exec-1.1.jar(org/apache/commons/exec/ExecuteException.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/security/PrivilegedExceptionAction.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/shims/common/target/hive-shims-common-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/shims/HadoopShimsSecure.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/shims/common/target/hive-shims-common-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/shims/ShimLoader.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/shims/common/target/hive-shims-common-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/shims/HadoopShims.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/shims/common/target/hive-shims-common-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/shims/HadoopShims$WebHCatJTShim.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/util/ToolRunner.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/InterruptedException.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Boolean.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/ql/target/hive-exec-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/ql/ErrorMsg.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Integer.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapred/JobStatus.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/FileNotFoundException.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/net/URISyntaxException.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/net/URI.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/fs/FileSystem.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/metastore/target/hive-metastore-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/metastore/api/MetaException.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/io/Text.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/security/Credentials.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/security/token/Token.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/thrift/libthrift/0.9.3/libthrift-0.9.3.jar(org/apache/thrift/TException.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/net/InetAddress.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/net/UnknownHostException.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/text/MessageFormat.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/regex/Matcher.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/regex/Pattern.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/DELETE.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/FormParam.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/GET.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/POST.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/PUT.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/Path.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/PathParam.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/Produces.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/QueryParam.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/core/Context.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/core/SecurityContext.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/core/UriInfo.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapred/JobProfile.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Long.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/common/target/hive-common-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/common/JavaUtils.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/commons-lang/commons-lang/2.6/commons-lang-2.6.jar(org/apache/commons/lang/StringUtils.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/fs/FileStatus.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-server/1.14/jersey-server-1.14.jar(com/sun/jersey/api/wadl/config/WadlGeneratorConfig.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-server/1.14/jersey-server-1.14.jar(com/sun/jersey/api/wadl/config/WadlGeneratorDescription.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-server/1.14/jersey-server-1.14.jar(com/sun/jersey/server/wadl/generators/resourcedoc/WadlGeneratorResourceDocSupport.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/BufferedReader.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/InputStream.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/InputStreamReader.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/PrintWriter.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/Map$Entry.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/concurrent/Semaphore.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/commons/commons-exec/1.1/commons-exec-1.1.jar(org/apache/commons/exec/CommandLine.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/commons/commons-exec/1.1/commons-exec-1.1.jar(org/apache/commons/exec/DefaultExecutor.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/commons/commons-exec/1.1/commons-exec-1.1.jar(org/apache/commons/exec/ExecuteWatchdog.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/commons/commons-exec/1.1/commons-exec-1.1.jar(org/apache/commons/exec/PumpStreamHandler.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/util/Shell.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Thread.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Runnable.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/ext/ExceptionMapper.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/ext/Provider.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-server/1.14/jersey-server-1.14.jar(com/sun/jersey/api/NotFoundException.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapred/JobID.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/security/Groups.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/HashSet.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/Set.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/concurrent/ConcurrentHashMap.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/common/target/hive-common-2.2.0-SNAPSHOT.jar(org/apache/hive/common/util/HiveVersionInfo.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/common/target/hive-common-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/common/classification/InterfaceStability$Evolving.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/DataInput.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/DataOutput.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapreduce/InputSplit.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/curator/curator-framework/2.7.1/curator-framework-2.7.1.jar(org/apache/curator/framework/CuratorFramework.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/zookeeper/zookeeper/3.4.6/zookeeper-3.4.6.jar(org/apache/zookeeper/CreateMode.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/zookeeper/zookeeper/3.4.6/zookeeper-3.4.6.jar(org/apache/zookeeper/KeeperException.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/zookeeper/zookeeper/3.4.6/zookeeper-3.4.6.jar(org/apache/zookeeper/ZooDefs.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/zookeeper/zookeeper/3.4.6/zookeeper-3.4.6.jar(org/apache/zookeeper/ZooDefs$Ids.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/io/OutputStreamWriter.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/net/URLConnection.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapred/JobClient.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapred/JobConf.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapred/RunningJob.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/StringTokenizer.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Process.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/StringBuilder.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/io/NullWritable.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapreduce/InputFormat.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapreduce/JobContext.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapreduce/RecordReader.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapreduce/TaskAttemptContext.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/conf/Configured.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapreduce/Job.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapreduce/JobID.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapreduce/lib/output/NullOutputFormat.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapreduce/security/token/delegation/DelegationTokenIdentifier.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/util/Tool.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-common/2.7.2/hadoop-common-2.7.2.jar(org/apache/hadoop/conf/Configurable.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/ClassNotFoundException.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/curator/curator-framework/2.7.1/curator-framework-2.7.1.jar(org/apache/curator/framework/CuratorFrameworkFactory.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/curator/curator-client/2.7.1/curator-client-2.7.1.jar(org/apache/curator/retry/ExponentialBackoffRetry.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapreduce/Mapper.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/Iterator.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/LinkedList.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/concurrent/ExecutorService.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/concurrent/Executors.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/concurrent/TimeUnit.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-mapreduce-client-core/2.7.2/hadoop-mapreduce-client-core-2.7.2.jar(org/apache/hadoop/mapreduce/Mapper$Context.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/net/URLDecoder.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/Enumeration.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/util/Properties.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/core/UriBuilder.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/apache-github-source-source/common/target/hive-common-2.2.0-SNAPSHOT.jar(org/apache/hadoop/hive/common/LogUtils.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Class.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/annotation/Annotation.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-annotations/2.7.2/hadoop-annotations-2.7.2.jar(org/apache/hadoop/classification/InterfaceAudience.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/org/apache/hadoop/hadoop-annotations/2.7.2/hadoop-annotations-2.7.2.jar(org/apache/hadoop/classification/InterfaceAudience$LimitedPrivate.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/annotation/Retention.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/annotation/RetentionPolicy.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/annotation/Target.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/annotation/ElementType.class)]]
[loading ZipFileIndexFileObject[/data/hiveptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar(javax/ws/rs/HttpMethod.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/SuppressWarnings.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(java/lang/Override.class)]]
[loading ZipFileIndexFileObject[/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar(sun/misc/Contended.class)]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/HcatException$1.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/HcatDelegator$1.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/Server$1.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/SecureProxySupport$3.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/LauncherDelegator$1.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/SecureProxySupport$1.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/SecureProxySupport$2.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/tool/HDFSStorage$1.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/tool/TempletonUtils$1.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/tool/ZooKeeperStorage$1.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/tool/TempletonControllerJob$1.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/tool/TempletonControllerJob$1$1.class]]
[loading RegularFileObject[/data/hiveptest/working/apache-github-source-source/hcatalog/webhcat/svr/target/classes/org/apache/hive/hcatalog/templeton/tool/LogRetriever$1.class]]
[done in 7642 ms]
+ [[ -d itests ]]
+ cd itests
+ mvn -B clean install -DskipTests -T 4 -q -Dmaven.repo.local=/data/hiveptest/working/maven
[ERROR] COMPILATION ERROR : 
[ERROR] /data/hiveptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hive/service/cli/operation/TestOperationLoggingAPIWithMr.java:[100,24] method getOperationStatus in interface org.apache.hive.service.cli.ICLIService cannot be applied to given types;
  required: org.apache.hive.service.cli.OperationHandle,boolean
  found: org.apache.hive.service.cli.OperationHandle
  reason: actual and formal argument lists differ in length
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project hive-it-unit: Compilation failure
[ERROR] /data/hiveptest/working/apache-github-source-source/itests/hive-unit/src/test/java/org/apache/hive/service/cli/operation/TestOperationLoggingAPIWithMr.java:[100,24] method getOperationStatus in interface org.apache.hive.service.cli.ICLIService cannot be applied to given types;
[ERROR] required: org.apache.hive.service.cli.OperationHandle,boolean
[ERROR] found: org.apache.hive.service.cli.OperationHandle
[ERROR] reason: actual and formal argument lists differ in length
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-it-unit
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12850388 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15849713" author="hiveqa" created="Thu, 2 Feb 2017 09:30:17 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12850591/HIVE-15473.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12850591/HIVE-15473.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 7 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 11024 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
org.apache.hive.jdbc.TestJdbcDriver2.testSelectExecAsync2 (batchId=215)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3322/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3322/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3322/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3322/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3322/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3322/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12850591 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15851694" author="hiveqa" created="Fri, 3 Feb 2017 16:47:00 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12850787/HIVE-15473.9.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12850787/HIVE-15473.9.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 7 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 11028 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=140)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testWaitQueuePreemption (batchId=282)
org.apache.hive.hcatalog.pig.TestHCatLoaderComplexSchema.testTupleInBagInTupleInBag[1] (batchId=173)
org.apache.hive.hcatalog.pig.TestTextFileHCatStorer.testWriteDate (batchId=173)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3355/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3355/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3355/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3355/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3355/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3355/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12850787 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15855537" author="thejas" created="Tue, 7 Feb 2017 08:07:43 +0000"  >&lt;p&gt;+1 pending some minor comments in pull request&lt;/p&gt;</comment>
                            <comment id="15855560" author="anishek" created="Tue, 7 Feb 2017 08:29:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15835&quot; title=&quot;Make GetOperationStatus more responsive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15835&quot;&gt;HIVE-15835&lt;/a&gt; to make sure that GetOperationStatus is more responsive for certain type of queries.&lt;/p&gt;</comment>
                            <comment id="15855600" author="hiveqa" created="Tue, 7 Feb 2017 09:07:16 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12851311/HIVE-15473.10.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12851311/HIVE-15473.10.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 7 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10179 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=18)
	[encryption_move_tbl.q,cbo_rp_udf_percentile2.q,udf_lower.q,union_remove_11.q,transform_acid.q,constprog_dp.q,join45.q,subquery_multi.q,orc_merge1.q,groupby_multi_single_reducer2.q,offset_limit_global_optimizer.q,dbtxnmgr_query4.q,multi_column_in.q,create_func1.q,create_skewed_table1.q,authorization_view_1.q,show_tables.q,orc_empty_files.q,ba_table2.q,acid_vectorization_project.q,union_remove_19.q,vector_decimal_3.q,stats3.q,update_where_no_match.q,parquet_join.q,exim_24_import_nonexist_authsuccess.q,outer_join_ppr.q,quotedid_partition.q,ansi_sql_arithmetic.q,join26.q]
TestCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=19)
	[cp_mj_rc.q,order.q,udf_bitwise_shiftleft.q,groupby1_limit.q,insert_values_non_partitioned.q,skewjoinopt10.q,extrapolate_part_stats_date.q,udf_sin.q,vectorized_math_funcs.q,vectorization_2.q,join14.q,query_result_fileformat.q,udf3.q,cbo_union_view.q,drop_function.q,tez_union_decimal.q,exim_23_import_part_authsuccess.q,load_dyn_part10.q,nonmr_fetch.q,order_null.q,cbo_rp_views.q,lvj_mapjoin.q,insert_acid_dynamic_partition.q,skewjoinopt6.q,cbo_rp_cross_product_check_2.q,mapreduce7.q,update_two_cols.q,correlationoptimizer11.q,stats_empty_partition.q,authorization_2.q]
TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_array] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[multi_insert_move_tasks_share_dependencies] (batchId=118)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3411/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3411/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3411/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3411/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3411/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3411/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12851311 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15855647" author="anishek" created="Tue, 7 Feb 2017 09:41:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15058&quot; title=&quot;[Umbrella] Current Flaky Tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15058&quot;&gt;HIVE-15058&lt;/a&gt; already tracks 3 of the failures, three looks like are because they did not create a TEST-* file, &lt;/p&gt;

&lt;p&gt;join_array / multi_insert_move_tasks_share_dependencies fails &amp;#8211; looks like  because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15297&quot; title=&quot;Hive should not split semicolon within quoted string literals&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15297&quot;&gt;&lt;del&gt;HIVE-15297&lt;/del&gt;&lt;/a&gt; , bug ==&amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15837&quot; title=&quot;Failing Test: TestSparkCliDriver join_array.q / multi_insert_move_tasks_share_dependencies.q&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15837&quot;&gt;HIVE-15837&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="15855880" author="hiveqa" created="Tue, 7 Feb 2017 12:25:21 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12851330/HIVE-15473.11.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12851330/HIVE-15473.11.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 7 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10239 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3415/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3415/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3415/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3415/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3415/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3415/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12851330 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15856706" author="thejas" created="Tue, 7 Feb 2017 20:13:53 +0000"  >&lt;p&gt;Patch committed to master.&lt;br/&gt;
Thanks for the contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anishek&quot; class=&quot;user-hover&quot; rel=&quot;anishek&quot;&gt;anishek&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="15856879" author="prasanth_j" created="Tue, 7 Feb 2017 21:56:27 +0000"  >&lt;p&gt;Why is the refresh interval (refreshes every 3 seconds?) for CLI changed? Can it be done only for beeline? nit: also one of lower separator seems to be missing. &lt;/p&gt;</comment>
                            <comment id="15857073" author="prasanth_j" created="Wed, 8 Feb 2017 00:04:31 +0000"  >&lt;p&gt;Attaching files with differences before and after this patch.&lt;/p&gt;</comment>
                            <comment id="15857076" author="prasanth_j" created="Wed, 8 Feb 2017 00:05:36 +0000"  >&lt;p&gt;The refresh rate is slow. Following video will show it&lt;br/&gt;
before patch: &lt;a href=&quot;https://asciinema.org/a/2fgcncxg5gjavcpxt6lfb8jg9&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://asciinema.org/a/2fgcncxg5gjavcpxt6lfb8jg9&lt;/a&gt;&lt;br/&gt;
after patch: &lt;a href=&quot;https://asciinema.org/a/2tht5jf6l9b2dc3ylt5gtztqg&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://asciinema.org/a/2tht5jf6l9b2dc3ylt5gtztqg&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15857132" author="thejas" created="Wed, 8 Feb 2017 00:47:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anishek&quot; class=&quot;user-hover&quot; rel=&quot;anishek&quot;&gt;anishek&lt;/a&gt; Can you please create a follow up jira to address these concerns ?&lt;/p&gt;</comment>
                            <comment id="15857413" author="anishek" created="Wed, 8 Feb 2017 05:07:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt; the summary sections are no longer printed via the jline rendered to retain the color scheme, the reason being the report goes to log file for beeline and for hive cli its shown on the stdout, hence had to remove the color scheme for same  report . I hope that should be ok ? &lt;/p&gt;

&lt;p&gt;I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15847&quot; title=&quot;In Progress update refreshes seem slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15847&quot;&gt;&lt;del&gt;HIVE-15847&lt;/del&gt;&lt;/a&gt; for the slow refresh rates on hive cli, will look into it. There is no inherent change that was done to the way progress bar is printed for hive-cli.Thanks for your inputs!&lt;/p&gt;</comment>
                            <comment id="15857430" author="prasanth_j" created="Wed, 8 Feb 2017 05:23:39 +0000"  >&lt;p&gt;Yeah. That should not be a problem. More concerned about task summary exceeding the column width.&lt;/p&gt;</comment>
                            <comment id="15857441" author="anishek" created="Wed, 8 Feb 2017 05:40:54 +0000"  >&lt;p&gt;There seems to 3 additional columns that are printed now, may be that is a problem will add the same to be checked as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15847&quot; title=&quot;In Progress update refreshes seem slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15847&quot;&gt;&lt;del&gt;HIVE-15847&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15857655" author="lefty@hortonworks.com" created="Wed, 8 Feb 2017 08:33:47 +0000"  >&lt;p&gt;Should the progress bar be documented in the wiki?&lt;/p&gt;</comment>
                            <comment id="15859085" author="prasanth_j" created="Thu, 9 Feb 2017 06:14:51 +0000"  >&lt;p&gt;Another observation is that cli used to print application and query id in the console like below&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Query ID = pjayachandran_20170208172839_9fa7b1c5-5d96-4cc2-9fa2-2f3eda1987e0
Total jobs = 1
Launching Job 1 out of 1
Status: Running (Executing on YARN cluster with App id application_1486523081849_0010)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will be really useful for debugging. It will be good if we can get these information via an API. There is also session id which can be useful. &lt;/p&gt;</comment>
                            <comment id="15864842" author="thejas" created="Tue, 14 Feb 2017 01:30:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anishek&quot; class=&quot;user-hover&quot; rel=&quot;anishek&quot;&gt;anishek&lt;/a&gt;&lt;br/&gt;
It seems like the thrift file wasn&apos;t regenerated after the version change -&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;34134[hive17:07]$  git grep HIVE_CLI_SERVICE_PROTOCOL_V10
service-rpc/&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;/TCLIService.thrift:  HIVE_CLI_SERVICE_PROTOCOL_V10
service-rpc/&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;/TCLIService.thrift:  1: required TProtocolVersion client_protocol = TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V10
service-rpc/&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;/TCLIService.thrift:  2: required TProtocolVersion serverProtocolVersion = TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V10
134134[hive17:27]$
134134[hive17:27]$
134134[hive17:27]$  git grep HIVE_CLI_SERVICE_PROTOCOL_V9
jdbc/src/java/org/apache/hive/jdbc/HiveConnection.java:    supportedProtocols.add(TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9);
service-rpc/&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;/TCLIService.thrift:  HIVE_CLI_SERVICE_PROTOCOL_V9
service-rpc/src/gen/thrift/gen-cpp/TCLIService_types.cpp:  TProtocolVersion::HIVE_CLI_SERVICE_PROTOCOL_V9
service-rpc/src/gen/thrift/gen-cpp/TCLIService_types.cpp:  &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V9&quot;&lt;/span&gt;
service-rpc/src/gen/thrift/gen-cpp/TCLIService_types.h:    HIVE_CLI_SERVICE_PROTOCOL_V9 = 8
service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TOpenSessionReq.java:    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.client_protocol = org.apache.hive.service.rpc.thrift.TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9;
service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TOpenSessionReq.java:    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.client_protocol = org.apache.hive.service.rpc.thrift.TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9;
service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TOpenSessionResp.java:    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.serverProtocolVersion = org.apache.hive.service.rpc.thrift.TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9;
service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TOpenSessionResp.java:    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.serverProtocolVersion = org.apache.hive.service.rpc.thrift.TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9;
service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TProtocolVersion.java:  HIVE_CLI_SERVICE_PROTOCOL_V9(8);
service-rpc/src/gen/thrift/gen-javabean/org/apache/hive/service/rpc/thrift/TProtocolVersion.java:        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; HIVE_CLI_SERVICE_PROTOCOL_V9;
service-rpc/src/gen/thrift/gen-php/Types.php:  &lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; HIVE_CLI_SERVICE_PROTOCOL_V9 = 8;
service-rpc/src/gen/thrift/gen-php/Types.php:    8 =&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;HIVE_CLI_SERVICE_PROTOCOL_V9&apos;&lt;/span&gt;,
service-rpc/src/gen/thrift/gen-py/TCLIService/ttypes.py:  HIVE_CLI_SERVICE_PROTOCOL_V9 = 8
service-rpc/src/gen/thrift/gen-py/TCLIService/ttypes.py:    8: &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V9&quot;&lt;/span&gt;,
service-rpc/src/gen/thrift/gen-py/TCLIService/ttypes.py:    &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V9&quot;&lt;/span&gt;: 8,
service-rpc/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb:  HIVE_CLI_SERVICE_PROTOCOL_V9 = 8
service-rpc/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb:  VALUE_MAP = {0 =&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V1&quot;&lt;/span&gt;, 1 =&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V2&quot;&lt;/span&gt;, 2 =&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V3&quot;&lt;/span&gt;, 3 =&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V4&quot;&lt;/span&gt;, 4 =&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V5&quot;&lt;/span&gt;, 5 =&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V6&quot;&lt;/span&gt;, 6 =&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V7&quot;&lt;/span&gt;, 7 =&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V8&quot;&lt;/span&gt;, 8 =&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HIVE_CLI_SERVICE_PROTOCOL_V9&quot;&lt;/span&gt;}
service-rpc/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb:  VALID_VALUES = Set.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;([HIVE_CLI_SERVICE_PROTOCOL_V1, HIVE_CLI_SERVICE_PROTOCOL_V2, HIVE_CLI_SERVICE_PROTOCOL_V3, HIVE_CLI_SERVICE_PROTOCOL_V4, HIVE_CLI_SERVICE_PROTOCOL_V5, HIVE_CLI_SERVICE_PROTOCOL_V6, HIVE_CLI_SERVICE_PROTOCOL_V7, HIVE_CLI_SERVICE_PROTOCOL_V8, HIVE_CLI_SERVICE_PROTOCOL_V9]).freeze
service/src/test/org/apache/hive/service/cli/session/TestSessionManagerMetrics.java:        sm.openSession(TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9, &lt;span class=&quot;code-quote&quot;&gt;&quot;user&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;passw&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;,
service/src/test/org/apache/hive/service/cli/session/TestSessionManagerMetrics.java:    sm.openSession(TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9, &lt;span class=&quot;code-quote&quot;&gt;&quot;user&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;passw&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;,
service/src/test/org/apache/hive/service/cli/session/TestSessionManagerMetrics.java:        sm.openSession(TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9, &lt;span class=&quot;code-quote&quot;&gt;&quot;user&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;passw&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;,
service/src/test/org/apache/hive/service/cli/session/TestSessionManagerMetrics.java:    sm.openSession(TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9, &lt;span class=&quot;code-quote&quot;&gt;&quot;user&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;passw&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;,
service/src/test/org/apache/hive/service/cli/session/TestSessionManagerMetrics.java:        sm.openSession(TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9, &lt;span class=&quot;code-quote&quot;&gt;&quot;user&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;passw&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;,
service/src/test/org/apache/hive/service/cli/session/TestSessionManagerMetrics.java:        sm.openSession(TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9, &lt;span class=&quot;code-quote&quot;&gt;&quot;user&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;passw&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;,
service/src/test/org/apache/hive/service/cli/session/TestSessionManagerMetrics.java:    sm.openSession(TProtocolVersion.HIVE_CLI_SERVICE_PROTOCOL_V9, &lt;span class=&quot;code-quote&quot;&gt;&quot;user&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;passw&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;,

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15901077" author="lefty@hortonworks.com" created="Wed, 8 Mar 2017 10:51:54 +0000"  >&lt;p&gt;Doc note:  This adds &lt;b&gt;hive.server2.in.place.progress&lt;/b&gt; to HiveConf.java and revises the description of &lt;b&gt;hive.tez.exec.inplace.progress&lt;/b&gt;.  Thanks go to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anishek&quot; class=&quot;user-hover&quot; rel=&quot;anishek&quot;&gt;anishek&lt;/a&gt; for documenting the configs in the wiki.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.server2.in.place.progress&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.server2.in.place.progress &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.tez.exec.inplace.progress&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.tez.exec.inplace.progress &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Should the progress bar also be documented in the Beeline section of HiveServer2 Clients?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-Beeline&#8211;CommandLineShell&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HiveServer2 Clients &amp;#8211; Beeline &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16147785" author="githubbot" created="Wed, 30 Aug 2017 18:40:18 +0000"  >&lt;p&gt;Github user anishek closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/129&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/pull/129&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13042814">HIVE-15906</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13042708">HIVE-15900</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12851311" name="HIVE-15473.10.patch" size="269872" author="anishek" created="Tue, 7 Feb 2017 05:20:48 +0000"/>
                            <attachment id="12851330" name="HIVE-15473.11.patch" size="269724" author="anishek" created="Tue, 7 Feb 2017 08:20:23 +0000"/>
                            <attachment id="12845954" name="HIVE-15473.2.patch" size="338073" author="anishek" created="Fri, 6 Jan 2017 06:56:51 +0000"/>
                            <attachment id="12845989" name="HIVE-15473.3.patch" size="317060" author="anishek" created="Fri, 6 Jan 2017 10:51:19 +0000"/>
                            <attachment id="12846762" name="HIVE-15473.4.patch" size="311707" author="anishek" created="Wed, 11 Jan 2017 07:07:30 +0000"/>
                            <attachment id="12847731" name="HIVE-15473.5.patch" size="312230" author="anishek" created="Tue, 17 Jan 2017 04:59:29 +0000"/>
                            <attachment id="12850388" name="HIVE-15473.6.patch" size="267488" author="anishek" created="Wed, 1 Feb 2017 09:24:53 +0000"/>
                            <attachment id="12850591" name="HIVE-15473.7.patch" size="268319" author="anishek" created="Thu, 2 Feb 2017 06:42:53 +0000"/>
                            <attachment id="12850785" name="HIVE-15473.8.patch" size="269683" author="anishek" created="Fri, 3 Feb 2017 07:52:46 +0000"/>
                            <attachment id="12850787" name="HIVE-15473.9.patch" size="269908" author="anishek" created="Fri, 3 Feb 2017 07:57:23 +0000"/>
                            <attachment id="12851505" name="io_summary_after_patch.png" size="103602" author="prasanth_j" created="Wed, 8 Feb 2017 00:04:31 +0000"/>
                            <attachment id="12851506" name="io_summary_before_patch.png" size="93446" author="prasanth_j" created="Wed, 8 Feb 2017 00:04:31 +0000"/>
                            <attachment id="12845510" name="screen_shot_beeline.jpg" size="25429" author="anishek" created="Wed, 4 Jan 2017 11:04:10 +0000"/>
                            <attachment id="12851507" name="status_after_patch.png" size="135089" author="prasanth_j" created="Wed, 8 Feb 2017 00:04:31 +0000"/>
                            <attachment id="12851508" name="status_before_patch.png" size="147445" author="prasanth_j" created="Wed, 8 Feb 2017 00:04:31 +0000"/>
                            <attachment id="12851509" name="summary_after_patch.png" size="107540" author="prasanth_j" created="Wed, 8 Feb 2017 00:04:31 +0000"/>
                            <attachment id="12851510" name="summary_before_patch.png" size="100297" author="prasanth_j" created="Wed, 8 Feb 2017 00:04:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Dec 2016 07:15:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37t7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15474] Extend limit propagation for chain of RS-GB-RS operators</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15474</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The goal is to extend the work started in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14002&quot; title=&quot;Extend limit propagation to subsequent RS operators&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14002&quot;&gt;&lt;del&gt;HIVE-14002&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For instance, given the following query:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;explain&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; + 1) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; agg1 &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; src 
&lt;span class=&quot;code-keyword&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, agg1 &lt;span class=&quot;code-keyword&quot;&gt;limit&lt;/span&gt; 20;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We generate the following physical plan:&lt;br/&gt;
&lt;tt&gt;TS1 - GBY2 - RS3 - GBY4 - RS5 - SEL6 - LIM7 - FS8&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;We can push the limit to RS3 operator, as we will generate records for the &lt;em&gt;top N&lt;/em&gt; keys, and thus, GBY4 will produce the &lt;em&gt;top N&lt;/em&gt; results. However, currently we do not do it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029423">HIVE-15474</key>
            <summary>Extend limit propagation for chain of RS-GB-RS operators</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcamachorodriguez">Jesus Camacho Rodriguez</assignee>
                                    <reporter username="jcamachorodriguez">Jesus Camacho Rodriguez</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 11:57:58 +0000</created>
                <updated>Wed, 26 Jul 2017 00:03:11 +0000</updated>
                            <resolved>Fri, 6 Jan 2017 09:31:44 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>Physical Optimizer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="15764250" author="hiveqa" created="Tue, 20 Dec 2016 13:49:27 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844057/HIVE-15474.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844057/HIVE-15474.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 11 failed/errored test(s), 10822 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestVectorizedColumnReaderBase - did not produce a TEST-*.xml file (likely timed out) (batchId=251)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample2] (batchId=5)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample4] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample6] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample7] (batchId=60)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample9] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_sort_array] (batchId=59)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2653/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2653/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2653/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2653/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2653/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2653/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 11 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844057 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15764272" author="jcamachorodriguez" created="Tue, 20 Dec 2016 13:56:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, could you take a look? Thanks&lt;/p&gt;</comment>
                            <comment id="15764826" author="xuefuz" created="Tue, 20 Dec 2016 18:02:26 +0000"  >&lt;p&gt;Didn&apos;t read the patch, but I&apos;m trying to understand if it&apos;s valid to push limit to group by. People frequently use order by and limit get rank functionality.&lt;/p&gt;</comment>
                            <comment id="15764900" author="jcamachorodriguez" created="Tue, 20 Dec 2016 18:35:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, thanks for leaving the comment, it would be great if you could take a look at the patch too.&lt;/p&gt;

&lt;p&gt;Propagating limit &lt;em&gt;N&lt;/em&gt; to GBy is valid iff GBy columns are a prefix of the OBy columns. This is due to the fact that GBy will not produce duplicates for those columns, while Hive implementation based on RS ensures that GBy output actually follows a certain order. Thus, we know that the GBy will output the top &lt;em&gt;N&lt;/em&gt; records.&lt;/p&gt;

&lt;p&gt;I took a conservative approach as we need to be sure that we remain correct; it might be that the condition could be relaxed even further for some corner cases. However, we should not do it without double checking the theoretical background.&lt;/p&gt;</comment>
                            <comment id="15765068" author="xuefuz" created="Tue, 20 Dec 2016 19:43:18 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt;, thanks for the explanation. &lt;/p&gt;

&lt;p&gt;Re: GBy will not produce duplicates for those columns, while Hive implementation based on RS ensures that GBy output actually follows a certain order.&lt;/p&gt;

&lt;p&gt;This assumption isn&apos;t always true, actually. While MR-styled shuffle has that property (maybe Tez too), but it&apos;s not true for Hive on Spark where groups are not necessarily ordered.&lt;/p&gt;

&lt;p&gt;Nevertheless, I&apos;m still not 100% if there is any impact. In fact, looking at test cases in the patch, I&apos;m sure of the plan difference. Thus, it would be very helpful if you can provide explain output for the example query for both w and w/o the optimization.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="15765176" author="jcamachorodriguez" created="Tue, 20 Dec 2016 20:32:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, thanks for the feedback. It is indeed true for MR and Tez. I am not so familiar with Spark as the backend. If it does not return ordered groups, are you sure the sequence of operators is still RS-GB-RS? That would mean that other optimizations, such as ReduceSinkDeDuplication, do not work properly (&amp;#63;). In turn, I would argue that RS is a physical operator that has certain semantics that should be respected, no matter the backend. However, if the sequence of operators is still that one, I can just disable the optimization for Hive on Spark.&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;/p&gt;

&lt;p&gt;Given this query:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;explain&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; + 1) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; agg1 &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; src 
&lt;span class=&quot;code-keyword&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, agg1 &lt;span class=&quot;code-keyword&quot;&gt;limit&lt;/span&gt; 20;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Explain plan without patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-2 depends on stages: Stage-1
  Stage-0 depends on stages: Stage-2

STAGE PLANS:
  Stage: Stage-1
    Map Reduce
      Map Operator Tree:
          TableScan
            alias: src
            Statistics: Num rows: 500 Data size: 5312 Basic stats: COMPLETE Column stats: NONE
            Select Operator
              expressions: key (type: string), value (type: string), (UDFToDouble(key) + 1.0) (type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;)
              outputColumnNames: _col0, _col1, _col2
              Statistics: Num rows: 500 Data size: 5312 Basic stats: COMPLETE Column stats: NONE
              Group By Operator
                aggregations: count(_col2)
                keys: _col0 (type: string), _col1 (type: string)
                mode: hash
                outputColumnNames: _col0, _col1, _col2
                Statistics: Num rows: 500 Data size: 5312 Basic stats: COMPLETE Column stats: NONE
                Reduce Output Operator
                  key expressions: _col0 (type: string), _col1 (type: string)
                  sort order: ++
                  Map-reduce partition columns: _col0 (type: string), _col1 (type: string)
                  Statistics: Num rows: 500 Data size: 5312 Basic stats: COMPLETE Column stats: NONE
                  value expressions: _col2 (type: bigint)
      Reduce Operator Tree:
        Group By Operator
          aggregations: count(VALUE._col0)
          keys: KEY._col0 (type: string), KEY._col1 (type: string)
          mode: mergepartial
          outputColumnNames: _col0, _col1, _col2
          Statistics: Num rows: 250 Data size: 2656 Basic stats: COMPLETE Column stats: NONE
          File Output Operator
            compressed: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
            table:
                input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                output format: org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat
                serde: org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe

  Stage: Stage-2
    Map Reduce
      Map Operator Tree:
          TableScan
            Reduce Output Operator
              key expressions: _col0 (type: string), _col1 (type: string), _col2 (type: bigint)
              sort order: +++
              Statistics: Num rows: 250 Data size: 2656 Basic stats: COMPLETE Column stats: NONE
              TopN Hash Memory Usage: 0.3
      Reduce Operator Tree:
        Select Operator
          expressions: KEY.reducesinkkey0 (type: string), KEY.reducesinkkey1 (type: string), KEY.reducesinkkey2 (type: bigint)
          outputColumnNames: _col0, _col1, _col2
          Statistics: Num rows: 250 Data size: 2656 Basic stats: COMPLETE Column stats: NONE
          Limit
            &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of rows: 20
            Statistics: Num rows: 20 Data size: 200 Basic stats: COMPLETE Column stats: NONE
            File Output Operator
              compressed: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
              Statistics: Num rows: 20 Data size: 200 Basic stats: COMPLETE Column stats: NONE
              table:
                  input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                  output format: org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat
                  serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe

  Stage: Stage-0
    Fetch Operator
      limit: 20
      Processor Tree:
        ListSink
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Explain plan with patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-2 depends on stages: Stage-1
  Stage-0 depends on stages: Stage-2

STAGE PLANS:
  Stage: Stage-1
    Map Reduce
      Map Operator Tree:
          TableScan
            alias: src
            Statistics: Num rows: 500 Data size: 5312 Basic stats: COMPLETE Column stats: NONE
            Select Operator
              expressions: key (type: string), value (type: string), (UDFToDouble(key) + 1.0) (type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;)
              outputColumnNames: _col0, _col1, _col2
              Statistics: Num rows: 500 Data size: 5312 Basic stats: COMPLETE Column stats: NONE
              Group By Operator
                aggregations: count(_col2)
                keys: _col0 (type: string), _col1 (type: string)
                mode: hash
                outputColumnNames: _col0, _col1, _col2
                Statistics: Num rows: 500 Data size: 5312 Basic stats: COMPLETE Column stats: NONE
                Reduce Output Operator
                  key expressions: _col0 (type: string), _col1 (type: string)
                  sort order: ++
                  Map-reduce partition columns: _col0 (type: string), _col1 (type: string)
                  Statistics: Num rows: 500 Data size: 5312 Basic stats: COMPLETE Column stats: NONE
                  TopN Hash Memory Usage: 0.3
                  value expressions: _col2 (type: bigint)
      Reduce Operator Tree:
        Group By Operator
          aggregations: count(VALUE._col0)
          keys: KEY._col0 (type: string), KEY._col1 (type: string)
          mode: mergepartial
          outputColumnNames: _col0, _col1, _col2
          Statistics: Num rows: 250 Data size: 2656 Basic stats: COMPLETE Column stats: NONE
          File Output Operator
            compressed: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
            table:
                input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                output format: org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat
                serde: org.apache.hadoop.hive.serde2.lazybinary.LazyBinarySerDe

  Stage: Stage-2
    Map Reduce
      Map Operator Tree:
          TableScan
            Reduce Output Operator
              key expressions: _col0 (type: string), _col1 (type: string), _col2 (type: bigint)
              sort order: +++
              Statistics: Num rows: 250 Data size: 2656 Basic stats: COMPLETE Column stats: NONE
              TopN Hash Memory Usage: 0.3
      Reduce Operator Tree:
        Select Operator
          expressions: KEY.reducesinkkey0 (type: string), KEY.reducesinkkey1 (type: string), KEY.reducesinkkey2 (type: bigint)
          outputColumnNames: _col0, _col1, _col2
          Statistics: Num rows: 250 Data size: 2656 Basic stats: COMPLETE Column stats: NONE
          Limit
            &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of rows: 20
            Statistics: Num rows: 20 Data size: 200 Basic stats: COMPLETE Column stats: NONE
            File Output Operator
              compressed: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
              Statistics: Num rows: 20 Data size: 200 Basic stats: COMPLETE Column stats: NONE
              table:
                  input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                  output format: org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat
                  serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe

  Stage: Stage-0
    Fetch Operator
      limit: 20
      Processor Tree:
        ListSink
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Observe the only difference is the TopN annotation in the first stage, which prevents shuffling all the data.&lt;/p&gt;</comment>
                            <comment id="15765925" author="xuefuz" created="Wed, 21 Dec 2016 02:47:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;, could you also take a look at the proposal and comment here?&lt;/p&gt;</comment>
                            <comment id="15766929" author="lirui" created="Wed, 21 Dec 2016 12:24:50 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt;, I think it&apos;s an interesting optimization and please help me understand it better. For groupBy + orderBy query, we&apos;ll roughly have the following operator chain (assuming map side aggregation is on - GBY1 and RS2):&lt;br/&gt;
&lt;tt&gt;GBY1 &amp;#8211; RS2 &amp;#8211; GBY3 &amp;#8211; FS4 &amp;#8211; TS5 &amp;#8211; RS6 &amp;#8211; SEL7 &amp;#8211; FS8&lt;/tt&gt;&lt;br/&gt;
Is the proposal to push the limit into GBY3, so that we&apos;ll have less data for the sorting stage? If so, I think that requires the output of GBY3 already being sorted, right? For MR (and probably Tez too) the shuffled data is sorted by key within each partition, which means the input to GBY3 is sorted. So you&apos;re implying that given a sorted input, GBY operator will maintain that order in output?&lt;br/&gt;
If my understanding is correct so far, this will have some problem with Hive on Spark. Because for Spark, the groupBy shuffling doesn&apos;t guarantee an order - the input to GBY3 may not be sorted. This makes sense in that groupBy semantic doesn&apos;t require a specific ordering. But maybe we can make some change to adapt to this optimization. Actually I&apos;m also wondering: if we use parallel order by (to use a range partitioner rather than a hash partitioner in RS2), we can do the groupBy and orderBy in a single stage, which may improve performance in some cases.&lt;/p&gt;</comment>
                            <comment id="15782893" author="jcamachorodriguez" created="Wed, 28 Dec 2016 13:36:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;, sorry for taking some time replying, I was away for a few days.&lt;/p&gt;

&lt;p&gt;I have updated the description of this issue to try to explain better what I am trying to do. I think initial description was too brief and vague.&lt;/p&gt;

&lt;p&gt;Given the physical plan you provide, we will propagate the limit from RS4 into RS2 (observe the explain plan above). RS2 produces the &lt;em&gt;top N&lt;/em&gt; keys for each partition; thus, GBY3 operator produces only results for those keys. Observe in the patch that there is no change for the GBY operator.&lt;/p&gt;

&lt;p&gt;Concerning Spark. My current understanding is that the chain of operators is the same. But I was thinking further about it, and this optimization should not pose any problem in that context, since GBY logic has not changed. If Spark chooses to ignore RS2 since it is not sorting the input for GBY3, that should be fine: the limit is in the RS2 operator, not in GBY3. Spark will not benefit from the optimization, but it still remains correct.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Actually I&apos;m also wondering: if we use parallel order by (to use a range partitioner rather than a hash partitioner in RS2), we can do the groupBy and orderBy in a single stage, which may improve performance in some cases.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It might be beneficial in some cases indeed. However, it is a complex cost-based decision which would need multiple extensions, as I can think on multiple factors that would influence it, e.g., data skew, number of records for the top N groups, the limit of records itself, etc.&lt;/p&gt;</comment>
                            <comment id="15786788" author="lirui" created="Fri, 30 Dec 2016 03:43:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt;, thanks very much for the detailed explanations &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; For Spark, the operator chain is something like this:&lt;br/&gt;
&lt;tt&gt;GBY1 &#8211; RS2 &#8211; GBY3 &#8211; RS4 &#8211; SEL5 &#8211; FS6&lt;/tt&gt;&lt;br/&gt;
Since RS2 can produce the top N keys, I think this optimization doesn&apos;t require the input to GBY3 to be sorted. I mean we still feed the top N keys to GBY3, but after shuffling, those keys may not be in a sorted order. And the result should remain correct. Is that right?&lt;/p&gt;</comment>
                            <comment id="15787225" author="jcamachorodriguez" created="Fri, 30 Dec 2016 08:42:36 +0000"  >&lt;p&gt;That is correct &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I will update the patch to add the new q test to the MiniSparkCliDriver too.&lt;/p&gt;</comment>
                            <comment id="15795077" author="hiveqa" created="Tue, 3 Jan 2017 13:33:16 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845376/HIVE-15474.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845376/HIVE-15474.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10914 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_testxpath] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_coalesce] (batchId=75)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_llap_counters] (batchId=136)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hive.hcatalog.pig.TestTextFileHCatStorer.testPartColsInData (batchId=172)
org.apache.hive.hcatalog.pig.TestTextFileHCatStorer.testStoreMultiTables (batchId=172)
org.apache.hive.hcatalog.pig.TestTextFileHCatStorer.testWriteVarchar (batchId=172)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2764/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2764/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2764/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2764/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2764/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2764/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845376 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15797276" author="lirui" created="Wed, 4 Jan 2017 05:56:54 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt; for enabling the Spark test. It looks good to me.&lt;br/&gt;
One more question, you mentioned the optimization works iff GBy columns are a prefix of the OBy columns. How about when the OBy columns are prefix of GBy columns? Won&apos;t the optimization work for that too?&lt;/p&gt;</comment>
                            <comment id="15798665" author="jcamachorodriguez" created="Wed, 4 Jan 2017 16:31:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;, the combination with &lt;em&gt;ReduceDeduplication&lt;/em&gt; makes the trick in the case you describe.&lt;/p&gt;

&lt;p&gt;Consider the following query:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, value2, &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; + 1) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; agg1 &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; src 
&lt;span class=&quot;code-keyword&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, value2
&lt;span class=&quot;code-keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;limit&lt;/span&gt; 20;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In this case, OBy columns are a prefix of GBy columns. RS&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; in this case will end up with columns &lt;em&gt;key, value, value2&lt;/em&gt;. Then limit will be pushed by the new extension to the RS&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;As I stated above, I took a conservative approach as we need to be sure that we remain correct; it might be that the condition could be relaxed even further for some corner cases. However, I did not want to do it without checking the theoretical background further.&lt;/p&gt;</comment>
                            <comment id="15800947" author="lirui" created="Thu, 5 Jan 2017 09:58:04 +0000"  >&lt;p&gt;I see. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt;.&lt;br/&gt;
Instead of having another &lt;tt&gt;checkKeys&lt;/tt&gt;, can we do some refactor to reuse the current one? I think they&apos;re essentially the same - checking whether some keys are prefix of another series?&lt;/p&gt;</comment>
                            <comment id="15801201" author="jcamachorodriguez" created="Thu, 5 Jan 2017 12:09:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ruili&quot; class=&quot;user-hover&quot; rel=&quot;ruili&quot;&gt;Rui Li&lt;/a&gt;, thanks for the feedback.&lt;/p&gt;

&lt;p&gt;I have created two methods that are more generic (&lt;em&gt;checkPrefixKeys&lt;/em&gt; and &lt;em&gt;checkPrefixKeysUpstream&lt;/em&gt;) and moved them to ExprNodeDescUtils. Now they rely on the same logic. Could you take a look to the new patch? Thanks&lt;/p&gt;</comment>
                            <comment id="15801404" author="hiveqa" created="Thu, 5 Jan 2017 13:56:37 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845788/HIVE-15474.03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845788/HIVE-15474.03.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10915 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_testxpath] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_coalesce] (batchId=75)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[offset_limit_ppd_optimizer] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=139)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=92)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2800/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2800/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2800/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2800/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2800/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2800/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845788 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15801521" author="jcamachorodriguez" created="Thu, 5 Jan 2017 14:44:04 +0000"  >&lt;p&gt;Fails seem unrelated; none of the age=1 failures can be reproduced locally.&lt;/p&gt;</comment>
                            <comment id="15803369" author="lirui" created="Fri, 6 Jan 2017 03:17:38 +0000"  >&lt;p&gt;Thanks for the update &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt;. +1&lt;/p&gt;</comment>
                            <comment id="15804105" author="jcamachorodriguez" created="Fri, 6 Jan 2017 09:31:44 +0000"  >&lt;p&gt;Pushed to master, thanks for reviewing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12978170">HIVE-14002</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12845376" name="HIVE-15474.01.patch" size="60941" author="jcamachorodriguez" created="Tue, 3 Jan 2017 12:27:56 +0000"/>
                            <attachment id="12845788" name="HIVE-15474.03.patch" size="64025" author="jcamachorodriguez" created="Thu, 5 Jan 2017 12:46:52 +0000"/>
                            <attachment id="12844057" name="HIVE-15474.patch" size="14409" author="jcamachorodriguez" created="Tue, 20 Dec 2016 12:01:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Dec 2016 13:49:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37tin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15475] JsonSerDe cannot handle json file with empty lines</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15475</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;1. start HiveServer2 in apache-hive-1.2.1&lt;br/&gt;
2 start a beeline connect to hive server2&lt;br/&gt;
  ADD JAR  ADD JAR /home/apache-hive-1.2.1-bin/hcatalog/share/hcatalog/hive-hcatalog-core-1.2.1.jar ;&lt;/p&gt;

&lt;p&gt;   CREATE external TABLE my_table(a string, b bigint)&lt;br/&gt;
ROW FORMAT SERDE &apos;org.apache.hive.hcatalog.data.JsonSerDe&apos;&lt;br/&gt;
STORED AS TEXTFILE&lt;br/&gt;
location &apos;file:///home/hive/json&apos;;&lt;/p&gt;


&lt;p&gt;3 put a file with more than one new lines at the end of the file&lt;/p&gt;
{&quot;a&quot;:&quot;a_1&quot;, &quot;b&quot; : 1}




&lt;p&gt;4 run sql &lt;br/&gt;
select * from my_table ;&lt;br/&gt;
&lt;ins&gt;------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;-----------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; my_table.a  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; my_table.b  &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;-----------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; a_1         &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; a_1         &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; a_1         &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; a_1         &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1           &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; a_1         &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1           &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;-----------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-&lt;/ins&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13029474">HIVE-15475</key>
            <summary>JsonSerDe cannot handle json file with empty lines</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pin_zhang">pin_zhang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 15:04:14 +0000</created>
                <updated>Fri, 23 Feb 2018 16:27:18 +0000</updated>
                                            <version>1.2.1</version>
                                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13140541">HIVE-18785</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37ttz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-15476] ObjectStore.getMTableColumnStatistics() should check if colNames is empty</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15476</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See the following exception in the log. Can&apos;t find out which exact query causes it though.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[pool-4-thread-31]: Exception thrown
Method/Identifier expected at character 37 in &quot;tableName == t1 &amp;amp;&amp;amp; dbName == t2 &amp;amp;&amp;amp; ()&quot;
org.datanucleus.store.query.QueryCompilerSyntaxException: Method/Identifier expected at character 37 in &quot;tableName == t1 &amp;amp;&amp;amp; dbName == t2 &amp;amp;&amp;amp; ()&quot;
	at org.datanucleus.query.compiler.JDOQLParser.processPrimary(JDOQLParser.java:810)
	at org.datanucleus.query.compiler.JDOQLParser.processUnaryExpression(JDOQLParser.java:656)
	at org.datanucleus.query.compiler.JDOQLParser.processMultiplicativeExpression(JDOQLParser.java:582)
	at org.datanucleus.query.compiler.JDOQLParser.processAdditiveExpression(JDOQLParser.java:553)
	at org.datanucleus.query.compiler.JDOQLParser.processRelationalExpression(JDOQLParser.java:467)
	at org.datanucleus.query.compiler.JDOQLParser.processAndExpression(JDOQLParser.java:450)
	at org.datanucleus.query.compiler.JDOQLParser.processExclusiveOrExpression(JDOQLParser.java:436)
	at org.datanucleus.query.compiler.JDOQLParser.processInclusiveOrExpression(JDOQLParser.java:422)
	at org.datanucleus.query.compiler.JDOQLParser.processConditionalAndExpression(JDOQLParser.java:408)
	at org.datanucleus.query.compiler.JDOQLParser.processConditionalOrExpression(JDOQLParser.java:389)
	at org.datanucleus.query.compiler.JDOQLParser.processExpression(JDOQLParser.java:378)
	at org.datanucleus.query.compiler.JDOQLParser.processPrimary(JDOQLParser.java:785)
	at org.datanucleus.query.compiler.JDOQLParser.processUnaryExpression(JDOQLParser.java:656)
	at org.datanucleus.query.compiler.JDOQLParser.processMultiplicativeExpression(JDOQLParser.java:582)
	at org.datanucleus.query.compiler.JDOQLParser.processAdditiveExpression(JDOQLParser.java:553)
	at org.datanucleus.query.compiler.JDOQLParser.processRelationalExpression(JDOQLParser.java:467)
	at org.datanucleus.query.compiler.JDOQLParser.processAndExpression(JDOQLParser.java:450)
	at org.datanucleus.query.compiler.JDOQLParser.processExclusiveOrExpression(JDOQLParser.java:436)
	at org.datanucleus.query.compiler.JDOQLParser.processInclusiveOrExpression(JDOQLParser.java:422)
	at org.datanucleus.query.compiler.JDOQLParser.processConditionalAndExpression(JDOQLParser.java:412)
	at org.datanucleus.query.compiler.JDOQLParser.processConditionalOrExpression(JDOQLParser.java:389)
	at org.datanucleus.query.compiler.JDOQLParser.processExpression(JDOQLParser.java:378)
	at org.datanucleus.query.compiler.JDOQLParser.parse(JDOQLParser.java:99)
	at org.datanucleus.query.compiler.JavaQueryCompiler.compileFilter(JavaQueryCompiler.java:467)
	at org.datanucleus.query.compiler.JDOQLCompiler.compile(JDOQLCompiler.java:113)
	at org.datanucleus.store.query.AbstractJDOQLQuery.compileInternal(AbstractJDOQLQuery.java:367)
	at org.datanucleus.store.rdbms.query.JDOQLQuery.compileInternal(JDOQLQuery.java:240)
	at org.datanucleus.store.query.Query.executeQuery(Query.java:1744)
	at org.datanucleus.store.query.Query.executeWithArray(Query.java:1672)
	at org.datanucleus.api.jdo.JDOQuery.executeWithArray(JDOQuery.java:312)
	at org.apache.hadoop.hive.metastore.ObjectStore.getMTableColumnStatistics(ObjectStore.java:6505)
	at org.apache.hadoop.hive.metastore.ObjectStore.access$1200(ObjectStore.java:171)
	at org.apache.hadoop.hive.metastore.ObjectStore$9.getJdoResult(ObjectStore.java:6566)
	at org.apache.hadoop.hive.metastore.ObjectStore$9.getJdoResult(ObjectStore.java:6555)
	at org.apache.hadoop.hive.metastore.ObjectStore$GetHelper.run(ObjectStore.java:2629)
	at org.apache.hadoop.hive.metastore.ObjectStore.getTableColumnStatisticsInternal(ObjectStore.java:6554)
	at org.apache.hadoop.hive.metastore.ObjectStore.getTableColumnStatistics(ObjectStore.java:6548)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.hive.metastore.RawStoreProxy.invoke(RawStoreProxy.java:114)
	at com.sun.proxy.$Proxy12.getTableColumnStatistics(Unknown Source)
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.get_table_statistics_req(HiveMetaStore.java:4401)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invokeInternal(RetryingHMSHandler.java:138)
	at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invoke(RetryingHMSHandler.java:99)
	at com.sun.proxy.$Proxy14.get_table_statistics_req(Unknown Source)
	at org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Processor$get_table_statistics_req.getResult(ThriftHiveMetastore.java:11028)
	at org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Processor$get_table_statistics_req.getResult(ThriftHiveMetastore.java:11012)
	at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)
	at org.apache.hadoop.hive.metastore.TUGIBasedProcessor$1.run(TUGIBasedProcessor.java:110)
	at org.apache.hadoop.hive.metastore.TUGIBasedProcessor$1.run(TUGIBasedProcessor.java:106)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:415)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1796)
	at org.apache.hadoop.hive.metastore.TUGIBasedProcessor.process(TUGIBasedProcessor.java:118)
	at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:286)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13029539">HIVE-15476</key>
            <summary>ObjectStore.getMTableColumnStatistics() should check if colNames is empty</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aihuaxu">Aihua Xu</assignee>
                                    <reporter username="aihuaxu">Aihua Xu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 19:25:32 +0000</created>
                <updated>Fri, 21 Jul 2017 18:26:21 +0000</updated>
                            <resolved>Tue, 27 Dec 2016 15:32:08 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>Query Planning</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15765136" author="aihuaxu" created="Tue, 20 Dec 2016 20:15:26 +0000"  >&lt;p&gt;patch-1: Not sure what kind of query causes it but add the check for empty or null column names so it won&apos;t fail for such case.&lt;/p&gt;</comment>
                            <comment id="15765249" author="hiveqa" created="Tue, 20 Dec 2016 21:06:44 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844123/HIVE-15476.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844123/HIVE-15476.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 12 failed/errored test(s), 10824 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestVectorizedColumnReaderBase - did not produce a TEST-*.xml file (likely timed out) (batchId=251)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[str_to_map] (batchId=58)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=133)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=151)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exchange_partition_neg_incomplete_partition] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exim_00_unsupported_schema] (batchId=85)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query36] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query70] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query86] (batchId=222)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2657/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2657/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2657/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2657/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2657/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2657/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 12 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844123 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15771028" author="ngangam" created="Thu, 22 Dec 2016 20:36:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt; When the query ends up being &quot;tableName == t1 &amp;amp;&amp;amp; dbName == t2 &amp;amp;&amp;amp; ()&quot;, we would want the query to be &lt;tt&gt;&quot;tableName == t1 &amp;amp;&amp;amp; dbName == t2&lt;/tt&gt; right? so that should still return the stats for all columns in the table? With the patch, we just return when the column list is empty, so no table stats for that table are returned. &lt;br/&gt;
What should the behavior be? Thanks&lt;/p&gt;</comment>
                            <comment id="15771144" author="aihuaxu" created="Thu, 22 Dec 2016 21:35:27 +0000"  >&lt;p&gt;patch-2: minor change to add comment for the function.&lt;/p&gt;</comment>
                            <comment id="15771148" author="aihuaxu" created="Thu, 22 Dec 2016 21:36:49 +0000"  >&lt;p&gt;From the directSQL implementation, we are returning NULL when columns are not provided. &lt;/p&gt;</comment>
                            <comment id="15771557" author="hiveqa" created="Fri, 23 Dec 2016 01:26:18 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844472/HIVE-15476.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844472/HIVE-15476.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10895 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hive.hcatalog.api.TestHCatClientNotification.createTable (batchId=220)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2705/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2705/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2705/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2705/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2705/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2705/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844472 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15771845" author="ngangam" created="Fri, 23 Dec 2016 04:21:04 +0000"  >&lt;p&gt;Thanks for the comments. The proposed fix is consistent with the current behavior. So +1 for me.&lt;/p&gt;</comment>
                            <comment id="15780626" author="aihuaxu" created="Tue, 27 Dec 2016 15:32:08 +0000"  >&lt;p&gt;Pushed to master. Thanks Naveen for reviewing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844123" name="HIVE-15476.1.patch" size="1463" author="aihuaxu" created="Tue, 20 Dec 2016 20:15:26 +0000"/>
                            <attachment id="12844472" name="HIVE-15476.2.patch" size="1874" author="aihuaxu" created="Thu, 22 Dec 2016 21:35:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Dec 2016 21:06:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37u8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15477] Provide options to adjust filter stats when column stats are not available</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15477</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently when column stats are not available, Hive will assume the &quot;worst&quot; case by setting the # of output rows to be 1/2 of the # of input rows, for each predicate expression. This could be inaccurate, especially in the presence of multiple predicates chained by AND. We have found in some cases this could cause map join to have wrong ordering and thus fail with memory issue.&lt;/p&gt;

&lt;p&gt;One suggestion is to provide a config (such as &lt;tt&gt;hive.stats.filter.factor&lt;/tt&gt;) that can be used to control the percentage of rows emitted by a predicate expression. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13029553">HIVE-15477</key>
            <summary>Provide options to adjust filter stats when column stats are not available</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="csun">Chao Sun</assignee>
                                    <reporter username="csun">Chao Sun</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 20:30:11 +0000</created>
                <updated>Thu, 22 Dec 2016 06:36:53 +0000</updated>
                                            <version>2.2.0</version>
                                                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15765477" author="csun" created="Tue, 20 Dec 2016 22:49:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt; wonder if you can take a look? thanks.&lt;/p&gt;</comment>
                            <comment id="15765512" author="prasanth_j" created="Tue, 20 Dec 2016 23:03:26 +0000"  >&lt;p&gt;There are also places where worst case is assumed to be 1/3rd (inequality operator). FilterStatsRule javadoc has more context on that. &lt;br/&gt;
The issue is two fold, without column statistics and histograms we are always going to estimate wrongly, we also don&apos;t know how much will the row expand in-memory when added to hashtable.  &lt;br/&gt;
To control these we already have configs. hive.stats.join.factor and hive.stats.deserialization.factor (this will accounted to data size computation to say how much the data expands in-memory when added to hashtable). Tuning these 2 should help with join OOM issues for map join. Since map join is determined based on data size and we already have a config to tune it, I don&apos;t think we need a config to control the number of rows. Thoughts?&lt;/p&gt;</comment>
                            <comment id="15765601" author="csun" created="Tue, 20 Dec 2016 23:48:53 +0000"  >&lt;p&gt;Thanks for the quick reply &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt;! Yes I&apos;m fine if the existing configs can work.&lt;/p&gt;

&lt;p&gt;However, I think the issue is that &lt;b&gt;the compound effect of chained AND predicates could be really dramatic&lt;/b&gt;, and it could be pretty common since often one has multiple filter conditions in complex data analysis.&lt;/p&gt;

&lt;p&gt;For instance, imaging you have a big fact table &lt;b&gt;A&lt;/b&gt; with many filters and a small dimension table &lt;b&gt;B&lt;/b&gt;. When stats are correct, one should put &lt;b&gt;B&lt;/b&gt; in the build side. However, due to the incorrect stats on &lt;b&gt;A&lt;/b&gt;&apos;s branch, the # of rows in the &quot;final&quot; stats could be really small, and thus Hive will put &lt;b&gt;A&lt;/b&gt; on the build side and &lt;b&gt;B&lt;/b&gt; on the probe side, which may then fail because the eventual # of output rows from &lt;b&gt;A&lt;/b&gt;&apos;s branch could be much bigger than the stats indicated.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure if any of the current config can help with the above case (besides mapjoin hint, which is outdated). Also I think the issue is not limited to the mapjoin case, but any query with filters. The &lt;tt&gt;hive.stats.filter.predicate.factor&lt;/tt&gt; provides user with an option to control the degree of optimism on the filtering.&lt;/p&gt;

&lt;p&gt;Any further thought?&lt;/p&gt;</comment>
                            <comment id="15765666" author="hiveqa" created="Wed, 21 Dec 2016 00:27:42 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844148/HIVE-15477.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844148/HIVE-15477.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 20 failed/errored test(s), 10825 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestVectorizedColumnReaderBase - did not produce a TEST-*.xml file (likely timed out) (batchId=251)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[str_to_map] (batchId=58)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=133)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exchange_partition_neg_incomplete_partition] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exim_00_unsupported_schema] (batchId=85)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query31] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query36] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query70] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query76] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query86] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query87] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query89] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query94] (batchId=222)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2660/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2660/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2660/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2660/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2660/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2660/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 20 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844148 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15765724" author="prasanth_j" created="Wed, 21 Dec 2016 00:56:54 +0000"  >&lt;p&gt;Agreed that the compound effect of chained AND can be bad when there is absolutely no stats. But the primary issue is when we don&apos;t have stats we operate on the file size and estimate the number of rows (which can be way off because of compression). On top of that we introduce &quot;join_key_column IS NOT NULL&quot; predicates. This can dramatically mis-estimate the data size as we don&apos;t have knowledge about the compression or any statistics. That&apos;s the primary reason for adding the configs initially. &lt;/p&gt;

&lt;p&gt;There are 2 ends of spectrum for the cardinality estimation, assuming the column has NDV of 1 then all rows are selected and if NDV == numRows then numRows/2 will be estimated to be selected which is not bad (when column stats is present this is going to estimate numRows/NDV which is also not correct when there is skew). In case of chained AND predicates we are going to filter more rows by definition which will be worse without stats.&lt;br/&gt;
So my point is even with configs we are going to make wrong estimations &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;I would rather ignore the &quot;join_key_column IS NOT NULL&quot; from affecting the stats in the worst case. Preferably, we want the optimizer to take care of such scenarios than users. IMHO we should also consider ignoring the &quot;join_key_column IS NOT NULL&quot; that is introduced by hive. Not sure which optimizer introduces this predicate. May be &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt; has idea?&lt;/p&gt;

&lt;p&gt;I am not against adding another config but it will be better if optimizer can be make better decision for worst case scenarios with or without the config.&lt;/p&gt;
</comment>
                            <comment id="15768176" author="csun" created="Wed, 21 Dec 2016 21:12:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt; can you elaborate on what mis-estimate can be done with &quot;join_key_column IS NOT NULL&quot; predicates? I&apos;m also curious why it is added to Hive. I was looking at &lt;tt&gt;evaluateNotNullExpr&lt;/tt&gt; but seems it just return the input # of rows when column stats are not present? (looking at here: &lt;a href=&quot;https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/optimizer/stats/annotation/StatsRulesProcFactory.java#L586&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/optimizer/stats/annotation/StatsRulesProcFactory.java#L586&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Yeah I totally agree that we are going to make wrong estimates even with configs. It&apos;s very difficult to get 100% accurate stats. But with some configs we can at least add some manual intervention. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15768281" author="prasanth_j" created="Wed, 21 Dec 2016 21:55:46 +0000"  >&lt;p&gt;Looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11110&quot; title=&quot;Reorder applyPreJoinOrderingTransforms, add NotNULL/FilterMerge rules, improve Filter selectivity estimation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11110&quot;&gt;&lt;del&gt;HIVE-11110&lt;/del&gt;&lt;/a&gt; already fixed this mis-estimation. Before that it used to consider the IS NOT NULL predicate as constant and reduce the rows by half. Sorry I lost track of this change that fixed it.&lt;/p&gt;</comment>
                            <comment id="15768290" author="prasanth_j" created="Wed, 21 Dec 2016 21:58:19 +0000"  >&lt;p&gt;Do you want to fix the inequality case as well? that divides by 3 in worst case. &lt;br/&gt;
Other than that the patch looks good to me, +1&lt;/p&gt;</comment>
                            <comment id="15768298" author="csun" created="Wed, 21 Dec 2016 22:01:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt; Thanks. Yes let me fix that and submit a new patch.&lt;/p&gt;</comment>
                            <comment id="15769252" author="hiveqa" created="Thu, 22 Dec 2016 06:36:53 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844319/HIVE-15477.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844319/HIVE-15477.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 444 failed/errored test(s), 10807 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_single_sourced_multi_insert] (batchId=218)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[allcolref_in_udf] (batchId=47)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[annotate_stats_filter] (batchId=8)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[annotate_stats_join_pkfk] (batchId=13)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[autoColumnStats_8] (batchId=13)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join0] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join11] (batchId=8)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join12] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join13] (batchId=73)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join14] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join16] (batchId=36)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join20] (batchId=80)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join21] (batchId=73)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join23] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join27] (batchId=81)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join28] (batchId=65)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join29] (batchId=50)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join33] (batchId=11)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join4] (batchId=64)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join5] (batchId=66)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join6] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join7] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join8] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_join_without_localtask] (batchId=1)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[auto_sortmerge_join_10] (batchId=66)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join0] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join1] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_outer_join_ppr] (batchId=6)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[correlationoptimizer10] (batchId=70)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[correlationoptimizer13] (batchId=10)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[correlationoptimizer8] (batchId=12)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[correlationoptimizer9] (batchId=5)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ctas_colname] (batchId=53)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[distinct_windowing_no_cbo] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dynamic_rdd_cache] (batchId=49)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[except_all] (batchId=42)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[filter_cond_pushdown] (batchId=55)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[folder_predicate] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[fouter_join_ppr] (batchId=29)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[gby_star] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_multi_single_reducer2] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_multi_single_reducer] (batchId=55)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[groupby_position] (batchId=36)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[having2] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[having] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto] (batchId=42)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_mult_tables] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_mult_tables_compact] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_self_join] (batchId=54)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_unused] (batchId=36)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_bitmap_compression] (batchId=72)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_compression] (batchId=9)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input11] (batchId=49)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input11_limit] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input12] (batchId=69)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input13] (batchId=69)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input14] (batchId=70)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input14_limit] (batchId=56)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input18] (batchId=16)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input1_limit] (batchId=12)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input2_limit] (batchId=64)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input42] (batchId=68)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part1] (batchId=7)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part2] (batchId=43)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part5] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_part7] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join0] (batchId=53)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join11] (batchId=48)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join12] (batchId=37)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join13] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join14] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join16] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join20] (batchId=31)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join21] (batchId=36)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join23] (batchId=40)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join34] (batchId=64)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join35] (batchId=59)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join39] (batchId=49)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join40] (batchId=48)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join43] (batchId=5)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join45] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join4] (batchId=58)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join5] (batchId=63)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join6] (batchId=68)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join7] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join8] (batchId=43)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join_merging] (batchId=72)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join_vc] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[lateral_view_ppd] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[limit_pushdown_negative] (batchId=37)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[llap_uncompressed] (batchId=53)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[load_dyn_part13] (batchId=63)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[load_dyn_part1] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[load_dyn_part8] (batchId=60)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[louter_join_ppr] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[mapjoin_filter_on_outerjoin] (batchId=56)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[mapjoin_mapjoin] (batchId=46)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_1] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_1_newdb] (batchId=11)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_2] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_3] (batchId=49)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_4] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_5] (batchId=27)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_6] (batchId=23)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_7] (batchId=40)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_8] (batchId=7)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_9] (batchId=72)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_disablecbo_1] (batchId=46)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_disablecbo_2] (batchId=40)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_disablecbo_3] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[masking_disablecbo_4] (batchId=6)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[multi_insert_gby] (batchId=15)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[multi_insert_mixed] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[multi_insert_move_tasks_share_dependencies] (batchId=50)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[multi_insert_union_src] (batchId=54)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[no_hooks] (batchId=32)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[noalias_subq1] (batchId=72)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[nonmr_fetch] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[notable_alias1] (batchId=50)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[notable_alias2] (batchId=12)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[nullgroup2] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[nullgroup] (batchId=65)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge5] (batchId=51)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge6] (batchId=31)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[orc_merge_incompat1] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[outer_join_ppr] (batchId=18)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[parallel_join0] (batchId=67)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[partition_wise_fileformat2] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pcr] (batchId=54)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[pcs] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd1] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd2] (batchId=24)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby2] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby] (batchId=34)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_gby_join] (batchId=34)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_join2] (batchId=38)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_join3] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_join] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_join_filter] (batchId=52)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_multi_insert] (batchId=68)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join1] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join2] (batchId=29)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join3] (batchId=42)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_outer_join4] (batchId=60)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_random] (batchId=78)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_transform] (batchId=69)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_udf_col] (batchId=31)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_udtf] (batchId=57)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_union] (batchId=43)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_vc] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppd_windowing1] (batchId=40)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ppr_pushdown3] (batchId=26)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[quote1] (batchId=23)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[rand_partitionpruner1] (batchId=65)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[rand_partitionpruner2] (batchId=49)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[rand_partitionpruner3] (batchId=72)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[rcfile_null_value] (batchId=25)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[regexp_extract] (batchId=48)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[remove_exprs_stats] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[router_join_ppr] (batchId=73)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample7] (batchId=60)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[select_unquote_and] (batchId=2)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[select_unquote_not] (batchId=53)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[select_unquote_or] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[skewjoin] (batchId=21)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sort_merge_join_desc_1] (batchId=8)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sort_merge_join_desc_2] (batchId=20)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sort_merge_join_desc_3] (batchId=42)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sort_merge_join_desc_4] (batchId=67)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sort_merge_join_desc_8] (batchId=7)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[special_character_in_tabnames_2] (batchId=49)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[stats4] (batchId=72)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subq2] (batchId=6)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subq] (batchId=40)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subquery_alias] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subquery_exists] (batchId=38)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subquery_exists_having] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subquery_in_having] (batchId=53)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subquery_multiinsert] (batchId=76)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subquery_notexists] (batchId=81)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subquery_notexists_having] (batchId=77)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subquery_notin_having] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[subquery_unqualcolumnrefs] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[transform_ppr1] (batchId=13)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[transform_ppr2] (batchId=40)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_between] (batchId=65)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_to_unix_timestamp] (batchId=51)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union20] (batchId=5)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union22] (batchId=12)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union24] (batchId=55)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union] (batchId=4)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[union_ppr] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_between_columns] (batchId=63)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_decimal_aggregate] (batchId=17)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_decimal_expressions] (batchId=48)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_decimal_math_funcs] (batchId=21)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_elt] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_non_string_partition] (batchId=31)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorization_13] (batchId=45)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorization_14] (batchId=14)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorization_16] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorization_17] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorization_7] (batchId=39)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorization_9] (batchId=1)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorization_div0] (batchId=62)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorization_limit] (batchId=33)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorization_offset_limit] (batchId=41)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorization_pushdown] (batchId=43)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_math_funcs] (batchId=19)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_string_funcs] (batchId=53)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[windowing_streaming] (batchId=61)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[dboutput] (batchId=221)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[serde_typedbytes4] (batchId=221)
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver[hbase_single_sourced_multi_insert] (batchId=90)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[except_distinct] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[llapdecider] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[unionDistinct_1] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_join0] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_join21] (batchId=152)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_join29] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_smb_mapjoin_14] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_sortmerge_join_10] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[auto_sortmerge_join_9] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=139)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[bucketsortoptimize_insert_7] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cluster] (batchId=143)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[dynpart_sort_optimization2] (batchId=138)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[explainuser_1] (batchId=144)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[explainuser_4] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[groupby_resolution] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[having] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[hybridgrace_hashjoin_2] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[join0] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[load_dyn_part1] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[mapjoin_mapjoin] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[mrr] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[multi_insert] (batchId=144)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[multi_insert_lateral_view] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_llap] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_merge5] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_merge6] (batchId=144)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_merge_incompat1] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[orc_predicate_pushdown] (batchId=138)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[parquet_predicate_pushdown] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[selectDistinctStar] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[semijoin] (batchId=141)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[skewjoin] (batchId=141)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[smb_mapjoin_14] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[smb_mapjoin_6] (batchId=143)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_exists] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_in] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_notin] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_views] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_dynpart_hashjoin_1] (batchId=152)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_dynpart_hashjoin_2] (batchId=144)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_vector_dynpart_hashjoin_1] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[tez_vector_dynpart_hashjoin_2] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_auto_smb_mapjoin_14] (batchId=143)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_between_columns] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_between_in] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_aggregate] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_expressions] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_udf] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_inner_join] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_leftsemi_mapjoin] (batchId=139)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_13] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_14] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_16] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_17] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_7] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_8] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_9] (batchId=138)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_pushdown] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorization_short_regress] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[orc_merge5] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[orc_merge6] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[orc_merge_incompat1] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_inner_join] (batchId=161)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_1] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[hybridgrace_hashjoin_2] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[vector_non_string_partition] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[vectorization_div0] (batchId=93)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query12] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query13] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query20] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query21] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query22] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query25] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query28] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query29] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query31] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query32] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query34] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query40] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query48] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query51] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query54] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query58] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query64] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query65] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query66] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query67] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query68] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query70] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query72] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query73] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query75] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query76] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query79] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query80] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query82] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query84] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query85] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query86] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query87] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query88] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query89] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query90] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query92] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query94] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query95] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query96] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query97] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query98] (batchId=222)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join0] (batchId=131)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join11] (batchId=98)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join12] (batchId=104)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join13] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join14] (batchId=100)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join16] (batchId=110)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join20] (batchId=132)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join21] (batchId=129)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join23] (batchId=102)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join27] (batchId=132)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join28] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join29] (batchId=117)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join4] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join5] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join6] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join7] (batchId=105)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join8] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join_without_localtask] (batchId=94)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_smb_mapjoin_14] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_10] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_9] (batchId=122)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=99)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucketsortoptimize_insert_7] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[dynamic_rdd_cache] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_multi_single_reducer2] (batchId=102)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_multi_single_reducer] (batchId=120)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_position] (batchId=110)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[groupby_resolution] (batchId=111)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[having] (batchId=112)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[index_auto_self_join] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[input12] (batchId=127)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[input13] (batchId=126)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[input14] (batchId=127)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[input18] (batchId=102)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[input1_limit] (batchId=99)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[input_part2] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join0] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join11] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join12] (batchId=111)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join13] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join14] (batchId=103)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join16] (batchId=107)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join20] (batchId=108)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join21] (batchId=110)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join23] (batchId=112)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join34] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join35] (batchId=121)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join39] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join4] (batchId=121)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join5] (batchId=123)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join6] (batchId=126)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join7] (batchId=96)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join8] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_merging] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_vc] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[load_dyn_part13] (batchId=123)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[load_dyn_part1] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[load_dyn_part8] (batchId=122)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[louter_join_ppr] (batchId=112)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[mapjoin_filter_on_outerjoin] (batchId=120)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[mapjoin_mapjoin] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[multi_insert] (batchId=108)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[multi_insert_gby] (batchId=101)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[multi_insert_lateral_view] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[multi_insert_mixed] (batchId=105)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[multi_insert_move_tasks_share_dependencies] (batchId=117)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[nullgroup2] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[nullgroup] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[outer_join_ppr] (batchId=103)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[parallel_join0] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[pcr] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_gby_join] (batchId=109)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_join2] (batchId=111)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_join3] (batchId=102)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_join] (batchId=109)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_join_filter] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_multi_insert] (batchId=126)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join1] (batchId=112)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join2] (batchId=108)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join3] (batchId=113)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_outer_join4] (batchId=122)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ppd_transform] (batchId=127)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[router_join_ppr] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[sample7] (batchId=122)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[semijoin] (batchId=104)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[skewjoin] (batchId=104)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[smb_mapjoin_14] (batchId=120)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[smb_mapjoin_6] (batchId=108)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_exists] (batchId=111)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_in] (batchId=120)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_multiinsert] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[transform_ppr1] (batchId=100)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[transform_ppr2] (batchId=112)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union20] (batchId=96)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union22] (batchId=100)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union24] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union_ppr] (batchId=102)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_between_in] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_decimal_aggregate] (batchId=102)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorization_13] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorization_14] (batchId=100)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorization_16] (batchId=112)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorization_17] (batchId=131)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorization_9] (batchId=94)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorization_div0] (batchId=123)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorization_pushdown] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorization_short_regress] (batchId=114)
org.apache.hadoop.hive.metastore.TestHiveMetaStoreGetMetaConf.testGetMetaConfDefault (batchId=188)
org.apache.hadoop.hive.metastore.TestHiveMetaStoreGetMetaConf.testGetMetaConfDefaultEmptyString (batchId=188)
org.apache.hadoop.hive.metastore.TestHiveMetaStoreGetMetaConf.testGetMetaConfOverridden (batchId=188)
org.apache.hadoop.hive.metastore.TestHiveMetaStoreGetMetaConf.testGetMetaConfUnknownPreperty (batchId=188)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2689/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2689/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2689/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2689/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2689/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2689/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 444 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844319 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844148" name="HIVE-15477.1.patch" size="11328" author="csun" created="Tue, 20 Dec 2016 22:42:10 +0000"/>
                            <attachment id="12844319" name="HIVE-15477.2.patch" size="12364" author="csun" created="Thu, 22 Dec 2016 00:09:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Dec 2016 23:03:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37ubj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-15478] Add file + checksum list for create table/partition during notification creation (whenever relevant)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15478</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, file list is being generated during REPL DUMP which will result in inconsistent data getting captured. This ticket is used for event dumping. Bootstrap dump checksum will be in a different Jira.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029558">HIVE-15478</key>
            <summary>Add file + checksum list for create table/partition during notification creation (whenever relevant)</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="13007626">HIVE-14841</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 20:48:35 +0000</created>
                <updated>Wed, 26 Jul 2017 00:03:15 +0000</updated>
                            <resolved>Mon, 23 Jan 2017 07:16:20 +0000</resolved>
                                                    <fixVersion>2.2.0</fixVersion>
                                    <component>repl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15817838" author="hiveqa" created="Wed, 11 Jan 2017 09:51:57 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12846740/HIVE-15478.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12846740/HIVE-15478.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10948 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_testxpath] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_coalesce] (batchId=75)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=148)
org.apache.hive.hcatalog.api.TestHCatClient.testBasicDDLCommands (batchId=169)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2879/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2879/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2879/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2879/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2879/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2879/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12846740 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15822704" author="daijy" created="Sat, 14 Jan 2017 05:50:08 +0000"  >&lt;p&gt;Rebase with master.&lt;/p&gt;</comment>
                            <comment id="15823331" author="sushanth" created="Mon, 16 Jan 2017 00:53:00 +0000"  >&lt;p&gt;LGTM, +1 pending tests.&lt;/p&gt;

&lt;p&gt;I do have some open issues regarding api changes introduced with this patch, but they can be taken up on a followup jira.&lt;/p&gt;</comment>
                            <comment id="15823332" author="sushanth" created="Mon, 16 Jan 2017 00:53:35 +0000"  >&lt;p&gt;(note : I commented on the review board with those open issues - let&apos;s discuss them before creating a follow up jira.)&lt;/p&gt;</comment>
                            <comment id="15825815" author="daijy" created="Tue, 17 Jan 2017 10:41:35 +0000"  >&lt;p&gt;Fix UT and address RB comments.&lt;/p&gt;</comment>
                            <comment id="15827152" author="hiveqa" created="Wed, 18 Jan 2017 00:51:02 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12847769/HIVE-15478.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12847769/HIVE-15478.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 373 failed/errored test(s), 10789 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.accumulo.TestAccumuloConnectionParameters.testMissingPassword (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloConnectionParameters.testMissingUserName (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testDropTableWithoutDeleteLeavesTableIntact (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testEmptyIteratorPushdownValue (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testExternalNonExistentTableFails (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testMissingColumnMappingFails (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testNonBooleanIteratorPushdownValue (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testNonExternalExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testNonNullLocation (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testPreCreateTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testRollbackCreateTableDeletesExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testRollbackCreateTableDoesntDeleteExternalExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testRollbackCreateTableOnNonExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testTableJobPropertiesCallsInputAndOutputMethods (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testTablePropertiesPassedToInputJobProperties (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testTablePropertiesPassedToOutputJobProperties (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testISEIsPropagated (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testISEIsPropagatedWithReflection (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testTokenMerge (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testTokenToConfFromUser (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormat (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormatWithAuthorizations (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormatWithEmptyColumns (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormatWithIterators (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureMockAccumuloInputFormat (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testIteratorNotInSplitsCompensation (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableOutputFormat.testBasicConfiguration (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableOutputFormat.testMockInstance (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableOutputFormat.testSaslConfiguration (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testEmptyListRangeGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testManyRangesGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testNullRangeGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testSingleRangeGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.serde.TestAccumuloRowSerializer.testBufferResetBeforeUse (batchId=165)
org.apache.hadoop.hive.cli.TestCliDriverMethods.testThatCliDriverPrintsHeaderForCommandsWithSchema (batchId=166)
org.apache.hadoop.hive.cli.TestCliDriverMethods.testThatCliDriverPrintsNoHeaderForCommandsWithNoSchema (batchId=166)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=148)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=123)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=97)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_count_distinct] (batchId=105)
org.apache.hadoop.hive.common.TestBlobStorageUtils.testValidAndInvalidFileSystems (batchId=240)
org.apache.hadoop.hive.io.TestHadoopFileStatus.testHadoopFileStatusAclEntries (batchId=190)
org.apache.hadoop.hive.llap.cache.TestIncrementalObjectSizeEstimator.testMetadata (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize2 (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize30 (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize64 (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize8 (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestLlapDaemonProtocolServerImpl.testSimpleCall (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testFinishablePreeptsNonFinishable (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionQueueComparator (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionStateOnTaskMoveToFinishableState (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionStateOnTaskMoveToNonFinishableState (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testWaitQueuePreemption (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestFirstInFirstOutComparator.testWaitQueueComparator (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestFirstInFirstOutComparator.testWaitQueueComparatorParallelism (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestFirstInFirstOutComparator.testWaitQueueComparatorWithinDagPriority (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestShortestJobFirstComparator.testWaitQueueComparator (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestShortestJobFirstComparator.testWaitQueueComparatorParallelism (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestShortestJobFirstComparator.testWaitQueueComparatorWithinDagPriority (batchId=282)
org.apache.hadoop.hive.llap.tez.TestLlapDaemonProtocolClientProxy.testMultipleNodes (batchId=164)
org.apache.hadoop.hive.llap.tez.TestLlapDaemonProtocolClientProxy.testSingleInvocationPerNode (batchId=164)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testEntityTracker1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testFinishableStateUpdateFailure (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityDelayedAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityFallbackToNonLocal (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityNodeCommErrorDelayedAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityNodeCommErrorImmediateAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedQueeTaskSelectionAfterScheduled (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testFallbackAllocationOrderedNext (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForceLocalityTest1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityMultiplePreemptionsSameHost1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityMultiplePreemptionsSameHost2 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityNotInDelayedQueue (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityPreemption (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityUnknownHost (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testLocalityDelayTaskOrdering (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNoForceLocalityCounterTest1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNoLocalityNotInDelayedQueue (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNodeDisabled (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNodeReEnabled (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testPreemption (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testPreemptionChoiceTimeOrdering (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testSimpleLocalAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testSimpleNoLocalityAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testTaskInfoDelay (batchId=232)
org.apache.hadoop.hive.metastore.TestHiveAlterHandler.testAlterTableAddColNotUpdateStats (batchId=186)
org.apache.hadoop.hive.metastore.TestHiveAlterHandler.testAlterTableChangePosNotUpdateStats (batchId=186)
org.apache.hadoop.hive.metastore.TestHiveAlterHandler.testAlterTableDelColUpdateStats (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.allWithStats (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.noneWithStats (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.nonexistentPartitions (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.someNonexistentPartitions (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCacheWithBitVector.allPartitions (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.MiddleOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusDouble (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusLong (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.TwoEndsOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusDecimal (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusDouble (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusLong (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusString (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.noPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.MiddleOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusDecimal (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusDouble (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusLong (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.allPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.noPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addMultiColForeignKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addMultiColPrimaryKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addMultiForeignKeys (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addSecondForeignKeys (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterDb (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterFunction (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterIndex (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.binaryPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.binaryTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.booleanPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.booleanTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createDb (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createFunction (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createIndex (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createRole (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createTableWithForeignKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createTableWithPrimaryKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.decimalPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.decimalTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.doublePartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.doublePrimaryKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.doubleTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropDb (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropFunction (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropIndex (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropRole (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.getPartitions (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.hashSd (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.listGetDropPartitionNames (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.longPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.longTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.skewInfo (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.stringPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.stringTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.decimalPartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.decimalTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.doublePartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.doubleTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.longPartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.longTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.stringPartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.stringTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.alterTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.booleanTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.createPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.createTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.dropPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.dropTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.getPartitions (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.listGetDropPartitionNames (batchId=187)
org.apache.hadoop.hive.ql.exec.TestContext.testGetScratchDirectoriesForPaths (batchId=262)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testDelete (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testDeleteDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testInsert (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testInsertDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testNonAcidDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testNonAcidWrite (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testUpdate (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testUpdateDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestUtilities.testGetInputPathsWithEmptyTables (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnMrNoDp (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnMrWithDp (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnTezNoDp (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnTezWithDp (batchId=268)
org.apache.hadoop.hive.ql.exec.mr.TestMapRedTask.mrTask_updates_Metrics (batchId=268)
org.apache.hadoop.hive.ql.exec.mr.TestMapredLocalTask.localMRTask_updates_Metrics (batchId=268)
org.apache.hadoop.hive.ql.exec.spark.TestSparkTask.sparkTask_updates_Metrics (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestCustomPartitionVertex.testGetBytePayload (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testExtraEvents (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMissingEvent (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMultipleSourcesOrdering1 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMultipleSourcesOrdering2 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMultipleSourcesOrdering3 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testNoPruning (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceMultipleFiltersOrdering1 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceMultipleFiltersOrdering2 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceOrdering1 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceOrdering2 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testConsistentHashing (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testConsistentHashingFallback (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testNonFileSplits (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testOrcSplitsBasic (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testOrcSplitsLocationAffinity (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testCloseAndOpenDefault (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testCloseAndOpenWithResources (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testSessionDestroy (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testSessionReopen (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testBuildDag (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testClose (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testEmptyWork (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testExistingSessionGetsStorageHandlerResources (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testExtraResourcesAddedToDag (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testGetExtraLocalResources (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testParseRightmostXmx (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.tezTask_updates_Metrics (batchId=267)
org.apache.hadoop.hive.ql.io.TestAcidInputFormat.org.apache.hadoop.hive.ql.io.TestAcidInputFormat (batchId=254)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testEqualOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testGreaterThanOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testGreaterThanOrEqualOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testHitLastBlock (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testHitSamePositionTwice (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testLessThanOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testLessThanOrEqualOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testNonLinearEqualTo (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testNonLinearGreaterThan (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testNonLinearLessThan (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testResetRange (batchId=252)
org.apache.hadoop.hive.ql.io.avro.TestAvroGenericRecordReader.emptyFile (batchId=252)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testNewBase (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testOriginalReaderPair (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testOriginalReaderPairNoMin (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testReaderPair (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testReaderPairNoMin (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestVectorizedOrcAcidRowBatchReader.testCanCreateVectorizedAcidRowBatchReaderOnSplit (batchId=254)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testArrayOfArrays (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testArrayType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testEmptyArrays (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testExpectedArrayTypeOnRecord (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testExpectedMapTypeOnRecord (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testExpectedStructTypeOnRecord (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testMapType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testSimpleType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testStructType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestMapredParquetInputFormat.testConstructorWithParquetInputFormat (batchId=251)
org.apache.hadoop.hive.ql.io.parquet.TestMapredParquetOutputFormat.testConstructorWithFormat (batchId=252)
org.apache.hadoop.hive.ql.io.parquet.TestMapredParquetOutputFormat.testGetHiveRecordWriter (batchId=252)
org.apache.hadoop.hive.ql.lockmgr.TestDummyTxnManager.org.apache.hadoop.hive.ql.lockmgr.TestDummyTxnManager (batchId=275)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyExistingFilesOnDifferentFileSystem[0] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyExistingFilesOnDifferentFileSystem[15] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyNewFilesOnDifferentFileSystem[0] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyNewFilesOnDifferentFileSystem[15] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestTableIterable.testNumReturned (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren1 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren2 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren3 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren4 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren5 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren6 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren7 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testConditionalMoveOnHdfsIsNotOptimized (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testConditionalMoveTaskIsNotOptimized (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testConditionalMoveTaskIsOptimized (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMergePathValidMoveWorkReturnsNewMoveWork (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMergePathWithInvalidMoveWorkThrowsException (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMovePathsThatCanBeMerged (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMovePathsThatCannotBeMerged (batchId=262)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testCreateRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testDropRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantGroupTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleGroup (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantServer (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantUri (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantUserTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeGroupTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleGroup (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeUserTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantGroupOnTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantRoleOnTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantUserOnTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantGroup (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV1.testPrivInGrant (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV1.testPrivInGrantNotAccepted (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV2.testPrivInGrant (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestSessionUserName.testSessionConstructorUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestSessionUserName.testSessionDefaultUser (batchId=257)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJars (batchId=274)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJarsNoExtraJars (batchId=274)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJarsStartingWithNull (batchId=274)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJarsWithNull (batchId=274)
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerCheckInvocation.org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerCheckInvocation (batchId=208)
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerShowFilters.org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerShowFilters (batchId=208)
org.apache.hadoop.hive.ql.session.TestAddResource.testDeleteJar (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testDeleteJarMultiple (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testDuplicateAdds (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testSanity (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testUnion (batchId=270)
org.apache.hadoop.hive.schshim.TestFairSchedulerQueueAllocator.testQueueAllocation (batchId=230)
org.apache.hadoop.hive.serde2.TestSerdeWithFieldComments.testFieldComments (batchId=190)
org.apache.hive.beeline.TestBeeLineOpts.testPropertyNamesSet (batchId=167)
org.apache.hive.beeline.TestBufferedRows.testNormalizeWidths (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testConnectHook (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGetHookBeeLineWithShowDbInPrompt (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGetHookBeeLineWithoutShowDbInPrompt (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGetHookCli (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGoHook (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testUseHook (batchId=167)
org.apache.hive.beeline.TestIncrementalRowsWithNormalization.testIncrementalRows (batchId=167)
org.apache.hive.beeline.TestTableOutputFormat.testPrint (batchId=167)
org.apache.hive.hcatalog.cli.SemanticAnalysis.TestHCatAuthUtil.authEnabledV2Auth (batchId=174)
org.apache.hive.hcatalog.streaming.mutate.client.TestMutatorClient.org.apache.hive.hcatalog.streaming.mutate.client.TestMutatorClient (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.client.TestTransaction.org.apache.hive.hcatalog.streaming.mutate.client.TestTransaction (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.client.lock.TestHeartbeatTimerTask.org.apache.hive.hcatalog.streaming.mutate.client.lock.TestHeartbeatTimerTask (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.client.lock.TestLock.org.apache.hive.hcatalog.streaming.mutate.client.lock.TestLock (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.worker.TestMetaStorePartitionHelper.org.apache.hive.hcatalog.streaming.mutate.worker.TestMetaStorePartitionHelper (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorCoordinator.org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorCoordinator (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorImpl.org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorImpl (batchId=181)
org.apache.hive.jdbc.TestHivePreparedStatement.escapingOfStringArgument (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.oneArgument (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.pastingIntoEscapedQuery (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.pastingIntoQuery (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.testNonParameterized (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.unsetArgument (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.unusedArgument (batchId=233)
org.apache.hive.jdbc.authorization.TestCLIAuthzSessionContext.testAuthzSessionContextContents (batchId=215)
org.apache.hive.jdbc.authorization.TestHS2AuthzContext.org.apache.hive.jdbc.authorization.TestHS2AuthzContext (batchId=216)
org.apache.hive.jdbc.authorization.TestHS2AuthzSessionContext.org.apache.hive.jdbc.authorization.TestHS2AuthzSessionContext (batchId=216)
org.apache.hive.service.auth.TestLdapAuthenticationProviderImpl.org.apache.hive.service.auth.TestLdapAuthenticationProviderImpl (batchId=183)
org.apache.hive.service.auth.ldap.TestChainFilter.org.apache.hive.service.auth.ldap.TestChainFilter (batchId=183)
org.apache.hive.service.auth.ldap.TestCustomQueryFilter.org.apache.hive.service.auth.ldap.TestCustomQueryFilter (batchId=184)
org.apache.hive.service.auth.ldap.TestGroupFilter.org.apache.hive.service.auth.ldap.TestGroupFilter (batchId=183)
org.apache.hive.service.auth.ldap.TestLdapSearch.org.apache.hive.service.auth.ldap.TestLdapSearch (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNames (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNamesAndAttributes (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNamesNoRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNamesWithExceptionInNamingEnumerationClose (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetSingleLdapName (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetSingleLdapNameNoRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHandle (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHasSingleResult (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHasSingleResultManyRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHasSingleResultNoRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestUserFilter.org.apache.hive.service.auth.ldap.TestUserFilter (batchId=184)
org.apache.hive.service.auth.ldap.TestUserSearchFilter.org.apache.hive.service.auth.ldap.TestUserSearchFilter (batchId=184)
org.apache.hive.service.cli.session.TestHiveSessionImpl.testLeakOperationHandle (batchId=211)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testAbandonedSessionMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testActiveSessionMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testActiveSessionTimeMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testOpenSessionMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testOpenSessionTimeMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testThreadPoolMetrics (batchId=185)
org.apache.hive.service.cli.thrift.TestThriftHttpCLIServiceFeatures.org.apache.hive.service.cli.thrift.TestThriftHttpCLIServiceFeatures (batchId=209)
org.apache.hive.spark.client.TestJobHandle.org.apache.hive.spark.client.TestJobHandle (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testCounters (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testErrorJob (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testJobSubmission (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob (batchId=277)
org.apache.orc.impl.TestDataReaderProperties.testCompleteBuild (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testEmptyBuild (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testMissingFileSystem (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testMissingNonRequiredArgs (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testMissingPath (batchId=236)
org.apache.orc.impl.TestMemoryManager.testCallback (batchId=237)
org.apache.orc.impl.TestOutStream.testFlush (batchId=237)
org.apache.orc.impl.TestRecordReaderImpl.testClose (batchId=237)
org.apache.orc.impl.TestRecordReaderImpl.testCloseWithException (batchId=237)
org.apache.orc.impl.TestRecordReaderImpl.testMaxLengthToReader (batchId=237)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2993/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2993/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2993/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2993/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2993/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2993/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 373 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12847769 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15827643" author="hiveqa" created="Wed, 18 Jan 2017 08:46:44 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12847769/HIVE-15478.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12847769/HIVE-15478.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 375 failed/errored test(s), 10791 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.accumulo.TestAccumuloConnectionParameters.testMissingPassword (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloConnectionParameters.testMissingUserName (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testDropTableWithoutDeleteLeavesTableIntact (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testEmptyIteratorPushdownValue (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testExternalNonExistentTableFails (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testMissingColumnMappingFails (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testNonBooleanIteratorPushdownValue (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testNonExternalExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testNonNullLocation (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testPreCreateTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testRollbackCreateTableDeletesExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testRollbackCreateTableDoesntDeleteExternalExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testRollbackCreateTableOnNonExistentTable (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testTableJobPropertiesCallsInputAndOutputMethods (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testTablePropertiesPassedToInputJobProperties (batchId=165)
org.apache.hadoop.hive.accumulo.TestAccumuloStorageHandler.testTablePropertiesPassedToOutputJobProperties (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testISEIsPropagated (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testISEIsPropagatedWithReflection (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testTokenMerge (batchId=165)
org.apache.hadoop.hive.accumulo.TestHiveAccumuloHelper.testTokenToConfFromUser (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormat (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormatWithAuthorizations (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormatWithEmptyColumns (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureAccumuloInputFormatWithIterators (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testConfigureMockAccumuloInputFormat (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableInputFormat.testIteratorNotInSplitsCompensation (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableOutputFormat.testBasicConfiguration (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableOutputFormat.testMockInstance (batchId=165)
org.apache.hadoop.hive.accumulo.mr.TestHiveAccumuloTableOutputFormat.testSaslConfiguration (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testEmptyListRangeGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testManyRangesGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testNullRangeGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.predicate.TestAccumuloPredicateHandler.testSingleRangeGeneratorOutput (batchId=165)
org.apache.hadoop.hive.accumulo.serde.TestAccumuloRowSerializer.testBufferResetBeforeUse (batchId=165)
org.apache.hadoop.hive.cli.TestCliDriverMethods.testThatCliDriverPrintsHeaderForCommandsWithSchema (batchId=166)
org.apache.hadoop.hive.cli.TestCliDriverMethods.testThatCliDriverPrintsNoHeaderForCommandsWithNoSchema (batchId=166)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_varchar_simple] (batchId=151)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=104)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=96)
org.apache.hadoop.hive.common.TestBlobStorageUtils.testValidAndInvalidFileSystems (batchId=240)
org.apache.hadoop.hive.io.TestHadoopFileStatus.testHadoopFileStatusAclEntries (batchId=190)
org.apache.hadoop.hive.llap.cache.TestIncrementalObjectSizeEstimator.testMetadata (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize2 (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize30 (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize64 (batchId=282)
org.apache.hadoop.hive.llap.cache.TestLowLevelLrfuCachePolicy.testHeapSize8 (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestLlapDaemonProtocolServerImpl.testSimpleCall (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testFinishablePreeptsNonFinishable (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionQueueComparator (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionStateOnTaskMoveToFinishableState (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionStateOnTaskMoveToNonFinishableState (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testWaitQueuePreemption (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestFirstInFirstOutComparator.testWaitQueueComparator (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestFirstInFirstOutComparator.testWaitQueueComparatorParallelism (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestFirstInFirstOutComparator.testWaitQueueComparatorWithinDagPriority (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestShortestJobFirstComparator.testWaitQueueComparator (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestShortestJobFirstComparator.testWaitQueueComparatorParallelism (batchId=282)
org.apache.hadoop.hive.llap.daemon.impl.comparator.TestShortestJobFirstComparator.testWaitQueueComparatorWithinDagPriority (batchId=282)
org.apache.hadoop.hive.llap.tez.TestLlapDaemonProtocolClientProxy.testMultipleNodes (batchId=164)
org.apache.hadoop.hive.llap.tez.TestLlapDaemonProtocolClientProxy.testSingleInvocationPerNode (batchId=164)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testEntityTracker1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskCommunicator.testFinishableStateUpdateFailure (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityDelayedAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityFallbackToNonLocal (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityNodeCommErrorDelayedAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityNodeCommErrorImmediateAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedQueeTaskSelectionAfterScheduled (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testFallbackAllocationOrderedNext (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForceLocalityTest1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityMultiplePreemptionsSameHost1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityMultiplePreemptionsSameHost2 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityNotInDelayedQueue (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityPreemption (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testForcedLocalityUnknownHost (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testLocalityDelayTaskOrdering (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNoForceLocalityCounterTest1 (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNoLocalityNotInDelayedQueue (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNodeDisabled (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testNodeReEnabled (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testPreemption (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testPreemptionChoiceTimeOrdering (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testSimpleLocalAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testSimpleNoLocalityAllocation (batchId=232)
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testTaskInfoDelay (batchId=232)
org.apache.hadoop.hive.metastore.TestHiveAlterHandler.testAlterTableAddColNotUpdateStats (batchId=186)
org.apache.hadoop.hive.metastore.TestHiveAlterHandler.testAlterTableChangePosNotUpdateStats (batchId=186)
org.apache.hadoop.hive.metastore.TestHiveAlterHandler.testAlterTableDelColUpdateStats (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.allWithStats (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.noneWithStats (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.nonexistentPartitions (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCache.someNonexistentPartitions (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsCacheWithBitVector.allPartitions (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.MiddleOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusDouble (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusLong (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.TwoEndsOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusDecimal (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusDouble (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusLong (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.allPartitionsHaveBitVectorStatusString (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsExtrapolation.noPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.MiddleOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusDecimal (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusDouble (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsAndMiddleOfPartitionsHaveBitVectorStatusLong (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.TwoEndsOfPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.allPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseAggregateStatsNDVUniformDist.noPartitionsHaveBitVectorStatus (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addMultiColForeignKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addMultiColPrimaryKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addMultiForeignKeys (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.addSecondForeignKeys (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterDb (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterFunction (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterIndex (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.alterTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.binaryPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.binaryTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.booleanPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.booleanTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createDb (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createFunction (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createIndex (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createRole (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createTableWithForeignKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.createTableWithPrimaryKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.decimalPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.decimalTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.doublePartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.doublePrimaryKey (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.doubleTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropDb (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropFunction (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropIndex (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropRole (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.dropTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.getPartitions (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.hashSd (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.listGetDropPartitionNames (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.longPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.longTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.skewInfo (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.stringPartitionStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStore.stringTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.decimalPartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.decimalTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.doublePartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.doubleTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.longPartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.longTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.stringPartitionStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreBitVector.stringTableStatistics (batchId=186)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.alterTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.booleanTableStatistics (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.createPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.createTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.dropPartition (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.dropTable (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.getPartitions (batchId=187)
org.apache.hadoop.hive.metastore.hbase.TestHBaseStoreCached.listGetDropPartitionNames (batchId=187)
org.apache.hadoop.hive.ql.exec.TestContext.testGetScratchDirectoriesForPaths (batchId=262)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testDelete (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testDeleteDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testInsert (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testInsertDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testNonAcidDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testNonAcidWrite (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testUpdate (batchId=263)
org.apache.hadoop.hive.ql.exec.TestFileSinkOperator.testUpdateDynamicPartitioning (batchId=263)
org.apache.hadoop.hive.ql.exec.TestUtilities.testGetInputPathsWithEmptyTables (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnMrNoDp (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnMrWithDp (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnTezNoDp (batchId=268)
org.apache.hadoop.hive.ql.exec.TestUtilities.testRemoveTempOrDuplicateFilesOnTezWithDp (batchId=268)
org.apache.hadoop.hive.ql.exec.mr.TestMapRedTask.mrTask_updates_Metrics (batchId=268)
org.apache.hadoop.hive.ql.exec.mr.TestMapredLocalTask.localMRTask_updates_Metrics (batchId=268)
org.apache.hadoop.hive.ql.exec.spark.TestSparkTask.sparkTask_updates_Metrics (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestCustomPartitionVertex.testGetBytePayload (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testExtraEvents (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMissingEvent (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMultipleSourcesOrdering1 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMultipleSourcesOrdering2 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testMultipleSourcesOrdering3 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testNoPruning (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceMultipleFiltersOrdering1 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceMultipleFiltersOrdering2 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceOrdering1 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceOrdering2 (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testConsistentHashing (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testConsistentHashingFallback (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testNonFileSplits (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testOrcSplitsBasic (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestHostAffinitySplitLocationProvider.testOrcSplitsLocationAffinity (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testCloseAndOpenDefault (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testCloseAndOpenWithResources (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testSessionDestroy (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezSessionPool.testSessionReopen (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testBuildDag (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testClose (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testEmptyWork (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testExistingSessionGetsStorageHandlerResources (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testExtraResourcesAddedToDag (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testGetExtraLocalResources (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testParseRightmostXmx (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit (batchId=267)
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.tezTask_updates_Metrics (batchId=267)
org.apache.hadoop.hive.ql.io.TestAcidInputFormat.org.apache.hadoop.hive.ql.io.TestAcidInputFormat (batchId=254)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testEqualOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testGreaterThanOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testGreaterThanOrEqualOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testHitLastBlock (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testHitSamePositionTwice (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testLessThanOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testLessThanOrEqualOpClass (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testNonLinearEqualTo (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testNonLinearGreaterThan (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testNonLinearLessThan (batchId=252)
org.apache.hadoop.hive.ql.io.TestHiveBinarySearchRecordReader.testResetRange (batchId=252)
org.apache.hadoop.hive.ql.io.avro.TestAvroGenericRecordReader.emptyFile (batchId=252)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testNewBase (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testOriginalReaderPair (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testOriginalReaderPairNoMin (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testReaderPair (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestOrcRawRecordMerger.testReaderPairNoMin (batchId=254)
org.apache.hadoop.hive.ql.io.orc.TestVectorizedOrcAcidRowBatchReader.testCanCreateVectorizedAcidRowBatchReaderOnSplit (batchId=254)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testArrayOfArrays (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testArrayType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testEmptyArrays (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testExpectedArrayTypeOnRecord (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testExpectedMapTypeOnRecord (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testExpectedStructTypeOnRecord (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testMapType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testSimpleType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testStructType (batchId=250)
org.apache.hadoop.hive.ql.io.parquet.TestMapredParquetInputFormat.testConstructorWithParquetInputFormat (batchId=251)
org.apache.hadoop.hive.ql.io.parquet.TestMapredParquetOutputFormat.testConstructorWithFormat (batchId=252)
org.apache.hadoop.hive.ql.io.parquet.TestMapredParquetOutputFormat.testGetHiveRecordWriter (batchId=252)
org.apache.hadoop.hive.ql.lockmgr.TestDummyTxnManager.org.apache.hadoop.hive.ql.lockmgr.TestDummyTxnManager (batchId=275)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyExistingFilesOnDifferentFileSystem[0] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyExistingFilesOnDifferentFileSystem[15] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyNewFilesOnDifferentFileSystem[0] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestHiveCopyFiles.testCopyNewFilesOnDifferentFileSystem[15] (batchId=262)
org.apache.hadoop.hive.ql.metadata.TestTableIterable.testNumReturned (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren1 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren2 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren3 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren4 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren5 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren6 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestColumnPrunerProcCtx.testGetSelectNestedColPathsFromChildren7 (batchId=258)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testConditionalMoveOnHdfsIsNotOptimized (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testConditionalMoveTaskIsNotOptimized (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testConditionalMoveTaskIsOptimized (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMergePathValidMoveWorkReturnsNewMoveWork (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMergePathWithInvalidMoveWorkThrowsException (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMovePathsThatCanBeMerged (batchId=262)
org.apache.hadoop.hive.ql.optimizer.TestGenMapRedUtilsCreateConditionalTask.testMovePathsThatCannotBeMerged (batchId=262)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testCreateRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testDropRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantGroupTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleGroup (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantServer (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantUri (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantUserTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeGroupTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleGroup (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeUserTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantGroupOnTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantRoleOnTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowGrantUserOnTable (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantGroup (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantRole (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testShowRoleGrantUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV1.testPrivInGrant (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV1.testPrivInGrantNotAccepted (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestPrivilegesV2.testPrivInGrant (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestSessionUserName.testSessionConstructorUser (batchId=257)
org.apache.hadoop.hive.ql.parse.authorization.TestSessionUserName.testSessionDefaultUser (batchId=257)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJars (batchId=274)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJarsNoExtraJars (batchId=274)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJarsStartingWithNull (batchId=274)
org.apache.hadoop.hive.ql.plan.TestTezWork.testConfigureJarsWithNull (batchId=274)
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerCheckInvocation.org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerCheckInvocation (batchId=208)
org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerShowFilters.org.apache.hadoop.hive.ql.security.authorization.plugin.TestHiveAuthorizerShowFilters (batchId=208)
org.apache.hadoop.hive.ql.session.TestAddResource.testDeleteJar (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testDeleteJarMultiple (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testDuplicateAdds (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testSanity (batchId=270)
org.apache.hadoop.hive.ql.session.TestAddResource.testUnion (batchId=270)
org.apache.hadoop.hive.schshim.TestFairSchedulerQueueAllocator.testQueueAllocation (batchId=230)
org.apache.hadoop.hive.serde2.TestSerdeWithFieldComments.testFieldComments (batchId=190)
org.apache.hive.beeline.TestBeeLineOpts.testPropertyNamesSet (batchId=167)
org.apache.hive.beeline.TestBufferedRows.testNormalizeWidths (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testConnectHook (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGetHookBeeLineWithShowDbInPrompt (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGetHookBeeLineWithoutShowDbInPrompt (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGetHookCli (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testGoHook (batchId=167)
org.apache.hive.beeline.TestClientCommandHookFactory.testUseHook (batchId=167)
org.apache.hive.beeline.TestHiveSchemaTool.shouldReturnActualPassword (batchId=167)
org.apache.hive.beeline.TestHiveSchemaTool.shouldReturnStrippedPassword (batchId=167)
org.apache.hive.beeline.TestIncrementalRowsWithNormalization.testIncrementalRows (batchId=167)
org.apache.hive.beeline.TestTableOutputFormat.testPrint (batchId=167)
org.apache.hive.hcatalog.cli.SemanticAnalysis.TestHCatAuthUtil.authEnabledV2Auth (batchId=174)
org.apache.hive.hcatalog.streaming.mutate.client.TestMutatorClient.org.apache.hive.hcatalog.streaming.mutate.client.TestMutatorClient (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.client.TestTransaction.org.apache.hive.hcatalog.streaming.mutate.client.TestTransaction (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.client.lock.TestHeartbeatTimerTask.org.apache.hive.hcatalog.streaming.mutate.client.lock.TestHeartbeatTimerTask (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.client.lock.TestLock.org.apache.hive.hcatalog.streaming.mutate.client.lock.TestLock (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.worker.TestMetaStorePartitionHelper.org.apache.hive.hcatalog.streaming.mutate.worker.TestMetaStorePartitionHelper (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorCoordinator.org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorCoordinator (batchId=181)
org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorImpl.org.apache.hive.hcatalog.streaming.mutate.worker.TestMutatorImpl (batchId=181)
org.apache.hive.jdbc.TestHivePreparedStatement.escapingOfStringArgument (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.oneArgument (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.pastingIntoEscapedQuery (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.pastingIntoQuery (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.testNonParameterized (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.unsetArgument (batchId=233)
org.apache.hive.jdbc.TestHivePreparedStatement.unusedArgument (batchId=233)
org.apache.hive.jdbc.authorization.TestCLIAuthzSessionContext.testAuthzSessionContextContents (batchId=215)
org.apache.hive.jdbc.authorization.TestHS2AuthzContext.org.apache.hive.jdbc.authorization.TestHS2AuthzContext (batchId=216)
org.apache.hive.jdbc.authorization.TestHS2AuthzSessionContext.org.apache.hive.jdbc.authorization.TestHS2AuthzSessionContext (batchId=216)
org.apache.hive.service.auth.TestLdapAuthenticationProviderImpl.org.apache.hive.service.auth.TestLdapAuthenticationProviderImpl (batchId=183)
org.apache.hive.service.auth.ldap.TestChainFilter.org.apache.hive.service.auth.ldap.TestChainFilter (batchId=183)
org.apache.hive.service.auth.ldap.TestCustomQueryFilter.org.apache.hive.service.auth.ldap.TestCustomQueryFilter (batchId=184)
org.apache.hive.service.auth.ldap.TestGroupFilter.org.apache.hive.service.auth.ldap.TestGroupFilter (batchId=183)
org.apache.hive.service.auth.ldap.TestLdapSearch.org.apache.hive.service.auth.ldap.TestLdapSearch (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNames (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNamesAndAttributes (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNamesNoRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetAllLdapNamesWithExceptionInNamingEnumerationClose (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetSingleLdapName (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testGetSingleLdapNameNoRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHandle (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHasSingleResult (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHasSingleResultManyRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestSearchResultHandler.testHasSingleResultNoRecords (batchId=183)
org.apache.hive.service.auth.ldap.TestUserFilter.org.apache.hive.service.auth.ldap.TestUserFilter (batchId=184)
org.apache.hive.service.auth.ldap.TestUserSearchFilter.org.apache.hive.service.auth.ldap.TestUserSearchFilter (batchId=184)
org.apache.hive.service.cli.session.TestHiveSessionImpl.testLeakOperationHandle (batchId=211)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testAbandonedSessionMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testActiveSessionMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testActiveSessionTimeMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testOpenSessionMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testOpenSessionTimeMetrics (batchId=185)
org.apache.hive.service.cli.session.TestSessionManagerMetrics.testThreadPoolMetrics (batchId=185)
org.apache.hive.service.cli.thrift.TestThriftHttpCLIServiceFeatures.org.apache.hive.service.cli.thrift.TestThriftHttpCLIServiceFeatures (batchId=209)
org.apache.hive.spark.client.TestJobHandle.org.apache.hive.spark.client.TestJobHandle (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testAddJarsAndFiles (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testCounters (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testErrorJob (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testJobSubmission (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testMetricsCollection (batchId=277)
org.apache.hive.spark.client.TestSparkClient.testSimpleSparkJob (batchId=277)
org.apache.orc.impl.TestDataReaderProperties.testCompleteBuild (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testEmptyBuild (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testMissingFileSystem (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testMissingNonRequiredArgs (batchId=236)
org.apache.orc.impl.TestDataReaderProperties.testMissingPath (batchId=236)
org.apache.orc.impl.TestMemoryManager.testCallback (batchId=237)
org.apache.orc.impl.TestOutStream.testFlush (batchId=237)
org.apache.orc.impl.TestRecordReaderImpl.testClose (batchId=237)
org.apache.orc.impl.TestRecordReaderImpl.testCloseWithException (batchId=237)
org.apache.orc.impl.TestRecordReaderImpl.testMaxLengthToReader (batchId=237)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3002/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3002/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3002/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3002/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3002/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3002/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 375 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12847769 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15829506" author="hiveqa" created="Thu, 19 Jan 2017 08:20:47 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12847769/HIVE-15478.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12847769/HIVE-15478.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 77 failed/errored test(s), 10959 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_joins] (batchId=218)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_predicate_pushdown] (batchId=218)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_single_sourced_multi_insert] (batchId=218)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[ctas] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_into_dynamic_partitions] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_into_table] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_directory] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_dynamic_partitions] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_table] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[write_final_output_blobstore] (batchId=230)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_table_stats] (batchId=48)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[analyze_tbl_part] (batchId=44)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input19] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_overwrite_directory] (batchId=25)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample5] (batchId=52)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[serde_opencsv] (batchId=68)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[specialChar] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_math_funcs] (batchId=19)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[dboutput] (batchId=221)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[fileformat_base64] (batchId=221)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[udf_row_sequence] (batchId=221)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[url_hook] (batchId=221)
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testCliDriver[case_with_row_sequence] (batchId=224)
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testCliDriver[invalid_row_sequence] (batchId=224)
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testCliDriver[serde_regex] (batchId=224)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_insert_partition_dynamic] (batchId=158)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_insert_partition_static] (batchId=156)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_insert_values] (batchId=157)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_unencrypted_tbl] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_load_data_to_encrypted_tables] (batchId=157)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_move_tbl] (batchId=157)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_select_read_only_encrypted_tbl] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_select_read_only_unencrypted_tbl] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_unencrypted_nonhdfs_external_tables] (batchId=157)
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver[cascade_dbdrop] (batchId=225)
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver[generatehfiles_require_family_path] (batchId=225)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_llap_counters] (batchId=137)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=136)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[escape1] (batchId=139)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[escape2] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_expressions] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_math_funcs] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[hybridgrace_hashjoin_1] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[hybridgrace_hashjoin_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[orc_vectorization_ppd] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[tez_union_with_udf] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[unionDistinct_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[update_orig_table] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[vectorization_div0] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[vectorization_limit] (batchId=93)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[bucket_num_reducers2] (batchId=84)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[bucket_num_reducers] (batchId=84)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[index_bitmap3] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[index_bitmap_auto] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_dyn_part] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_map_operators] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_merge] (batchId=84)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_num_buckets] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_reducers_power_two] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[parallel_orderby] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[scriptfile1] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[fs_default_name1] (batchId=85)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[fs_default_name2] (batchId=86)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[cluster_tasklog_retrieval] (batchId=87)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[minimr_broken_pipe] (batchId=87)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query33] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query60] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query83] (batchId=222)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[sample5] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorized_math_funcs] (batchId=104)
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1 (batchId=205)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3031/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3031/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3031/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3031/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3031/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3031/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 77 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12847769 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15832156" author="hiveqa" created="Fri, 20 Jan 2017 17:38:35 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12847769/HIVE-15478.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12847769/HIVE-15478.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 10944 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestMiniSparkOnYarnCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=160)
	[infer_bucket_sort_reducers_power_two.q,list_bucket_dml_10.q,orc_merge9.q,orc_merge6.q,leftsemijoin_mr.q,bucket6.q,bucketmapjoin7.q,uber_reduce.q,empty_dir_in_table.q,vector_outer_join3.q,index_bitmap_auto.q,vector_outer_join2.q,vector_outer_join1.q,orc_merge1.q,orc_merge_diff_fs.q,load_hdfs_file_with_space_in_the_name.q,scriptfile1_win.q,quotedid_smb.q,truncate_column_buckets.q,orc_merge3.q]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[specialChar] (batchId=22)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver[cascade_dbdrop] (batchId=226)
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver[generatehfiles_require_family_path] (batchId=226)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=136)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[escape1] (batchId=139)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[escape2] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=149)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[cluster_tasklog_retrieval] (batchId=87)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[minimr_broken_pipe] (batchId=87)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3070/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3070/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3070/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3070/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3070/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3070/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12847769 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15833742" author="hiveqa" created="Sun, 22 Jan 2017 22:39:20 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12847769/HIVE-15478.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12847769/HIVE-15478.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10976 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=136)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[offset_limit_ppd_optimizer] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3118/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3118/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3118/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3118/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3118/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3118/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12847769 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15833999" author="daijy" created="Mon, 23 Jan 2017 07:16:20 +0000"  >&lt;p&gt;UT failures are not related and also appear in other runs.&lt;/p&gt;

&lt;p&gt;Patch pushed to master.&lt;/p&gt;</comment>
                            <comment id="15834057" author="daijy" created="Mon, 23 Jan 2017 08:26:39 +0000"  >&lt;p&gt;JDK 1.7 compilation is broken due to the patch. Push a small fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12846740" name="HIVE-15478.1.patch" size="35821" author="daijy" created="Wed, 11 Jan 2017 04:39:33 +0000"/>
                            <attachment id="12847479" name="HIVE-15478.2.patch" size="35895" author="daijy" created="Sat, 14 Jan 2017 05:55:06 +0000"/>
                            <attachment id="12847769" name="HIVE-15478.3.patch" size="35402" author="daijy" created="Tue, 17 Jan 2017 10:41:35 +0000"/>
                            <attachment id="12848853" name="HIVE-15478.fix-jdk1.7.patch" size="1303" author="daijy" created="Mon, 23 Jan 2017 08:26:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Jan 2017 09:51:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37ucf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15479] Move notification filtering to metastore server side</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15479</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, we fetch a notification batch and apply filtering on metastore client side.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029592">HIVE-15479</key>
            <summary>Move notification filtering to metastore server side</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="13007626">HIVE-14841</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 22:51:22 +0000</created>
                <updated>Tue, 20 Dec 2016 22:51:22 +0000</updated>
                                                                            <component>repl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37ujz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-15480] Failing test : TestMiniTezCliDriver.testCliDriver : explainanalyze_1</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15480</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See recent ptest failure : &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2642/testReport/org.apache.hadoop.hive.cli/TestMiniTezCliDriver/testCliDriver_explainanalyze_1_/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2642/testReport/org.apache.hadoop.hive.cli/TestMiniTezCliDriver/testCliDriver_explainanalyze_1_/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Standard Output

Running: diff -a /home/hiveptest/104.154.92.121-hiveptest-0/apache-github-source-source/itests/qtest/target/qfile-results/clientpositive/explainanalyze_1.q.out /home/hiveptest/104.154.92.121-hiveptest-0/apache-github-source-source/ql/src/test/results/clientpositive/tez/explainanalyze_1.q.out
248c248
&amp;lt;             Group By Operator [GBY_2] (rows=205/500 width=95)
---
&amp;gt;             Group By Operator [GBY_2] (rows=205/309 width=95)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13029594">HIVE-15480</key>
            <summary>Failing test : TestMiniTezCliDriver.testCliDriver : explainanalyze_1</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="13015210">HIVE-15058</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Dec 2016 22:54:37 +0000</created>
                <updated>Thu, 29 Dec 2016 17:31:05 +0000</updated>
                            <resolved>Thu, 29 Dec 2016 17:31:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15785734" author="thejas" created="Thu, 29 Dec 2016 17:30:22 +0000"  >&lt;p&gt;Lets track in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15084&quot; title=&quot;Flaky test: TestMiniTezCliDriver:explainanalyze_1,2, 3, 4, 5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15084&quot;&gt;&lt;del&gt;HIVE-15084&lt;/del&gt;&lt;/a&gt;, which has other explainanalyze tests failing with similar diff&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13015959">HIVE-15084</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Dec 2016 17:30:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37ukf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15481] Support multiple and nested subqueries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15481</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is continuation of the work done in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15192&quot; title=&quot;Use Calcite to de-correlate and plan subqueries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15192&quot;&gt;&lt;del&gt;HIVE-15192&lt;/del&gt;&lt;/a&gt;. As listed at  &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12614003/SubQuerySpec.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Restrictions &lt;/a&gt; currently it is not possible to execute queries which either have more than one subquery or have nested subquery.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029635">HIVE-15481</key>
            <summary>Support multiple and nested subqueries</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="13028796">HIVE-15456</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vgarg">Vineet Garg</assignee>
                                    <reporter username="vgarg">Vineet Garg</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 05:42:13 +0000</created>
                <updated>Wed, 26 Jul 2017 00:03:08 +0000</updated>
                            <resolved>Tue, 10 Jan 2017 20:53:45 +0000</resolved>
                                                    <fixVersion>2.2.0</fixVersion>
                                    <component>Query Planning</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15766314" author="hiveqa" created="Wed, 21 Dec 2016 06:59:54 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844183/HIVE-15481.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844183/HIVE-15481.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 6 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 20 failed/errored test(s), 10811 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=115)
	[groupby_map_ppr_multi_distinct.q,bucketmapjoin10.q,vectorization_13.q,mapjoin_mapjoin.q,union2.q,join41.q,groupby8_map.q,cbo_subq_not_in.q,identity_project_remove_skip.q,groupby8_map_skew.q,nullgroup2.q,mapjoin_subquery.q,bucket2.q,smb_mapjoin_1.q,union_remove_8.q]
TestVectorizedColumnReaderBase - did not produce a TEST-*.xml file (likely timed out) (batchId=251)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[str_to_map] (batchId=58)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=92)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exchange_partition_neg_incomplete_partition] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exim_00_unsupported_schema] (batchId=85)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[subquery_exists_implicit_gby] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[subquery_notexists_implicit_gby] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[subquery_subquery_chain] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[subquery_windowing_corr] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[subquery_with_or_cond] (batchId=85)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query36] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query70] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query86] (batchId=222)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_in] (batchId=120)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2668/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2668/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2668/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2668/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2668/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2668/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 20 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844183 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15775471" author="vgarg" created="Sat, 24 Dec 2016 21:42:12 +0000"  >&lt;p&gt;code @ &lt;a href=&quot;https://github.com/vineetgarg02/hive/tree/multi_subquery&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/vineetgarg02/hive/tree/multi_subquery&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15775602" author="hiveqa" created="Sat, 24 Dec 2016 23:47:21 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844627/HIVE-15481.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844627/HIVE-15481.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 13 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10871 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMiniLlapLocalCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=139)
	[skewjoinopt15.q,vector_coalesce.q,orc_ppd_decimal.q,cbo_rp_lineage2.q,insert_into_with_schema.q,join_emit_interval.q,load_dyn_part3.q,auto_sortmerge_join_14.q,vector_null_projection.q,vector_cast_constant.q,mapjoin2.q,bucket_map_join_tez2.q,correlationoptimizer4.q,schema_evol_orc_acidvec_part_update.q,vectorization_12.q,vector_number_compare_projection.q,orc_merge_incompat3.q,vector_leftsemi_mapjoin.q,update_all_non_partitioned.q,multi_column_in_single.q,schema_evol_orc_nonvec_table.q,cbo_rp_semijoin.q,tez_insert_overwrite_local_directory_1.q,schema_evol_text_vecrow_table.q,vector_count.q,auto_sortmerge_join_15.q,vector_if_expr.q,delete_whole_partition.q,vector_decimal_6.q,sample1.q]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[offset_limit_ppd_optimizer] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_notin] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2722/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2722/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2722/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2722/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2722/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2722/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844627 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15786687" author="hiveqa" created="Fri, 30 Dec 2016 02:35:51 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845133/HIVE-15481.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845133/HIVE-15481.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 13 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10862 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=100)
	[avro_joins.q,skewjoinopt16.q,auto_join14.q,vectorization_14.q,auto_join26.q,stats1.q,cbo_stats.q,auto_sortmerge_join_6.q,union22.q,union_remove_24.q,union_view.q,smb_mapjoin_22.q,stats15.q,ptf_matchpath.q,transform_ppr1.q]
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=124)
	[table_access_keys_stats.q,bucketmapjoin11.q,auto_join4.q,join34.q,nullgroup.q,mergejoins_mixed.q,sort.q,join_nullsafe.q,stats8.q,auto_join28.q,join17.q,union17.q,skewjoinopt11.q,groupby1_map.q,load_dyn_part11.q]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=103)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2748/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2748/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2748/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2748/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2748/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2748/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845133 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15788985" author="hiveqa" created="Sat, 31 Dec 2016 05:48:31 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845214/HIVE-15481.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845214/HIVE-15481.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 13 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10905 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=96)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2751/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2751/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2751/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2751/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2751/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2751/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845214 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15793822" author="vgarg" created="Tue, 3 Jan 2017 01:10:11 +0000"  >&lt;p&gt;Added back restriction to disable multiple queries with OR since it produces wrong results (&lt;a href=&quot;https://issues.apache.org/jira/browse/CALCITE-1546&quot; title=&quot;Wrong plan for NOT IN sub-queries with disjunction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CALCITE-1546&quot;&gt;&lt;del&gt;CALCITE-1546&lt;/del&gt;&lt;/a&gt;). &lt;/p&gt;</comment>
                            <comment id="15793920" author="hiveqa" created="Tue, 3 Jan 2017 02:18:31 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845313/HIVE-15481.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845313/HIVE-15481.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 14 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 10920 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_testxpath] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_coalesce] (batchId=75)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=92)
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropTable (batchId=208)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2759/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2759/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2759/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2759/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2759/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2759/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845313 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15803282" author="vgarg" created="Fri, 6 Jan 2017 02:31:46 +0000"  >&lt;p&gt;Fixed an issue where mix of correlated and uncorrelated subquery would lead to exception&lt;/p&gt;</comment>
                            <comment id="15803568" author="hiveqa" created="Fri, 6 Jan 2017 04:59:05 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12845924/HIVE-15481.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12845924/HIVE-15481.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2809/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2809/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2809/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2809/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2809/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2809/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 04:59:03.793
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-2809/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 04:59:03.795
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 4e3a620 HIVE-15542: NPE in StatsUtils::getColStatistics when all values in DATE column are NULL (Rajesh Balamohan, reviewed by Gopal V)
+ git clean -f -d
Removing llap-server/src/java/org/apache/hadoop/hive/llap/cache/FileCache.java
Removing llap-server/src/java/org/apache/hadoop/hive/llap/cache/FileCacheCleanupThread.java
Removing llap-server/src/java/org/apache/hadoop/hive/llap/cache/SerDeLowLevelCacheImpl.java
Removing llap-server/src/java/org/apache/hadoop/hive/llap/io/api/impl/LlapRecordReader.java
Removing llap-server/src/java/org/apache/hadoop/hive/llap/io/decode/GenericColumnVectorProducer.java
Removing llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/LineRrOffsetReader.java
Removing llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/PassThruOffsetReader.java
Removing llap-server/src/java/org/apache/hadoop/hive/llap/io/encoded/SerDeEncodedDataReader.java
Removing llap-server/src/java/org/apache/hadoop/hive/llap/io/metadata/ConsumerFileMetadata.java
Removing llap-server/src/java/org/apache/hadoop/hive/llap/io/metadata/ConsumerStripeMetadata.java
Removing ql/src/test/queries/clientpositive/llap_text.q
Removing ql/src/test/results/clientpositive/llap_text.q.out
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at 4e3a620 HIVE-15542: NPE in StatsUtils::getColStatistics when all values in DATE column are NULL (Rajesh Balamohan, reviewed by Gopal V)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2017-01-06 04:59:04.836
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/itests/src/test/resources/testconfiguration.properties: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/HiveSubQRemoveRelBuilder.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/reloperators/HiveFilter.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/HiveSubQueryRemoveRule.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/CalcitePlanner.java: No such file or directory
error: a/ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java: No such file or directory
error: a/ql/src/test/queries/clientnegative/subquery_restrictions.q: No such file or directory
error: a/ql/src/test/queries/clientpositive/perf/query45.q: No such file or directory
error: a/ql/src/test/queries/clientpositive/subquery_exists.q: No such file or directory
error: a/ql/src/test/queries/clientpositive/subquery_in.q: No such file or directory
error: a/ql/src/test/queries/clientpositive/subquery_in_having.q: No such file or directory
error: a/ql/src/test/queries/clientpositive/subquery_notexists.q: No such file or directory
error: a/ql/src/test/queries/clientpositive/subquery_notin.q: No such file or directory
error: a/ql/src/test/results/clientnegative/subquery_corr_grandparent.q.out: No such file or directory
error: a/ql/src/test/results/clientnegative/subquery_restrictions.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/llap/explainuser_1.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/llap/lineage3.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/llap/subquery_exists.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/llap/subquery_in.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/llap/subquery_notin.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/llap/vector_groupby_mapjoin.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/spark/subquery_exists.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/spark/subquery_in.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/subquery_exists.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/subquery_in_having.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/subquery_notexists.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/subquery_notin_having.q.out: No such file or directory
error: a/ql/src/test/results/clientpositive/vector_groupby_mapjoin.q.out: No such file or directory
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12845924 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15806792" author="hiveqa" created="Sat, 7 Jan 2017 04:55:02 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12846131/HIVE-15481.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12846131/HIVE-15481.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 14 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 10925 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_testxpath] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_coalesce] (batchId=75)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[offset_limit_ppd_optimizer] (batchId=150)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2830/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2830/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2830/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2830/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2830/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2830/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12846131 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15811958" author="jcamachorodriguez" created="Mon, 9 Jan 2017 14:54:48 +0000"  >&lt;p&gt;Patch LGTM, +1.&lt;/p&gt;

&lt;p&gt;I left a minor comment in the RB and a question related to a possible follow-up.&lt;/p&gt;</comment>
                            <comment id="15812835" author="vgarg" created="Mon, 9 Jan 2017 21:02:57 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; Can you also take a look if you have time?&lt;/p&gt;</comment>
                            <comment id="15813836" author="vgarg" created="Tue, 10 Jan 2017 04:26:31 +0000"  >&lt;p&gt;Address review comments.&lt;/p&gt;</comment>
                            <comment id="15813986" author="hiveqa" created="Tue, 10 Jan 2017 05:45:51 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12846491/HIVE-15481.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12846491/HIVE-15481.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 14 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10949 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[case_sensitivity] (batchId=61)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input_testxpath] (batchId=28)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_coalesce] (batchId=75)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_notin] (batchId=150)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2855/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2855/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2855/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2855/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2855/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2855/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12846491 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15815747" author="ashutoshc" created="Tue, 10 Jan 2017 18:26:10 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15816154" author="ashutoshc" created="Tue, 10 Jan 2017 20:53:45 +0000"  >&lt;p&gt;Pushed to master. Thanks, Vineet!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844183" name="HIVE-15481.1.patch" size="696672" author="vgarg" created="Wed, 21 Dec 2016 05:44:12 +0000"/>
                            <attachment id="12844627" name="HIVE-15481.2.patch" size="948017" author="vgarg" created="Sat, 24 Dec 2016 21:40:40 +0000"/>
                            <attachment id="12845214" name="HIVE-15481.3.patch" size="770400" author="vgarg" created="Sat, 31 Dec 2016 04:30:15 +0000"/>
                            <attachment id="12845313" name="HIVE-15481.4.patch" size="803943" author="vgarg" created="Tue, 3 Jan 2017 01:08:02 +0000"/>
                            <attachment id="12845924" name="HIVE-15481.5.patch" size="806067" author="vgarg" created="Fri, 6 Jan 2017 02:31:03 +0000"/>
                            <attachment id="12846491" name="HIVE-15481.6.patch" size="823769" author="vgarg" created="Tue, 10 Jan 2017 04:26:17 +0000"/>
                            <attachment id="12846131" name="HIVE-15481.6.patch" size="823745" author="vgarg" created="Fri, 6 Jan 2017 23:51:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Dec 2016 06:59:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37utj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15482] LLAP: When pre-emption is disabled task scheduler gets into loop</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15482</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When pre-emption is disabled and when number of slots is 0, the scheduler can get into a loop trying to schedule the tasks without actually waiting for free slots.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029637">HIVE-15482</key>
            <summary>LLAP: When pre-emption is disabled task scheduler gets into loop</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 05:53:22 +0000</created>
                <updated>Wed, 26 Jul 2017 00:03:05 +0000</updated>
                            <resolved>Wed, 21 Dec 2016 18:57:06 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>llap</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15766219" author="prasanth_j" created="Wed, 21 Dec 2016 05:55:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; can you please review this patch? really small one&lt;/p&gt;</comment>
                            <comment id="15766399" author="gopalv" created="Wed, 21 Dec 2016 07:57:43 +0000"  >&lt;p&gt;LGTM  - +1 tests pending.&lt;/p&gt;

&lt;p&gt;Minor readability nit,  &lt;tt&gt;enablePreemption == false&lt;/tt&gt; instead of the ! implied precedence over the ||?&lt;/p&gt;</comment>
                            <comment id="15766415" author="hiveqa" created="Wed, 21 Dec 2016 08:08:08 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844184/HIVE-15482.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844184/HIVE-15482.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 10795 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMiniLlapLocalCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=144)
	[vectorized_rcfile_columnar.q,vector_elt.q,explainuser_1.q,multi_insert.q,tez_dml.q,vector_bround.q,schema_evol_orc_acid_table.q,vector_when_case_null.q,orc_ppd_schema_evol_1b.q,vector_join30.q,vectorization_11.q,cte_3.q,update_tmp_table.q,vector_decimal_cast.q,groupby_grouping_id2.q,vector_decimal_round.q,tez_smb_empty.q,orc_merge6.q,vector_char_mapjoin1.q,vector_decimal_trailing.q,cte_5.q,tez_union.q,vector_decimal_2.q,columnStatsUpdateForStatsOptimizer_1.q,vector_outer_join3.q,schema_evol_text_vec_part_all_complex.q,tez_dynpart_hashjoin_2.q,auto_sortmerge_join_12.q,offset_limit.q,tez_union_multiinsert.q]
TestVectorizedColumnReaderBase - did not produce a TEST-*.xml file (likely timed out) (batchId=251)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[str_to_map] (batchId=58)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exchange_partition_neg_incomplete_partition] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exim_00_unsupported_schema] (batchId=85)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query36] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query70] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query86] (batchId=222)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2669/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2669/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2669/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2669/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2669/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2669/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844184 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15766704" author="hiveqa" created="Wed, 21 Dec 2016 10:29:21 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844208/HIVE-15482.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844208/HIVE-15482.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10813 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[str_to_map] (batchId=58)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exchange_partition_neg_incomplete_partition] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exim_00_unsupported_schema] (batchId=85)
org.apache.hive.jdbc.TestJdbcDriver2.testSelectExecAsync2 (batchId=214)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2672/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2672/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2672/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2672/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2672/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2672/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844208 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15767841" author="prasanth_j" created="Wed, 21 Dec 2016 18:50:38 +0000"  >&lt;p&gt;The test failures are handled in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15453&quot; title=&quot;Fix failing tests in master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15453&quot;&gt;&lt;del&gt;HIVE-15453&lt;/del&gt;&lt;/a&gt;. Other failures are in umbrella jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14547&quot; title=&quot;[Umbrella] Test case fixes / improvements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14547&quot;&gt;HIVE-14547&lt;/a&gt;. No related failures.&lt;/p&gt;</comment>
                            <comment id="15767860" author="prasanth_j" created="Wed, 21 Dec 2016 18:57:06 +0000"  >&lt;p&gt;Committed to master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844184" name="HIVE-15482.1.patch" size="889" author="prasanth_j" created="Wed, 21 Dec 2016 05:55:46 +0000"/>
                            <attachment id="12844208" name="HIVE-15482.2.patch" size="897" author="prasanth_j" created="Wed, 21 Dec 2016 08:56:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Dec 2016 07:57:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37utz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12335837</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15483] Database and table name is case sensitive when used in show grant</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15483</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When use SQLStdAuth, db name and table name is case sensitive when use  &lt;tt&gt;show grant&lt;/tt&gt; command.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:21066/&amp;gt; show grant on table p1;
&lt;/span&gt;+-----------+--------+------------+---------+----------------------+-----------------+------------+---------------+----------------+----------+--+
| database  | table  | partition  | column  |    principal_name    | principal_type  | privilege  | grant_option  |   grant_time   | grantor  |
+-----------+--------+------------+---------+----------------------+-----------------+------------+---------------+----------------+----------+--+
| &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;   | p1     |            |         | userx                | USER            | DELETE     | &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;          | 1481872357000  | userx    |
| &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;   | p1     |            |         | userx                | USER            | INSERT     | &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;          | 1481872357000  | userx    |
| &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;   | p1     |            |         | userx                | USER            | SELECT     | &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;          | 1481872357000  | userx    |
| &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;   | p1     |            |         | userx                | USER            | UPDATE     | &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;          | 1481872357000  | userx    |
+-----------+--------+------------+---------+----------------------+-----------------+------------+---------------+----------------+----------+--+
7 rows selected (0.158 seconds)

0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:21066/&amp;gt; show grant on table P1;
&lt;/span&gt;+-----------+--------+------------+---------+-----------------+-----------------+------------+---------------+-------------+----------+--+
| database  | table  | partition  | column  | principal_name  | principal_type  | privilege  | grant_option  | grant_time  | grantor  |
+-----------+--------+------------+---------+-----------------+-----------------+------------+---------------+-------------+----------+--+
+-----------+--------+------------+---------+-----------------+-----------------+------------+---------------+-------------+----------+--+
No rows selected (9.608 seconds)
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:21066/&amp;gt; show grant on table defaulT.p1;
&lt;/span&gt;+-----------+--------+------------+---------+-----------------+-----------------+------------+---------------+-------------+----------+--+
| database  | table  | partition  | column  | principal_name  | principal_type  | privilege  | grant_option  | grant_time  | grantor  |
+-----------+--------+------------+---------+-----------------+-----------------+------------+---------------+-------------+----------+--+
+-----------+--------+------------+---------+-----------------+-----------------+------------+---------------+-------------+----------+--+
No rows selected (0.06 seconds)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13029649">HIVE-15483</key>
            <summary>Database and table name is case sensitive when used in show grant</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="niklaus.xiao">Niklaus Xiao</assignee>
                                    <reporter username="niklaus.xiao">Niklaus Xiao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 06:48:22 +0000</created>
                <updated>Tue, 22 May 2018 23:58:45 +0000</updated>
                            <resolved>Tue, 16 May 2017 06:50:27 +0000</resolved>
                                    <version>1.3.0</version>
                    <version>2.2.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>Authorization</component>
                    <component>SQLStandardAuthorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15766513" author="hiveqa" created="Wed, 21 Dec 2016 08:56:33 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844188/HIVE-15483.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844188/HIVE-15483.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 12 failed/errored test(s), 10825 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestVectorizedColumnReaderBase - did not produce a TEST-*.xml file (likely timed out) (batchId=251)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[str_to_map] (batchId=58)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[stats_based_fetch_decision] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exchange_partition_neg_incomplete_partition] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[exim_00_unsupported_schema] (batchId=85)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query36] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query70] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query86] (batchId=222)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2670/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2670/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2670/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2670/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2670/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2670/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 12 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844188 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15766882" author="niklaus.xiao" created="Wed, 21 Dec 2016 12:03:01 +0000"  >&lt;p&gt;Test failures not related. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; can you take a look?&lt;/p&gt;</comment>
                            <comment id="15774902" author="niklaus.xiao" created="Sat, 24 Dec 2016 13:30:25 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15998165" author="kgyrtkirk" created="Fri, 5 May 2017 11:13:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15999398" author="hiveqa" created="Sat, 6 May 2017 11:37:58 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844188/HIVE-15483.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844188/HIVE-15483.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 10652 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[smb_mapjoin_2] (batchId=235)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_join30] (batchId=148)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5073/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5073/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/5073/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/5073/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-5073/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-5073/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844188 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16011840" author="kgyrtkirk" created="Tue, 16 May 2017 06:50:27 +0000"  >&lt;p&gt;pushed to master, thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=niklaus.xiao&quot; class=&quot;user-hover&quot; rel=&quot;niklaus.xiao&quot;&gt;Niklaus Xiao&lt;/a&gt; for taking care of this!&lt;/p&gt;</comment>
                            <comment id="16486023" author="vgarg" created="Tue, 22 May 2018 23:58:45 +0000"  >&lt;p&gt;Hive 3.0.0 has been released so closing this jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844188" name="HIVE-15483.1.patch" size="1196" author="niklaus.xiao" created="Wed, 21 Dec 2016 06:53:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Dec 2016 08:56:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37uwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15484] Fix PerfCliDriver test failures in master</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15484</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="13029673">HIVE-15484</key>
            <summary>Fix PerfCliDriver test failures in master</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcamachorodriguez">Jesus Camacho Rodriguez</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 08:56:51 +0000</created>
                <updated>Fri, 21 Jul 2017 18:26:20 +0000</updated>
                            <resolved>Wed, 21 Dec 2016 09:15:44 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15766543" author="prasanth_j" created="Wed, 21 Dec 2016 09:11:04 +0000"  >&lt;p&gt;lgtm, +1&lt;/p&gt;</comment>
                            <comment id="15766552" author="jcamachorodriguez" created="Wed, 21 Dec 2016 09:15:44 +0000"  >&lt;p&gt;Pushed to master; no need to waste a QA run, since it is just q file updates for query86.q, query70.q and query36.q.&lt;/p&gt;

&lt;p&gt;Thanks for reporting and reviewing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844210" name="HIVE-15484.patch" size="5321" author="jcamachorodriguez" created="Wed, 21 Dec 2016 09:09:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Dec 2016 09:15:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37v1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15485] Investigate the DoAs failure in HoS</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15485</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;With DoAs enabled, HoS failed with following errors:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.hadoop.security.AccessControlException: systest tries to renew a token with renewer hive
	at org.apache.hadoop.security.token.delegation.AbstractDelegationTokenSecretManager.renewToken(AbstractDelegationTokenSecretManager.java:484)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.renewDelegationToken(FSNamesystem.java:7543)
	at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.renewDelegationToken(NameNodeRpcServer.java:555)
	at org.apache.hadoop.hdfs.server.namenode.AuthorizationProviderProxyClientProtocol.renewDelegationToken(AuthorizationProviderProxyClientProtocol.java:674)
	at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.renewDelegationToken(ClientNamenodeProtocolServerSideTranslatorPB.java:999)
	at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:617)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1073)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:2141)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:2137)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:415)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1783)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2135)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It is related to the change from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14383&quot; title=&quot;SparkClientImpl should pass principal and keytab to spark-submit instead of calling kinit explicitely&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14383&quot;&gt;&lt;del&gt;HIVE-14383&lt;/del&gt;&lt;/a&gt;. It looks like that SparkSubmit logs in Kerberos with passed in hive principal/keytab and then tries to create a hdfs delegation token for user systest with renewer hive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029740">HIVE-15485</key>
            <summary>Investigate the DoAs failure in HoS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ctang.ma">Chaoyu Tang</assignee>
                                    <reporter username="ctang.ma">Chaoyu Tang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 13:22:09 +0000</created>
                <updated>Mon, 27 Nov 2017 01:11:09 +0000</updated>
                            <resolved>Mon, 30 Jan 2017 16:31:21 +0000</resolved>
                                                    <fixVersion>2.3.0</fixVersion>
                                    <component>Spark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="15771202" author="ctang.ma" created="Thu, 22 Dec 2016 21:56:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14383&quot; title=&quot;SparkClientImpl should pass principal and keytab to spark-submit instead of calling kinit explicitely&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14383&quot;&gt;&lt;del&gt;HIVE-14383&lt;/del&gt;&lt;/a&gt; is the right way to renew the delegation token for a long running HoS session. Spark needs the principal/keytab passed in via --principal and --keytab options, and does the renewal by copying the keytab to the cluster and handling login to kerberos inside the application. &lt;br/&gt;
But the option --principal, --keytab could not work with --proxy-user in spark-submit.sh as suggested by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;Marcelo Vanzin&lt;/a&gt;, so at this moment we could support either the token renewal or the impersonation, but not both.&lt;/p&gt;</comment>
                            <comment id="15837148" author="ctang.ma" created="Wed, 25 Jan 2017 04:02:36 +0000"  >&lt;p&gt;Given that we are not able to support both doAs and delegation token renewal in Spark at this moment (see comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-5493&quot; title=&quot;Support proxy users under kerberos&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-5493&quot;&gt;&lt;del&gt;SPARK-5493&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-19143&quot; title=&quot;API in Spark for distributing new delegation tokens (Improve delegation token handling in secure clusters)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-19143&quot;&gt;SPARK-19143&lt;/a&gt; etc), and doAs is more common case in Hive, so when doAs is enabled, we will use kinit instead of passing the principal/keytab to Spark. I could not thought of other ways to make both work. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, do you have any thought? If you agree on that, could you help review the patch? Thanks. &lt;/p&gt;</comment>
                            <comment id="15837578" author="hiveqa" created="Wed, 25 Jan 2017 11:12:21 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12849217/HIVE-15485.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12849217/HIVE-15485.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 10983 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=98)
	[ptf_general_queries.q,auto_join_reordering_values.q,sample2.q,join1.q,decimal_join.q,mapjoin_subquery2.q,join32_lessSize.q,mapjoin1.q,order2.q,skewjoinopt18.q,union_remove_18.q,join25.q,groupby9.q,bucketsortoptimize_insert_6.q,ctas.q]
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[offset_limit_ppd_optimizer] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3] (batchId=93)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3169/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3169/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3169/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3169/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3169/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3169/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12849217 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15839755" author="ctang.ma" created="Thu, 26 Jan 2017 14:34:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=csun&quot; class=&quot;user-hover&quot; rel=&quot;csun&quot;&gt;Chao Sun&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt;, could you review the patch to see if it makes sense, so that we can at lease unblock the doAs issue? Thanks&lt;/p&gt;</comment>
                            <comment id="15840049" author="jxiang" created="Thu, 26 Jan 2017 17:03:58 +0000"  >&lt;p&gt;Could you put the two changes in your patch in the same place to make it a little easier to understand?&lt;/p&gt;</comment>
                            <comment id="15840222" author="ctang.ma" created="Thu, 26 Jan 2017 18:58:17 +0000"  >&lt;p&gt;Thanks, Jimmy, for looking into this. When doAs is enabled, we use kinit to login Kerberos and this kinit command need be put before the spark-submit.sh, but when doAs is disabled, the principal/keytab should be after spark-submit.sh as its parameters. I was also wondering how to combine these two changes into one, but have not found a good way. Any suggestion?&lt;/p&gt;</comment>
                            <comment id="15840465" author="jxiang" created="Thu, 26 Jan 2017 21:10:17 +0000"  >&lt;p&gt;For doAs, add kinit etc to the beginning of the list; for the other add principal etc at the end. If you are concerned with performance, will LinkedList be better than ArrayList here?&lt;/p&gt;

&lt;p&gt;By the way, should keyTabFile + &quot;;&quot; be two argvs?&lt;/p&gt;</comment>
                            <comment id="15840922" author="ctang.ma" created="Fri, 27 Jan 2017 04:07:44 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt;. Please take a look to see if it is you suggested. The keytab + &quot;;&quot; do not have to be in two argv. Thanks&lt;/p&gt;</comment>
                            <comment id="15843082" author="jxiang" created="Fri, 27 Jan 2017 16:34:03 +0000"  >&lt;p&gt;Thanks for making the change. Looks good to me. +1&lt;/p&gt;</comment>
                            <comment id="15843696" author="hiveqa" created="Sat, 28 Jan 2017 00:22:18 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12849642/HIVE-15485.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12849642/HIVE-15485.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 43 failed/errored test(s), 10419 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3] (batchId=93)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=100)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=101)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=102)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=103)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=104)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=105)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=106)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=107)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=108)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=109)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=110)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=111)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=112)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=113)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=117)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=120)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=121)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=122)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=123)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=126)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=127)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=129)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=131)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=132)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=133)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=96)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=97)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=98)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=99)
org.apache.hive.spark.client.TestSparkClient.testRemoteClient (batchId=278)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3226/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3226/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3226/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3226/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3226/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3226/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 43 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12849642 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15843793" author="ctang.ma" created="Sat, 28 Jan 2017 03:06:37 +0000"  >&lt;p&gt;Fixed the test failures.&lt;/p&gt;</comment>
                            <comment id="15844057" author="hiveqa" created="Sat, 28 Jan 2017 13:33:27 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12849796/HIVE-15485.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12849796/HIVE-15485.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10973 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=109)
	[union_remove_1.q,ppd_outer_join2.q,date_udf.q,groupby1_noskew.q,join20.q,smb_mapjoin_13.q,groupby_rollup1.q,temp_table_gb1.q,vector_string_concat.q,smb_mapjoin_6.q,metadata_only_queries.q,auto_sortmerge_join_12.q,groupby_bigdata.q,groupby3_map_multi_distinct.q,innerjoin.q]
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=125)
	[table_access_keys_stats.q,bucketmapjoin11.q,auto_join4.q,mapjoin_decimal.q,join34.q,nullgroup.q,mergejoins_mixed.q,sort.q,stats8.q,auto_join28.q,join17.q,union17.q,skewjoinopt11.q,groupby1_map.q,load_dyn_part11.q]
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_varchar_simple] (batchId=153)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3] (batchId=93)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3240/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3240/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3240/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3240/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3240/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3240/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12849796 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15844102" author="ctang.ma" created="Sat, 28 Jan 2017 16:07:35 +0000"  >&lt;p&gt;The test failures are not related to this patch.&lt;/p&gt;</comment>
                            <comment id="15844215" author="xuefuz" created="Sat, 28 Jan 2017 22:40:45 +0000"  >&lt;p&gt;Sorry for my late reply. (I&apos;m currently OOO.) The patch looks good to me too. While these test failures are caused by something else, the fact that some Spark tests didn&apos;t actually run is a little concern. Is there a way to validate these tests locally?&lt;/p&gt;</comment>
                            <comment id="15844487" author="ctang.ma" created="Sun, 29 Jan 2017 15:48:07 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; for looking into this patch. I have attached a new patch to trigger the build test. The patch has been verified in my local environment. The TestSparkCliDriver tests ran successfully. I also manually validated cases (e.g. kerberos w/ or w/o doAs) in my local cluster, they all passed.&lt;/p&gt;</comment>
                            <comment id="15844510" author="hiveqa" created="Sun, 29 Jan 2017 16:29:59 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12849876/HIVE-15485.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12849876/HIVE-15485.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 11003 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3] (batchId=93)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3249/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3249/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3249/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3249/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3249/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3249/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12849876 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15844526" author="ctang.ma" created="Sun, 29 Jan 2017 16:49:06 +0000"  >&lt;p&gt;The failed tests are not related to this patch.&lt;/p&gt;</comment>
                            <comment id="15844657" author="xuefuz" created="Sun, 29 Jan 2017 21:10:04 +0000"  >&lt;p&gt;+1. Thanks for looking into this, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15845408" author="ctang.ma" created="Mon, 30 Jan 2017 16:31:21 +0000"  >&lt;p&gt;Committed to 2.2.0. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt; for review.&lt;/p&gt;</comment>
                            <comment id="16265585" author="linzhangbing" created="Sat, 25 Nov 2017 03:13:46 +0000"  >&lt;p&gt;Hi,&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt;,when I use you patch in my cluster,the cluster use hive2.2.0 and spark-assembly-1.6.0,I use beeline to commit spark task occuring some error:&lt;br/&gt;
SLF4J: Actual binding is of type &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.logging.slf4j.Log4jLoggerFactory&amp;#93;&lt;/span&gt;&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1643)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:161)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:206)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:121)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)&lt;br/&gt;
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.RuntimeException: Unable to instantiate org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.registerAllFunctionsOnce(Hive.java:232)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.&amp;lt;init&amp;gt;(Hive.java:384)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.create(Hive.java:328)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.getInternal(Hive.java:308)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.get(Hive.java:284)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.YarnSparkHadoopUtil.obtainTokenForHiveMetastoreInner(YarnSparkHadoopUtil.scala:204)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.YarnSparkHadoopUtil.obtainTokenForHiveMetastore(YarnSparkHadoopUtil.scala:159)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client$.org$apache$spark$deploy$yarn$Client$$obtainTokenForHiveMetastore(Client.scala:1365)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client.prepareLocalResources(Client.scala:350)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client.createContainerLaunchContext(Client.scala:722)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client.submitApplication(Client.scala:142)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client.run(Client.scala:1016)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client$.main(Client.scala:1076)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client.main(Client.scala)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:731)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$$anon$1.run(SparkSubmit.scala:163)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$$anon$1.run(SparkSubmit.scala:161)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1628)&lt;br/&gt;
	... 4 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: Unable to instantiate org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.MetaStoreUtils.newInstance(MetaStoreUtils.java:1654)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.&amp;lt;init&amp;gt;(RetryingMetaStoreClient.java:83)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.getProxy(RetryingMetaStoreClient.java:133)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.getProxy(RetryingMetaStoreClient.java:104)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.createMetaStoreClient(Hive.java:3496)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.getMSC(Hive.java:3548)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.getMSC(Hive.java:3528)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.getAllFunctions(Hive.java:3790)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.reloadFunctions(Hive.java:244)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.registerAllFunctionsOnce(Hive.java:227)&lt;br/&gt;
	... 31 more&lt;br/&gt;
Caused by: java.lang.reflect.InvocationTargetException&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&lt;br/&gt;
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.MetaStoreUtils.newInstance(MetaStoreUtils.java:1652)&lt;br/&gt;
	... 40 more&lt;br/&gt;
Caused by: MetaException(message:Could not connect to meta store using any of the URIs provided. Most recent failure: org.apache.thrift.transport.TTransportException: GSS initiate failed&lt;br/&gt;
	at org.apache.thrift.transport.TSaslTransport.sendAndThrowMessage(TSaslTransport.java:232)&lt;br/&gt;
	at org.apache.thrift.transport.TSaslTransport.open(TSaslTransport.java:316)&lt;br/&gt;
	at org.apache.thrift.transport.TSaslClientTransport.open(TSaslClientTransport.java:37)&lt;br/&gt;
	at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:52)&lt;br/&gt;
	at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:49)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1628)&lt;br/&gt;
	at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport.open(TUGIAssumingTransport.java:49)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.open(HiveMetaStoreClient.java:484)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.&amp;lt;init&amp;gt;(HiveMetaStoreClient.java:292)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient.&amp;lt;init&amp;gt;(SessionHiveMetaStoreClient.java:70)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&lt;br/&gt;
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.MetaStoreUtils.newInstance(MetaStoreUtils.java:1652)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.&amp;lt;init&amp;gt;(RetryingMetaStoreClient.java:83)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.getProxy(RetryingMetaStoreClient.java:133)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.getProxy(RetryingMetaStoreClient.java:104)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.createMetaStoreClient(Hive.java:3496)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.getMSC(Hive.java:3548)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.getMSC(Hive.java:3528)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.getAllFunctions(Hive.java:3790)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.reloadFunctions(Hive.java:244)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.registerAllFunctionsOnce(Hive.java:227)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.&amp;lt;init&amp;gt;(Hive.java:384)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.create(Hive.java:328)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.getInternal(Hive.java:308)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.get(Hive.java:284)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.YarnSparkHadoopUtil.obtainTokenForHiveMetastoreInner(YarnSparkHadoopUtil.scala:204)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.YarnSparkHadoopUtil.obtainTokenForHiveMetastore(YarnSparkHadoopUtil.scala:159)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client$.org$apache$spark$deploy$yarn$Client$$obtainTokenForHiveMetastore(Client.scala:1365)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client.prepareLocalResources(Client.scala:350)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client.createContainerLaunchContext(Client.scala:722)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client.submitApplication(Client.scala:142)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client.run(Client.scala:1016)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client$.main(Client.scala:1076)&lt;br/&gt;
	at org.apache.spark.deploy.yarn.Client.main(Client.scala)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:731)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$$anon$1.run(SparkSubmit.scala:163)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$$anon$1.run(SparkSubmit.scala:161)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1628)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:161)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:206)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:121)&lt;br/&gt;
	at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)&lt;br/&gt;
)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.open(HiveMetaStoreClient.java:531)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.&amp;lt;init&amp;gt;(HiveMetaStoreClient.java:292)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient.&amp;lt;init&amp;gt;(SessionHiveMetaStoreClient.java:70)&lt;br/&gt;
	... 45 more&lt;/p&gt;

&lt;p&gt;	at io.netty.util.concurrent.AbstractFuture.get(AbstractFuture.java:37)&lt;br/&gt;
	at org.apache.hive.spark.client.SparkClientImpl.&amp;lt;init&amp;gt;(SparkClientImpl.java:106)&lt;br/&gt;
	... 27 more&lt;/p&gt;</comment>
                            <comment id="16265873" author="ctang.ma" created="Sat, 25 Nov 2017 22:45:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=linzhangbing&quot; class=&quot;user-hover&quot; rel=&quot;linzhangbing&quot;&gt;ZhangBing Lin&lt;/a&gt; I assume that you used beeline via HoS. Please try this Spark property spark.yarn.security.tokens.hive.enabled=true to see if it helps.&lt;/p&gt;</comment>
                            <comment id="16266282" author="linzhangbing" created="Mon, 27 Nov 2017 01:11:09 +0000"  >&lt;p&gt;Thank you,&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt;,i will try it with your suggest.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12993590">HIVE-14383</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13081326">HIVE-16930</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12849642" name="HIVE-15485.1.patch" size="3375" author="ctang.ma" created="Fri, 27 Jan 2017 04:07:44 +0000"/>
                            <attachment id="12849876" name="HIVE-15485.2.patch" size="3289" author="ctang.ma" created="Sun, 29 Jan 2017 15:28:49 +0000"/>
                            <attachment id="12849217" name="HIVE-15485.patch" size="3031" author="ctang.ma" created="Wed, 25 Jan 2017 04:02:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Jan 2017 11:12:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37vgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15486] DefaultGraphWalker invokes getChildren() as many times as there are children</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15486</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;DefaultGraphWalker while walking a Node, calls up getChildren method as many times as there are children. This leads a performance penalty where a node has too many direct children. &lt;/p&gt;

&lt;p&gt;Attached is query file. Instruction to run&lt;/p&gt;

&lt;p&gt;1. time hive -f query  &lt;/p&gt;

&lt;p&gt;Checkout the time on hive 1.2 version vs 2.1 version. &lt;/p&gt;

&lt;p&gt;This change was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11652&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-11652&lt;/a&gt;&lt;/p&gt;

</description>
                <environment></environment>
        <key id="13029760">HIVE-15486</key>
            <summary>DefaultGraphWalker invokes getChildren() as many times as there are children</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="dhiraj.kumar">Dhiraj Kumar</assignee>
                                    <reporter username="dhiraj.kumar">Dhiraj Kumar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 14:16:50 +0000</created>
                <updated>Wed, 15 Feb 2017 18:44:59 +0000</updated>
                                            <version>2.0.0</version>
                    <version>2.1.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                            <attachment id="12844250" name="query" size="288942" author="dhiraj.kumar" created="Wed, 21 Dec 2016 14:18:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37vlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-15487] LLAP: Improvements to random selection while scheduling</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15487</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently llap scheduler, picks up random host when no locality information is specified or when all requested hosts are busy serving other requests with forced locality. In such cases, we can pick up the next available node in consistent order to get better locality instead of random selection. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13029873">HIVE-15487</key>
            <summary>LLAP: Improvements to random selection while scheduling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 19:50:00 +0000</created>
                <updated>Wed, 26 Jul 2017 00:03:27 +0000</updated>
                            <resolved>Fri, 23 Dec 2016 09:14:54 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>llap</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15768396" author="prasanth_j" created="Wed, 21 Dec 2016 22:48:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Can you please review this patch?&lt;/p&gt;</comment>
                            <comment id="15768859" author="hiveqa" created="Thu, 22 Dec 2016 03:04:04 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844309/HIVE-15487.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844309/HIVE-15487.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 10808 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
org.apache.hive.jdbc.TestJdbcDriver2.testSelectExecAsync2 (batchId=214)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2685/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2685/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2685/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2685/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2685/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2685/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844309 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15771369" author="hagleitn" created="Thu, 22 Dec 2016 23:14:51 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="15772387" author="prasanth_j" created="Fri, 23 Dec 2016 09:14:54 +0000"  >&lt;p&gt;Test failures are not related to this patch. Committed to master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844309" name="HIVE-15487.1.patch" size="7364" author="prasanth_j" created="Wed, 21 Dec 2016 22:48:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 03:04:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37waf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12335837</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15488] Native Vector MapJoin fails when trying to serialize BigTable rows that have (unreferenced) complex types</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15488</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When creating VectorSerializeRow we need to exclude any complex types.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029893">HIVE-15488</key>
            <summary>Native Vector MapJoin fails when trying to serialize BigTable rows that have (unreferenced) complex types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mmccline">Matt McCline</assignee>
                                    <reporter username="mmccline">Matt McCline</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 20:30:25 +0000</created>
                <updated>Wed, 26 Jul 2017 00:03:17 +0000</updated>
                            <resolved>Fri, 23 Dec 2016 21:40:36 +0000</resolved>
                                                    <fixVersion>2.2.0</fixVersion>
                                    <component>Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15768573" author="wzheng" created="Thu, 22 Dec 2016 00:23:16 +0000"  >&lt;p&gt;+1 pending test&lt;/p&gt;</comment>
                            <comment id="15768594" author="hiveqa" created="Thu, 22 Dec 2016 00:39:01 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844295/HIVE-15488.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844295/HIVE-15488.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10791 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=116)
	[join39.q,bucketsortoptimize_insert_7.q,vector_distinct_2.q,join11.q,union13.q,dynamic_rdd_cache.q,auto_sortmerge_join_16.q,windowing.q,union_remove_3.q,skewjoinopt7.q,stats7.q,annotate_stats_join.q,multi_insert_lateral_view.q,ptf_streaming.q,join_1to1.q]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testPreemptionStateOnTaskMoveToNonFinishableState (batchId=282)
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testTaskStatus (batchId=212)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2682/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2682/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2682/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2682/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2682/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2682/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844295 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15773726" author="mmccline" created="Fri, 23 Dec 2016 21:30:27 +0000"  >&lt;p&gt;Test failed are unrelated.&lt;/p&gt;</comment>
                            <comment id="15773740" author="mmccline" created="Fri, 23 Dec 2016 21:40:09 +0000"  >&lt;p&gt;Committed to master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844295" name="HIVE-15488.01.patch" size="1611" author="mmccline" created="Wed, 21 Dec 2016 21:20:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 00:23:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37wev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15489] Alternatively use table scan stats for HoS</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15489</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For MapJoin in HoS, we should provide an option to only use stats in the TS rather than the populated stats in each of the join branch. This could be pretty conservative but more reliable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029918">HIVE-15489</key>
            <summary>Alternatively use table scan stats for HoS</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="csun">Chao Sun</assignee>
                                    <reporter username="csun">Chao Sun</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 21:47:13 +0000</created>
                <updated>Mon, 24 Jul 2017 06:53:39 +0000</updated>
                            <resolved>Fri, 17 Feb 2017 20:08:14 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>Spark</component>
                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15768257" author="csun" created="Wed, 21 Dec 2016 21:47:24 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15768447" author="csun" created="Wed, 21 Dec 2016 23:15:55 +0000"  >&lt;p&gt;Attaching WIP patch for testing.&lt;/p&gt;</comment>
                            <comment id="15768928" author="hiveqa" created="Thu, 22 Dec 2016 03:52:02 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844312/HIVE-15489.wip.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844312/HIVE-15489.wip.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 45 failed/errored test(s), 10807 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_inner_join] (batchId=161)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_outer_join1] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_outer_join2] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_outer_join3] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_outer_join4] (batchId=161)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_outer_join5] (batchId=161)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join13] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join22] (batchId=117)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join27] (batchId=132)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join2] (batchId=121)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join_filters] (batchId=119)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join_stats2] (batchId=131)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join_stats] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join_without_localtask] (batchId=94)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_10] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_12] (batchId=108)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_6] (batchId=100)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_9] (batchId=122)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_spark4] (batchId=94)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_tez1] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=99)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[cross_product_check_2] (batchId=132)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[identity_project_remove_skip] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join28] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join32] (batchId=102)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join32_lessSize] (batchId=97)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join33] (batchId=101)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join34] (batchId=124)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join35] (batchId=121)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_star] (batchId=107)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[mapjoin_mapjoin] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[mapjoin_subquery2] (batchId=97)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[mapjoin_subquery] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[multi_join_union] (batchId=94)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[runtime_skewjoin_mapjoin_spark] (batchId=117)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[smb_mapjoin_17] (batchId=96)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[smb_mapjoin_25] (batchId=98)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_multiinsert] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union22] (batchId=100)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_left_outer_join] (batchId=104)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_mapjoin_reduce] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorized_nested_mapjoin] (batchId=101)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2686/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2686/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2686/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2686/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2686/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2686/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 45 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844312 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15770840" author="hiveqa" created="Thu, 22 Dec 2016 19:12:10 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844440/HIVE-15489.wip.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844440/HIVE-15489.wip.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2698/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2698/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2698/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2698/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2698/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2698/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2016-12-22 19:12:08.482
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-2698/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2016-12-22 19:12:08.484
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   4ba713c..ee35ccb  master     -&amp;gt; origin/master
+ git reset --hard HEAD
HEAD is now at 4ba713c HIVE-15335: Fast Decimal (Matt McCline, reviewed by Sergey Shelukhin, Prasanth Jayachandran, Owen O&apos;Malley)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
Your branch is behind &apos;origin/master&apos; by 2 commits, and can be fast-forwarded.
  (use &quot;git pull&quot; to update your local branch)
+ git reset --hard origin/master
HEAD is now at ee35ccb HIVE-15376 : Improve heartbeater scheduling for transactions (Wei Zheng, reviewed by Eugene Koifman)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2016-12-22 19:12:09.663
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: a/ql/src/java/org/apache/hadoop/hive/ql/optimizer/spark/SparkMapJoinOptimizer.java: No such file or directory
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844440 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15771300" author="hiveqa" created="Thu, 22 Dec 2016 22:42:23 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844456/HIVE-15489.wip.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844456/HIVE-15489.wip.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10876 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver (batchId=160)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_inner_join] (batchId=161)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_10] (batchId=125)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_tez1] (batchId=130)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=99)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[identity_project_remove_skip] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union22] (batchId=100)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_mapjoin_reduce] (batchId=128)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2702/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2702/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2702/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2702/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2702/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2702/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844456 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15830130" author="hiveqa" created="Thu, 19 Jan 2017 15:49:15 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12848121/HIVE-15489.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12848121/HIVE-15489.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 80 failed/errored test(s), 10946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_joins] (batchId=218)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_predicate_pushdown] (batchId=218)
org.apache.hadoop.hive.cli.TestAccumuloCliDriver.testCliDriver[accumulo_single_sourced_multi_insert] (batchId=218)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[ctas] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_into_dynamic_partitions] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_into_table] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_directory] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_dynamic_partitions] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[insert_overwrite_table] (batchId=230)
org.apache.hadoop.hive.cli.TestBlobstoreCliDriver.testCliDriver[write_final_output_blobstore] (batchId=230)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_table_stats] (batchId=48)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[analyze_tbl_part] (batchId=44)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[input19] (batchId=79)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[insert_overwrite_directory] (batchId=25)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[sample5] (batchId=52)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[serde_opencsv] (batchId=68)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[specialChar] (batchId=22)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vectorized_math_funcs] (batchId=19)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[dboutput] (batchId=221)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[fileformat_base64] (batchId=221)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[udf_row_sequence] (batchId=221)
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver[url_hook] (batchId=221)
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testCliDriver[case_with_row_sequence] (batchId=224)
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testCliDriver[invalid_row_sequence] (batchId=224)
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testCliDriver[serde_regex] (batchId=224)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_insert_partition_dynamic] (batchId=158)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_insert_partition_static] (batchId=156)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_insert_values] (batchId=157)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_unencrypted_tbl] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_load_data_to_encrypted_tables] (batchId=157)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_move_tbl] (batchId=157)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_select_read_only_encrypted_tbl] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_select_read_only_unencrypted_tbl] (batchId=159)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_unencrypted_nonhdfs_external_tables] (batchId=157)
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver[cascade_dbdrop] (batchId=225)
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver[generatehfiles_require_family_path] (batchId=225)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_llap_counters] (batchId=137)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=136)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[escape1] (batchId=139)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[escape2] (batchId=154)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[offset_limit_ppd_optimizer] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_decimal_expressions] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_math_funcs] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[hybridgrace_hashjoin_1] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[hybridgrace_hashjoin_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[orc_vectorization_ppd] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[tez_union_with_udf] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[unionDistinct_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[update_orig_table] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[vectorization_div0] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[vectorization_limit] (batchId=93)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[bucket_num_reducers2] (batchId=84)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[bucket_num_reducers] (batchId=84)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[index_bitmap3] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[index_bitmap_auto] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_dyn_part] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_map_operators] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_merge] (batchId=84)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_num_buckets] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[infer_bucket_sort_reducers_power_two] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[parallel_orderby] (batchId=83)
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver[scriptfile1] (batchId=84)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[fs_default_name1] (batchId=85)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[fs_default_name2] (batchId=86)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[cluster_tasklog_retrieval] (batchId=87)
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testCliDriver[minimr_broken_pipe] (batchId=87)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query33] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query60] (batchId=222)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query83] (batchId=222)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=126)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[sample5] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorized_math_funcs] (batchId=104)
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1 (batchId=205)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3041/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3041/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3041/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3041/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3041/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3041/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 80 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12848121 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15832957" author="hiveqa" created="Sat, 21 Jan 2017 12:04:44 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12848698/HIVE-15489.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12848698/HIVE-15489.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10974 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver[cascade_dbdrop] (batchId=226)
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver[generatehfiles_require_family_path] (batchId=226)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_notin] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3094/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3094/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3094/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3094/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3094/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3094/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12848698 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15833138" author="hiveqa" created="Sat, 21 Jan 2017 20:40:24 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12848698/HIVE-15489.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12848698/HIVE-15489.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10960 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=128)
	[ppd_transform.q,auto_join9.q,auto_join1.q,vector_data_types.q,input13.q,input14.q,input12.q,union_remove_22.q,vectorization_3.q,groupby1_map_nomap.q,cbo_union.q,disable_merge_for_bucketing.q,reduce_deduplicate_exclude_join.q,filter_join_breaktask2.q,join30.q]
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_llap_counters] (batchId=137)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[offset_limit_ppd_optimizer] (batchId=151)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[schema_evol_text_vec_part] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_varchar_simple] (batchId=152)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3110/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3110/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3110/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3110/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3110/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3110/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12848698 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15858665" author="csun" created="Wed, 8 Feb 2017 23:05:07 +0000"  >&lt;p&gt;One issue with the current approach is the JOIN operator we are looking at could be impacted by upstream joins/aggregations&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      M1   M2
       \  /
(JOIN 1) R1     M3
         \     /
          \   R2
           \ /
            R3 (JOIN 2)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here there are multiple reduce phases before getting to &lt;tt&gt;JOIN 2&lt;/tt&gt;, which could affect the data size a lot.&lt;br/&gt;
To minimize this inaccuracy, I propose that &lt;b&gt;we should only use TS stats if there is no RS between the JOIN and all roots reachable from it.&lt;/b&gt;&lt;br/&gt;
In the above, &lt;tt&gt;JOIN 1&lt;/tt&gt; satisfies the condition while &lt;tt&gt;JOIN 2&lt;/tt&gt; does not.&lt;/p&gt;</comment>
                            <comment id="15858684" author="csun" created="Wed, 8 Feb 2017 23:15:35 +0000"  >&lt;p&gt;Attaching patch with the new approach.&lt;/p&gt;</comment>
                            <comment id="15858991" author="hiveqa" created="Thu, 9 Feb 2017 04:21:09 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12851751/HIVE-15489.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12851751/HIVE-15489.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10227 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=130)
	[groupby6_map.q,stats13.q,groupby2_noskew_multi_distinct.q,load_dyn_part12.q,join15.q,auto_join17.q,join_hive_626.q,tez_join_tests.q,auto_join21.q,join_view.q,join_cond_pushdown_4.q,vectorization_0.q,union_null.q,auto_join3.q,vectorization_decimal_date.q]
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_inner_join] (batchId=162)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_10] (batchId=126)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[union22] (batchId=101)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3452/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3452/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3452/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3452/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3452/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3452/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12851751 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15859986" author="csun" created="Thu, 9 Feb 2017 18:50:56 +0000"  >&lt;p&gt;Fix test diffs.&lt;/p&gt;</comment>
                            <comment id="15860340" author="hiveqa" created="Thu, 9 Feb 2017 22:41:23 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12851919/HIVE-15489.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12851919/HIVE-15489.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 10227 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=129)
	[router_join_ppr.q,auto_join13.q,union30.q,vector_mapjoin_reduce.q,ptf_register_tblfn.q,join_merging.q,union_date_trim.q,groupby3_noskew.q,optimize_nullscan.q,join3.q,join38.q,skewjoinopt1.q,join_alt_syntax.q,groupby_sort_1_23.q,timestamp_udf.q]
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3473/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3473/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3473/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3473/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3473/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3473/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12851919 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15860377" author="csun" created="Thu, 9 Feb 2017 23:21:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, could you review this? thanks.&lt;/p&gt;</comment>
                            <comment id="15860918" author="xuefuz" created="Fri, 10 Feb 2017 08:33:50 +0000"  >&lt;p&gt;Thanks for working on this, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=csun&quot; class=&quot;user-hover&quot; rel=&quot;csun&quot;&gt;Chao Sun&lt;/a&gt;! I had one pass over this patch and have the following thoughts:&lt;br/&gt;
1. The new configuration might have a better name. &quot;hive.spark.use.ts.stats&quot; seems a little too general. Please consider a more specific name, something like &quot;hive_on_spark.use.file.size.for.mapjoin&quot;. Very minor though.&lt;br/&gt;
2. For new property, we probably want to default it to the old behavior when checking in. Maybe we can have some test cases run with this new configuration on.&lt;br/&gt;
3. If join op isn&apos;t coming directly from table scan, I saw we are still using operator stats to decide mapjoin. This can still cause the issue of inaccurate estimation, right? Should we just don&apos;t convert it to map join in such a case?&lt;br/&gt;
4. There seems to be some test failures in the above run. Are they related?&lt;/p&gt;</comment>
                            <comment id="15861872" author="csun" created="Fri, 10 Feb 2017 21:29:10 +0000"  >&lt;p&gt;Thanks for reviewing the patch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;!&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;1. The new configuration might have a better name. &quot;hive.spark.use.ts.stats&quot; seems a little too general. Please consider a more specific name, something like &quot;hive_on_spark.use.file.size.for.mapjoin&quot;. Very minor though.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure. I can change that. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15796&quot; title=&quot;HoS: poor reducer parallelism when operator stats are not accurate&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15796&quot;&gt;&lt;del&gt;HIVE-15796&lt;/del&gt;&lt;/a&gt; is also going to add a new config &lt;tt&gt;hive.spark.use.op.stats&lt;/tt&gt;. Do you think we should combine these two? since they are similar.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;2. For new property, we probably want to default it to the old behavior when checking in. Maybe we can have some test cases run with this new configuration on.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes. I plan to set the default to false. Setting it to true is just for testing.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;3. If join op isn&apos;t coming directly from table scan, I saw we are still using operator stats to decide mapjoin. This can still cause the issue of inaccurate estimation, right? Should we just don&apos;t convert it to map join in such a case?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve thought about this. The downside is many good cases will be turned to reduce join as well. But I think this config is mainly for stability, so it should be fine, as long as we document this well. Will add to next patch.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;4. There seems to be some test failures in the above run. Are they related?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I ran these tests locally and didn&apos;t see any issue.&lt;/p&gt;
</comment>
                            <comment id="15861978" author="xuefuz" created="Fri, 10 Feb 2017 23:06:16 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I&apos;ve thought about this. The downside is many good cases will be turned to reduce join as well. But I think this config is mainly for stability, so it should be fine, as long as we document this well. Will add to next patch.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;My concern is that the map joins down below may also suffer the consequence of inaccurate stats.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Do you think we should combine these two? since they are similar.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It&apos;s probably better to have two as they control behaviors on different functionality.&lt;/p&gt;</comment>
                            <comment id="15862128" author="hiveqa" created="Sat, 11 Feb 2017 01:31:44 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852162/HIVE-15489.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12852162/HIVE-15489.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 38 failed/errored test(s), 10246 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_mult_tables] (batchId=78)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_if_expr] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_outer_join1] (batchId=160)
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver[vector_outer_join2] (batchId=160)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join0] (batchId=132)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join13] (batchId=129)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join22] (batchId=118)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join2] (batchId=122)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join30] (batchId=108)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join31] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join_stats2] (batchId=132)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_join_stats] (batchId=115)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_12] (batchId=109)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[auto_sortmerge_join_9] (batchId=123)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_spark4] (batchId=95)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_tez1] (batchId=131)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[bucket_map_join_tez2] (batchId=100)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[cross_product_check_2] (batchId=133)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[identity_project_remove_skip] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join28] (batchId=131)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join29] (batchId=114)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join31] (batchId=133)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join32] (batchId=103)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join32_lessSize] (batchId=98)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join33] (batchId=102)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join_star] (batchId=108)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[mapjoin_mapjoin] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[mapjoin_subquery2] (batchId=98)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[mapjoin_subquery] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[reduce_deduplicate_exclude_join] (batchId=128)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[smb_mapjoin_17] (batchId=97)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[smb_mapjoin_25] (batchId=99)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[subquery_multiinsert] (batchId=131)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_left_outer_join] (batchId=105)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vector_mapjoin_reduce] (batchId=129)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorized_nested_mapjoin] (batchId=102)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3500/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3500/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3500/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3500/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3500/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3500/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 38 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12852162 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15863250" author="csun" created="Mon, 13 Feb 2017 06:00:55 +0000"  >&lt;p&gt;Test failures on patch v5 seems all caused by plan diffs (mapjoin -&amp;gt; reduce join). Attaching v6 with default value set to false.&lt;/p&gt;</comment>
                            <comment id="15863270" author="hiveqa" created="Mon, 13 Feb 2017 07:09:56 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852298/HIVE-15489.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12852298/HIVE-15489.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10219 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=95)
org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver.org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver (batchId=230)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3513/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3513/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3513/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3513/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3513/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3513/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12852298 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15865137" author="csun" created="Tue, 14 Feb 2017 06:08:52 +0000"  >&lt;p&gt;Test failures seem unrelated. Attaching the same patch v6 to confirm.&lt;/p&gt;</comment>
                            <comment id="15865489" author="hiveqa" created="Tue, 14 Feb 2017 09:49:21 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852503/HIVE-15489.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12852503/HIVE-15489.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10238 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3533/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3533/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3533/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3533/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3533/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3533/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12852503 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15866986" author="csun" created="Wed, 15 Feb 2017 00:21:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; can you take another look at this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ?&lt;/p&gt;</comment>
                            <comment id="15867249" author="xuefuz" created="Wed, 15 Feb 2017 04:48:23 +0000"  >&lt;p&gt;+1, Patch looks good. One minor suggestion: it would be great if we can add some map-join test cases with the introduced configuration to true to server as a sanity check. Otherwise, the new code path will not be exercised in ptest.&lt;/p&gt;</comment>
                            <comment id="15871500" author="hiveqa" created="Fri, 17 Feb 2017 09:17:15 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12853192/HIVE-15489.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12853192/HIVE-15489.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 33 failed/errored test(s), 10244 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_auto_join1] (batchId=3)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[join31] (batchId=81)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[multiMapJoin2] (batchId=152)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[create_external_acid] (batchId=86)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[create_not_acid] (batchId=86)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[create_view_failure1] (batchId=85)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[create_view_failure2] (batchId=85)
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testCliDriver[external1] (batchId=85)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[join31] (batchId=133)
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testAlterTable (batchId=194)
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testTransactionalValidation (batchId=194)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testAlterTable (batchId=197)
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testTransactionalValidation (batchId=197)
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testAlterTable (batchId=193)
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testTransactionalValidation (batchId=193)
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testAlterTable (batchId=191)
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testTransactionalValidation (batchId=191)
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testAlterTable (batchId=202)
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testTransactionalValidation (batchId=202)
org.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges (batchId=210)
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges (batchId=208)
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges (batchId=220)
org.apache.hive.beeline.TestBeeLineWithArgs.testQueryProgressParallel (batchId=211)
org.apache.hive.hcatalog.api.TestHCatClient.testBasicDDLCommands (batchId=170)
org.apache.hive.hcatalog.api.TestHCatClient.testTransportFailure (batchId=170)
org.apache.hive.hcatalog.listener.TestDbNotificationListener.createTable (batchId=221)
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatementAsync (batchId=213)
org.apache.hive.service.cli.thrift.TestThriftCLIServiceWithBinary.testExecuteStatementAsync (batchId=213)
org.apache.hive.service.cli.thrift.TestThriftCLIServiceWithHttp.testExecuteStatementAsync (batchId=213)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3619/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3619/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3619/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3619/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3619/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3619/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 33 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12853192 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15872434" author="csun" created="Fri, 17 Feb 2017 20:05:42 +0000"  >&lt;p&gt;Test failures are un-related.&lt;/p&gt;</comment>
                            <comment id="15872440" author="csun" created="Fri, 17 Feb 2017 20:08:14 +0000"  >&lt;p&gt;Committed to the master branch. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; for the review.&lt;/p&gt;</comment>
                            <comment id="15873605" author="lefty@hortonworks.com" created="Sun, 19 Feb 2017 10:09:21 +0000"  >&lt;p&gt;Doc note:  This adds &lt;b&gt;hive.spark.use.file.size.for.mapjoin&lt;/b&gt; to HiveConf.java, so it needs to be documented in the wiki.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-Spark&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; Spark &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Added a TODOC2.2 label.&lt;/p&gt;</comment>
                            <comment id="16097993" author="lefty@hortonworks.com" created="Mon, 24 Jul 2017 06:28:45 +0000"  >&lt;p&gt;Doc note 2:  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-16336&quot; title=&quot;Rename hive.spark.use.file.size.for.mapjoin to hive.spark.use.ts.stats.for.mapjoin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-16336&quot;&gt;&lt;del&gt;HIVE-16336&lt;/del&gt;&lt;/a&gt; removes &lt;b&gt;hive.spark.use.file.size.for.mapjoin&lt;/b&gt; in release 3.0.0, replacing it with &lt;b&gt;hive.spark.use.ts.stats.for.mapjoin&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;(Incidentally, the TODOC2.2 label ought to be TODOC2.3 because of changes to release numbering after this issue was committed.)&lt;/p&gt;</comment>
                            <comment id="16098005" author="lefty@hortonworks.com" created="Mon, 24 Jul 2017 06:53:16 +0000"  >&lt;p&gt;The documentation is done:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.spark.use.file.size.for.mapjoin&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hive.spark.use.file.size.for.mapjoin &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Removing the TODOC label.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13060180">HIVE-16328</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13060441">HIVE-16336</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13072872">HIVE-16698</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13060441">HIVE-16336</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12848556" name="HIVE-15489.1.patch" size="9476" author="csun" created="Fri, 20 Jan 2017 14:54:50 +0000"/>
                            <attachment id="12848698" name="HIVE-15489.2.patch" size="9476" author="csun" created="Sat, 21 Jan 2017 07:32:30 +0000"/>
                            <attachment id="12851751" name="HIVE-15489.3.patch" size="9724" author="csun" created="Wed, 8 Feb 2017 23:15:58 +0000"/>
                            <attachment id="12852503" name="HIVE-15489.6.patch" size="10131" author="csun" created="Tue, 14 Feb 2017 06:09:50 +0000"/>
                            <attachment id="12853192" name="HIVE-15489.7.patch" size="24560" author="csun" created="Fri, 17 Feb 2017 02:53:23 +0000"/>
                            <attachment id="12844456" name="HIVE-15489.wip.patch" size="9494" author="csun" created="Thu, 22 Dec 2016 20:20:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 03:52:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37wkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15490] REPL LOAD &amp; DUMP support for INSERT events with change management</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15490</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When we load on destination such that the table on the source has been dropped, we need to look for the table in the configured $cmroot location and compare checksums.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029928">HIVE-15490</key>
            <summary>REPL LOAD &amp; DUMP support for INSERT events with change management</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="13007626">HIVE-14841</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vgumashta">Vaibhav Gumashta</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 22:14:23 +0000</created>
                <updated>Wed, 23 May 2018 00:00:48 +0000</updated>
                            <resolved>Fri, 9 Jun 2017 05:27:24 +0000</resolved>
                                                    <fixVersion>3.0.0</fixVersion>
                                    <component>repl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="16486467" author="vgarg" created="Wed, 23 May 2018 00:00:48 +0000"  >&lt;p&gt;Hive 3.0.0 has been released so closing this jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="13033991">HIVE-15587</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13071131">HIVE-16644</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 May 2018 00:00:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37wmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15491] Failures are masked/swallowed in GenericUDTFJSONTuple::process().</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15491</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I draw your attention to the following piece of code in &lt;tt&gt;GenericUDTFJSONTuple::process()&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void process(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] o) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; HiveException {
  ...
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; numCols; ++i) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (retCols[i] == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
          retCols[i] = cols[i]; &lt;span class=&quot;code-comment&quot;&gt;// use the object pool rather than creating a &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; object
&lt;/span&gt;        }
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; extractObject = ((Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;)jsonObj).get(paths[i]);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (extractObject &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Map || extractObject &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; List) {
          retCols[i].set(MAPPER.writeValueAsString(extractObject));
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (extractObject != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
          retCols[i].set(extractObject.toString());
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
          retCols[i] = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        }
      }
      forward(retCols);
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable e) {  &amp;lt;================= Yikes.
      LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;JSON parsing/evaluation exception&quot;&lt;/span&gt; + e);
      forward(nullCols);
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The error-handling here seems suspect. Judging from the error message, the intention here seems to be to catch JSON-specific errors arising from &lt;tt&gt;MAPPER.readValue()&lt;/tt&gt; and &lt;tt&gt;MAPPER.writeValueAsString()&lt;/tt&gt;. By catching &lt;tt&gt;Throwable&lt;/tt&gt;, this code masks the errors that arise from the call to &lt;tt&gt;forward(retCols)&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I just ran into this in production. A user with a nearly exhausted HDFS quota attempted to use &lt;tt&gt;json_tuple&lt;/tt&gt; to extract fields from json strings in his data. The data turned out to have large record counts and the query used over 25K mappers. Every task failed to create a &lt;tt&gt;RecordWriter&lt;/tt&gt;, thanks to the exhausted quota. But the thrown exception was swallowed in the code above. &lt;tt&gt;process()&lt;/tt&gt; ignored the failure for the record and proceeded to the next one. Eventually, this resulted in DDoS-ing the name-node.&lt;/p&gt;

&lt;p&gt;I&apos;ll have a patch for this shortly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029949">HIVE-15491</key>
            <summary>Failures are masked/swallowed in GenericUDTFJSONTuple::process().</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="mithun">Mithun Radhakrishnan</assignee>
                                    <reporter username="mithun">Mithun Radhakrishnan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Dec 2016 23:29:27 +0000</created>
                <updated>Tue, 14 Nov 2017 04:26:33 +0000</updated>
                                            <version>2.1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15768536" author="mithun" created="Thu, 22 Dec 2016 00:02:32 +0000"  >&lt;p&gt;The patch.&lt;/p&gt;</comment>
                            <comment id="15769070" author="hiveqa" created="Thu, 22 Dec 2016 05:01:53 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844316/HIVE-15491.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844316/HIVE-15491.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10777 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMiniLlapLocalCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=144)
	[vectorized_rcfile_columnar.q,vector_elt.q,explainuser_1.q,multi_insert.q,tez_dml.q,vector_bround.q,schema_evol_orc_acid_table.q,vector_when_case_null.q,orc_ppd_schema_evol_1b.q,vector_join30.q,vectorization_11.q,cte_3.q,update_tmp_table.q,vector_decimal_cast.q,groupby_grouping_id2.q,vector_decimal_round.q,tez_smb_empty.q,orc_merge6.q,vector_char_mapjoin1.q,vector_decimal_trailing.q,cte_5.q,tez_union.q,vector_decimal_2.q,columnStatsUpdateForStatsOptimizer_1.q,vector_outer_join3.q,schema_evol_text_vec_part_all_complex.q,tez_dynpart_hashjoin_2.q,auto_sortmerge_join_12.q,offset_limit.q,tez_union_multiinsert.q]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.testSparkQuery (batchId=216)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2687/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2687/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2687/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2687/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2687/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2687/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844316 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16250824" author="ashutoshc" created="Tue, 14 Nov 2017 04:26:33 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844316" name="HIVE-15491.patch" size="1098" author="mithun" created="Thu, 22 Dec 2016 00:02:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 05:01:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37wrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-15492] Nested column pruning: be more aggressive on RS value expressions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15492</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently nested column pruning could still process unnecessary data when handling RS operators. For instance, given the following query (the source table can be found in &lt;tt&gt;nested_column_pruning.q&lt;/tt&gt;):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT t1.s1.f3.f4
FROM nested_tbl_1 t1 JOIN nested_tbl_2 t2
ON t1.s1.f3.f4 = t2.s1.f6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The generated plan is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;STAGE PLANS:
  Stage: Stage-1
    Map Reduce
      Map Operator Tree:
          TableScan
            alias: t1
            Statistics: Num rows: 1 Data size: 4 Basic stats: COMPLETE Column stats: NONE
            Select Operator
              expressions: s1 (type: struct&amp;lt;f1:&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;,f2:string,f3:struct&amp;lt;f4:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,f5:&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;&amp;gt;,f6:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;)
              outputColumnNames: _col0
              Statistics: Num rows: 1 Data size: 4 Basic stats: COMPLETE Column stats: NONE
              Reduce Output Operator
                key expressions: _col0.f3.f4 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
                sort order: +
                Map-reduce partition columns: _col0.f3.f4 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
                Statistics: Num rows: 1 Data size: 4 Basic stats: COMPLETE Column stats: NONE
                value expressions: _col0 (type: struct&amp;lt;f1:&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;,f2:string,f3:struct&amp;lt;f4:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,f5:&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;&amp;gt;,f6:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;)
          TableScan
            alias: t2
            Statistics: Num rows: 1 Data size: 4 Basic stats: COMPLETE Column stats: NONE
            Select Operator
              expressions: s1 (type: struct&amp;lt;f1:&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;,f2:string,f3:struct&amp;lt;f4:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,f5:&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;&amp;gt;,f6:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;)
              outputColumnNames: _col0
              Statistics: Num rows: 1 Data size: 4 Basic stats: COMPLETE Column stats: NONE
              Reduce Output Operator
                key expressions: _col0.f6 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
                sort order: +
                Map-reduce partition columns: _col0.f6 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
                Statistics: Num rows: 1 Data size: 4 Basic stats: COMPLETE Column stats: NONE
      Reduce Operator Tree:
        Join Operator
          condition map:
               Inner Join 0 to 1
          keys:
            0 _col0.f3.f4 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
            1 _col0.f6 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
          outputColumnNames: _col0
          Statistics: Num rows: 1 Data size: 4 Basic stats: COMPLETE Column stats: NONE
          Select Operator
            expressions: _col0.f3.f4 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
            outputColumnNames: _col0
            Statistics: Num rows: 1 Data size: 4 Basic stats: COMPLETE Column stats: NONE
            File Output Operator
              compressed: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
              Statistics: Num rows: 1 Data size: 4 Basic stats: COMPLETE Column stats: NONE
              table:
                  input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                  output format: org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat
                  serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe

  Stage: Stage-0
    Fetch Operator
      limit: -1
      Processor Tree:
        ListSink
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In particular, for table &lt;tt&gt;t1&lt;/tt&gt; it needs to scan the whole &lt;tt&gt;s1&lt;/tt&gt; struct since this is in the value expression of the associated RS. This can be further optimized as we only need &lt;tt&gt;s1.f3.f4&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029954">HIVE-15492</key>
            <summary>Nested column pruning: be more aggressive on RS value expressions</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="13015143">HIVE-15055</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="csun">Chao Sun</assignee>
                                    <reporter username="csun">Chao Sun</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 00:05:23 +0000</created>
                <updated>Thu, 22 Dec 2016 00:05:23 +0000</updated>
                                            <version>2.2.0</version>
                                                    <component>Query Planning</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37wsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-15493] Wrong result for LEFT outer join in Tez using MapJoinOperator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15493</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;To reproduce, we can run in Tez:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;set&lt;/span&gt; hive.auto.&lt;span class=&quot;code-keyword&quot;&gt;convert&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;join&lt;/span&gt;=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;

&lt;span class=&quot;code-keyword&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;EXISTS&lt;/span&gt; test_1; 
&lt;span class=&quot;code-keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; test_1 
( 
&lt;span class=&quot;code-keyword&quot;&gt;member&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BIGINT&lt;/span&gt; 
, age &lt;span class=&quot;code-keyword&quot;&gt;VARCHAR&lt;/span&gt; (100) 
) 
STORED &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; TEXTFILE 
; 

&lt;span class=&quot;code-keyword&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;EXISTS&lt;/span&gt; test_2; 
&lt;span class=&quot;code-keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; test_2 
( 
&lt;span class=&quot;code-keyword&quot;&gt;member&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BIGINT&lt;/span&gt; 
) 
STORED &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; TEXTFILE 
; 

&lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;INTO&lt;/span&gt; test_1 &lt;span class=&quot;code-keyword&quot;&gt;VALUES&lt;/span&gt; (1, &lt;span class=&quot;code-quote&quot;&gt;&apos;20&apos;&lt;/span&gt;), (2, &lt;span class=&quot;code-quote&quot;&gt;&apos;30&apos;&lt;/span&gt;), (3, &lt;span class=&quot;code-quote&quot;&gt;&apos;40&apos;&lt;/span&gt;); 
&lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;INTO&lt;/span&gt; test_2 &lt;span class=&quot;code-keyword&quot;&gt;VALUES&lt;/span&gt; (1), (2), (3); 

&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; 
t2.&lt;span class=&quot;code-keyword&quot;&gt;member&lt;/span&gt; 
, t1.age_1 
, t1.age_2 
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; 
test_2 t2 
&lt;span class=&quot;code-keyword&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;JOIN&lt;/span&gt; ( 
&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; 
&lt;span class=&quot;code-keyword&quot;&gt;member&lt;/span&gt; 
, age &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; age_1 
, age &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; age_2 
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; 
test_1 
) t1 
&lt;span class=&quot;code-keyword&quot;&gt;ON&lt;/span&gt; t2.&lt;span class=&quot;code-keyword&quot;&gt;member&lt;/span&gt; = t1.&lt;span class=&quot;code-keyword&quot;&gt;member&lt;/span&gt; 
;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Result is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1	20	NULL
3	40	NULL
2	30	NULL
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Correct result is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1	20	20
3	40	40
2	30	30
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Bug was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10582&quot; title=&quot;variable typo in HiveOpConverter (714) and SemanticAnalyzer (7496)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10582&quot;&gt;&lt;del&gt;HIVE-10582&lt;/del&gt;&lt;/a&gt;. Though the fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10582&quot; title=&quot;variable typo in HiveOpConverter (714) and SemanticAnalyzer (7496)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10582&quot;&gt;&lt;del&gt;HIVE-10582&lt;/del&gt;&lt;/a&gt; does not contain tests, it does look legit. In fact, the problem seems to be in the MapJoinOperator itself. It only happens for LEFT outer join (not with RIGHT outer or FULL outer). Although I am still trying to understand part of the MapJoinOperator code path, the bug could be in the initialization of the operator. It only happens when we have duplicate values in the right part of the output.&lt;/p&gt;

&lt;p&gt;Till we have more time to study the problem in detail and fix the MapJoinOperator, I will submit a fix that removes the code in SemanticAnalyzer that reuses duplicated value expressions from RS to create multiple columns in the join output (this is equivalent to reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10582&quot; title=&quot;variable typo in HiveOpConverter (714) and SemanticAnalyzer (7496)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10582&quot;&gt;&lt;del&gt;HIVE-10582&lt;/del&gt;&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;Once this is pushed, I will create a follow-up issue to take this code back and tackle the problem in the MapJoinOperator.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029956">HIVE-15493</key>
            <summary>Wrong result for LEFT outer join in Tez using MapJoinOperator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcamachorodriguez">Jesus Camacho Rodriguez</assignee>
                                    <reporter username="jcamachorodriguez">Jesus Camacho Rodriguez</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 00:31:20 +0000</created>
                <updated>Wed, 26 Jul 2017 00:03:31 +0000</updated>
                            <resolved>Thu, 29 Dec 2016 20:56:18 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15769724" author="hiveqa" created="Thu, 22 Dec 2016 10:33:19 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844325/HIVE-15493.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844325/HIVE-15493.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 10897 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=72)
org.apache.hive.hcatalog.api.TestHCatClientNotification.createTable (batchId=220)
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.testSparkQuery (batchId=216)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2693/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2693/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2693/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2693/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2693/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2693/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844325 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15782722" author="jcamachorodriguez" created="Wed, 28 Dec 2016 11:41:04 +0000"  >&lt;p&gt;Uploading same patch to trigger ptests again, as they run almost a week ago.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;Pengcheng Xiong&lt;/a&gt;, could you review it? Thanks&lt;/p&gt;</comment>
                            <comment id="15782833" author="hiveqa" created="Wed, 28 Dec 2016 12:53:16 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844921/HIVE-15493.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844921/HIVE-15493.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 10901 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=233)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=92)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2736/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2736/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2736/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2736/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2736/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2736/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844921 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15785825" author="pxiong" created="Thu, 29 Dec 2016 18:29:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt;, the patch sounds like a magic to me... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I am wondering why we have those redundant code in the past. And when I traced back, it was generated in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13191&quot; title=&quot;DummyTable map joins mix up columns between tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13191&quot;&gt;&lt;del&gt;HIVE-13191&lt;/del&gt;&lt;/a&gt; by yourself. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Could you put some comments in the jira explaining why the code works now? Thanks.&lt;/p&gt;</comment>
                            <comment id="15785916" author="jcamachorodriguez" created="Thu, 29 Dec 2016 19:17:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;Pengcheng Xiong&lt;/a&gt;, the basic idea behind that code (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13191&quot; title=&quot;DummyTable map joins mix up columns between tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13191&quot;&gt;&lt;del&gt;HIVE-13191&lt;/del&gt;&lt;/a&gt; was just an extension) was that if we have multiple values in one of the join inputs that are equal, we do not need to have them in the RS operator multiple times (and thus shuffle them). Instead, we can have the value only once in the RS operator, and then the join will read &lt;em&gt;x&lt;/em&gt; times that same value to produce the correct output. In fact, the code was not working properly originally till &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10582&quot; title=&quot;variable typo in HiveOpConverter (714) and SemanticAnalyzer (7496)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10582&quot;&gt;&lt;del&gt;HIVE-10582&lt;/del&gt;&lt;/a&gt; went in.&lt;/p&gt;

&lt;p&gt;The problem is that MapJoinOperator does not support duplicate values for left outer join properly: there is an assumption for the row container about the join output columns being the same as the input columns. I have not had the chance to check that code in detail. Till then, this fix will avoid producing incorrect results by not reusing the value in the RS and thus producing it multiple times.&lt;/p&gt;

&lt;p&gt;I will add a TODO to the code, and as I said in the issue description, I will create a follow-up issue to tackle the root cause of the problem.&lt;/p&gt;</comment>
                            <comment id="15785948" author="pxiong" created="Thu, 29 Dec 2016 19:30:56 +0000"  >&lt;p&gt;I see. It makes more sense now... +1. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15786116" author="jcamachorodriguez" created="Thu, 29 Dec 2016 20:56:18 +0000"  >&lt;p&gt;Pushed to master, thanks for reviewing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;Pengcheng Xiong&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15524&quot; title=&quot;Wrong result for LEFT outer join in Tez using MapJoinOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15524&quot;&gt;HIVE-15524&lt;/a&gt; to tackle the root cause of the issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13031155">HIVE-15524</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12844921" name="HIVE-15493.01.patch" size="14965" author="jcamachorodriguez" created="Wed, 28 Dec 2016 11:41:04 +0000"/>
                            <attachment id="12844325" name="HIVE-15493.patch" size="14965" author="jcamachorodriguez" created="Thu, 22 Dec 2016 00:44:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 10:33:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37wsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15494] Create perfLogger in method execute instead of class initialization for SparkTask</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15494</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Create perfLogger in method execute instead class initialization for SparkTask,&lt;br/&gt;
so perfLogger can be shared with SparkJobMonitor in the same thread.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13029957">HIVE-15494</key>
            <summary>Create perfLogger in method execute instead of class initialization for SparkTask</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zxu">zhihai xu</assignee>
                                    <reporter username="zxu">zhihai xu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 00:39:26 +0000</created>
                <updated>Fri, 21 Jul 2017 18:26:20 +0000</updated>
                            <resolved>Mon, 9 Jan 2017 05:35:40 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>Spark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15768610" author="csun" created="Thu, 22 Dec 2016 00:45:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15769622" author="hiveqa" created="Thu, 22 Dec 2016 09:46:23 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844324/HIVE-15494.000.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844324/HIVE-15494.000.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 10850 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMiniLlapLocalCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=144)
	[vectorized_rcfile_columnar.q,vector_elt.q,explainuser_1.q,multi_insert.q,tez_dml.q,vector_bround.q,schema_evol_orc_acid_table.q,vector_when_case_null.q,orc_ppd_schema_evol_1b.q,vector_join30.q,vectorization_11.q,cte_3.q,update_tmp_table.q,vector_decimal_cast.q,groupby_grouping_id2.q,vector_decimal_round.q,tez_smb_empty.q,orc_merge6.q,vector_char_mapjoin1.q,vector_decimal_trailing.q,cte_5.q,tez_union.q,vector_decimal_2.q,columnStatsUpdateForStatsOptimizer_1.q,vector_outer_join3.q,schema_evol_text_vec_part_all_complex.q,tez_dynpart_hashjoin_2.q,auto_sortmerge_join_12.q,offset_limit.q,tez_union_multiinsert.q]
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=118)
	[load_dyn_part2.q,smb_mapjoin_7.q,vectorization_5.q,smb_mapjoin_2.q,ppd_join_filter.q,column_access_stats.q,vector_between_in.q,vectorized_string_funcs.q,vectorization_1.q,bucket_map_join_2.q,groupby4_map_skew.q,groupby_ppr_multi_distinct.q,temp_table_join1.q,vectorized_case.q,stats_noscan_1.q]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2692/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2692/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2692/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2692/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2692/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2692/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844324 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15810739" author="csun" created="Mon, 9 Jan 2017 05:35:41 +0000"  >&lt;p&gt;Committed to master branch. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zxu&quot; class=&quot;user-hover&quot; rel=&quot;zxu&quot;&gt;zhihai xu&lt;/a&gt; for the patch.&lt;/p&gt;</comment>
                            <comment id="15812453" author="zxu" created="Mon, 9 Jan 2017 18:20:13 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=csun&quot; class=&quot;user-hover&quot; rel=&quot;csun&quot;&gt;Chao Sun&lt;/a&gt; for reviewing and committing the patch!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844324" name="HIVE-15494.000.patch" size="1105" author="zxu" created="Thu, 22 Dec 2016 00:43:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 00:45:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37wt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15495] subquery&apos;s column alias can not be the same with partition column name </title>
                <link>https://issues.apache.org/jira/browse/HIVE-15495</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;case:&lt;br/&gt;
create table testkk5(a string) partitioned by(dt string);&lt;br/&gt;
alter table testkk5 add partition(dt=&quot;1&quot;);&lt;br/&gt;
hive&amp;gt; select * from (select a as dt from testkk5 where dt=&quot;1&quot;) t1 where t1.dt=&quot;2&quot;;&lt;br/&gt;
FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10041&amp;#93;&lt;/span&gt;: No partition predicate found for Alias &quot;t1:testkk5&quot; Table &quot;testkk5&quot;&lt;/p&gt;

&lt;p&gt;actually outer query&apos;s column `dt` is irrevelent with table `testkk5`&apos;s partition column name &lt;/p&gt;</description>
                <environment></environment>
        <key id="13029997">HIVE-15495</key>
            <summary>subquery&apos;s column alias can not be the same with partition column name </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ferhui">Fei Hui</assignee>
                                    <reporter username="chenyukang">chenyukang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 04:24:26 +0000</created>
                <updated>Tue, 14 Feb 2017 02:56:13 +0000</updated>
                            <resolved>Tue, 27 Dec 2016 10:57:00 +0000</resolved>
                                    <version>1.1.0</version>
                                                    <component>Query Planning</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15779453" author="ferhui" created="Tue, 27 Dec 2016 02:56:20 +0000"  >&lt;p&gt;hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenyukang&quot; class=&quot;user-hover&quot; rel=&quot;chenyukang&quot;&gt;chenyukang&lt;/a&gt;&lt;br/&gt;
cant not reappear this problem on hive 2.0.0&lt;br/&gt;
maybe you can upgrade your hive&lt;/p&gt;</comment>
                            <comment id="15780164" author="chenyukang" created="Tue, 27 Dec 2016 10:55:18 +0000"  >&lt;p&gt;hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ferhui&quot; class=&quot;user-hover&quot; rel=&quot;ferhui&quot;&gt;Fei Hui&lt;/a&gt;  I have tested it with hive 2.1.1 and this bug has been fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13602&quot; title=&quot;TPCH q16 return wrong result when CBO is on&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13602&quot;&gt;&lt;del&gt;HIVE-13602&lt;/del&gt;&lt;/a&gt;. thx~&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13042462">HIVE-15888</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13002760">HIVE-14705</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12962139">HIVE-13602</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 27 Dec 2016 02:56:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37x1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15496] hive client version 0.17 : Column has wrong number of index entries found: 1 expected: 9</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15496</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive  appears that &apos;Column has wrong number of index entries found: 1 expected: 9&apos; in hive client.But we restart all cluster,the problem disappears and not reappear.The hive server version is 0.13 and the hive client version is 0.17.The following is stack information:&lt;br/&gt;
java.lang.IllegalArgumentException: Column has wrong number of index entries found: 1 expected: 9&lt;br/&gt;
         at org.apache.hadoop.hive.ql.io.orc.WriterImpl$TreeWriter.writeStripe(WriterImpl.java:802)&lt;br/&gt;
         at org.apache.hadoop.hive.ql.io.orc.WriterImpl$StructTreeWriter.writeStripe(WriterImpl.java:1742)&lt;br/&gt;
         at org.apache.hadoop.hive.ql.io.orc.WriterImpl.flushStripe(WriterImpl.java:2133)&lt;br/&gt;
         at org.apache.hadoop.hive.ql.io.orc.WriterImpl.checkMemory(WriterImpl.java:352)&lt;br/&gt;
         at org.apache.hadoop.hive.ql.io.orc.MemoryManager.notifyWriters(MemoryManager.java:168)&lt;br/&gt;
         at org.apache.hadoop.hive.ql.io.orc.MemoryManager.addedRow(MemoryManager.java:157)&lt;br/&gt;
         at org.apache.hadoop.hive.ql.io.orc.WriterImpl.addRow(WriterImpl.java:2413)&lt;br/&gt;
         at org.apache.hadoop.hive.ql.io.orc.OrcOutputFormat$OrcRecordWriter.write(OrcOutputFormat.java:86)&lt;br/&gt;
         at com.facebook.presto.hive.HivePageSink$HiveRecordWriter.addRow(HivePageSink.java:590)&lt;br/&gt;
         at com.facebook.presto.hive.HivePageSink.appendPage(HivePageSink.java:287)&lt;br/&gt;
         at com.facebook.presto.spi.classloader.ClassLoaderSafeConnectorPageSink.appendPage(ClassLoaderSafeConnectorPageSink.java:42)&lt;br/&gt;
         at com.facebook.presto.operator.TableWriterOperator.addInput(TableWriterOperator.java:207)&lt;br/&gt;
         at com.facebook.presto.operator.Driver.processInternal(Driver.java:386)&lt;br/&gt;
         at com.facebook.presto.operator.Driver.processFor(Driver.java:303)&lt;br/&gt;
         at com.facebook.presto.execution.SqlTaskExecution$DriverSplitRunner.processFor(SqlTaskExecution.java:577)&lt;br/&gt;
         at com.facebook.presto.execution.TaskExecutor$PrioritizedSplitRunner.process(TaskExecutor.java:529)&lt;br/&gt;
         at com.facebook.presto.execution.TaskExecutor$Runner.run(TaskExecutor.java:665)&lt;br/&gt;
         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
         at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13030046">HIVE-15496</key>
            <summary>hive client version 0.17 : Column has wrong number of index entries found: 1 expected: 9</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="bolt">bolt</assignee>
                                    <reporter username="bolt">bolt</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 08:49:51 +0000</created>
                <updated>Thu, 22 Dec 2016 08:50:39 +0000</updated>
                                            <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37xcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-15497] Unthrown SerDeException in ThriftJDBCBinarySerDe.java</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15497</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There is an unthrown SerDeException in serde/src/java/org/apache/hadoop/hive/serde2/thrift/ThriftJDBCBinarySerDe.java (found in the currenet github snapshot, 4ba713ccd85c3706d195aeef9476e6e6363f1c21)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 91     initializeRowAndColumns();
 92     &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
 93       thriftFormatter.initialize(conf, tbl);
 94     } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
 95       &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SerDeException(e);
 96     }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13030130">HIVE-15497</key>
            <summary>Unthrown SerDeException in ThriftJDBCBinarySerDe.java</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lifove">JC</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 14:49:40 +0000</created>
                <updated>Thu, 22 Dec 2016 15:08:37 +0000</updated>
                                                                            <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15770237" author="githubbot" created="Thu, 22 Dec 2016 15:08:37 +0000"  >&lt;p&gt;GitHub user lifove opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/126&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/pull/126&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15497&quot; title=&quot;Unthrown SerDeException in ThriftJDBCBinarySerDe.java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15497&quot;&gt;HIVE-15497&lt;/a&gt;: Fix an unthrown SerDeException&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-15497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/lifove/hive&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/lifove/hive&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15497&quot; title=&quot;Unthrown SerDeException in ThriftJDBCBinarySerDe.java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15497&quot;&gt;HIVE-15497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/hive/pull/126.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/pull/126.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #126&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 76cd811bd9372d45a75103344aa932f00338e10b&lt;br/&gt;
Author: lifove &amp;lt;jc@lifove.net&amp;gt;&lt;br/&gt;
Date:   2016-12-22T14:53:08Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15497&quot; title=&quot;Unthrown SerDeException in ThriftJDBCBinarySerDe.java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15497&quot;&gt;HIVE-15497&lt;/a&gt;: Fix an unthrown SerDeException&lt;/p&gt;

&lt;hr /&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844407" name="HIVE-15497.txt" size="638" author="lifove" created="Thu, 22 Dec 2016 15:00:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 15:08:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37xvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-15498] sum() over (order by c) should default the windowing spec to RangeBoundarySpec</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15498</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently &lt;tt&gt;sum() over (partition by a)&lt;/tt&gt; without order by is defaulted windowing to RangeBoundarySpec while  &lt;tt&gt;sum() over (partition by a order by c)&lt;/tt&gt; is defaulted to ValueBoundarySpec. It&apos;s not consistent and the user gets confused of the switch from &quot;rows between&quot; to &quot;range between&quot; by adding &quot;order by c&quot; clause.&lt;/p&gt;

&lt;p&gt;From the comment &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  /*
   * - A Window Frame that has only the /start/boundary, then it is interpreted as:
         BETWEEN &amp;lt;start boundary&amp;gt; AND CURRENT ROW
   * - A Window Specification with an Order Specification and no Window
   *   Frame is interpreted as:
         ROW BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW
   * - A Window Specification with no Order and no Window Frame is interpreted as:
         ROW BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING
   */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We intended to set as &quot;row between&quot; (RangeBoundarySpec), not &quot;range between&quot; (ValueBoundarySpec). &lt;/p&gt;</description>
                <environment></environment>
        <key id="13030191">HIVE-15498</key>
            <summary>sum() over (order by c) should default the windowing spec to RangeBoundarySpec</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aihuaxu">Aihua Xu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 17:18:41 +0000</created>
                <updated>Thu, 29 Dec 2016 01:31:10 +0000</updated>
                            <resolved>Tue, 27 Dec 2016 16:09:22 +0000</resolved>
                                    <version>2.1.0</version>
                                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15770625" author="aihuaxu" created="Thu, 22 Dec 2016 17:38:58 +0000"  >&lt;p&gt;patch-1: change the default to RangeBoundarySpec for the case sum() over (order by c)  to be consistent.&lt;/p&gt;</comment>
                            <comment id="15770637" author="aihuaxu" created="Thu, 22 Dec 2016 17:43:27 +0000"  >&lt;p&gt;That RangeBoundarySpec should be what the user expects and with that, streaming is supported. With ValueBoundarySpec, streaming is not supported, so the performance is bad. &lt;/p&gt;</comment>
                            <comment id="15770642" author="aihuaxu" created="Thu, 22 Dec 2016 17:46:23 +0000"  >&lt;p&gt;The only change in the code is:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;wFrame = new WindowFrameSpec(		
   new ValueBoundarySpec(Direction.PRECEDING, BoundarySpec.UNBOUNDED_AMOUNT),		
	                  new CurrentRowSpec()		
	            );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;wFrame = new WindowFrameSpec(		
   new RangeBoundarySpec(Direction.PRECEDING, BoundarySpec.UNBOUNDED_AMOUNT),		
	                  new CurrentRowSpec()		
	            );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;RangeBoundarySpec is for &quot;ROWS BETWEEN&quot; and ValueBoundarySpec is for &quot;RANGE BETWEEN&quot;. So it&apos;s a little confusing.&lt;/p&gt;</comment>
                            <comment id="15770833" author="hiveqa" created="Thu, 22 Dec 2016 19:08:58 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844434/HIVE-15498.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844434/HIVE-15498.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 28 failed/errored test(s), 10865 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMiniLlapLocalCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=144)
	[vectorized_rcfile_columnar.q,vector_elt.q,explainuser_1.q,multi_insert.q,tez_dml.q,vector_bround.q,schema_evol_orc_acid_table.q,vector_when_case_null.q,orc_ppd_schema_evol_1b.q,vector_join30.q,vectorization_11.q,cte_3.q,update_tmp_table.q,vector_decimal_cast.q,groupby_grouping_id2.q,vector_decimal_round.q,tez_smb_empty.q,orc_merge6.q,vector_char_mapjoin1.q,vector_decimal_trailing.q,cte_5.q,tez_union.q,vector_decimal_2.q,columnStatsUpdateForStatsOptimizer_1.q,vector_outer_join3.q,schema_evol_text_vec_part_all_complex.q,tez_dynpart_hashjoin_2.q,auto_sortmerge_join_12.q,offset_limit.q,tez_union_multiinsert.q]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_rp_windowing] (batchId=35)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[cbo_windowing] (batchId=49)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[dbtxnmgr_showlocks] (batchId=71)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[leadlag] (batchId=51)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ptf_general_queries] (batchId=6)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[temp_table_windowing_expressions] (batchId=58)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[windowing_decimal] (batchId=62)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[windowing_expressions] (batchId=50)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[windowing_multipartitioning] (batchId=50)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[windowing_udaf] (batchId=60)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[windowing_windowspec] (batchId=16)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_rp_windowing_2] (batchId=142)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[cbo_windowing] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[lineage2] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[lineage3] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[ptf] (batchId=140)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[ptf_streaming] (batchId=148)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[special_character_in_tabnames_1] (batchId=146)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vectorized_ptf] (batchId=149)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[windowing] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ptf] (batchId=101)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ptf_general_queries] (batchId=97)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[ptf_streaming] (batchId=116)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[vectorized_ptf] (batchId=121)
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver[windowing] (batchId=116)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2697/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2697/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2697/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2697/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2697/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2697/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 28 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844434 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15771090" author="aihuaxu" created="Thu, 22 Dec 2016 21:09:01 +0000"  >&lt;p&gt;patch-2: Update affected unit tests. &lt;/p&gt;</comment>
                            <comment id="15771152" author="aihuaxu" created="Thu, 22 Dec 2016 21:38:08 +0000"  >&lt;p&gt;Other databases like Oracle also works in this way.&lt;/p&gt;</comment>
                            <comment id="15771230" author="aihuaxu" created="Thu, 22 Dec 2016 22:08:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ychena&quot; class=&quot;user-hover&quot; rel=&quot;ychena&quot;&gt;Yongzhi Chen&lt;/a&gt;  Can you help review the change? Seems the users are using sum() over (order by c) as a running total, but actually we are incorrectly adding &quot;range between&quot;.&lt;/p&gt;

&lt;p&gt;Here is what Oracle does (See &lt;a href=&quot;http://www.oracle.com/technetwork/issue-archive/2013/13-mar/o23sql-1906475.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.oracle.com/technetwork/issue-archive/2013/13-mar/o23sql-1906475.html&lt;/a&gt;) which returns a running total.&lt;/p&gt;</comment>
                            <comment id="15771490" author="hiveqa" created="Fri, 23 Dec 2016 00:40:11 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844469/HIVE-15498.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844469/HIVE-15498.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 10895 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2704/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2704/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2704/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2704/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2704/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2704/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844469 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15780694" author="aihuaxu" created="Tue, 27 Dec 2016 16:09:01 +0000"  >&lt;p&gt;Seems I was incorrect. Tried Postgres and Oracle, both default &lt;tt&gt;sum() over (ORDER BY C)&lt;/tt&gt; to &lt;tt&gt;RANGE BETWEEN UNBOUNDED PROCEEDING AND CURRENT ROW&lt;/tt&gt; as current Hive behavior. &lt;/p&gt;

&lt;p&gt;So we just need to update the document.&lt;/p&gt;</comment>
                            <comment id="15784200" author="lefty@hortonworks.com" created="Thu, 29 Dec 2016 01:31:10 +0000"  >&lt;p&gt;Thanks for the doc update, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+WindowingAndAnalytics#LanguageManualWindowingAndAnalytics-OVERwithPARTITIONBYandORDERBY&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;OVER with PARTITION BY and ORDER BY &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844434" name="HIVE-15498.1.patch" size="4440" author="aihuaxu" created="Thu, 22 Dec 2016 17:34:47 +0000"/>
                            <attachment id="12844469" name="HIVE-15498.2.patch" size="69988" author="aihuaxu" created="Thu, 22 Dec 2016 21:09:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 19:08:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37y93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15499] Nested column pruning: don&apos;t prune paths when a SerDe is used only for serializing</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15499</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In &lt;tt&gt;FileSinkOperator&lt;/tt&gt;, a serializer is created to write output data. When initializing it we should not read the &lt;tt&gt;ColumnProjectionUtils.READ_NESTED_COLUMN_PATH_CONF_STR&lt;/tt&gt; property since this is only used for the read path, and the path may not match the schema for the output table (for instance, in the case of insert).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13030216">HIVE-15499</key>
            <summary>Nested column pruning: don&apos;t prune paths when a SerDe is used only for serializing</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="13015143">HIVE-15055</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="csun">Chao Sun</assignee>
                                    <reporter username="csun">Chao Sun</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 19:25:58 +0000</created>
                <updated>Fri, 21 Jul 2017 18:26:25 +0000</updated>
                            <resolved>Sat, 24 Dec 2016 17:37:11 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15771201" author="hiveqa" created="Thu, 22 Dec 2016 21:55:43 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844455/HIVE-15499.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844455/HIVE-15499.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10895 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2701/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2701/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2701/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2701/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2701/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2701/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844455 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15771523" author="ferd" created="Fri, 23 Dec 2016 01:01:40 +0000"  >&lt;p&gt;LGTM, just a minor comment. Please remove extra space before nested_tbl_3.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+DROP TABLE IF EXISTS  nested_tbl_3;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15772178" author="ferd" created="Fri, 23 Dec 2016 07:15:19 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15772250" author="hiveqa" created="Fri, 23 Dec 2016 08:00:26 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844520/HIVE-15499.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844520/HIVE-15499.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10880 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=129)
	[groupby6_map.q,groupby2_noskew_multi_distinct.q,load_dyn_part12.q,scriptfile1.q,join15.q,auto_join17.q,join_hive_626.q,tez_join_tests.q,auto_join21.q,join_view.q,join_cond_pushdown_4.q,vectorization_0.q,union_null.q,auto_join3.q,vectorization_decimal_date.q]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2712/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2712/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2712/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2712/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2712/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2712/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844520 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15775201" author="csun" created="Sat, 24 Dec 2016 17:37:11 +0000"  >&lt;p&gt;Committed to master. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt; for the review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844455" name="HIVE-15499.1.patch" size="5191" author="csun" created="Thu, 22 Dec 2016 20:11:41 +0000"/>
                            <attachment id="12844520" name="HIVE-15499.2.patch" size="5190" author="csun" created="Fri, 23 Dec 2016 05:25:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 21:55:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37yen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15500] fix the test failure dbtxnmgr_showlocks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15500</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="13030220">HIVE-15500</key>
            <summary>fix the test failure dbtxnmgr_showlocks</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aihuaxu">Aihua Xu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 19:39:00 +0000</created>
                <updated>Thu, 22 Dec 2016 19:51:20 +0000</updated>
                            <resolved>Thu, 22 Dec 2016 19:51:12 +0000</resolved>
                                    <version>2.2.0</version>
                                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15770911" author="prasanth_j" created="Thu, 22 Dec 2016 19:41:27 +0000"  >&lt;p&gt;already fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15376&quot; title=&quot;Improve heartbeater scheduling for transactions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15376&quot;&gt;&lt;del&gt;HIVE-15376&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15770938" author="aihuaxu" created="Thu, 22 Dec 2016 19:51:12 +0000"  >&lt;p&gt;It&apos;s already fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15376&quot; title=&quot;Improve heartbeater scheduling for transactions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15376&quot;&gt;&lt;del&gt;HIVE-15376&lt;/del&gt;&lt;/a&gt; minutes ago.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13026162">HIVE-15376</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12844449" name="HIVE-15500.1.patch" size="3806" author="aihuaxu" created="Thu, 22 Dec 2016 19:39:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 19:41:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37yfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15501] Add INSTR and MONTHS_BETWEEN to UDFs that are Vectorized</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15501</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add INSTR to special list.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13030221">HIVE-15501</key>
            <summary>Add INSTR and MONTHS_BETWEEN to UDFs that are Vectorized</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="mmccline">Matt McCline</assignee>
                                    <reporter username="mmccline">Matt McCline</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 19:43:49 +0000</created>
                <updated>Sat, 14 Jan 2017 07:19:18 +0000</updated>
                            <resolved>Sat, 14 Jan 2017 06:35:22 +0000</resolved>
                                                                    <component>Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15770928" author="pxiong" created="Thu, 22 Dec 2016 19:47:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmccline&quot; class=&quot;user-hover&quot; rel=&quot;mmccline&quot;&gt;Matt McCline&lt;/a&gt;, there is one more....&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2016-12-22T10:43:32,066  INFO [f0f0bd80-b9b2-4890-b66d-e8ad22526f35 main] physical.Vectorizer: Cannot vectorize UDF GenericUDFMonthsBetween(Column[_col3], Column[_col90])
2016-12-22T10:43:32,066  INFO [f0f0bd80-b9b2-4890-b66d-e8ad22526f35 main] physical.Vectorizer: Cannot vectorize map work key expression
2016-12-22T10:43:32,066  INFO [f0f0bd80-b9b2-4890-b66d-e8ad22526f35 main] physical.Vectorizer: MapWork Operator: MAPJOIN could not be vectorized.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15771076" author="pxiong" created="Thu, 22 Dec 2016 21:01:05 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15771086" author="hiveqa" created="Thu, 22 Dec 2016 21:07:16 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844451/HIVE-15501.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844451/HIVE-15501.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10892 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_udf1] (batchId=148)
org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver.org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver (batchId=229)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2700/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2700/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2700/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2700/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2700/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2700/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844451 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15771421" author="hiveqa" created="Thu, 22 Dec 2016 23:52:21 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844460/HIVE-15501.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844460/HIVE-15501.02.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10867 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMiniLlapLocalCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=144)
	[vectorized_rcfile_columnar.q,vector_elt.q,explainuser_1.q,multi_insert.q,tez_dml.q,vector_bround.q,schema_evol_orc_acid_table.q,vector_when_case_null.q,orc_ppd_schema_evol_1b.q,vector_join30.q,vectorization_11.q,cte_3.q,update_tmp_table.q,vector_decimal_cast.q,groupby_grouping_id2.q,vector_decimal_round.q,tez_smb_empty.q,orc_merge6.q,vector_char_mapjoin1.q,vector_decimal_trailing.q,cte_5.q,tez_union.q,vector_decimal_2.q,columnStatsUpdateForStatsOptimizer_1.q,vector_outer_join3.q,schema_evol_text_vec_part_all_complex.q,tez_dynpart_hashjoin_2.q,auto_sortmerge_join_12.q,offset_limit.q,tez_union_multiinsert.q]
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_udf1] (batchId=148)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2703/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2703/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2703/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2703/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2703/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2703/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844460 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15802173" author="pxiong" created="Thu, 5 Jan 2017 18:49:03 +0000"  >&lt;p&gt;resubmit patch for QA run.&lt;/p&gt;</comment>
                            <comment id="15822725" author="mmccline" created="Sat, 14 Jan 2017 06:35:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15627&quot; title=&quot;Make hive.vectorized.adaptor.usage.mode=all vectorize all UDFs not just those in supportedGenericUDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15627&quot;&gt;&lt;del&gt;HIVE-15627&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844451" name="HIVE-15501.01.patch" size="50744" author="mmccline" created="Thu, 22 Dec 2016 19:45:41 +0000"/>
                            <attachment id="12844460" name="HIVE-15501.02.patch" size="123015" author="mmccline" created="Thu, 22 Dec 2016 20:37:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 19:47:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37yfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15502] CTAS on S3 is broken with credentials exception</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15502</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Simple CTAS queries that read from S3, and write to the local fs throw the following exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;com.amazonaws.AmazonClientException: Unable to load AWS credentials from any provider in the chain
	at com.amazonaws.auth.AWSCredentialsProviderChain.getCredentials(AWSCredentialsProviderChain.java:117)
	at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3521)
	at com.amazonaws.services.s3.AmazonS3Client.headBucket(AmazonS3Client.java:1031)
	at com.amazonaws.services.s3.AmazonS3Client.doesBucketExist(AmazonS3Client.java:994)
	at org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:297)
	at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2653)
	at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:92)
	at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2687)
	at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2669)
	at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:371)
	at org.apache.hadoop.fs.Path.getFileSystem(Path.java:295)
	at org.apache.hadoop.hive.ql.exec.Utilities.isEmptyPath(Utilities.java:2308)
	at org.apache.hadoop.hive.ql.exec.Utilities.isEmptyPath(Utilities.java:2304)
	at org.apache.hadoop.hive.ql.exec.Utilities.getInputPaths(Utilities.java:3013)
	at org.apache.hadoop.hive.ql.exec.mr.ExecDriver.execute(ExecDriver.java:342)
	at org.apache.hadoop.hive.ql.exec.mr.MapRedTask.execute(MapRedTask.java:151)
	at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:199)
	at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:100)
	at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:2168)
	at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1824)
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1511)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1222)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1212)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:233)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:184)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:400)
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:777)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:715)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:642)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.util.RunJar.run(RunJar.java:221)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:136)
Job Submission failed with exception &lt;span class=&quot;code-quote&quot;&gt;&apos;com.amazonaws.AmazonClientException(Unable to load AWS credentials from any provider in the chain)&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Seems to only happen when trying to connect to S3 from map tasks. My &lt;tt&gt;hive-site.xml&lt;/tt&gt; has the following entries:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;configuration&amp;gt;
  &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;mapreduce.framework.name&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;local&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;
  &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;mapred.job.tracker&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;local&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;
  &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;fs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;file:&lt;span class=&quot;code-comment&quot;&gt;///&amp;lt;/value&amp;gt;
&lt;/span&gt;  &amp;lt;/property&amp;gt;
  &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;fs.s3a.access.key&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;[ACCESS-KEY]&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;
  &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;fs.s3a.secret.key&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;[SECRET-KEY]&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;
&amp;lt;/configuration&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ve also noticed that now I need to copy the AWS S3 SDK jars into the lib folder before running Hive locally.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13030240">HIVE-15502</key>
            <summary>CTAS on S3 is broken with credentials exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="stakiar">Sahil Takiar</assignee>
                                    <reporter username="stakiar">Sahil Takiar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2016 22:02:51 +0000</created>
                <updated>Wed, 1 Mar 2017 14:05:24 +0000</updated>
                                                                            <component>Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15771243" author="vihangk1" created="Thu, 22 Dec 2016 22:15:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stakiar&quot; class=&quot;user-hover&quot; rel=&quot;stakiar&quot;&gt;Sahil Takiar&lt;/a&gt; Shouldn&apos;t these keys be present in the core-site.xml too for the Map tasks to succeed?&lt;/p&gt;</comment>
                            <comment id="15771285" author="stakiar" created="Thu, 22 Dec 2016 22:35:19 +0000"  >&lt;p&gt;I never had to do that in the past, but I can try and see if that works.&lt;/p&gt;</comment>
                            <comment id="15890221" author="stevel@apache.org" created="Wed, 1 Mar 2017 14:05:24 +0000"  >&lt;p&gt;probably comes down to the ordering of the FS creation vs when the first HiveConfiguration is instantiated. It&apos;s only after the latter than hive-site.xml is added as a default resource for all configs, hence picked up.&lt;/p&gt;

&lt;p&gt;Best to just put it in core-site.xml&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Dec 2016 22:15:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37yjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-15503] LLAP: Fix use of Runtime.getRuntime.maxMemory in Hive operators</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15503</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java:    maxHashTblMemory = (&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;) (memoryPercentage * &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;.getRuntime().maxMemory());
ql/src/java/org/apache/hadoop/hive/ql/exec/TopNHash.java:    &lt;span class=&quot;code-comment&quot;&gt;// Total Free Memory = maxMemory() - Used Memory;
&lt;/span&gt;ql/src/java/org/apache/hadoop/hive/ql/exec/TopNHash.java:    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; totalFreeMemory = &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;.getRuntime().maxMemory() -
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will not work very well with LLAP because of the memory sharing by executors. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13030274">HIVE-15503</key>
            <summary>LLAP: Fix use of Runtime.getRuntime.maxMemory in Hive operators</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Dec 2016 01:26:49 +0000</created>
                <updated>Wed, 26 Jul 2017 00:02:56 +0000</updated>
                            <resolved>Sat, 24 Dec 2016 10:40:30 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15771560" author="prasanth_j" created="Fri, 23 Dec 2016 01:27:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; This is WIP patch. I will post final patch today for review. Have to run through manual tests and see nothing breaks. &lt;/p&gt;</comment>
                            <comment id="15771818" author="prasanth_j" created="Fri, 23 Dec 2016 04:03:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; The patch is ready for review now. I am still working on the tests. The current test flushes after every row because memory usage shows high compared to max value. I will update the patch after identifying the root cause. &lt;/p&gt;</comment>
                            <comment id="15771971" author="hiveqa" created="Fri, 23 Dec 2016 05:19:00 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844513/HIVE-15503.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844513/HIVE-15503.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10881 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=95)
	[join_cond_pushdown_unqual4.q,union_remove_7.q,join13.q,join_vc.q,groupby_cube1.q,bucket_map_join_spark2.q,sample3.q,smb_mapjoin_19.q,stats16.q,union23.q,union.q,union31.q,cbo_udf_udaf.q,ptf_decimal.q,bucketmapjoin2.q]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_llap_counters] (batchId=136)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_1] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=92)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2709/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2709/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2709/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2709/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2709/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2709/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844513 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15772372" author="prasanth_j" created="Fri, 23 Dec 2016 09:09:16 +0000"  >&lt;p&gt;Added TopNHash as well. &lt;/p&gt;</comment>
                            <comment id="15772377" author="prasanth_j" created="Fri, 23 Dec 2016 09:11:48 +0000"  >&lt;p&gt;RB link: &lt;a href=&quot;https://reviews.apache.org/r/55010/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/55010/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; can you please review the patch?&lt;/p&gt;</comment>
                            <comment id="15772536" author="hiveqa" created="Fri, 23 Dec 2016 10:49:55 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844536/HIVE-15503.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844536/HIVE-15503.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 10896 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=92)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2714/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2714/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2714/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2714/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2714/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2714/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844536 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15773505" author="hagleitn" created="Fri, 23 Dec 2016 19:13:27 +0000"  >&lt;p&gt;LGTM +1. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; might also be interested. For the TODOs in the code, can you open jiras? Or are you planning to resolve before commit?&lt;/p&gt;</comment>
                            <comment id="15774703" author="prasanth_j" created="Sat, 24 Dec 2016 10:39:57 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15508&quot; title=&quot;LLAP: Find better way to track memory usage per executor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15508&quot;&gt;HIVE-15508&lt;/a&gt; for the TODO followups.&lt;/p&gt;</comment>
                            <comment id="15774704" author="prasanth_j" created="Sat, 24 Dec 2016 10:40:30 +0000"  >&lt;p&gt;Test failures are not related to this patch. Committed patch to master.&lt;br/&gt;
Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; for the review!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844513" name="HIVE-15503.1.patch" size="58449" author="prasanth_j" created="Fri, 23 Dec 2016 04:00:17 +0000"/>
                            <attachment id="12844536" name="HIVE-15503.2.patch" size="16232" author="prasanth_j" created="Fri, 23 Dec 2016 09:09:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Dec 2016 05:19:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37yrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12335837</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15504] ArrayIndexOutOfBoundsException in GenericUDFTrunc::initialize</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15504</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SELECT TRUNC(d_date) FROM test_date_dim throws ArrayIndexOutOfBounds exception.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.ArrayIndexOutOfBoundsException: 1
        at org.apache.hadoop.hive.ql.udf.generic.GenericUDFTrunc.initialize(GenericUDFTrunc.java:128)
        at org.apache.hadoop.hive.ql.udf.generic.GenericUDF.initializeAndFoldConstants(GenericUDF.java:139)
        at org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc.newInstance(ExprNodeGenericFuncDesc.java:236)
        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$DefaultExprProcessor.getXpathOrFuncExprNodeDesc(TypeCheckProcFactory.java:1102)
        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$DefaultExprProcessor.process(TypeCheckProcFactory.java:1357)
        at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:105)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:89)
        at org.apache.hadoop.hive.ql.lib.ExpressionWalker.walk(ExpressionWalker.java:76)
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:120)
        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:227)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="13030291">HIVE-15504</key>
            <summary>ArrayIndexOutOfBoundsException in GenericUDFTrunc::initialize</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajesh.balamohan">Rajesh Balamohan</assignee>
                                    <reporter username="rajesh.balamohan">Rajesh Balamohan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Dec 2016 03:46:29 +0000</created>
                <updated>Tue, 22 May 2018 23:59:16 +0000</updated>
                            <resolved>Tue, 14 Nov 2017 05:13:05 +0000</resolved>
                                                    <fixVersion>3.0.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15772049" author="hiveqa" created="Fri, 23 Dec 2016 06:06:31 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844516/HIVE-15504.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844516/HIVE-15504.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 10881 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver (batchId=115)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2710/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2710/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2710/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2710/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2710/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2710/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844516 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16250822" author="ashutoshc" created="Tue, 14 Nov 2017 04:24:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="16250877" author="ashutoshc" created="Tue, 14 Nov 2017 05:13:05 +0000"  >&lt;p&gt;Committed to master.&lt;/p&gt;</comment>
                            <comment id="16486133" author="vgarg" created="Tue, 22 May 2018 23:59:16 +0000"  >&lt;p&gt;Hive 3.0.0 has been released so closing this jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844516" name="HIVE-15504.1.patch" size="797" author="rajesh.balamohan" created="Fri, 23 Dec 2016 04:25:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Dec 2016 06:06:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37yvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15505] Include REPLACE, NEXT_DAY, REVERSE to the set of UDFs being Vectorized</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15505</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently it does not vectorize and ends up throwing the following msgs&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;physical.Vectorizer: Cannot vectorize UDF GenericUDFNextDay(Column[d_date], Const string WE)
physical.Vectorizer: Cannot vectorize UDF GenericUDFBridge ==&amp;gt; replace (Column[d_date_id], Const string a, Const string b)..
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13030327">HIVE-15505</key>
            <summary>Include REPLACE, NEXT_DAY, REVERSE to the set of UDFs being Vectorized</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rajesh.balamohan">Rajesh Balamohan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Dec 2016 08:24:54 +0000</created>
                <updated>Sat, 14 Jan 2017 07:18:57 +0000</updated>
                            <resolved>Sat, 14 Jan 2017 06:21:30 +0000</resolved>
                                                                    <component>Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15822721" author="mmccline" created="Sat, 14 Jan 2017 06:21:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15627&quot; title=&quot;Make hive.vectorized.adaptor.usage.mode=all vectorize all UDFs not just those in supportedGenericUDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15627&quot;&gt;&lt;del&gt;HIVE-15627&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 14 Jan 2017 06:21:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37z3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15506] Problem with creating table in hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15506</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HI &lt;br/&gt;
Am using Apache Hive 2.1.0 version under windows.I&apos;ve deployed hive under windows using MySQL as metastore .Am able to launch the hive shell.Once done ,i am able to create databases,show tables but am not able to create table ,i&apos;ve struggled to be able to do it but i couldn&apos;t.&lt;br/&gt;
I&apos;ve got this bug&quot;&lt;br/&gt;
Error org.apache.hive.ql.exec.DDLTask.MetaException&amp;lt;message: for MetastoreDB connections,we don&apos;t support retries at the client level&amp;gt;&lt;br/&gt;
Please find the hive-site.xml in this url.&lt;br/&gt;
&lt;a href=&quot;http://www.mediafire.com/file/9864d5o308h6pk4/hive-site.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mediafire.com/file/9864d5o308h6pk4/hive-site.xml&lt;/a&gt;&lt;br/&gt;
Please am not able to do anything ,thanks for your help.&lt;/p&gt;</description>
                <environment>&lt;p&gt;windows&lt;/p&gt;</environment>
        <key id="13030381">HIVE-15506</key>
            <summary>Problem with creating table in hive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="maher">Maher Hattabi</assignee>
                                    <reporter username="maher">Maher Hattabi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Dec 2016 14:00:03 +0000</created>
                <updated>Fri, 10 Mar 2017 03:28:35 +0000</updated>
                                            <version>2.1.0</version>
                                                    <component>Database/Schema</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15904345" author="fanyunbojerry" created="Fri, 10 Mar 2017 03:28:35 +0000"  >&lt;p&gt;could you attach the log file for the further info?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 10 Mar 2017 03:28:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37zfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12334255</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[HIVE-15507] Nested column pruning: fix issue when selecting struct field from array/map element</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15507</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When running the following query:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT count(col), arr[0].f
FROM tbl
GROUP BY arr[0].f
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where &lt;tt&gt;arr&lt;/tt&gt; is an array of struct with field &lt;tt&gt;f&lt;/tt&gt;. Nested column pruning will fail. This is because we currently process &lt;tt&gt;GenericUDFIndex&lt;/tt&gt; in the same way as any other UDF. In this case, it will generate path &lt;tt&gt;arr.f&lt;/tt&gt;, which will not match the struct type info when doing the pruning.&lt;br/&gt;
Same thing for map.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13030420">HIVE-15507</key>
            <summary>Nested column pruning: fix issue when selecting struct field from array/map element</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="13015143">HIVE-15055</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="csun">Chao Sun</assignee>
                                    <reporter username="csun">Chao Sun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Dec 2016 17:42:57 +0000</created>
                <updated>Fri, 21 Jul 2017 18:36:07 +0000</updated>
                            <resolved>Mon, 2 Jan 2017 21:03:42 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>Logical Optimizer</component>
                    <component>Physical Optimizer</component>
                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15773881" author="hiveqa" created="Fri, 23 Dec 2016 23:28:33 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844611/15507.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844611/15507.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 10866 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMiniLlapLocalCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=144)
	[vectorized_rcfile_columnar.q,vector_elt.q,explainuser_1.q,multi_insert.q,tez_dml.q,vector_bround.q,schema_evol_orc_acid_table.q,vector_when_case_null.q,orc_ppd_schema_evol_1b.q,vector_join30.q,vectorization_11.q,cte_3.q,update_tmp_table.q,vector_decimal_cast.q,groupby_grouping_id2.q,vector_decimal_round.q,tez_smb_empty.q,orc_merge6.q,vector_char_mapjoin1.q,vector_decimal_trailing.q,cte_5.q,tez_union.q,vector_decimal_2.q,columnStatsUpdateForStatsOptimizer_1.q,vector_outer_join3.q,schema_evol_text_vec_part_all_complex.q,tez_dynpart_hashjoin_2.q,auto_sortmerge_join_12.q,offset_limit.q,tez_union_multiinsert.q]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2719/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2719/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2719/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2719/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2719/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2719/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844611 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15773909" author="csun" created="Fri, 23 Dec 2016 23:51:43 +0000"  >&lt;p&gt;I believe the test failures are unrelated. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt;, can you take a look at this patch? thanks.&lt;/p&gt;</comment>
                            <comment id="15786564" author="ferd" created="Fri, 30 Dec 2016 01:16:20 +0000"  >&lt;p&gt;Sorry for my late response. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=csun&quot; class=&quot;user-hover&quot; rel=&quot;csun&quot;&gt;Chao Sun&lt;/a&gt; for the patch. LGTM +1&lt;/p&gt;</comment>
                            <comment id="15793496" author="csun" created="Mon, 2 Jan 2017 21:03:42 +0000"  >&lt;p&gt;Committed to the master branch. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt; for the review!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13031852">HIVE-15537</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12844611" name="15507.1.patch" size="54614" author="csun" created="Fri, 23 Dec 2016 21:58:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Dec 2016 23:28:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37znz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12335837</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15508] LLAP: Find better way to track memory usage per executor</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15508</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Many hive operators make runtime decisions based on memory usage. For getting the memory usage, Runtime.getUsed() or MemoryMXBean methods are used. This works fine for MR or Tez but for LLAP the entire memory is shared among multiple executors and each executors can have different memory usage. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15503&quot; title=&quot;LLAP: Fix use of Runtime.getRuntime.maxMemory in Hive operators&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15503&quot;&gt;&lt;del&gt;HIVE-15503&lt;/del&gt;&lt;/a&gt; assumes the memory usage is shared across all executors. If we track memory usage per executor, also memory usage by on-heap cache better decisions can be made by the operators. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13030487">HIVE-15508</key>
            <summary>LLAP: Find better way to track memory usage per executor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Dec 2016 10:37:32 +0000</created>
                <updated>Sat, 25 Mar 2017 20:34:45 +0000</updated>
                                            <version>2.2.0</version>
                                                    <component>llap</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15796132" author="sershe" created="Tue, 3 Jan 2017 20:44:27 +0000"  >&lt;p&gt;It seems like a hard problem in Java world. Should we just move any significant allocations to memory manager and buffers (GBY, PTF, etc.), and assume nobody allocates anything else unless they are running UDFs? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15828987" author="sseth" created="Wed, 18 Jan 2017 23:41:34 +0000"  >&lt;p&gt;Do individual operators not track how much memory they are using?&lt;/p&gt;</comment>
                            <comment id="15829022" author="sershe" created="Thu, 19 Jan 2017 00:08:22 +0000"  >&lt;p&gt;It&apos;s Java... how would they? &lt;/p&gt;</comment>
                            <comment id="15829045" author="prasanth_j" created="Thu, 19 Jan 2017 00:28:04 +0000"  >&lt;p&gt;I don&apos;t think we are there yet &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15835303" author="sseth" created="Mon, 23 Jan 2017 22:34:18 +0000"  >&lt;p&gt;It&apos;s already done for the hashtables. Assuming buffers and memory management within these. We could of course re-write everything in C....&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Jan 2017 20:44:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3802v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12340268</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[HIVE-15509] Add back the script + transform tests to minitez</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15509</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Script operator cannot run in minillap and so was removed from the minillap test suite. But tez supports script + transform. Add the removed tests back to minitez test suite. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13030502">HIVE-15509</key>
            <summary>Add back the script + transform tests to minitez</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Dec 2016 01:04:51 +0000</created>
                <updated>Sat, 25 Mar 2017 21:48:55 +0000</updated>
                                            <version>2.2.0</version>
                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15775809" author="hiveqa" created="Sun, 25 Dec 2016 02:59:25 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844629/HIVE-15509.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844629/HIVE-15509.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 10859 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMiniLlapLocalCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=144)
	[vectorized_rcfile_columnar.q,vector_elt.q,explainuser_1.q,multi_insert.q,tez_dml.q,vector_bround.q,schema_evol_orc_acid_table.q,vector_when_case_null.q,orc_ppd_schema_evol_1b.q,vector_join30.q,vectorization_11.q,cte_3.q,update_tmp_table.q,vector_decimal_cast.q,groupby_grouping_id2.q,vector_decimal_round.q,tez_smb_empty.q,orc_merge6.q,vector_char_mapjoin1.q,vector_decimal_trailing.q,cte_5.q,tez_union.q,vector_decimal_2.q,columnStatsUpdateForStatsOptimizer_1.q,vector_outer_join3.q,schema_evol_text_vec_part_all_complex.q,tez_dynpart_hashjoin_2.q,auto_sortmerge_join_12.q,offset_limit.q,tez_union_multiinsert.q]
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=104)
	[skewjoinopt3.q,smb_mapjoin_4.q,timestamp_comparison.q,union_remove_10.q,mapreduce2.q,bucketmapjoin_negative.q,udf_in_file.q,auto_join12.q,skewjoin.q,vector_left_outer_join.q,semijoin.q,skewjoinopt9.q,smb_mapjoin_3.q,stats10.q,nullgroup4.q]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[offset_limit_ppd_optimizer] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[hybridgrace_hashjoin_2] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[transform_ppr1] (batchId=92)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2723/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2723/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2723/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2723/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2723/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2723/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844629 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15848025" author="prasanth_j" created="Wed, 1 Feb 2017 05:19:12 +0000"  >&lt;p&gt;Rebased patch. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt; Can you please review this patch?&lt;/p&gt;</comment>
                            <comment id="15848203" author="hiveqa" created="Wed, 1 Feb 2017 10:26:58 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12850372/HIVE-15509.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12850372/HIVE-15509.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 15 failed/errored test(s), 11010 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=99)
	[groupby_map_ppr.q,nullgroup4_multi_distinct.q,join_rc.q,union14.q,smb_mapjoin_12.q,vector_cast_constant.q,union_remove_4.q,auto_join11.q,load_dyn_part7.q,udaf_collect_set.q,vectorization_12.q,groupby_sort_skew_1.q,groupby_sort_skew_1_23.q,smb_mapjoin_25.q,skewjoinopt12.q]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[index_auto_mult_tables] (batchId=78)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[hybridgrace_hashjoin_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[script_env_var1] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[script_env_var2] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[script_pipe] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[scriptfile1] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[transform2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[transform_ppr1] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[transform_ppr2] (batchId=93)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3300/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3300/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3300/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3300/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3300/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3300/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 15 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12850372 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15849024" author="prasanth_j" created="Wed, 1 Feb 2017 22:15:56 +0000"  >&lt;p&gt;Rebase isn&apos;t sufficient. Need some golden file updates. Will update shortly&lt;/p&gt;</comment>
                            <comment id="15849494" author="prasanth_j" created="Thu, 2 Feb 2017 06:20:32 +0000"  >&lt;p&gt;scriptfile1.q is taking 5 mins to run in minitez. Needs further investigation. &lt;/p&gt;</comment>
                            <comment id="15850872" author="hiveqa" created="Fri, 3 Feb 2017 01:16:38 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12850576/HIVE-15509.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12850576/HIVE-15509.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 11024 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3338/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3338/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3338/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3338/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3338/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3338/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12850576 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15851205" author="hiveqa" created="Fri, 3 Feb 2017 08:04:40 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12850752/HIVE-15509.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12850752/HIVE-15509.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 11035 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[hybridgrace_hashjoin_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[scriptfile1] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[transform_ppr1] (batchId=93)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query23] (batchId=223)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testWaitQueuePreemption (batchId=282)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3346/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3346/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3346/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3346/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3346/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3346/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12850752 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15851244" author="hiveqa" created="Fri, 3 Feb 2017 09:01:34 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12850752/HIVE-15509.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12850752/HIVE-15509.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 11035 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=235)
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver[encryption_join_with_different_encryption_keys] (batchId=159)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[vector_char_simple] (batchId=147)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[hybridgrace_hashjoin_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[scriptfile1] (batchId=94)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[transform_ppr1] (batchId=93)
org.apache.hadoop.hive.cli.TestPerfCliDriver.testCliDriver[query14] (batchId=223)
org.apache.hadoop.hive.llap.daemon.impl.TestTaskExecutorService.testWaitQueuePreemption (batchId=282)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3347/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3347/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/3347/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/3347/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-3347/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-3347/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12850752 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12850372" name="HIVE-15509.1.patch" size="49771" author="prasanth_j" created="Wed, 1 Feb 2017 05:19:12 +0000"/>
                            <attachment id="12844629" name="HIVE-15509.1.patch" size="49771" author="prasanth_j" created="Sun, 25 Dec 2016 01:29:36 +0000"/>
                            <attachment id="12850576" name="HIVE-15509.2.patch" size="49900" author="prasanth_j" created="Thu, 2 Feb 2017 03:58:57 +0000"/>
                            <attachment id="12850752" name="HIVE-15509.3.patch" size="49375" author="prasanth_j" created="Fri, 3 Feb 2017 02:53:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 25 Dec 2016 02:59:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38067:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12340268</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>


<item>
            <title>[HIVE-15510] table/col statistics does not get populated for temporary tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15510</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Stats are not updated during data population or when analyze table is run.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13030504">HIVE-15510</key>
            <summary>table/col statistics does not get populated for temporary tables</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rajesh.balamohan">Rajesh Balamohan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Dec 2016 03:17:48 +0000</created>
                <updated>Sun, 25 Dec 2016 03:17:48 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3806n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-15511] Provide an option in months_between UDF to disable rounding-off</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15511</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Rounding off was added in &lt;tt&gt;GenericUDFMonthsBetween&lt;/tt&gt; so that it can be compatible with systems like oracle. However, there are places where rounding off is not needed. &lt;/p&gt;

&lt;p&gt;E.g &quot;CAST(MONTHS_BETWEEN(l_shipdate, l_commitdate) / 12 AS INT)&quot; may not need rounding off via BigDecimal which is compute intensive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13030534">HIVE-15511</key>
            <summary>Provide an option in months_between UDF to disable rounding-off</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajesh.balamohan">Rajesh Balamohan</assignee>
                                    <reporter username="rajesh.balamohan">Rajesh Balamohan</reporter>
                        <labels>
                            <label>TODOC2.2</label>
                    </labels>
                <created>Mon, 26 Dec 2016 04:54:56 +0000</created>
                <updated>Wed, 26 Jul 2017 00:03:23 +0000</updated>
                            <resolved>Tue, 27 Dec 2016 05:24:15 +0000</resolved>
                                                    <fixVersion>2.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15777585" author="rajesh.balamohan" created="Mon, 26 Dec 2016 05:03:26 +0000"  >&lt;p&gt;Sample query: select distinct CAST(MONTHS_BETWEEN(l_shipdate, l_commitdate) / 12 AS INT) from lineitem_date limit 10;&lt;/p&gt;

&lt;p&gt;l_shipdate, l_commitdate are date columns in the table.  This was run on a medium scale cluster with 1 TB tpch dataset (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15501&quot; title=&quot;Add INSTR and MONTHS_BETWEEN to UDFs that are Vectorized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15501&quot;&gt;&lt;del&gt;HIVE-15501&lt;/del&gt;&lt;/a&gt; is included which enables vectorization for months_between udf).&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Iteration&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;with rounding off (default))&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Without round off&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Run 1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;92.60 s&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;61.22 s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Run 2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;87.39 s&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;59.45 s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Run 3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;87.90 s&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;59.22 s&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="15777681" author="hiveqa" created="Mon, 26 Dec 2016 06:22:14 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844655/HIVE-15511.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844655/HIVE-15511.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 10881 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=101)
	[skewjoin_noskew.q,leftsemijoin_mr.q,bucket3.q,skewjoinopt13.q,bucketmapjoin9.q,auto_join15.q,cbo_simple_select.q,ptf.q,join22.q,vectorized_nested_mapjoin.q,sample4.q,union18.q,multi_insert_gby.q,join33.q,join_cond_pushdown_unqual2.q]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_months_between] (batchId=48)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_1] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
org.apache.hive.service.server.TestHS2HttpServer.testContextRootUrlRewrite (batchId=186)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2724/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2724/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2724/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2724/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2724/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2724/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844655 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15777694" author="rajesh.balamohan" created="Mon, 26 Dec 2016 06:31:46 +0000"  >&lt;p&gt;Missed &quot;TestGenericUDFMonthsBetween&quot; changes earlier. Attaching .2 with TestGenericUDFMonthsBetween changes.&lt;/p&gt;</comment>
                            <comment id="15777768" author="hiveqa" created="Mon, 26 Dec 2016 07:23:15 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844657/HIVE-15511.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844657/HIVE-15511.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10896 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_months_between] (batchId=48)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[escape1] (batchId=138)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[subquery_notin] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=92)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2725/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2725/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2725/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2725/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2725/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2725/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844657 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15777850" author="pxiong" created="Mon, 26 Dec 2016 08:09:53 +0000"  >&lt;p&gt;Do you think we need to add a configuration to HiveConf to disable the rounding off? Otherwise, how can we decide? Thanks.&lt;/p&gt;</comment>
                            <comment id="15777860" author="rajesh.balamohan" created="Mon, 26 Dec 2016 08:16:03 +0000"  >&lt;p&gt;Config option would not be needed. Patch does not change current behavior. For queries like &quot;CAST(MONTHS_BETWEEN(l_shipdate, l_commitdate) / 12 AS INT)&quot;, user can add &lt;tt&gt;false&lt;/tt&gt; as third argument to improve the response time.&lt;/p&gt;</comment>
                            <comment id="15778826" author="pxiong" created="Mon, 26 Dec 2016 19:10:45 +0000"  >&lt;p&gt;I see. +1. Could u please update the golden file for &quot;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver&lt;span class=&quot;error&quot;&gt;&amp;#91;udf_months_between&amp;#93;&lt;/span&gt; (batchId=48)&quot; when you commit? &lt;/p&gt;</comment>
                            <comment id="15779336" author="hiveqa" created="Tue, 27 Dec 2016 01:28:28 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844710/HIVE-15511.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844710/HIVE-15511.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10866 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMiniLlapLocalCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=144)
	[vectorized_rcfile_columnar.q,vector_elt.q,explainuser_1.q,multi_insert.q,tez_dml.q,vector_bround.q,schema_evol_orc_acid_table.q,vector_when_case_null.q,orc_ppd_schema_evol_1b.q,vector_join30.q,vectorization_11.q,cte_3.q,update_tmp_table.q,vector_decimal_cast.q,groupby_grouping_id2.q,vector_decimal_round.q,tez_smb_empty.q,orc_merge6.q,vector_char_mapjoin1.q,vector_decimal_trailing.q,cte_5.q,tez_union.q,vector_decimal_2.q,columnStatsUpdateForStatsOptimizer_1.q,vector_outer_join3.q,schema_evol_text_vec_part_all_complex.q,tez_dynpart_hashjoin_2.q,auto_sortmerge_join_12.q,offset_limit.q,tez_union_multiinsert.q]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[udf_months_between] (batchId=48)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_1] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_3] (batchId=92)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=93)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2727/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2727/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2727/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2727/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2727/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2727/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844710 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15779613" author="hiveqa" created="Tue, 27 Dec 2016 04:59:36 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844720/HIVE-15511.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12844720/HIVE-15511.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 10862 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestDerbyConnector - did not produce a TEST-*.xml file (likely timed out) (batchId=234)
TestMiniLlapLocalCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=151)
	[smb_mapjoin_15.q,insert_values_partitioned.q,selectDistinctStar.q,bucket4.q,vectorized_distinct_gby.q,vector_groupby_mapjoin.q,insert_values_dynamic_partitioned.q,vector_nvl.q,join_nullsafe.q,vectorized_mapjoin.q,schema_evol_orc_vec_part_all_primitive.q,vectorized_shufflejoin.q,tez_smb_1.q,cbo_union.q,tez_vector_dynpart_hashjoin_1.q,filter_join_breaktask2.q,table_access_keys_stats.q,vector_data_types.q,multiMapJoin2.q,filter_join_breaktask.q,schema_evol_orc_nonvec_part.q,alter_merge_2_orc.q,vectorization_3.q,union4.q,auto_sortmerge_join_8.q,stats_based_fetch_decision.q,vectorized_date_funcs.q,auto_sortmerge_join_10.q,vector_varchar_simple.q,vector_decimal_udf2.q]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_basic] (batchId=134)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=135)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=93)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_5] (batchId=92)
org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver.org.apache.hadoop.hive.cli.TestSparkNegativeCliDriver (batchId=229)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2728/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2728/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2728/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2728/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2728/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2728/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12844720 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15779650" author="rajesh.balamohan" created="Tue, 27 Dec 2016 05:24:15 +0000"  >&lt;p&gt;Thanks for the review &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pxiong&quot; class=&quot;user-hover&quot; rel=&quot;pxiong&quot;&gt;Pengcheng Xiong&lt;/a&gt;. Committed to master.&lt;/p&gt;</comment>
                            <comment id="15779787" author="lefty@hortonworks.com" created="Tue, 27 Dec 2016 07:09:42 +0000"  >&lt;p&gt;Doc note:  The roundOff option for months_between() needs to be documented in the wiki (with version information).&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-DateFunctions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Hive Operators and UDFs &amp;#8211; Date Functions &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Added a TODOC2.2 label.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844655" name="HIVE-15511.1.patch" size="5638" author="rajesh.balamohan" created="Mon, 26 Dec 2016 05:03:26 +0000"/>
                            <attachment id="12844657" name="HIVE-15511.2.patch" size="11812" author="rajesh.balamohan" created="Mon, 26 Dec 2016 06:31:46 +0000"/>
                            <attachment id="12844710" name="HIVE-15511.3.patch" size="13648" author="rajesh.balamohan" created="Tue, 27 Dec 2016 00:05:46 +0000"/>
                            <attachment id="12844720" name="HIVE-15511.4.patch" size="13647" author="rajesh.balamohan" created="Tue, 27 Dec 2016 03:38:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 26 Dec 2016 06:22:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i380db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-15512] numeric type partition has two different partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-15512</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HQL&#65306;&lt;br/&gt;
Alter table OperatingStat_R_View Add IF NOT EXISTS partition(YEAR=2016,MONTH=12,DAY=04) &lt;br/&gt;
LOCATION &apos;/data/ApplicationDep/TCRecSys_ApplyData/OperatingStat/Report/View/2016/12/04&apos;;&lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE TABLE TCRecSys_ApplyData.OperatingStat_R_View PARTITION (YEAR=2016,MONTH=12,DAY=04)&lt;br/&gt;
SELECT&lt;br/&gt;
    &apos;2016-12-04&apos;,&lt;br/&gt;
    EventID,&lt;br/&gt;
    PlatID,&lt;br/&gt;
    ProvinceID,&lt;br/&gt;
    CityID,&lt;br/&gt;
    RefID,&lt;br/&gt;
    &apos;&apos;,&lt;br/&gt;
    &apos;&apos;,&lt;br/&gt;
    &apos;&apos;,&lt;br/&gt;
    COUNT(1),&lt;br/&gt;
    COUNT(DISTINCT DeviceID)&lt;br/&gt;
FROM TCRecSys_ApplyData.OperatingStat_D_EventList&lt;br/&gt;
WHERE YEAR=2016 AND MONTH=12 AND DAY=04 AND LabelID=&apos;01&apos;&lt;br/&gt;
GROUP BY EventID,PlatID,ProvinceID,CityID,RefID;&lt;br/&gt;
expected result:&lt;br/&gt;
partition(YEAR=2016,MONTH=12,DAY=04) LOCATION &apos;/data/ApplicationDep/TCRecSys_ApplyData/OperatingStat/Report/View/2016/12/04&#8217;&lt;br/&gt;
actual result:&lt;br/&gt;
partition(YEAR=2016,MONTH=12,DAY=04) LOCATION &apos;/data/ApplicationDep/TCRecSys_ApplyData/OperatingStat/Report/View/2016/12/04&apos;&lt;br/&gt;
partition(YEAR=2016,MONTH=12,DAY=4) LOCATION &apos;/data/ApplicationDep/TCRecSys_ApplyData/OperatingStat/Report/View/year=2016/month=12/day=4&apos;&lt;br/&gt;
desc format info:&lt;br/&gt;
hive&amp;gt; desc formatted TCRecSys_ApplyData.OperatingStat_R_View partition (year=2016,month=12,day=04);&lt;br/&gt;
OK&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;col_name              data_type               comment&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;createdate              string                                      &lt;br/&gt;
eventid                 string                                      &lt;br/&gt;
platid                  string                                      &lt;br/&gt;
provinceid              string                                      &lt;br/&gt;
cityid                  string                                      &lt;br/&gt;
refid                   string                                      &lt;br/&gt;
def1                    string                                      &lt;br/&gt;
def2                    string                                      &lt;br/&gt;
def3                    string                                      &lt;br/&gt;
pv                      int                                         &lt;br/&gt;
uv                      int                                         &lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Partition Information&lt;/li&gt;
	&lt;li&gt;col_name              data_type               comment&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;year                    int                                         &lt;br/&gt;
month                   int                                         &lt;br/&gt;
day                     int                                         &lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Detailed Partition Information&lt;br/&gt;
Partition Value:        &lt;span class=&quot;error&quot;&gt;&amp;#91;2016, 12, 04&amp;#93;&lt;/span&gt;           &lt;br/&gt;
Database:               tcrecsys_applydata       &lt;br/&gt;
Table:                  operatingstat_r_view     &lt;br/&gt;
CreateTime:             Mon Dec 05 10:46:27 CST 2016     &lt;br/&gt;
LastAccessTime:         UNKNOWN                  &lt;br/&gt;
Protect Mode:           None                     &lt;br/&gt;
Location:               hdfs://hadoopcluster/data/ApplicationDep/TCRecSys_ApplyData/OperatingStat/Report/View/2016/12/04         &lt;br/&gt;
Partition Parameters:            &lt;br/&gt;
        COLUMN_STATS_ACCURATE   false               &lt;br/&gt;
        numFiles                0                   &lt;br/&gt;
        numRows                 -1                  &lt;br/&gt;
        rawDataSize             -1                  &lt;br/&gt;
        totalSize               0                   &lt;br/&gt;
        transient_lastDdlTime   1480905987          &lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;Storage Information&lt;br/&gt;
SerDe Library:          org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe       &lt;br/&gt;
InputFormat:            org.apache.hadoop.mapred.TextInputFormat         &lt;br/&gt;
OutputFormat:           org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat       &lt;br/&gt;
Compressed:             No                       &lt;br/&gt;
Num Buckets:            -1                       &lt;br/&gt;
Bucket Columns:         []                       &lt;br/&gt;
Sort Columns:           []                       &lt;br/&gt;
Storage Desc Params:             &lt;br/&gt;
        field.delim             ^                   &lt;br/&gt;
        serialization.format    ^                   &lt;br/&gt;
Time taken: 0.485 seconds, Fetched: 48 row(s)&lt;br/&gt;
hive&amp;gt; desc formatted TCRecSys_ApplyData.OperatingStat_R_View partition (year=2016,month=12,day=4);&lt;br/&gt;
OK&lt;/li&gt;
	&lt;li&gt;col_name              data_type               comment&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;createdate              string                                      &lt;br/&gt;
eventid                 string                                      &lt;br/&gt;
platid                  string                                      &lt;br/&gt;
provinceid              string                                      &lt;br/&gt;
cityid                  string                                      &lt;br/&gt;
refid                   string                                      &lt;br/&gt;
def1                    string                                      &lt;br/&gt;
def2                    string                                      &lt;br/&gt;
def3                    string                                      &lt;br/&gt;
pv                      int                                         &lt;br/&gt;
uv                      int                                         &lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Partition Information&lt;/li&gt;
	&lt;li&gt;col_name              data_type               comment&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;year                    int                                         &lt;br/&gt;
month                   int                                         &lt;br/&gt;
day                     int                                         &lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Detailed Partition Information&lt;br/&gt;
Partition Value:        &lt;span class=&quot;error&quot;&gt;&amp;#91;2016, 12, 4&amp;#93;&lt;/span&gt;            &lt;br/&gt;
Database:               tcrecsys_applydata       &lt;br/&gt;
Table:                  operatingstat_r_view     &lt;br/&gt;
CreateTime:             Mon Dec 05 10:46:07 CST 2016     &lt;br/&gt;
LastAccessTime:         UNKNOWN                  &lt;br/&gt;
Protect Mode:           None                     &lt;br/&gt;
Location:               hdfs://hadoopcluster/data/ApplicationDep/TCRecSys_ApplyData/OperatingStat/Report/View/year=2016/month=12/day=4   &lt;br/&gt;
Partition Parameters:            &lt;br/&gt;
        COLUMN_STATS_ACCURATE   
{\&quot;BASIC_STATS\&quot;:\&quot;true\&quot;}
&lt;p&gt;        numFiles                59                  &lt;br/&gt;
        numRows                 0                   &lt;br/&gt;
        rawDataSize             0                   &lt;br/&gt;
        totalSize               49869               &lt;br/&gt;
        transient_lastDdlTime   1480906019          &lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;Storage Information&lt;br/&gt;
SerDe Library:          org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe       &lt;br/&gt;
InputFormat:            org.apache.hadoop.mapred.TextInputFormat         &lt;br/&gt;
OutputFormat:           org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat       &lt;br/&gt;
Compressed:             No                       &lt;br/&gt;
Num Buckets:            -1                       &lt;br/&gt;
Bucket Columns:         []                       &lt;br/&gt;
Sort Columns:           []                       &lt;br/&gt;
Storage Desc Params:             &lt;br/&gt;
        field.delim             ^                   &lt;br/&gt;
        serialization.format    ^                   &lt;br/&gt;
Time taken: 0.087 seconds, Fetched: 48 row(s)&lt;br/&gt;
drop the partition, both locations dropped:&lt;br/&gt;
hive&amp;gt; alter table TCRecSys_ApplyData.OperatingStat_R_View drop partition (year=2016,month=12,day=4);&lt;br/&gt;
Dropped the partition year=2016/month=12/day=04&lt;br/&gt;
Dropped the partition year=2016/month=12/day=4&lt;/li&gt;
&lt;/ol&gt;



&lt;p&gt;now :&lt;br/&gt;
Alter table OperatingStat_R_View Add IF NOT EXISTS partition(YEAR=&apos;2016&apos;,MONTH=&apos;12&apos;,DAY=&apos;04&apos;) &lt;br/&gt;
LOCATION &apos;/data/ApplicationDep/TCRecSys_ApplyData/OperatingStat/Report/View/2016/12/04&apos;;&lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE TABLE TCRecSys_ApplyData.OperatingStat_R_View PARTITION (YEAR=&apos;2016&apos;,MONTH=&apos;12&apos;,DAY=&apos;04&apos;)&lt;br/&gt;
SELECT&lt;br/&gt;
    &apos;2016-12-04&apos;,&lt;br/&gt;
    EventID,&lt;br/&gt;
    PlatID,&lt;br/&gt;
    ProvinceID,&lt;br/&gt;
    CityID,&lt;br/&gt;
    RefID,&lt;br/&gt;
    &apos;&apos;,&lt;br/&gt;
    &apos;&apos;,&lt;br/&gt;
    &apos;&apos;,&lt;br/&gt;
    COUNT(1),&lt;br/&gt;
    COUNT(DISTINCT DeviceID)&lt;br/&gt;
FROM TCRecSys_ApplyData.OperatingStat_D_EventList&lt;br/&gt;
WHERE YEAR=2016 AND MONTH=12 AND DAY=04 AND LabelID=&apos;01&apos;&lt;br/&gt;
GROUP BY EventID,PlatID,ProvinceID,CityID,RefID;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13030538">HIVE-15512</key>
            <summary>numeric type partition has two different partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="xupeng1226">&#24464;&#40527;</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Dec 2016 06:30:01 +0000</created>
                <updated>Mon, 26 Dec 2016 06:30:01 +0000</updated>
                                            <version>2.1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i380e7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>
