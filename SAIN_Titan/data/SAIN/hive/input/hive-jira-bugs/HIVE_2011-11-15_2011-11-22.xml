<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:19:29 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2011-11-15+AND+created+%3C%3D+2011-11-22+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="22" total="22"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2579] Support HTTP URIs for ADD JAR</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2579</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be very useful for ADD JAR to support HTTP/HTTPS.  For example, this allows one to deploy a UDF jar to a Maven repository and then access it directly from the repository (which provides files via HTTP).&lt;/p&gt;

&lt;p&gt;I realize this could be handled by adding a Hadoop FileSystem for HTTP, but that file system wouldn&apos;t be generally useful as HTTP doesn&apos;t support listing or modifying files (without something like WebDAV).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531389">HIVE-2579</key>
            <summary>Support HTTP URIs for ADD JAR</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="electrum">David Phillips</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Nov 2011 00:39:27 +0000</created>
                <updated>Tue, 15 Nov 2011 00:39:27 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217125</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2580] Hive build fails with error &quot;java.io.IOException: Not in GZIP format&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2580</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12531403">HIVE-2580</key>
            <summary>Hive build fails with error &quot;java.io.IOException: Not in GZIP format&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Nov 2011 01:54:42 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:51 +0000</updated>
                            <resolved>Fri, 18 Nov 2011 02:17:00 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13150174" author="cwsteinbach" created="Tue, 15 Nov 2011 02:08:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2391&quot; title=&quot;published POMs in Maven repo are incorrect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2391&quot;&gt;&lt;del&gt;HIVE-2391&lt;/del&gt;&lt;/a&gt; upgraded the Ivy dependency from 2.1.0 to 2.2.0. It looks like 2.2.0&lt;br/&gt;
contains a bug (&lt;a href=&quot;https://issues.apache.org/jira/browse/IVY-1320&quot; title=&quot;Retrieve task automatically decompresses tar.gz files, but doesn&amp;#39;t remove gz suffix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IVY-1320&quot;&gt;&lt;del&gt;IVY-1320&lt;/del&gt;&lt;/a&gt;) that causes the build to fail if the user has a&lt;br/&gt;
a fresh .ivy2 directory, e.g:&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
BUILD FAILED
/home/carl/Work/repos/hive2/build.xml:297: The following error occurred while executing this line:
/home/carl/Work/repos/hive2/build.xml:154: The following error occurred while executing this line:
/home/carl/Work/repos/hive2/shims/build.xml:65: The following error occurred while executing this line:
/home/carl/Work/repos/hive2/build-common.xml:132: Error while expanding /home/carl/Work/repos/hive2/build/hadoopcore/hadoop-0.20.1.tar.gz
java.io.IOException: Not in GZIP format
	at java.util.zip.GZIPInputStream.readHeader(GZIPInputStream.java:143)
	at java.util.zip.GZIPInputStream.&amp;lt;init&amp;gt;(GZIPInputStream.java:58)
	at java.util.zip.GZIPInputStream.&amp;lt;init&amp;gt;(GZIPInputStream.java:67)
	at org.apache.tools.ant.taskdefs.Untar$UntarCompressionMethod.decompress(Untar.java:235)
	at org.apache.tools.ant.taskdefs.Untar.expandStream(Untar.java:158)
	at org.apache.tools.ant.taskdefs.Untar.expandFile(Untar.java:114)
	at org.apache.tools.ant.taskdefs.Expand.execute(Expand.java:132)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1397)
	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1249)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)
	at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1397)
	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1249)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)
	at org.apache.tools.ant.taskdefs.SubAnt.execute(SubAnt.java:302)
	at org.apache.tools.ant.taskdefs.SubAnt.execute(SubAnt.java:221)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:68)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:398)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1397)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1366)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1249)
	at org.apache.tools.ant.Main.runBuild(Main.java:801)
	at org.apache.tools.ant.Main.startAnt(Main.java:218)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I checked the files in the local cache and noticed the following:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% file ~/.ivy2/cache/hadoop/core/sources/*.gz
/home/carl/.ivy2/cache/hadoop/core/sources/hadoop-0.20.1.tar.gz:
POSIX tar archive
/home/carl/.ivy2/cache/hadoop/core/sources/hadoop-0.20.3-CDH3-SNAPSHOT.tar.gz:
POSIX tar archive
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I tried reverting to Ivy 2.1.0 and the problem dissappears:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% file ~/.ivy2/cache/hadoop/core/sources/*.gz
/home/carl/.ivy2/cache/hadoop/core/sources/hadoop-0.20.1.tar.gz:
gzip compressed data, from FAT filesystem (MS-DOS, OS/2, NT)
/home/carl/.ivy2/cache/hadoop/core/sources/hadoop-0.20.3-CDH3-SNAPSHOT.tar.gz:
gzip compressed data, from FAT filesystem (MS-DOS, OS/2, NT)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Workaround for trunk: Rename and then Gzip compress the tar archives in ~/.ivy2:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% cd ~/.ivy2/cache/hadoop/core/sources
% mv hadoop-0.20.1.tar.gz hadoop-0.20.1.tar
% mv hadoop-0.20.3-CDH3-SNAPSHOT.tar.gz hadoop-0.20.3-CDH3-SNAPSHOT.tar
% gzip *.tar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13150192" author="cwsteinbach" created="Tue, 15 Nov 2011 02:22:43 +0000"  >&lt;p&gt;Attached patch downgrades the Ivy dependency to version 2.1.0. Verified that &apos;ant clean package maven-build maven-publish&apos; works. Running full tests now.&lt;/p&gt;

&lt;p&gt;If someone can apply this to trunk I will handle backporting it to branch-0.8. Thanks! &lt;/p&gt;</comment>
                            <comment id="13150198" author="jvs" created="Tue, 15 Nov 2011 02:27:31 +0000"  >&lt;p&gt;+1, will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="13150707" author="jvs" created="Tue, 15 Nov 2011 19:37:20 +0000"  >&lt;p&gt;Committed to trunk.  Carl, can you include this in your 0.8 backport for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2391&quot; title=&quot;published POMs in Maven repo are incorrect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2391&quot;&gt;&lt;del&gt;HIVE-2391&lt;/del&gt;&lt;/a&gt; so we can mark both of these resolved?&lt;/p&gt;</comment>
                            <comment id="13150715" author="cwsteinbach" created="Tue, 15 Nov 2011 19:44:29 +0000"  >&lt;p&gt;@John: Will do.&lt;/p&gt;</comment>
                            <comment id="13150907" author="hudson" created="Tue, 15 Nov 2011 23:51:17 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1087 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1087/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1087/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2580&quot; title=&quot;Hive build fails with error &amp;quot;java.io.IOException: Not in GZIP format&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2580&quot;&gt;&lt;del&gt;HIVE-2580&lt;/del&gt;&lt;/a&gt;. Hive build fails with error &quot;java.io.IOException: Not in GZIP format&quot;&lt;br/&gt;
(Carl Steinbach via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202393&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202393&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13152691" author="hudson" created="Fri, 18 Nov 2011 06:54:06 +0000"  >&lt;p&gt;Integrated in Hive-0.8.0-SNAPSHOT-h0.21 #100 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/100/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2580&quot; title=&quot;Hive build fails with error &amp;quot;java.io.IOException: Not in GZIP format&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2580&quot;&gt;&lt;del&gt;HIVE-2580&lt;/del&gt;&lt;/a&gt;. Hive build fails with error &apos;java.io.IOException: Not in GZIP format&apos; (Carl Steinbach via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203464&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203464&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.8/build.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12531401">IVY-1320</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12503711" name="HIVE-2580.1.patch.txt" size="464" author="cwsteinbach" created="Tue, 15 Nov 2011 02:21:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 Nov 2011 02:27:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217139</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lknb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2581] explain task: getJSONPlan throws a NPE if the ast is null</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2581</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12531519">HIVE-2581</key>
            <summary>explain task: getJSONPlan throws a NPE if the ast is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Nov 2011 19:12:37 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:44 +0000</updated>
                            <resolved>Wed, 16 Nov 2011 18:23:07 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13150752" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 20:36:51 +0000"  >&lt;p&gt;njain requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2581&quot; title=&quot;explain task: getJSONPlan throws a NPE if the ast is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2581&quot;&gt;&lt;del&gt;HIVE-2581&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; explain task: getJSONPlan throws a NPE if the ast is null&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2581&quot; title=&quot;explain task: getJSONPlan throws a NPE if the ast is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2581&quot;&gt;&lt;del&gt;HIVE-2581&lt;/del&gt;&lt;/a&gt;. NPE in explaintak static method&lt;/p&gt;



&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D453&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D453&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/945/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/945/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13151400" author="he yongqiang" created="Wed, 16 Nov 2011 18:23:07 +0000"  >&lt;p&gt;committed, thanks namit!&lt;/p&gt;</comment>
                            <comment id="13151694" author="hudson" created="Thu, 17 Nov 2011 00:46:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1091 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1091/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1091/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2581&quot; title=&quot;explain task: getJSONPlan throws a NPE if the ast is null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2581&quot;&gt;&lt;del&gt;HIVE-2581&lt;/del&gt;&lt;/a&gt;: explain task: getJSONPlan throws a NPE if the ast is null (namit via He Yongqiang)&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202820&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202820&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503790" name="ASF.LICENSE.NOT.GRANTED--HIVE-2581.D453.1.patch" size="986" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 20:36:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 Nov 2011 20:36:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217255</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lknj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2582] Hive Docs Should Reflect UNIONTYPE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2582</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2390&quot; title=&quot;Add UNIONTYPE serialization support to LazyBinarySerDe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2390&quot;&gt;&lt;del&gt;HIVE-2390&lt;/del&gt;&lt;/a&gt; added support for UNIONTYPE but no documentation on how to use it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531551">HIVE-2582</key>
            <summary>Hive Docs Should Reflect UNIONTYPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rbodkin">Ron Bodkin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Nov 2011 23:29:05 +0000</created>
                <updated>Wed, 16 Nov 2011 01:45:37 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13150960" author="cwsteinbach" created="Wed, 16 Nov 2011 01:45:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2390&quot; title=&quot;Add UNIONTYPE serialization support to LazyBinarySerDe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2390&quot;&gt;&lt;del&gt;HIVE-2390&lt;/del&gt;&lt;/a&gt; is still open, and the UNIONTYPE support that currently exists in trunk is incomplete and basically unusable. We will add documentation when it makes sense for people to use this feature.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Nov 2011 01:45:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lknr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2583] bug in ivy 2.2.0 breaks build</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2583</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;there seems to be a bug in ivy 2.2.0 which causes downloaded &quot;.tar.gz&quot; files getting uncompressed but left tar&apos;d rather than just being downloaded. &lt;/p&gt;

&lt;p&gt;Forcing online ivy update by using a new cache:&lt;/p&gt;

&lt;p&gt;ant -Divy.default.ivy.user.dir=/tmp/my_ivy_cache clean jar&lt;/p&gt;

&lt;p&gt;will yield this build failure:&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;br/&gt;
/Users/fcliu/dev/IdeaProjects/hive/build.xml:297: The following error occurred while executing this line:&lt;br/&gt;
/Users/fcliu/dev/IdeaProjects/hive/build.xml:154: The following error occurred while executing this line:&lt;br/&gt;
/Users/fcliu/dev/IdeaProjects/hive/shims/build.xml:65: The following error occurred while executing this line:&lt;br/&gt;
/Users/fcliu/dev/IdeaProjects/hive/build-common.xml:132: Error while expanding /Users/fcliu/dev/IdeaProjects/hive/build/hadoopcore/hadoop-0.20.1.tar.gz&lt;br/&gt;
java.io.IOException: Not in GZIP format&lt;br/&gt;
	at java.util.zip.GZIPInputStream.readHeader(GZIPInputStream.java:143)&lt;br/&gt;
	at java.util.zip.GZIPInputStream.&amp;lt;init&amp;gt;(GZIPInputStream.java:58)&lt;br/&gt;
	at java.util.zip.GZIPInputStream.&amp;lt;init&amp;gt;(GZIPInputStream.java:67)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.Untar$UntarCompressionMethod.decompress(Untar.java:235)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.Untar.expandStream(Untar.java:158)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.Untar.expandFile(Untar.java:114)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.Expand.execute(Expand.java:132)&lt;br/&gt;
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)&lt;br/&gt;
	at org.apache.tools.ant.Task.perform(Task.java:348)&lt;br/&gt;
	at org.apache.tools.ant.Target.execute(Target.java:390)&lt;br/&gt;
	at org.apache.tools.ant.Target.performTasks(Target.java:411)&lt;br/&gt;
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)&lt;br/&gt;
	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)&lt;br/&gt;
	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)&lt;br/&gt;
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)&lt;br/&gt;
	at org.apache.tools.ant.Task.perform(Task.java:348)&lt;br/&gt;
	at org.apache.tools.ant.Target.execute(Target.java:390)&lt;br/&gt;
	at org.apache.tools.ant.Target.performTasks(Target.java:411)&lt;br/&gt;
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)&lt;br/&gt;
	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)&lt;br/&gt;
	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.SubAnt.execute(SubAnt.java:302)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.SubAnt.execute(SubAnt.java:221)&lt;br/&gt;
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)&lt;br/&gt;
	at org.apache.tools.ant.Task.perform(Task.java:348)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:68)&lt;br/&gt;
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)&lt;br/&gt;
	at org.apache.tools.ant.Task.perform(Task.java:348)&lt;br/&gt;
	at org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:398)&lt;br/&gt;
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)&lt;br/&gt;
	at org.apache.tools.ant.Task.perform(Task.java:348)&lt;br/&gt;
	at org.apache.tools.ant.Target.execute(Target.java:390)&lt;br/&gt;
	at org.apache.tools.ant.Target.performTasks(Target.java:411)&lt;br/&gt;
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)&lt;br/&gt;
	at org.apache.tools.ant.Project.executeTarget(Project.java:1368)&lt;br/&gt;
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)&lt;br/&gt;
	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)&lt;br/&gt;
	at org.apache.tools.ant.Main.runBuild(Main.java:809)&lt;br/&gt;
	at org.apache.tools.ant.Main.startAnt(Main.java:217)&lt;br/&gt;
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)&lt;br/&gt;
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12531556">HIVE-2583</key>
            <summary>bug in ivy 2.2.0 breaks build</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="toffer">Francis Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Nov 2011 23:53:24 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:38 +0000</updated>
                            <resolved>Tue, 15 Nov 2011 23:57:05 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13150911" author="jvs" created="Tue, 15 Nov 2011 23:57:05 +0000"  >&lt;p&gt;Dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2580&quot; title=&quot;Hive build fails with error &amp;quot;java.io.IOException: Not in GZIP format&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2580&quot;&gt;&lt;del&gt;HIVE-2580&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 Nov 2011 23:57:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217292</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lknz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2584] Alter table should accept database name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2584</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be nice if alter table accepts database name.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;p&gt;This would be more useful in certain usecases:&lt;/p&gt;

&lt;p&gt;alter table DB.Tbl set location &amp;lt;location&amp;gt;;&lt;/p&gt;

&lt;p&gt;rather than 2 statements.&lt;/p&gt;

&lt;p&gt;use DB;&lt;br/&gt;
alter table Tbl set location &amp;lt;location&amp;gt;;&lt;/p&gt;




</description>
                <environment></environment>
        <key id="12531663">HIVE-2584</key>
            <summary>Alter table should accept database name</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="chenchun">Chun Chen</assignee>
                                    <reporter username="bharathm">Bharath Mundlapudi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Nov 2011 18:19:03 +0000</created>
                <updated>Wed, 13 Aug 2014 07:56:49 +0000</updated>
                            <resolved>Wed, 13 Aug 2014 07:56:49 +0000</resolved>
                                    <version>0.7.1</version>
                                                        <due></due>
                            <votes>5</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13783399" author="rkins" created="Tue, 1 Oct 2013 21:59:05 +0000"  >&lt;p&gt;Is there any update on this?&lt;/p&gt;</comment>
                            <comment id="13836835" author="nolanpro" created="Mon, 2 Dec 2013 19:47:37 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13843123" author="hiveqa" created="Mon, 9 Dec 2013 12:54:49 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617816/HIVE-2584.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617816/HIVE-2584.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 4763 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_drop_multi_partitions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert2_overwrite_partitions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_create_table_db_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_truncate_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_partition_coltype_2columns
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_partition_coltype_invalidtype
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive_partspec3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_column_rename3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_set_table_property
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/578/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/578/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/578/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/578/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617816&lt;/p&gt;</comment>
                            <comment id="13843316" author="hiveqa" created="Mon, 9 Dec 2013 16:53:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617847/HIVE-2584.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617847/HIVE-2584.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4764 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/579/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/579/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/579/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/579/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617847&lt;/p&gt;</comment>
                            <comment id="13855554" author="hiveqa" created="Mon, 23 Dec 2013 11:06:38 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12620165/HIVE-2584.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12620165/HIVE-2584.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/729/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/729/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/729/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/729/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-729/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1553093.

At revision 1553093.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12620165&lt;/p&gt;</comment>
                            <comment id="13855658" author="hiveqa" created="Mon, 23 Dec 2013 14:27:09 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12620195/HIVE-2584.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12620195/HIVE-2584.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/730/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/730/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/730/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/730/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-730/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1553117.

At revision 1553117.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12620195&lt;/p&gt;</comment>
                            <comment id="13855767" author="hiveqa" created="Mon, 23 Dec 2013 17:04:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12620207/HIVE-2584.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12620207/HIVE-2584.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4812 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/731/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/731/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/731/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/731/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12620207&lt;/p&gt;</comment>
                            <comment id="13856174" author="chenchun" created="Tue, 24 Dec 2013 06:03:48 +0000"  >&lt;p&gt;review: &lt;a href=&quot;https://reviews.apache.org/r/16447/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/16447/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13856543" author="chenchun" created="Wed, 25 Dec 2013 08:10:32 +0000"  >&lt;p&gt;add some code to check return code of rename function. &lt;/p&gt;</comment>
                            <comment id="13856554" author="hiveqa" created="Wed, 25 Dec 2013 09:12:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12620402/HIVE-2584.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12620402/HIVE-2584.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4813 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/741/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/741/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/741/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/741/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12620402&lt;/p&gt;</comment>
                            <comment id="14061885" author="lars_francke" created="Tue, 15 Jul 2014 09:38:12 +0000"  >&lt;p&gt;This&apos;d be great to get in to the next version. It&apos;s a major undocumented inconsistency between &lt;tt&gt;ALTER TABLE&lt;/tt&gt; and most other commands that do accept a fully qualified name.&lt;/p&gt;</comment>
                            <comment id="14063169" author="lefty@hortonworks.com" created="Wed, 16 Jul 2014 05:25:48 +0000"  >&lt;p&gt;If most commands accept a database name, we need to add [db_name.] to table_name in the DDL doc (and possibly some other docs).  It&apos;s already in the CREATE TABLE syntax, but only 5 out of 56 instances of table_name have db_name in syntax or text.  Excluding ALTER statements, it&apos;s 5 out of 28.  For view_name 1 out of 10 has db_name. &lt;/p&gt;

&lt;p&gt;Alternatively, we could change table_name to table_spec, defined as &quot;db_name.table_name&quot; with a list of exceptions.  But that would lead to confusion, since people rarely read the DDL doc from the beginning.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LanguageManual DDL &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14063188" author="navis" created="Wed, 16 Jul 2014 05:48:09 +0000"  >&lt;p&gt;I&apos;m on this (including &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4064&quot; title=&quot;Handle db qualified names consistently across all HiveQL statements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4064&quot;&gt;&lt;del&gt;HIVE-4064&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3589&quot; title=&quot;describe/show partition/show tblproperties command should accept database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3589&quot;&gt;&lt;del&gt;HIVE-3589&lt;/del&gt;&lt;/a&gt;, etc.) .&lt;/p&gt;</comment>
                            <comment id="14095262" author="chenchun" created="Wed, 13 Aug 2014 07:56:07 +0000"  >&lt;p&gt;marked as duplicate and closed&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="12633663">HIVE-4064</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12733331">HIVE-7681</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617847" name="HIVE-2584.2.patch" size="43139" author="chenchun" created="Mon, 9 Dec 2013 15:42:50 +0000"/>
                            <attachment id="12620165" name="HIVE-2584.3.patch" size="46610" author="chenchun" created="Mon, 23 Dec 2013 10:51:53 +0000"/>
                            <attachment id="12620195" name="HIVE-2584.4.patch" size="46610" author="chenchun" created="Mon, 23 Dec 2013 14:19:43 +0000"/>
                            <attachment id="12620207" name="HIVE-2584.5.patch" size="45991" author="chenchun" created="Mon, 23 Dec 2013 15:57:55 +0000"/>
                            <attachment id="12620402" name="HIVE-2584.6.patch" size="50150" author="chenchun" created="Wed, 25 Dec 2013 07:22:29 +0000"/>
                            <attachment id="12617816" name="HIVE-2584.patch" size="31602" author="chenchun" created="Mon, 9 Dec 2013 11:58:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Oct 2013 21:59:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217399</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48461</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2585] Collapse hive.metastore.uris and hive.metastore.local</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2585</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We should just have hive.metastore.uris. If it is empty, we shall assume local mode, if non-empty we shall use that string to connect to remote metastore. Having two different keys for same information is confusing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531722">HIVE-2585</key>
            <summary>Collapse hive.metastore.uris and hive.metastore.local</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Nov 2011 01:11:10 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:09 +0000</updated>
                            <resolved>Wed, 20 Jun 2012 21:32:42 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13242940" author="phabricator@reviews.facebook.net" created="Sat, 31 Mar 2012 01:53:23 +0000"  >&lt;p&gt;ashutoshc requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; title=&quot;Collapse hive.metastore.uris and hive.metastore.local&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2585&quot;&gt;&lt;del&gt;HIVE-2585&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Collapse hive.metastore.uris and hive.metastore.local&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2585&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Get rid of hive.metastore.local. By default, it was assumed to be true as a result hive will try to connect to local metastore. That behavior is preserved since hive.metastore.uris is empty by default.&lt;/p&gt;

&lt;p&gt;  We should just have hive.metastore.uris. If it is empty, we shall assume local mode, if non-empty we shall use that string to connect to remote metastore. Having two different keys for same information is confusing.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2559&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStoreIpAddress.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;br/&gt;
  data/conf/hive-site.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/5811/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/5811/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13244895" author="ashutoshc" created="Tue, 3 Apr 2012 01:12:54 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;BUILD SUCCESSFUL
Total time: 339 minutes 51 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All the tests passed with this patch.&lt;/p&gt;</comment>
                            <comment id="13244916" author="phabricator@reviews.facebook.net" created="Tue, 3 Apr 2012 02:00:22 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; title=&quot;Collapse hive.metastore.uris and hive.metastore.local&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2585&quot;&gt;&lt;del&gt;HIVE-2585&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Collapse hive.metastore.uris and hive.metastore.local&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  conf/hive-default.xml.template:102 We should throw an error at startup if both hive.metastore.uris and javax.jdo.option.ConnectionURL are set. Giving silent preference to one of these properties is going to cause a lot of confusion for people who are using hive.metastore.local to quickly swap between local and remote metastores.&lt;br/&gt;
  data/conf/hive-site.xml:71 It would be nice to add a deprecation warning at startup if this is set.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2559&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13246491" author="phabricator@reviews.facebook.net" created="Wed, 4 Apr 2012 17:19:21 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; title=&quot;Collapse hive.metastore.uris and hive.metastore.local&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2585&quot;&gt;&lt;del&gt;HIVE-2585&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Collapse hive.metastore.uris and hive.metastore.local&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  conf/hive-default.xml.template:102 Good idea, but not sure where should this check be made? In metastore client, metastore::main(), HMSHandler init, HiveConf::init() ?&lt;br/&gt;
  data/conf/hive-site.xml:71 Same as above. not sure where should this check be made? In metastore client, metastore::main(), HMSHandler init, HiveConf::init() ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2559&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13247875" author="phabricator@reviews.facebook.net" created="Fri, 6 Apr 2012 00:08:27 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; title=&quot;Collapse hive.metastore.uris and hive.metastore.local&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2585&quot;&gt;&lt;del&gt;HIVE-2585&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Collapse hive.metastore.uris and hive.metastore.local&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  conf/hive-default.xml.template:102 HiveConf.init() seems like the right place to make these checks.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2559&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13247885" author="phabricator@reviews.facebook.net" created="Fri, 6 Apr 2012 00:20:20 +0000"  >&lt;p&gt;thw has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; title=&quot;Collapse hive.metastore.uris and hive.metastore.local&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2585&quot;&gt;&lt;del&gt;HIVE-2585&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Collapse hive.metastore.uris and hive.metastore.local&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  conf/hive-default.xml.template:102 A scenario where this would lead to change of existing behavior is when client and metastore server point to the same conf, with client using the thrift URI and server javax.jdo.option.ConnectionURL (should only happen in dev environments).&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2559&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13248781" author="phabricator@reviews.facebook.net" created="Fri, 6 Apr 2012 21:15:21 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; title=&quot;Collapse hive.metastore.uris and hive.metastore.local&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2585&quot;&gt;&lt;del&gt;HIVE-2585&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Collapse hive.metastore.uris and hive.metastore.local&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  conf/hive-default.xml.template:102 Valid point. Then, instead of throwing exception, we can log a message then.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2559&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13249113" author="phabricator@reviews.facebook.net" created="Sat, 7 Apr 2012 01:23:14 +0000"  >&lt;p&gt;ashutoshc updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; title=&quot;Collapse hive.metastore.uris and hive.metastore.local&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2585&quot;&gt;&lt;del&gt;HIVE-2585&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Collapse hive.metastore.uris and hive.metastore.local&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Incorporated Thomas and Carl&apos;s comments.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2559&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStoreIpAddress.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;br/&gt;
  data/conf/hive-site.xml&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/p&gt;</comment>
                            <comment id="13280468" author="ashutoshc" created="Mon, 21 May 2012 20:45:18 +0000"  >&lt;p&gt;Bump. Got hit by this today again. Carl, do you have any further suggestions. Else, I think its ready to go in?&lt;/p&gt;</comment>
                            <comment id="13397816" author="appodictic" created="Wed, 20 Jun 2012 19:53:45 +0000"  >&lt;p&gt;+1&lt;br/&gt;
On changes can you do one more rebase and will commit.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[edward@tablitha trunk]$ patch -p0 --dry-run &amp;lt; HIVE-2585.D2559.2.patch 
patching file metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStoreIpAddress.java
Hunk #1 FAILED at 91.
1 out of 1 hunk FAILED -- saving rejects to file metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStoreIpAddress.java.rej

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13397873" author="ashutoshc" created="Wed, 20 Jun 2012 21:10:51 +0000"  >&lt;p&gt;Thanks for the review, Ed. Here is the rebased patch.&lt;/p&gt;</comment>
                            <comment id="13397889" author="appodictic" created="Wed, 20 Jun 2012 21:32:42 +0000"  >&lt;p&gt;Thank you&lt;/p&gt;</comment>
                            <comment id="13398231" author="hudson" created="Thu, 21 Jun 2012 06:50:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1501 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1501/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1501/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; title=&quot;Collapse hive.metastore.uris and hive.metastore.local&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2585&quot;&gt;&lt;del&gt;HIVE-2585&lt;/del&gt;&lt;/a&gt; Collapse hive.metastore.uris and hive.metastore.local (Ashutosh Chauhan via egc) (Revision 1352333)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1352333&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1352333&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/conf/hive-site.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStoreIpAddress.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13472578" author="traviscrawford" created="Tue, 9 Oct 2012 17:39:11 +0000"  >&lt;p&gt;I started seeing this error message in my logs, and when investigating believe there&apos;s an issue here. AFAICT, if you set &lt;tt&gt;hive.metastore.uris&lt;/tt&gt; you will ALWAYS see this error.&lt;/p&gt;

&lt;p&gt;The reason is &lt;tt&gt;javax.jdo.option.ConnectionURL&lt;/tt&gt; has a default value and will never be null. I set this property in &lt;tt&gt;hive-site.xml&lt;/tt&gt; and walked through the configuration loading in a debugger. If the value is not empty it takes effect, and is ignored if empty.&lt;/p&gt;

&lt;p&gt;Since &lt;tt&gt;javax.jdo.option.ConnectionURL&lt;/tt&gt; has a default and cannot be unset, this warning will always be printed if someone sets &lt;tt&gt;hive.metastore.uris&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Before diving into possible solutions, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;Edward Capriolo&lt;/a&gt; can you confirm this is an issue, or clarify how to correctly configure this? If this is a user error I can post a patch clarifying the error message so others that see this message will know what to do.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property&amp;gt;
  &amp;lt;name&amp;gt;javax.jdo.option.ConnectionURL&amp;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;&amp;lt;/value&amp;gt;
&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.get(ConfVars.METASTOREURIS.varname, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &amp;amp;&amp;amp;
+        &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.get(ConfVars.METASTORECONNECTURLKEY.varname, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)) {
+      l4j.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Found both &quot;&lt;/span&gt; + ConfVars.METASTOREURIS.varname + &lt;span class=&quot;code-quote&quot;&gt;&quot; and &quot;&lt;/span&gt; +
+        ConfVars.METASTORECONNECTURLKEY + &lt;span class=&quot;code-quote&quot;&gt;&quot; Recommended to have exactly one of those config key&quot;&lt;/span&gt; +
+        &lt;span class=&quot;code-quote&quot;&gt;&quot;in configuration&quot;&lt;/span&gt;);
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13472595" author="ashutoshc" created="Tue, 9 Oct 2012 18:06:48 +0000"  >&lt;p&gt;Is it just that you are seeing a log message, which you should not have been seeing or is it affecting some functionality as well.&lt;/p&gt;</comment>
                            <comment id="13472636" author="traviscrawford" created="Tue, 9 Oct 2012 18:56:55 +0000"  >&lt;p&gt;Hive clients using a remote metastore via &lt;tt&gt;hive.metastore.uris&lt;/tt&gt; works correctly, however, this error message is always printed because AFAICT its not possible null out &lt;tt&gt;javax.jdo.option.ConnectionURL&lt;/tt&gt; from &lt;tt&gt;hive-site.xml&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Looking through the comments on this patch, the error message was intended to reduce user confusion, a goal I totally support. In &lt;a href=&quot;https://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HiveMetaStoreClient.java&lt;/a&gt; we see a very clear info message printed saying that a remote metastore is used.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;HiveMetaStoreClient.java logs that a remote metastore is used&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Trying to connect to metastore with URI &quot;&lt;/span&gt; + store);
...
LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Connected to metastore.&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since we clearly communicate to the user that a remote metastore at the given URI is being used, is this warning needed? I&apos;d be happy to submit a patch that removes the above warning message, and makes the following HiveMetaStoreClient logging change:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Trying to connect to remote HiveMetaStore: &quot;&lt;/span&gt; + store);
...
LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Connected to remote HiveMetaStore: &quot;&lt;/span&gt; + store);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The change is at debug level we print connection attempts, and always print which remote HiveMetaStore we actually connected to.&lt;/p&gt;

&lt;p&gt;Thoughts? If this sounds good I&apos;ll file a related issue and submit the patch.&lt;/p&gt;</comment>
                            <comment id="13472714" author="ashutoshc" created="Tue, 9 Oct 2012 20:26:23 +0000"  >&lt;p&gt;Sounds good. Please file an issue and patch.&lt;/p&gt;</comment>
                            <comment id="13547934" author="hudson" created="Wed, 9 Jan 2013 10:23:39 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; title=&quot;Collapse hive.metastore.uris and hive.metastore.local&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2585&quot;&gt;&lt;del&gt;HIVE-2585&lt;/del&gt;&lt;/a&gt; Collapse hive.metastore.uris and hive.metastore.local (Ashutosh Chauhan via egc) (Revision 1352333)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1352333&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1352333&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/conf/hive-site.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStoreIpAddress.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550299" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:09 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12611061">HIVE-3560</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12520708" name="ASF.LICENSE.NOT.GRANTED--HIVE-2585.D2559.1.patch" size="7327" author="phabricator@reviews.facebook.net" created="Sat, 31 Mar 2012 01:53:24 +0000"/>
                            <attachment id="12521802" name="ASF.LICENSE.NOT.GRANTED--HIVE-2585.D2559.2.patch" size="8289" author="phabricator@reviews.facebook.net" created="Sat, 7 Apr 2012 01:23:16 +0000"/>
                            <attachment id="12532767" name="hive-2585_3.patch" size="8621" author="ashutoshc" created="Wed, 20 Jun 2012 21:10:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 31 Mar 2012 01:53:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02ub3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14511</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This patch removed support for the &amp;#39;hive.metastore.local&amp;#39; configuration property. Going forward Hive will assume that the metastore is operating in local mode if the configuration property &amp;#39;hive.metastore.uris&amp;#39; is unset, and will assume remote mode otherwise.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2586] Float comparison doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2586</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Create table with float column, insert to it e.g. 1410.1, and then do select * from &amp;lt;that table&amp;gt; where &amp;lt;that column&amp;gt; = 1410.1 . Nothing will be found. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12531725">HIVE-2586</key>
            <summary>Float comparison doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="rsurowka">Robert Sur&#243;wka</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Nov 2011 01:42:14 +0000</created>
                <updated>Sun, 23 Dec 2012 05:00:03 +0000</updated>
                            <resolved>Tue, 11 Dec 2012 07:55:15 +0000</resolved>
                                    <version>0.9.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13165115" author="jiraposter@reviews.apache.org" created="Thu, 8 Dec 2011 09:33:39 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3073/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive, John Sichi and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Is there any reason should not to implement comparing float/double?&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; title=&quot;Float comparison doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2586&quot;&gt;&lt;del&gt;HIVE-2586&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2586&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  data/files/floatdouble.txt PRE-CREATION &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g eecd9e7 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 59e55ae &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java 3fb3879 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqual.java dc4670e &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrGreaterThan.java f44f353 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrLessThan.java 7d74e82 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPGreaterThan.java 47fceb1 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPLessThan.java 12369a8 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPNotEqual.java 22b3bef &lt;br/&gt;
  ql/src/test/queries/clientpositive/compare_float_double.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientpositive/compare_float_double.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3073/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;added test : compare_float_double.q&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Navis&lt;/p&gt;
</comment>
                            <comment id="13165116" author="navis" created="Thu, 8 Dec 2011 09:34:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3073/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13168501" author="deanwampler" created="Tue, 13 Dec 2011 16:51:22 +0000"  >&lt;p&gt;Also, a query with &quot;&amp;lt;that column&amp;gt; &amp;gt; 1410.1&quot; will return the column, not reject it.&lt;/p&gt;</comment>
                            <comment id="13172623" author="jiraposter@reviews.apache.org" created="Mon, 19 Dec 2011 21:21:30 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3073/#review3982&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/#review3982&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3073/#comment8991&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/#comment8991&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please change this to &quot;FloatLiteral&quot; and &quot;DoubleLiteral&quot;.&lt;/p&gt;



&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3073/#comment8992&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/#comment8992&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please update this comment.&lt;/p&gt;



&lt;p&gt;ql/src/test/queries/clientpositive/compare_float_double.q&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3073/#comment8993&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/#comment8993&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please move these tests to ops_comparison.q. I don&apos;t think there&apos;s much benefit to adding a new data file with float data, and loading data into the table adds a lot of time to the test.&lt;/p&gt;

&lt;p&gt;    Also, this only provides coverage for the changes in GenericUDFOPEqual. Please add coverage for the other operators that you modified.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-12-08 09:33:37, Navis Ryu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3073/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-12-08 09:33:37)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, John Sichi and Carl Steinbach.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Is there any reason should not to implement comparing float/double?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; title=&quot;Float comparison doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2586&quot;&gt;&lt;del&gt;HIVE-2586&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2586&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;data/files/floatdouble.txt PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g eecd9e7 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 59e55ae &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java 3fb3879 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqual.java dc4670e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrGreaterThan.java f44f353 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrLessThan.java 7d74e82 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPGreaterThan.java 47fceb1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPLessThan.java 12369a8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPNotEqual.java 22b3bef &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/test/queries/clientpositive/compare_float_double.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/test/results/clientpositive/compare_float_double.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3073/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;added test : compare_float_double.q&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Navis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13172856" author="jiraposter@reviews.apache.org" created="Tue, 20 Dec 2011 02:11:30 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-12-19 21:21:20, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; ql/src/test/queries/clientpositive/compare_float_double.q, line 1&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3073/diff/2/?file=63280#file63280line1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/diff/2/?file=63280#file63280line1&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Please move these tests to ops_comparison.q. I don&apos;t think there&apos;s much benefit to adding a new data file with float data, and loading data into the table adds a lot of time to the test.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Also, this only provides coverage for the changes in GenericUDFOPEqual. Please add coverage for the other operators that you modified.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I thought for meaningful test column should be compared to constant/column instead of comparing constant to constant and I couldn&apos;t find any existing table contains float/double column. All agree on you except that.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Navis&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3073/#review3982&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/#review3982&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-12-08 09:33:37, Navis Ryu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3073/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-12-08 09:33:37)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, John Sichi and Carl Steinbach.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Is there any reason should not to implement comparing float/double?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; title=&quot;Float comparison doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2586&quot;&gt;&lt;del&gt;HIVE-2586&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2586&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;data/files/floatdouble.txt PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g eecd9e7 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 59e55ae &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java 3fb3879 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqual.java dc4670e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrGreaterThan.java f44f353 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrLessThan.java 7d74e82 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPGreaterThan.java 47fceb1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPLessThan.java 12369a8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPNotEqual.java 22b3bef &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/test/queries/clientpositive/compare_float_double.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/test/results/clientpositive/compare_float_double.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3073/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;added test : compare_float_double.q&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Navis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13172864" author="jiraposter@reviews.apache.org" created="Tue, 20 Dec 2011 02:25:30 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-12-19 21:21:20, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; ql/src/test/queries/clientpositive/compare_float_double.q, line 1&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3073/diff/2/?file=63280#file63280line1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/diff/2/?file=63280#file63280line1&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Please move these tests to ops_comparison.q. I don&apos;t think there&apos;s much benefit to adding a new data file with float data, and loading data into the table adds a lot of time to the test.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Also, this only provides coverage for the changes in GenericUDFOPEqual. Please add coverage for the other operators that you modified.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Navis Ryu wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;I thought for meaningful test column should be compared to constant/column instead of comparing constant to constant and I couldn&apos;t find any existing table contains float/double column. All agree on you except that.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok, in that case can you please add an &quot;all_types&quot; table that contains one column per primitive type (e.g. one float column, one int column, etc), and add code to QTestUtil so that this table is automatically created for each CliDriver test?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3073/#review3982&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/#review3982&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-12-08 09:33:37, Navis Ryu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3073/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-12-08 09:33:37)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, John Sichi and Carl Steinbach.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Is there any reason should not to implement comparing float/double?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; title=&quot;Float comparison doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2586&quot;&gt;&lt;del&gt;HIVE-2586&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2586&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;data/files/floatdouble.txt PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g eecd9e7 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 59e55ae &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java 3fb3879 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqual.java dc4670e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrGreaterThan.java f44f353 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrLessThan.java 7d74e82 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPGreaterThan.java 47fceb1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPLessThan.java 12369a8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPNotEqual.java 22b3bef &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/test/queries/clientpositive/compare_float_double.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/test/results/clientpositive/compare_float_double.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3073/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;added test : compare_float_double.q&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Navis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13172995" author="jiraposter@reviews.apache.org" created="Tue, 20 Dec 2011 07:23:30 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3073/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-12-20 07:22:34.645716)&lt;/p&gt;


&lt;p&gt;Review request for hive, John Sichi and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Is there any reason should not to implement comparing float/double?&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; title=&quot;Float comparison doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2586&quot;&gt;&lt;del&gt;HIVE-2586&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2586&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  data/files/employee.txt PRE-CREATION &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 888bf47 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 59e55ae &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBaseCompare.java 3fb3879 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqual.java dc4670e &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrGreaterThan.java f44f353 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPEqualOrLessThan.java 7d74e82 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPGreaterThan.java 47fceb1 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPLessThan.java 12369a8 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFOPNotEqual.java 22b3bef &lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java 498a293 &lt;br/&gt;
  ql/src/test/queries/clientpositive/compare_float_double.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientpositive/compare_float_double.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3073/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3073/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;added test : compare_float_double.q&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Navis&lt;/p&gt;
</comment>
                            <comment id="13258491" author="ashutoshc" created="Fri, 20 Apr 2012 19:20:45 +0000"  >&lt;p&gt;Unlinking from 0.9&lt;/p&gt;</comment>
                            <comment id="13528776" author="navis" created="Tue, 11 Dec 2012 07:55:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2249&quot; title=&quot;When creating constant expression for numbers, try to infer type from another comparison operand, instead of trying to use integer first, and then long and double&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2249&quot;&gt;&lt;del&gt;HIVE-2249&lt;/del&gt;&lt;/a&gt; properly infers type from the compared column. So problems like above do not occur anymore. I&apos;m still believe float/double literal type is useful but cannot think of any good reason for adding it. So closing this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12616462">HIVE-3715</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12512396">HIVE-2249</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12506591" name="HIVE-2586.1.patch.txt" size="14261" author="navis" created="Thu, 8 Dec 2011 09:34:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Dec 2011 09:33:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217461</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lko7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123999</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2587] In doesn&apos;t work with boolean</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2587</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Having column e.g. val with boolean value in some table tab one should theoretically be able to do: select * from tab where val in (0);&lt;/p&gt;

&lt;p&gt;Unfortunately it throws an exception.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531726">HIVE-2587</key>
            <summary>In doesn&apos;t work with boolean</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rsurowka">Robert Sur&#243;wka</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Nov 2011 01:43:44 +0000</created>
                <updated>Thu, 17 Nov 2011 01:43:44 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217462</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2588] Update arcconfig to include commit listener</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2588</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Use CommitListener from Arc-JIRA to modify commit message and include `(author via committer)` when running `arc commit`.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531742">HIVE-2588</key>
            <summary>Update arcconfig to include commit listener</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mareksapota_fb">Marek Sapota</assignee>
                                    <reporter username="mareksapota_fb">Marek Sapota</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Nov 2011 04:39:41 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:56 +0000</updated>
                            <resolved>Thu, 17 Nov 2011 04:50:52 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13151797" author="phabricator@reviews.facebook.net" created="Thu, 17 Nov 2011 04:44:51 +0000"  >&lt;p&gt;mareksapotafb requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2588&quot; title=&quot;Update arcconfig to include commit listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2588&quot;&gt;&lt;del&gt;HIVE-2588&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Update arcconfig to include commit listener&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Add CommitListener as an event listener.&lt;/p&gt;

&lt;p&gt;  Use CommitListener from Arc-JIRA to modify commit message and include `(author via committer)` when running `arc commit`.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D477&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D477&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  .arcconfig&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1005/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1005/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13151799" author="phabricator@reviews.facebook.net" created="Thu, 17 Nov 2011 04:46:51 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2588&quot; title=&quot;Update arcconfig to include commit listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2588&quot;&gt;&lt;del&gt;HIVE-2588&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Update arcconfig to include commit listener&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D477&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D477&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13151801" author="jvs" created="Thu, 17 Nov 2011 04:50:52 +0000"  >&lt;p&gt;+1, committed to trunk.  Thanks Marek!&lt;/p&gt;</comment>
                            <comment id="13151802" author="phabricator@reviews.facebook.net" created="Thu, 17 Nov 2011 04:54:51 +0000"  >&lt;p&gt;mareksapotafb has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2588&quot; title=&quot;Update arcconfig to include commit listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2588&quot;&gt;&lt;del&gt;HIVE-2588&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Update arcconfig to include commit listener&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D477&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D477&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1203046&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1203046&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13151803" author="phabricator@reviews.facebook.net" created="Thu, 17 Nov 2011 04:54:52 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2588&quot; title=&quot;Update arcconfig to include commit listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2588&quot;&gt;&lt;del&gt;HIVE-2588&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Update arcconfig to include commit listener&quot;.&lt;/p&gt;

&lt;p&gt;  comment test&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D477&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D477&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1203046&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1203046&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13151934" author="hudson" created="Thu, 17 Nov 2011 09:18:47 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1093 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1093/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1093/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2588&quot; title=&quot;Update arcconfig to include commit listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2588&quot;&gt;&lt;del&gt;HIVE-2588&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Update arcconfig to include commit listener&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Add CommitListener as an event listener.&lt;/p&gt;

&lt;p&gt;Use CommitListener from Arc-JIRA to modify commit message and include `(author&lt;br/&gt;
via committer)` when running `arc commit`.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 477&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203046&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203046&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/.arcconfig&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12504027" name="ASF.LICENSE.NOT.GRANTED--HIVE-2588.D477.1.patch" size="423" author="phabricator@reviews.facebook.net" created="Thu, 17 Nov 2011 04:44:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Nov 2011 04:44:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217478</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2589] Newly created partition should inherit properties from table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2589</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This will make all the info contained in table properties available to partitions. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12531826">HIVE-2589</key>
            <summary>Newly created partition should inherit properties from table</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Nov 2011 18:28:51 +0000</created>
                <updated>Wed, 9 Jan 2013 10:23:46 +0000</updated>
                            <resolved>Mon, 23 Jan 2012 19:59:28 +0000</resolved>
                                                    <fixVersion>0.8.1</fixVersion>
                    <fixVersion>0.9.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13152210" author="ashutoshc" created="Thu, 17 Nov 2011 18:44:28 +0000"  >&lt;p&gt;Illustrative patch.&lt;/p&gt;</comment>
                            <comment id="13154395" author="ashutoshc" created="Mon, 21 Nov 2011 19:30:04 +0000"  >&lt;p&gt;Default behavior continues to remain as earlier wherein no properties are inherited. Value of config key is either * which implies all properties needs to be inherited or a comma separated list of keys which will be inherited. &lt;/p&gt;</comment>
                            <comment id="13154401" author="ashutoshc" created="Mon, 21 Nov 2011 19:34:30 +0000"  >&lt;p&gt;Patch ready for review.&lt;/p&gt;</comment>
                            <comment id="13154403" author="jiraposter@reviews.apache.org" created="Mon, 21 Nov 2011 19:34:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2901/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2901/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Introduces a new config key to enable inheritance of table properties at the time of partition creation.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2589&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1204627 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1204627 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2901/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2901/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Contains three new *.q tests to verify functionality for all three cases.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Ashutosh&lt;/p&gt;
</comment>
                            <comment id="13154878" author="anoopsamjohn" created="Tue, 22 Nov 2011 05:00:28 +0000"  >&lt;p&gt;Hi Ashutosh&lt;br/&gt;
I have gone through the patch and some thoughts came to my mind..&lt;br/&gt;
1.  What about the validation of the keys that user has provided in the xml for the key hive.metastore.partition.inherit.table.properties?&lt;br/&gt;
Right now as per the code it will add an entry with that key and value as null in the parameters Map.&lt;br/&gt;
2. When user has provided teh value for the key as *,key1 should not consider this *? &lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Anoop&lt;/p&gt;</comment>
                            <comment id="13154928" author="ashutoshc" created="Tue, 22 Nov 2011 07:39:05 +0000"  >&lt;p&gt;Thanks Anoop for taking a look. Updated patch incorporating Anoop&apos;s feedback.&lt;/p&gt;</comment>
                            <comment id="13154945" author="anoopsamjohn" created="Tue, 22 Nov 2011 08:23:45 +0000"  >&lt;p&gt;if(inheritKeys.contains(&quot;*&quot;))&lt;/p&gt;
{
         inheritKeys =  tblParams.keySet();
       }&lt;br/&gt;
       for (String key : inheritKeys) {&lt;br/&gt;
...............&lt;br/&gt;
&lt;br/&gt;
Can we make the for loop in else.. when the keys contains *, then already all the table params are added... even if some other keys are added in teh comma seperated values also no need to consider thos...&lt;br/&gt;
if(inheritKeys.contains(&quot;*&quot;)){         inheritKeys =  tblParams.keySet();       }
&lt;p&gt;else{&lt;br/&gt;
       for (String key : inheritKeys) &lt;/p&gt;
{
...............

}

</comment>
                            <comment id="13155275" author="ashutoshc" created="Tue, 22 Nov 2011 17:29:25 +0000"  >&lt;p&gt;@Anoop,&lt;br/&gt;
If we have for loop in else statement, then no keys will get added in * case which is wrong. I don&apos;t understand why are you suggesting it that way.&lt;/p&gt;</comment>
                            <comment id="13155679" author="anoopsamjohn" created="Wed, 23 Nov 2011 04:31:17 +0000"  >&lt;p&gt;Ashutosh...&lt;br/&gt;
Sorry I misread the patch. Yes correct only...  I have missed the part that in the &lt;br/&gt;
if(inheritKeys.contains(&quot;*&quot;))  you will change the inheritKeys set itself...&lt;br/&gt;
Yes perfect . No suggestion from my side...&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Anoop&lt;/p&gt;</comment>
                            <comment id="13169492" author="ashutoshc" created="Wed, 14 Dec 2011 16:35:53 +0000"  >&lt;p&gt;Can any one take a look at this one?&lt;/p&gt;</comment>
                            <comment id="13169985" author="namit" created="Thu, 15 Dec 2011 06:11:25 +0000"  >&lt;p&gt;@Ashutosh, sorry about the delay.&lt;br/&gt;
Can you refresh ? I am getting some conflicts while applying the patch.&lt;br/&gt;
I will take a look.&lt;/p&gt;</comment>
                            <comment id="13169990" author="ashutoshc" created="Thu, 15 Dec 2011 06:41:47 +0000"  >&lt;p&gt;Here you go. Rebased patch.&lt;/p&gt;</comment>
                            <comment id="13170261" author="ashutoshc" created="Thu, 15 Dec 2011 15:02:45 +0000"  >&lt;p&gt;Patch Available&lt;/p&gt;</comment>
                            <comment id="13171079" author="ashutoshc" created="Fri, 16 Dec 2011 17:14:54 +0000"  >&lt;p&gt;@Namit, &lt;br/&gt;
Can you take a look? Else I have to rebase it again : (&lt;/p&gt;</comment>
                            <comment id="13172859" author="ashutoshc" created="Tue, 20 Dec 2011 02:12:57 +0000"  >&lt;p&gt;Ping.&lt;/p&gt;</comment>
                            <comment id="13177474" author="ashutoshc" created="Fri, 30 Dec 2011 00:35:21 +0000"  >&lt;p&gt;Can anyone take a look at this one? &lt;/p&gt;</comment>
                            <comment id="13184539" author="namit" created="Wed, 11 Jan 2012 23:35:35 +0000"  >&lt;p&gt;Sorry for the delay, looks good&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13184706" author="ashutoshc" created="Thu, 12 Jan 2012 03:59:42 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13184823" author="hudson" created="Thu, 12 Jan 2012 08:40:49 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1195 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1195/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1195/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;: Newly created partition should inherit properties from table (Ashutosh Chauhan)&lt;/p&gt;

&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230390&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230390&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13185209" author="namit" created="Thu, 12 Jan 2012 20:28:23 +0000"  >&lt;p&gt;@Ashutosh, usually we dont commit our patches ourselves. The chances of a mistake are high.&lt;/p&gt;</comment>
                            <comment id="13185412" author="ashutoshc" created="Fri, 13 Jan 2012 03:39:59 +0000"  >&lt;p&gt;This has come up before. Please, see the discussion on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2631&quot; title=&quot;Make Hive work with Hadoop 1.0.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2631&quot;&gt;&lt;del&gt;HIVE-2631&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13186779" author="hudson" created="Mon, 16 Jan 2012 08:45:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21-dbg #3 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/3/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;: Newly created partition should inherit properties from table (Ashutosh Chauhan)&lt;/p&gt;

&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230390&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230390&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13186895" author="hudson" created="Mon, 16 Jan 2012 12:26:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21-dbg #4 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/4/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/4/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;: Newly created partition should inherit properties from table (Ashutosh Chauhan)&lt;/p&gt;

&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230390&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230390&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13187022" author="hudson" created="Mon, 16 Jan 2012 16:51:26 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21-dbg #5 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/5/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/5/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;: Newly created partition should inherit properties from table (Ashutosh Chauhan)&lt;/p&gt;

&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230390&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230390&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13188448" author="hudson" created="Wed, 18 Jan 2012 13:54:52 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1204 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1204/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1204/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2719&quot; title=&quot;Fix test failures caused by HIVE-2589&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2719&quot;&gt;&lt;del&gt;HIVE-2719&lt;/del&gt;&lt;/a&gt;. Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; (He Yongqiang via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1232766&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1232766&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13188613" author="thw" created="Wed, 18 Jan 2012 18:50:25 +0000"  >&lt;p&gt;Need this for HCat 0.3&lt;/p&gt;</comment>
                            <comment id="13189980" author="ashutoshc" created="Fri, 20 Jan 2012 18:31:01 +0000"  >&lt;p&gt;Same patch as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;_2.patch with bug fix in QTestUtil.java which makes all the tests pass.&lt;/p&gt;</comment>
                            <comment id="13189981" author="ashutoshc" created="Fri, 20 Jan 2012 18:33:39 +0000"  >&lt;p&gt;Missed few files.&lt;/p&gt;</comment>
                            <comment id="13189982" author="ashutoshc" created="Fri, 20 Jan 2012 18:35:15 +0000"  >&lt;p&gt;Ready for review. Tests passed on my local machine.&lt;/p&gt;</comment>
                            <comment id="13189991" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 18:45:40 +0000"  >&lt;p&gt;ashutoshc requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Newly created partition should inherit properties from table&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2589&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Fixes an existing bug in test code which got exposed from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; patch. Fixes it.&lt;/p&gt;

&lt;p&gt;  This will make all the info contained in table properties available to partitions.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1335&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1335&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2793/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2793/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13190022" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 19:30:39 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Newly created partition should inherit properties from table&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:1574 The description in hive-default.xml.template should mention that &apos;*&apos; denotes that all table properties will be inherited by new partitions.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:1569 Please add a comment at the beginning of this block: &quot;// Inherit table properties&quot;&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java:363 Thanks for tracking this down!&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java:122 I&apos;m not sure this belongs here. Do you really want the metastore to get reinitialized every time someone resets this configuration property?&lt;br/&gt;
  ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q:1 Explicitly set the configuration property to &quot;&quot; just to make things clear.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1335&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1335&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13190042" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 19:52:39 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Newly created partition should inherit properties from table&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java:122 Yeah, if someone is changing this key, metastore should get reinitialized with new value for that session. Tests also fail if I take it out from here.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:1569 Will do so.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:1574 Will do so.&lt;br/&gt;
  ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q:1 Will do so.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1335&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1335&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13190045" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 19:54:40 +0000"  >&lt;p&gt;ashutoshc updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Newly created partition should inherit properties from table&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach, heyongqiang, njain&lt;/p&gt;

&lt;p&gt;  Addresses Carl&apos;s comments.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1335&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1335&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/p&gt;</comment>
                            <comment id="13190078" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 20:38:38 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Newly created partition should inherit properties from table&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;  @Ashutosh: Can you test and commit?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1335&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1335&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13190083" author="ashutoshc" created="Fri, 20 Jan 2012 20:46:29 +0000"  >&lt;p&gt;Ran the tests on trunk. All passed except ppr_pushdown.q which always fails in my environment with or without this patch. It is also getting tracked at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2686&quot; title=&quot;Test ppr_pushdown.q is failing on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2686&quot;&gt;&lt;del&gt;HIVE-2686&lt;/del&gt;&lt;/a&gt;. Will start test run on 0.8-branch now. Carl, can I commit there too ?&lt;/p&gt;</comment>
                            <comment id="13190271" author="ashutoshc" created="Sat, 21 Jan 2012 02:12:53 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13190365" author="hudson" created="Sat, 21 Jan 2012 10:45:37 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1212 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1212/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1212/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; : Newly created partition should inherit properties from table (Ashutosh Chauhan)&lt;/p&gt;

&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234235&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234235&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13190802" author="ashutoshc" created="Sun, 22 Jan 2012 22:13:51 +0000"  >&lt;p&gt;Patch for 0.8 branch. This patch passes all the tests on 0.8 branch&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;BUILD SUCCESSFUL
Total time: 285 minutes 46 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13191400" author="cwsteinbach" created="Mon, 23 Jan 2012 19:59:28 +0000"  >&lt;p&gt;Backported to branch-0.8-r2. Thanks Ashutosh!&lt;/p&gt;</comment>
                            <comment id="13191814" author="hudson" created="Tue, 24 Jan 2012 02:00:10 +0000"  >&lt;p&gt;Integrated in Hive-0.8.1-SNAPSHOT-h0.21 #172 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.8.1-SNAPSHOT-h0.21/172/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.8.1-SNAPSHOT-h0.21/172/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;. Newly created partition should inherit properties from table (Ashutosh Chauhan via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234958&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234958&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8-r2/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265325" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:43 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13547965" author="hudson" created="Wed, 9 Jan 2013 10:23:46 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; : Newly created partition should inherit properties from table (Ashutosh Chauhan) (Revision 1234235)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2719&quot; title=&quot;Fix test failures caused by HIVE-2589&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2719&quot;&gt;&lt;del&gt;HIVE-2719&lt;/del&gt;&lt;/a&gt;. Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; (He Yongqiang via cws) (Revision 1232766)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;: Newly created partition should inherit properties from table (Ashutosh Chauhan) (Revision 1230390)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234235&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234235&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1232766&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1232766&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230390&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230390&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12519448">HCATALOG-87</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12511302" name="ASF.LICENSE.NOT.GRANTED--HIVE-2589.D1335.1.patch" size="12273" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 18:45:41 +0000"/>
                            <attachment id="12511311" name="ASF.LICENSE.NOT.GRANTED--HIVE-2589.D1335.2.patch" size="12440" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 19:54:41 +0000"/>
                            <attachment id="12504533" name="hive-2589.patch" size="12004" author="ashutoshc" created="Mon, 21 Nov 2011 19:30:03 +0000"/>
                            <attachment id="12504095" name="hive-2589.patch" size="754" author="ashutoshc" created="Thu, 17 Nov 2011 18:44:28 +0000"/>
                            <attachment id="12504712" name="hive-2589_1.patch" size="12176" author="ashutoshc" created="Tue, 22 Nov 2011 07:39:04 +0000"/>
                            <attachment id="12507481" name="hive-2589_2.patch" size="11742" author="ashutoshc" created="Thu, 15 Dec 2011 06:41:46 +0000"/>
                            <attachment id="12511297" name="hive-2589_3.patch" size="4037" author="ashutoshc" created="Fri, 20 Jan 2012 18:31:01 +0000"/>
                            <attachment id="12511298" name="hive-2589_4.patch" size="12979" author="ashutoshc" created="Fri, 20 Jan 2012 18:33:39 +0000"/>
                            <attachment id="12511451" name="hive-2589_branch8.patch" size="13547" author="ashutoshc" created="Sun, 22 Jan 2012 22:13:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Nov 2011 19:34:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09z3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56127</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2590] HBase bulk load wiki page improvements</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2590</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Some suggestions on the page &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HBaseBulkLoad&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HBaseBulkLoad&lt;/a&gt; which seems kind of out of date:&lt;/p&gt;

&lt;p&gt;1. It seems like it&apos;s required that the number of reduce tasks in the &quot;Sort Data&quot; phase be one more than the number of keys selected in the &quot;Range Partitioning&quot; step, or else you get an error like this:&lt;/p&gt;


&lt;p&gt;Caused by: java.lang.IllegalArgumentException: Can&apos;t read partitions file&lt;br/&gt;
	at org.apache.hadoop.mapred.lib.TotalOrderPartitioner.configure(TotalOrderPartitioner.java:91)&lt;br/&gt;
	... 15 more&lt;br/&gt;
Caused by: java.io.IOException: Wrong number of partitions in keyset&lt;br/&gt;
	at org.apache.hadoop.mapred.lib.TotalOrderPartitioner.configure(TotalOrderPartitioner.java:72)&lt;br/&gt;
	... 15 more&lt;/p&gt;

&lt;p&gt;If so, it would be helpful if this was explicitly pointed out.&lt;/p&gt;

&lt;p&gt;2. It recommends that you should use the &quot;loadtable&quot; ruby script to put data into hbase, but if you run this on newer versions of HBase (e.g. 0.90.3) it errors: &lt;/p&gt;

&lt;p&gt;    DISABLED!!!! Use completebulkload instead.  See tail of &lt;a href=&quot;http://hbase.apache.org/bulk-loads.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/bulk-loads.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The instructions should probably be changed to use completebulkload instead of this script.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12531830">HIVE-2590</key>
            <summary>HBase bulk load wiki page improvements</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xodarap">Ben West</assignee>
                                    <reporter username="xodarap">Ben West</reporter>
                        <labels>
                            <label>wiki</label>
                    </labels>
                <created>Thu, 17 Nov 2011 18:51:39 +0000</created>
                <updated>Fri, 2 Aug 2013 11:31:47 +0000</updated>
                            <resolved>Thu, 17 Nov 2011 21:02:29 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Documentation</component>
                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13152294" author="jvs" created="Thu, 17 Nov 2011 20:25:10 +0000"  >&lt;p&gt;If you want to update the wiki, create an account there, let me know the account name, and I&apos;ll grant you write access.&lt;/p&gt;</comment>
                            <comment id="13152297" author="xodarap" created="Thu, 17 Nov 2011 20:30:44 +0000"  >&lt;p&gt;Thanks John. My username is &quot;xodarap&quot; (same as Jira).&lt;/p&gt;</comment>
                            <comment id="13152301" author="jvs" created="Thu, 17 Nov 2011 20:37:08 +0000"  >&lt;p&gt;Granted.&lt;/p&gt;</comment>
                            <comment id="13152326" author="xodarap" created="Thu, 17 Nov 2011 21:02:29 +0000"  >&lt;p&gt;updated the wiki. Would appreciate a review by Hive experts if you have the time.&lt;/p&gt;</comment>
                            <comment id="13726853" author="vikramsi" created="Thu, 1 Aug 2013 20:39:40 +0000"  >&lt;p&gt;I wanted to update wiki.as most of of the stuff is unclear.&lt;/p&gt;</comment>
                            <comment id="13726860" author="ashutoshc" created="Thu, 1 Aug 2013 20:45:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikramsi&quot; class=&quot;user-hover&quot; rel=&quot;vikramsi&quot;&gt;vikram s&lt;/a&gt; Whats your cwiki id?&lt;/p&gt;</comment>
                            <comment id="13726874" author="vikramsi" created="Thu, 1 Aug 2013 20:51:58 +0000"  >&lt;p&gt;vikram s&lt;/p&gt;</comment>
                            <comment id="13726937" author="ashutoshc" created="Thu, 1 Aug 2013 21:45:37 +0000"  >&lt;p&gt;permissions granted.&lt;/p&gt;</comment>
                            <comment id="13727593" author="vikramsi" created="Fri, 2 Aug 2013 11:31:47 +0000"  >&lt;p&gt;Unable to see the &quot;Edit&quot; option.&lt;/p&gt;






&lt;p&gt;&amp;#8211; &lt;br/&gt;
Warm Regards,&lt;br/&gt;
Vikram&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Nov 2011 20:25:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217566</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>wiki</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2591] Hive 0.7.1 fails with &quot;Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: type&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2591</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;When I try to invoke hive and type in &quot;SHOW TABLES&quot; in cli in the environment as explained above, I get &quot;Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: type&quot; and I am not able to use it at all.&lt;/p&gt;

&lt;p&gt;Is there any temporary fix for this? Please let me know, if I am making any mistake here.&lt;br/&gt;
I have downloaded Hive 0.7.1 from the download link as mentioned in the Hive Wiki. The download url is &lt;a href=&quot;http://hive.apache.org/releases.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hive.apache.org/releases.html&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;/opt/hive-0.7.1$ hive&lt;br/&gt;
WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated. Please use org.apache.hadoop.log.metrics.EventCounter in all the log4j.properties files.&lt;br/&gt;
Hive history file=/tmp/hadoop/hive_job_log_hduser_201111190121_764439225.txt&lt;br/&gt;
hive&amp;gt; SHOW TABLES;&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: type&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.HiveLexer.mKW_SHOW(HiveLexer.java:1234)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.HiveLexer.mTokens(HiveLexer.java:5942)&lt;br/&gt;
        at org.antlr.runtime.Lexer.nextToken(Lexer.java:89)&lt;br/&gt;
        at org.antlr.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:133)&lt;br/&gt;
        at org.antlr.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:127)&lt;br/&gt;
        at org.antlr.runtime.CommonTokenStream.setup(CommonTokenStream.java:127)&lt;br/&gt;
        at org.antlr.runtime.CommonTokenStream.LT(CommonTokenStream.java:91)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.HiveParser.statement(HiveParser.java:521)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:436)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:327)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:736)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:164)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:241)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:456)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;/p&gt;

&lt;p&gt;I am not sure what is the actual issue here or rather how to fix it.&lt;br/&gt;
Can you please let me know if there is any workaround for this.&lt;/p&gt;

&lt;p&gt;Alternatively I tried building hive from the SVN source repo.&lt;br/&gt;
I am neither able to build hive from SVN. I get the following error.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt; &amp;gt;&amp;gt;  D:\hive\build\ivy\lib\default\zookeeper-3.3.1.jar&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt; Exception in thread &quot;main&quot; java.lang.VerifyError: Expecting a stackmap frame at branch target 76 in method org.apache.hadoop.hive.metastore.model.MDatabase.jdoCopyField(Lorg/apache/hadoop/hive/metastore/model/MDatabase;I)V at offset 1&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at java.lang.Class.getDeclaredFields0(Native Method)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at java.lang.Class.privateGetDeclaredFields(Class.java:2308)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at java.lang.Class.getDeclaredFields(Class.java:1760)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at org.datanucleus.metadata.ClassMetaData.addMetaDataForMembersNotInMetaData(ClassMetaData.java:358)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at org.datanucleus.metadata.ClassMetaData.populate(ClassMetaData.java:199)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at org.datanucleus.metadata.MetaDataManager$1.run(MetaDataManager.java:2394)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at org.datanucleus.metadata.MetaDataManager.populateAbstractClassMetaData(MetaDataManager.java:2388)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at org.datanucleus.metadata.MetaDataManager.populateFileMetaData(MetaDataManager.java:2225)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at org.datanucleus.metadata.MetaDataManager.initialiseFileMetaDataForUse(MetaDataManager.java:925)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at org.datanucleus.metadata.MetaDataManager.loadMetadataFiles(MetaDataManager.java:399)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at org.datanucleus.enhancer.DataNucleusEnhancer.getFileMetadataForInput(DataNucleusEnhancer.java:806)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at org.datanucleus.enhancer.DataNucleusEnhancer.enhance(DataNucleusEnhancer.java:582)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;datanucleusenhancer&amp;#93;&lt;/span&gt;   at org.datanucleus.enhancer.DataNucleusEnhancer.main(DataNucleusEnhancer.java:1316)&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;br/&gt;
D:\Projs_Source\hive\build.xml:297: The following error occurred while executing this line:&lt;br/&gt;
D:\Projs_Source\hive\build.xml:154: The following error occurred while executing this line:&lt;br/&gt;
D:\Projs_Source\hive\metastore\build.xml:98: Java returned: 1&lt;/p&gt;

&lt;p&gt;Total time: 32 seconds&lt;/p&gt;

&lt;p&gt;Any inputs to fix these issues will be very helpful.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;br/&gt;
Prashanth.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Intel Core2 Quad CPU Q8400 @2.66GHz&lt;br/&gt;
4 GB RAM&lt;br/&gt;
Ubuntu 10.10 32 bit&lt;br/&gt;
JDK 6.0_27&lt;br/&gt;
Apache Ant 1.8.0&lt;br/&gt;
Apache Hive 0.7.1&lt;br/&gt;
Apache Hadoop 0.20.203.0&lt;/p&gt;</environment>
        <key id="12531837">HIVE-2591</key>
            <summary>Hive 0.7.1 fails with &quot;Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: type&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="prashanth.babu">Prashanth</reporter>
                        <labels>
                            <label>hive</label>
                    </labels>
                <created>Thu, 17 Nov 2011 20:02:37 +0000</created>
                <updated>Fri, 12 Jul 2013 02:54:02 +0000</updated>
                            <resolved>Fri, 12 Jul 2013 02:54:02 +0000</resolved>
                                    <version>0.7.1</version>
                                                    <component>CLI</component>
                    <component>JDBC</component>
                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13221893" author="andy" created="Sun, 4 Mar 2012 14:03:11 +0000"  >&lt;p&gt;&amp;gt; java.lang.VerifyError: Expecting a stackmap frame at branch target 76 in method &lt;/p&gt;

&lt;p&gt;Means you are using JDK1.7 and the DataNucleus enhancer uses ASM3.x (JDK1.6 java bytecode). You can use the tip at the end of this post&lt;br/&gt;
&lt;a href=&quot;http://www.datanucleus.org/servlet/forum/viewthread_thread,6799_lastpage,yes#lastpost&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/servlet/forum/viewthread_thread,6799_lastpage,yes#lastpost&lt;/a&gt;&lt;br/&gt;
to use JDK1.7 with current DataNucleus&lt;/p&gt;</comment>
                            <comment id="13232029" author="ransom" created="Sat, 17 Mar 2012 17:48:23 +0000"  >&lt;p&gt;you should use jdk 1.6 &lt;br/&gt;
because jdk1.7 jdbc interface has some change. &lt;br/&gt;
i have them same VerifyError when build hive.&lt;br/&gt;
after change jdk.it was success.&lt;/p&gt;</comment>
                            <comment id="13232031" author="ransom" created="Sat, 17 Mar 2012 17:51:25 +0000"  >&lt;p&gt;type error:&lt;br/&gt;
it looks some problems in antlr. is the hive.g files changed?&lt;/p&gt;</comment>
                            <comment id="13246054" author="codevally" created="Wed, 4 Apr 2012 05:52:08 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;I am also getting this &quot;type error&quot;. Haven&apos;t modify any files and just download and configure the following pieces.&lt;/p&gt;

&lt;p&gt;Hadoop - 1.0.1&lt;br/&gt;
Hive - 0.81&lt;/p&gt;

&lt;p&gt;Any help is appreciated.&lt;/p&gt;</comment>
                            <comment id="13283842" author="appodictic" created="Sat, 26 May 2012 00:13:59 +0000"  >&lt;p&gt;The problem is being compiled against one version of antlr and running with anouther. Does hadoop 1.0 have an antlr on the classpath?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 4 Mar 2012 14:03:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d3y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Hive</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2592] ConstantOI doesn&apos;t always propagate to UDAF</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2592</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Depending on the query plan, a UDAF may not actually get a constant OI.  E.g.,&lt;/p&gt;

&lt;p&gt;set hive.map.aggr=false;&lt;br/&gt;
SELECT percentile_approx(cast(substr(src.value,5) AS double), 0.5) FROM src;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531852">HIVE-2592</key>
            <summary>ConstantOI doesn&apos;t always propagate to UDAF</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jonchang">Jonathan Chang</assignee>
                                    <reporter username="jonchang">Jonathan Chang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Nov 2011 21:44:26 +0000</created>
                <updated>Mon, 28 Nov 2011 22:49:39 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13153644" author="jonchang" created="Sun, 20 Nov 2011 02:07:10 +0000"  >&lt;p&gt;@jvs, I have a rather large diff that goes some of the way towards fixing the issue, but it will take a few more large diffs before this one is knocked down completely.  Would you be amenable to reviewing/committing one of them?&lt;/p&gt;</comment>
                            <comment id="13154436" author="jvs" created="Mon, 21 Nov 2011 20:08:03 +0000"  >&lt;p&gt;Sure.&lt;/p&gt;</comment>
                            <comment id="13154757" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 00:17:40 +0000"  >&lt;p&gt;jonchang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2592&quot; title=&quot;ConstantOI doesn&amp;#39;t always propagate to UDAF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2592&quot;&gt;HIVE-2592&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ConstantOI doesn&apos;t always propagate to UDAF&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  constants&lt;/p&gt;

&lt;p&gt;  Depending on the query plan, a UDAF may not actually get a constant OI.  E.g.,&lt;/p&gt;

&lt;p&gt;  set hive.map.aggr=false;&lt;br/&gt;
  SELECT percentile_approx(cast(substr(src.value,5) AS double), 0.5) FROM src;&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D513&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D513&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ColumnInfo.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/ExprProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeColumnDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeConstantDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeFieldDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeNullDesc.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1071/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1071/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13154759" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 00:19:39 +0000"  >&lt;p&gt;jonchang has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2592&quot; title=&quot;ConstantOI doesn&amp;#39;t always propagate to UDAF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2592&quot;&gt;HIVE-2592&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ConstantOI doesn&apos;t always propagate to UDAF&quot;.&lt;/p&gt;

&lt;p&gt;  Your wish is my command =).   This diff mainly gets most of semanticanalyzer and desc nodes using object inspectors.  This makes sure that all paths to plan generation preserve the exact type (and hence constantness).&lt;/p&gt;

&lt;p&gt;  The next step to everything being copacetic will be updating the serializers.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D513&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D513&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13154770" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 00:30:39 +0000"  >&lt;p&gt;jonchang updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2592&quot; title=&quot;ConstantOI doesn&amp;#39;t always propagate to UDAF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2592&quot;&gt;HIVE-2592&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ConstantOI doesn&apos;t always propagate to UDAF&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Rebase ant lint fixes.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D513&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D513&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ColumnInfo.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/ExprProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeColumnDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeConstantDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeFieldDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeNullDesc.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/p&gt;</comment>
                            <comment id="13154955" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 08:38:39 +0000"  >&lt;p&gt;ikabiljo has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2592&quot; title=&quot;ConstantOI doesn&amp;#39;t always propagate to UDAF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2592&quot;&gt;HIVE-2592&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ConstantOI doesn&apos;t always propagate to UDAF&quot;.&lt;/p&gt;

&lt;p&gt;  I do now understand pretty much anything here &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; but just a two questions:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;is there any general usage of TypeInfo, where ObjectInspector cannot be used? (i.e. should TypeInfo be deprecated and only left for backward compatibility for call-sites)&lt;/li&gt;
	&lt;li&gt;does this diff/next one tries to fix the issue of try to pass constant OI as partial result to the merge phases?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D513&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D513&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155269" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 17:16:39 +0000"  >&lt;p&gt;jonchang has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2592&quot; title=&quot;ConstantOI doesn&amp;#39;t always propagate to UDAF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2592&quot;&gt;HIVE-2592&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ConstantOI doesn&apos;t always propagate to UDAF&quot;.&lt;/p&gt;

&lt;p&gt;  I dunno if there are any valid uses of TypeInfo.&lt;/p&gt;

&lt;p&gt;  Anyhow, this diff gets part of the way towards fixing the other issue (constant OI into partial aggregates), but the serialization still needs to be fixed.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D513&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D513&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13156536" author="phabricator@reviews.facebook.net" created="Thu, 24 Nov 2011 05:07:39 +0000"  >&lt;p&gt;ikabiljo has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2592&quot; title=&quot;ConstantOI doesn&amp;#39;t always propagate to UDAF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2592&quot;&gt;HIVE-2592&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ConstantOI doesn&apos;t always propagate to UDAF&quot;.&lt;/p&gt;

&lt;p&gt;  There must have been a good reason to have TypeInfo/ObjectInspector pair, since it was built. I am wondering if that reason is still valid.&lt;br/&gt;
  If it is, it might be a best solution to add constant OIs to TypeInfo, and then all different issues around constant OIs would be resolved.&lt;br/&gt;
  If there is not a good reason for TypeInfo any more, then it might be best to just remove it everywhere (and leave them only for backward compatibility for old UDFs that use them, but create them upon request, without storing them anywhere).&lt;/p&gt;

&lt;p&gt;  What do you think?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D513&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D513&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13156537" author="phabricator@reviews.facebook.net" created="Thu, 24 Nov 2011 05:11:40 +0000"  >&lt;p&gt;jonchang has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2592&quot; title=&quot;ConstantOI doesn&amp;#39;t always propagate to UDAF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2592&quot;&gt;HIVE-2592&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ConstantOI doesn&apos;t always propagate to UDAF&quot;.&lt;/p&gt;

&lt;p&gt;  Maybe someone with some more depth on the history here can chime in, but it seems to me that if the TI/OI split was intended to solve the problem, it&apos;s a pretty broken solution.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D513&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D513&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13158892" author="phabricator@reviews.facebook.net" created="Mon, 28 Nov 2011 22:49:39 +0000"  >&lt;p&gt;jsichi has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2592&quot; title=&quot;ConstantOI doesn&amp;#39;t always propagate to UDAF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2592&quot;&gt;HIVE-2592&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ConstantOI doesn&apos;t always propagate to UDAF&quot;.&lt;/p&gt;

&lt;p&gt;  I got many failures from running ant test on this one.  I think at this point it would make sense for you to set up a dev box so you can run through ant test yourself.  (Marek has the parallel test stuff ready to try too.)&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D513&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D513&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12504677" name="ASF.LICENSE.NOT.GRANTED--HIVE-2592.D513.1.patch" size="49015" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 00:17:40 +0000"/>
                            <attachment id="12504680" name="ASF.LICENSE.NOT.GRANTED--HIVE-2592.D513.2.patch" size="52861" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 00:30:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Nov 2011 20:08:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124003</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2593] avoid referencing /tmp in tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2593</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is what is causing parallel tests to fail when multiple instances run on the same node.  I grepped for &quot;/tmp&quot; in ql/src/test/queries/clientpositive and the results match the test failures I&apos;m getting.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12531874">HIVE-2593</key>
            <summary>avoid referencing /tmp in tests</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mareksapota_fb">Marek Sapota</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Nov 2011 00:12:05 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:08 +0000</updated>
                            <resolved>Wed, 23 Nov 2011 04:52:37 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13152491" author="jvs" created="Fri, 18 Nov 2011 00:15:03 +0000"  >&lt;p&gt;We should probably be using ${system:test.tmp.dir} instead.&lt;/p&gt;</comment>
                            <comment id="13153028" author="phabricator@reviews.facebook.net" created="Fri, 18 Nov 2011 18:32:51 +0000"  >&lt;p&gt;mareksapotafb requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Replaced &apos;/tmp&apos; with &apos;${system:test.tmp.dir}&apos; in all q files.&lt;/p&gt;

&lt;p&gt;  This is what is causing parallel tests to fail when multiple instances run on the same node.  I grepped for &quot;/tmp&quot; in ql/src/test/queries/clientpositive and the results match the test failures I&apos;m getting.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/hook_context_cs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_rc.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/insertexternal1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert.q&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1035/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1035/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13153029" author="phabricator@reviews.facebook.net" created="Fri, 18 Nov 2011 18:34:51 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;/p&gt;

&lt;p&gt;  I&apos;m running tests to see if no changes are needed to .out files.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13153096" author="phabricator@reviews.facebook.net" created="Fri, 18 Nov 2011 20:12:51 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fix new lines at end of files so `arc patch` works properly.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/hook_context_cs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_rc.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/insertexternal1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert.q&lt;/p&gt;</comment>
                            <comment id="13153179" author="phabricator@reviews.facebook.net" created="Fri, 18 Nov 2011 22:18:52 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert.q:199 Is there a reason these ones are missing the intervening slash?  Other ones in other tests are not.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13153275" author="phabricator@reviews.facebook.net" created="Sat, 19 Nov 2011 00:40:51 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  The reason is me making a mistake=)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/hook_context_cs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_rc.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/insertexternal1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert.q&lt;/p&gt;</comment>
                            <comment id="13153277" author="phabricator@reviews.facebook.net" created="Sat, 19 Nov 2011 00:42:51 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;/p&gt;

&lt;p&gt;  Also test failed for hook_context_cs.q.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13154537" author="jvs" created="Mon, 21 Nov 2011 21:21:10 +0000"  >&lt;p&gt;OK I&apos;ll wait for an update which fixes hook_context_cs.&lt;/p&gt;</comment>
                            <comment id="13154869" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 04:44:41 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Use quotes around paths using system:test.tmp.dir so spaces in the path don&apos;t&lt;br/&gt;
  break tests.  Use variable substitution for shell commands.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/hook_context_cs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_rc.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/insertexternal1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert.q&lt;/p&gt;</comment>
                            <comment id="13154872" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 04:48:39 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;/p&gt;

&lt;p&gt;  Oh good, glad to see I was wrong:  substitution can be done within CLI so no new thrift call needed.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13154873" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 04:50:39 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Remove end of file newlines to unbreak patch.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/hook_context_cs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_rc.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/insertexternal1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert.q&lt;/p&gt;</comment>
                            <comment id="13154875" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 04:52:41 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;/p&gt;

&lt;p&gt;  multi_insert.q passed locally, we&apos;ll see if everything else works too=)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13154925" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 07:36:39 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Seems Hive doesn&apos;t like quotes in some places.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/hook_context_cs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_rc.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/insertexternal1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert.q&lt;/p&gt;</comment>
                            <comment id="13155352" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 19:06:40 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Remove quotes from shell commands, tests break because of them.  Fix&lt;br/&gt;
  hook_context_cs test.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/hooks/VerifyContentSummaryCacheHook.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/hook_context_cs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_rc.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/insertexternal1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert.q&lt;/p&gt;</comment>
                            <comment id="13155362" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 19:28:40 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;/p&gt;

&lt;p&gt;  The last revision passes the tests, but will probably break if path to Hive has spaces (because of the lack of quotes around paths).&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155402" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 20:20:39 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;/p&gt;

&lt;p&gt;  No, don&apos;t worry about the spaces; people who do that deserve what they get.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155403" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 20:20:40 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;/p&gt;

&lt;p&gt;  John, should I worry about the spaces?  When I tried running tests in path that contained a space Ant didn&apos;t even reach the tests.  It exited with ClassNotFoundException because of wrongly split path.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155406" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 20:22:39 +0000"  >&lt;p&gt;mareksapotafb has added reviewers to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;br/&gt;
Added Reviewers: jsichi&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155410" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 20:26:39 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;/p&gt;

&lt;p&gt;  You can try this then and see if this fixed the problems you were having.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155417" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 20:38:41 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;br/&gt;
Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;  Remove /tmp from clientnegative tests too.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/hooks/VerifyContentSummaryCacheHook.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/archive_multi7.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/duplicate_insert3.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/index_compact_entry_limit.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/index_compact_size_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/hook_context_cs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_auto.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_bitmap_rc.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/index_compact_3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/insertexternal1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/multi_insert.q&lt;/p&gt;</comment>
                            <comment id="13155473" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 21:56:39 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;/p&gt;

&lt;p&gt;  Passed for me too.  +1, will commit when non-parallel test run passes.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155682" author="jvs" created="Wed, 23 Nov 2011 04:52:38 +0000"  >&lt;p&gt;Committed to trunk.  Thanks Marek!  Can you grant ASF rights on latest patch?&lt;/p&gt;</comment>
                            <comment id="13155683" author="phabricator@reviews.facebook.net" created="Wed, 23 Nov 2011 05:02:39 +0000"  >&lt;p&gt;mareksapotafb has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1205285&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1205285&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155685" author="mareksapota_fb" created="Wed, 23 Nov 2011 05:04:35 +0000"  >&lt;p&gt;Really easy to forget this step.&lt;/p&gt;</comment>
                            <comment id="13155752" author="hudson" created="Wed, 23 Nov 2011 08:43:36 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1103 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1103/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1103/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2593&quot; title=&quot;avoid referencing /tmp in tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2593&quot;&gt;&lt;del&gt;HIVE-2593&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; avoid referencing /tmp in tests&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Replaced &apos;/tmp&apos; with &apos;${system:test.tmp.dir}&apos; in all q files.&lt;/p&gt;

&lt;p&gt;This is what is causing parallel tests to fail when multiple instances run on&lt;br/&gt;
the same node.  I grepped for &quot;/tmp&quot; in ql/src/test/queries/clientpositive and&lt;br/&gt;
the results match the test failures I&apos;m getting.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 501&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1205285&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1205285&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/hooks/VerifyContentSummaryCacheHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_multi7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/duplicate_insert3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/index_compact_entry_limit.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/index_compact_size_limit.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/hook_context_cs.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/index_auto.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/index_bitmap.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/index_bitmap1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/index_bitmap2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/index_bitmap3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/index_bitmap_auto.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/index_bitmap_rc.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/index_compact.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/index_compact_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/index_compact_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/index_compact_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/insertexternal1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/load_fs.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/multi_insert.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12504241" name="ASF.LICENSE.NOT.GRANTED--HIVE-2593.D501.1.patch" size="27472" author="phabricator@reviews.facebook.net" created="Fri, 18 Nov 2011 18:32:52 +0000"/>
                            <attachment id="12504262" name="ASF.LICENSE.NOT.GRANTED--HIVE-2593.D501.2.patch" size="26765" author="phabricator@reviews.facebook.net" created="Fri, 18 Nov 2011 20:12:52 +0000"/>
                            <attachment id="12504310" name="ASF.LICENSE.NOT.GRANTED--HIVE-2593.D501.3.patch" size="26798" author="phabricator@reviews.facebook.net" created="Sat, 19 Nov 2011 00:40:52 +0000"/>
                            <attachment id="12504699" name="ASF.LICENSE.NOT.GRANTED--HIVE-2593.D501.4.patch" size="28528" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 04:44:42 +0000"/>
                            <attachment id="12504700" name="ASF.LICENSE.NOT.GRANTED--HIVE-2593.D501.5.patch" size="27821" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 04:50:40 +0000"/>
                            <attachment id="12504711" name="ASF.LICENSE.NOT.GRANTED--HIVE-2593.D501.6.patch" size="27783" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 07:36:40 +0000"/>
                            <attachment id="12504783" name="ASF.LICENSE.NOT.GRANTED--HIVE-2593.D501.7.patch" size="28716" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 19:06:41 +0000"/>
                            <attachment id="12504797" name="ASF.LICENSE.NOT.GRANTED--HIVE-2593.D501.8.patch" size="31815" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 20:38:41 +0000"/>
                            <attachment id="12504849" name="HIVE-2593.D501.8.patch" size="31815" author="mareksapota_fb" created="Wed, 23 Nov 2011 05:04:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Nov 2011 18:32:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217610</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Hive CLI variable expansion now applies to shell commands as well.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2594] UDF LIKE can&apos;t handle literal &apos;\&apos; before &apos;%&apos;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2594</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12531876">HIVE-2594</key>
            <summary>UDF LIKE can&apos;t handle literal &apos;\&apos; before &apos;%&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Nov 2011 00:21:32 +0000</created>
                <updated>Tue, 6 Dec 2011 07:19:18 +0000</updated>
                                            <version>0.8.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13152509" author="cwsteinbach" created="Fri, 18 Nov 2011 00:40:15 +0000"  >
&lt;p&gt;UDFLike does not correctly handle patterns where an escaped &apos;\&apos; precedes &apos;%&apos;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% cat /home/carl/Work/repos/hive-test/data/files/pattern/*
aaaaaa
aaa\bbb
aaa\\ccc
aaa\\\ddd
aaa%aaa

% hive

hive&amp;gt; CREATE TABLE test (a STRING)
      STORED AS TEXTFILE
      LOCATION &apos;/home/carl/Work/repos/hive-test/data/files/pattern&apos;;

OK

hive&amp;gt; SELECT * FROM test;
OK
aaaaaa
aaa\bbb
aaa\\ccc
aaa\\\ddd
aaa%aaa

hive&amp;gt; SELECT * FROM test WHERE a LIKE &apos;aaa%&apos;; -- Should match everything. WORKS!
OK
aaaaaa
aaa\bbb
aaa\\ccc
aaa\\\ddd
aaa%aaa

hive&amp;gt; SELECT * from test WHERE a LIKE &apos;aaa\%%&apos;; -- Should match &apos;aaa%aaa&apos;. WORKS!
OK
aaa%aaa

hive&amp;gt; SELECT * FROM test WHERE a LIKE &apos;aaa\\%&apos;; -- Should match &apos;aaa\bbb&apos;, &apos;aaa\\ccc&apos;, and &apos;aaa\\\ddd&apos;. FAILURE!
OK

hive&amp;gt; SELECT * FROM test WHERE a LIKE &apos;aaa\\b%&apos;; -- Should match &apos;aaa\bbb&apos;. Works!
OK
aaa\bbb

hive&amp;gt; quit;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</comment>
                            <comment id="13163409" author="navis" created="Tue, 6 Dec 2011 07:19:18 +0000"  >&lt;p&gt;It&apos;s interesting.. Literals are decoded like below.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&apos;aaa\%&apos;&lt;/span&gt; --&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;aaa\%&apos;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&apos;aaa\\%&apos;&lt;/span&gt; --&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;aaa\%&apos;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&apos;aaa\\\%&apos;&lt;/span&gt; --&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;aaa\\%&apos;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&apos;aaa\\\\%&apos;&lt;/span&gt; --&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;aaa\\%&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Basically all literals are escaped in SemanticAnalyzer. So other entities like &apos;UDFLike&apos; might not have to try escape, IMHO. But BaseSemanticAnalyzer#unescapeSQLString keeps preceding back slash as-is in some cases like &apos;bs%&apos; or &apos;bs_&apos; which make impossible to identify whether it(=bs) is a escape or a character. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Dec 2011 07:19:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217612</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2595] add a table level property which does not let the table or any of its partitions to be dropped</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2595</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The current approach:&lt;/p&gt;


&lt;p&gt;alter table &amp;lt;TBL&amp;gt; enable no_drop;&lt;/p&gt;

&lt;p&gt;does not prevent the partitions from being dropped.&lt;br/&gt;
This new property should prevent both the table and any of its partitions (current, future) from getting dropped.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531880">HIVE-2595</key>
            <summary>add a table level property which does not let the table or any of its partitions to be dropped</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Nov 2011 01:13:09 +0000</created>
                <updated>Fri, 14 Sep 2012 18:24:52 +0000</updated>
                            <resolved>Fri, 14 Sep 2012 18:24:52 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13283871" author="appodictic" created="Sat, 26 May 2012 01:49:00 +0000"  >&lt;p&gt;@Namit dont we have this now?&lt;/p&gt;</comment>
                            <comment id="13456006" author="kevinwilfong" created="Fri, 14 Sep 2012 18:24:33 +0000"  >&lt;p&gt;I think this is&lt;br/&gt;
ALTER TABLE &amp;lt;TBL&amp;gt; ENABLE NO_DROP CASCADE&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 26 May 2012 01:49:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217616</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 19 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2596] Ignore values in hive-default.xml</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2596</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Users are not supposed to modify the values in hive-default.xml. &lt;br/&gt;
Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; title=&quot;Ensure HiveConf includes all properties defined in hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2196&quot;&gt;&lt;del&gt;HIVE-2196&lt;/del&gt;&lt;/a&gt; has been committed, we should modify HiveConf&lt;br/&gt;
so that it ignores hive-default.xml and only uses the values set&lt;br/&gt;
in hive-site.xml.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531884">HIVE-2596</key>
            <summary>Ignore values in hive-default.xml</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Nov 2011 03:21:34 +0000</created>
                <updated>Sat, 17 Dec 2011 00:21:31 +0000</updated>
                            <resolved>Sat, 17 Dec 2011 00:21:31 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13152636" author="ashutoshc" created="Fri, 18 Nov 2011 04:24:05 +0000"  >&lt;p&gt;+1 this is a good idea. This will help reducing the confusion.&lt;/p&gt;</comment>
                            <comment id="13171350" author="cwsteinbach" created="Sat, 17 Dec 2011 00:21:31 +0000"  >&lt;p&gt;A fix for this ticket was rolled into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2643&quot; title=&quot;Recent patch prevents Hadoop confs from loading in 0.20.204&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2643&quot;&gt;&lt;del&gt;HIVE-2643&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12509259">HIVE-2196</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12504578" name="HIVE-2596.1.patch.txt" size="6220" author="cwsteinbach" created="Mon, 21 Nov 2011 21:59:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Nov 2011 04:24:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2597] Repeated key in GROUP BY is erroneously displayed when using DISTINCT</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2597</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following query was simplified for illustration purposes. &lt;/p&gt;

&lt;p&gt;This works correctly:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; client_tid, &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; myvalue1, &quot;&lt;/span&gt;&quot; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; myvalue2 &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; clients &lt;span class=&quot;code-keyword&quot;&gt;cluster&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; client_tid
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The intent here is to produce two empty columns in between data.&lt;/p&gt;

&lt;p&gt;The following query does not work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; client_tid, &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; myvalue1, &quot;&lt;/span&gt;&quot; &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; myvalue2 &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; clients &lt;span class=&quot;code-keyword&quot;&gt;cluster&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; client_tid
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FAILED: Error in semantic analysis: Line 1:44 Repeated key in GROUP BY &quot;&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The key is not repeated since the aliases were given. Seems like Hive is ignoring the aliases when the &quot;distinct&quot; keyword is specified.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531992">HIVE-2597</key>
            <summary>Repeated key in GROUP BY is erroneously displayed when using DISTINCT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="arov">Alex Rovner</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Nov 2011 20:06:27 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:59 +0000</updated>
                            <resolved>Mon, 30 Jun 2014 15:22:44 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13184371" author="arov" created="Wed, 11 Jan 2012 20:43:17 +0000"  >&lt;p&gt;Anyone looking at this issue?&lt;/p&gt;</comment>
                            <comment id="13588102" author="phabricator@reviews.facebook.net" created="Wed, 27 Feb 2013 08:09:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2597&quot; title=&quot;Repeated key in GROUP BY is erroneously displayed when using DISTINCT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2597&quot;&gt;&lt;del&gt;HIVE-2597&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Repeated key in GROUP BY is erroneously displayed when using DISTINCT&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2597&quot; title=&quot;Repeated key in GROUP BY is erroneously displayed when using DISTINCT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2597&quot;&gt;&lt;del&gt;HIVE-2597&lt;/del&gt;&lt;/a&gt; Repeated key in GROUP BY is erroneously displayed when using DISTINCT&lt;/p&gt;

&lt;p&gt;The following query was simplified for illustration purposes.&lt;/p&gt;

&lt;p&gt;This works correctly:&lt;br/&gt;
select client_tid, &quot;&quot; as myvalue1, &quot;&quot; as myvalue2 from clients cluster by client_tid&lt;/p&gt;

&lt;p&gt;The intent here is to produce two empty columns in between data.&lt;/p&gt;

&lt;p&gt;The following query does not work:&lt;br/&gt;
select distinct client_tid, &quot;&quot; as myvalue1, &quot;&quot; as myvalue2 from clients cluster by client_tid&lt;/p&gt;

&lt;p&gt;FAILED: Error in semantic analysis: Line 1:44 Repeated key in GROUP BY &quot;&quot;&lt;/p&gt;

&lt;p&gt;The key is not repeated since the aliases were given. Seems like Hive is ignoring the aliases when the &quot;distinct&quot; keyword is specified.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8967&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8967&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_constant.q&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_constant.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/21711/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/21711/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13589407" author="namit" created="Thu, 28 Feb 2013 10:13:02 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13589410" author="phabricator@reviews.facebook.net" created="Thu, 28 Feb 2013 10:15:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2597&quot; title=&quot;Repeated key in GROUP BY is erroneously displayed when using DISTINCT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2597&quot;&gt;&lt;del&gt;HIVE-2597&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Repeated key in GROUP BY is erroneously displayed when using DISTINCT&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_constant.q:1 can you add the test you had in the description&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:2749 spelling&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:2961 spelling&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:3643 spell&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8967&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8967&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13596709" author="phabricator@reviews.facebook.net" created="Fri, 8 Mar 2013 02:20:12 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2597&quot; title=&quot;Repeated key in GROUP BY is erroneously displayed when using DISTINCT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2597&quot;&gt;&lt;del&gt;HIVE-2597&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Repeated key in GROUP BY is erroneously displayed when using DISTINCT&quot;.&lt;/p&gt;

&lt;p&gt;  Rebased to trunk &amp;amp; Addressed comments&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8967&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8967&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8967?vs=28755&amp;amp;id=29421#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8967?vs=28755&amp;amp;id=29421#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_constant.q&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_constant.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13624484" author="phabricator@reviews.facebook.net" created="Sat, 6 Apr 2013 20:19:13 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2597&quot; title=&quot;Repeated key in GROUP BY is erroneously displayed when using DISTINCT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2597&quot;&gt;&lt;del&gt;HIVE-2597&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Repeated key in GROUP BY is erroneously displayed when using DISTINCT&quot;.&lt;/p&gt;

&lt;p&gt;  +1 will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D8967&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8967&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2597&quot; title=&quot;Repeated key in GROUP BY is erroneously displayed when using DISTINCT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2597&quot;&gt;&lt;del&gt;HIVE-2597&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13624729" author="ashutoshc" created="Sun, 7 Apr 2013 05:30:31 +0000"  >&lt;p&gt;Patch is resulting in tons of test failures. &lt;/p&gt;</comment>
                            <comment id="14040900" author="hiveqa" created="Mon, 23 Jun 2014 16:06:17 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651945/HIVE-2597.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651945/HIVE-2597.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 17 failed/errored test(s), 5670 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_ppd_key_range
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby1
org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby4
org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby5
org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby6
org.apache.hadoop.hive.ql.parse.TestParse.testParse_join1
org.apache.hadoop.hive.ql.parse.TestParse.testParse_join2
org.apache.hadoop.hive.ql.parse.TestParse.testParse_join3
org.apache.hadoop.hive.ql.parse.TestParse.testParse_join4
org.apache.hadoop.hive.ql.parse.TestParse.testParse_join5
org.apache.hadoop.hive.ql.parse.TestParse.testParse_join6
org.apache.hadoop.hive.ql.parse.TestParse.testParse_join7
org.apache.hadoop.hive.ql.parse.TestParse.testParse_join8
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/568/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/568/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/568/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/568/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-568/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-568/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 17 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651945&lt;/p&gt;</comment>
                            <comment id="14041532" author="navis" created="Tue, 24 Jun 2014 00:46:04 +0000"  >&lt;p&gt;Updated XML results&lt;/p&gt;</comment>
                            <comment id="14041669" author="hiveqa" created="Tue, 24 Jun 2014 04:27:57 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12652100/HIVE-2597.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12652100/HIVE-2597.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5655 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/570/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/570/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/570/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/570/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-570/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-570/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12652100&lt;/p&gt;</comment>
                            <comment id="14042933" author="navis" created="Wed, 25 Jun 2014 01:29:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; Could you review this?&lt;/p&gt;</comment>
                            <comment id="14047414" author="ashutoshc" created="Mon, 30 Jun 2014 06:13:55 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14047746" author="ashutoshc" created="Mon, 30 Jun 2014 15:22:44 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="14211073" author="thejas" created="Thu, 13 Nov 2014 19:43:59 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12651945" name="HIVE-2597.3.patch.txt" size="15871" author="navis" created="Mon, 23 Jun 2014 08:22:19 +0000"/>
                            <attachment id="12652100" name="HIVE-2597.4.patch.txt" size="44957" author="navis" created="Tue, 24 Jun 2014 00:46:04 +0000"/>
                            <attachment id="12571160" name="HIVE-2597.D8967.1.patch" size="32656" author="phabricator@reviews.facebook.net" created="Wed, 27 Feb 2013 08:09:12 +0000"/>
                            <attachment id="12572679" name="HIVE-2597.D8967.2.patch" size="37654" author="phabricator@reviews.facebook.net" created="Fri, 8 Mar 2013 02:20:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Feb 2013 08:09:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2598] Update README.txt file to use description from wiki</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2598</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12532004">HIVE-2598</key>
            <summary>Update README.txt file to use description from wiki</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Nov 2011 22:04:39 +0000</created>
                <updated>Fri, 16 Dec 2011 23:55:48 +0000</updated>
                            <resolved>Fri, 18 Nov 2011 22:23:26 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13153178" author="jiraposter@reviews.apache.org" created="Fri, 18 Nov 2011 22:18:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2881/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2881/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and John Sichi.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Update README.txt&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2598&quot; title=&quot;Update README.txt file to use description from wiki&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2598&quot;&gt;&lt;del&gt;HIVE-2598&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2598&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2598&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  README.txt 7d00f56 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2881/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2881/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Carl&lt;/p&gt;
</comment>
                            <comment id="13153183" author="jvs" created="Fri, 18 Nov 2011 22:23:26 +0000"  >&lt;p&gt;Committed to 0.8 and trunk.  Thanks Carl!&lt;/p&gt;</comment>
                            <comment id="13153399" author="hudson" created="Sat, 19 Nov 2011 05:54:40 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1098 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1098/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1098/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2598&quot; title=&quot;Update README.txt file to use description from wiki&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2598&quot;&gt;&lt;del&gt;HIVE-2598&lt;/del&gt;&lt;/a&gt;. Update README.txt file to use description from wiki&lt;br/&gt;
(Carl Steinbach via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203885&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203885&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/README.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13153416" author="hudson" created="Sat, 19 Nov 2011 07:08:09 +0000"  >&lt;p&gt;Integrated in Hive-0.8.0-SNAPSHOT-h0.21 #103 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/103/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/103/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2598&quot; title=&quot;Update README.txt file to use description from wiki&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2598&quot;&gt;&lt;del&gt;HIVE-2598&lt;/del&gt;&lt;/a&gt;. Update README.txt file to use description from wiki&lt;br/&gt;
(Carl Steinbach via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203886&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203886&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.8/README.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12504276" name="HIVE-2598.1.patch.txt" size="1821" author="cwsteinbach" created="Fri, 18 Nov 2011 22:16:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Nov 2011 22:18:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124009</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2599] Support Composit/Compound Keys with HBaseStorageHandler</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2599</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be really nice for hive to be able to understand composite keys from an underlying HBase schema. Currently we have to store key fields twice to be able to both key and make data available. I noticed John Sichi mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1228&quot; title=&quot;allow HBase key column to be anywhere in Hive table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1228&quot;&gt;&lt;del&gt;HIVE-1228&lt;/del&gt;&lt;/a&gt; that this would be a separate issue but I cant find any follow up. How feasible is this in the HBaseStorageHandler?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12532034">HIVE-2599</key>
            <summary>Support Composit/Compound Keys with HBaseStorageHandler</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="swarnim">Swarnim Kulkarni</assignee>
                                    <reporter username="huhlig">Hans Uhlig</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 Nov 2011 04:43:34 +0000</created>
                <updated>Mon, 8 Jun 2015 06:44:53 +0000</updated>
                            <resolved>Tue, 7 Jan 2014 16:36:23 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>18</watches>
                                                                <comments>
                            <comment id="13422237" author="swarnim" created="Wed, 25 Jul 2012 13:20:10 +0000"  >&lt;p&gt;If your composite keys are delimited by a separator, here is a possible way to query them in hive:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE EXTERNAL TABLE hbase_table_1(key struct&amp;lt;a:string,b:string,c:string&amp;gt;, value string) 
ROW FORMAT DELIMITED
COLLECTION ITEMS TERMINATED BY &apos;~&apos;
STORED BY &apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;
WITH SERDEPROPERTIES (&quot;hbase.columns.mapping&quot; = &quot;:key,test-family:test-qual&quot;)
TBLPROPERTIES (&quot;hbase.table.name&quot; = &quot;SIMPLE_TABLE&quot;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Basically what this means is that the composite key here should be mapped to a struct and we specifying that the keys in the composite key are separated by a &quot;~&quot;. After doing this, querying for the individual keys in the composite keys should be as simple as:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select key.a,key.b,key.c from hbase_table_1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13422361" author="huhlig" created="Wed, 25 Jul 2012 15:46:53 +0000"  >&lt;p&gt;Do I need to do this for all fields then? Any suggestions for binary?&lt;/p&gt;</comment>
                            <comment id="13422396" author="swarnim" created="Wed, 25 Jul 2012 16:41:03 +0000"  >&lt;p&gt;For all parts of your key? yes. For binary, using &quot;:key#b&quot; in the columns mapping should work. &lt;/p&gt;</comment>
                            <comment id="13441264" author="huhlig" created="Fri, 24 Aug 2012 15:56:00 +0000"  >&lt;p&gt;Is this something that can work with the Avro Key/Value Schema?&lt;/p&gt;</comment>
                            <comment id="13500718" author="swarnim" created="Mon, 19 Nov 2012 23:07:29 +0000"  >&lt;p&gt;The option mentioned in the first comment should work for cases where the parts of the composite key are separated by a separator. &lt;/p&gt;

&lt;p&gt;If this is not the case, the attached patch add a new class &quot;HBaseCompositeKey extends LazyStruct&quot;. Consumers can choose to provide their own implementation on how exactly do they want hive to analyze their composite key. See &quot;HBaseTestCompositeKey&quot; for an example implementation.&lt;/p&gt;</comment>
                            <comment id="13722090" author="swarnim" created="Mon, 29 Jul 2013 00:32:06 +0000"  >&lt;p&gt;Rebased with master to get a clean patch. If a committer gets a chance to review this, that would be awesome! Thanks!&lt;/p&gt;</comment>
                            <comment id="13722091" author="swarnim" created="Mon, 29 Jul 2013 00:39:37 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/13007/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/13007/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13722112" author="hiveqa" created="Mon, 29 Jul 2013 02:05:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594616/HIVE-2599.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594616/HIVE-2599.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2737 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hcatalog.pig.TestHCatStorer.testMultiPartColsInData
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/219/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/219/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/219/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/219/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13723854" author="swarnim" created="Tue, 30 Jul 2013 13:34:13 +0000"  >&lt;p&gt;Looking at the test failure, it doesn&apos;t look like it is related to this. The failed test is neither related to HBase nor is using structs in its DDL. Please let me know if I am missing something and I can dig deeper.&lt;/p&gt;</comment>
                            <comment id="13737401" author="swarnim" created="Mon, 12 Aug 2013 21:49:32 +0000"  >&lt;p&gt;This should be ready for review. If someone has a chance to take a look, that will be great!&lt;/p&gt;</comment>
                            <comment id="13737688" author="hiveqa" created="Tue, 13 Aug 2013 01:32:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12597571/HIVE-2599.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12597571/HIVE-2599.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2850 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/408/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/408/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/408/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/408/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13746743" author="swarnim" created="Wed, 21 Aug 2013 19:20:20 +0000"  >&lt;p&gt;This patch has been available for quite sometime and also passes all tests on Hive QA. If someone gets a chance to review this, I will really appreciate that.&lt;/p&gt;</comment>
                            <comment id="13797506" author="ndimiduk" created="Thu, 17 Oct 2013 01:14:27 +0000"  >&lt;p&gt;Hi Swarnim,&lt;/p&gt;

&lt;p&gt;Would you mind taking a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8693&quot; title=&quot;DataType: provide extensible type API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8693&quot;&gt;&lt;del&gt;HBASE-8693&lt;/del&gt;&lt;/a&gt;? Specifically, HBase now provides a Struct for defining compound keys, with support for composition using both field-width and delimiter-based separation. It would be great to get these type encoders supported as first-class citizens for bridging the gap between Hive and HBase.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Nick&lt;/p&gt;</comment>
                            <comment id="13861705" author="brocknoland" created="Fri, 3 Jan 2014 17:44:40 +0000"  >&lt;p&gt;Hi Swarnim,&lt;/p&gt;

&lt;p&gt;This looks pretty good!  Am I correct that the patch takes care of both selects and inserts?&lt;/p&gt;

&lt;p&gt;Hi Nick,&lt;/p&gt;

&lt;p&gt;Do you have a simple example?&lt;/p&gt;

&lt;p&gt;Brock&lt;/p&gt;</comment>
                            <comment id="13861727" author="swarnim" created="Fri, 3 Jan 2014 18:08:10 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Am I correct that the patch takes care of both selects and inserts?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Unfortunately no. This one would allow to querying of custom composite keys but currently doesn&apos;t support writing them back to HBase. Do you want me to include that support as a part of this patch itself or open up a separate issue for that?&lt;/p&gt;</comment>
                            <comment id="13861736" author="brocknoland" created="Fri, 3 Jan 2014 18:16:46 +0000"  >&lt;p&gt;What happens if an insert is tried?  We can address that in a follow on JIRA as long as the results of an insert aren&apos;t data corruption or a terrible error message.&lt;/p&gt;</comment>
                            <comment id="13861802" author="ndimiduk" created="Fri, 3 Jan 2014 19:13:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do you have a simple example?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The best documentation available is still in the &lt;a href=&quot;https://github.com/apache/hbase/blob/trunk/hbase-common/src/test/java/org/apache/hadoop/hbase/types/TestStruct.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;unit tests&lt;/a&gt;. I will do a proper writeup of using this feature, it&apos;s just not a priority for me as of late.&lt;/p&gt;</comment>
                            <comment id="13861808" author="brocknoland" created="Fri, 3 Jan 2014 19:17:05 +0000"  >&lt;p&gt;Cool, sounds good. I think we can address this in a follow on JIRA since Swarnim has a working patch here for a common use case.&lt;/p&gt;</comment>
                            <comment id="13861998" author="hiveqa" created="Fri, 3 Jan 2014 23:03:09 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12597571/HIVE-2599.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12597571/HIVE-2599.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/800/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/800/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/800/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/800/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-800/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;ql/src/test/results/clientnegative/exchange_partition_neg_partition_exists2.q.out&apos;
Reverted &apos;ql/src/test/results/clientnegative/exchange_partition_neg_partition_exists.q.out&apos;
Reverted &apos;ql/src/test/results/clientnegative/exchange_partition_neg_partition_exists3.q.out&apos;
Reverted &apos;ql/src/test/results/clientnegative/exchange_partition_neg_incomplete_partition.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/exchange_partition3.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/exchange_partition.q.out&apos;
Reverted &apos;ql/src/test/results/clientpositive/exchange_partition2.q.out&apos;
Reverted &apos;ql/src/test/queries/clientnegative/exchange_partition_neg_incomplete_partition.q&apos;
Reverted &apos;ql/src/test/queries/clientnegative/exchange_partition_neg_partition_exists2.q&apos;
Reverted &apos;ql/src/test/queries/clientnegative/exchange_partition_neg_partition_exists3.q&apos;
Reverted &apos;ql/src/test/queries/clientnegative/exchange_partition_neg_partition_missing.q&apos;
Reverted &apos;ql/src/test/queries/clientnegative/exchange_partition_neg_partition_exists.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/exchange_partition.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/exchange_partition2.q&apos;
Reverted &apos;ql/src/test/queries/clientpositive/exchange_partition3.q&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1555274.

At revision 1555274.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12597571&lt;/p&gt;</comment>
                            <comment id="13862231" author="swarnim" created="Sat, 4 Jan 2014 07:12:09 +0000"  >&lt;p&gt;Attached is the latest patch rebased with the master. The patch should apply cleanly now.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; On your question about inserts, I think I might have misunderstood you a little bit. I ran the following queries to test inserts on composite keys and was able to do it successfully.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE EXTERNAL TABLE test_table_1(key struct&amp;lt;personId:string,value:string&amp;gt;, data string) 
ROW FORMAT SERDE &apos;org.apache.hadoop.hive.hbase.HBaseSerDe&apos; 
STORED BY &apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos; 
WITH SERDEPROPERTIES (&quot;hbase.columns.mapping&quot; = &quot;:key,cf:value) 
TBLPROPERTIES (&quot;hbase.table.name&quot; = &quot;hbase_test_table_1&quot;,&quot;hbase.composite.key.class&quot;=&quot;com.test.hive.TestHBaseCompositeKey&quot;)

select * from test_table_1;

{&quot;personid&quot;:&quot;person1&quot;,&quot;value&quot;:&quot;value1&quot;}	1385435417948
{&quot;personid&quot;:&quot;person2&quot;,&quot;value&quot;:&quot;value2&quot;}	1386691798261
{&quot;personid&quot;:&quot;person3&quot;,&quot;value&quot;:&quot;value3&quot;}	1387481795304
{&quot;personid&quot;:&quot;person4&quot;,&quot;value&quot;:&quot;value4&quot;}	1386705359123
{&quot;personid&quot;:&quot;person5&quot;,&quot;value&quot;:&quot;value5&quot;}	1386972894836
......

CREATE TABLE test_table_2(key struct&amp;lt;personId:string,value:string&amp;gt;, value string) 
ROW FORMAT SERDE &apos;org.apache.hadoop.hive.hbase.HBaseSerDe&apos;
STORED BY &apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;
WITH SERDEPROPERTIES (&quot;hbase.columns.mapping&quot; = &quot;:key,cf1:val&quot;)
TBLPROPERTIES (&quot;hbase.table.name&quot; = &quot;hbase_test_table_2&quot;);

INSERT OVERWRITE TABLE test_table_2 select key,data from test_table_1;
14/01/04 00:32:33 INFO ql.Driver: Launching Job 1 out of 1
14/01/04 00:32:58 INFO exec.Task: 2014-01-04 00:32:58,720 Stage-0 map = 0%,  reduce = 0%
....
2014-01-04 00:33:29,930 Stage-0 map = 100%,  reduce = 100%, Cumulative CPU 5.48 sec

select * from test_table_2;

{&quot;personid&quot;:&quot;person1&quot;,&quot;value&quot;:&quot;value1&quot;}	1385435417948
{&quot;personid&quot;:&quot;person2&quot;,&quot;value&quot;:&quot;value2&quot;}	1386691798261
{&quot;personid&quot;:&quot;person3&quot;,&quot;value&quot;:&quot;value3&quot;}	1387481795304
{&quot;personid&quot;:&quot;person4&quot;,&quot;value&quot;:&quot;value4&quot;}	1386705359123
{&quot;personid&quot;:&quot;person5&quot;,&quot;value&quot;:&quot;value5&quot;}	1386972894836
......
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If this is what you meant, then yes the patch will handle both select and inserts. If not, then please let me know so that I will log a new bug and tackle it accordingly.&lt;/p&gt;</comment>
                            <comment id="13862233" author="swarnim" created="Sat, 4 Jan 2014 07:19:35 +0000"  >&lt;p&gt;As a side note, I also ran into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4515&quot; title=&quot;&amp;quot;select count(*) from table&amp;quot; query on hive-0.10.0, hbase-0.94.7 integration throws exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4515&quot;&gt;&lt;del&gt;HIVE-4515&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5680&quot; title=&quot;Hive writes to HBase table throws NullPointerException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5680&quot;&gt;&lt;del&gt;HIVE-5680&lt;/del&gt;&lt;/a&gt; while testing the master. Tackling those next...&lt;/p&gt;</comment>
                            <comment id="13862249" author="hiveqa" created="Sat, 4 Jan 2014 09:05:04 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12621458/HIVE-2599.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12621458/HIVE-2599.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4877 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/806/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/806/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/806/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/806/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12621458&lt;/p&gt;</comment>
                            <comment id="13863009" author="brocknoland" created="Mon, 6 Jan 2014 14:24:30 +0000"  >&lt;p&gt;Great to hear, it sounds like the composite key is working as desired &amp;#8211; both inserts and selects work as expected!&lt;/p&gt;

&lt;p&gt;The patch looks good to me as well!  The only change required I noticed is that the two new classes related to the composite keys require apache license headers. I can commit this after that change!&lt;/p&gt;</comment>
                            <comment id="13863122" author="ndimiduk" created="Mon, 6 Jan 2014 17:18:51 +0000"  >&lt;p&gt;After a cursory review, patch v3 looks good to me also. It should be trivial to extend these concepts to provide a LazyStructObjectInspector over the Strict/StructIterator types in HBase. Let me see about finding time to do so this week.&lt;/p&gt;</comment>
                            <comment id="13863202" author="swarnim" created="Mon, 6 Jan 2014 18:28:13 +0000"  >&lt;p&gt;Updated patch with apache license headers.&lt;/p&gt;</comment>
                            <comment id="13863353" author="hiveqa" created="Mon, 6 Jan 2014 20:12:26 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12621637/HIVE-2599.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12621637/HIVE-2599.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4877 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/812/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/812/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/812/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/812/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12621637&lt;/p&gt;</comment>
                            <comment id="13863380" author="brocknoland" created="Mon, 6 Jan 2014 20:38:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13863391" author="brocknoland" created="Mon, 6 Jan 2014 20:46:44 +0000"  >&lt;p&gt;I created &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6150&quot; title=&quot;Take advantage of Native HBase Compound keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6150&quot;&gt;HIVE-6150&lt;/a&gt; - Take advantage of Native HBase Compound keys&quot; for the changes to take advantage of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8693&quot; title=&quot;DataType: provide extensible type API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8693&quot;&gt;&lt;del&gt;HBASE-8693&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13864369" author="brocknoland" created="Tue, 7 Jan 2014 16:36:23 +0000"  >&lt;p&gt;I committed this to trunk! Thank you so much Swarnim for your contribution!&lt;/p&gt;</comment>
                            <comment id="13892839" author="navis" created="Thu, 6 Feb 2014 00:37:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; I&apos;m really late on this issue. Could I ask why LazySimpleStructObjectInspector started to make new List for getStructFieldsDataAsList()?&lt;/p&gt;</comment>
                            <comment id="13892894" author="navis" created="Thu, 6 Feb 2014 01:37:14 +0000"  >&lt;p&gt;I cannot understand the intention of this issue. Without this patch, &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; CREATE TABLE hbase_struct(key struct&amp;lt;col1:int,col2:int&amp;gt;, value string)
    &amp;gt; STORED BY &apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;
    &amp;gt; WITH SERDEPROPERTIES (&quot;hbase.columns.mapping&quot; = &quot;:key,cf:string&quot;);
...
hive&amp;gt; insert into table hbase_struct select struct(1000,2000),&apos;value&apos; from src tablesample (1 rows);
...
hive&amp;gt; select * from hbase_struct;      
{&quot;col1&quot;:1000,&quot;col2&quot;:2000}	value
hive&amp;gt; select key.col1,key.col2 from hbase_struct;
1000	2000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I can do anything with default LazyStruct and now it&apos;s making new Struct and using it. Is it for controlling wire-format on hbase rathe than default json serialization?&lt;/p&gt;</comment>
                            <comment id="13892996" author="swarnim" created="Thu, 6 Feb 2014 03:47:06 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Could I ask why LazySimpleStructObjectInspector started to make new List for getStructFieldsDataAsList()?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Basically a bit of testing convenience on my side. Also tried to make the implementation here similar to some of the existing ObjectInspectors&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. It tried my best to ensure that this passed all existing tests and also wasn&apos;t violating any obvious contracts on the class. Did I miss something?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I cannot understand the intention of this issue.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You are correct in the sense that a basic struct doesn&apos;t need a custom HBaseCompositeKey implementation(also refer to my first comment on this JIRA for another example). But there are increasing number of cases where custom and more complicated serializers are written to serialize the keys in a more efficient way (salting is such an example). For such serializers, a custom HBaseCompositeKey implementation would help hive understand such complicated keys.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/hive/blob/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ReflectionStructObjectInspector.java#L174&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ReflectionStructObjectInspector.java#L174&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/hive/blob/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/UnionStructObjectInspector.java#L153&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/UnionStructObjectInspector.java#L153&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13893465" author="brocknoland" created="Thu, 6 Feb 2014 15:53:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;But there are increasing number of cases where custom and more complicated serializers are written to serialize the keys in a more efficient way (salting is such an example)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve seen this as well. That is where a simple struct cannot deserialize a key.&lt;/p&gt;</comment>
                            <comment id="14576667" author="lefty@hortonworks.com" created="Mon, 8 Jun 2015 06:44:35 +0000"  >&lt;p&gt;Doc note:  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amains12&quot; class=&quot;user-hover&quot; rel=&quot;amains12&quot;&gt;Andrew Mains&lt;/a&gt; documented this in the HBase Integration wikidoc, so I&apos;m removing the TODOC13 label.  Thanks Andrew!&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HBaseIntegration#HBaseIntegration-SimpleCompositeRowKeys&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HBase Integration &amp;#8211; Simple Composite Row Keys &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12615170">HIVE-3684</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12694670">HIVE-6411</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12687518">HIVE-6150</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12554253" name="HIVE-2599.1.patch.txt" size="19830" author="swarnim" created="Mon, 19 Nov 2012 23:07:29 +0000"/>
                            <attachment id="12597571" name="HIVE-2599.2.patch.txt" size="19221" author="swarnim" created="Mon, 12 Aug 2013 21:48:55 +0000"/>
                            <attachment id="12594616" name="HIVE-2599.2.patch.txt" size="19221" author="swarnim" created="Mon, 29 Jul 2013 00:32:06 +0000"/>
                            <attachment id="12621458" name="HIVE-2599.3.patch.txt" size="19712" author="swarnim" created="Sat, 4 Jan 2014 07:12:51 +0000"/>
                            <attachment id="12621637" name="HIVE-2599.4.patch.txt" size="21835" author="swarnim" created="Mon, 6 Jan 2014 18:28:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Jul 2012 13:20:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217770</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i014vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4561</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2600] Enable/Add type-specific compression for rcfile</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2600</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Enable schema-aware compression codecs which can perform type-specific compression on a per-column basis. I see this as in three-parts&lt;/p&gt;

&lt;p&gt;1. Add interfaces for the rcfile to communicate column information to the codec&lt;/p&gt;

&lt;p&gt;2. Add an &quot;uber compressor&quot; which can perform column-specific compression on a per-block basis. Initially, this can be config driven, but we can go for a dynamic implementation later.&lt;/p&gt;

&lt;p&gt;3. A bunch of type-specific compressors&lt;/p&gt;

&lt;p&gt;This jira is for the first part of the effort.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12532112">HIVE-2600</key>
            <summary>Enable/Add type-specific compression for rcfile</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12503539">HIVE-2097</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="n_krishna_kumar">Krishna Kumar</assignee>
                                    <reporter username="n_krishna_kumar">Krishna Kumar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Nov 2011 05:44:04 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:15 +0000</updated>
                            <resolved>Sat, 24 Dec 2011 21:43:39 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Query Processor</component>
                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13154000" author="n_krishna_kumar" created="Mon, 21 Nov 2011 05:54:57 +0000"  >&lt;p&gt;Added two interfaces and invocations at appropriate places&lt;/p&gt;</comment>
                            <comment id="13154295" author="ashutoshc" created="Mon, 21 Nov 2011 17:02:23 +0000"  >&lt;p&gt;Do you envision it to be used only for intermediate data between map and reduce or is it for end user data also?&lt;/p&gt;</comment>
                            <comment id="13155228" author="n_krishna_kumar" created="Tue, 22 Nov 2011 16:11:38 +0000"  >&lt;p&gt;This should be usable for any rcfile data. I am looking at end user data storage optimizations only. I will post the code for the uber codec/serde in a day or two which will enable column-specific selection of compression mechanisms.&lt;/p&gt;</comment>
                            <comment id="13156006" author="n_krishna_kumar" created="Wed, 23 Nov 2011 18:01:18 +0000"  >&lt;p&gt;Added the code for uber codec/serde to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2604&quot; title=&quot;Add UberCompressor Serde/Codec to contrib which allows per-column compression strategies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2604&quot;&gt;HIVE-2604&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13158968" author="he yongqiang" created="Tue, 29 Nov 2011 00:25:20 +0000"  >&lt;p&gt;The code changes look good. Just one small question: where is the input information that is used to choose the column specific decompressor stored? In file or in hive metastore? I think both are fine for hive, but i am not sure about other components, like hcatalog etc.&lt;/p&gt;
</comment>
                            <comment id="13159120" author="n_krishna_kumar" created="Tue, 29 Nov 2011 06:45:40 +0000"  >&lt;p&gt;Added logging to report every column&apos;s total lengths.&lt;/p&gt;</comment>
                            <comment id="13159122" author="n_krishna_kumar" created="Tue, 29 Nov 2011 06:48:51 +0000"  >&lt;p&gt;I have chosen to record that information in the file itself. Each block has a header which contains the type/compression mechanism used for the decoder to process. The reader needs no extra information to process the file. This also allows us to dynamically choose the compression mechanism on a per-block basis in the future.&lt;/p&gt;</comment>
                            <comment id="13159438" author="he yongqiang" created="Tue, 29 Nov 2011 18:45:05 +0000"  >&lt;p&gt;That sounds good. but i did not find the code change to store/parse the block header.&lt;/p&gt;</comment>
                            <comment id="13159734" author="n_krishna_kumar" created="Wed, 30 Nov 2011 01:39:08 +0000"  >&lt;p&gt;That is part of the compression codec code itself, isn&apos;t it? That code (a draft version of it) is attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2604&quot; title=&quot;Add UberCompressor Serde/Codec to contrib which allows per-column compression strategies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2604&quot;&gt;HIVE-2604&lt;/a&gt;. When I said block above, I meant a block of column values, which is passed to the codec.&lt;/p&gt;</comment>
                            <comment id="13159817" author="he yongqiang" created="Wed, 30 Nov 2011 04:44:09 +0000"  >&lt;p&gt;I see. where can&apos;t we store there in the file header? is the compression codec for a specific column fixed for a whole table/partition? If that is the case, we can just store those information in file header, right? That will help us debug things.&lt;/p&gt;</comment>
                            <comment id="13160673" author="cwsteinbach" created="Thu, 1 Dec 2011 06:17:23 +0000"  >&lt;p&gt;My understanding from looking at the code is that RCFile currently stores all columns as strings regardless of the underlying column type, e.g. a FLOAT column with values 1.0, 2.2, and 3.33 will be serialized in the column value buffer as &quot;1.02.23.33&quot;. Assuming this is correct, I&apos;m wondering if there&apos;s really much advantage to specifying the compression codec at the column level since all columns are fundamentally strings?&lt;/p&gt;</comment>
                            <comment id="13162705" author="n_krishna_kumar" created="Mon, 5 Dec 2011 10:07:20 +0000"  >&lt;p&gt;He Yongqiang,&lt;/p&gt;

&lt;p&gt;  In UberCompressor, I have gone with the decision that the mechanism can change on a per-block basis. So the file as a whole will declare the compression codec as &quot;UberCompressionCodec&quot; in the file header, and each column block will indicate the mechanism used for that block.&lt;/p&gt;

&lt;p&gt;Carl,&lt;/p&gt;

&lt;p&gt;  ColumnarSerde serializes all types as strings. Other Serdes can serialize the bytes as they wish. With 2604, I have added a dummy serde called UberCompressorSerde which is used to serialize the objects into bytes (BytesRefArrayWritable), the codec then can recover the objects which can then be fed to type-specific compressors. &lt;/p&gt;

&lt;p&gt;Just to make sure we are on the same page, please note that both the above points relate to a specific implementation of a schema-aware compressor. This jira in itself only introduces the interface, and the invocations of that interface. I&apos;d like move any threads of implementation discussions to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2604&quot; title=&quot;Add UberCompressor Serde/Codec to contrib which allows per-column compression strategies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2604&quot;&gt;HIVE-2604&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13162960" author="he yongqiang" created="Mon, 5 Dec 2011 19:07:32 +0000"  >&lt;p&gt;Sure, we can go ahead committing this patch and move discussion to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2604&quot; title=&quot;Add UberCompressor Serde/Codec to contrib which allows per-column compression strategies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2604&quot;&gt;HIVE-2604&lt;/a&gt;. Carl, what do u think?&lt;/p&gt;</comment>
                            <comment id="13163090" author="cwsteinbach" created="Mon, 5 Dec 2011 22:05:46 +0000"  >&lt;p&gt;@Krishna: Please post this patch to reviewboard. Thanks.&lt;/p&gt;</comment>
                            <comment id="13164262" author="jiraposter@reviews.apache.org" created="Wed, 7 Dec 2011 10:06:39 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3051/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3051/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Introduces interfaces for schema-aware codecs. Actual implementations not part of this patch. One specific implementation will be added by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2604&quot; title=&quot;Add UberCompressor Serde/Codec to contrib which allows per-column compression strategies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2604&quot;&gt;HIVE-2604&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2600&quot; title=&quot;Enable/Add type-specific compression for rcfile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2600&quot;&gt;&lt;del&gt;HIVE-2600&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2600&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2600&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionInputStream.java PRE-CREATION &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionOutputStream.java PRE-CREATION &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java b15fdb8 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3051/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3051/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Krishna&lt;/p&gt;
</comment>
                            <comment id="13174964" author="he yongqiang" created="Thu, 22 Dec 2011 18:53:11 +0000"  >&lt;p&gt;Krishna, can u update the review board with arc? see &lt;a href=&quot;https://cwiki.apache.org/Hive/phabricatorcodereview.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/phabricatorcodereview.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;i will test and commit&lt;/p&gt;</comment>
                            <comment id="13175404" author="phabricator@reviews.facebook.net" created="Fri, 23 Dec 2011 12:32:30 +0000"  >&lt;p&gt;krishnakumar requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2600&quot; title=&quot;Enable/Add type-specific compression for rcfile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2600&quot;&gt;&lt;del&gt;HIVE-2600&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable/Add type-specific compression for rcfile&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  adding schema-aware compression codec interfaces&lt;/p&gt;

&lt;p&gt;  Enable schema-aware compression codecs which can perform type-specific compression on a per-column basis. I see this as in three-parts&lt;/p&gt;

&lt;p&gt;  1. Add interfaces for the rcfile to communicate column information to the codec&lt;/p&gt;

&lt;p&gt;  2. Add an &quot;uber compressor&quot; which can perform column-specific compression on a per-block basis. Initially, this can be config driven, but we can go for a dynamic implementation later.&lt;/p&gt;

&lt;p&gt;  3. A bunch of type-specific compressors&lt;/p&gt;

&lt;p&gt;  This jira is for the first part of the effort.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1005&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1005&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionInputStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionOutputStream.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2103/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2103/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13175407" author="phabricator@reviews.facebook.net" created="Fri, 23 Dec 2011 12:48:30 +0000"  >&lt;p&gt;krishnakumar updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2600&quot; title=&quot;Enable/Add type-specific compression for rcfile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2600&quot;&gt;&lt;del&gt;HIVE-2600&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable/Add type-specific compression for rcfile&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Remove unnecessary imports&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1005&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1005&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionInputStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionOutputStream.java&lt;/p&gt;</comment>
                            <comment id="13175538" author="phabricator@reviews.facebook.net" created="Fri, 23 Dec 2011 18:54:30 +0000"  >&lt;p&gt;heyongqiang has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2600&quot; title=&quot;Enable/Add type-specific compression for rcfile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2600&quot;&gt;&lt;del&gt;HIVE-2600&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable/Add type-specific compression for rcfile&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java:1019 can u remove this, or try not to use Log.isInfoEnable()?&lt;/p&gt;

&lt;p&gt;  in other places, we have seen this method call is using a lot of cpu.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1005&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1005&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13175659" author="phabricator@reviews.facebook.net" created="Sat, 24 Dec 2011 04:36:30 +0000"  >&lt;p&gt;krishnakumar updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2600&quot; title=&quot;Enable/Add type-specific compression for rcfile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2600&quot;&gt;&lt;del&gt;HIVE-2600&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable/Add type-specific compression for rcfile&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Removed isInfoEnabled check. Anyway, that is done only once, at the close of the file.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1005&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1005&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionInputStream.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionOutputStream.java&lt;/p&gt;</comment>
                            <comment id="13175679" author="phabricator@reviews.facebook.net" created="Sat, 24 Dec 2011 06:26:30 +0000"  >&lt;p&gt;heyongqiang has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2600&quot; title=&quot;Enable/Add type-specific compression for rcfile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2600&quot;&gt;&lt;del&gt;HIVE-2600&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable/Add type-specific compression for rcfile&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1005&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1005&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13175774" author="he yongqiang" created="Sat, 24 Dec 2011 21:43:39 +0000"  >&lt;p&gt;committed, thanks Krishna Kumar!&lt;/p&gt;</comment>
                            <comment id="13175777" author="hudson" created="Sat, 24 Dec 2011 22:02:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #46 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/46/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/46/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2600&quot; title=&quot;Enable/Add type-specific compression for rcfile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2600&quot;&gt;&lt;del&gt;HIVE-2600&lt;/del&gt;&lt;/a&gt;: Enable/Add type-specific compression for rcfile (Krishna Kumar via He Yongqiang)&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1223025&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1223025&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionInputStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionOutputStream.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13175790" author="hudson" created="Sun, 25 Dec 2011 02:20:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1168 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1168/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1168/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2600&quot; title=&quot;Enable/Add type-specific compression for rcfile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2600&quot;&gt;&lt;del&gt;HIVE-2600&lt;/del&gt;&lt;/a&gt;: Enable/Add type-specific compression for rcfile (Krishna Kumar via He Yongqiang)&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1223025&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1223025&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionInputStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SchemaAwareCompressionOutputStream.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265234" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:15 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12508531" name="ASF.LICENSE.NOT.GRANTED--HIVE-2600.D1005.1.patch" size="6782" author="phabricator@reviews.facebook.net" created="Fri, 23 Dec 2011 12:32:31 +0000"/>
                            <attachment id="12508532" name="ASF.LICENSE.NOT.GRANTED--HIVE-2600.D1005.2.patch" size="6339" author="phabricator@reviews.facebook.net" created="Fri, 23 Dec 2011 12:48:31 +0000"/>
                            <attachment id="12508584" name="ASF.LICENSE.NOT.GRANTED--HIVE-2600.D1005.3.patch" size="6275" author="phabricator@reviews.facebook.net" created="Sat, 24 Dec 2011 04:36:31 +0000"/>
                            <attachment id="12504470" name="HIVE-2600.v0.patch" size="4765" author="n_krishna_kumar" created="Mon, 21 Nov 2011 05:54:57 +0000"/>
                            <attachment id="12505457" name="HIVE-2600.v1.patch" size="6596" author="n_krishna_kumar" created="Tue, 29 Nov 2011 06:45:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Nov 2011 17:02:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124010</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
