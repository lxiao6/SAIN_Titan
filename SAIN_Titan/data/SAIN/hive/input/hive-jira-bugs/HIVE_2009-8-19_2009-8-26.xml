<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:14:09 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2009-8-19+AND+created+%3C%3D+2009-8-26+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="31" total="31"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-766] use Thirft for serializing query plan</title>
                <link>https://issues.apache.org/jira/browse/HIVE-766</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, QueryPlan is serialized using custom code - this has a problem if the thrift interface changes.&lt;br/&gt;
Secondly, the deserialization has to be done on the client side - it would be good to use Thrift for serialization/deserialization&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433393">HIVE-766</key>
            <summary>use Thirft for serializing query plan</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2009 00:13:15 +0000</created>
                <updated>Thu, 20 Aug 2009 06:17:07 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12745319" author="zshao" created="Thu, 20 Aug 2009 06:17:07 +0000"  >&lt;p&gt;Note that this refers to QueryPlan that contains the counters (see ql/if for details). It does not refer to the plan.xml query plan.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12431874">HIVE-713</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Aug 2009 06:17:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42732</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08okv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48581</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-767] Task.execute should be asynchronous</title>
                <link>https://issues.apache.org/jira/browse/HIVE-767</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, other than ExecDriver, all other tasks are synchronous - this makes it impossible to track the progress of a task.&lt;br/&gt;
It would be good to follow the same model as ExecDriver, and make all tasks execute asynchronous&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433394">HIVE-767</key>
            <summary>Task.execute should be asynchronous</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2009 00:14:38 +0000</created>
                <updated>Wed, 19 Aug 2009 00:45:06 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12431874">HIVE-713</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42731</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08olb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48583</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-768] add configuration parameters to disable counters</title>
                <link>https://issues.apache.org/jira/browse/HIVE-768</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;All counters are enabled by default right now, which can have a performance hit - it would be good to enable them selectively.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433395">HIVE-768</key>
            <summary>add configuration parameters to disable counters</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2009 00:19:47 +0000</created>
                <updated>Thu, 31 Jan 2013 09:34:24 +0000</updated>
                            <resolved>Thu, 20 Aug 2009 19:59:51 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12744807" author="namit" created="Wed, 19 Aug 2009 00:46:02 +0000"  >&lt;p&gt;The counters need not be maintained by the SemanticAnalyzer at all&lt;/p&gt;</comment>
                            <comment id="12745549" author="zshao" created="Thu, 20 Aug 2009 18:32:02 +0000"  >&lt;p&gt;+1 Will test and commit.&lt;/p&gt;</comment>
                            <comment id="12745555" author="rsm" created="Thu, 20 Aug 2009 18:36:30 +0000"  >&lt;p&gt;looks good. shouldnt we add the option in hive-default.xml as well? &lt;/p&gt;</comment>
                            <comment id="12745601" author="zshao" created="Thu, 20 Aug 2009 19:59:51 +0000"  >&lt;p&gt;Committed. Thanks Namit!&lt;/p&gt;</comment>
                            <comment id="13564389" author="aadral" created="Mon, 28 Jan 2013 16:34:14 +0000"  >&lt;p&gt;I have found an issue: in case of DynamicPartitioning your option HIVEJOBPROGRESS will be overriden (ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java). Does it really necessary to update number of partitions?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12431874">HIVE-713</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12630100">HIVE-3966</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12417152" name="hive.768.1.patch" size="740119" author="namit" created="Thu, 20 Aug 2009 17:33:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Aug 2009 18:32:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122534</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-768&quot; title=&quot;add configuration parameters to disable counters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-768&quot;&gt;&lt;strike&gt;HIVE-768&lt;/strike&gt;&lt;/a&gt;. Add conf var to disable counters introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-713&quot; title=&quot;Integrate operator counters into query plan to view progress of queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-713&quot;&gt;&lt;strike&gt;HIVE-713&lt;/strike&gt;&lt;/a&gt;. (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-769] PartitionPruner checking is broken</title>
                <link>https://issues.apache.org/jira/browse/HIVE-769</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We need a new way of checking whether each of the partitioned table has a Partition Pruner condition.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433396">HIVE-769</key>
            <summary>PartitionPruner checking is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2009 00:37:24 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:13 +0000</updated>
                            <resolved>Thu, 20 Aug 2009 01:44:44 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12744858" author="zshao" created="Wed, 19 Aug 2009 03:31:00 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-769&quot; title=&quot;PartitionPruner checking is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-769&quot;&gt;&lt;del&gt;HIVE-769&lt;/del&gt;&lt;/a&gt;.1.patch: This should fix the problem.&lt;br/&gt;
Tests are not updated yet.&lt;/p&gt;</comment>
                            <comment id="12744864" author="zshao" created="Wed, 19 Aug 2009 03:52:52 +0000"  >&lt;p&gt;For the change in SemanticAnalyzer.initialize, I should have done it in the way as in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-769&quot; title=&quot;PartitionPruner checking is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-769&quot;&gt;&lt;del&gt;HIVE-769&lt;/del&gt;&lt;/a&gt;.1.patch.&lt;/p&gt;

&lt;p&gt;However, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-769&quot; title=&quot;PartitionPruner checking is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-769&quot;&gt;&lt;del&gt;HIVE-769&lt;/del&gt;&lt;/a&gt;.1.patch makes the &quot;SELECT *&quot; query a map-reduce job, so I have to do it as in the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-769&quot; title=&quot;PartitionPruner checking is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-769&quot;&gt;&lt;del&gt;HIVE-769&lt;/del&gt;&lt;/a&gt;.2.patch.&lt;/p&gt;</comment>
                            <comment id="12744867" author="zshao" created="Wed, 19 Aug 2009 04:01:35 +0000"  >&lt;p&gt;The same patch for branch-0.4.&lt;/p&gt;

&lt;p&gt;Two minor differences: 1. exprNodeDesc.getChildren() return type change (it&apos;s already in trunk); 2. &quot;import ...HiveConf;&quot; conflict in ASTPartitionPruner.java.&lt;/p&gt;</comment>
                            <comment id="12744884" author="zshao" created="Wed, 19 Aug 2009 05:20:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-769&quot; title=&quot;PartitionPruner checking is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-769&quot;&gt;&lt;del&gt;HIVE-769&lt;/del&gt;&lt;/a&gt;.3.trunk.patch: Included test case changes. Also changed a few places to make sure the error message looks nice.&lt;/p&gt;</comment>
                            <comment id="12744885" author="zshao" created="Wed, 19 Aug 2009 05:21:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-769&quot; title=&quot;PartitionPruner checking is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-769&quot;&gt;&lt;del&gt;HIVE-769&lt;/del&gt;&lt;/a&gt;.3.branch-0.4.patch: fix for branch-0.4.&lt;/p&gt;</comment>
                            <comment id="12744916" author="namit" created="Wed, 19 Aug 2009 06:27:12 +0000"  >&lt;p&gt;committed in trunk&lt;/p&gt;

&lt;p&gt;running tests for 0.4&lt;/p&gt;</comment>
                            <comment id="12745071" author="namit" created="Wed, 19 Aug 2009 14:27:15 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                            <comment id="12745217" author="zshao" created="Wed, 19 Aug 2009 21:36:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-769&quot; title=&quot;PartitionPruner checking is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-769&quot;&gt;&lt;del&gt;HIVE-769&lt;/del&gt;&lt;/a&gt;.3-1.trunk.branch-0.4.patch: Please commit to both branch-0.4 and trunk.&lt;/p&gt;</comment>
                            <comment id="12745218" author="zshao" created="Wed, 19 Aug 2009 21:36:24 +0000"  >&lt;p&gt;NullPointerException in some cases.&lt;/p&gt;</comment>
                            <comment id="12745274" author="namit" created="Thu, 20 Aug 2009 01:44:44 +0000"  >&lt;p&gt;Committed the new patch. Thanks Zheng &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12416959" name="HIVE-769.1.patch" size="9053" author="zshao" created="Wed, 19 Aug 2009 03:45:36 +0000"/>
                            <attachment id="12416962" name="HIVE-769.2.branch-0.4.patch" size="13417" author="zshao" created="Wed, 19 Aug 2009 04:01:35 +0000"/>
                            <attachment id="12416960" name="HIVE-769.2.patch" size="11048" author="zshao" created="Wed, 19 Aug 2009 03:52:52 +0000"/>
                            <attachment id="12417057" name="HIVE-769.3-1.trunk.branch-0.4.patch" size="1566" author="zshao" created="Wed, 19 Aug 2009 21:36:00 +0000"/>
                            <attachment id="12416970" name="HIVE-769.3.branch-0.4.patch" size="14252" author="zshao" created="Wed, 19 Aug 2009 05:21:28 +0000"/>
                            <attachment id="12416969" name="HIVE-769.3.trunk.patch" size="11883" author="zshao" created="Wed, 19 Aug 2009 05:20:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Aug 2009 06:27:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122535</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-770] remove enum to string mapping for counters when hive deprecates hadoop 17</title>
                <link>https://issues.apache.org/jira/browse/HIVE-770</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12433399">HIVE-770</key>
            <summary>remove enum to string mapping for counters when hive deprecates hadoop 17</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2009 00:46:34 +0000</created>
                <updated>Sun, 4 Aug 2013 17:53:20 +0000</updated>
                            <resolved>Sun, 4 Aug 2013 17:53:20 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13728932" author="appodictic" created="Sun, 4 Aug 2013 17:53:20 +0000"  >&lt;p&gt;I think this has been resolved in another issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12431874">HIVE-713</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 4 Aug 2013 17:53:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42730</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08oq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48605</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-771] QueryPlan getStageType and getOperatorType should use a hash map instead of the big if</title>
                <link>https://issues.apache.org/jira/browse/HIVE-771</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12433402">HIVE-771</key>
            <summary>QueryPlan getStageType and getOperatorType should use a hash map instead of the big if</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eibrishimov">Emil Ibrishimov</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2009 01:01:55 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:55 +0000</updated>
                            <resolved>Tue, 15 Sep 2009 22:37:08 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12747119" author="eibrishimov" created="Mon, 24 Aug 2009 22:42:24 +0000"  >&lt;p&gt;Moved the getType() function to Task and Operator (as in the TODOs)&lt;/p&gt;</comment>
                            <comment id="12747126" author="rsm" created="Mon, 24 Aug 2009 22:52:49 +0000"  >&lt;p&gt;Do you really need the maps of class to type? You can probably just remove the following:&lt;/p&gt;

&lt;p&gt;In Operator.java:&lt;br/&gt;
+  Map&amp;lt;Class&amp;lt;?&amp;gt;, Integer&amp;gt; operatorTypes;&lt;/p&gt;

&lt;p&gt;In QueryPlan.java:&lt;br/&gt;
+  private static Map&amp;lt;Class&amp;lt;?&amp;gt;, Integer&amp;gt; stageTypes;&lt;br/&gt;
+  private static Map&amp;lt;Class&amp;lt;?&amp;gt;, Integer&amp;gt; operatorTypes;&lt;/p&gt;</comment>
                            <comment id="12747128" author="eibrishimov" created="Mon, 24 Aug 2009 22:57:12 +0000"  >&lt;p&gt;Forgot about these, sorry. Here is a patch without them.&lt;/p&gt;</comment>
                            <comment id="12747139" author="rsm" created="Mon, 24 Aug 2009 23:30:33 +0000"  >&lt;p&gt;looks good. will commit once tests pass. btw, its good that you are cleaning up the imports. but, in general its better to make these clean up changes in a separate jira.&lt;/p&gt;</comment>
                            <comment id="12755617" author="namit" created="Tue, 15 Sep 2009 18:14:01 +0000"  >&lt;p&gt;I think Raghu forgot to commit it, when I applied the patch - I got some merge conflicts - can you regenerate the patch ?&lt;br/&gt;
The changes look good, I will merge it if the tests pass&lt;/p&gt;</comment>
                            <comment id="12755756" author="namit" created="Tue, 15 Sep 2009 22:37:08 +0000"  >&lt;p&gt;Committed. Thanks Emil&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12431874">HIVE-713</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12417541" name="HIVE-771.1.patch" size="28082" author="eibrishimov" created="Mon, 24 Aug 2009 22:42:23 +0000"/>
                            <attachment id="12417544" name="HIVE-771.2.patch" size="27923" author="eibrishimov" created="Mon, 24 Aug 2009 22:57:12 +0000"/>
                            <attachment id="12419686" name="HIVE-771.3.patch" size="27932" author="eibrishimov" created="Tue, 15 Sep 2009 21:34:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Aug 2009 22:42:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73313</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-772] genConversionSelect passes null Configuration to serde initialize</title>
                <link>https://issues.apache.org/jira/browse/HIVE-772</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12433404">HIVE-772</key>
            <summary>genConversionSelect passes null Configuration to serde initialize</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2009 01:40:13 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:00 +0000</updated>
                            <resolved>Wed, 19 Aug 2009 02:06:21 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12744840" author="zshao" created="Wed, 19 Aug 2009 02:02:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12744844" author="zshao" created="Wed, 19 Aug 2009 02:06:21 +0000"  >&lt;p&gt;Committed. Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12416948" name="hive.772.1.patch" size="740" author="namit" created="Wed, 19 Aug 2009 01:52:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Aug 2009 02:02:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122537</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-772&quot; title=&quot;genConversionSelect passes null Configuration to serde initialize&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-772&quot;&gt;&lt;strike&gt;HIVE-772&lt;/strike&gt;&lt;/a&gt;. Fix genConversionSelect for init serde with null. (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-773] remove lzocodec import from FileSinkOperator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-773</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12433418">HIVE-773</key>
            <summary>remove lzocodec import from FileSinkOperator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2009 05:54:01 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:15 +0000</updated>
                            <resolved>Wed, 19 Aug 2009 10:01:34 +0000</resolved>
                                    <version>0.5.0</version>
                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12744917" author="hustlmsp" created="Wed, 19 Aug 2009 06:27:58 +0000"  >&lt;p&gt;remove &quot;import lzoCodec&quot; in FileSinkOperator. LzoCodec will fail compiling hive with hadoop-0.20.0&lt;/p&gt;</comment>
                            <comment id="12744976" author="johanoskarsson" created="Wed, 19 Aug 2009 10:01:34 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang.&lt;/p&gt;</comment>
                            <comment id="12744989" author="he yongqiang" created="Wed, 19 Aug 2009 10:39:19 +0000"  >&lt;p&gt;Thanks, Johan. &lt;br/&gt;
Actually it is contributed by Samuel Guo. Just talked with him, he is fine with this. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12745074" author="johanoskarsson" created="Wed, 19 Aug 2009 14:52:39 +0000"  >&lt;p&gt;Apologies for the mistake, seems I haven&apos;t fully woken up today.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12416982" name="Hive-773.patch" size="688" author="hustlmsp" created="Wed, 19 Aug 2009 06:28:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Aug 2009 06:27:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122538</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-774] Fix the behavior of &quot;/&quot; and add &quot;DIV&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-774</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In hive, &quot;select 3/2&quot; will return 1 while MySQL returns 1.5.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/arithmetic-functions.html#operator_div&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/arithmetic-functions.html#operator_div&lt;/a&gt; for details.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mysql&amp;gt; select 3/2;
+--------+
| 3/2    |
+--------+
| 1.5000 |
+--------+
1 row in set (0.00 sec)

mysql&amp;gt; select 3 div 2;
+---------+
| 3 div 2 |
+---------+
|       1 |
+---------+
1 row in set (0.00 sec)

mysql&amp;gt; select -3 div 2;
+----------+
| -3 div 2 |
+----------+
|       -1 |
+----------+
1 row in set (0.00 sec)

mysql&amp;gt; select -3 div -2;
+-----------+
| -3 div -2 |
+-----------+
|         1 |
+-----------+
1 row in set (0.00 sec)

mysql&amp;gt; select 3 div -2;
+----------+
| 3 div -2 |
+----------+
|       -1 |
+----------+
1 row in set (0.00 sec)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12433524">HIVE-774</key>
            <summary>Fix the behavior of &quot;/&quot; and add &quot;DIV&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Aug 2009 01:03:04 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:09 +0000</updated>
                            <resolved>Thu, 20 Aug 2009 03:37:16 +0000</resolved>
                                    <version>0.4.0</version>
                    <version>0.5.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12745293" author="zshao" created="Thu, 20 Aug 2009 03:37:16 +0000"  >&lt;p&gt;Committed. Thanks Ning!&lt;/p&gt;</comment>
                            <comment id="12745448" author="appodictic" created="Thu, 20 Aug 2009 14:41:02 +0000"  >&lt;p&gt;I have not had to deal with many hive precision issues, also I do not really have an opinion on how things should work. But I think we might want to consider deferring to how Java does things rather then how MySQL handles things. &lt;br/&gt;
On one had its nice to handle things like the mysql reference says to handle things. Of course the mysql reference will have from subtle to not so subtle changes between versions. &lt;/p&gt;

&lt;p&gt;While I think it is great to have all the UDF&apos;s that mysql may have, I don&apos;t think we should always defer to doing something as mysql would, unless mysql is doing it to match some larger SQL standard.&lt;/p&gt;</comment>
                            <comment id="12745492" author="nzhang" created="Thu, 20 Aug 2009 16:52:56 +0000"  >&lt;p&gt;It&apos;s a good point Edward. In fact SQL does not standardize numeric operators such as &apos;/&apos;. Different DBMS vendors may adopt different semantics (e.g, MySQL vs. PostgresSQL). I agree we should be carefully define and document the semantics of these operators since they could be used extensively in analytic queries. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12433588">HIVE-778</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12433534">HIVE-776</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12433588">HIVE-778</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12417092" name="hive-774.patch" size="7366" author="nzhang" created="Thu, 20 Aug 2009 03:02:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Aug 2009 14:41:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73310</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122539</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-774&quot; title=&quot;Fix the behavior of &amp;quot;/&amp;quot; and add &amp;quot;DIV&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-774&quot;&gt;&lt;strike&gt;HIVE-774&lt;/strike&gt;&lt;/a&gt;. Fix the behavior of / and add DIV. (Ning Zhang via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-775] Hive to support &quot;Set&quot; type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-775</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Thrift supports a type &quot;set&quot; which maps to &quot;java.util.Set&quot;. Hive should support this as well.&lt;/p&gt;

&lt;p&gt;We can either add &quot;set&quot; to &quot;array&quot;, &quot;struct&quot;, &quot;map&quot;, or we can just treat &quot;set&quot; as an &quot;array&quot; which will be easier to do.&lt;/p&gt;

&lt;p&gt;This is blocking Hive from doing &quot;SELECT *&quot; on some tables defined by thrift, because thrift supports &quot;set&quot; right now.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433528">HIVE-775</key>
            <summary>Hive to support &quot;Set&quot; type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Aug 2009 03:14:17 +0000</created>
                <updated>Thu, 1 May 2014 17:37:06 +0000</updated>
                                            <version>0.5.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13436958" author="pengfeng" created="Fri, 17 Aug 2012 18:46:02 +0000"  >&lt;p&gt;Hi there,&lt;/p&gt;

&lt;p&gt;Any update on this old bug? We are trying to use Hive serde to read some thrift data that contain sets. Also curious any reason it has stayed open for three year?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
Feng&lt;/p&gt;</comment>
                            <comment id="13438057" author="pengfeng" created="Mon, 20 Aug 2012 18:24:52 +0000"  >&lt;p&gt;Is there any objection to supporting &quot;Set&quot; type? If no, I will work on a patch and post it here.&lt;/p&gt;</comment>
                            <comment id="13438459" author="zshao" created="Tue, 21 Aug 2012 05:10:53 +0000"  >&lt;p&gt;+1 on implementing this data type!&lt;/p&gt;</comment>
                            <comment id="13438967" author="pengfeng" created="Tue, 21 Aug 2012 19:23:42 +0000"  >&lt;p&gt;Cool, I will work on a patch to add &quot;Set&quot; support.&lt;/p&gt;</comment>
                            <comment id="13440684" author="pengfeng" created="Thu, 23 Aug 2012 21:25:20 +0000"  >&lt;p&gt;Finished first version of the patch that covers the read path. Tested using our thrift data with sets and it worked fine. &lt;/p&gt;

&lt;p&gt;We&apos;d like to use the complex thrift struct added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3323&lt;/a&gt; for the unit tests. It&apos;d be nice if someone take a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3323&lt;/a&gt; first. Thanks!&lt;/p&gt;</comment>
                            <comment id="13451427" author="traviscrawford" created="Sat, 8 Sep 2012 22:42:17 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pengfeng&quot; class=&quot;user-hover&quot; rel=&quot;pengfeng&quot;&gt;Feng Peng&lt;/a&gt; - now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3323&quot; title=&quot;enum to string conversions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3323&quot;&gt;&lt;del&gt;HIVE-3323&lt;/del&gt;&lt;/a&gt; is closed can you update the test &amp;amp; post this patch for review?&lt;/p&gt;</comment>
                            <comment id="13456240" author="pengfeng" created="Sat, 15 Sep 2012 00:07:09 +0000"  >&lt;p&gt;Posted patch to reviewboard: &lt;a href=&quot;https://reviews.apache.org/r/7124/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7124/&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13465185" author="traviscrawford" created="Thu, 27 Sep 2012 22:37:11 +0000"  >&lt;p&gt;Hey Hive committers - can one of you please take a look at this patch? We&apos;d love to let users start using sets!&lt;/p&gt;</comment>
                            <comment id="13701601" author="appodictic" created="Sun, 7 Jul 2013 16:20:15 +0000"  >&lt;p&gt;I get the feeling that it could be a larger change then just this patch. We can now group on collections etc and I an curios if UDF&apos;s that return a Set which will now be treated as a list, will suddenly start returning a set, and what that will mean. I will start poking around with this a bit.&lt;/p&gt;</comment>
                            <comment id="13986800" author="alangates" created="Thu, 1 May 2014 17:37:06 +0000"  >&lt;p&gt;Patch is stale an no longer applies.  &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12600769">HIVE-3323</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12545248" name="HIVE-775_set_support.1.patch" size="63877" author="pengfeng" created="Sat, 15 Sep 2012 00:07:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Aug 2012 18:46:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42729</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 38 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07j7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-776] make div as infix operator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-776</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12433534">HIVE-776</key>
            <summary>make div as infix operator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Aug 2009 04:56:03 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:27 +0000</updated>
                            <resolved>Thu, 20 Aug 2009 06:51:15 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12745317" author="zshao" created="Thu, 20 Aug 2009 06:11:32 +0000"  >&lt;p&gt;+1. Will test and commit.&lt;/p&gt;</comment>
                            <comment id="12745331" author="zshao" created="Thu, 20 Aug 2009 06:51:15 +0000"  >&lt;p&gt;Committed! Thanks Ning!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12433524">HIVE-774</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12417098" name="hive-776.patch" size="1742" author="nzhang" created="Thu, 20 Aug 2009 05:27:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Aug 2009 06:11:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122540</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-776&quot; title=&quot;make div as infix operator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-776&quot;&gt;&lt;strike&gt;HIVE-776&lt;/strike&gt;&lt;/a&gt;. Make &amp;quot;DIV&amp;quot; an infix operator. (Ning Zhang via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-777] CREATE TABLE with STRUCT type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-777</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently we only support map/array in type definition.&lt;br/&gt;
We should support STRUCT as well.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE abc (
  pageid INT,
  ads STRUCT&amp;lt;adid:INT,location:STRING&amp;gt;,
  userid INT
);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12433538">HIVE-777</key>
            <summary>CREATE TABLE with STRUCT type</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Aug 2009 06:56:14 +0000</created>
                <updated>Fri, 4 Mar 2016 00:40:39 +0000</updated>
                            <resolved>Wed, 26 Aug 2009 04:27:51 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12745441" author="he yongqiang" created="Thu, 20 Aug 2009 14:05:39 +0000"  >&lt;p&gt;struct table example:&lt;br/&gt;
create table abc(strct struct&amp;lt;a int, b string&amp;gt;);&lt;/p&gt;

&lt;p&gt;i think we should file a jira to let the query like &quot;FROM src INSERT OVERWRITE TABLE abc SELECT src.key, src.value;&quot; work. Add a new udf to assemble fields to struct value?&lt;/p&gt;</comment>
                            <comment id="12745471" author="namit" created="Thu, 20 Aug 2009 16:05:20 +0000"  >&lt;p&gt;Do we want to support this ? or go the other route of first creating a type:&lt;/p&gt;

&lt;p&gt;for eg:&lt;/p&gt;


&lt;p&gt;create type addata (adid int, location string);&lt;/p&gt;

&lt;p&gt;CREATE TABLE abc (&lt;br/&gt;
  pageid INT,&lt;br/&gt;
  ads addata,&lt;br/&gt;
  userid INT&lt;br/&gt;
);&lt;/p&gt;


&lt;p&gt;That way the same type can be used across multiple tables - you can select from one and insert into another etc.&lt;br/&gt;
Type will be a first class citizen, it can be passed to udfs, can be described etc.&lt;/p&gt;</comment>
                            <comment id="12745581" author="zshao" created="Thu, 20 Aug 2009 19:16:25 +0000"  >&lt;p&gt;Yes, I think we should support both.&lt;br/&gt;
&quot;Create type&quot; will involve some metastore changes and more discussions. We won&apos;t be able to finish it in a short time.&lt;/p&gt;

&lt;p&gt;This change is much smaller, and the syntax is consistent with the current syntax of &quot;array&amp;lt;type&amp;gt;&quot; and &quot;map&amp;lt;type,type&amp;gt;&quot;.&lt;br/&gt;
Some users are already asking for it. I think we can get this one in first.&lt;/p&gt;

&lt;p&gt;I will open a JIRA for &quot;create type&quot;.&lt;/p&gt;</comment>
                            <comment id="12745587" author="zshao" created="Thu, 20 Aug 2009 19:26:56 +0000"  >&lt;p&gt;@hive-777-2009-8-29.patch: Shall we support &quot;STRUCT&amp;lt;adid:INT,location:STRING&amp;gt;&quot; or &quot;STRUCT&amp;lt;adid INT,location STRING&amp;gt;&quot;?&lt;/p&gt;

&lt;p&gt;The first one is consistent with the internal way of representing types, while the second one looks more like &quot;create type&quot;, but &quot;struct&amp;lt;...&amp;gt;&quot; syntax is from internal type representation as well as &quot;array&amp;lt;...&amp;gt;&quot; and &quot;map&amp;lt;...&amp;gt;&quot;.&lt;br/&gt;
I am biased towards the first one.&lt;/p&gt;</comment>
                            <comment id="12745768" author="he yongqiang" created="Fri, 21 Aug 2009 02:07:19 +0000"  >&lt;p&gt;We can easily support both. User can either use SPACE or : as the delimiter of column name and column type. &lt;br/&gt;
For example:&lt;br/&gt;
create table abc (ads:struct&amp;lt;adid:int, loc:string&amp;gt;);&lt;br/&gt;
create table abc (ads:struct&amp;lt;adid int, loc string&amp;gt;);&lt;br/&gt;
create table abc (ads struct&amp;lt;adid:int, loc:string&amp;gt;);&lt;br/&gt;
create table abc (ads struct&amp;lt;adid int, loc string&amp;gt;);&lt;br/&gt;
are all correct.&lt;/p&gt;</comment>
                            <comment id="12745782" author="he yongqiang" created="Fri, 21 Aug 2009 04:09:23 +0000"  >&lt;p&gt;hive-777-2009-8-21.patch supports both SPACE and : as column name and column type delimiter. passed tests in my local.&lt;/p&gt;</comment>
                            <comment id="12745816" author="zshao" created="Fri, 21 Aug 2009 05:55:31 +0000"  >&lt;p&gt;Talked with Yongqiang offline. For now we will support struct&amp;lt;name:type,name2:type2&amp;gt; first.&lt;br/&gt;
We don&apos;t want to loosen the grammar now because that will make it harder to extend Hive grammar in the future.&lt;/p&gt;

&lt;p&gt;Yongqiang, for your test, can you do LIMIT 10 just to limit the size of output file size?&lt;br/&gt;
You might want to do &quot;SELECT strct, strct.a, strct.b FROM xxx LIMIT 10&quot; to have a more complete test.&lt;/p&gt;</comment>
                            <comment id="12745832" author="he yongqiang" created="Fri, 21 Aug 2009 07:00:07 +0000"  >&lt;p&gt;hive-777-2009-8-21-2.patch integrates offline talk with Zheng. &lt;br/&gt;
The test fails in my mac(i got null for column b, the same often happen for input20.q and input33.q), and i manually edited the results.&lt;/p&gt;</comment>
                            <comment id="12746965" author="zshao" created="Mon, 24 Aug 2009 17:29:20 +0000"  >&lt;p&gt;There must be a bug somewhere. In my test, column b is also &quot;null&quot;. Can you take a look?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] diff -a -I \(file:\)\|\(/tmp/.*\) /xxx/build/ql/test/logs/clientpositive/create_struct_table.q.out /xxx/ql/src/test/results/clientpositive/create_struct_table.q.out
    [junit] 6,16c6,16
    [junit] &amp;lt; Output: file:/xxx/build/ql/tmp/2020131471/10000
    [junit] &amp;lt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:238,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}        238     NULL
    [junit] &amp;lt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:86,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;} 86      NULL
    [junit] &amp;lt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:311,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}        311     NULL
    [junit] &amp;lt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:27,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;} 27      NULL
    [junit] &amp;lt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:165,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}        165     NULL
    [junit] &amp;lt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:409,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}        409     NULL
    [junit] &amp;lt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:255,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}        255     NULL
    [junit] &amp;lt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:278,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}        278     NULL
    [junit] &amp;lt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:98,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;} 98      NULL
    [junit] &amp;lt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:484,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}        484     NULL
    [junit] ---
    [junit] &amp;gt; Output: file:/Users/&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;/Documents/workspace/Hive/build/ql/tmp/1255514131/10000
    [junit] &amp;gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:238,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:val_238}     238     val_238
    [junit] &amp;gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:86,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:val_86}       86      val_86
    [junit] &amp;gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:311,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:val_311}     311     val_311
    [junit] &amp;gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:27,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:val_27}       27      val_27
    [junit] &amp;gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:165,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:val_165}     165     val_165
    [junit] &amp;gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:409,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:val_409}     409     val_409
    [junit] &amp;gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:255,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:val_255}     255     val_255
    [junit] &amp;gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:278,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:val_278}     278     val_278
    [junit] &amp;gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:98,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:val_98}       98      val_98
    [junit] &amp;gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:484,&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;:val_484}     484     val_484
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12747413" author="he yongqiang" created="Tue, 25 Aug 2009 13:55:41 +0000"  >&lt;p&gt;I just realized that in this case &apos;null&apos; is correct.&lt;br/&gt;
There is an example to show why:&lt;br/&gt;
hive&amp;gt; create table abc(strct struct&amp;lt;a:int, b:string&amp;gt;, value string);&lt;br/&gt;
OK&lt;br/&gt;
Time taken: 0.502 seconds&lt;br/&gt;
hive&amp;gt; load data local inpath &apos;/Users/char/Documents/workspace/Hive-Clean/data/files/kv1.txt&apos; overwrite into table abc; &lt;br/&gt;
hive&amp;gt; select * from abc limit 10;                      &lt;br/&gt;
Output:&lt;/p&gt;
{&quot;a&quot;:238,&quot;b&quot;:null}
&lt;p&gt;      val_238&lt;/p&gt;
{&quot;a&quot;:86,&quot;b&quot;:null}
&lt;p&gt;       val_86&lt;/p&gt;
{&quot;a&quot;:311,&quot;b&quot;:null}
&lt;p&gt;      val_311&lt;/p&gt;
{&quot;a&quot;:27,&quot;b&quot;:null}
&lt;p&gt;       val_27&lt;/p&gt;
{&quot;a&quot;:165,&quot;b&quot;:null}
&lt;p&gt;      val_165&lt;/p&gt;
{&quot;a&quot;:409,&quot;b&quot;:null}
&lt;p&gt;      val_409&lt;/p&gt;
{&quot;a&quot;:255,&quot;b&quot;:null}
&lt;p&gt;      val_255&lt;/p&gt;
{&quot;a&quot;:278,&quot;b&quot;:null}
&lt;p&gt;      val_278&lt;/p&gt;
{&quot;a&quot;:98,&quot;b&quot;:null}
&lt;p&gt;       val_98&lt;/p&gt;
{&quot;a&quot;:484,&quot;b&quot;:null}
&lt;p&gt;      val_484&lt;/p&gt;

&lt;p&gt;We need to find a way to assemble struct data,&lt;/p&gt;</comment>
                            <comment id="12747756" author="zshao" created="Wed, 26 Aug 2009 04:00:47 +0000"  >&lt;p&gt;Looks good. Will commit if tests pass. I changed the test case a little bit to have non-null &quot;b&quot; value.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;drop table abc;
create table abc(strct struct&amp;lt;a:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, b:string, c:string&amp;gt;)
row format delimited
  fields terminated by &lt;span class=&quot;code-quote&quot;&gt;&apos;\t&apos;&lt;/span&gt;
  collection items terminated by &lt;span class=&quot;code-quote&quot;&gt;&apos;\001&apos;&lt;/span&gt;;

load data local inpath &lt;span class=&quot;code-quote&quot;&gt;&apos;../data/files/kv1.txt&apos;&lt;/span&gt;
overwrite into table abc;

SELECT strct, strct.a, strct.b FROM abc LIMIT 10;

drop table abc;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12747767" author="zshao" created="Wed, 26 Aug 2009 04:27:51 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang.&lt;/p&gt;</comment>
                            <comment id="12882500" author="yangyangyyy" created="Fri, 25 Jun 2010 09:09:49 +0000"  >&lt;p&gt;I see that creating a table with struct works, and I can select the struct field.&lt;/p&gt;

&lt;p&gt;but GROUP BY on a struct field is not supported now. (see following msg)&lt;/p&gt;

&lt;p&gt;is there a plan to support this?&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Yang&lt;/p&gt;


&lt;p&gt;java.lang.RuntimeException: Error while closing operators&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:232)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:356)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:170)&lt;br/&gt;
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.RuntimeException: Hash code on complex types not supported yet.&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.GroupByOperator.closeOp(GroupByOperator.java:799)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:462)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:470)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:470)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:470)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:211)&lt;br/&gt;
	... 4 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: Hash code on complex types not supported yet.&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorUtils.hashCode(ObjectInspectorUtils.java:348)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ReduceSinkOperator.processOp(ReduceSinkOperator.java:187)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:386)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:598)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.GroupByOperator.forward(GroupByOperator.java:746)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.GroupByOperator.closeOp(GroupByOperator.java:780)&lt;br/&gt;
	... 9 more&lt;/p&gt;</comment>
                            <comment id="15179034" author="satyajit" created="Fri, 4 Mar 2016 00:40:39 +0000"  >&lt;p&gt;Hi ,&lt;/p&gt;

&lt;p&gt;Would like to know, if there is any kind of restriction with the number of fields to be used in the STRUCT type, as i am having issues with having more than 266 fields inside a STRUCT type.&lt;/p&gt;

&lt;p&gt;i was able to create the Table with no issues, but SHOW CREATE TABLE doesnt show fields are 266 field and queries fail with the same error.&lt;/p&gt;

&lt;p&gt;PFB Jira link,_&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13203&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-13203&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Please reply in case there is any workaround to accept more fields.&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12429419">HIVE-603</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12433601">HIVE-779</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12417232" name="hive-777-2009-8-21-2.patch" size="5440" author="he yongqiang" created="Fri, 21 Aug 2009 07:00:07 +0000"/>
                            <attachment id="12417216" name="hive-777-2009-8-21.patch" size="7051" author="he yongqiang" created="Fri, 21 Aug 2009 04:09:23 +0000"/>
                            <attachment id="12417137" name="hive-777-2009-8-29.patch" size="7040" author="he yongqiang" created="Thu, 20 Aug 2009 14:05:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Aug 2009 14:05:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 46 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122541</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-777&quot; title=&quot;CREATE TABLE with STRUCT type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-777&quot;&gt;&lt;strike&gt;HIVE-777&lt;/strike&gt;&lt;/a&gt;. CREATE TABLE with STRUCT type. (He Yongqiang via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-778] add describe div</title>
                <link>https://issues.apache.org/jira/browse/HIVE-778</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Can you add a test which describe div ?&lt;/p&gt;

&lt;p&gt;We should do it for all the existing tests also - but definitely for all the new tests.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433588">HIVE-778</key>
            <summary>add describe div</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Aug 2009 17:24:35 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:52 +0000</updated>
                            <resolved>Mon, 31 Aug 2009 21:49:09 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12745571" author="nzhang" created="Thu, 20 Aug 2009 18:56:01 +0000"  >&lt;p&gt;Namit, what do you by &quot;describe div&quot;? There is a test udf_divider.q in the patch. Do you mean more test cases?&lt;/p&gt;</comment>
                            <comment id="12745593" author="namit" created="Thu, 20 Aug 2009 19:38:20 +0000"  >&lt;p&gt;We now support describe function_name and describe extended ?&lt;/p&gt;


&lt;p&gt;In udf_divider, you need to add that  - and add some annotation in the implementation class to show documentation of the function&lt;/p&gt;</comment>
                            <comment id="12745661" author="nzhang" created="Thu, 20 Aug 2009 21:13:03 +0000"  >&lt;p&gt;The current revision does not support describe function yet. Do you mean the annotation like the following in UDFOPDivide.java?&lt;/p&gt;

&lt;p&gt;@description(&lt;br/&gt;
    name = &quot;/&quot;,&lt;br/&gt;
    value = &quot;a &lt;em&gt;FUNC&lt;/em&gt; b - Divide a by b&quot;,&lt;br/&gt;
    extended = &quot;Example:\n&quot; +&lt;br/&gt;
        &quot;  &amp;gt; SELECT 3 &lt;em&gt;FUNC&lt;/em&gt; 2 FROM src LIMIT 1;\n&quot; +&lt;br/&gt;
        &quot;  1.5&quot;&lt;br/&gt;
)&lt;/p&gt;</comment>
                            <comment id="12745691" author="namit" created="Thu, 20 Aug 2009 22:12:36 +0000"  >&lt;p&gt;yes&lt;/p&gt;</comment>
                            <comment id="12747073" author="nzhang" created="Mon, 24 Aug 2009 21:03:07 +0000"  >&lt;p&gt;This patch include the fix in the Hive.g to allow passing UDF&apos;s that appear to be a keyword (system defined functions) into &quot;describe function&quot;. &lt;/p&gt;

&lt;p&gt;Also added all supported UDFs in the test file describe_function.q.&lt;/p&gt;</comment>
                            <comment id="12749586" author="namit" created="Mon, 31 Aug 2009 19:23:10 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12749640" author="namit" created="Mon, 31 Aug 2009 21:49:09 +0000"  >&lt;p&gt;Committed. Thanks Ning.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12433524">HIVE-774</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12433524">HIVE-774</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12417526" name="hive-778.patch" size="29949" author="nzhang" created="Mon, 24 Aug 2009 21:03:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Aug 2009 18:56:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>615</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-779] CREATE TYPE and use the TYPE in CREATE TABLE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-779</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;From Namit:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create type addata (adid &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, location string);

CREATE TABLE abc (
pageid INT,
ads addata,
userid INT
);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That way the same type can be used across multiple tables - you can select from one and insert into another etc.&lt;br/&gt;
Type will be a first class citizen, it can be passed to udfs, can be described etc&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433601">HIVE-779</key>
            <summary>CREATE TYPE and use the TYPE in CREATE TABLE</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Aug 2009 19:18:09 +0000</created>
                <updated>Thu, 27 Aug 2009 13:17:14 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12748363" author="he yongqiang" created="Thu, 27 Aug 2009 13:17:14 +0000"  >&lt;p&gt;patch a new file against truck, and refine the testcase according to the one added in hive-777.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12433538">HIVE-777</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12417278" name="hive-779-2009-08-21.patch" size="25895" author="he yongqiang" created="Fri, 21 Aug 2009 14:56:50 +0000"/>
                            <attachment id="12417876" name="hive-779-2009-08-27.patch" size="27215" author="he yongqiang" created="Thu, 27 Aug 2009 13:17:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Aug 2009 13:17:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122543</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-780] Better error messages for wrong argument length in terminatePartial()/merge() UDAF calls</title>
                <link>https://issues.apache.org/jira/browse/HIVE-780</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is a simple fix to make sure if the UDAF&apos;s argument length of terminatePartial()/merge() UDAF calls have a problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433608">HIVE-780</key>
            <summary>Better error messages for wrong argument length in terminatePartial()/merge() UDAF calls</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Aug 2009 20:14:13 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:19 +0000</updated>
                            <resolved>Fri, 21 Aug 2009 23:48:26 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12745633" author="zshao" created="Thu, 20 Aug 2009 20:56:21 +0000"  >&lt;p&gt;Added a test case.&lt;/p&gt;</comment>
                            <comment id="12746343" author="namit" created="Fri, 21 Aug 2009 23:06:09 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12746370" author="namit" created="Fri, 21 Aug 2009 23:48:26 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12417168" name="HIVE-780.1.patch" size="3703" author="zshao" created="Thu, 20 Aug 2009 20:15:01 +0000"/>
                            <attachment id="12417177" name="HIVE-780.2.patch" size="8017" author="zshao" created="Thu, 20 Aug 2009 20:56:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 21 Aug 2009 23:06:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73307</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122544</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-781] Integrate Zebra with Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-781</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is raised for my research.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433647">HIVE-781</key>
            <summary>Integrate Zebra with Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Aug 2009 07:10:54 +0000</created>
                <updated>Mon, 8 Sep 2014 08:23:06 +0000</updated>
                            <resolved>Mon, 8 Sep 2014 08:23:06 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14125296" author="lars_francke" created="Mon, 8 Sep 2014 08:23:06 +0000"  >&lt;p&gt;Zebra has been abandoned/deprecated (perhaps in favor of HCatalog?) as far as I know.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 8 Sep 2014 08:23:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42727</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-782] reduce progress reported incorrectly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-782</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;its reporting map progress as reduce progress as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433648">HIVE-782</key>
            <summary>reduce progress reported incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Aug 2009 07:28:47 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:11 +0000</updated>
                            <resolved>Fri, 21 Aug 2009 23:48:41 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12746332" author="namit" created="Fri, 21 Aug 2009 22:56:38 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12746372" author="namit" created="Fri, 21 Aug 2009 23:48:41 +0000"  >&lt;p&gt;Committed. Thanks Raghu&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12417233" name="hive-782.1.patch" size="838" author="rsm" created="Fri, 21 Aug 2009 07:29:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 21 Aug 2009 22:56:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122546</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-783] Implement disjunctive JOINs </title>
                <link>https://issues.apache.org/jira/browse/HIVE-783</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, Hive does not allow disjunctive joins. For example:&lt;/p&gt;

&lt;p&gt;SELECT ...&lt;br/&gt;
FROM a&lt;br/&gt;
JOIN b ON (a.key1=b.key1 OR a.key1=b.key2)&lt;/p&gt;

&lt;p&gt;...currently fails. The current workaround is to join on each, UNION ALL them, and then somehow figure out a way to remove any duplicates (wher b.key1=b.key2 and there&apos;s a corresponding a.key1)...but this involves many passes through the same data.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433805">HIVE-783</key>
            <summary>Implement disjunctive JOINs </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="akramer">Adam Kramer</reporter>
                        <labels>
                    </labels>
                <created>Sun, 23 Aug 2009 19:34:45 +0000</created>
                <updated>Mon, 10 Jan 2011 07:06:11 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12896331" author="akramer" created="Sun, 8 Aug 2010 08:47:11 +0000"  >&lt;p&gt;Also fails: a JOIN b ON (a.key &amp;lt; b.key), for a perhaps unrelated reason.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12434099">HIVE-801</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42726</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122547</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-784] Support uncorrelated subqueries in the WHERE clause</title>
                <link>https://issues.apache.org/jira/browse/HIVE-784</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive currently only support views in the FROM-clause, some Facebook use cases suggest that Hive should support subqueries such as those connected by IN/EXISTS in the WHERE-clause. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12433867">HIVE-784</key>
            <summary>Support uncorrelated subqueries in the WHERE clause</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Aug 2009 17:29:37 +0000</created>
                <updated>Wed, 11 Jun 2014 05:37:35 +0000</updated>
                            <resolved>Wed, 23 Oct 2013 14:54:54 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>5</votes>
                                    <watches>28</watches>
                                                                <comments>
                            <comment id="12762346" author="nzhang" created="Mon, 5 Oct 2009 20:27:02 +0000"  >&lt;p&gt;Subqueries can be correlated or uncorrelated to its outer queries. If it is uncorrelated, the subqueries can be treated as a constant (set of rows in the case of IN, or boolean in the case of EXISTS). It is the easiest case where subqueries can be evaluated once and results don&apos;t change. It is the correlated subquries that are more common and much more complex. &lt;/p&gt;

&lt;p&gt;In general, correlated subqueries can be treated as a function, where the correlated variables can be treated as the input parameters. For example, the following nested subquery&lt;/p&gt;

&lt;p&gt;select * &lt;br/&gt;
from A&lt;br/&gt;
where exists (&lt;br/&gt;
    select null &lt;br/&gt;
    from B&lt;br/&gt;
    where B.id = A.id &lt;br/&gt;
        and B.date &amp;gt; &apos;2009-10-01&apos;) &lt;/p&gt;

&lt;p&gt;can be treated as a function where the passing parameter is the correlated variable A.id. A native plan is to evaluate this function for every row in A. This is equivalent to a nested-loop join (semi) between A and B. A better evaluation plan is to evaluate the subquery every time the input parameter changes value. A better generalization is to rewrite the whole query to unnest the subquery into a semi-join between A and B. Then there are more join algorithms to choose from. A whole body of database research papers are dedicated to rewrite rules on unnesting subqueries to joins. &lt;/p&gt;

&lt;p&gt;There are also cases that the nested subqueries cannot be unnested into joins, particularly for those subqueries involving aggretations. &lt;/p&gt;

&lt;p&gt;As the first step, we will working on cases where subquries are uncorrelated or they can be unnested into semi-joins.  &lt;/p&gt;</comment>
                            <comment id="12762453" author="nzhang" created="Mon, 5 Oct 2009 23:53:32 +0000"  >&lt;p&gt;Created a new task &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-870&quot; title=&quot;Implement LEFT SEMI JOIN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-870&quot;&gt;&lt;del&gt;HIVE-870&lt;/del&gt;&lt;/a&gt; for semi-join. Hive users should be able to specify semi-join in their queries just as INNER/OUTER joins. &lt;/p&gt;</comment>
                            <comment id="13579059" author="zeph" created="Fri, 15 Feb 2013 09:39:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nzhang&quot; class=&quot;user-hover&quot; rel=&quot;nzhang&quot;&gt;Ning Zhang&lt;/a&gt; does it mean that u are happy with the workaround and this ticket will not be closed? cause at Rocket Internet we do have the same issue u stepped into... and the semi-join is not an option to us. Is anyone else going to take ownership of this one, or since u are the initial opener and the assignee it is going to /dev/null? (as it seems, since the ticket is 4 years old)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~namitjain&amp;#93;&lt;/span&gt; is there a board reviewing the ticket status? or whoever opens a ticket is usually the one pushing for its closing/fixing and if this figure is missing features are stalling like this one?&lt;/p&gt;</comment>
                            <comment id="13579379" author="nzhang@fb.com" created="Fri, 15 Feb 2013 18:15:41 +0000"  >&lt;p&gt;Guido, I&apos;m not actively working on this now. Semi-join is usually we face and it could handle most of our cases. Feel free to grab this task if you would like to work on it. &lt;/p&gt;</comment>
                            <comment id="13614982" author="sunrui" created="Wed, 27 Mar 2013 06:45:07 +0000"  >&lt;p&gt;Guido, you may try project-panthera-ase@github, which is an open source effort for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3472&quot; title=&quot;Build An Analytical SQL Engine for MapReduce&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3472&quot;&gt;HIVE-3472&lt;/a&gt;. It can support correlated/un-correlated subqueries and selection from multiple tables without any join operator now. Instead of directly modifying the HiveQL grammar and query processor to support subqueries, the project incorporates a PL/SQL parser for SQL input and performs semantically identical transformation on the PL/SQL parser output for execution by the query processor.&lt;/p&gt;</comment>
                            <comment id="13679814" author="brocknoland" created="Mon, 10 Jun 2013 19:43:52 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I see Ning is not working on this at present. Is anyone else working on this?&lt;/p&gt;

&lt;p&gt;Brock&lt;/p&gt;</comment>
                            <comment id="13679907" author="mweaverh" created="Mon, 10 Jun 2013 21:07:41 +0000"  >&lt;p&gt;I&apos;m looking into uncorrelated subqueries.  Will pick this up unless someone else is actively working it.&lt;/p&gt;

&lt;h5&gt;&lt;a name=&quot;FunctionalRequirements&quot;&gt;&lt;/a&gt;Functional Requirements&lt;/h5&gt;

&lt;ul&gt;
	&lt;li&gt;Support &lt;tt&gt;WHERE x IN (&amp;lt;column subquery&amp;gt;);&lt;/tt&gt;
	&lt;ul&gt;
		&lt;li&gt;&lt;tt&gt;&amp;lt;column subquery&amp;gt;&lt;/tt&gt; returns one column, any number of rows.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Support &lt;tt&gt;WHERE x NOT IN (&amp;lt;column subquery&amp;gt;)&lt;/tt&gt;;&lt;/li&gt;
	&lt;li&gt;Support same types of subqueries in &lt;tt&gt;HAVING&lt;/tt&gt;.
	&lt;ul&gt;
		&lt;li&gt;E.g.
    &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; t1 &lt;span class=&quot;code-keyword&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; 
&lt;span class=&quot;code-keyword&quot;&gt;HAVING&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;COUNT&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;IN&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; p &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; t2);  &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Correlated subqueries not supported, for now at least
	&lt;ul&gt;
		&lt;li&gt;But still need to check for correlation, and bail if it occurs.&lt;/li&gt;
		&lt;li&gt;Correlated subquery:
		&lt;ul&gt;
			&lt;li&gt;A subquery that references a table that appears in a containing query (&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.7/en/correlated-subqueries.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;MySQL&lt;/a&gt;), thus requiring subquery evaluation to look outside its scope.&lt;/li&gt;
			&lt;li&gt;The subquery depends on the outer query for its values, so the subquery must be executed once for each row of the outer query.  Also known as &lt;em&gt;repeating Subqueries&lt;/em&gt;.&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;h5&gt;&lt;a name=&quot;Tasks&quot;&gt;&lt;/a&gt;Tasks&lt;/h5&gt;
&lt;ul&gt;
	&lt;li&gt;Rewrite &lt;tt&gt;IN (&amp;lt;column-subquery&amp;gt;)&lt;/tt&gt; as a &lt;tt&gt;LEFT SEMI JOIN&lt;/tt&gt;.
	&lt;ul&gt;
		&lt;li&gt;Not ready for public consumption.  In particular, no check for correlated terms.&lt;/li&gt;
		&lt;li&gt;With test queries.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Add check for correlated terms, return informative error message.&lt;/li&gt;
	&lt;li&gt;Rewrite &lt;tt&gt;WHERE NOT IN (&amp;lt;column-subquery&amp;gt;)&lt;/tt&gt; as a &lt;tt&gt;LEFT OUTER JOIN&lt;/tt&gt;.
	&lt;ul&gt;
		&lt;li&gt;Return rows that don&apos;t match the right side&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Rewrite subqueries in &lt;tt&gt;HAVING&lt;/tt&gt;, using &lt;tt&gt;LEFT SEMI JOIN&lt;/tt&gt; and &lt;tt&gt;LEFT OUTER JOIN&lt;/tt&gt; as above.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13696011" author="mweaverh" created="Sat, 29 Jun 2013 01:43:57 +0000"  >&lt;p&gt;Support subqueries for &apos;WHERE IN (&amp;lt;subquery&amp;gt;)&apos;, initial version.&lt;/p&gt;

&lt;p&gt;This is an initial implementation, not ready for submission (details below).&lt;br/&gt;
Nevertheless I would welcome comments on the approach.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ASTRewriter.inSubqueryToJoin().  Currently is called right after&lt;br/&gt;
  parsing, but will probably have to move later for proper alias&lt;br/&gt;
  generation.&lt;/li&gt;
	&lt;li&gt;This early version hard-codes a generated alias &quot;t2&quot; for subquery.  To&lt;br/&gt;
  fix, with guarantee of unique alias, will require moving the rewrite&lt;br/&gt;
  into SemanticAnalyzer.analyzeInternal() after getMetaData().&lt;/li&gt;
	&lt;li&gt;Currently only handles a top-level occurrence of WHERE IN&lt;br/&gt;
  (&amp;lt;subquery&amp;gt;).  Any nested occurrences will fail.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13696019" author="mweaverh" created="Sat, 29 Jun 2013 01:50:49 +0000"  >&lt;p&gt;Initival version.&lt;br/&gt;
On Phabricator at &lt;a href=&quot;https://reviews.facebook.net/D11541&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11541&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13705581" author="navis" created="Thu, 11 Jul 2013 08:08:58 +0000"  >&lt;p&gt;Added some comments&lt;/p&gt;</comment>
                            <comment id="13784810" author="rhbutani" created="Thu, 3 Oct 2013 04:18:29 +0000"  >&lt;p&gt;Uploaded a Spec and preliminary patch.&lt;br/&gt;
Has support for:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In/Not In: non-correlated and correlated&lt;/li&gt;
	&lt;li&gt;Exists/Not Exists&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The approach is to do Algebraic transformations during genPlan.&lt;/p&gt;

&lt;p&gt;The patch doesn&apos;t have all the checks from the document. For e.g. check to disallow nested SubQueries is missing.&lt;br/&gt;
Will add these and more egs in the next patch.&lt;/p&gt;</comment>
                            <comment id="13786749" author="rhbutani" created="Fri, 4 Oct 2013 23:29:08 +0000"  >&lt;p&gt;Just uploaded a script with tpch queries Q4, Q15, Q16 and Q18 written using SubQueries.&lt;br/&gt;
Validated results against what is in the Spec.&lt;br/&gt;
Script includes ddl at the bottom.&lt;/p&gt;</comment>
                            <comment id="13794266" author="ashutoshc" created="Mon, 14 Oct 2013 16:49:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; Can you post a review board / phabricator entry for patch. It will be easier to review that way.&lt;/p&gt;</comment>
                            <comment id="13794285" author="phabricator@reviews.facebook.net" created="Mon, 14 Oct 2013 17:14:43 +0000"  >&lt;p&gt;hbutani requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-784&quot; title=&quot;Support uncorrelated subqueries in the WHERE clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-784&quot;&gt;&lt;del&gt;HIVE-784&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support uncorrelated subqueries in the WHERE clause&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, ashutoshc&lt;/p&gt;

&lt;p&gt;SubQuery: add tests for distinct&lt;/p&gt;

&lt;p&gt;Hive currently only support views in the FROM-clause, some Facebook use cases suggest that Hive should support subqueries such as those connected by IN/EXISTS in the WHERE-clause.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D13443&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D13443&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SubQueryUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/subquery_in_groupby.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/subquery_in_select.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/subquery_windowing_corr.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/subquery_exists.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/subquery_in.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/subquery_multiinsert.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/subquery_notexists.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/subquery_notin.q&lt;br/&gt;
  ql/src/test/results/clientnegative/subquery_in_groupby.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/subquery_in_select.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/subquery_windowing_corr.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/subquery_exists.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/subquery_in.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/subquery_multiinsert.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/subquery_notexists.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/subquery_notin.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/40029/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/40029/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13794530" author="phabricator@reviews.facebook.net" created="Mon, 14 Oct 2013 21:50:44 +0000"  >&lt;p&gt;ashutoshc has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-784&quot; title=&quot;Support uncorrelated subqueries in the WHERE clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-784&quot;&gt;&lt;del&gt;HIVE-784&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support uncorrelated subqueries in the WHERE clause&quot;.&lt;/p&gt;

&lt;p&gt;  Design looks good. Mostly implementation related comments.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g:391 It would be nicer if instead of two rules for IN / NOT IN if we could just have one rule, which can conditionally generate TOK_SUBQUERY_OP_NOTIN / TOK_SUBQUERY_OP_IN token. Not a big deal, but would be nice to have since that makes grammar bit more succinct.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:1804 You mentioned in comment above that we don&apos;t support nested / recursive subq, but I don&apos;t see a check for that. Perhaps, its there but I missed it.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:1789 Thanks for detailed comments. Very helpful!&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:1811 There should exactly one subq currently. If so, will be good to add a note for it.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SubQueryUtils.java:101 Since, OR is not supported, It will be good to generate an error message here if OR is encountered.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SubQueryUtils.java:226-233 Same logic exists in SemanticAnalyzer::doPhase1GetAllAggregations, perhaps we can create a util method in ParseUtils, instead of repeating code here.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java:289 If you mark this as transient, you probably wont need to write Kryo serializer for this.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java:699 I dont think its required. We should probably mark all usage of instances of ASTNodeOrigin as transient.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java:470 This should never be the case. Shall we throw an exception here, instead of silently returning?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java:496 Is this allowed by standard that subq predicate may refer to Outer? If yes, than in future perhaps we can add this predicate as a conjunct for outer query.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java:537 Is this need to be .equals() check here instead of == ?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java:539 It will be good to add a comment, why we need to have True condition here, instead? Probably, because plan gen fails later while generating rest of filter plan.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:1821 Good to name this method as validateAndRewriteAST() ?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6526 Quite a bit of this code is repeated from genJoinTree(), seems like atleast some bits could be refactored out of genJoinTree() which this method can make use of.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:1827 name sqOperator is misleading here, topOp perhaps ?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java:41 This is not an operator in classic Hive sense. Perhaps, SubqASTcontainer or something else.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java:24 SubQueryType instead of SubQueryOperatorType ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D13443&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D13443&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  SubQuery&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13798684" author="phabricator@reviews.facebook.net" created="Fri, 18 Oct 2013 00:58:44 +0000"  >&lt;p&gt;hbutani updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-784&quot; title=&quot;Support uncorrelated subqueries in the WHERE clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-784&quot;&gt;&lt;del&gt;HIVE-784&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support uncorrelated subqueries in the WHERE clause&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D13443&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D13443&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D13443?vs=41457&amp;amp;id=41871#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D13443?vs=41457&amp;amp;id=41871#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SubQueryUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/subquery_exists_implicit_gby.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/subquery_in_groupby.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/subquery_in_select.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/subquery_multiple_cols_in_select.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/subquery_notexists_implicit_gby.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/subquery_subquery_chain.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/subquery_windowing_corr.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/subquery_with_or_cond.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/subquery_exists.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/subquery_in.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/subquery_multiinsert.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/subquery_notexists.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/subquery_notin.q&lt;br/&gt;
  ql/src/test/results/clientnegative/subquery_exists_implicit_gby.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/subquery_in_groupby.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/subquery_in_select.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/subquery_multiple_cols_in_select.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/subquery_notexists_implicit_gby.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/subquery_subquery_chain.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/subquery_windowing_corr.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/subquery_with_or_cond.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/subquery_exists.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/subquery_in.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/subquery_multiinsert.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/subquery_notexists.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/subquery_notin.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13798696" author="phabricator@reviews.facebook.net" created="Fri, 18 Oct 2013 01:22:44 +0000"  >&lt;p&gt;hbutani has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-784&quot; title=&quot;Support uncorrelated subqueries in the WHERE clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-784&quot;&gt;&lt;del&gt;HIVE-784&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support uncorrelated subqueries in the WHERE clause&quot;.&lt;/p&gt;

&lt;p&gt;  Tried to address all the issues you raised, except for the Nested SubQuery check. In addition:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;added a bunch of -ve tests: subquery with or, check for exists/not exists with implicit Group By, subquery with multiple columns in select&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g:391 Changed the grammar so we support both these forms:&lt;/p&gt;

&lt;p&gt;  select ...&lt;br/&gt;
  from ...&lt;br/&gt;
  where x not in (select ...)&lt;/p&gt;

&lt;p&gt;  or&lt;/p&gt;

&lt;p&gt;  select...&lt;br/&gt;
  from ...&lt;br/&gt;
  where not x in (select ...)&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java:470 this is checking the where clause in the SubQuery.&lt;br/&gt;
  It can be null. When it is null, it implies this is an uncorrelated SubQuery.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java:496 yes this is allowed. Works in mysql. Can look into this in a later jira&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java:537 sqNewSarchCond can be null. In case there is only 1 conjunct, no copy is made.&lt;br/&gt;
  ASTNode equals doesn&apos;t do a deep check.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:1804 No this feature is missing. Can this be a separate jira&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6526 i looked at this again:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the initial switch is different, because this method is based on subQuery.joinType&lt;/li&gt;
	&lt;li&gt;the way the left and right aliases are setup is different.&lt;/li&gt;
	&lt;li&gt;the code for initializing expressions,filters and filterFrPushing can be refactored out. Doesn&apos;t seem worth it though.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SubQueryUtils.java:101 this gets caught in the remove method below, because then the SubQuery is not a top level conjunct.&lt;br/&gt;
  Have added a -ve test for this.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SubQueryUtils.java:226-233 this method differs from SemanticAnalyzer::doPhase1GetAllAggregations in:&lt;/li&gt;
	&lt;li&gt;doesn&apos;t throw SemanticException&lt;/li&gt;
	&lt;li&gt;doesn&apos;t pass the ASTNode to the UnparseTranslator.&lt;/li&gt;
	&lt;li&gt;returns an int instead of the Agg/Windowing ASTNodes&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D13443&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D13443&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13801720" author="ashutoshc" created="Tue, 22 Oct 2013 11:12:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13801780" author="brocknoland" created="Tue, 22 Oct 2013 12:58:51 +0000"  >&lt;p&gt;I understand SemanticAnalyzer is hard to unit test, but SubQueryUtils is full of static methods that should be much easier to unit test.  Just curious, is there a reason we are not unit testing this code?&lt;/p&gt;</comment>
                            <comment id="13801848" author="rhbutani" created="Tue, 22 Oct 2013 14:22:25 +0000"  >&lt;p&gt;No good point. Will add unittests in a subsequent jira. There are still several things to do for this feature.&lt;/p&gt;</comment>
                            <comment id="13801992" author="hiveqa" created="Tue, 22 Oct 2013 16:33:29 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12609074/D13443.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12609074/D13443.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4442 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1196/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1196/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1196/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1196/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13802242" author="rhbutani" created="Tue, 22 Oct 2013 20:43:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; have added &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5615&quot; title=&quot;Subquery support: more tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5615&quot;&gt;&lt;del&gt;HIVE-5615&lt;/del&gt;&lt;/a&gt; for tracking unit tests issue&lt;/p&gt;</comment>
                            <comment id="13802913" author="ashutoshc" created="Wed, 23 Oct 2013 14:54:54 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Harish!&lt;/p&gt;</comment>
                            <comment id="13803511" author="hudson" created="Wed, 23 Oct 2013 22:57:46 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #519 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/519/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/519/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-784&quot; title=&quot;Support uncorrelated subqueries in the WHERE clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-784&quot;&gt;&lt;del&gt;HIVE-784&lt;/del&gt;&lt;/a&gt; : Support uncorrelated subqueries in the WHERE clause (Harish Butani via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1535040&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1535040&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SubQueryUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_exists_implicit_gby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_in_groupby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_in_select.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_multiple_cols_in_select.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_notexists_implicit_gby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_subquery_chain.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_windowing_corr.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_with_or_cond.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_exists.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_in.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_multiinsert.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_notexists.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_notin.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_exists_implicit_gby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_in_groupby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_in_select.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_multiple_cols_in_select.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_notexists_implicit_gby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_subquery_chain.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_windowing_corr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_with_or_cond.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_exists.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_in.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_multiinsert.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_notexists.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_notin.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13803701" author="hudson" created="Thu, 24 Oct 2013 03:16:03 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2417 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2417/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2417/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-784&quot; title=&quot;Support uncorrelated subqueries in the WHERE clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-784&quot;&gt;&lt;del&gt;HIVE-784&lt;/del&gt;&lt;/a&gt; : Support uncorrelated subqueries in the WHERE clause (Harish Butani via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1535040&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1535040&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SubQueryUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_exists_implicit_gby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_in_groupby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_in_select.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_multiple_cols_in_select.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_notexists_implicit_gby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_subquery_chain.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_windowing_corr.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_with_or_cond.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_exists.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_in.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_multiinsert.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_notexists.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_notin.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_exists_implicit_gby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_in_groupby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_in_select.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_multiple_cols_in_select.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_notexists_implicit_gby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_subquery_chain.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_windowing_corr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_with_or_cond.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_exists.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_in.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_multiinsert.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_notexists.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_notin.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13806257" author="hudson" created="Sun, 27 Oct 2013 07:44:39 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #152 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/152/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/152/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-784&quot; title=&quot;Support uncorrelated subqueries in the WHERE clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-784&quot;&gt;&lt;del&gt;HIVE-784&lt;/del&gt;&lt;/a&gt; : Support uncorrelated subqueries in the WHERE clause (Harish Butani via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1535040&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1535040&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SubQueryUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_exists_implicit_gby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_in_groupby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_in_select.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_multiple_cols_in_select.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_notexists_implicit_gby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_subquery_chain.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_windowing_corr.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_with_or_cond.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_exists.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_in.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_multiinsert.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_notexists.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_notin.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_exists_implicit_gby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_in_groupby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_in_select.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_multiple_cols_in_select.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_notexists_implicit_gby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_subquery_chain.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_windowing_corr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_with_or_cond.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_exists.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_in.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_multiinsert.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_notexists.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_notin.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13806284" author="hudson" created="Sun, 27 Oct 2013 09:19:53 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #215 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/215/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/215/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-784&quot; title=&quot;Support uncorrelated subqueries in the WHERE clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-784&quot;&gt;&lt;del&gt;HIVE-784&lt;/del&gt;&lt;/a&gt; : Support uncorrelated subqueries in the WHERE clause (Harish Butani via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1535040&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1535040&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBSubQuery.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SubQueryUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_exists_implicit_gby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_in_groupby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_in_select.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_multiple_cols_in_select.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_notexists_implicit_gby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_subquery_chain.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_windowing_corr.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/subquery_with_or_cond.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_exists.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_in.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_multiinsert.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_notexists.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/subquery_notin.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_exists_implicit_gby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_in_groupby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_in_select.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_multiple_cols_in_select.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_notexists_implicit_gby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_subquery_chain.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_windowing_corr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/subquery_with_or_cond.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_exists.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_in.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_multiinsert.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_notexists.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subquery_notin.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13815095" author="snarayanan" created="Wed, 6 Nov 2013 18:12:52 +0000"  >&lt;p&gt;Haven&apos;t looked at the code yet - I&apos;m commenting based on the design doc.&lt;/p&gt;

&lt;p&gt;Comment on section 2.2.1 in the design doc.&lt;/p&gt;

&lt;p&gt;One thing to be wary of the NOT-IN to LOJ with null check transformation is that it is only valid if the subquery&apos;s output is known to be non-nullable. &lt;/p&gt;

&lt;p&gt;Example, consider two tables:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;T1.x&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;null&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;T2.y&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;null&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Now consider this uncorrelated NOT-IN subquery:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from T1 where T1.x not in (select y from T2)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Should produce (if I remember my SQL semantics correctly), an empty result i.e. 0 rows.&lt;/p&gt;

&lt;p&gt;This is because &quot;not in&quot; is equivalent to &amp;lt;&amp;gt; ALL. If the inner subquery produces a null, then its comparison with anything always produces null. Therefore, &amp;lt;&amp;gt; ALL check fails for every x from T1. Therefore, the result is empty.&lt;/p&gt;

&lt;p&gt;According to section 2.2.1, the transformation to LOJ with null check will look like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from T1 Left Outer Join (select y from T2) sq1 on (T1.x=sq1.y) where sq1.y is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The LOJ will produce rows like this:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;T1.x&lt;/th&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;T2.y&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; null&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;null&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; null&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Applying the null filter after the LOJ produces two rows. This is an incorrect result. If this case is already covered in your implementation, please ignore the comment.&lt;/p&gt;</comment>
                            <comment id="13815110" author="snarayanan" created="Wed, 6 Nov 2013 18:22:19 +0000"  >&lt;p&gt;Another comment on the design doc:&lt;/p&gt;

&lt;p&gt;Section 2.4&lt;/p&gt;

&lt;p&gt;&quot;Not Exists has the same semantics as a correlated Not In Operator without the SubQuery Expression&quot;&lt;/p&gt;

&lt;p&gt;This is not strictly true, again because of nulls in subquery. Let&apos;s take the same tables as in previous comment. Now let&apos;s consider the not-exists query.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from T1 where not exists (select * from T2 where T2.y=T1.x)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The result for this query should be:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;T1.x&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;null&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;The LOJ with null filter transformation works for &quot;Not Exists&quot;, but not for &quot;Not In&quot;. Again, if your implementation already takes care of this, please ignore.&lt;/p&gt;

&lt;p&gt;My head hurts &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13815290" author="rhbutani" created="Wed, 6 Nov 2013 21:05:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=snarayanan&quot; class=&quot;user-hover&quot; rel=&quot;snarayanan&quot;&gt;Sivaramakrishnan Narayanan&lt;/a&gt; thanks for reviewing the doc. This is very helpful. Will add your eg to the Spec.&lt;br/&gt;
You are right, the transformation doesn&apos;t work in case of nulls for &apos;Not In&apos;. &lt;br/&gt;
Not sure how to solve this easily. Any thoughts? &lt;br/&gt;
One thought is to do a Cross product and then a Group By  on the Outer Query&apos;s columns, applying a new UDAF &apos;ALL&apos; that takes a predicate and returns true if all rows are true on the predicate. This was in the context of supporting queries of the form &apos; &amp;gt; ALL&apos; or &apos;&amp;lt; ANY&apos;. &lt;br/&gt;
So your e.g. would be transformed to something like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select t1.*, ALL(t1.x &amp;lt;&amp;gt; t2.y)
from t1 cross join t2
group by t1.x
having ALL(t1.x &amp;lt;&amp;gt; t2.y)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But this transformation can get quite involved if the Outer Query has a Group By and/or windowing. So wasn&apos;t planning to do this in the first pass.&lt;br/&gt;
Also a cross join followed by GBy is expensive. It may make sense to support these use cases with a SubQuery Operator.&lt;/p&gt;</comment>
                            <comment id="13823250" author="rhbutani" created="Fri, 15 Nov 2013 03:42:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=snarayanan&quot; class=&quot;user-hover&quot; rel=&quot;snarayanan&quot;&gt;Sivaramakrishnan Narayanan&lt;/a&gt; have updated the Spec with your example and proposed a transformation. &lt;br/&gt;
The proposal is to join in a extra subquery that counts the number of nulls.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12480290">HIVE-1799</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12652082">HIVE-4697</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12679333">HIVE-5830</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12675119">HIVE-5613</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12675121">HIVE-5614</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12675125">HIVE-5615</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12611787">HIVE-3577</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12437330">HIVE-870</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12608304" name="D13443.1.patch" size="189341" author="phabricator@reviews.facebook.net" created="Mon, 14 Oct 2013 17:14:43 +0000"/>
                            <attachment id="12609074" name="D13443.2.patch" size="196238" author="phabricator@reviews.facebook.net" created="Fri, 18 Oct 2013 00:58:44 +0000"/>
                            <attachment id="12590143" name="HIVE-784.1.patch.txt" size="26314" author="mweaverh" created="Sat, 29 Jun 2013 01:50:49 +0000"/>
                            <attachment id="12606522" name="HIVE-784.2.patch" size="191653" author="rhbutani" created="Thu, 3 Oct 2013 04:13:36 +0000"/>
                            <attachment id="12614003" name="SubQuerySpec.pdf" size="344638" author="rhbutani" created="Fri, 15 Nov 2013 03:35:42 +0000"/>
                            <attachment id="12606927" name="tpchQueriesUsingSubQueryClauses.sql" size="6266" author="rhbutani" created="Fri, 4 Oct 2013 23:26:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Feb 2013 09:39:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42725</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122548</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Not ready for release</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-785] Add RecordWriter for ScriptOperator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-785</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-708&quot; title=&quot;Add TypedBytes SerDe for transform&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-708&quot;&gt;&lt;del&gt;HIVE-708&lt;/del&gt;&lt;/a&gt; added RecordReader, but it is hardcoding a &quot;RecordWriter&quot; that uses newline for Text and write out data directly for BytesWritable.&lt;br/&gt;
We should make this configurable as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433869">HIVE-785</key>
            <summary>Add RecordWriter for ScriptOperator</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Aug 2009 17:40:36 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:30 +0000</updated>
                            <resolved>Tue, 1 Sep 2009 21:42:46 +0000</resolved>
                                    <version>0.5.0</version>
                                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12750011" author="namit" created="Tue, 1 Sep 2009 17:52:33 +0000"  >&lt;p&gt;some more cleanups &lt;/p&gt;</comment>
                            <comment id="12750039" author="zshao" created="Tue, 1 Sep 2009 18:50:29 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-785&quot; title=&quot;Add RecordWriter for ScriptOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-785&quot;&gt;&lt;del&gt;HIVE-785&lt;/del&gt;&lt;/a&gt;.2.patch:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+++ common/src/java/org/apache/hadoop/hive/conf/HiveConf.java	(working copy)
+    HIVESCRIPTRECORDREADER(&lt;span class=&quot;code-quote&quot;&gt;&quot;hive.script.recordreader&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hive.contrib.util.typedbytes.TextRecordReader&quot;&lt;/span&gt;),
+    HIVESCRIPTRECORDWRITER(&lt;span class=&quot;code-quote&quot;&gt;&quot;hive.script.recordwriter&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hive.contrib.util.typedbytes.TextRecordWriter&quot;&lt;/span&gt;),
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;TextRecordReader/Writable is in org.apache.hadoop.hive.ql.exec package.&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TypedBytesWritableOutput {
...
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void write(Writable w) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (w &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; TypedBytesWritable) {
+      writeTypedBytes((TypedBytesWritable) w);
+    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (w &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; BytesWritable) {
+      writeBytes((BytesWritable) w);
+    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (w &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; ByteWritable) {
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This write method is not very efficient. I am OK with leaving it as it is (I guess it&apos;s from hadoop?), or we can optimize it by using object + objectInspector.&lt;/p&gt;</comment>
                            <comment id="12750042" author="namit" created="Tue, 1 Sep 2009 18:54:37 +0000"  >&lt;p&gt;loaded a old patch by mistake previously&lt;/p&gt;</comment>
                            <comment id="12750044" author="namit" created="Tue, 1 Sep 2009 18:55:30 +0000"  >&lt;p&gt;yes, the above code is copied from hadoop which we can remove once we stop supporting 17&lt;/p&gt;</comment>
                            <comment id="12750052" author="zshao" created="Tue, 1 Sep 2009 19:07:37 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-785&quot; title=&quot;Add RecordWriter for ScriptOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-785&quot;&gt;&lt;del&gt;HIVE-785&lt;/del&gt;&lt;/a&gt;.3.patch: &lt;br/&gt;
I still see the same default values in HiveConf.java ...&lt;/p&gt;</comment>
                            <comment id="12750097" author="zshao" created="Tue, 1 Sep 2009 21:06:40 +0000"  >&lt;p&gt;+1. Will test and commit.&lt;/p&gt;</comment>
                            <comment id="12750123" author="zshao" created="Tue, 1 Sep 2009 21:42:46 +0000"  >&lt;p&gt;Committed. Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12432879">HIVE-751</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12433872">HIVE-786</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12431727">HIVE-708</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12418260" name="hive.785.1.patch" size="99323" author="namit" created="Tue, 1 Sep 2009 16:44:10 +0000"/>
                            <attachment id="12418269" name="hive.785.2.patch" size="229049" author="namit" created="Tue, 1 Sep 2009 17:52:33 +0000"/>
                            <attachment id="12418278" name="hive.785.3.patch" size="229049" author="namit" created="Tue, 1 Sep 2009 18:54:37 +0000"/>
                            <attachment id="12418299" name="hive.785.4.patch" size="228903" author="namit" created="Tue, 1 Sep 2009 21:02:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Sep 2009 17:52:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73305</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-785&quot; title=&quot;Add RecordWriter for ScriptOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-785&quot;&gt;&lt;strike&gt;HIVE-785&lt;/strike&gt;&lt;/a&gt;. Add RecordWriter for ScriptOperator. (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-786] Move ql/.../ql/util/typedbytes and ql/.../ql/exec/TypedBytesRecordReader.java to contrib</title>
                <link>https://issues.apache.org/jira/browse/HIVE-786</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;These files are introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-708&quot; title=&quot;Add TypedBytes SerDe for transform&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-708&quot;&gt;&lt;del&gt;HIVE-708&lt;/del&gt;&lt;/a&gt;. They should belong to contrib.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433872">HIVE-786</key>
            <summary>Move ql/.../ql/util/typedbytes and ql/.../ql/exec/TypedBytesRecordReader.java to contrib</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Aug 2009 17:44:55 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:27 +0000</updated>
                            <resolved>Tue, 1 Sep 2009 22:23:49 +0000</resolved>
                                    <version>0.5.0</version>
                                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12750144" author="namit" created="Tue, 1 Sep 2009 22:23:49 +0000"  >&lt;p&gt;fixed as part of 785&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12433869">HIVE-785</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12431727">HIVE-708</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Sep 2009 22:23:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73304</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122550</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-787] Hive Freeway - support near-realtime data processing</title>
                <link>https://issues.apache.org/jira/browse/HIVE-787</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Most people are using Hive for daily (or at most hourly) data processing.&lt;br/&gt;
We want to explore what are the obstacles for using Hive for 15 minutes, 5 minutes or even 1 minute data processing intervals, and remove these obstacles.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433882">HIVE-787</key>
            <summary>Hive Freeway - support near-realtime data processing</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Aug 2009 21:51:22 +0000</created>
                <updated>Wed, 5 Jul 2017 14:09:13 +0000</updated>
                            <resolved>Wed, 5 Jul 2017 14:09:13 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>22</watches>
                                                                <comments>
                            <comment id="12747157" author="appodictic" created="Tue, 25 Aug 2009 00:19:05 +0000"  >&lt;p&gt;What about some scribe like feature where the MAP phase or REDUCE phase can write/append to hive table and partition&lt;/p&gt;</comment>
                            <comment id="12747440" author="appodictic" created="Tue, 25 Aug 2009 14:33:42 +0000"  >&lt;p&gt;My previous comment was unclear. Now that Hadoop has append support, it would be nice to be able to write directly from a Hadoop Job doing data ingestion directly to a hive table. In my case, I am pulling files info DFS to be later added with &apos;add file&apos;. It would be nice if I had a HiveOutputFormat and i could emit() data to hive.&lt;/p&gt;</comment>
                            <comment id="12926192" author="hammer" created="Fri, 29 Oct 2010 07:09:47 +0000"  >&lt;p&gt;More details on the Data Freeway implementation at Facebook: &lt;a href=&quot;http://vimeo.com/15337985&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://vimeo.com/15337985&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16074815" author="appodictic" created="Wed, 5 Jul 2017 14:09:13 +0000"  >&lt;p&gt;The rise of n million stream processing solutions makes it unlikely anyone would attempt to implement this directly. It looks like people are using calcite in real time platforms like Samza so in effect I would say this was done in another way. Reopen if you feel differently.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12433885">HIVE-788</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12434111">HIVE-804</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12433904">HIVE-793</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12459769">HIVE-1263</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12415536">HIVE-306</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Aug 2009 00:19:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42724</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 28 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122551</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-788] Triggers when a new partition is created for a table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-788</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;One requirement for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-787&quot; title=&quot;Hive Freeway - support near-realtime data processing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-787&quot;&gt;&lt;del&gt;HIVE-787&lt;/del&gt;&lt;/a&gt; is that users would like to run a command whenever a new partition of a Hive table gets created.&lt;/p&gt;

&lt;p&gt;There are several ways to achieve this functionality:&lt;/p&gt;

&lt;p&gt;A. Probe and wait: We can have the scripts running in a loop checking if a new partition is created.&lt;br/&gt;
  Pros: easy to write, easy to control&lt;br/&gt;
  Cons: will introduce another delay based on the probing interval.&lt;/p&gt;

&lt;p&gt;B. Triggered: The command is registered inside the hive metastore. Whenever a partition gets created, we run the registered command. &lt;/p&gt;

&lt;p&gt;Several questions around option B are:&lt;br/&gt;
1. whether to support registration of HiveQL or shell command;&lt;br/&gt;
2. which machine/environment to run the command;&lt;br/&gt;
3. what to do if the registered command failed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433885">HIVE-788</key>
            <summary>Triggers when a new partition is created for a table</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Aug 2009 22:42:24 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:04 +0000</updated>
                            <resolved>Sun, 23 Oct 2011 11:57:06 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12747151" author="zshao" created="Tue, 25 Aug 2009 00:07:06 +0000"  >&lt;p&gt;For A, we can add a command to Hive to return a partition with partition keys greater than a given partition. Something like &quot;wait for next partition of table xxx &lt;span class=&quot;error&quot;&gt;&amp;#91;greater than ds=yyy, ts=zzz&amp;#93;&lt;/span&gt;&quot;. This command will return the first partition after the given partition. If the wait command is implemented natively using hive, the cost of each probe will be just a SQL query on the metastore (so the probe interval can be something like one minute or less).&lt;/p&gt;

&lt;p&gt;Once we get the new partition, the client can decide what to do. This can avoid hard questions like B.1, B.2, B.3.&lt;/p&gt;</comment>
                            <comment id="12747158" author="appodictic" created="Tue, 25 Aug 2009 00:20:00 +0000"  >&lt;p&gt;It would also be nice to triffer when a new file is added to the table. I do alot of &quot;load data infile&quot; to already existing partitions.&lt;/p&gt;</comment>
                            <comment id="12747177" author="athusoo" created="Tue, 25 Aug 2009 01:47:39 +0000"  >&lt;p&gt;The idea here is similar to DML triggers. If we do this as triggers on the insert and load statements then we can address Edward&apos;s use case as well. Basically whenever data is added to a table a trigger gets executed. Look at DML triggers at&lt;/p&gt;

&lt;p&gt;Look at&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/trigger-syntax.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/trigger-syntax.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The DML triggers may be before or after inserts. You can find similar examples with Oracle.&lt;/p&gt;

&lt;p&gt;One variation is obviously to execute a user script when the trigger fires.&lt;/p&gt;

&lt;p&gt;A is better if the number of such scripts is low in number but if more and more users use these mechanisms it become quickly non performant and would put a lot of load on the metastore. Traditionally B has been the model is most RDBMSs so when we call these triggers users would expect similar functionality perhaps.&lt;/p&gt;</comment>
                            <comment id="12747185" author="appodictic" created="Tue, 25 Aug 2009 02:08:51 +0000"  >&lt;p&gt;I reviewed &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/trigger-syntax.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/trigger-syntax.html&lt;/a&gt; pretty cool.  Would a trigger be implemented as a java class implementing an interface or would the functionality be provided by a meta language? I understand how B would work. The probe and wait is tricky, because what component will be doing that? Concurrent probes? It seems like a user can write a probe wait themselves outside of hive.&lt;/p&gt;</comment>
                            <comment id="12747660" author="zshao" created="Tue, 25 Aug 2009 21:31:24 +0000"  >&lt;p&gt;Edward, yes, by A I mean the user will manage and run a script himself, and the script will call a Hive command which waits for a new partition to appear.&lt;/p&gt;

&lt;p&gt;Talked offline with Ashish about the 3 questions of B. &lt;br/&gt;
1. We will support shell command for now. The reason is that users can hook the trigger up with some other existing job/process management tool to monitor the status of the triggered command.&lt;br/&gt;
2. The MoveTask (which calls db.loadTable and db.loadPartition) will be running the shell command on the same machine that loads the load/partition. (Since there may not be a HiveServer available)&lt;br/&gt;
3.  If the shell command failed, the move task will return failure (while the new table/partition is already created / data updated in case of overwrite). This is also a simple choice because we don&apos;t have the concept of transactions/roll back yet.&lt;/p&gt;

&lt;p&gt;So it seems B will be a better way to go.&lt;/p&gt;


&lt;p&gt;The next question would be, what are the types of trigger we want to support now:&lt;br/&gt;
1. On new partition creation in a specified table&lt;br/&gt;
2. On data change (overwrite/append) in a specified table (or any partitions of a specified table)&lt;/p&gt;

&lt;p&gt;There might be more but it seems these two are highly wanted.&lt;/p&gt;</comment>
                            <comment id="12747679" author="appodictic" created="Tue, 25 Aug 2009 21:55:34 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;what are the types of trigger we want to support now&lt;/p&gt;

&lt;p&gt;I have an idea. HiveHistory already has events in an object and textual form. Would the events above  appear in a HiveHistory message. If so, fire each HiveHistory event to external script?&lt;/p&gt;

</comment>
                            <comment id="12969992" author="ashutoshc" created="Thu, 9 Dec 2010 22:51:25 +0000"  >&lt;p&gt;What is the status of this issue? Is anyone actively working on it?&lt;/p&gt;</comment>
                            <comment id="12971522" author="ashutoshc" created="Wed, 15 Dec 2010 01:50:47 +0000"  >&lt;p&gt;Seems like no one is working on it. Then question then is  is it considered to be useful feature for Hive and would people like to use it if its there?&lt;/p&gt;</comment>
                            <comment id="12971810" author="appodictic" created="Wed, 15 Dec 2010 20:04:34 +0000"  >&lt;p&gt;I can see it being very useful for regenerating indexes, or do we already have another system in place for this?&lt;/p&gt;</comment>
                            <comment id="13133619" author="ashutoshc" created="Sun, 23 Oct 2011 11:57:06 +0000"  >&lt;p&gt;This is taken care of in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2038&quot; title=&quot;Metastore listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2038&quot;&gt;&lt;del&gt;HIVE-2038&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12433882">HIVE-787</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Aug 2009 00:20:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42723</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 14 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122552</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-789] Add get_unique_id() call to metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-789</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As noted in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-718&quot; title=&quot;Load data inpath into a new partition without overwrite does not move the file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-718&quot;&gt;&lt;del&gt;HIVE-718&lt;/del&gt;&lt;/a&gt;, it can be tough to avoid race conditions when multiple clients are trying to move files into the same directory. This patch adds a get_unique_id() call to the metastore that returns the current value from an incrementing JDO Sequence so that clients can avoid some races without locks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433886">HIVE-789</key>
            <summary>Add get_unique_id() call to metastore</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tlipcon">Todd Lipcon</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Aug 2009 22:59:18 +0000</created>
                <updated>Mon, 12 Apr 2010 18:43:32 +0000</updated>
                            <resolved>Mon, 12 Apr 2010 18:43:32 +0000</resolved>
                                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12747130" author="tlipcon" created="Mon, 24 Aug 2009 23:01:03 +0000"  >&lt;p&gt;This patch implements get_unique_id.&lt;/p&gt;

&lt;p&gt;One concern: do I need to do any kind of migration script for metastore databases? I don&apos;t know how metastore schema migrations are done from release to release.&lt;/p&gt;</comment>
                            <comment id="12747131" author="tlipcon" created="Mon, 24 Aug 2009 23:05:20 +0000"  >&lt;p&gt;Forgot to mention - this patch is against branch-0.4.0, though it shouldn&apos;t be hard to apply the same thing to trunk. Assuming this seems like a reasonable way to fix the races in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-718&quot; title=&quot;Load data inpath into a new partition without overwrite does not move the file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-718&quot;&gt;&lt;del&gt;HIVE-718&lt;/del&gt;&lt;/a&gt; I&apos;ll port it to trunk.&lt;/p&gt;</comment>
                            <comment id="12792249" author="tlipcon" created="Fri, 18 Dec 2009 00:13:17 +0000"  >&lt;p&gt;I&apos;d be fine if you closed this as wontfix - it was depended on by some stuff a while ago, but if you have better solutions, I&apos;m all for them &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12856113" author="tlipcon" created="Mon, 12 Apr 2010 18:43:32 +0000"  >&lt;p&gt;Resolving as wontfix - this was a proposed part of a solution, but no longer applicable.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12432077">HIVE-718</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12417545" name="hive-789.patch" size="48768" author="tlipcon" created="Mon, 24 Aug 2009 23:01:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122553</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-790] race condition related to ScriptOperator + UnionOperator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-790</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ScriptOperator uses a second thread to output the rows to the children operators. In a corner case which contains a union, 2 threads might be outputting data into the same operator hierarchy and caused race conditions.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE tablea (cola STRING);
SELECT *
FROM (
    SELECT TRANSFORM(cola)
    USING &lt;span class=&quot;code-quote&quot;&gt;&apos;cat&apos;&lt;/span&gt;
    AS cola
    FROM tablea
  UNION ALL
    SELECT cola as cola
    FROM tablea
) a;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12433894">HIVE-790</key>
            <summary>race condition related to ScriptOperator + UnionOperator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Aug 2009 00:56:09 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:18 +0000</updated>
                            <resolved>Tue, 1 Sep 2009 21:36:58 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12747455" author="he yongqiang" created="Tue, 25 Aug 2009 15:15:09 +0000"  >&lt;p&gt;This query can not be compiled with the truck code.&lt;/p&gt;</comment>
                            <comment id="12747527" author="zshao" created="Tue, 25 Aug 2009 18:08:03 +0000"  >&lt;p&gt;updated the query.&lt;/p&gt;</comment>
                            <comment id="12747574" author="nzhang" created="Tue, 25 Aug 2009 19:00:49 +0000"  >&lt;p&gt;The above query still has semantics analysis error. Here&apos;s a working example demonstrating the bug:&lt;/p&gt;

&lt;p&gt;select * from (&lt;br/&gt;
    select transform(a) using &apos;cat&apos; as cola from nzhang_tt &lt;br/&gt;
  union all &lt;br/&gt;
    select transform(a) using &apos;cat&apos; as cola from nzhang_tt) s;&lt;/p&gt;


&lt;p&gt;The result is 3 rows:&lt;br/&gt;
1&lt;br/&gt;
2&lt;br/&gt;
3&lt;/p&gt;

&lt;p&gt;But the query:&lt;/p&gt;

&lt;p&gt;select cola from (&lt;br/&gt;
    select a as cola from nzhang_tt &lt;br/&gt;
  union all &lt;br/&gt;
    select a as cola from nzhang_tt) s;&lt;/p&gt;

&lt;p&gt;returns 6 rows:&lt;/p&gt;

&lt;p&gt;1&lt;br/&gt;
1&lt;br/&gt;
2&lt;br/&gt;
2&lt;br/&gt;
3&lt;br/&gt;
3&lt;/p&gt;
</comment>
                            <comment id="12747611" author="athusoo" created="Tue, 25 Aug 2009 20:02:08 +0000"  >&lt;p&gt;Which one is the correct result?&lt;/p&gt;</comment>
                            <comment id="12747624" author="nzhang" created="Tue, 25 Aug 2009 20:27:23 +0000"  >&lt;p&gt;The 6-row one is correct since it is  &quot;union all&quot; operator. &lt;/p&gt;</comment>
                            <comment id="12747659" author="nzhang" created="Tue, 25 Aug 2009 21:30:28 +0000"  >&lt;p&gt;Another related bug:&lt;/p&gt;

&lt;p&gt;&amp;#8211; bug1&lt;br/&gt;
select * from (&lt;br/&gt;
    select transform(b) using &apos;cat&apos; as cola from nzhang_tt&lt;br/&gt;
  union all&lt;br/&gt;
    select transform(c) using &apos;cat&apos; as cola from nzhang_tt) s;&lt;/p&gt;

&lt;p&gt;results:&lt;br/&gt;
  NULL&lt;br/&gt;
  NULL&lt;br/&gt;
  NULL&lt;/p&gt;

&lt;p&gt;&amp;#8211; bug2&lt;br/&gt;
select * from (&lt;br/&gt;
    select b as cola from nzhang_tt&lt;br/&gt;
  union all&lt;br/&gt;
    select c as cola from nzhang_tt) s;&lt;br/&gt;
results:&lt;br/&gt;
  NULL&lt;br/&gt;
  b&lt;br/&gt;
  NULL&lt;br/&gt;
  e&lt;br/&gt;
  NULL&lt;br/&gt;
  i&lt;/p&gt;

&lt;p&gt;Data in the table:&lt;/p&gt;

&lt;p&gt;select b, c from nzhang_tt;&lt;/p&gt;

&lt;p&gt;results: &lt;br/&gt;
  b	c&lt;br/&gt;
  e	f&lt;br/&gt;
  i	j&lt;/p&gt;

&lt;p&gt;This bug may not be only due to race condition between threads. Investigating the more generic bug in UNION operator.&lt;/p&gt;</comment>
                            <comment id="12747681" author="nzhang" created="Tue, 25 Aug 2009 22:01:56 +0000"  >&lt;p&gt;Found out the reason for bug2: nzhang_tt is stored as RCFile and it turns out to be a bug in RCFile rather than UNION all. Will file a bug for RCFile. Bug1 and the original bug is still caused by multi-threading. &lt;/p&gt;</comment>
                            <comment id="12747743" author="he yongqiang" created="Wed, 26 Aug 2009 02:21:00 +0000"  >&lt;p&gt;Hi Ning, i uploaded a patch for hive-796. That is a bug in HiveInputFormat which incorrectly erases column ids previously set. Can you have a try again? Thanks.&lt;/p&gt;</comment>
                            <comment id="12748222" author="nzhang" created="Thu, 27 Aug 2009 00:39:00 +0000"  >&lt;p&gt;This patch solves the bug in &quot;UNION ALL&quot; two SCRIPT operators but only show results from one operator. The reason is because the UNION Operator has two parents and when one of the parent is still OPEN, it shouldn&apos;t close its child operator. &lt;/p&gt;

&lt;p&gt;Will look the race condition issue and try to reproduce it.&lt;/p&gt;</comment>
                            <comment id="12748229" author="zshao" created="Thu, 27 Aug 2009 01:32:13 +0000"  >&lt;p&gt;@Hive-790.patch:&lt;br/&gt;
1547:  If this operator can be closed only if all parents are in the state FINISHED. &lt;br/&gt;
An extra &quot;If&quot; at the beginning?&lt;/p&gt;

&lt;p&gt;Do we need a new state? I think &quot;CLOSE&quot; is enough - it means CLOSE is called on an operator. A child just need to check if all parents&apos; states are CLOSE.&lt;br/&gt;
We just need another function &quot;areAllParentsClosed&quot;.&lt;/p&gt;


&lt;p&gt;The result of the test case is non-deterministic. Can you add a &quot;SORT BY&quot; at the end?&lt;/p&gt;</comment>
                            <comment id="12748262" author="nzhang" created="Thu, 27 Aug 2009 05:05:34 +0000"  >&lt;p&gt;@zheng, I&apos;ll fix the comment and the test query.&lt;/p&gt;

&lt;p&gt;As for the new state, maybe &quot;FINISH&quot; is not a good name for it but I think we need two states since they have two different situations when an operator has two or more parents: &lt;br/&gt;
 1) the close() is called on this operator, but it doesn&apos;t guarantee all its child operators are also called close() (the FINISH state)&lt;br/&gt;
 2) the close() is called and all its children are called close() (the CLOSE state).&lt;/p&gt;

&lt;p&gt;The current code set the state CLOSE at the end of the function, which means all its children (eventually desendants) are closed. So it is the second semantics. What you proposed is the first semantics, to implement which we need to move the statement to set the state to CLOSE to the beginning of the close() function (just after the check of the CLOSE state and return if true). &lt;/p&gt;

&lt;p&gt;We need both both states since if we just have 1 state (CLOSE) and assign it in the beginning, if there are two parents to the operator, when the first parent call close(), this operator will set it state to CLOSE and just return without calling close() to all its children (since the other parent has not been closed). When the second parent call close(), it just return since its state is already closed. So this end up all children are not closed. We should not remove the CLOSE state checkup in the beginning since that may cause an operator being closed multiple times.&lt;/p&gt;

&lt;p&gt;We cannot use just the CLOSE state as it is in the current implementation as well since the CLOSE state is set at the end of the close() function. When a parent calls this operator&apos;s close(), the parent&apos;s state is still not in CLOSE. So we end up just return and don&apos;t close the child operators. If we have the FINISH state and this state is set at the beginning of close(), whenever a parent calls close(), the parent is in the FINISH state and this operator can check and treat FINISH the same as CLOSE except that this operator hasn&apos;t return yet. &lt;/p&gt;</comment>
                            <comment id="12748265" author="nzhang" created="Thu, 27 Aug 2009 05:44:03 +0000"  >&lt;p&gt;This patch incorporated Zheng&apos;s comments. &lt;/p&gt;

&lt;p&gt;Also changed the UnionOperator.processOp to synchronized. This seems fixed the race condition issue &amp;#8211; the 2nd mapping phase passed w/o IOException. The reducers are still running but the &quot;UNION&quot; and &quot;SCRIPT&quot; operators should already passed. &lt;/p&gt;

&lt;p&gt;Will look into any possible performance hit of the introduction of synchronized. We should open another JIRA if there is any. &lt;/p&gt;</comment>
                            <comment id="12748277" author="zshao" created="Thu, 27 Aug 2009 06:41:33 +0000"  >&lt;p&gt;Overall it looks good.&lt;/p&gt;

&lt;p&gt;Can you measure the performance impact by running a union of 2 simple &quot;select *&quot;? If it&apos;s less than 5%, let&apos;s just leave it as it is. Otherwise let&apos;s open another JIRA to improve it.&lt;/p&gt;

&lt;p&gt;UnionOperator&apos;s close() also needs to be synchronized.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;We need both both states since if we just have 1 state (CLOSE) and assign it in the beginning, if there are two parents to the operator, when the first parent call close(), this operator will set it state to CLOSE and just return without calling close() to all its children (since the other parent has not been closed). When the second parent call close(), it just return since its state is already closed. So this end up all children are not closed. We should not remove the CLOSE state checkup in the beginning since that may cause an operator being closed multiple times.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can we do this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void close(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; abort) {
  &lt;span class=&quot;code-comment&quot;&gt;// only close when all parents are closed.
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!allParentsAreClosed()) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.state = CLOSE;

  &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=0; i&amp;lt;children.size(); i++) {
    children.get(i).close(abort);
  }
}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="12748278" author="zshao" created="Thu, 27 Aug 2009 06:47:52 +0000"  >&lt;p&gt;The code above does not allow simple overriding of the close function.&lt;br/&gt;
The following code does.  It mimics the structure of initialize(...).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void close(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; abort) {
  &lt;span class=&quot;code-comment&quot;&gt;// only close when all parents are closed.
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!allParentsAreClosed()) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.state = CLOSE;
  &lt;span class=&quot;code-comment&quot;&gt;// Close &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.closeOp(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; abort);

  &lt;span class=&quot;code-comment&quot;&gt;// Close all children
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=0; i&amp;lt;children.size(); i++) {
    children.get(i).close(abort);
  }
}

&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void closeOp(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; abort) {
  &lt;span class=&quot;code-comment&quot;&gt;// Different &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; will have different states.
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;I am also OK if you do want to add a new state, but please rename the states to something like &quot;CLOSING, CLOSED&quot;, instead of &quot;FINISHED&quot;, &quot;CLOSE&quot; which are harder to understand.&lt;/p&gt;</comment>
                            <comment id="12748279" author="nzhang" created="Thu, 27 Aug 2009 07:02:49 +0000"  >&lt;p&gt;These functions lacks the CLOSE state check at the beginning:&lt;/p&gt;

&lt;p&gt;    if ( state == State.CLOSE )&lt;br/&gt;
      return;&lt;/p&gt;

&lt;p&gt;So if the close() function is called twice, there is no guard to guarantee the body of the close()  (meaning closeOp and close() of all its children) is called only once. If we can guarantee the close() is called only once, then this implementation should be fine and we don&apos;t need two states. &lt;/p&gt;</comment>
                            <comment id="12748420" author="zshao" created="Thu, 27 Aug 2009 16:18:47 +0000"  >&lt;p&gt;Added the guard.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void close(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; abort) {

  &lt;span class=&quot;code-comment&quot;&gt;// Do not close twice
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.state == CLOSE) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
  }

  &lt;span class=&quot;code-comment&quot;&gt;// only close when all parents are closed.
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!allParentsAreClosed()) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.state = CLOSE;
  &lt;span class=&quot;code-comment&quot;&gt;// Close &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.closeOp(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; abort);

  &lt;span class=&quot;code-comment&quot;&gt;// Close all children
&lt;/span&gt;  &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=0; i&amp;lt;children.size(); i++) {
    children.get(i).close(abort);
  }
}

&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void closeOp(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; abort) {
  &lt;span class=&quot;code-comment&quot;&gt;// Different &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; will have different states.
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12748477" author="nzhang" created="Thu, 27 Aug 2009 17:54:09 +0000"  >&lt;p&gt;Discussed with Zheng offline. Zheng&apos;s proposal works as long as we change the semantics of CLOSE state from &quot;all its parents and children are closed&quot; to &quot;all its parents are closed, but not necessarily its children&quot;. It should be fine since we don&apos;t need to first semantics now. If it is needed later we probably need to add another state. &lt;/p&gt;

&lt;p&gt;Also for the close() to be synchronized, it seems not necessary for the script operator since close() is always called by the main thread and the union operator&apos;s close is called by one script operator at a time. &lt;/p&gt;



</comment>
                            <comment id="12748501" author="nzhang" created="Thu, 27 Aug 2009 18:49:16 +0000"  >&lt;p&gt;Incorporated Zheng&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="12748522" author="nzhang" created="Thu, 27 Aug 2009 19:32:13 +0000"  >&lt;p&gt;Measured the performance of UnionOperator.processOp() sync vs. no-sync. Surprisingly the sync one performs a little bit better. Here&apos;s the query:&lt;/p&gt;

&lt;p&gt;insert overwrite table tmp_nzhang_ad_union select * from (select * from nzhang_ad_imps_2_lazysimple union all select * from nzhang_ad_imps_2_lazysimple) s;&lt;/p&gt;

&lt;p&gt;The table nzhang_ad_imps_2_lazysimple has 180k rows and about 100MB. I run the query twice for each test and looked at the mapper&apos;s log for the wallclock time (end_time-begin_time).&lt;/p&gt;

&lt;p&gt;Sync:&lt;br/&gt;
mappers of 1st MapRed job:    avg over all mappers of two runs: 3.75025 sec&lt;br/&gt;
mappers of 2nd MapRed Job: avg over all mappers of two runs: 5.152 sec.&lt;/p&gt;

&lt;p&gt;No-sync:&lt;br/&gt;
mappers of 1st MapRed job:    avg over all mappers of two runs: 4.1065 sec&lt;br/&gt;
mappers of 2nd MapRed Job: avg over all mappers of two runs: 5.252 sec.&lt;/p&gt;</comment>
                            <comment id="12748527" author="nzhang" created="Thu, 27 Aug 2009 19:35:15 +0000"  >&lt;p&gt;BTW, the performance testing is on the test cluster, so no other jobs are running. &lt;/p&gt;</comment>
                            <comment id="12748580" author="zshao" created="Thu, 27 Aug 2009 21:25:17 +0000"  >&lt;p&gt;@Hive-790_3.patch:&lt;br/&gt;
We need to change the close() method in all XXXOperator to be named closeOp() (and possibly remove the check of &quot;this.STATE == CLOSE&quot;)&lt;/p&gt;

&lt;p&gt;Also, please run all tests and make sure they all pass.&lt;/p&gt;</comment>
                            <comment id="12749041" author="nzhang" created="Sat, 29 Aug 2009 00:18:17 +0000"  >&lt;p&gt;Attached a new patch Hive-790_4.patch that solves some other issues when running unit tests. One issue is found that some operators are are called close(). This may cause problem for union_all operator that assumes all parents should be closed before it can close. &lt;br/&gt;
Also change the Operator.close() to be a generic close function for all operators. Other operators that inherent it shouldn&apos;t reimplement the logic over and over again. If they have special clean up to do, include it in closeOp() which can be override from Operator.. &lt;/p&gt;
</comment>
                            <comment id="12749579" author="namit" created="Mon, 31 Aug 2009 19:07:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12749635" author="namit" created="Mon, 31 Aug 2009 21:41:03 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                            <comment id="12749638" author="zshao" created="Mon, 31 Aug 2009 21:45:39 +0000"  >&lt;p&gt;do we want to commit to both 0.4 and trunk since this is a bug fix?&lt;/p&gt;</comment>
                            <comment id="12749757" author="nzhang" created="Tue, 1 Sep 2009 04:56:34 +0000"  >&lt;p&gt;Tested performance on a larger data set: the base table is 47 million rows of ad_imps_2 with compressed storage of 89MB. The query is &lt;/p&gt;

&lt;p&gt;insert overwrite table Tmp select * from (select * from Base union all select * from Base) s;&lt;/p&gt;

&lt;p&gt;With synchronized UnionOperator.processOp(), mapper 1 got average time of 476.05 secs, mapper2 average time = 648.5 secs&lt;br/&gt;
With non-sync UnionOperator.processOp(), mapper 1 average = 476.34 secs, mapper2 average time = 655.117 sec. &lt;/p&gt;

&lt;p&gt;The union operator is executed in mapper 1 and there is almost no difference by introducing the synchronized keyword. So no new JIRA is needed for performance regression.&lt;/p&gt;</comment>
                            <comment id="12749967" author="namit" created="Tue, 1 Sep 2009 16:23:54 +0000"  >&lt;p&gt;I will try to apply the existing patch to 0.4, and see if it works&lt;/p&gt;</comment>
                            <comment id="12749970" author="namit" created="Tue, 1 Sep 2009 16:28:26 +0000"  >&lt;p&gt;@Ning, there were some problems with the patch when I applied to 0.4 - can you re-generate the patch for 0.4 &lt;/p&gt;</comment>
                            <comment id="12749971" author="namit" created="Tue, 1 Sep 2009 16:28:38 +0000"  >&lt;p&gt;need to fix for 0.4 also &lt;/p&gt;</comment>
                            <comment id="12750084" author="nzhang" created="Tue, 1 Sep 2009 20:26:57 +0000"  >&lt;p&gt;patch Hive_790_0.4.0.patch is the patch for branch 0.4.0. &lt;/p&gt;</comment>
                            <comment id="12750115" author="namit" created="Tue, 1 Sep 2009 21:36:58 +0000"  >&lt;p&gt;committed in 0.4 also - thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12417833" name="Hive-790.patch" size="11063" author="nzhang" created="Thu, 27 Aug 2009 00:39:00 +0000"/>
                            <attachment id="12417848" name="Hive-790_2.patch" size="12066" author="nzhang" created="Thu, 27 Aug 2009 05:44:03 +0000"/>
                            <attachment id="12417913" name="Hive-790_3.patch" size="12636" author="nzhang" created="Thu, 27 Aug 2009 18:49:16 +0000"/>
                            <attachment id="12418042" name="Hive-790_4.patch" size="19053" author="nzhang" created="Sat, 29 Aug 2009 00:18:17 +0000"/>
                            <attachment id="12418293" name="Hive_790_0.4.0.patch" size="17971" author="nzhang" created="Tue, 1 Sep 2009 20:26:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Aug 2009 15:15:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73302</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-791] udf to lookup hbase table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-791</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Retrieve the latest value: hbase_get(&apos;hbase_table_name&apos;, rowid, columnFamily, columnIdentifier)&lt;/p&gt;

&lt;p&gt;Retrieve for a specific timestamp: hbase_get(&apos;hbase_table_name&apos;, rowid, columnFamily, columnIdentifier, ts)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433896">HIVE-791</key>
            <summary>udf to lookup hbase table</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Aug 2009 01:20:02 +0000</created>
                <updated>Wed, 12 Aug 2015 15:50:02 +0000</updated>
                            <resolved>Wed, 12 Aug 2015 15:50:02 +0000</resolved>
                                                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13564062" author="ndimiduk" created="Mon, 28 Jan 2013 05:38:29 +0000"  >&lt;p&gt;Is this feature deprecated by external HBase table support?&lt;/p&gt;</comment>
                            <comment id="14693708" author="swarnim" created="Wed, 12 Aug 2015 15:49:34 +0000"  >&lt;p&gt;Please refer to the external table support to retrieve data from an existing HBase table.&lt;/p&gt;

&lt;p&gt;Wiki docs are here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ExternalTables&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LanguageManual DDL &amp;#8211; External Tables &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/StorageHandlers&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Design Docs &amp;#8211; Storage Handlers &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14693709" author="swarnim" created="Wed, 12 Aug 2015 15:49:51 +0000"  >&lt;p&gt;Resolving as &quot;Won&apos;t Fix&quot;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12431664">HIVE-705</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12434341">HIVE-806</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Jan 2013 05:38:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42722</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01513:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4584</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-792] support &quot;add archive&quot; in addition to &quot;add file&quot; and &quot;add jar&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-792</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In JobClient.java, we have:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (commandConf != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      files = commandConf.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;tmpfiles&quot;&lt;/span&gt;);
      libjars = commandConf.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;tmpjars&quot;&lt;/span&gt;);
      archives = commandConf.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;tmparchives&quot;&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The good thing about tmparchives is that TT will automatically unarchive the files (because &quot;tmparchives&quot; goes through DistributeCache.addCacheArchive, while TT won&apos;t do that for &quot;tmpfiles&quot;).&lt;/p&gt;


&lt;p&gt;We should have &quot;add archive&quot; which sets &quot;tmparchives&quot;.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12433897">HIVE-792</key>
            <summary>support &quot;add archive&quot; in addition to &quot;add file&quot; and &quot;add jar&quot;</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Aug 2009 01:20:13 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:29 +0000</updated>
                            <resolved>Wed, 26 Aug 2009 05:11:57 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12747169" author="zshao" created="Tue, 25 Aug 2009 01:23:50 +0000"  >&lt;p&gt;Details: (from ExecDriver.initialize(...) and JobClient.java)&lt;/p&gt;

&lt;p&gt;&quot;add file&quot; uses &quot;tmpfiles&quot; which goes to &quot;DistributedCache.addCacheFile&quot;&lt;br/&gt;
&quot;add jars&quot; uses &quot;tmpjars&quot; which goes to &quot;DistributedCache.addArchiveToClassPath&quot;&lt;br/&gt;
&quot;add archives&quot; should use &quot;tmparchives&quot; which goes to &quot;DistributedCache.addCacheArchive&quot;&lt;/p&gt;</comment>
                            <comment id="12747218" author="tlipcon" created="Tue, 25 Aug 2009 04:31:35 +0000"  >&lt;p&gt;Note that a lot of time you want to add a jar to the classpath without unpacking it. In that case you want &quot;addFileToClassPath&quot;. Unpacking is reasonably slow, as is the recursive delete when you&apos;re done&lt;/p&gt;</comment>
                            <comment id="12747224" author="zshao" created="Tue, 25 Aug 2009 05:14:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/viewvc/hadoop/mapreduce/trunk/src/java/org/apache/hadoop/mapred/JobClient.java?view=co&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/viewvc/hadoop/mapreduce/trunk/src/java/org/apache/hadoop/mapred/JobClient.java?view=co&lt;/a&gt;&lt;br/&gt;
In hadoop trunk, &quot;add jars&quot; uses &quot;tmpjars&quot; which goes to &quot;DistributedCache.addFileToClassPath&quot;.&lt;/p&gt;</comment>
                            <comment id="12747225" author="zshao" created="Tue, 25 Aug 2009 05:15:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/viewvc/hadoop/common/branches/branch-0.17/src/java/org/apache/hadoop/mapred/JobClient.java?view=co&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/viewvc/hadoop/common/branches/branch-0.17/src/java/org/apache/hadoop/mapred/JobClient.java?view=co&lt;/a&gt;&lt;br/&gt;
In hadoop 0.17, &quot;add jars&quot; uses &quot;tmpjars&quot; which goes to &quot;DistributedCache.addArchiveToClassPath&quot;.&lt;/p&gt;</comment>
                            <comment id="12747562" author="zshao" created="Tue, 25 Aug 2009 18:48:23 +0000"  >&lt;p&gt;@hive-792-2009-08-25.patch:&lt;br/&gt;
Line 9: archive -&amp;gt; archives: to keep all confs in sync.&lt;/p&gt;

&lt;p&gt;How is the user going to add an archive? We need a &quot;add archive&quot; command. &lt;br/&gt;
We also need a unit test (if possible).&lt;/p&gt;</comment>
                            <comment id="12747742" author="he yongqiang" created="Wed, 26 Aug 2009 02:16:22 +0000"  >&lt;p&gt;hive-792-2009-08-26.patch integrates Zheng&apos;s comments(Thanks Zheng!). I think &quot;add archive&quot; is supported by AddResourceProcessor, and we do not need to add extra code for that.&lt;/p&gt;</comment>
                            <comment id="12747744" author="zshao" created="Wed, 26 Aug 2009 02:21:48 +0000"  >&lt;p&gt;Can you point me to where the string &quot;archive&quot; is matched against in the code?&lt;br/&gt;
Also is it possible to add a test case?&lt;/p&gt;</comment>
                            <comment id="12747746" author="he yongqiang" created="Wed, 26 Aug 2009 02:44:09 +0000"  >&lt;p&gt;I think it is line 36 of  AddResourceProcessor:&lt;br/&gt;
if (tokens.length &amp;lt; 2 || (t = SessionState.find_resource_type(tokens&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;)) == null)&lt;/p&gt;

&lt;p&gt;But i can not find a way to add a testcase which can easily integrats with hive&apos;s test framework. Does there exist a testcase for &quot;add file&quot; or &quot;add jar&quot;, if yes, i can add a similar one.&lt;/p&gt;</comment>
                            <comment id="12747773" author="zshao" created="Wed, 26 Aug 2009 04:46:56 +0000"  >&lt;p&gt;+1. Will commit if test passes.&lt;/p&gt;</comment>
                            <comment id="12747782" author="zshao" created="Wed, 26 Aug 2009 05:11:57 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12417621" name="hive-792-2009-08-25.patch" size="2417" author="he yongqiang" created="Tue, 25 Aug 2009 14:48:49 +0000"/>
                            <attachment id="12417696" name="hive-792-2009-08-26.patch" size="2418" author="he yongqiang" created="Wed, 26 Aug 2009 02:16:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Aug 2009 04:31:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73301</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-792&quot; title=&quot;support &amp;quot;add archive&amp;quot; in addition to &amp;quot;add file&amp;quot; and &amp;quot;add jar&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-792&quot;&gt;&lt;strike&gt;HIVE-792&lt;/strike&gt;&lt;/a&gt;. Support &amp;quot;add archive&amp;quot; in addition to &amp;quot;add file&amp;quot; and &amp;quot;add jar&amp;quot;. (He Yongqiang via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-793] Create an external partition with multiple file/dir locations</title>
                <link>https://issues.apache.org/jira/browse/HIVE-793</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We should allow an external table/partitions to have multiple file/dir locations.&lt;br/&gt;
These tables/partitions will be read-only for Hive (since we don&apos;t know how to write data into them), but Hive should be able to read from the tables/partitions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433904">HIVE-793</key>
            <summary>Create an external partition with multiple file/dir locations</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Aug 2009 03:38:04 +0000</created>
                <updated>Tue, 25 Aug 2009 03:39:29 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12433882">HIVE-787</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42721</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08orr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48612</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-794] MergeTask should use COMPRESSRESULT instead of COMPRESSINTERMEDIATE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-794</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The MergeTask is responsible for merging small output files into bigger files for the final output table.&lt;br/&gt;
The compression settings to be used should be COMPRESSRESULT instead of COMPRESSINTERMEDIATE.&lt;/p&gt;

&lt;p&gt;GenMRFileSink1.java:172:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    FileSinkOperator newOutput = 
      (FileSinkOperator)OperatorFactory.getAndMakeChild(
         &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; fileSinkDesc(finalName, ts, 
                          parseCtx.getConf().getBoolVar(HiveConf.ConfVars.COMPRESSINTERMEDIATE)),
         fsRS, extract);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Associated mailing list discussion: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hadoop-hive-user/200908.mbox/%3C794f042d0908122114o7ddb8d18h4f444c1dfa16fa87@mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hadoop-hive-user/200908.mbox/%3C794f042d0908122114o7ddb8d18h4f444c1dfa16fa87@mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433918">HIVE-794</key>
            <summary>MergeTask should use COMPRESSRESULT instead of COMPRESSINTERMEDIATE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="saurabhnanda">Saurabh Nanda</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Aug 2009 08:21:56 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:18 +0000</updated>
                            <resolved>Wed, 26 Aug 2009 05:59:31 +0000</resolved>
                                    <version>0.4.0</version>
                    <version>0.5.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12747369" author="saurabhnanda" created="Tue, 25 Aug 2009 12:02:18 +0000"  >&lt;p&gt;I changed line# 172 given above to use COMPRESSRESULT. The resultant plans generated are available at &lt;a href=&quot;http://pastebin.com/m2c50c318&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/m2c50c318&lt;/a&gt; and &lt;a href=&quot;http://pastebin.com/m270c79ec&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/m270c79ec&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12747370" author="saurabhnanda" created="Tue, 25 Aug 2009 12:17:47 +0000"  >&lt;p&gt;And the final output table is compressed. So, the bugfix has been verified as well.&lt;/p&gt;</comment>
                            <comment id="12747786" author="saurabhnanda" created="Wed, 26 Aug 2009 05:37:00 +0000"  >&lt;p&gt;Patch attached. Strangely the &quot;Submit patch&quot; form did not offer me a chance to upload the patch file.&lt;/p&gt;</comment>
                            <comment id="12747794" author="zshao" created="Wed, 26 Aug 2009 05:59:31 +0000"  >&lt;p&gt;Committed. Thanks Saurabh!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12417702" name="HIVE-compression-fix.patch" size="728" author="saurabhnanda" created="Wed, 26 Aug 2009 05:36:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Aug 2009 12:02:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-794&quot; title=&quot;MergeTask should use COMPRESSRESULT instead of COMPRESSINTERMEDIATE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-794&quot;&gt;&lt;strike&gt;HIVE-794&lt;/strike&gt;&lt;/a&gt;. MergeTask should use COMPRESSRESULT. (Saurabh Nanda via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-795] Return better error messaging from HiveServer </title>
                <link>https://issues.apache.org/jira/browse/HIVE-795</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If an exception is thrown on the Hive server (i.e., when an invalid query is passed), the Hive server throws a HiveServerExcpeption to the client with a message like &quot;Query returned non-zero code: 10&quot;. A more informative description of the cause of the error should be returned.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433968">HIVE-795</key>
            <summary>Return better error messaging from HiveServer </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="billgraham">Bill Graham</assignee>
                                    <reporter username="billgraham">Bill Graham</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Aug 2009 18:37:58 +0000</created>
                <updated>Thu, 2 May 2013 02:29:23 +0000</updated>
                            <resolved>Tue, 22 Sep 2009 18:58:24 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12747569" author="billgraham" created="Tue, 25 Aug 2009 18:56:19 +0000"  >&lt;p&gt;To get better error messages from the Hive server, refactoring of the &lt;tt&gt;Driver&lt;/tt&gt; class is needed to propagate the message. I propose the following changes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Refactor &lt;tt&gt;Driver&lt;/tt&gt; with a new method like&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; &lt;tt&gt;public DriverResponse runCommand(String command)&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;It does the same thing as the current&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;public int run(String command)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;method, but instead returns a composite object which contains a &lt;tt&gt;responseCode&lt;/tt&gt; and &lt;tt&gt;errorMessage&lt;/tt&gt;. This method would be the favored one to use going forward, &lt;tt&gt;run&lt;/tt&gt; is just kept for backward compatibility and possibly deprecated.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Refactor &lt;tt&gt;HiveServer.execute(cmd)&lt;/tt&gt; to use &lt;tt&gt;Driver.runCommand(cmd)&lt;/tt&gt;. It will throw a &lt;tt&gt;HiveServerException&lt;/tt&gt; with &lt;tt&gt;responseCode&lt;/tt&gt; and &lt;tt&gt;errorMessage&lt;/tt&gt; info.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add a &lt;tt&gt;responseCode&lt;/tt&gt; field to &lt;tt&gt;HiveServerException&lt;/tt&gt;. &lt;tt&gt;HiveServer.execute(cmd)&lt;/tt&gt; will set the &lt;tt&gt;message&lt;/tt&gt; and &lt;tt&gt;responseCode&lt;/tt&gt; fields when throwing a new &lt;tt&gt;HiveServerException&lt;/tt&gt;, instead of a string message containing the response code.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The JDBC client can catch &lt;tt&gt;HiveServerException&lt;/tt&gt; in &lt;tt&gt;HiveStatement.executQuery(sql)&lt;/tt&gt; and create a meaningful &lt;tt&gt;SQLException&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12747583" author="rsm" created="Tue, 25 Aug 2009 19:08:26 +0000"  >&lt;p&gt;+1 to the idea.&lt;/p&gt;</comment>
                            <comment id="12747701" author="billgraham" created="Tue, 25 Aug 2009 22:56:48 +0000"  >&lt;p&gt;I&apos;ve got this implemented with better error messaging using the approach described above and the message returned is now better. The &lt;tt&gt;Driver&lt;/tt&gt; response codes are pretty coarse though (10=&lt;tt&gt;SemanticException&lt;/tt&gt;,11=&lt;tt&gt;ParseException&lt;/tt&gt;,12=&lt;tt&gt;Unknown&lt;/tt&gt;), so I can&apos;t set a very good.ANSI SQL-99 SQLState in &lt;tt&gt;SQLException&lt;/tt&gt;. We have all this info known on the server though, so we should tackle this as well.&lt;/p&gt;

&lt;p&gt;I propose a few more modifications to support valid SQLStates on the client:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Extend the &lt;tt&gt;org.apache.hadoop.hive.ql.parse.ErrorMsg&lt;/tt&gt; &lt;tt&gt;enum&lt;/tt&gt; to include a &lt;tt&gt;SQLState&lt;/tt&gt; field in addition to the current &lt;tt&gt;mesg&lt;/tt&gt; string. We&apos;d use the SQLStates defined in section 12.5 of &lt;a href=&quot;http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt&lt;/a&gt; or possibly borrow some the of the sql state extensions used by MySQL.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add a &lt;tt&gt;SQLState&lt;/tt&gt; field to &lt;tt&gt;HiveServerException&lt;/tt&gt; in addition to the &lt;tt&gt;errorCode&lt;/tt&gt; field.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;When &lt;tt&gt;HiveServer&lt;/tt&gt; builds the &lt;tt&gt;HiveServerException&lt;/tt&gt;, it will look up the &lt;tt&gt;SQLCode&lt;/tt&gt; mapped to the exceptions message in the &lt;tt&gt;ErrorMsg&lt;/tt&gt; enum.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Using &lt;tt&gt;ErrorMsg&lt;/tt&gt; to couple the message to the sql state isn&apos;t the most elegant approach, but it&apos;s the best way I can thing of transmitting this info without refactoring all the places where new exceptions are thrown. Thoughts?&lt;/p&gt;</comment>
                            <comment id="12748528" author="billgraham" created="Thu, 27 Aug 2009 19:35:37 +0000"  >&lt;p&gt;Attaching &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-795&quot; title=&quot;Return better error messaging from HiveServer &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-795&quot;&gt;&lt;del&gt;HIVE-795&lt;/del&gt;&lt;/a&gt;.1.patch, which included the changes discussed above. A few things to note:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Error messages and SQLStates are now included in &lt;tt&gt;HiveServerException&lt;/tt&gt;. Please review changes to this class carefully. The existing comment in that class regarding how this file is auto-generated by thrift and not to edit it unless you know what you&apos;re doing has me a bit concerned. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Error messages from the &lt;tt&gt;Driver&lt;/tt&gt; classes compile step are captured and returned to the client, along with corresponding SQLStates. The exception handling of the &lt;tt&gt;ql.parse&lt;/tt&gt; package made it possible to return informative error messages.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Errors from the &lt;tt&gt;Driver&lt;/tt&gt; classes execute step are another story. This code relies on &lt;tt&gt;Task.executeTask()&lt;/tt&gt;, which swallows exceptions and returns just status codes. Refactoring this to return a composite could be a considerable task, so this should be done as part of a separate JIRA IMO. The server still returns error messages and SQLStates for execution errors though. It&apos;s just that the error messages the server has as it&apos;s disposal could be improved.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The &lt;tt&gt;HiveConnection&lt;/tt&gt; constructor now throws &lt;tt&gt;SQLException&lt;/tt&gt; instead of &lt;tt&gt;Exception&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12753145" author="billgraham" created="Wed, 9 Sep 2009 16:17:05 +0000"  >&lt;p&gt;Just checking in on this issue. Any comments re the patch or the approach in general?&lt;/p&gt;</comment>
                            <comment id="12753157" author="appodictic" created="Wed, 9 Sep 2009 16:48:32 +0000"  >&lt;p&gt;I think this is good. Often times when returning an int status a composite object with status message is better. Someone recently issued a similar request for HWI on hive-user. So I look forward to this one. &lt;/p&gt;</comment>
                            <comment id="12753159" author="rsm" created="Wed, 9 Sep 2009 16:55:21 +0000"  >&lt;p&gt;I havent looked at the diff completely. But, instead of modifying service/src/gen-javabean/org/apache/hadoop/hive/service/HiveServerException.java, can you change service/if/hive_service.thrift and regenerate the file by running &quot;cd service &amp;amp;&amp;amp; ant thriftif&quot;?&lt;/p&gt;</comment>
                            <comment id="12753430" author="billgraham" created="Thu, 10 Sep 2009 05:40:33 +0000"  >&lt;p&gt;@Raghu: Yes, of course (I thought there was a better way to generate this class). When running the thriftif ant target I get the following error:&lt;/p&gt;

&lt;p&gt;Buildfile: build.xml&lt;/p&gt;

&lt;p&gt;thriftif:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Executing thrift (which needs to be in your path) on if/hive_service.thrift&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;br/&gt;
/Users/grahamb/ws/hive-svn/hive-trunk/service/build.xml:46: Execute failed: java.io.IOException: Cannot run program &quot;thrift&quot;: error=2, No such file or directory&lt;/p&gt;

&lt;p&gt;Total time: 0 seconds&lt;/p&gt;

&lt;p&gt;How do I get thrift in my path? Is there an ant target to download and/or build the thrift binary? Or do I need to manually download and install thrift from somewhere? &lt;/p&gt;</comment>
                            <comment id="12754020" author="billgraham" created="Fri, 11 Sep 2009 06:20:56 +0000"  >&lt;p&gt;I was able to manually install thrift. For anyone who&apos;s curious, here&apos;s what it took on Mac OS 10.6 (Snow Leopard):&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Install XCode (&lt;a href=&quot;http://developer.apple.com/TOOLS/Xcode/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://developer.apple.com/TOOLS/Xcode/&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;Install MacPorts (&lt;a href=&quot;http://www.macports.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.macports.org/&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;Install boost: &lt;tt&gt;sudo port install boost&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;Checkout thrift, or download a nightly snapshot, I did the latter (&lt;a href=&quot;http://incubator.apache.org/thrift/download/):&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://incubator.apache.org/thrift/download/):&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Build and install thrift:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cd thrift; sh bootstrap.sh
./configure
sudo make install
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The configure script failed in an &lt;tt&gt;if&lt;/tt&gt; block that checked on &lt;tt&gt;$with_csharp&lt;/tt&gt;, so I had to comment out a few lines to work around that.&lt;/p&gt;

&lt;p&gt;Now I could run the ant target and generate the php, py and java-beans, but could no longer run &lt;tt&gt;cd service &amp;amp;&amp;amp; ant jar&lt;/tt&gt;. There were two issues:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;A new dependency was added on &lt;tt&gt;org.slf4j&lt;/tt&gt; in the generated java files, which wasn&apos;t resolved. I downloaded (&lt;a href=&quot;http://www.slf4j.org/dist/slf4j-1.5.8.tar.gz&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slf4j.org/dist/slf4j-1.5.8.tar.gz&lt;/a&gt;) and added &lt;tt&gt;slf4j-api-1.5.8.jar&lt;/tt&gt; to &lt;tt&gt;lib/&lt;/tt&gt; and got past that issue.&lt;/li&gt;
	&lt;li&gt;All of the generated java-bean classed failed with unresolved dependencies on &lt;tt&gt;TBaseHelper&lt;/tt&gt;. This seems to be a class that is now in thrift svn, but not in the woefully un-versioned &lt;tt&gt;lib/libthrift.jar&lt;/tt&gt;. i replaced &lt;tt&gt;lib/libthrift.jar&lt;/tt&gt; with my built version and I can now compile the services classes.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I&apos;ll submit a new patch shortly, but I&apos;m concerned regarding what seems like a lack of versioning of thrift. Is there a thrift version I should be using that corresponds with the jar in &lt;tt&gt;lib&lt;/tt&gt; (I now see there&apos;s a &apos;0.1.x&apos; branch)? Or should we upgrade to some recent version of thrift and add &lt;tt&gt;slf4j-api-1.5.8.jar&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="12754398" author="billgraham" created="Fri, 11 Sep 2009 22:47:50 +0000"  >&lt;p&gt;@Raghu: Thanks for your comment on the mailing list re the current thrift version of r790732. I was able to build that version using the &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-214&quot; title=&quot;PosixThreadFactory.cpp fails 64 bit compile with gcc on Mac OS X 10.5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-214&quot;&gt;&lt;del&gt;THRIFT-214&lt;/del&gt;&lt;/a&gt; patch. Then I could also run &apos;ant thriftif&apos; without the slf4j dependency or the &lt;tt&gt;libthrift.jar&lt;/tt&gt; conflict.&lt;/p&gt;

&lt;p&gt;Attached is a &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-795&quot; title=&quot;Return better error messaging from HiveServer &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-795&quot;&gt;&lt;del&gt;HIVE-795&lt;/del&gt;&lt;/a&gt;.2.patch, which uses a modified &lt;tt&gt;service/if/hive_service.thrift&lt;/tt&gt; and &lt;tt&gt;cd service &amp;amp;&amp;amp; ant thriftif&lt;/tt&gt; to generate &lt;tt&gt;HiveServerException.java&lt;/tt&gt;, as well as other php and py thrift source.&lt;/p&gt;</comment>
                            <comment id="12758306" author="billgraham" created="Tue, 22 Sep 2009 17:17:08 +0000"  >&lt;p&gt;Just checking in on this issue again. Any additional comments re the second patch, or can this be committed?&lt;/p&gt;</comment>
                            <comment id="12758309" author="namit" created="Tue, 22 Sep 2009 17:22:41 +0000"  >&lt;p&gt;I will take a look and get back to you&lt;/p&gt;</comment>
                            <comment id="12758326" author="namit" created="Tue, 22 Sep 2009 18:05:52 +0000"  >&lt;p&gt;Did you generate &lt;/p&gt;

&lt;p&gt;gen-py/hive_service/ttypes.py&lt;br/&gt;
gen-php/hive_service_types.php&lt;/p&gt;

&lt;p&gt;using ant thriftif ?&lt;/p&gt;


&lt;p&gt;When I generate them, I get different results ?&lt;/p&gt;</comment>
                            <comment id="12758364" author="namit" created="Tue, 22 Sep 2009 18:56:14 +0000"  >&lt;p&gt;attached the new patch: the only difference is in the generated files&lt;/p&gt;</comment>
                            <comment id="12758366" author="namit" created="Tue, 22 Sep 2009 18:58:24 +0000"  >&lt;p&gt;Committed. Thanks Bill&lt;/p&gt;</comment>
                            <comment id="12758441" author="billgraham" created="Tue, 22 Sep 2009 21:13:47 +0000"  >&lt;p&gt;Thanks Namit. Re these files, yes I generated them using &apos;ant thriftif&apos;:&lt;/p&gt;

&lt;p&gt;gen-py/hive_service/ttypes.py&lt;br/&gt;
gen-php/hive_service_types.php&lt;/p&gt;

&lt;p&gt;Taking another look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-795&quot; title=&quot;Return better error messaging from HiveServer &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-795&quot;&gt;&lt;del&gt;HIVE-795&lt;/del&gt;&lt;/a&gt;.2.patch though I see that the files that thrift generated each contained a second definition of HiveServerException with the new attributes, instead generating a single HiveServerException with the the old and new attributes. I&apos;ll keep an eye out for this in the future.&lt;/p&gt;

&lt;p&gt;FYI, here&apos;s the version of thrift that I used:&lt;/p&gt;

&lt;p&gt;$ thrift -version&lt;br/&gt;
Thrift version 20080411-r790732M  &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12435237">HIVE-821</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12417921" name="HIVE-795.1.patch" size="28344" author="billgraham" created="Thu, 27 Aug 2009 19:35:37 +0000"/>
                            <attachment id="12419351" name="HIVE-795.2.patch" size="40575" author="billgraham" created="Fri, 11 Sep 2009 22:47:50 +0000"/>
                            <attachment id="12420296" name="hive.795.3.patch" size="38257" author="namit" created="Tue, 22 Sep 2009 18:56:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Aug 2009 19:08:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73299</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 18 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Improved error messaging returned by the Hive Server and surfaced by the JDBC client.&lt;br/&gt;
Support for SQL-99 SQLStates</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-796] RCFile results missing columns from UNION ALL</title>
                <link>https://issues.apache.org/jira/browse/HIVE-796</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;create table tt(a int, b string, c string) row format serde &quot;org.apache.hadoop.hive.serde2.column.ColumnarSerDe&quot; stored as RCFile;&lt;/p&gt;

&lt;p&gt;load data:&lt;/p&gt;

&lt;p&gt;  1 b c&lt;br/&gt;
  2 e f&lt;br/&gt;
  3 i j&lt;/p&gt;

&lt;p&gt;select * from (&lt;br/&gt;
  select b as cola from tt&lt;br/&gt;
  union all&lt;br/&gt;
  select c as cola from tt) s;&lt;/p&gt;

&lt;p&gt;results:&lt;br/&gt;
  NULL&lt;br/&gt;
  b&lt;br/&gt;
  NULL&lt;br/&gt;
  e&lt;br/&gt;
  NULL&lt;br/&gt;
  i&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433985">HIVE-796</key>
            <summary>RCFile results missing columns from UNION ALL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Aug 2009 22:06:14 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:33 +0000</updated>
                            <resolved>Mon, 2 Nov 2009 19:05:55 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12747741" author="he yongqiang" created="Wed, 26 Aug 2009 02:13:36 +0000"  >&lt;p&gt;This is a bug in HiveInputFormat when setting read column ids. Upload a patch hive-796-2009-08-26.patch which resolved this bug.&lt;/p&gt;</comment>
                            <comment id="12747768" author="nzhang" created="Wed, 26 Aug 2009 04:29:55 +0000"  >&lt;p&gt;Great! it works. Thanks for the quick fix. &lt;/p&gt;</comment>
                            <comment id="12752919" author="zshao" created="Wed, 9 Sep 2009 05:52:44 +0000"  >&lt;p&gt;Code looks good. Can you add a test?&lt;/p&gt;</comment>
                            <comment id="12752928" author="he yongqiang" created="Wed, 9 Sep 2009 06:10:53 +0000"  >&lt;p&gt;Added a testcase. Thanks Zheng!&lt;/p&gt;</comment>
                            <comment id="12772372" author="namit" created="Sun, 1 Nov 2009 21:51:47 +0000"  >&lt;p&gt;will merge if the tests pass&lt;/p&gt;</comment>
                            <comment id="12772387" author="namit" created="Sun, 1 Nov 2009 23:15:27 +0000"  >&lt;p&gt;tests failed - the new test that you added&lt;br/&gt;
can you take a look ?&lt;/p&gt;</comment>
                            <comment id="12772398" author="he yongqiang" created="Mon, 2 Nov 2009 01:04:57 +0000"  >&lt;p&gt;update the patch to trunk code (overwritten the .q.out file). Thanks, Namit!&lt;/p&gt;</comment>
                            <comment id="12772604" author="namit" created="Mon, 2 Nov 2009 19:05:55 +0000"  >&lt;p&gt;Merged in trunk. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12417695" name="hive-796-2009-08-26.patch" size="2398" author="he yongqiang" created="Wed, 26 Aug 2009 02:13:36 +0000"/>
                            <attachment id="12423788" name="hive-796-2009-11-1.patch" size="5304" author="he yongqiang" created="Mon, 2 Nov 2009 01:04:57 +0000"/>
                            <attachment id="12419019" name="hive-796-2009-9-9.patch" size="4153" author="he yongqiang" created="Wed, 9 Sep 2009 06:10:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Aug 2009 02:13:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73298</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lbrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122558</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
