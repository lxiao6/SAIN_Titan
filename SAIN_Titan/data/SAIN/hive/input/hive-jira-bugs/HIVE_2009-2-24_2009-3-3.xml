<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:12:59 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2009-2-24+AND+created+%3C%3D+2009-3-3+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="16" total="16"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-301] Ability to store row counts (and other stats) in metastore and obtain them via queries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-301</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;now that we have insertion row counts being bubbled out of the execution path - it would be good to stash them away in the metastore. It would also be good to have them be viewable by some simple command (like the mysql status commands - but perhaps we have something we could re-use already).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415428">HIVE-301</key>
            <summary>Ability to store row counts (and other stats) in metastore and obtain them via queries</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Feb 2009 00:49:23 +0000</created>
                <updated>Tue, 5 Apr 2011 23:16:46 +0000</updated>
                            <resolved>Tue, 5 Apr 2011 23:16:46 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13016176" author="cwsteinbach" created="Tue, 5 Apr 2011 23:16:46 +0000"  >&lt;p&gt;I think this was covered by the recent stats work.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Apr 2011 23:16:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l91r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122116</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-302] Implement &quot;LINES TERMINATED BY&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-302</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Specifying &quot;LINES TERMINATED BY&quot; when creating a table currently doesn&apos;t do anything when querying that data. It needs to be implemented to support various datasets that ends lines with other characters then just line break.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415488">HIVE-302</key>
            <summary>Implement &quot;LINES TERMINATED BY&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="johanoskarsson">Johan Oskarsson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Feb 2009 16:58:39 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:44 +0000</updated>
                            <resolved>Tue, 22 Dec 2009 23:17:05 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12793408" author="namit" created="Mon, 21 Dec 2009 23:16:42 +0000"  >&lt;p&gt;create table nzhang_ctas5 row format delimited fields terminated by &apos;,&apos; lines terminated by &apos;.&apos; stored as textfile as select key, value from src sort by key, value limit 10;&lt;/p&gt;

&lt;p&gt;select * from nzhang_ctas5;&lt;/p&gt;


&lt;p&gt;Modified ctas.q to add the following:&lt;/p&gt;

&lt;p&gt;Got only 1 row as the output.&lt;/p&gt;</comment>
                            <comment id="12793435" author="zshao" created="Tue, 22 Dec 2009 00:27:24 +0000"  >&lt;p&gt;This is not fixable currently because the line terminator is determined by LineRecordReader.LineReader which is in the Hadoop land.&lt;br/&gt;
However we do support writing to such tables.&lt;/p&gt;

&lt;p&gt;In order to avoid confusion, I will just drop this from the syntax.&lt;/p&gt;</comment>
                            <comment id="12793446" author="namit" created="Tue, 22 Dec 2009 00:58:11 +0000"  >&lt;p&gt;talked with Zheng offline - it might be easier to specify a semantic error instead for compatiblity&lt;/p&gt;</comment>
                            <comment id="12793457" author="he yongqiang" created="Tue, 22 Dec 2009 01:32:25 +0000"  >&lt;p&gt;+1. Looks good. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12793464" author="he yongqiang" created="Tue, 22 Dec 2009 01:47:15 +0000"  >&lt;p&gt;oh, sorry, ignore my previous comment.&lt;/p&gt;</comment>
                            <comment id="12793504" author="zshao" created="Tue, 22 Dec 2009 05:32:47 +0000"  >&lt;p&gt;This one keeps the old syntax but will throw out an error in case anything breaks.&lt;/p&gt;</comment>
                            <comment id="12793512" author="namit" created="Tue, 22 Dec 2009 05:48:01 +0000"  >&lt;p&gt;ctas.q has a CTAS with line delimiter specified - that also breaks, the tests need to be modified&lt;/p&gt;</comment>
                            <comment id="12793753" author="zshao" created="Tue, 22 Dec 2009 19:40:15 +0000"  >&lt;p&gt;Fixed ctas.q and also tested all test cases.&lt;/p&gt;</comment>
                            <comment id="12793761" author="namit" created="Tue, 22 Dec 2009 20:01:41 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12793840" author="namit" created="Tue, 22 Dec 2009 23:17:05 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12494883">HIVE-1898</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12428673" name="HIVE-302.1.patch" size="1403" author="zshao" created="Tue, 22 Dec 2009 00:35:12 +0000"/>
                            <attachment id="12428694" name="HIVE-302.2.patch" size="3616" author="zshao" created="Tue, 22 Dec 2009 05:32:47 +0000"/>
                            <attachment id="12428757" name="HIVE-302.3.patch" size="20664" author="zshao" created="Tue, 22 Dec 2009 19:40:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Dec 2009 23:16:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73631</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l91z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-303] Hive does not compile with hadoop 0.18.3</title>
                <link>https://issues.apache.org/jira/browse/HIVE-303</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&quot;ant package -Dhadoop.version=0.18.3&quot; fails.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415500">HIVE-303</key>
            <summary>Hive does not compile with hadoop 0.18.3</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Feb 2009 19:22:50 +0000</created>
                <updated>Tue, 12 Jan 2010 19:20:18 +0000</updated>
                            <resolved>Wed, 11 Mar 2009 18:01:05 +0000</resolved>
                                    <version>0.3.0</version>
                    <version>0.6.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12676382" author="zshao" created="Tue, 24 Feb 2009 19:48:42 +0000"  >&lt;p&gt;Actually it compiles but may not run well.&lt;/p&gt;

&lt;p&gt;It turns out to be that Hive compilation may have a problem if user didn&apos;t do a &quot;ant clean&quot; before switching to a different version of hadoop using &quot;ant package -Dhadoop.version=&amp;lt;new version&amp;gt;&quot;&lt;/p&gt;

&lt;p&gt;The solution is simple: Just run &quot;ant clean&quot; before &quot;ant package -Dhadoop.version=&amp;lt;new version&amp;gt;&quot;&lt;/p&gt;</comment>
                            <comment id="12680955" author="jsensarma" created="Wed, 11 Mar 2009 18:01:05 +0000"  >&lt;p&gt;seems like the workaround is known. it&apos;s better to set the expectation that user is supposed to do ant clean before switching hadoop versions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Mar 2009 18:01:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l927:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122118</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-304] Run sampled queries (ie. one mapper only) to allow testing and estimation of data volume expansion/contraction for mapred.reduce.tasks. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-304</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It should be possible to run a sample of a query so that users can verify the output looks reasonable (for testing), and to estimate various parameters about how the data volume changes, for intelligent allocation of cluster resources. One way to do this is to allow tagging of the query with some &apos;tag string&apos; so that the same estimated parameters can be re-used for all queries run with that &apos;tag string&apos;. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12415501">HIVE-304</key>
            <summary>Run sampled queries (ie. one mapper only) to allow testing and estimation of data volume expansion/contraction for mapred.reduce.tasks. </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="indigoviolet">Venky Iyer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Feb 2009 19:43:26 +0000</created>
                <updated>Tue, 24 Feb 2009 19:43:26 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08of3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-305] Port Hadoop streaming&apos;s counters/status reporters to Hive Transforms</title>
                <link>https://issues.apache.org/jira/browse/HIVE-305</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-1328&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HADOOP-1328&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&quot; Introduced a way for a streaming process to update global counters and status using stderr stream to emit information. Use &quot;reporter:counter:&amp;lt;group&amp;gt;,&amp;lt;counter&amp;gt;,&amp;lt;amount&amp;gt; &quot; to update  a counter. Use &quot;reporter:status:&amp;lt;message&amp;gt;&quot; to update status. &quot;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12415507">HIVE-305</key>
            <summary>Port Hadoop streaming&apos;s counters/status reporters to Hive Transforms</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fu2you">Guo Hongjie</assignee>
                                    <reporter username="indigoviolet">Venky Iyer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Feb 2009 20:31:30 +0000</created>
                <updated>Tue, 15 Oct 2013 23:29:49 +0000</updated>
                            <resolved>Mon, 29 Jul 2013 12:46:28 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13551679" author="cwsteinbach" created="Sat, 12 Jan 2013 00:04:45 +0000"  >&lt;p&gt;@Guo: please submit a review request on reviewboard or phabricator. Thanks.&lt;/p&gt;</comment>
                            <comment id="13551787" author="fu2you" created="Sat, 12 Jan 2013 03:51:14 +0000"  >&lt;p&gt;thanks @Carl,do you mean &quot;submit patch&quot; button? I cannot find any button about &quot;review request&quot;. &lt;/p&gt;</comment>
                            <comment id="13551801" author="fu2you" created="Sat, 12 Jan 2013 04:23:56 +0000"  >&lt;p&gt;i found that in the mail list.thanks&lt;/p&gt;</comment>
                            <comment id="13553091" author="cwsteinbach" created="Mon, 14 Jan 2013 20:35:39 +0000"  >&lt;p&gt;@Guo: please include a link to the review request. Thanks.&lt;/p&gt;</comment>
                            <comment id="13553238" author="cwsteinbach" created="Mon, 14 Jan 2013 23:04:28 +0000"  >&lt;p&gt;review request: &lt;a href=&quot;https://reviews.apache.org/r/8933/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/8933/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13701603" author="appodictic" created="Sun, 7 Jul 2013 16:31:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fu2you&quot; class=&quot;user-hover&quot; rel=&quot;fu2you&quot;&gt;Guo Hongjie&lt;/a&gt; Guo, I am sorry this patch has sat in jira for this long. I will help you drive this through. I am going to rebase your patch a bit, because I would like to add a conf variable to turn this on/off.&lt;/p&gt;</comment>
                            <comment id="13710600" author="appodictic" created="Wed, 17 Jul 2013 01:42:21 +0000"  >&lt;p&gt;I corrected the status typo and did a minor refactor on Guo&apos;s work.&lt;/p&gt;</comment>
                            <comment id="13713301" author="appodictic" created="Fri, 19 Jul 2013 03:20:25 +0000"  >&lt;p&gt;Added default configuration values to the xml file.&lt;/p&gt;</comment>
                            <comment id="13713805" author="hiveqa" created="Fri, 19 Jul 2013 16:29:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 build exited with an error&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593116/HIVE-305.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593116/HIVE-305.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s)&lt;br/&gt;
Failed tests:&lt;br/&gt;
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/93/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/93/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/93/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/93/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;br/&gt;
Executing org.apache.hive.ptest.execution.CleanupPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.PrepPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ExecutionPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ReportingPhase&lt;br/&gt;
Tests failed with: TestsFailedException: 1 tests failed&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13714741" author="brocknoland" created="Sun, 21 Jul 2013 16:51:21 +0000"  >&lt;p&gt;The latest patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-305&quot; title=&quot;Port Hadoop streaming&amp;#39;s counters/status reporters to Hive Transforms&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-305&quot;&gt;&lt;del&gt;HIVE-305&lt;/del&gt;&lt;/a&gt;.patch.txt looks good and that test which failed is flaky. The only question I have is, shouldn&apos;t the configuration variables start with hive? as opposed to stream?&lt;/p&gt;</comment>
                            <comment id="13714748" author="appodictic" created="Sun, 21 Jul 2013 17:24:29 +0000"  >&lt;p&gt;In this patch we are using the same variable as the upstream hadoop.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MRErrorThread() {
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.reporterPrefix = job_.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;stream.stderr.reporter.prefix&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;reporter:&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am ok with this because the meaning is the same, and duplicating hadoop variables is something we are trying to avoid. (like the ticket on deprecating hive&apos;s speculative execution settings.&lt;/p&gt;</comment>
                            <comment id="13714749" author="brocknoland" created="Sun, 21 Jul 2013 17:26:59 +0000"  >&lt;p&gt;Gotcha. Sounds good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13714756" author="appodictic" created="Sun, 21 Jul 2013 17:37:17 +0000"  >&lt;p&gt;If someone does the commit please make sure Guo Hongjie is listed as he did most of the work as the assignee.&lt;/p&gt;</comment>
                            <comment id="13715863" author="hiveqa" created="Mon, 22 Jul 2013 23:37:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593116/HIVE-305.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593116/HIVE-305.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2646 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/135/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/135/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/135/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/135/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13720411" author="appodictic" created="Fri, 26 Jul 2013 05:05:03 +0000"  >&lt;p&gt;::crickets:: &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13721110" author="brocknoland" created="Fri, 26 Jul 2013 19:23:53 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13722406" author="brocknoland" created="Mon, 29 Jul 2013 12:46:28 +0000"  >&lt;p&gt;Committed to trunk! Thank you for your contribution Guo and Edward!&lt;/p&gt;</comment>
                            <comment id="13795933" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:49 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12474351">HIVE-1649</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12564135" name="HIVE-305.1.patch" size="2437" author="fu2you" created="Thu, 10 Jan 2013 08:05:05 +0000"/>
                            <attachment id="12564541" name="HIVE-305.2.patch" size="3226" author="fu2you" created="Sat, 12 Jan 2013 02:36:01 +0000"/>
                            <attachment id="12593116" name="HIVE-305.patch.txt" size="5293" author="appodictic" created="Fri, 19 Jul 2013 03:19:41 +0000"/>
                            <attachment id="12592702" name="hive-305.3.diff.txt" size="4408" author="appodictic" created="Wed, 17 Jul 2013 01:41:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 12 Jan 2013 00:04:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l92f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122119</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-306] Support &quot;INSERT [INTO] destination&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-306</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently hive only supports &quot;INSERT OVERWRITE destination&quot;. We should support &quot;INSERT &lt;span class=&quot;error&quot;&gt;&amp;#91;INTO&amp;#93;&lt;/span&gt; destination&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415536">HIVE-306</key>
            <summary>Support &quot;INSERT [INTO] destination&quot;</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="franklinhu">Franklin Hu</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Feb 2009 07:36:05 +0000</created>
                <updated>Thu, 2 May 2013 02:30:55 +0000</updated>
                            <resolved>Mon, 18 Jul 2011 19:39:09 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                    <component>SQL</component>
                        <due></due>
                            <votes>5</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="12761972" author="appodictic" created="Sat, 3 Oct 2009 23:26:59 +0000"  >&lt;p&gt;With hadoop appends becoming stable I think its time. Do you have any ideas for this? Is it something I can help with?&lt;/p&gt;</comment>
                            <comment id="12762032" author="namit" created="Sun, 4 Oct 2009 16:40:05 +0000"  >&lt;p&gt;Which hadoop release supports appends - is it in 20 or 21 ?&lt;/p&gt;</comment>
                            <comment id="13017586" author="akramer" created="Fri, 8 Apr 2011 18:24:57 +0000"  >&lt;p&gt;Ping?&lt;/p&gt;</comment>
                            <comment id="13017741" author="jghoman" created="Fri, 8 Apr 2011 23:15:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;Which hadoop release supports appends - is it in 20 or 21 ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There are currently two versions of append in Hadoop.  The original append in 20, was quite buggy but has been improved to support hbase.  The latest CDH releases have these improvements.  In Apache 21, a new version of append was released.  However, 21 is not a production release.  Future Apache releases are expected to use the new append.&lt;/p&gt;</comment>
                            <comment id="13046703" author="franklinhu" created="Thu, 9 Jun 2011 17:53:47 +0000"  >&lt;p&gt;implements INSERT INTO for non bucketized tables and partitions&lt;/p&gt;</comment>
                            <comment id="13050511" author="jiraposter@reviews.apache.org" created="Thu, 16 Jun 2011 15:53:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/926/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;New feature to allow INSERT INTO a table or partition&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; title=&quot;Support &amp;quot;INSERT [INTO] destination&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-306&quot;&gt;&lt;del&gt;HIVE-306&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-306&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java 1133562 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1133562 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 1133562 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java 1133562 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1133562 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into5.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into6.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into5.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into6.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/926/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13050512" author="franklinhu" created="Thu, 16 Jun 2011 15:54:14 +0000"  >&lt;p&gt;Submitted to review board&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/926/diff/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/diff/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13050614" author="jiraposter@reviews.apache.org" created="Thu, 16 Jun 2011 18:09:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/926/#review852&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/#review852&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/926/#comment1861&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/#comment1861&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Is that difficult to extend it with INSERT INTO DIRECTORY?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ning&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-06-16 15:53:03, Franklin Hu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/926/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-16 15:53:03)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;New feature to allow INSERT INTO a table or partition&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; title=&quot;Support &amp;quot;INSERT [INTO] destination&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-306&quot;&gt;&lt;del&gt;HIVE-306&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-306&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into4.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into4.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into5.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into6.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into4.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into4.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into5.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into6.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/926/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Franklin&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13052725" author="jiraposter@reviews.apache.org" created="Tue, 21 Jun 2011 18:05:47 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-06-16 18:08:03, Ning Zhang wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g, line 1397&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/926/diff/1/?file=21218#file21218line1397&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/diff/1/?file=21218#file21218line1397&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Is that difficult to extend it with INSERT INTO DIRECTORY?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We were not sure how widely it would be used so decided not to support it initially.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Franklin&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/926/#review852&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/#review852&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-06-16 15:53:03, Franklin Hu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/926/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-16 15:53:03)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;New feature to allow INSERT INTO a table or partition&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; title=&quot;Support &amp;quot;INSERT [INTO] destination&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-306&quot;&gt;&lt;del&gt;HIVE-306&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-306&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into4.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into4.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into5.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into6.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into4.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into4.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into5.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into6.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/926/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Franklin&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13056262" author="jiraposter@reviews.apache.org" created="Tue, 28 Jun 2011 02:54:17 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/926/#review925&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/#review925&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into3.q&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/926/#comment1988&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/#comment1988&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Isn&apos;t it supposed to succeed instead of failing?&lt;/p&gt;

&lt;p&gt;    What we need is a test that the lock is on partition level.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into6.q&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/926/#comment1989&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/#comment1989&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    we need to add a test for dynamic partitioning that the partitions are not empty when you insert into. Also, some partitions inserted is empty and some are not.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Siying&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-06-16 15:53:03, Franklin Hu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/926/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-16 15:53:03)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;New feature to allow INSERT INTO a table or partition&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; title=&quot;Support &amp;quot;INSERT [INTO] destination&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-306&quot;&gt;&lt;del&gt;HIVE-306&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-306&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1133562 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/insert_into4.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into4.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into5.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/insert_into6.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/insert_into4.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into4.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into5.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/insert_into6.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/926/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Franklin&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13057567" author="jiraposter@reviews.apache.org" created="Thu, 30 Jun 2011 00:31:28 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/926/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-06-30 00:29:55.111687)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;remove bad concurrency test, add to positive insert_into2.q to check inserting into an existing partition works&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;New feature to allow INSERT INTO a table or partition&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; title=&quot;Support &amp;quot;INSERT [INTO] destination&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-306&quot;&gt;&lt;del&gt;HIVE-306&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-306&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java 1141339 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1141339 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 1141339 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java 1141339 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1141339 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into5.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into6.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into5.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into6.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/926/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13058140" author="sdong" created="Thu, 30 Jun 2011 23:55:47 +0000"  >&lt;p&gt;+1. Looks good to me for now. I&apos;m running tests. If it is committed, please open a follow-up JIRA for making moving files more efficient and compacting smaller files smarter for it.&lt;/p&gt;</comment>
                            <comment id="13058206" author="sdong" created="Fri, 1 Jul 2011 03:54:20 +0000"  >&lt;p&gt;Test breaks: TestParseNegative&lt;/p&gt;</comment>
                            <comment id="13058839" author="franklinhu" created="Fri, 1 Jul 2011 22:39:48 +0000"  >&lt;p&gt;Fix test case errors for TestParseNegative: missing_overwrite.q and TestCliDriver:combine2.q&lt;br/&gt;
Unit tests passed for me&lt;/p&gt;</comment>
                            <comment id="13058840" author="jiraposter@reviews.apache.org" created="Fri, 1 Jul 2011 22:41:28 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/926/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-01 22:40:24.399513)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fix test case errors for TestParseNegative: missing_overwrite.q and TestCliDriver:combine2.q&lt;br/&gt;
Unit tests passed for me&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;New feature to allow INSERT INTO a table or partition&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; title=&quot;Support &amp;quot;INSERT [INTO] destination&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-306&quot;&gt;&lt;del&gt;HIVE-306&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-306&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java 1141339 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1141339 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 1141339 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java 1141339 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1141339 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into5.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into6.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into5.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into6.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/compiler/errors/missing_overwrite.q.out 1141339 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/926/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13063466" author="franklinhu" created="Mon, 11 Jul 2011 18:46:42 +0000"  >&lt;p&gt;rebase patch&lt;/p&gt;</comment>
                            <comment id="13063467" author="jiraposter@reviews.apache.org" created="Mon, 11 Jul 2011 18:48:59 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/926/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-11 18:47:53.861068)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;rebase patch&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;New feature to allow INSERT INTO a table or partition&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; title=&quot;Support &amp;quot;INSERT [INTO] destination&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-306&quot;&gt;&lt;del&gt;HIVE-306&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-306&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java 1145273 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1145273 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 1145273 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java 1145273 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1145273 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/insert_into4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into5.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/insert_into6.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/insert_into4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into5.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/insert_into6.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/compiler/errors/missing_overwrite.q.out 1145273 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/926/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/926/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13063742" author="hudson" created="Tue, 12 Jul 2011 06:29:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #822 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/822/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/822/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; title=&quot;Support &amp;quot;INSERT [INTO] destination&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-306&quot;&gt;&lt;del&gt;HIVE-306&lt;/del&gt;&lt;/a&gt; Support INSERT &lt;span class=&quot;error&quot;&gt;&amp;#91;INTO&amp;#93;&lt;/span&gt; destination (Franklin Hu via Siying Dong)&lt;/p&gt;

&lt;p&gt;sdong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1145411&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1145411&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/insert_into1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/insert_into2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/insert_into3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/insert_into4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/insert_into1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/insert_into5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/insert_into2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/insert_into6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/insert_into3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/insert_into4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/insert_into1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/insert_into2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/insert_into3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/insert_into4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/errors/missing_overwrite.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13147324" author="hammer" created="Wed, 9 Nov 2011 22:00:10 +0000"  >&lt;p&gt;What&apos;s the status with this patch?&lt;/p&gt;</comment>
                            <comment id="13147331" author="hammer" created="Wed, 9 Nov 2011 22:06:37 +0000"  >&lt;p&gt;Ignore the last comment, wrong window!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12459769">HIVE-1263</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12613085">HIVE-3608</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12433882">HIVE-787</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12461472">HIVE-1293</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12481958" name="hive-306.1.patch" size="132934" author="franklinhu" created="Thu, 9 Jun 2011 17:53:47 +0000"/>
                            <attachment id="12484710" name="hive-306.2.patch" size="139469" author="franklinhu" created="Thu, 30 Jun 2011 00:30:14 +0000"/>
                            <attachment id="12484942" name="hive-306.3.patch" size="140093" author="franklinhu" created="Fri, 1 Jul 2011 22:39:48 +0000"/>
                            <attachment id="12486086" name="hive-306.4.patch" size="140093" author="franklinhu" created="Mon, 11 Jul 2011 18:46:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 3 Oct 2009 23:26:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67617</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ayun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61919</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-307] &quot;LOAD DATA LOCAL INPATH&quot; fails when the table already contains a file of the same name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-307</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Failed with exception checkPaths: /user/zshao/warehouse/tmp_user_msg_history/test_user_msg_history already exists&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MoveTask&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415618">HIVE-307</key>
            <summary>&quot;LOAD DATA LOCAL INPATH&quot; fails when the table already contains a file of the same name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kirktrue">Kirk True</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Feb 2009 21:46:57 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:35 +0000</updated>
                            <resolved>Fri, 15 Oct 2010 04:25:12 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12681130" author="jsensarma" created="Thu, 12 Mar 2009 01:18:09 +0000"  >&lt;p&gt;hey - i think this is worth fixing even though the workaround is clear. just looks kind of silly and is trivial to fix.&lt;/p&gt;</comment>
                            <comment id="12681132" author="jsensarma" created="Thu, 12 Mar 2009 01:24:09 +0000"  >&lt;p&gt;trying to avoid the wrath of the Ashish&lt;/p&gt;</comment>
                            <comment id="12681133" author="athusoo" created="Thu, 12 Mar 2009 01:28:05 +0000"  >&lt;p&gt;Thanks soooooooooo much!!&lt;/p&gt;</comment>
                            <comment id="12751233" author="lramos85" created="Fri, 4 Sep 2009 00:12:12 +0000"  >&lt;p&gt;what is the work around exactly? OVERWRITE?&lt;/p&gt;</comment>
                            <comment id="12754366" author="prasadc" created="Fri, 11 Sep 2009 21:44:11 +0000"  >&lt;p&gt;correct solution for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-718&quot; title=&quot;Load data inpath into a new partition without overwrite does not move the file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-718&quot;&gt;&lt;del&gt;HIVE-718&lt;/del&gt;&lt;/a&gt; should fix this issue as well or make it unsupported.&lt;/p&gt;</comment>
                            <comment id="12907815" author="kirktrue" created="Thu, 9 Sep 2010 23:00:45 +0000"  >&lt;p&gt;Including a patch that renames the staging files if it&apos;s noticed that they&apos;re in conflict with pre-existing files.&lt;/p&gt;</comment>
                            <comment id="12910799" author="athusoo" created="Fri, 17 Sep 2010 21:42:03 +0000"  >&lt;p&gt;Hi Kirk,&lt;/p&gt;

&lt;p&gt;Thanks for the contribution. Can you add a simple test case with your patch?&lt;/p&gt;

&lt;p&gt;Ashish&lt;/p&gt;</comment>
                            <comment id="12910802" author="athusoo" created="Fri, 17 Sep 2010 21:44:21 +0000"  >&lt;p&gt;Cancelling the patch because of a missing test case. Krik, would be great if you can resubmit with the test case. Otherwise the code looks fine to me.&lt;/p&gt;

&lt;p&gt;Ashish&lt;/p&gt;</comment>
                            <comment id="12916955" author="kirktrue" created="Fri, 1 Oct 2010 17:08:49 +0000"  >&lt;p&gt;Here is a resubmission of the patch with a CLI-based unit test.&lt;/p&gt;

&lt;p&gt;Let me know what else needs to be addressed.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12917017" author="kirktrue" created="Fri, 1 Oct 2010 20:07:20 +0000"  >&lt;p&gt;Patch attached.&lt;/p&gt;</comment>
                            <comment id="12919410" author="namit" created="Fri, 8 Oct 2010 23:10:59 +0000"  >&lt;p&gt;Looks good - I will start the tests&lt;/p&gt;</comment>
                            <comment id="12919417" author="he yongqiang" created="Fri, 8 Oct 2010 23:18:08 +0000"  >&lt;p&gt;svn patch&lt;/p&gt;</comment>
                            <comment id="12919420" author="namit" created="Fri, 8 Oct 2010 23:22:47 +0000"  >&lt;p&gt;The code changes looked good, but the patch does not compile - mostly simple errors due to the new trunk code.&lt;/p&gt;

&lt;p&gt;Also, it would be better to have a test like this:&lt;/p&gt;


&lt;p&gt;drop table tst_src1;&lt;br/&gt;
create table tst_src1 like src1;&lt;br/&gt;
load data local inpath &apos;../data/files/kv1.txt&apos; into table tst_src1 ;&lt;br/&gt;
select count(1) from tst_src1;&lt;br/&gt;
load data local inpath &apos;../data/files/kv1.txt&apos; into table tst_src1 ;&lt;br/&gt;
select count(1) from tst_src1;&lt;br/&gt;
drop table tst_src1;&lt;/p&gt;



&lt;p&gt;We should not change src1&lt;/p&gt;</comment>
                            <comment id="12919424" author="kirktrue" created="Fri, 8 Oct 2010 23:32:04 +0000"  >&lt;p&gt;Namit - is there a DDL command to list the files inside the location? It would be great to see the renamed file show up in a describe extended tst_src1 or something.&lt;/p&gt;

&lt;p&gt;Also - do you want &lt;b&gt;me&lt;/b&gt; to make the changes or someone else?&lt;/p&gt;</comment>
                            <comment id="12919443" author="he yongqiang" created="Sat, 9 Oct 2010 00:44:42 +0000"  >&lt;p&gt;Please go ahead make the change. &lt;br/&gt;
And it will be perfect if you can upload a svn compatible patch (can be applied cleanly with &quot;patch -p0 &amp;lt;&quot; in a svn checkout).&lt;/p&gt;</comment>
                            <comment id="12919873" author="namit" created="Mon, 11 Oct 2010 15:41:56 +0000"  >&lt;p&gt;@Kirk, please go ahead and make the change.&lt;/p&gt;

&lt;p&gt;Yongqiang was just trying to get an svn compatible patch from your patch&lt;/p&gt;</comment>
                            <comment id="12920862" author="kirktrue" created="Thu, 14 Oct 2010 06:54:01 +0000"  >&lt;p&gt;Patch based against latest trunk from SVN.&lt;/p&gt;</comment>
                            <comment id="12920863" author="kirktrue" created="Thu, 14 Oct 2010 06:54:50 +0000"  >&lt;p&gt;v3 of patch includes Namit&apos;s suggested test case and rebased against SVN trunk.&lt;/p&gt;</comment>
                            <comment id="12921109" author="namit" created="Thu, 14 Oct 2010 20:31:41 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12921219" author="namit" created="Fri, 15 Oct 2010 04:25:12 +0000"  >&lt;p&gt;Committed. Thanks Kirk&lt;/p&gt;</comment>
                            <comment id="12991955" author="mosikri" created="Tue, 8 Feb 2011 12:44:03 +0000"  >&lt;p&gt;Hello Namit/Kirk/He Yongqiang,&lt;/p&gt;

&lt;p&gt;I was evaluating this defect, but it seems it is incomplete(falling short) of its cause.&lt;br/&gt;
It should also work fine for queries like&lt;/p&gt;

&lt;p&gt;LOAD DATA INPATH &apos;./kv2.txt&apos; INTO TABLE tst_src1;&lt;/p&gt;

&lt;p&gt;But unfortunately &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; it is failing, giving null pointer exception in copyFiles() method &lt;span class=&quot;error&quot;&gt;&amp;#91;Hive.java&amp;#93;&lt;/span&gt;. I tested it against Hive0.7 snapshot of the latest build.&lt;/p&gt;

&lt;p&gt;The difference between the query present in the test case and the one I mentioned   is the Path from which kv2.txt is fetched, the source path in former is a hdfs temp directory(say /tmp/hive-root/2097947077/10000 under which kv2.txt is present) whereas in the later it is a hdfs file which is being actually referred. &lt;/p&gt;

&lt;p&gt;So the changes i.e. renaming done by checkPaths() method to avoid conflict is not visible outside it&apos;s scope ;i.e. not detected by fs.listStatus() where in actual the renamed file(say /user/root/kv2.txt_copy_1) is moved to tst_src1 warehouse (say /user/hive/warehouse/tst_src1).&lt;/p&gt;

&lt;p&gt;Kindly confirm, so that I can raise a new bug or re-open the existing one.&lt;/p&gt;</comment>
                            <comment id="12992979" author="cwsteinbach" created="Thu, 10 Feb 2011 10:20:28 +0000"  >&lt;p&gt;@Mohit: Please open a new ticket for this issue. Thanks.&lt;/p&gt;</comment>
                            <comment id="12995500" author="kirktrue" created="Wed, 16 Feb 2011 20:25:02 +0000"  >&lt;p&gt;This is very closely related to, but not the same as, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1996&quot; title=&quot;&amp;quot;LOAD DATA INPATH&amp;quot; fails when the table already contains a file of the same name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1996&quot;&gt;&lt;del&gt;HIVE-1996&lt;/del&gt;&lt;/a&gt;. This bug specifically pertains to &lt;tt&gt;LOCAL&lt;/tt&gt; files while &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1996&quot; title=&quot;&amp;quot;LOAD DATA INPATH&amp;quot; fails when the table already contains a file of the same name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1996&quot;&gt;&lt;del&gt;HIVE-1996&lt;/del&gt;&lt;/a&gt; is for non-&lt;tt&gt;LOCAL&lt;/tt&gt; files.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12432077">HIVE-718</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12456137" name="HIVE-307.patch" size="4061" author="kirktrue" created="Fri, 1 Oct 2010 17:08:49 +0000"/>
                            <attachment id="12454251" name="HIVE-307.patch" size="2966" author="kirktrue" created="Thu, 9 Sep 2010 23:01:00 +0000"/>
                            <attachment id="12457124" name="HIVE-307.v3.patch" size="5665" author="kirktrue" created="Thu, 14 Oct 2010 06:54:50 +0000"/>
                            <attachment id="12456749" name="hive-307.1.svn.patch" size="27547" author="he yongqiang" created="Fri, 8 Oct 2010 23:18:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Mar 2009 01:18:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73629</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l92n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-308] UNION ALL should create different destination directories for different operands</title>
                <link>https://issues.apache.org/jira/browse/HIVE-308</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following query hangs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
select * from (select 1 from zshao_lazy union all select 2 from zshao_lazy) a;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;The following query produce wrong results: (one map-reduce job overwrite/cannot overwrite the result of the other)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
select * from (select 1 as id from zshao_lazy cluster by id union all select 2 as id from zshao_meta) a;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;The reason of both is that the destination directory of the file sink operator conflicts with each other.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415637">HIVE-308</key>
            <summary>UNION ALL should create different destination directories for different operands</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Feb 2009 06:23:24 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:32 +0000</updated>
                            <resolved>Mon, 9 Mar 2009 09:41:17 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12676897" author="zshao" created="Thu, 26 Feb 2009 06:25:03 +0000"  >&lt;p&gt;Raising to critical since this may produce wrong query results.&lt;/p&gt;</comment>
                            <comment id="12677499" author="zshao" created="Fri, 27 Feb 2009 20:00:53 +0000"  >&lt;p&gt;The problem of the first query (map-only job) is that we have 2 file sink operators.&lt;br/&gt;
See the log:&lt;/p&gt;

&lt;p&gt;2009-02-27 11:55:42,528 INFO org.apache.hadoop.metrics.jvm.JvmMetrics: Initializing JVM Metrics with processName=MAP, sessionId=&lt;br/&gt;
2009-02-27 11:55:42,595 INFO org.apache.hadoop.mapred.MapTask: numReduceTasks: 0&lt;br/&gt;
2009-02-27 11:55:42,612 INFO org.apache.hadoop.mapred.MapTask: split: hdfs://xxxx:9000/warehouse/zshao_lazy/8413_m_000000_0.gz, range: 0-28&lt;br/&gt;
2009-02-27 11:55:42,631 INFO org.apache.hadoop.util.NativeCodeLoader: Loaded the native-hadoop library&lt;br/&gt;
2009-02-27 11:55:42,632 INFO org.apache.hadoop.io.compress.zlib.ZlibFactory: Successfully loaded &amp;amp; initialized native-zlib library&lt;br/&gt;
2009-02-27 11:55:42,789 INFO org.apache.hadoop.hive.ql.exec.MapOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,793 INFO org.apache.hadoop.hive.ql.exec.MapOperator: Adding alias null-subquery2:a-subquery2:zshao_lazy to work list for file /warehouse/zshao_lazy/8413_m_000000_0.gz&lt;br/&gt;
2009-02-27 11:55:42,793 INFO org.apache.hadoop.hive.ql.exec.MapOperator: Adding alias null-subquery1:a-subquery1:zshao_lazy to work list for file /warehouse/zshao_lazy/8413_m_000000_0.gz&lt;br/&gt;
2009-02-27 11:55:42,802 INFO org.apache.hadoop.hive.ql.exec.MapOperator: Got partitions: null&lt;br/&gt;
2009-02-27 11:55:42,802 INFO org.apache.hadoop.hive.ql.exec.TableScanOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,802 INFO org.apache.hadoop.hive.ql.exec.TableScanOperator: Initializing children:&lt;br/&gt;
2009-02-27 11:55:42,802 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,802 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing children:&lt;br/&gt;
2009-02-27 11:55:42,802 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,802 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing children:&lt;br/&gt;
2009-02-27 11:55:42,802 INFO org.apache.hadoop.hive.ql.exec.ForwardOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,802 INFO org.apache.hadoop.hive.ql.exec.ForwardOperator: Initializing children:&lt;br/&gt;
2009-02-27 11:55:42,803 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,803 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing children:&lt;br/&gt;
2009-02-27 11:55:42,803 INFO org.apache.hadoop.hive.ql.exec.FileSinkOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,804 INFO org.apache.hadoop.hive.ql.exec.FileSinkOperator: Writing to temp file: /tmp/hive-zshao/_tmp.92566742.10001.insclause-0/_tmp.10549_m_000000_0&lt;br/&gt;
2009-02-27 11:55:42,813 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initialization Done&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.ForwardOperator: Initialization Done&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initialization Done&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initialization Done&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.TableScanOperator: Initialization Done&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.TableScanOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.TableScanOperator: Initializing children:&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing children:&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing children:&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.ForwardOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.ForwardOperator: Initializing children:&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,817 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: Initializing children:&lt;br/&gt;
2009-02-27 11:55:42,818 INFO org.apache.hadoop.hive.ql.exec.FileSinkOperator: Initializing Self&lt;br/&gt;
2009-02-27 11:55:42,819 INFO org.apache.hadoop.hive.ql.exec.FileSinkOperator: Writing to temp file: /tmp/hive-zshao/_tmp.92566742.10001.insclause-0/_tmp.10549_m_000000_0&lt;/p&gt;
</comment>
                            <comment id="12677500" author="zshao" created="Fri, 27 Feb 2009 20:04:56 +0000"  >&lt;p&gt;Explain extended also shows 2 file sink operator. But it&apos;s possible that there is only 2 and get displayed TWICE (and also initialized TWICE during query execution)&lt;/p&gt;</comment>
                            <comment id="12679967" author="zshao" created="Sun, 8 Mar 2009 08:36:31 +0000"  >&lt;p&gt;Fixing the bug (the second case) and added a test case.&lt;/p&gt;</comment>
                            <comment id="12679990" author="namit" created="Sun, 8 Mar 2009 16:22:29 +0000"  >&lt;p&gt;Zheng, there are a lot of problems with union, and I am in the process of fixing them in:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-318&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-318&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Some corner cases are not working, and I should be done hopefully in a day or 2.&lt;br/&gt;
Can you hold on to this patch - let us look at these 2 patches together and then decide&lt;/p&gt;</comment>
                            <comment id="12679992" author="namit" created="Sun, 8 Mar 2009 16:23:52 +0000"  >&lt;p&gt;I saw your other mail just now - if you are in a hurry, go ahead.&lt;br/&gt;
The changes look good&lt;/p&gt;


&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12680102" author="zshao" created="Mon, 9 Mar 2009 09:41:17 +0000"  >&lt;p&gt;Committed revision 751583.&lt;/p&gt;</comment>
                            <comment id="12680146" author="johanoskarsson" created="Mon, 9 Mar 2009 13:46:59 +0000"  >&lt;p&gt;This patch seems to haven broken the nightly build, see test TestCliDriver.testCliDriver_union3.&lt;br/&gt;
&lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Hive-trunk-h0.17/26/testReport/org.apache.hadoop.hive.cli/TestCliDriver/testCliDriver_union3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Hive-trunk-h0.17/26/testReport/org.apache.hadoop.hive.cli/TestCliDriver/testCliDriver_union3/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12401710" name="HIVE-308.1.patch" size="11746" author="zshao" created="Sun, 8 Mar 2009 08:36:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 8 Mar 2009 16:22:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 47 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l92v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-308&quot; title=&quot;UNION ALL should create different destination directories for different operands&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-308&quot;&gt;&lt;strike&gt;HIVE-308&lt;/strike&gt;&lt;/a&gt;. UNION ALL: FileSinkOperator now adds files in case the target exists. (zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-309] FunctionRegistry should allow loading UDFs and UDAFs from property file</title>
                <link>https://issues.apache.org/jira/browse/HIVE-309</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;FunctionRegistry.java hard code all UDF, UDAF definitions in a static initializer.  There is no way to add new functions without directly modifying this file.  &lt;/p&gt;

&lt;p&gt;FunctionRegistry SHOULD look for a property file in which new functions and their implementations can be specified.  This will allow third parties to extend hive without maintaining patches against the codebase. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12415723">HIVE-309</key>
            <summary>FunctionRegistry should allow loading UDFs and UDAFs from property file</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="rl337">Richard Lee</assignee>
                                    <reporter username="rl337">Richard Lee</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2009 00:54:17 +0000</created>
                <updated>Fri, 23 Oct 2009 19:09:48 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="12677191" author="rl337" created="Fri, 27 Feb 2009 01:03:48 +0000"  >&lt;p&gt;This attachment modifies FunctionRegistry so that it looks for a SystemResource &apos;hive-udf.properties&apos; which is overridable by setting org.apache.hadoop.hive.ql.exec.FunctionRegistry.propertyfile to the name of the resource to search for.  This allows placement of the resource anywhere in the classpath.&lt;/p&gt;

&lt;p&gt;The hive-udf.properties file contains definitions for UDF and UDAFs in the following way:&lt;/p&gt;

&lt;p&gt;udf.OPERATORTYPE.FUNCTIONNAME=CLASSNAME&lt;br/&gt;
udaf.OPERATORTYPE.FUNCTIONNAME=CLASSNAME&lt;/p&gt;

&lt;p&gt;OPERATORTYPE is a string that is parsable by Enum.valueOf(FunctionInfo.OperatorType).&lt;br/&gt;
CLASSNAME is the fully qualified name of the function&apos;s implementation.&lt;/p&gt;

&lt;p&gt;note that in UDAF, OPERATORTYPE isn&apos;t significant.&lt;/p&gt;

&lt;p&gt;This patch was generated from trunk revision 748227&lt;/p&gt;</comment>
                            <comment id="12677258" author="zshao" created="Fri, 27 Feb 2009 06:06:21 +0000"  >&lt;p&gt;Thanks Richard.&lt;/p&gt;

&lt;p&gt;It seems you also removed displayName, and set isOperator always to false.&lt;/p&gt;

&lt;p&gt;Is it possible to keep those 2 parameters?&lt;/p&gt;</comment>
                            <comment id="12677428" author="rl337" created="Fri, 27 Feb 2009 17:37:22 +0000"  >&lt;p&gt;I guess it depends on how complex the syntax should be.  I think I&apos;d prefer to keep each function definition at one line.&lt;/p&gt;

&lt;p&gt;What do you think about this:&lt;/p&gt;

&lt;p&gt;udf.IDENTIFIER=FUNCTIONNAME,CLASSNAME[,OPERATORTYPE,[ISOPERATOR,&lt;span class=&quot;error&quot;&gt;&amp;#91;DISPLAYNAME&amp;#93;&lt;/span&gt;]]&lt;br/&gt;
udaf.IDENTIFIER=FUNCTIONNAME,CLASSNAME[,ISOPERATOR,&lt;span class=&quot;error&quot;&gt;&amp;#91;DISPLAYNAME&amp;#93;&lt;/span&gt;]&lt;/p&gt;

&lt;p&gt;here, IDENTIFIER is only used to distinguish keys within the property file.  FUNCTIONNAME is pulled into the value so that non-word characters can be used (otherwise defining operators would be less useful).  The only two parts of the line that are required are FUNCTIONNAME and CLASSNAME.&lt;/p&gt;

&lt;p&gt;As an example:&lt;br/&gt;
udf.logicaland=and,org.apache.hadoop.hive.ql.udf.UDFOPAnd,INFIX,true&lt;br/&gt;
udf.doubleampersand=&amp;amp;&amp;amp;,org.apache.hadoop.hive.ql.udf.UDFOPAnd,INFIX,true,and&lt;/p&gt;

&lt;p&gt;for most other non-operator, PREFIX functions, you can simply say:&lt;br/&gt;
udf.month=month,org.apache.hadoop.hive.ql.udf.UDFMonth&lt;/p&gt;</comment>
                            <comment id="12677435" author="rl337" created="Fri, 27 Feb 2009 17:57:27 +0000"  >&lt;p&gt;for udaf, the syntax should JUST be&lt;/p&gt;

&lt;p&gt;udaf.IDENTIFIER=FUNCTIONNAME,CLASSNAME&lt;/p&gt;

&lt;p&gt;since registerUDAF only takes 2 params.&lt;/p&gt;</comment>
                            <comment id="12677483" author="rl337" created="Fri, 27 Feb 2009 19:10:10 +0000"  >&lt;p&gt;here&apos;s a diff off the same revision of trunk as my last one...&lt;br/&gt;
This implements the function definition syntax that I described in my previous comment.&lt;/p&gt;</comment>
                            <comment id="12680992" author="zshao" created="Wed, 11 Mar 2009 19:06:59 +0000"  >&lt;p&gt;Hi Richard, sorry for the delay.&lt;br/&gt;
It seems the only call to registerUDF in your new patch is: registerUDF(parts&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;, clazz, operatorType, false); &lt;/p&gt;

&lt;p&gt;This does not implement what you mentioned:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;udf.IDENTIFIER=FUNCTIONNAME,CLASSNAME[,OPERATORTYPE,[ISOPERATOR,[DISPLAYNAME]]]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Does it?&lt;/p&gt;
</comment>
                            <comment id="12681072" author="zshao" created="Wed, 11 Mar 2009 22:40:55 +0000"  >&lt;p&gt;Had a second look. This looks OK to me now.&lt;br/&gt;
Will ping Ashish to see his comment since he worked on the last refactorization of UDF.&lt;/p&gt;</comment>
                            <comment id="12681131" author="namit" created="Thu, 12 Mar 2009 01:20:07 +0000"  >&lt;p&gt;Looks good - I had some minor comments:&lt;/p&gt;

&lt;p&gt;Instead of making property file dependent on system property org.apache.hadoop.hive.ql.exec.FunctionRegistry.propertyfile, would it be a good idea to make it a &lt;br/&gt;
configurable parameter with the default being hive-udf.properties in the configuration directory. The users can overwrite this file or add a new one somewhere else,&lt;br/&gt;
and point to the new file.&lt;/p&gt;

&lt;p&gt;Also, it would be great it you can add a dummy property file with some UDF and UDAF for testing.&lt;/p&gt;</comment>
                            <comment id="12681135" author="rl337" created="Thu, 12 Mar 2009 01:29:33 +0000"  >&lt;p&gt;I would love to make the hive-udf.properties part of the hive configuration file, but the functions are presently defined in a static initializer which has no access to a HiveConf object.   That&apos;s why I went with a system property for defining what file to look in.&lt;/p&gt;
</comment>
                            <comment id="12681136" author="athusoo" created="Thu, 12 Mar 2009 01:36:08 +0000"  >&lt;p&gt;sorry to chime in a bit late on this but I was out on vaccation.&lt;/p&gt;

&lt;p&gt;I think a better place to store this is the metastore as I think the issue here is to allow third parties to write their own udfs which are persistent. We do have the ability to create temporary UDF mappings. I am right in my understanding??&lt;/p&gt;</comment>
                            <comment id="12681432" author="rl337" created="Thu, 12 Mar 2009 18:30:20 +0000"  >&lt;p&gt;I think that I would prefer to go the property file route. It&apos;s really nice to just add a jar to the classpath and have the functions defined there show up.  I guess i should modify the patch to iterate through all hive-udf.properties files encountered in case more than one jar or directory contains function definitions.&lt;/p&gt;

&lt;p&gt;This essentially allows users to mix and match what they include by altering the HIVE_AUX_JARS_PATH. &lt;/p&gt;</comment>
                            <comment id="12681566" author="rl337" created="Fri, 13 Mar 2009 00:52:58 +0000"  >&lt;p&gt;I couldn&apos;t seem to get the hive-udf.properties to be picked up by the TestCliDriver.. I tried the properties file to the test.classpath, and explicitly including it into the test-udf.jar... but no love.&lt;/p&gt;

&lt;p&gt;The contents of my properties file is:&lt;br/&gt;
udf.PREFIX.testfoo=testfoo,org.apache.hadoop.hive.ql.udf.UDFConcat&lt;br/&gt;
udaf.testbar=testbar,org.apache.hadoop.hive.ql.udf.UDAFSum&lt;/p&gt;

&lt;p&gt;and the .q file which  should excersize these test functions contains:&lt;/p&gt;

&lt;p&gt;SELECT testfoo(cast(src.key as string), src.value) FROM src WHERE src.key = 86;&lt;/p&gt;

&lt;p&gt;SELECT testbar(src.key) FROM src;&lt;/p&gt;


&lt;p&gt;If anyone has a suggestion as to how to modify the build process to pick up the properties file... i&apos;d appreciate it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12681938" author="rl337" created="Fri, 13 Mar 2009 23:42:17 +0000"  >&lt;p&gt;Finally got a unit test working with loading UDFs via property files.  The test verifies that both UDF and UDAF mappings are picked up.&lt;/p&gt;

&lt;p&gt;It seems like the classpath situation with junit/ant is a little different than regular execution... so the hive-udf.properties needed to be copied into the build directory where the unit tests are run from.&lt;/p&gt;</comment>
                            <comment id="12681939" author="rl337" created="Fri, 13 Mar 2009 23:43:43 +0000"  >&lt;p&gt;whoops. i accidentally named the 2nd attempt at a patch the same as my previous... please use the latest upload... the one from 2009-03-13 04:42 PM&lt;/p&gt;</comment>
                            <comment id="12694207" author="rl337" created="Tue, 31 Mar 2009 18:47:58 +0000"  >&lt;p&gt;has anyone had a chance to look at the new patch?&lt;/p&gt;</comment>
                            <comment id="12694286" author="namit" created="Tue, 31 Mar 2009 21:29:37 +0000"  >&lt;p&gt;I will take a look.&lt;/p&gt;

&lt;p&gt;In the future, can you &apos;Submit Patch&apos; also when you attach a file - that way, more people might know that you have a patch ready for review ?&lt;/p&gt;</comment>
                            <comment id="12694288" author="namit" created="Tue, 31 Mar 2009 21:33:27 +0000"  >&lt;p&gt;I got the following error while applying the patch:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;njain@dev119 trunk&amp;#93;&lt;/span&gt;$ patch -p0 &amp;lt; /tmp/hive.309.patch &lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file build-common.xml&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/results/clientpositive/udf_from_properties.q.out&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/hive-udf.properties&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/test/queries/clientpositive/udf_from_properties.q&lt;br/&gt;
(Stripping trailing CRs from patch.)&lt;br/&gt;
patching file ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
Hunk #3 FAILED at 159.&lt;br/&gt;
1 out of 3 hunks FAILED &amp;#8211; saving rejects to file ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java.rej&lt;/p&gt;


&lt;p&gt;Can you refresh and resubmit the patch ?&lt;/p&gt;</comment>
                            <comment id="12694301" author="rl337" created="Tue, 31 Mar 2009 22:06:50 +0000"  >&lt;p&gt;re-applied patch to trunk.  this one should patch cleanly.&lt;/p&gt;</comment>
                            <comment id="12694327" author="namit" created="Tue, 31 Mar 2009 23:50:33 +0000"  >&lt;p&gt;Your code changes look good - but can you add a few tests also.&lt;/p&gt;

&lt;p&gt;You have ignored badly specified function names etc. - please add some good functions as you mentioned above and also some bad functions (which &lt;br/&gt;
will just get ignored)&lt;/p&gt;

&lt;p&gt;Once the tests are in, I will accept and commit the patch&lt;/p&gt;</comment>
                            <comment id="12694362" author="rl337" created="Wed, 1 Apr 2009 03:03:48 +0000"  >&lt;p&gt;I forgot to svn add a couple files in my previous diff... so the test cases didn&apos;t make it in. this one should fix that.&lt;br/&gt;
added some garbage entries into the properties file to verify that broken entries get ignored.&lt;/p&gt;</comment>
                            <comment id="12694501" author="athusoo" created="Wed, 1 Apr 2009 12:37:06 +0000"  >&lt;p&gt;The latest patch does not seem to have all the files as well.&lt;/p&gt;

&lt;p&gt;Also I still have some reservations about this approach. The reasons are as follows:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;This approach works quite well as long as the CLI is used to run the queries, however, as soon as you go to other clients such as the web interface this approach will break down. The reason being that in the web client there is a central server running the queries being submitted by the user and so all the users are sharing the same udf.properties file and it will be impossible for the user to actually add his functions to this udf.properties file as he will not have access to the locations where the udf.properties files exists. In this case and in other cases where there are centralized servers that serve up the queries (something that is possible to some extent now with the JDBC drivers), this approach will break as the registerUDF function is only called on the udf side.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Having said that, this approach does work well if you want to have private UDFs which you do not really share with other folks and you are using the current version of the HiveCli (though that may also be made more client serverish in the future).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;To me though, storing all this meta information in the metastore through the &lt;/p&gt;

&lt;p&gt;create function .. command &lt;/p&gt;

&lt;p&gt;would be able to address both those issues...&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="12694607" author="namit" created="Wed, 1 Apr 2009 16:26:35 +0000"  >&lt;p&gt;However, if a client has some particular UDF implementation, and wants to use that, he will be forced to add it to the server classpath&lt;br/&gt;
if we go with the metastore approach.&lt;/p&gt;

&lt;p&gt;Will clients be able to add jar files to the server where the Hive server is running ?&lt;/p&gt;</comment>
                            <comment id="12694616" author="prasadc" created="Wed, 1 Apr 2009 16:52:36 +0000"  >&lt;p&gt;I don&apos;t think storing UDF jars in metastore is necessary. I like the scheme that Richard proposes since it is a light weight way. It is simple to add UDFs in HIVE CLI mode. If one wants to add UDFs to HiveServer, then the administrator can restart HiveServer. In future a command could be provided to copy the jar from client to server in a well known location that is not overwritten by a reinstall of the server. IMO, This functionality needn&apos;t provided in the same patch.&lt;/p&gt;</comment>
                            <comment id="12694645" author="rl337" created="Wed, 1 Apr 2009 17:58:42 +0000"  >&lt;p&gt;How embarrasing. I uploaded the same patch twice.   Too many version control systems...&lt;/p&gt;

&lt;p&gt;This patch should have all of the files this time.&lt;/p&gt;

&lt;p&gt;As far as the implementation debate, naturally i prefer my implementation to a metastore implementation... but I&apos;m not totally against  a metastore based solution.  My only requirement is that adding/changing UDFs be easily automatable.  Essentially, we have a continuous integration system which produce distributions with a build name.  We &quot;roll out&quot; builds via a simple rollout script.... and at the moment all it does is modify a symlink which changes the directory HIVE_AUX_JARS_PATH points at to a specific build.   If we ever enable the web client, the rollout script will also be responsible for restarting the hive server.&lt;/p&gt;
</comment>
                            <comment id="12694700" author="namit" created="Wed, 1 Apr 2009 19:14:35 +0000"  >&lt;p&gt;Had a discussion with Ashish and Raghu about this.&lt;/p&gt;

&lt;p&gt;Since, we already have &apos;create temporary function&apos;, the above approach may not give us anything new. It would be better to go with the&lt;br/&gt;
metastore approach. That means that the jar file needs to be copied to a well-known location in the server. Function metadata&lt;br/&gt;
needs to contain the location of the jar.&lt;/p&gt;</comment>
                            <comment id="12695603" author="athusoo" created="Fri, 3 Apr 2009 21:39:32 +0000"  >&lt;p&gt;I see your use case Richard. I think a more reasonable approach - which Prasad mentioned  is that we could extend the UDF api to give out all the meta information about that particular UDF and use that to create the registration table. That way, jars are truely plug and play. To me creating a .properties is just creating another repository for metadata. I think we should either store the metadata with the object itself (as in the approach mentioned here) or for a repository use the metastore. Does this sound more reasonable Richard?&lt;/p&gt;</comment>
                            <comment id="12695614" author="rl337" created="Fri, 3 Apr 2009 22:06:28 +0000"  >&lt;p&gt;Adding a registration table with a per-jar registration sounds like a reasonable solution to me.&lt;/p&gt;

&lt;p&gt;I think my only issue becomes timeframe. I&apos;m assuming that this issue will get shelved until someone has time to implement the feature?   By next release? release after? I&apos;d like to keep my hive installation as mainline as possible.  &lt;/p&gt;</comment>
                            <comment id="12769293" author="rl337" created="Fri, 23 Oct 2009 16:47:29 +0000"  >&lt;p&gt;Upgraded to hive 0.4.0.  Will attach a massaged version of my UDF patch against 0.4.0.&lt;/p&gt;</comment>
                            <comment id="12769371" author="rl337" created="Fri, 23 Oct 2009 19:09:48 +0000"  >&lt;p&gt;patch updated to work on 0.4.0.  This should not be used after permanent function definitions in hiveQL are implemented.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12423050" name="hive-external-functions-0.4.0.diff" size="7134" author="rl337" created="Fri, 23 Oct 2009 19:09:48 +0000"/>
                            <attachment id="12401125" name="hive-external-functions-2.diff" size="4800" author="rl337" created="Fri, 27 Feb 2009 19:10:10 +0000"/>
                            <attachment id="12401077" name="hive-external-functions.diff" size="3928" author="rl337" created="Fri, 27 Feb 2009 01:03:48 +0000"/>
                            <attachment id="12402179" name="hive-external-functions2.diff" size="6584" author="rl337" created="Fri, 13 Mar 2009 23:42:17 +0000"/>
                            <attachment id="12404277" name="hive-external-functions3.diff" size="5479" author="rl337" created="Tue, 31 Mar 2009 22:06:50 +0000"/>
                            <attachment id="12404296" name="hive-external-functions4.diff" size="5479" author="rl337" created="Wed, 1 Apr 2009 03:03:48 +0000"/>
                            <attachment id="12404358" name="hive-external-functions5.diff" size="6984" author="rl337" created="Wed, 1 Apr 2009 17:58:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Feb 2009 06:06:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42863</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08ofb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-310] alter table is not using correct serde while replacing columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-310</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Alter table should set correct serde while replacing columns depending on the column types instead of setting the serde to MetadataTypedColumnsetSerDe always.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415725">HIVE-310</key>
            <summary>alter table is not using correct serde while replacing columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2009 01:59:42 +0000</created>
                <updated>Tue, 12 Jan 2010 19:20:18 +0000</updated>
                            <resolved>Fri, 11 Sep 2009 21:39:42 +0000</resolved>
                                    <version>0.6.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12677206" author="prasadc" created="Fri, 27 Feb 2009 02:03:24 +0000"  >&lt;p&gt;unfortunately tests that have output of &apos;describe extended&apos; can&apos;t be compared easily since they contain user names. so there are no tests. need to figure out how to compare this output. will open a new JIRA&lt;/p&gt;</comment>
                            <comment id="12677413" author="jsensarma" created="Fri, 27 Feb 2009 16:53:00 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;might make sense to test in java land.&lt;/p&gt;</comment>
                            <comment id="12677442" author="prasadc" created="Fri, 27 Feb 2009 18:12:22 +0000"  >&lt;p&gt;what do you mean by java land?&lt;/p&gt;</comment>
                            <comment id="12677445" author="prasadc" created="Fri, 27 Feb 2009 18:22:20 +0000"  >&lt;p&gt;there is a work around in the meantime which is to set the correct SerDe using &apos;alter table ... set serde ..&apos; command.&lt;/p&gt;</comment>
                            <comment id="12680953" author="jsensarma" created="Wed, 11 Mar 2009 17:58:30 +0000"  >&lt;p&gt;can we check this in? i meant we could test the setting of the correct serde from a java test program. but would be good to get this in regardless.&lt;/p&gt;</comment>
                            <comment id="12680957" author="prasadc" created="Wed, 11 Mar 2009 18:02:40 +0000"  >&lt;p&gt;i will submit a new patch with the test.&lt;/p&gt;</comment>
                            <comment id="12754362" author="prasadc" created="Fri, 11 Sep 2009 21:39:42 +0000"  >&lt;p&gt;not sure this is required any more. going to close this as &apos;will not fix&apos;. will reopen this if any one has a valid case for this still.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12401081" name="hive-310.patch" size="2041" author="prasadc" created="Fri, 27 Feb 2009 02:03:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Feb 2009 16:53:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73627</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l933:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-311] Ouput of &apos;describe extended&apos; commands are not getting compared correctly in unit tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-311</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Since the output contains the file locations and user names, the outputs are not being compared at all so we are not able to catch bugs in new patches.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415727">HIVE-311</key>
            <summary>Ouput of &apos;describe extended&apos; commands are not getting compared correctly in unit tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2009 02:08:37 +0000</created>
                <updated>Mon, 7 Mar 2011 19:38:08 +0000</updated>
                            <resolved>Mon, 7 Mar 2011 19:38:08 +0000</resolved>
                                    <version>0.6.0</version>
                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12792217" author="zshao" created="Thu, 17 Dec 2009 23:24:31 +0000"  >&lt;p&gt;I think this is fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Dec 2009 23:24:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l93b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-312] create table with tinyint is broken</title>
                <link>https://issues.apache.org/jira/browse/HIVE-312</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;org.apache.hadoop.hive.serde2.dynamic_type.ParseException: Encountered &quot;byte&quot; at line 1, column 108.                                                                                      &lt;br/&gt;
Was expecting one of:                                                                        &lt;br/&gt;
    &quot;bool&quot; ...                                                                               &lt;br/&gt;
    &quot;i16&quot; ...                                                                                &lt;br/&gt;
    &quot;i32&quot; ...                                                                                &lt;br/&gt;
    &quot;i64&quot; ...                                                                                &lt;br/&gt;
    &quot;double&quot; ...                                                                             &lt;br/&gt;
    &quot;string&quot; ...                                                                             &lt;br/&gt;
    &quot;map&quot; ...                                                                                &lt;br/&gt;
    &quot;list&quot; ...                                                                               &lt;br/&gt;
    &quot;set&quot; ...                                                                                &lt;br/&gt;
    &quot;required&quot; ...                                                                           &lt;br/&gt;
    &quot;optional&quot; ...                                                                           &lt;br/&gt;
    &quot;skip&quot; ...                                                                               &lt;br/&gt;
    &amp;lt;tok_int_constant&amp;gt; ...                                                                   &lt;br/&gt;
    &amp;lt;IDENTIFIER&amp;gt; ...                                                                         &lt;br/&gt;
    &quot;}&quot; ...                                                                                  &lt;/p&gt;

&lt;p&gt;        at org.apache.hadoop.hive.serde2.dynamic_type.thrift_grammar.generateParseException(thrift_grammar.java:2321)                                                                     &lt;br/&gt;
        at org.apache.hadoop.hive.serde2.dynamic_type.thrift_grammar.jj_consume_token(thrift_grammar.java:2253)                                                                           &lt;br/&gt;
        at org.apache.hadoop.hive.serde2.dynamic_type.thrift_grammar.Struct(thrift_grammar.java:1172)                                                                                     &lt;br/&gt;
        at org.apache.hadoop.hive.serde2.dynamic_type.thrift_grammar.TypeDefinition(thrift_grammar.java:497)                                                                              &lt;br/&gt;
        at org.apache.hadoop.hive.serde2.dynamic_type.thrift_grammar.Definition(thrift_grammar.java:439)                                                                                  &lt;br/&gt;
        at org.apache.hadoop.hive.serde2.dynamic_type.thrift_grammar.Start(thrift_grammar.java:101)                                                                                       &lt;br/&gt;
        at org.apache.hadoop.hive.serde2.dynamic_type.DynamicSerDe.initialize(DynamicSerDe.java:97)                                                                                       &lt;br/&gt;
        at org.apache.hadoop.hive.metastore.MetaStoreUtils.getDeserializer(MetaStoreUtils.java:180)                                                                                       &lt;br/&gt;
        at org.apache.hadoop.hive.ql.metadata.Table.initSerDe(Table.java:142)                &lt;br/&gt;
        at org.apache.hadoop.hive.ql.metadata.Hive.createTable(Hive.java:250)                &lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.DDLTask.createTable(DDLTask.java:739)              &lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.DDLTask.execute(DDLTask.java:96)                   &lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:238)                             &lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:174)               &lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:207)              &lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processReader(CliDriver.java:225)            &lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:274)                     &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)                       &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)     &lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)                                                                                          &lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)                                  &lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:166)                               &lt;br/&gt;
        at org.apache.hadoop.mapred.JobShell.run(JobShell.java:194)                          &lt;br/&gt;
        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)                         &lt;br/&gt;
        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)                         &lt;br/&gt;
        at org.apache.hadoop.mapred.JobShell.main(JobShell.java:220)         &lt;/p&gt;</description>
                <environment></environment>
        <key id="12415733">HIVE-312</key>
            <summary>create table with tinyint is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="indigoviolet">Venky Iyer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2009 04:03:52 +0000</created>
                <updated>Fri, 27 Feb 2009 10:47:51 +0000</updated>
                            <resolved>Fri, 27 Feb 2009 10:47:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12677311" author="johanoskarsson" created="Fri, 27 Feb 2009 10:47:51 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-193&quot; title=&quot;Cannot create table with tinyint type column&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-193&quot;&gt;&lt;del&gt;HIVE-193&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Feb 2009 10:47:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73625</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l93j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-313] add UDF date_add, date_sub, datediff</title>
                <link>https://issues.apache.org/jira/browse/HIVE-313</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_date-add&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_date-add&lt;/a&gt;&lt;br/&gt;
See &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_date-sub&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_date-sub&lt;/a&gt;&lt;br/&gt;
See &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_datediff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_datediff&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12415739">HIVE-313</key>
            <summary>add UDF date_add, date_sub, datediff</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2009 06:13:05 +0000</created>
                <updated>Thu, 2 May 2013 02:29:21 +0000</updated>
                            <resolved>Mon, 26 Jul 2010 06:25:55 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12677264" author="zshao" created="Fri, 27 Feb 2009 06:17:55 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
DATE_ADD(&lt;span class=&quot;code-quote&quot;&gt;&apos;2009-01-01&apos;&lt;/span&gt;, 1) = &lt;span class=&quot;code-quote&quot;&gt;&apos;2009-01-02&apos;&lt;/span&gt;
DATE_SUB(&lt;span class=&quot;code-quote&quot;&gt;&apos;2009-01-01&apos;&lt;/span&gt;, 1) = &lt;span class=&quot;code-quote&quot;&gt;&apos;2008-12-31&apos;&lt;/span&gt;

DATEDIFF(&lt;span class=&quot;code-quote&quot;&gt;&apos;2009-01-01&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;2008-12-31&apos;&lt;/span&gt;) = 1

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12680061" author="zshao" created="Mon, 9 Mar 2009 05:36:59 +0000"  >&lt;p&gt;Added the UDFs.&lt;/p&gt;</comment>
                            <comment id="12681172" author="rsm" created="Thu, 12 Mar 2009 06:08:26 +0000"  >&lt;p&gt;Couple things.&lt;/p&gt;

&lt;p&gt;1. What&apos;s the locale you would be using for parsing the date? I&apos;m guessing PST? How would you handle the case where data for a day when there was no daylight savings is queried on a day when there is daylight savings?&lt;/p&gt;

&lt;p&gt;2. In the test query, can you change one of the functions to take as input a column from a table rather than all tests being constants? This is just to be sure that there is no weirdness when processing constants vs columns.&lt;/p&gt;

&lt;p&gt;3. Do you need the calendar variable in UDFDateDiff?&lt;/p&gt;</comment>
                            <comment id="12681181" author="zshao" created="Thu, 12 Mar 2009 06:31:09 +0000"  >&lt;p&gt;Incorporated comments from Raghu. All dates are parsed as UTC now to avoid daylight saving problem.&lt;/p&gt;

&lt;p&gt;I didn&apos;t put the data to the table though - we have been doing testing with constants for almost all UDFs till now. And these UDF functions are simple enough so I don&apos;t see much difference between testing with constants and with data from table.&lt;/p&gt;</comment>
                            <comment id="12681185" author="rsm" created="Thu, 12 Mar 2009 06:51:23 +0000"  >&lt;p&gt;We should document the fact that we only do UTC now. Its probably not very intuitive to do date arithmetic in UTC if people are thinking in their own timezones. I guess we should support locales later (probably another jira).&lt;/p&gt;

&lt;p&gt;Also, just checked the date_add spec in the URL specified above. It has a lot more functionality than what you have implemented. Similar with date_sub. Maybe file jiras to make these functions feature complete?&lt;/p&gt;

&lt;p&gt;Btw, if you are confident that we dont have to add tests with table columns, I am fine by having only constants.&lt;/p&gt;

&lt;p&gt;+1 as long as you file those jiras and add documentation to the Hive Language Manual &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12416719">HIVE-345</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12401733" name="HIVE-313.1.patch" size="13700" author="zshao" created="Mon, 9 Mar 2009 05:36:59 +0000"/>
                            <attachment id="12402018" name="HIVE-313.2.patch" size="13784" author="zshao" created="Thu, 12 Mar 2009 06:31:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Mar 2009 06:08:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73624</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l93r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122125</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-314] rlike is broken.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-314</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;as far as i can tell, rlike doesn&apos;t appear to work as expected:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/pattern-matching.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/pattern-matching.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;1) it shouldn&apos;t need the ^foobar$ to match foobar; the regexp &apos;foo&apos; should match foobar&lt;br/&gt;
2) %foobar% should work identical to ^.&lt;b&gt;?foobar.&lt;/b&gt;$ and it doesn&apos;t seem to.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415754">HIVE-314</key>
            <summary>rlike is broken.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="indigoviolet">Venky Iyer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2009 08:43:11 +0000</created>
                <updated>Tue, 6 Oct 2009 07:10:55 +0000</updated>
                            <resolved>Tue, 6 Oct 2009 07:10:55 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12412622">HIVE-236</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12412622">HIVE-236</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73623</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l93z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122126</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-315] remove map() and reduce()</title>
                <link>https://issues.apache.org/jira/browse/HIVE-315</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;this is a minor thing, but since these aren&apos;t actually doing anything to ensure mapper/reducer semantics, they are misleading. everything is a transform. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12415762">HIVE-315</key>
            <summary>remove map() and reduce()</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="indigoviolet">Venky Iyer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2009 10:51:02 +0000</created>
                <updated>Mon, 8 Sep 2014 08:25:26 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12714245" author="akramer" created="Fri, 29 May 2009 00:39:13 +0000"  >&lt;p&gt;Another option is to actually fix them to ensure mapper/reducer semantics.&lt;/p&gt;

&lt;p&gt;It would be lovely, for example, if MAP forced the data transformation to occur in a map step (creating a new mapreduce process if necessary) and REDUCE forced the data transformation to occur in a reduce step.&lt;/p&gt;

&lt;p&gt;This would be very helpful for specifying how data is to be transformed, as MAP scripts are inherently different from REDUCE scripts, since one may need to assume sorted data and the other by definition cannot.&lt;/p&gt;

&lt;p&gt;But if we can&apos;t make MAP and REDUCE actually refer/ensure that the program will be run in the MAP or REDUCE step, I agree that this syntax should be eliminated because it is misleading.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12435853">HIVE-835</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 May 2009 00:39:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42862</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l947:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122127</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-316] External table definitions should be allowed outside of Warehouse Filesystem</title>
                <link>https://issues.apache.org/jira/browse/HIVE-316</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I have a situation where I have hive&apos;s datastore pointed at an hdfs, but would like to create an external table on data accessable from an outside data storage solution exported via nfs.  &lt;/p&gt;

&lt;p&gt;Presently, Warehouse.java aggregates only a single FileSystem object which limits all tables, both internal and external to being relative to the URl specified in the hive configuration.  I feel like the Warehouse code should prefer to use the configured warehouse URI for non-absolute Paths, but honor paths outside of the Warehouse; particularly when they are defined in external tables.&lt;/p&gt;

&lt;p&gt;I was going to implement this by adding a Map of FileSystem objects to the Warehouse object.  This map gets populated with FileSystem objects when operations cannot be performed by either the warehouse FS, or any other FS object in the map.  I am not sure what impact this change would have on hive overall... or if this is the only place that this change would need to be made.&lt;/p&gt;

&lt;p&gt;Please advise.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415832">HIVE-316</key>
            <summary>External table definitions should be allowed outside of Warehouse Filesystem</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rl337">Richard Lee</assignee>
                                    <reporter username="rl337">Richard Lee</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2009 23:41:19 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:39 +0000</updated>
                            <resolved>Fri, 23 Oct 2009 17:36:54 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12677604" author="prasadc" created="Sat, 28 Feb 2009 00:05:16 +0000"  >&lt;p&gt;There is an EXTERNAL TABLE feature where you can give the location of the table such as &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; during the creation of the table. Can you use that? If not, how else would you want to use it?&lt;/p&gt;</comment>
                            <comment id="12677605" author="rl337" created="Sat, 28 Feb 2009 00:12:57 +0000"  >&lt;p&gt;If you specify a &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; URI for the external table definition, it eventually gets passed to Warehouse.mkdirs().  That explicitly calls fs.mkdirs() which will throw an exception if the URI is outside of the FileSystem specified in the hive configuration.  If i had specified a &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; URI in the hive configuration that&apos;d work, but i don&apos;t want ALL of my hive operations to be done on  my external storage.&lt;/p&gt;</comment>
                            <comment id="12680303" author="rl337" created="Mon, 9 Mar 2009 22:21:02 +0000"  >&lt;p&gt;Attached is a diff from trunk rev 751874. &lt;/p&gt;

&lt;p&gt;This should allow users to specify an absolute path outside of the hive warehouse FileSystem when creating external tables.&lt;/p&gt;

&lt;p&gt;Relative paths are still resolved relative to the warehouse&apos;s FileSystem.&lt;/p&gt;</comment>
                            <comment id="12680559" author="namit" created="Tue, 10 Mar 2009 18:01:11 +0000"  >&lt;p&gt;Can you add a test - I am not sure whether it will work with 1 hdfs and 1 external table. Can you try that with your changes ?&lt;/p&gt;</comment>
                            <comment id="12680567" author="prasadc" created="Tue, 10 Mar 2009 18:18:24 +0000"  >&lt;p&gt;Warehouse.java: 86, 94&lt;br/&gt;
you should guard against null return from getFs() or make getFs throw an exception. I would prefer an exception since it is an error if Hive doesn&apos;t know what is the file system of a file.&lt;/p&gt;

&lt;p&gt;otherwise it looks good, but adding the test that Namit suggested would be great.&lt;/p&gt;</comment>
                            <comment id="12680642" author="athusoo" created="Tue, 10 Mar 2009 22:03:57 +0000"  >&lt;p&gt;Made Richard a contributor and assigned the bug to him.&lt;/p&gt;</comment>
                            <comment id="12681105" author="rl337" created="Wed, 11 Mar 2009 23:59:32 +0000"  >&lt;p&gt;Attached are the test query script for creating an external table on a filesystem other than the warehouse filesystem. There&apos;s a dirty hard coded path in the test... but i&apos;m not sure what to do about it. &lt;/p&gt;

&lt;p&gt;The hive-external-filesystems2.diff file contains the latest diff, which includes getFs() throwing a MetaException instead of just logging and returning null.&lt;/p&gt;
</comment>
                            <comment id="12681122" author="namit" created="Thu, 12 Mar 2009 00:57:18 +0000"  >&lt;p&gt;Can you add a test which joins a hdfs table (standard hive table) with another external table ?&lt;/p&gt;</comment>
                            <comment id="12681573" author="rl337" created="Fri, 13 Mar 2009 01:16:41 +0000"  >&lt;p&gt;Here&apos;s a join unit test and a new diff that&apos;s needed for the test to pass.  Essentially, the TestFileSystem referenced in the test needs to be in the classpath of the test hadoop job... so i modified the build-common to create a test-classes.jar instead of just a test-udf.jar.&lt;/p&gt;</comment>
                            <comment id="12681575" author="prasadc" created="Fri, 13 Mar 2009 01:27:09 +0000"  >&lt;p&gt;The latest patch contains two diffs for each file. Also single diff should have all the files including the testcase and its result.&lt;/p&gt;

&lt;p&gt;Also add the both test files and the outputs using svn add and then take the diff.&lt;/p&gt;

&lt;p&gt;can you drop the new tables that you create at the end of the testcase so that if there are any &apos;show tables&apos; test cases will not fail.&lt;/p&gt;</comment>
                            <comment id="12681875" author="rl337" created="Fri, 13 Mar 2009 19:40:25 +0000"  >&lt;p&gt;Ok. I did the svn adds and collapsed both tests into a single test which drops the table that it creates. (the second test just ads functionality onto the first test) and took a new diff... this time not appending to the previous diff.&lt;/p&gt;
</comment>
                            <comment id="12681900" author="prasadc" created="Fri, 13 Mar 2009 21:23:04 +0000"  >&lt;p&gt;looks fine to me. +1&lt;/p&gt;</comment>
                            <comment id="12683554" author="namit" created="Thu, 19 Mar 2009 18:22:42 +0000"  >&lt;p&gt;While I was running tests for merging, I got the following error:&lt;/p&gt;

&lt;p&gt;Note that this happened while running tests for the second time. I have not debugged it, but I suspect it might have something to do with the directory already present (created the first time).&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Begin query: external_table_join.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Loading data to table srcpart partition &lt;/p&gt;
{ds=2008-04-08, hr=11}
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; OK&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Loading data to table srcpart partition &lt;/p&gt;
{ds=2008-04-08, hr=12}
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; OK&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Loading data to table srcpart partition &lt;/p&gt;
{ds=2008-04-09, hr=11}
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; OK&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Loading data to table srcpart partition &lt;/p&gt;
{ds=2008-04-09, hr=12}
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; OK&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Loading data to table srcbucket&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; OK&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Loading data to table srcbucket&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; OK&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Loading data to table src&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; OK&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Exception: Client Execution failed with error code = 9&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; junit.framework.AssertionFailedError: Client Execution failed with error code = 9&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_external_table_join(TestCliDriver.java:705)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at junit.framework.TestCase.runTest(TestCase.java:154)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at junit.framework.TestCase.runBare(TestCase.java:127)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:297)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:672)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:567)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Hive history file=/data/users/njain/hive_commit/trunk/ql/../build/ql/tmp/hive_job_log_njain_200903181609_1260283057.txt&lt;/p&gt;</comment>
                            <comment id="12683564" author="rl337" created="Thu, 19 Mar 2009 18:52:19 +0000"  >&lt;p&gt;I was afraid that this might happen. Is there a way to only &quot;Delete If Exists&quot; from within a .q file?&lt;/p&gt;

&lt;p&gt;dfs -rmr seems to fail if the directory doesn&apos;t actually exist.&lt;/p&gt;</comment>
                            <comment id="12683628" author="namit" created="Thu, 19 Mar 2009 21:28:13 +0000"  >&lt;p&gt;No, there is nothing like &apos;Delete If Exists&apos;&lt;/p&gt;

&lt;p&gt;You can invoke a shell script from .q file  &lt;br/&gt;
try &lt;br/&gt;
!&amp;lt;shell_script_name&amp;gt;&lt;/p&gt;

&lt;p&gt;In the script, you can delete the directory and ignore the error if any&lt;/p&gt;</comment>
                            <comment id="12683947" author="rl337" created="Fri, 20 Mar 2009 17:14:03 +0000"  >&lt;p&gt;Namit, I re-checked out trunk and applied my patch to it so that i have a clean tree... i then ran the test 4 times in a row with the following:&lt;/p&gt;

&lt;p&gt;ant test -Dtest.include=TestCliDriver -Dqfile=external_table_join.q&lt;/p&gt;

&lt;p&gt;Could not reproduce the error to debug. Were you merging multiple changes?  Let me know if there are any other steps that I can try to reproduce the issue.&lt;/p&gt;</comment>
                            <comment id="12685374" author="namit" created="Fri, 20 Mar 2009 22:09:22 +0000"  >&lt;p&gt;No, I was only merging your change - I did a svn up and reran the about query a few times, and it succeeded.&lt;/p&gt;

&lt;p&gt;I was only merging your patch - not sure, why I got the error in the first place.&lt;/p&gt;

&lt;p&gt;Running all tests again&lt;/p&gt;</comment>
                            <comment id="12688331" author="namit" created="Mon, 23 Mar 2009 17:08:48 +0000"  >&lt;p&gt;you will get the error if you run all the tests&lt;/p&gt;</comment>
                            <comment id="12688363" author="rl337" created="Mon, 23 Mar 2009 18:12:04 +0000"  >&lt;p&gt;So the hard coded path seems to be a red herring. &lt;/p&gt;

&lt;p&gt;in test-common.xml there are two modes in which the junit tests are run... If a specific class is specified, the test passes.  If no class is specified, all tests are run and the test fails.  Looking at the resulting .out file, I see that it was unable to figure out how to handle tmpfs:// ... so the SET fs.testfs.impl = X at the top of the .q file was ignored.&lt;/p&gt;

&lt;p&gt;It looks like some form of race condition on the job conf around setting file system handlers... I don&apos;t think that this problem is specific to my test case.&lt;/p&gt;

</comment>
                            <comment id="12688598" author="prasadc" created="Tue, 24 Mar 2009 07:27:09 +0000"  >&lt;p&gt;in either mode tests are run sequentially so i don&apos;t think race condition is a problem. i will take a look.&lt;/p&gt;</comment>
                            <comment id="12769290" author="rl337" created="Fri, 23 Oct 2009 16:40:04 +0000"  >&lt;p&gt;I&apos;ve upgraded to hive 0.4.0 and the issue seems resolved.   &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12401991" name="external_table1.q" size="339" author="rl337" created="Wed, 11 Mar 2009 23:59:32 +0000"/>
                            <attachment id="12401992" name="external_table1.q.out" size="688" author="rl337" created="Wed, 11 Mar 2009 23:59:32 +0000"/>
                            <attachment id="12402104" name="external_table_join.q" size="377" author="rl337" created="Fri, 13 Mar 2009 01:16:41 +0000"/>
                            <attachment id="12401781" name="hive-external-filesystems.diff" size="4398" author="rl337" created="Mon, 9 Mar 2009 22:21:02 +0000"/>
                            <attachment id="12401993" name="hive-external-filesystems2.diff" size="6803" author="rl337" created="Wed, 11 Mar 2009 23:59:32 +0000"/>
                            <attachment id="12402105" name="hive-external-filesystems3.diff" size="16419" author="rl337" created="Fri, 13 Mar 2009 01:16:41 +0000"/>
                            <attachment id="12402166" name="hive-external-filesystems5.diff" size="11342" author="rl337" created="Fri, 13 Mar 2009 19:40:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 28 Feb 2009 00:05:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73622</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l94f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122128</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
