<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:21:52 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-9-26+AND+created+%3C%3D+2012-10-3+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="15" total="15"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3508] create cube and rollup operators in hive without mapside aggregation</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3508</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12609373">HIVE-3508</key>
            <summary>create cube and rollup operators in hive without mapside aggregation</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Sep 2012 10:04:52 +0000</created>
                <updated>Tue, 10 Jun 2014 18:40:42 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14018501" author="tzenmyo" created="Thu, 5 Jun 2014 05:52:46 +0000"  >&lt;p&gt;Is anyone working on this? Otherwise, I&apos;ll try the following.&lt;br/&gt;
1. add a new operator which multiplexes records for each grouping id&lt;br/&gt;
2. insert the new operator before ReduceSinkOperators&lt;/p&gt;

&lt;p&gt;Please let me know if anything wrong on this.&lt;/p&gt;</comment>
                            <comment id="14021758" author="tzenmyo" created="Mon, 9 Jun 2014 08:56:53 +0000"  >&lt;p&gt;This patch&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;adds new operator (GroupMultiplexOperator)&lt;/li&gt;
	&lt;li&gt;modifies SemanticAnalyzer to insert the operator.&lt;/li&gt;
	&lt;li&gt;add two qtests&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14021762" author="tzenmyo" created="Mon, 9 Jun 2014 09:10:11 +0000"  >&lt;p&gt;This is a review board entry for this patch.&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/22372/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/22372/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14025650" author="hiveqa" created="Mon, 9 Jun 2014 19:53:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12648932/HIVE-3508.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12648932/HIVE-3508.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/415/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/415/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/415/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/415/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-415/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-415/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-415/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/TaskCompiler.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-minikdc/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1601492.

At revision 1601492.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12648932&lt;/p&gt;</comment>
                            <comment id="14026013" author="tzenmyo" created="Tue, 10 Jun 2014 01:36:00 +0000"  >&lt;p&gt;The patch is recreated because the previous one was not created correctly, and arguments in invocations of genGroupByPlanReduceSinkOperator() are fixed.&lt;/p&gt;</comment>
                            <comment id="14026820" author="hiveqa" created="Tue, 10 Jun 2014 18:40:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12649505/HIVE-3508.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12649505/HIVE-3508.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5535 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_groupby_cube1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_groupby_rollup1
org.apache.hive.hcatalog.templeton.tool.TestTempletonUtils.testPropertiesParsing
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/425/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/425/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/425/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/425/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-425/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-425/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12649505&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12606252">HIVE-3433</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12649505" name="HIVE-3508.2.patch.txt" size="31733" author="tzenmyo" created="Tue, 10 Jun 2014 01:36:00 +0000"/>
                            <attachment id="12648932" name="HIVE-3508.patch.txt" size="31919" author="tzenmyo" created="Mon, 9 Jun 2014 08:57:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Jun 2014 05:52:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259280</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124533</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3509] Exclusive locks are not acquired when using dynamic partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3509</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If locking is enabled, the acquireReadWriteLocks() method in org.apache.hadoop.hive.ql.Driver iterates through all of the input and output entities of the query plan and attempts to acquire the appropriate locks.  In general, it should acquire SHARED locks for all of the input entities and exclusive locks for all of the output entities (see the Hive wiki page on &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Locking&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;locking&lt;/a&gt; for more detailed information).&lt;/p&gt;

&lt;p&gt;When the query involves dynamic partitions, the situation is a little more subtle.  As the Hive wiki notes (see previous link):&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;in some cases, the list of objects may not be known - for eg. in case of dynamic partitions, the list of partitions being modified is not known at compile time - so, the list is generated conservatively. Since the number of partitions may not be known, an exclusive lock is taken on the table, or the prefix that is known.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-1781&lt;/a&gt;, the observed behavior is no longer consistent with the behavior described above.  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-1781&lt;/a&gt; appears to have altered the logic so that SHARED locks are acquired instead of EXCLUSIVE locks whenever the query involves dynamic partitions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609413">HIVE-3509</key>
            <summary>Exclusive locks are not acquired when using dynamic partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="matt.martin">Matt Martin</assignee>
                                    <reporter username="matt.martin">Matt Martin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Sep 2012 17:05:20 +0000</created>
                <updated>Sun, 5 May 2013 21:36:16 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Locking</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13464881" author="matt.martin" created="Thu, 27 Sep 2012 17:10:53 +0000"  >&lt;p&gt;I&apos;m attaching my first pass attempt at a solution.  I ran some manual tests to confirm that things seemed to be working as expected after applying the patch. As far as automated tests are concerned, I thought it might be useful to add the list of locks to the prehook output, but I have not looked into doing that yet.&lt;/p&gt;</comment>
                            <comment id="13465349" author="namit" created="Fri, 28 Sep 2012 04:49:31 +0000"  >&lt;p&gt;Can you submit a phabricator request ?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/Hive/phabricatorcodereview.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/phabricatorcodereview.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Have you run all the tests ?&lt;/p&gt;</comment>
                            <comment id="13465677" author="matt.martin" created="Fri, 28 Sep 2012 15:34:27 +0000"  >&lt;p&gt;I will try to run all tests and submit a phabricator request over the weekend.&lt;/p&gt;</comment>
                            <comment id="13626245" author="phabricator@reviews.facebook.net" created="Tue, 9 Apr 2013 05:28:15 +0000"  >&lt;p&gt;MattMartin requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3509&quot; title=&quot;Exclusive locks are not acquired when using dynamic partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3509&quot;&gt;HIVE-3509&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Exclusive locks are not acquired when using dynamic partitions&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;Make sure queries involving dynamic partitions acquire exclusive locks on their output (instead of shared locks).&lt;/p&gt;

&lt;p&gt;This check-in also includes changes to PreExecutePrinter hook to make it easier to see (and therefore test) which locks are actually being acquired for each query.  Updated the hive-site.xml file used by the test cases to set &quot;hive.support.concurrency&quot; to false In order to make sure this change to PreExecutePrinter didn&apos;t affect unrelated tests (no locks are acquired or printed when &quot;hive.support.concurrency&quot; is set to false).&lt;/p&gt;

&lt;p&gt;If locking is enabled, the acquireReadWriteLocks() method in org.apache.hadoop.hive.ql.Driver iterates through all of the input and output entities of the query plan and attempts to acquire the appropriate locks.  In general, it should acquire SHARED locks for all of the input entities and exclusive locks for all of the output entities (see the Hive wiki page on locking for more detailed information).&lt;/p&gt;

&lt;p&gt;When the query involves dynamic partitions, the situation is a little more subtle.  As the Hive wiki notes (see previous link):&lt;/p&gt;

&lt;p&gt;in some cases, the list of objects may not be known - for eg. in case of dynamic partitions, the list of partitions being modified is not known at compile time - so, the list is generated conservatively. Since the number of partitions may not be known, an exclusive lock is taken on the table, or the prefix that is known.&lt;/p&gt;

&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1781&quot; title=&quot;outputs not populated for dynamic partitions at compile time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1781&quot;&gt;&lt;del&gt;HIVE-1781&lt;/del&gt;&lt;/a&gt;, the observed behavior is no longer consistent with the behavior described above.  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1781&quot; title=&quot;outputs not populated for dynamic partitions at compile time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1781&quot;&gt;&lt;del&gt;HIVE-1781&lt;/del&gt;&lt;/a&gt; appears to have altered the logic so that SHARED locks are acquired instead of EXCLUSIVE locks whenever the query involves dynamic partitions.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/conf/hive-site.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/HookContext.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/hooks/PreExecutePrinter.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg2.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg3.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg4.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg5.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock4.q&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg3.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock4.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/24027/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/24027/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, MattMartin&lt;/p&gt;</comment>
                            <comment id="13626276" author="phabricator@reviews.facebook.net" created="Tue, 9 Apr 2013 06:12:13 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3509&quot; title=&quot;Exclusive locks are not acquired when using dynamic partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3509&quot;&gt;HIVE-3509&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Exclusive locks are not acquired when using dynamic partitions&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/results/clientpositive/lock3.q.out:73 Something is wrong here ? Shouldn&apos;t it be EXCLUSIVE &amp;#8211; this is a incomplete output.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, MattMartin&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13626285" author="namit" created="Tue, 9 Apr 2013 06:22:56 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13626288" author="phabricator@reviews.facebook.net" created="Tue, 9 Apr 2013 06:24:15 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3509&quot; title=&quot;Exclusive locks are not acquired when using dynamic partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3509&quot;&gt;HIVE-3509&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Exclusive locks are not acquired when using dynamic partitions&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/results/clientpositive/lock4.q.out:73 same as lock3&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java:718 This also needs to be fixed&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, MattMartin&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13627391" author="phabricator@reviews.facebook.net" created="Wed, 10 Apr 2013 02:20:15 +0000"  >&lt;p&gt;MattMartin updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3509&quot; title=&quot;Exclusive locks are not acquired when using dynamic partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3509&quot;&gt;HIVE-3509&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Exclusive locks are not acquired when using dynamic partitions&quot;.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Updated Driver.java to make sure that dynamic partitions are handled properly when 1 or more parts of the dynamic partition is specified (e.g. &quot;insert overwrite table tstsrcpart partition (ds =&apos;2008-04-08&apos;, hr) select key, value, hr where ds = &apos;2008-04-08&apos;;&quot;).  The earlier check-in on this branch/issue only addressed queries that used dynamic partitions without specifying any of the partitions (e.g. &quot;insert overwrite table tstsrcpart partition (ds, hr) select key, value, ds, hr where ds &amp;lt;= &apos;2008-04-08&apos;;&quot;)&lt;/li&gt;
	&lt;li&gt;Fixing LINT error.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065?vs=31467&amp;amp;id=31563#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065?vs=31467&amp;amp;id=31563#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/conf/hive-site.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/HookContext.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/hooks/PreExecutePrinter.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg2.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg3.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg4.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg5.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock4.q&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg3.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock4.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, MattMartin&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13627612" author="namit" created="Wed, 10 Apr 2013 08:44:25 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13627613" author="phabricator@reviews.facebook.net" created="Wed, 10 Apr 2013 08:46:15 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3509&quot; title=&quot;Exclusive locks are not acquired when using dynamic partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3509&quot;&gt;HIVE-3509&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Exclusive locks are not acquired when using dynamic partitions&quot;.&lt;/p&gt;

&lt;p&gt;  Also, the whole hierarchy should be present in LOCK/UNLOCK also.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg1.q.out:25 This may be an existing bug, but can you take a look ?&lt;/p&gt;

&lt;p&gt;  Shouldn&apos;t tstsrc also be locked and shown in the PREHOOK ?&lt;/p&gt;

&lt;p&gt;  The same issue is present in all the lock requests&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, MattMartin&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13636078" author="phabricator@reviews.facebook.net" created="Fri, 19 Apr 2013 05:23:15 +0000"  >&lt;p&gt;MattMartin updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3509&quot; title=&quot;Exclusive locks are not acquired when using dynamic partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3509&quot;&gt;HIVE-3509&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Exclusive locks are not acquired when using dynamic partitions&quot;.&lt;/p&gt;

&lt;p&gt;  Committing two minor changes and one partially implemented major change. The two minor changes are: 1) ZookeeperHiveLockManager returns database level locks and 2) handling the case when the default db is not being used (lock5.q handles this case).  The major change illustrates why it is probably not a good idea to change the &quot;lock ...&quot; and &quot;unlock ...&quot; commands to automatically acquire locks across the whole hierarchy.  Users can still acquire locks across the entire hierarchy if they need to/want to.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065?vs=31563&amp;amp;id=32433#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065?vs=31563&amp;amp;id=32433#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/conf/hive-site.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/HookContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/hooks/PreExecutePrinter.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg2.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg3.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg4.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg5.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock4.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock5.q&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg3.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock5.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, MattMartin&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13636098" author="phabricator@reviews.facebook.net" created="Fri, 19 Apr 2013 05:45:15 +0000"  >&lt;p&gt;MattMartin updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3509&quot; title=&quot;Exclusive locks are not acquired when using dynamic partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3509&quot;&gt;HIVE-3509&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Exclusive locks are not acquired when using dynamic partitions&quot;.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Adding missing changes to lockneg2.q.out and lockneg3.q.out that should&apos;ve been included in the last commit.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065?vs=32433&amp;amp;id=32439#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065?vs=32433&amp;amp;id=32439#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/conf/hive-site.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/HookContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/hooks/PreExecutePrinter.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg2.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg3.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg4.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg5.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock4.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock5.q&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg3.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock5.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, MattMartin&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13636294" author="phabricator@reviews.facebook.net" created="Fri, 19 Apr 2013 11:39:15 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3509&quot; title=&quot;Exclusive locks are not acquired when using dynamic partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3509&quot;&gt;HIVE-3509&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Exclusive locks are not acquired when using dynamic partitions&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java:144 This is a incompatible change, and may break many existing apps.&lt;/p&gt;

&lt;p&gt;  For eg: in FB we log the query along with inputs and outputs, and this will leave the&lt;br/&gt;
  burden on the client to change / to @ appropriately.&lt;/p&gt;

&lt;p&gt;  Although it is not ideal, but let us stick with the format:&lt;/p&gt;

&lt;p&gt;  db@table@partns. where partitions is of partitionCol1/partitionCol2&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, MattMartin&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13636297" author="namit" created="Fri, 19 Apr 2013 11:43:24 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13636551" author="phabricator@reviews.facebook.net" created="Fri, 19 Apr 2013 16:23:15 +0000"  >&lt;p&gt;MattMartin has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3509&quot; title=&quot;Exclusive locks are not acquired when using dynamic partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3509&quot;&gt;HIVE-3509&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Exclusive locks are not acquired when using dynamic partitions&quot;.&lt;/p&gt;

&lt;p&gt;  For the record, I&apos;m planning to roll back the &quot;major change&quot; in my last revision which acquires and releases the whole hierarchy of locks on explicit &quot;lock ...&quot; and &quot;unlock ...&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java:144 This change should only affect locks.  In particular, this would make sure the lock paths are consistent for dummy partitions and non-dummy partitions.&lt;/p&gt;

&lt;p&gt;  Without this change, I think a case could arise where a write query with dynamic partitions tries to acquire an exclusive lock on &quot;&amp;lt;base dir in zookeeper&amp;gt;/db@table@partns&quot; while a read query simultaneously tries to acquire a shared lock on &quot;&amp;lt;base locking dir in zookeeper&amp;gt;/db/table/partns&quot;. In this case the reader and writer would not block each other even though they should. I&apos;ll try to add a test case to illustrate this point.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, MattMartin&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13649440" author="phabricator@reviews.facebook.net" created="Sun, 5 May 2013 21:36:15 +0000"  >&lt;p&gt;MattMartin updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3509&quot; title=&quot;Exclusive locks are not acquired when using dynamic partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3509&quot;&gt;HIVE-3509&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Exclusive locks are not acquired when using dynamic partitions&quot;.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;This commit rolls back an earlier change which automatically acquired all of the locks in the hierarchy when a &quot;LOCK ...&quot; command is given on the CLI.  Instead of automatically acquiring these locks, changes have been made to allow users to lock intermediate (i.e. &quot;dummy partitions&quot;) on the CLI. With this change, users can now acquire locks up the whole hierarchy as needed instead of changing the implementation of the &quot;LOCK &#8230;&quot; command itself.  Another implication of this change, is that users can now use the &quot;LOCK &#8230;&quot; command to lock partitions that don&apos;t exist.  If the partition does not exist, a dummy partition object is created and used instead.  As a result of this change, the lockneg4.q test case was removed from the set of negative test cases and a similar test case was added to the set of positive test cases.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10065?vs=32439&amp;amp;id=33357#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10065?vs=32439&amp;amp;id=33357#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/conf/hive-site.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/hooks/HookContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/hooks/PreExecutePrinter.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg2.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg3.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg4.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg5.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg6.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg7.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg8.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/lockneg9.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock4.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock5.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock6.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock7.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/lock8.q&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg3.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg5.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg6.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg7.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg8.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/lockneg9.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lock8.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, MattMartin&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12546877" name="HIVE-3509.1.patch.txt" size="2308" author="matt.martin" created="Thu, 27 Sep 2012 17:10:53 +0000"/>
                            <attachment id="12577710" name="HIVE-3509.D10065.1.patch" size="46223" author="phabricator@reviews.facebook.net" created="Tue, 9 Apr 2013 05:28:15 +0000"/>
                            <attachment id="12577940" name="HIVE-3509.D10065.2.patch" size="52857" author="phabricator@reviews.facebook.net" created="Wed, 10 Apr 2013 02:20:15 +0000"/>
                            <attachment id="12579478" name="HIVE-3509.D10065.3.patch" size="79595" author="phabricator@reviews.facebook.net" created="Fri, 19 Apr 2013 05:23:15 +0000"/>
                            <attachment id="12579485" name="HIVE-3509.D10065.4.patch" size="79757" author="phabricator@reviews.facebook.net" created="Fri, 19 Apr 2013 05:45:15 +0000"/>
                            <attachment id="12581835" name="HIVE-3509.D10065.5.patch" size="113292" author="phabricator@reviews.facebook.net" created="Sun, 5 May 2013 21:36:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 28 Sep 2012 04:49:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259281</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124534</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3510] to_utc_timestamp() does not properly handle UNIX timestamp conversions without nanoseconds</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3510</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When attempting to convert a UNIX timestamp to UTC the conversion fails if the input does not include micro or nano seconds:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT to_utc_timestamp(unix_timestamp(&lt;span class=&quot;code-quote&quot;&gt;&apos;27/Sep/2012:09:53:35&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;dd/MMM/yyyy:HH:mm:ss&apos;&lt;/span&gt;),&lt;span class=&quot;code-quote&quot;&gt;&apos;America/Denver&apos;&lt;/span&gt;) FROM source_table LIMIT 1;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;1970-01-16 14:39:21.215&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&quot;Converting&quot; to a float provides a workaround:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT to_utc_timestamp(unix_timestamp(&lt;span class=&quot;code-quote&quot;&gt;&apos;27/Sep/2012:09:53:35&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;dd/MMM/yyyy:HH:mm:ss&apos;&lt;/span&gt;) * 1.0,&lt;span class=&quot;code-quote&quot;&gt;&apos;America/Denver&apos;&lt;/span&gt;) FROM source_table LIMIT 1;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;2012-09-27 15:53:35.0&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;As does &quot;adding&quot; nano seconds:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT to_utc_timestamp(unix_timestamp(&lt;span class=&quot;code-quote&quot;&gt;&apos;27/Sep/2012:09:53:35&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;dd/MMM/yyyy:HH:mm:ss&apos;&lt;/span&gt;) * 1000,&lt;span class=&quot;code-quote&quot;&gt;&apos;America/Denver&apos;&lt;/span&gt;) FROM source_table LIMIT 1;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;2012-09-27 15:53:35.0&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;This problem may be at the heart of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3454&quot; title=&quot;Problem with CAST(BIGINT as TIMESTAMP)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3454&quot;&gt;&lt;del&gt;HIVE-3454&lt;/del&gt;&lt;/a&gt; as well.&lt;/p&gt;

&lt;p&gt;Documentation here: &lt;a href=&quot;https://cwiki.apache.org/Hive/languagemanual-types.html#LanguageManualTypes-Timestamps&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/languagemanual-types.html#LanguageManualTypes-Timestamps&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu LTS 10.04&lt;/p&gt;</environment>
        <key id="12609426">HIVE-3510</key>
            <summary>to_utc_timestamp() does not properly handle UNIX timestamp conversions without nanoseconds</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="apivovarov">Alexander Pivovarov</assignee>
                                    <reporter username="parepidemos">Richard Nadeau</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Sep 2012 18:00:59 +0000</created>
                <updated>Wed, 8 Apr 2015 17:57:38 +0000</updated>
                            <resolved>Wed, 8 Apr 2015 17:57:38 +0000</resolved>
                                    <version>0.9.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14485651" author="apivovarov" created="Wed, 8 Apr 2015 17:57:38 +0000"  >&lt;p&gt;checked this on 1.2.0 - function output is correct&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; SELECT to_utc_timestamp(unix_timestamp(&lt;span class=&quot;code-quote&quot;&gt;&apos;27/Sep/2012:09:53:35&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;dd/MMM/yyyy:HH:mm:ss&apos;&lt;/span&gt;), &lt;span class=&quot;code-quote&quot;&gt;&apos;America/Denver&apos;&lt;/span&gt;);
OK
2012-09-27 15:53:35
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Apr 2015 17:57:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124535</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3511] Constant values in aggregation parameters should not be attached to every map output row</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3511</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When map-side-aggregation is disabled (hive.map.aggr=false), constant values in aggregation parameters are attached to every map output row. For example, in test case &apos;count.q&apos; (&lt;a href=&quot;https://github.com/apache/hive/blob/trunk/ql/src/test/results/clientpositive/count.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/ql/src/test/results/clientpositive/count.q.out&lt;/a&gt;). For count(1), if hive.map.aggr=false, &apos;1&apos; will be attached to every output row of ReduceSinkOperator.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609475">HIVE-3511</key>
            <summary>Constant values in aggregation parameters should not be attached to every map output row</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Sep 2012 00:17:22 +0000</created>
                <updated>Fri, 28 Sep 2012 00:48:01 +0000</updated>
                            <resolved>Fri, 28 Sep 2012 00:48:01 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13465254" author="yhuai" created="Fri, 28 Sep 2012 00:48:01 +0000"  >&lt;p&gt;Duplicates with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-757&quot; title=&quot;Don&amp;#39;t send constants from mapper to reducer for Group By queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-757&quot;&gt;HIVE-757&lt;/a&gt;. Close it&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12433140">HIVE-757</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259283</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3512] Log client IP address with command in metastore&apos;s startFunction method</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3512</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We have the client IP address for metastore commands available in the HMSHandler.  It would make determining the source of commands (reads in particular) much easier if the IP address was logged with the command.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609477">HIVE-3512</key>
            <summary>Log client IP address with command in metastore&apos;s startFunction method</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Sep 2012 00:26:19 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:08 +0000</updated>
                            <resolved>Fri, 28 Sep 2012 11:09:31 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Logging</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13465248" author="kevinwilfong" created="Fri, 28 Sep 2012 00:31:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5715&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5715&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13465344" author="namit" created="Fri, 28 Sep 2012 04:36:41 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13465520" author="namit" created="Fri, 28 Sep 2012 11:09:31 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13465878" author="hudson" created="Fri, 28 Sep 2012 20:26:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1706 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1706/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1706/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3512&quot; title=&quot;Log client IP address with command in metastore&amp;#39;s startFunction method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3512&quot;&gt;&lt;del&gt;HIVE-3512&lt;/del&gt;&lt;/a&gt; Log client IP address with command in metastore&apos;s startFunction method&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1391397)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391397&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391397&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548000" author="hudson" created="Wed, 9 Jan 2013 10:23:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3512&quot; title=&quot;Log client IP address with command in metastore&amp;#39;s startFunction method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3512&quot;&gt;&lt;del&gt;HIVE-3512&lt;/del&gt;&lt;/a&gt; Log client IP address with command in metastore&apos;s startFunction method&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1391397)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391397&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391397&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550293" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:08 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12546936" name="HIVE-3512.1.patch.txt" size="705" author="kevinwilfong" created="Fri, 28 Sep 2012 00:41:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 28 Sep 2012 04:36:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259284</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124537</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3513] Allow Partition Offline Enable/Disable command to be specified at the ds level even when Partition is based on more columns than ds</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3513</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We want to be able to run a command like:&lt;br/&gt;
ALTER TABLE t1 PARTITION (ds = &apos;xyz&apos;) ENABLE OFFLINE;&lt;br/&gt;
where t1 is partitioned on more columns than ds, for example, ds, part_col2, part_col3.&lt;br/&gt;
We also want to do the same for Partition DISABLE OFFLINE.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609566">HIVE-3513</key>
            <summary>Allow Partition Offline Enable/Disable command to be specified at the ds level even when Partition is based on more columns than ds</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mahesh25">Maheshwaran Srinivasan</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Fri, 28 Sep 2012 17:31:35 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:01 +0000</updated>
                            <resolved>Fri, 28 Sep 2012 22:53:45 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="604800">168h</timeoriginalestimate>
                            <timeestimate seconds="604800">168h</timeestimate>
                                        <comments>
                            <comment id="13550264" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:01 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Jan 2013 19:54:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124538</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Partition Offline</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3514] Refactor Partition Pruner so that logic can be reused.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3514</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Partition Pruner has logic reusable like&lt;/p&gt;

&lt;p&gt;1. walk through operator tree&lt;br/&gt;
2. walk through operation tree&lt;br/&gt;
3. create pruning predicate&lt;/p&gt;

&lt;p&gt;The first candidate is list bucketing pruner.&lt;/p&gt;

&lt;p&gt;Some consideration:&lt;br/&gt;
1. refactor for general use case not just list bucketing&lt;br/&gt;
2. avoid over-refactor by focusing on pieces targeted for reuse&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609577">HIVE-3514</key>
            <summary>Refactor Partition Pruner so that logic can be reused.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Sep 2012 18:46:58 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:59 +0000</updated>
                            <resolved>Fri, 5 Oct 2012 04:13:42 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13465918" author="gangtimliu" created="Fri, 28 Sep 2012 21:27:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5727&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5727&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13466635" author="namit" created="Mon, 1 Oct 2012 04:42:46 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13468475" author="namit" created="Wed, 3 Oct 2012 11:10:34 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13468718" author="gangtimliu" created="Wed, 3 Oct 2012 18:21:40 +0000"  >&lt;p&gt;Patch is available on both attachment and D5727. thanks&lt;/p&gt;</comment>
                            <comment id="13469144" author="namit" created="Thu, 4 Oct 2012 04:47:11 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13469158" author="gangtimliu" created="Thu, 4 Oct 2012 05:10:37 +0000"  >&lt;p&gt;patch is available on both places.&lt;/p&gt;</comment>
                            <comment id="13469167" author="namit" created="Thu, 4 Oct 2012 05:33:53 +0000"  >&lt;p&gt;more comments&lt;/p&gt;</comment>
                            <comment id="13469174" author="gangtimliu" created="Thu, 4 Oct 2012 05:55:37 +0000"  >&lt;p&gt;patch is available in both places.&lt;/p&gt;</comment>
                            <comment id="13469176" author="namit" created="Thu, 4 Oct 2012 06:04:10 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will start running tests&lt;/p&gt;</comment>
                            <comment id="13470010" author="namit" created="Fri, 5 Oct 2012 04:13:42 +0000"  >&lt;p&gt;Committed. Thanks Tim&lt;/p&gt;</comment>
                            <comment id="13470025" author="gangtimliu" created="Fri, 5 Oct 2012 05:04:47 +0000"  >&lt;p&gt;Namit thank you very much&lt;/p&gt;

&lt;p&gt;Best wishes&lt;/p&gt;

&lt;p&gt;Tim Liu (Liu , Gang)&lt;/p&gt;

&lt;p&gt;Sent from my iPhone &lt;/p&gt;

</comment>
                            <comment id="13470298" author="hudson" created="Fri, 5 Oct 2012 13:14:47 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1723 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1723/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1723/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3514&quot; title=&quot;Refactor Partition Pruner so that logic can be reused.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3514&quot;&gt;&lt;del&gt;HIVE-3514&lt;/del&gt;&lt;/a&gt; Refactor Partition Pruner so that logic can be reused.&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1394358)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1394358&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1394358&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/PrunerExpressionOperatorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/PrunerOperatorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/PrunerUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/ExprProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/OpProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547999" author="hudson" created="Wed, 9 Jan 2013 10:23:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3514&quot; title=&quot;Refactor Partition Pruner so that logic can be reused.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3514&quot;&gt;&lt;del&gt;HIVE-3514&lt;/del&gt;&lt;/a&gt; Refactor Partition Pruner so that logic can be reused.&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1394358)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1394358&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1394358&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/PrunerExpressionOperatorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/PrunerOperatorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/PrunerUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/ExprProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/OpProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550257" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:59 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12610884">HIVE-3554</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12547051" name="HIVE-3514.patch" size="36034" author="gangtimliu" created="Fri, 28 Sep 2012 21:40:43 +0000"/>
                            <attachment id="12547570" name="HIVE-3514.patch.2" size="39184" author="gangtimliu" created="Wed, 3 Oct 2012 18:21:06 +0000"/>
                            <attachment id="12547670" name="HIVE-3514.patch.3" size="37527" author="gangtimliu" created="Thu, 4 Oct 2012 04:39:45 +0000"/>
                            <attachment id="12547676" name="HIVE-3514.patch.4" size="37334" author="gangtimliu" created="Thu, 4 Oct 2012 05:10:16 +0000"/>
                            <attachment id="12547686" name="HIVE-3514.patch.5" size="37336" author="gangtimliu" created="Thu, 4 Oct 2012 05:55:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 1 Oct 2012 04:42:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i013qf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4374</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3515] metadata_export_drop.q causes failure of other tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3515</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;metadata_export_drop.q causes failure of other tests on cleanup stage.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Exception: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.dropTable(Hive.java:845)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.dropTable(Hive.java:821)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.QTestUtil.cleanUp(QTestUtil.java:445)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.QTestUtil.shutdown(QTestUtil.java:300)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.TestCliDriver.tearDown(TestCliDriver.java:87)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:140)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
	at org.apache.hadoop.fs.Path.initialize(Path.java:140)&lt;br/&gt;
	at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:132)&lt;br/&gt;
	at org.apache.hadoop.fs.ProxyFileSystem.swizzleParamPath(ProxyFileSystem.java:56)&lt;br/&gt;
	at org.apache.hadoop.fs.ProxyFileSystem.mkdirs(ProxyFileSystem.java:214)&lt;br/&gt;
	at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)&lt;br/&gt;
	at org.apache.hadoop.fs.FileSystem.mkdirs(FileSystem.java:1120)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.MetaDataExportListener.export_meta_data(MetaDataExportListener.java:81)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.MetaDataExportListener.onEvent(MetaDataExportListener.java:106)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.drop_table_core(HiveMetaStore.java:1024)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.drop_table(HiveMetaStore.java:1185)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.dropTable(HiveMetaStoreClient.java:566)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.dropTable(Hive.java:839)&lt;br/&gt;
	... 17 more&lt;br/&gt;
Caused by: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
	at java.net.URI.checkPath(URI.java:1787)&lt;br/&gt;
	at java.net.URI.&amp;lt;init&amp;gt;(URI.java:735)&lt;br/&gt;
	at org.apache.hadoop.fs.Path.initialize(Path.java:137)&lt;br/&gt;
	... 28 more&lt;/p&gt;
&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12609578">HIVE-3515</key>
            <summary>metadata_export_drop.q causes failure of other tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ivangorbachev">Ivan Gorbachev</assignee>
                                    <reporter username="ivangorbachev">Ivan Gorbachev</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Sep 2012 18:49:56 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:24 +0000</updated>
                            <resolved>Sat, 29 Sep 2012 17:41:00 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13466272" author="namit" created="Sat, 29 Sep 2012 17:35:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;The change individually looks good.&lt;br/&gt;
However, it exposes a bigger issue that the tests have side-affects.&lt;br/&gt;
Ideally, QTestUtil should make sure that the tests do not have any side-affects, and initialize the&lt;br/&gt;
parameters everytime. Can you file a new jira to track that, and give this usecase.&lt;/p&gt;</comment>
                            <comment id="13466273" author="namit" created="Sat, 29 Sep 2012 17:41:00 +0000"  >&lt;p&gt;Committed. Thanks Ivan&lt;/p&gt;</comment>
                            <comment id="13466400" author="hudson" created="Sun, 30 Sep 2012 03:55:18 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1709 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1709/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1709/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3515&quot; title=&quot;metadata_export_drop.q causes failure of other tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3515&quot;&gt;&lt;del&gt;HIVE-3515&lt;/del&gt;&lt;/a&gt; metadata_export_drop.q causes failure of other tests&lt;br/&gt;
(Ivan Gorbachev via namit) (Revision 1391848)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391848&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391848&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/metadata_export_drop.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13466936" author="ivangorbachev" created="Mon, 1 Oct 2012 16:53:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can you file a new jira to track that, and give this usecase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Created - &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3518&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3518&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt;, can you accept this diff please - &lt;a href=&quot;https://reviews.facebook.net/D5733&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5733&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13547997" author="hudson" created="Wed, 9 Jan 2013 10:23:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3515&quot; title=&quot;metadata_export_drop.q causes failure of other tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3515&quot;&gt;&lt;del&gt;HIVE-3515&lt;/del&gt;&lt;/a&gt; metadata_export_drop.q causes failure of other tests&lt;br/&gt;
(Ivan Gorbachev via namit) (Revision 1391848)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391848&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391848&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/metadata_export_drop.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550107" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:24 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547057" name="jira-3515.1.patch" size="497" author="ivangorbachev" created="Fri, 28 Sep 2012 22:22:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 29 Sep 2012 17:35:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249447</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aeiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3516] Fast incremental statistics computation on columns in Hive tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3516</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Statistics computed on Hive columns in partition can be rolled up to avoid scanning the table again to compute column statistics at the table(global) level. While its straightforward to roll up some statistics such as max, min, avgcollen, maxcollen etc, rolling up other statistics such as ndv requires maintaining intermediate state. This ticket covers the task of a) maintaining the necessary intermediate state needed to roll up partition level statistics b) detecting that the partition level statistics can be rolled up and actually computing table level statistics from partition level statistics.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609666">HIVE-3516</key>
            <summary>Fast incremental statistics computation on columns in Hive tables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Sep 2012 19:28:22 +0000</created>
                <updated>Thu, 2 May 2013 02:30:54 +0000</updated>
                                                                            <component>Statistics</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13466298" author="shreepadma" created="Sat, 29 Sep 2012 19:28:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1362&quot; title=&quot;Optimizer statistics on columns in tables and partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1362&quot;&gt;&lt;del&gt;HIVE-1362&lt;/del&gt;&lt;/a&gt; adds support for computing statistics on columns in tables and partitions.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12465176">HIVE-1362</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12612841">HIVE-3602</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240088</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00x2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3290</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3517] Provide README file for Oracle backed Metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3517</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We currently provide README files for Derby, MySQL, and Derby. We should also provide a README file for Oracle.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609731">HIVE-3517</key>
            <summary>Provide README file for Oracle backed Metastore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Oct 2012 09:28:11 +0000</created>
                <updated>Tue, 6 Nov 2012 21:38:28 +0000</updated>
                                                                            <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249446</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aein:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58625</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3518] QTestUtil side-effects</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3518</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It seems that QTestUtil has side-effects. This test (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12547233/12547233_metadata_export_drop.q&quot; title=&quot;metadata_export_drop.q attached to HIVE-3518&quot;&gt;metadata_export_drop.q&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;) causes failure of other tests on cleanup stage:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Exception: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
at org.apache.hadoop.hive.ql.metadata.Hive.dropTable(Hive.java:845)&lt;br/&gt;
at org.apache.hadoop.hive.ql.metadata.Hive.dropTable(Hive.java:821)&lt;br/&gt;
at org.apache.hadoop.hive.ql.QTestUtil.cleanUp(QTestUtil.java:445)&lt;br/&gt;
at org.apache.hadoop.hive.ql.QTestUtil.shutdown(QTestUtil.java:300)&lt;br/&gt;
at org.apache.hadoop.hive.cli.TestCliDriver.tearDown(TestCliDriver.java:87)&lt;br/&gt;
at junit.framework.TestCase.runBare(TestCase.java:140)&lt;br/&gt;
at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)&lt;br/&gt;
at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)&lt;br/&gt;
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)&lt;br/&gt;
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)&lt;br/&gt;
at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
at org.apache.hadoop.fs.Path.initialize(Path.java:140)&lt;br/&gt;
at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:132)&lt;br/&gt;
at org.apache.hadoop.fs.ProxyFileSystem.swizzleParamPath(ProxyFileSystem.java:56)&lt;br/&gt;
at org.apache.hadoop.fs.ProxyFileSystem.mkdirs(ProxyFileSystem.java:214)&lt;br/&gt;
at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)&lt;br/&gt;
at org.apache.hadoop.fs.FileSystem.mkdirs(FileSystem.java:1120)&lt;br/&gt;
at org.apache.hadoop.hive.ql.parse.MetaDataExportListener.export_meta_data(MetaDataExportListener.java:81)&lt;br/&gt;
at org.apache.hadoop.hive.ql.parse.MetaDataExportListener.onEvent(MetaDataExportListener.java:106)&lt;br/&gt;
at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.drop_table_core(HiveMetaStore.java:1024)&lt;br/&gt;
at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.drop_table(HiveMetaStore.java:1185)&lt;br/&gt;
at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.dropTable(HiveMetaStoreClient.java:566)&lt;br/&gt;
at org.apache.hadoop.hive.ql.metadata.Hive.dropTable(Hive.java:839)&lt;br/&gt;
... 17 more&lt;br/&gt;
Caused by: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
at java.net.URI.checkPath(URI.java:1787)&lt;br/&gt;
at java.net.URI.&amp;lt;init&amp;gt;(URI.java:735)&lt;br/&gt;
at org.apache.hadoop.fs.Path.initialize(Path.java:137)&lt;br/&gt;
... 28 more&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Flushing &apos;hive.metastore.pre.event.listeners&apos; into empty string solves the issue. During debugging I figured out this property wan&apos;t cleaned for other tests after it was set in metadata_export_drop.q.&lt;/p&gt;

&lt;p&gt;How to reproduce:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; ant test -Dtestcase=TestCliDriver -Dqfile=metadata_export_drop.q,&amp;lt;some test&amp;gt;.q&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where &amp;lt;some test&amp;gt;.q means any test which contains CREATE statement. For example, sample10.q&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12609768">HIVE-3518</key>
            <summary>QTestUtil side-effects</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="ivangorbachev">Ivan Gorbachev</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Oct 2012 16:40:25 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:49 +0000</updated>
                            <resolved>Sat, 13 Oct 2012 14:38:54 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13469059" author="phabricator@reviews.facebook.net" created="Thu, 4 Oct 2012 01:25:07 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3518&quot; title=&quot;QTestUtil side-effects&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3518&quot;&gt;&lt;del&gt;HIVE-3518&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; QTestUtil side-effects&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1907 QTestUtil side-effects&lt;/p&gt;

&lt;p&gt;  It seems that QTestUtil has side-effects. This test (metadata_export_drop.q) causes failure of other tests on cleanup stage:&lt;/p&gt;

&lt;p&gt;  Exception: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
  org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
  at org.apache.hadoop.hive.ql.metadata.Hive.dropTable(Hive.java:845)&lt;br/&gt;
  at org.apache.hadoop.hive.ql.metadata.Hive.dropTable(Hive.java:821)&lt;br/&gt;
  at org.apache.hadoop.hive.ql.QTestUtil.cleanUp(QTestUtil.java:445)&lt;br/&gt;
  at org.apache.hadoop.hive.ql.QTestUtil.shutdown(QTestUtil.java:300)&lt;br/&gt;
  at org.apache.hadoop.hive.cli.TestCliDriver.tearDown(TestCliDriver.java:87)&lt;br/&gt;
  at junit.framework.TestCase.runBare(TestCase.java:140)&lt;br/&gt;
  at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
  at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
  at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
  at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
  at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
  at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
  at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)&lt;br/&gt;
  at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)&lt;br/&gt;
  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)&lt;br/&gt;
  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)&lt;br/&gt;
  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)&lt;br/&gt;
  Caused by: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
  at org.apache.hadoop.fs.Path.initialize(Path.java:140)&lt;br/&gt;
  at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:132)&lt;br/&gt;
  at org.apache.hadoop.fs.ProxyFileSystem.swizzleParamPath(ProxyFileSystem.java:56)&lt;br/&gt;
  at org.apache.hadoop.fs.ProxyFileSystem.mkdirs(ProxyFileSystem.java:214)&lt;br/&gt;
  at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:183)&lt;br/&gt;
  at org.apache.hadoop.fs.FileSystem.mkdirs(FileSystem.java:1120)&lt;br/&gt;
  at org.apache.hadoop.hive.ql.parse.MetaDataExportListener.export_meta_data(MetaDataExportListener.java:81)&lt;br/&gt;
  at org.apache.hadoop.hive.ql.parse.MetaDataExportListener.onEvent(MetaDataExportListener.java:106)&lt;br/&gt;
  at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.drop_table_core(HiveMetaStore.java:1024)&lt;br/&gt;
  at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.drop_table(HiveMetaStore.java:1185)&lt;br/&gt;
  at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.dropTable(HiveMetaStoreClient.java:566)&lt;br/&gt;
  at org.apache.hadoop.hive.ql.metadata.Hive.dropTable(Hive.java:839)&lt;br/&gt;
  ... 17 more&lt;br/&gt;
  Caused by: java.net.URISyntaxException: Relative path in absolute URI: &lt;a href=&quot;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:../build/ql/test/data/exports/HIVE-3427/src.2012-09-28-11-38-17&lt;/a&gt;&lt;br/&gt;
  at java.net.URI.checkPath(URI.java:1787)&lt;br/&gt;
  at java.net.URI.&amp;lt;init&amp;gt;(URI.java:735)&lt;br/&gt;
  at org.apache.hadoop.fs.Path.initialize(Path.java:137)&lt;br/&gt;
  ... 28 more&lt;/p&gt;

&lt;p&gt;  Flushing &apos;hive.metastore.pre.event.listeners&apos; into empty string solves the issue. During debugging I figured out this property wan&apos;t cleaned for other tests after it was set in metadata_export_drop.q.&lt;/p&gt;

&lt;p&gt;  How to reproduce:&lt;/p&gt;

&lt;p&gt;  ant test -Dtestcase=TestCliDriver -Dqfile=metadata_export_drop.q,&amp;lt;some test&amp;gt;.q&lt;/p&gt;

&lt;p&gt;  where &amp;lt;some test&amp;gt;.q means any test which contains CREATE statement. For example, sample10.q&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5865&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5865&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/processors/ResetProcessor.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/13893/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/13893/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13469066" author="navis" created="Thu, 4 Oct 2012 01:33:40 +0000"  >&lt;p&gt;QTestUtil creates new HiveConf per test for removing side effects but it&apos;s not propagated to entities like SessionState or MetaStoreClient. The patch is fixing it and not yet tested. After that I&apos;ll mark this patch-available.&lt;/p&gt;</comment>
                            <comment id="13474701" author="phabricator@reviews.facebook.net" created="Fri, 12 Oct 2012 01:13:02 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3518&quot; title=&quot;QTestUtil side-effects&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3518&quot;&gt;&lt;del&gt;HIVE-3518&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; QTestUtil side-effects&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Resetting conf made other issues, so just sure new conf propagated to meta store.&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5865&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5865&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13475393" author="namit" created="Fri, 12 Oct 2012 21:54:15 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13475394" author="phabricator@reviews.facebook.net" created="Fri, 12 Oct 2012 21:57:02 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3518&quot; title=&quot;QTestUtil side-effects&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3518&quot;&gt;&lt;del&gt;HIVE-3518&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; QTestUtil side-effects&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5865&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5865&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1907&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;/p&gt;</comment>
                            <comment id="13475621" author="namit" created="Sat, 13 Oct 2012 14:38:54 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13475724" author="hudson" created="Sat, 13 Oct 2012 22:37:30 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1735 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1735/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1735/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3518&quot; title=&quot;QTestUtil side-effects&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3518&quot;&gt;&lt;del&gt;HIVE-3518&lt;/del&gt;&lt;/a&gt; QTestUtil side-effects&lt;br/&gt;
(Navis via namit) (Revision 1397843)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1397843&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1397843&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547995" author="hudson" created="Wed, 9 Jan 2013 10:23:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3518&quot; title=&quot;QTestUtil side-effects&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3518&quot;&gt;&lt;del&gt;HIVE-3518&lt;/del&gt;&lt;/a&gt; QTestUtil side-effects&lt;br/&gt;
(Navis via namit) (Revision 1397843)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1397843&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1397843&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550214" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:49 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12594965">HIVE-3152</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12547656" name="HIVE-3518.D5865.1.patch" size="2143" author="phabricator@reviews.facebook.net" created="Thu, 4 Oct 2012 01:25:07 +0000"/>
                            <attachment id="12548837" name="HIVE-3518.D5865.2.patch" size="460" author="phabricator@reviews.facebook.net" created="Fri, 12 Oct 2012 01:13:02 +0000"/>
                            <attachment id="12547233" name="metadata_export_drop.q" size="429" author="ivangorbachev" created="Mon, 1 Oct 2012 16:48:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Oct 2012 01:25:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240627</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01407:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4418</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3519] partition to directory comparison in CombineHiveInputFormat needs to accept partitions dir without scheme</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3519</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;TestSymlinkTextInputFormat.testCombine throws following exception. The test case is just printing out the stacktrace when that happens instead of failing.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.IOException: cannot find dir = file:/Users/thejas/hive-trunk/ql/TestSymlinkTextInputFormat/datadir1/combinefile1_1 in pathToPartitionInfo: [/Users/thejas/hive-trunk/ql/TestSymlinkTextInputFormat/datadir2/combinefile2_1, /Users/thejas/hive-trunk/ql/TestSymlinkTextInputFormat/datadir1/combinefile1_1]
        at org.apache.hadoop.hive.ql.io.HiveFileFormatUtils.getPartitionDescFromPathRecursively(HiveFileFormatUtils.java:288)
        at org.apache.hadoop.hive.ql.io.HiveFileFormatUtils.getPartitionDescFromPathRecursively(HiveFileFormatUtils.java:256)
        at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getSplits(CombineHiveInputFormat.java:289)
        at org.apache.hadoop.hive.ql.io.TestSymlinkTextInputFormat.testCombine(TestSymlinkTextInputFormat.java:186)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at junit.framework.TestCase.runTest(TestCase.java:168)
        at junit.framework.TestCase.runBare(TestCase.java:134)
        at junit.framework.TestResult$1.protect(TestResult.java:110)
        at junit.framework.TestResult.runProtected(TestResult.java:128)
        at junit.framework.TestResult.run(TestResult.java:113)
        at junit.framework.TestCase.run(TestCase.java:124)
        at junit.framework.TestSuite.runTest(TestSuite.java:232)
        at junit.framework.TestSuite.run(TestSuite.java:227)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:520)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1060)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:911)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12609804">HIVE-3519</key>
            <summary>partition to directory comparison in CombineHiveInputFormat needs to accept partitions dir without scheme</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Oct 2012 20:26:59 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:44 +0000</updated>
                            <resolved>Mon, 29 Oct 2012 21:54:20 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13467154" author="thejas" created="Mon, 1 Oct 2012 20:28:09 +0000"  >&lt;p&gt;HiveFileFormatUtils.getPartitionDescFromPathRecursively should do a comparison without scheme in this case (as it does when the given directory does not have scheme).&lt;/p&gt;</comment>
                            <comment id="13467160" author="thejas" created="Mon, 1 Oct 2012 20:36:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3519&quot; title=&quot;partition to directory comparison in CombineHiveInputFormat needs to accept partitions dir without scheme&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3519&quot;&gt;&lt;del&gt;HIVE-3519&lt;/del&gt;&lt;/a&gt;.1.patch &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Fixes the test case TestSymlinkTextInputFormat.testCombine to fail when exception is thrown, also fixes the drop table command syntax in finally block.&lt;/li&gt;
	&lt;li&gt;Enables comparison without scheme when partition dirs don&apos;t have scheme.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13469962" author="thejas" created="Fri, 5 Oct 2012 01:44:50 +0000"  >&lt;p&gt;The previous patch exposed another problem with related code on windows. TestSymlinkTextInputFormat throws the following exception -&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NullPointerException
        at org.apache.hadoop.hive.ql.io.HiveFileFormatUtils.doGetWorksFromPath(HiveFileFormatUtils.java:420)
        at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getSplits(CombineHiveInputFormat.java:349)
        at org.apache.hadoop.hive.ql.io.TestSymlinkTextInputFormat.testCombine(TestSymlinkTextInputFormat.java:187)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at junit.framework.TestCase.runTest(TestCase.java:154)
        at junit.framework.TestCase.runBare(TestCase.java:127)
        at junit.framework.TestResult$1.protect(TestResult.java:106)
        at junit.framework.TestResult.runProtected(TestResult.java:124)
        at junit.framework.TestResult.run(TestResult.java:109)
        at junit.framework.TestCase.run(TestCase.java:118)
        at junit.framework.TestSuite.runTest(TestSuite.java:208)
        at junit.framework.TestSuite.run(TestSuite.java:203)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:520)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1060)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:911)
PREHOOK: query: drop table text_symlink_text

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is because in HiveFileFormatUtils.populateNewPartitionDesc it was looking up a path whose string representation has an additional &quot;/&quot; before the drive letter. While the strings that were keys in the Map that did not have the &quot;/C&quot;.&lt;br/&gt;
Eg - It was doing lookup on map- &lt;/p&gt;
{C:/Users/daijy/hive-monarch_btest/ql/TestSymlinkTextInputFormat/datadir1/combinefile1_1=[text_symlink_text], C:/Users/daijy/hive-monarch_btest/ql/TestSymlinkTextInputFormat/datadir2/combinefile2_1=[text_symlink_text]}
&lt;p&gt; with&lt;br/&gt;
with &lt;a href=&quot;file:/C:/Users/daijy/hive-monarch_btest/ql/TestSymlinkTextInputFormat/datadir1/combinefile1_1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/Users/daijy/hive-monarch_btest/ql/TestSymlinkTextInputFormat/datadir1/combinefile1_1&lt;/a&gt;&lt;br/&gt;
with /C:/Users/daijy/hive-monarch_btest/ql/TestSymlinkTextInputFormat/datadir1/combinefile1_1&lt;/p&gt;
</comment>
                            <comment id="13469973" author="thejas" created="Fri, 5 Oct 2012 02:21:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3519&quot; title=&quot;partition to directory comparison in CombineHiveInputFormat needs to accept partitions dir without scheme&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3519&quot;&gt;&lt;del&gt;HIVE-3519&lt;/del&gt;&lt;/a&gt;.2.patch - addresses the NPE issue described above.&lt;/p&gt;</comment>
                            <comment id="13482244" author="ashutoshc" created="Tue, 23 Oct 2012 10:23:29 +0000"  >&lt;p&gt;+1 Running tests.&lt;/p&gt;</comment>
                            <comment id="13483777" author="ashutoshc" created="Thu, 25 Oct 2012 00:41:21 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks, Thejas!&lt;/p&gt;</comment>
                            <comment id="13547994" author="hudson" created="Wed, 9 Jan 2013 10:23:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3519&quot; title=&quot;partition to directory comparison in CombineHiveInputFormat needs to accept partitions dir without scheme&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3519&quot;&gt;&lt;del&gt;HIVE-3519&lt;/del&gt;&lt;/a&gt; : partition to directory comparison in CombineHiveInputFormat needs to accept partitions dir without scheme (Thejas Nair via Ashutosh Chauhan) (Revision 1401935)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1401935&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1401935&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/HiveFileFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestSymlinkTextInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550190" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:44 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547268" name="HIVE-3519.1.patch" size="2331" author="thejas" created="Mon, 1 Oct 2012 20:36:07 +0000"/>
                            <attachment id="12547869" name="HIVE-3519.2.patch" size="2934" author="thejas" created="Fri, 5 Oct 2012 02:21:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Oct 2012 10:23:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242020</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02hzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12517</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3520] ivysettings.xml does not let you override .m2/repository</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3520</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ivysettings.xml does not let you override .m2/repository. In other words repo.dir ivysetting should be an overridable property&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609818">HIVE-3520</key>
            <summary>ivysettings.xml does not let you override .m2/repository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="raja@cmbasics.com">Raja Aluri</assignee>
                                    <reporter username="gkesavan">Giridharan Kesavan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Oct 2012 21:52:07 +0000</created>
                <updated>Thu, 10 Jan 2013 19:52:58 +0000</updated>
                            <resolved>Fri, 16 Nov 2012 01:45:19 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13498120" author="ashutoshc" created="Thu, 15 Nov 2012 16:37:31 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13498529" author="ashutoshc" created="Fri, 16 Nov 2012 01:45:19 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Raja!&lt;/p&gt;</comment>
                            <comment id="13498750" author="hudson" created="Fri, 16 Nov 2012 11:46:51 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1800 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1800/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1800/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3520&quot; title=&quot;ivysettings.xml does not let you override .m2/repository&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3520&quot;&gt;&lt;del&gt;HIVE-3520&lt;/del&gt;&lt;/a&gt; : ivysettings.xml does not let you override .m2/repository (Raja Aluri via Ashutosh Chauhan) (Revision 1410143)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1410143&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1410143&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547989" author="hudson" created="Wed, 9 Jan 2013 10:23:52 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3520&quot; title=&quot;ivysettings.xml does not let you override .m2/repository&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3520&quot;&gt;&lt;del&gt;HIVE-3520&lt;/del&gt;&lt;/a&gt; : ivysettings.xml does not let you override .m2/repository (Raja Aluri via Ashutosh Chauhan) (Revision 1410143)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1410143&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1410143&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13549993" author="ashutoshc" created="Thu, 10 Jan 2013 19:52:58 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547282" name="HIVE-3520.patch" size="815" author="raja@cmbasics.com" created="Mon, 1 Oct 2012 21:57:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 15 Nov 2012 16:37:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02ipz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12634</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3521] Concurrent metastore calls provoke Datanucleus IllegalStateException: &quot;Table object has not been been initialised&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3521</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12609834">HIVE-3521</key>
            <summary>Concurrent metastore calls provoke Datanucleus IllegalStateException: &quot;Table object has not been been initialised&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Oct 2012 23:10:00 +0000</created>
                <updated>Thu, 20 Jun 2013 04:24:03 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13467293" author="cwsteinbach" created="Mon, 1 Oct 2012 23:17:26 +0000"  >&lt;p&gt;I encountered this error while running a test fires metastore calls from approximately ten threads at the same time.&lt;/p&gt;

&lt;p&gt;Here is the exception stack trace:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;12/10/01 14:46:53 ERROR hive.log: java.lang.IllegalStateException: Table object has not been been initialised : `TBLS`
	at org.datanucleus.store.rdbms.table.AbstractTable.assertIsInitialized(AbstractTable.java:625)
	at org.datanucleus.store.rdbms.table.ClassTable.getMemberMapping(ClassTable.java:2996)
	at org.datanucleus.store.mapped.expression.LogicSetExpression.newFieldExpression(LogicSetExpression.java:195)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileIdentifier(JDOQLQueryCompiler.java:953)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compilePrimary(JDOQLQueryCompiler.java:774)
	at org.datanucleus.store.rdbms.query.legacy.QueryCompiler.compileUnaryExpressionNotPlusMinus(QueryCompiler.java:1333)
	at org.datanucleus.store.rdbms.query.legacy.QueryCompiler.compileUnaryExpression(QueryCompiler.java:1314)
	at org.datanucleus.store.rdbms.query.legacy.QueryCompiler.compileMultiplicativeExpression(QueryCompiler.java:1267)
	at org.datanucleus.store.rdbms.query.legacy.QueryCompiler.compileAdditiveExpression(QueryCompiler.java:1244)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileRelationalExpression(JDOQLQueryCompiler.java:687)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileEqualityExpression(JDOQLQueryCompiler.java:659)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileAndExpression(JDOQLQueryCompiler.java:647)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileExclusiveOrExpression(JDOQLQueryCompiler.java:635)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileInclusiveOrExpression(JDOQLQueryCompiler.java:623)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileConditionalAndExpression(JDOQLQueryCompiler.java:611)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileConditionalOrExpression(JDOQLQueryCompiler.java:593)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileExpression(JDOQLQueryCompiler.java:570)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileExpressionFromString(JDOQLQueryCompiler.java:550)
	at org.datanucleus.store.rdbms.query.legacy.QueryCompiler.compileExpressionsFromString(QueryCompiler.java:1221)
	at org.datanucleus.store.rdbms.query.legacy.QueryCompiler.compileResult(QueryCompiler.java:876)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.performCompile(JDOQLQueryCompiler.java:246)
	at org.datanucleus.store.rdbms.query.legacy.QueryCompiler.executionCompile(QueryCompiler.java:374)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compile(JDOQLQueryCompiler.java:225)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.compileInternal(JDOQLQuery.java:175)
	at org.datanucleus.store.query.Query.executeQuery(Query.java:1628)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.executeQuery(JDOQLQuery.java:245)
	at org.datanucleus.store.query.Query.executeWithArray(Query.java:1499)
	at org.datanucleus.jdo.JDOQuery.execute(JDOQuery.java:243)
	at org.apache.hadoop.hive.metastore.ObjectStore.getTables(ObjectStore.java:759)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.hive.metastore.RetryingRawStore.invoke(RetryingRawStore.java:111)
	at $Proxy0.getTables(Unknown Source)
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.get_tables(HiveMetaStore.java:1928)
	at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.getTables(HiveMetaStoreClient.java:786)
	at org.apache.hadoop.hive.ql.metadata.Hive.getTablesByPattern(Hive.java:976)
	at org.apache.hadoop.hive.ql.metadata.Hive.getAllTables(Hive.java:950)
	at org.apache.hadoop.hive.ql.exec.DDLTask.showTables(DDLTask.java:2007)
	at org.apache.hadoop.hive.ql.exec.DDLTask.execute(DDLTask.java:324)
	at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:153)
	at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)
	at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1331)
	at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1117)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:950)
	at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:32)
	at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:34)
	at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:176)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have seen this same exception mentioned several times before on the Hive mailing list, and it also looks like folks are encountering this while running the JPA performance benchmark:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.jpab.org/DataNucleus/MySQL/server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.jpab.org/DataNucleus/MySQL/server.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;At this point I can&apos;t tell if this is a bug with DataNucleus, or if Hive is using DN incorrectly.&lt;/p&gt;</comment>
                            <comment id="13575197" author="andy" created="Sat, 9 Feb 2013 16:29:05 +0000"  >&lt;p&gt;I&apos;ve never seen it, and that private company running that proprietary benchmark (for their proprietary product) didn&apos;t bother configuring DataNucleus (surprising?). &lt;br/&gt;
Use of the DN persistence property &quot;datanucleus.PersistenceUnitLoadClasses&quot; at startup together with a persistence-unit, or alternatively use of an auto-start mechanism, as well as locking of your PMF/EMF until it was initialised would clearly mean that the internal schema was initialised. You seem to be executing a query and it is still discovering classes that map to your schema; not a good way of running&lt;/p&gt;</comment>
                            <comment id="13666256" author="malyvelky" created="Fri, 24 May 2013 12:27:33 +0000"  >&lt;p&gt;Thank you for the tips, Andy. I have seen similar problem in our Hive 0.9.0 logs regularly in the past few months and had no idea what to do about it. I did not bother configuring DataNucelus because there is nowhere any information about 1) Hive requiring that and 2) how it should be configured (nowhere = Google, Programming Hive).&lt;/p&gt;

&lt;p&gt;Anyway, from your comment and the sparse documentation I have figured out that setting datanucleus.autoStartMechanism to SchemaTable in hive-site.xml might help. After I restarted Hive, it has created NUCLEUS_TABLES in the database so it seems to have some effect. I will see in a few weeks/months if it will indeed fix the problem, i.e. if DataNucleus will load the list of tables from it on start, avoiding not knowing them later.&lt;/p&gt;

&lt;p&gt;For other readers trying to interpret your comment:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;PMF/EMF are JDO&apos;s PersistenceManagerFactory / JPA&apos;s EntityManagerFactory, i.e. the classes used to get hold of something actually usable for persisting / reading stuff&lt;/li&gt;
	&lt;li&gt;Regarding the advice of setting datanucleus.PersistenceUnitLoadClassesto true in hive-site.xml, I don&apos;t know enough to be able to apply it. If I read the docs correctly, it requires datanucleus.PersistenceUnitName to be set to a name of a persistence-unit defined in a persistence.xml file - but I haven&apos;t found any such file in Hive 0.9.0 (the only JDO-related thing I have found aside of the metastore connection properties is package.jdo in hive-metastore-0.9.0.jar. I would appreciate tips for how to use this setting with Hive.&lt;/li&gt;
	&lt;li&gt;To me, &quot;locking of your PMF/EMF&quot; seems to be out of question since all that code is inside Hive and I only use Hive via hiveserver&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13688853" author="brocknoland" created="Thu, 20 Jun 2013 04:23:42 +0000"  >&lt;p&gt;Nice work Jakub!  I am not able to reproduce once placing:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;datanucleus.autoStartMechanism&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;SchemaTable&amp;lt;/value&amp;gt;
  &amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in my hive-site.xml&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12653802">HIVE-4762</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Feb 2013 16:29:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aeif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58624</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3522] Make separator for Entity name configurable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3522</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Right now its hard-coded to &apos;@&apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609948">HIVE-3522</key>
            <summary>Make separator for Entity name configurable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Oct 2012 17:57:32 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:48 +0000</updated>
                            <resolved>Mon, 8 Oct 2012 17:08:29 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13467973" author="rsm" created="Tue, 2 Oct 2012 19:01:25 +0000"  >&lt;p&gt;patch here: &lt;a href=&quot;https://reviews.facebook.net/D5793&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5793&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13468166" author="kevinwilfong" created="Tue, 2 Oct 2012 23:10:43 +0000"  >&lt;p&gt;Comments on Phabricator.&lt;/p&gt;</comment>
                            <comment id="13469017" author="kevinwilfong" created="Thu, 4 Oct 2012 00:14:33 +0000"  >&lt;p&gt;+1 Looks good.&lt;/p&gt;</comment>
                            <comment id="13471674" author="kevinwilfong" created="Mon, 8 Oct 2012 17:08:29 +0000"  >&lt;p&gt;Committed, thanks Raghu.&lt;/p&gt;</comment>
                            <comment id="13472178" author="hudson" created="Tue, 9 Oct 2012 06:31:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1730 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1730/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1730/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3522&quot; title=&quot;Make separator for Entity name configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3522&quot;&gt;&lt;del&gt;HIVE-3522&lt;/del&gt;&lt;/a&gt;. Make separator for Entity name configurable. (Raghotham Murthy via kevinwilfong) (Revision 1395668)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395668&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395668&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547988" author="hudson" created="Wed, 9 Jan 2013 10:23:52 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3522&quot; title=&quot;Make separator for Entity name configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3522&quot;&gt;&lt;del&gt;HIVE-3522&lt;/del&gt;&lt;/a&gt;. Make separator for Entity name configurable. (Raghotham Murthy via kevinwilfong) (Revision 1395668)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395668&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395668&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/hooks/Entity.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550209" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:48 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547588" name="hive-3522.1.patch" size="4279" author="rsm" created="Wed, 3 Oct 2012 20:22:23 +0000"/>
                            <attachment id="12547639" name="hive-3522.2.patch" size="4463" author="rsm" created="Thu, 4 Oct 2012 00:07:03 +0000"/>
                            <attachment id="12548024" name="hive-3522.3.patch" size="4405" author="rsm" created="Fri, 5 Oct 2012 18:50:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 2 Oct 2012 23:10:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0147j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4451</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
