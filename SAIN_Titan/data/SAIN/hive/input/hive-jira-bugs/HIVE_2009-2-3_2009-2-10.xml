<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:12:52 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2009-2-3+AND+created+%3C%3D+2009-2-10+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="17" total="17"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-268] &quot;Insert Overwrite Directory&quot; to accept configurable table row format</title>
                <link>https://issues.apache.org/jira/browse/HIVE-268</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There is no way for the users to control the file format when they are outputting the result into a directory.&lt;/p&gt;

&lt;p&gt;We should allow:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INSERT OVERWRITE DIRECTORY &lt;span class=&quot;code-quote&quot;&gt;&quot;/user/zshao/result&quot;&lt;/span&gt;
ROW FORMAT DELIMITED
FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;9&apos;&lt;/span&gt;
SELECT tablea.* from tablea;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12413931">HIVE-268</key>
            <summary>&quot;Insert Overwrite Directory&quot; to accept configurable table row format</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Feb 2009 19:43:26 +0000</created>
                <updated>Fri, 7 Jun 2013 03:37:18 +0000</updated>
                            <resolved>Fri, 7 Jun 2013 03:37:18 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>9</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="12910530" author="jakthegr8" created="Fri, 17 Sep 2010 10:38:09 +0000"  >&lt;p&gt;Hi Team,&lt;/p&gt;

&lt;p&gt; Have you find any solution for this issue or is there any other way to achieve this above ?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Jak&lt;/p&gt;</comment>
                            <comment id="12910656" author="appodictic" created="Fri, 17 Sep 2010 16:46:35 +0000"  >&lt;p&gt;Still not exactly what you want but with CTAS you can essentially get a folder in /user/hive/warehouse/&amp;lt;tableIWant&amp;gt; with the format you want.&lt;/p&gt;</comment>
                            <comment id="13086633" author="posix4e" created="Wed, 17 Aug 2011 22:01:18 +0000"  >&lt;p&gt;I think the issue here is he wants to write to a local file and choose the delim. Currently you can only do one or the other. &lt;/p&gt;</comment>
                            <comment id="13263511" author="manitra" created="Fri, 27 Apr 2012 08:38:57 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;Since this issue is kind of old, is it still planned to be implemented ?&lt;/p&gt;

&lt;p&gt;Manitra&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12615082">HIVE-3682</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12430390">HIVE-634</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Sep 2010 10:38:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122085</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-269] Add log/exp UDF functions to Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-269</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/mathematical-functions.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/mathematical-functions.html&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;EXP() 	Raise to the power of
LN() 	Return the natural logarithm of the argument
LOG10() 	Return the base-10 logarithm of the argument
LOG2() 	Return the base-2 logarithm of the argument
LOG() 	Return the natural logarithm of the first argument 
POW() 	Return the argument raised to the specified power
POWER() 	Return the argument raised to the specified power
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12413973">HIVE-269</key>
            <summary>Add log/exp UDF functions to Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Feb 2009 05:03:09 +0000</created>
                <updated>Sat, 17 Dec 2011 00:09:02 +0000</updated>
                            <resolved>Fri, 6 Feb 2009 01:37:33 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12670254" author="zshao" created="Wed, 4 Feb 2009 06:02:12 +0000"  >&lt;p&gt;Although this functionality is new, there is little chance that this transaction will break other existing things.&lt;/p&gt;

&lt;p&gt;I proposed to commit it to both branch 0.2 and trunk.&lt;/p&gt;</comment>
                            <comment id="12670275" author="hammer" created="Wed, 4 Feb 2009 08:28:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-245&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-245&lt;/a&gt; has POW(X, Y) open, so make sure to close that as a dupe if you do POW here?&lt;/p&gt;</comment>
                            <comment id="12670543" author="zshao" created="Wed, 4 Feb 2009 22:57:20 +0000"  >&lt;p&gt;Added javadoc comment.&lt;/p&gt;</comment>
                            <comment id="12670569" author="hammer" created="Thu, 5 Feb 2009 00:05:44 +0000"  >&lt;p&gt;Looks good, with one tiny nit: add &quot;base&quot; to the javadoc:&lt;/p&gt;

&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Returns the logarithm of a with base.&lt;br/&gt;
 */&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;should be:&lt;/p&gt;

&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Returns the logarithm of a with base &quot;base&quot;.&lt;br/&gt;
 */&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12670570" author="zshao" created="Thu, 5 Feb 2009 00:11:03 +0000"  >&lt;p&gt;Corrected the comments.&lt;/p&gt;</comment>
                            <comment id="12670978" author="zshao" created="Fri, 6 Feb 2009 01:37:33 +0000"  >&lt;p&gt;Committed revision 741366 for trunk.&lt;br/&gt;
Committed revision 741367 and 741368 for branch 0.2.&lt;/p&gt;</comment>
                            <comment id="12670990" author="zshao" created="Fri, 6 Feb 2009 03:32:24 +0000"  >&lt;p&gt;Added the UDFs to the wiki.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12413073">HIVE-245</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12399426" name="HIVE-269.1.patch" size="16534" author="zshao" created="Wed, 4 Feb 2009 06:02:11 +0000"/>
                            <attachment id="12399490" name="HIVE-269.2.patch" size="16835" author="zshao" created="Wed, 4 Feb 2009 22:57:20 +0000"/>
                            <attachment id="12399501" name="HIVE-269.3.patch" size="16970" author="zshao" created="Thu, 5 Feb 2009 00:11:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Feb 2009 08:28:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73658</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8v3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122086</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-269&quot; title=&quot;Add log/exp UDF functions to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-269&quot;&gt;&lt;strike&gt;HIVE-269&lt;/strike&gt;&lt;/a&gt;. Add log/exp/pow UDF functions to Hive. (zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-270] Add a lazy-deserialized SerDe for space and cpu efficient serialization of rows with primitive types</title>
                <link>https://issues.apache.org/jira/browse/HIVE-270</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We want to add a lazy-deserialized SerDe for space and cpu efficient serialization of rows with primitive types.&lt;br/&gt;
This SerDe will share the same format as MetadataTypedColumnsetSerDe/TCTLSeparatedProtocol to be backward compatible.&lt;/p&gt;

&lt;p&gt;This SerDe will be used to replace the default table SerDe, and the SerDe used to communicate with user scripts.&lt;/p&gt;

&lt;p&gt;For simplicity, we don&apos;t plan to support nested structure with this SerDe.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12413976">HIVE-270</key>
            <summary>Add a lazy-deserialized SerDe for space and cpu efficient serialization of rows with primitive types</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Feb 2009 06:11:05 +0000</created>
                <updated>Sat, 7 Sep 2013 13:51:14 +0000</updated>
                            <resolved>Tue, 17 Feb 2009 19:40:19 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12670257" author="zshao" created="Wed, 4 Feb 2009 06:27:43 +0000"  >&lt;p&gt;This SerDe should support the quoting (ENCLOSED BY) and escaping (ESCAPED BY) as MySQL does for &quot;LOAD DATA&quot; and &quot;SELECT INTO OUTFILE&quot;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/load-data.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/load-data.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Note that neither the quoting nor the escaping in the MySQL way supports String.split().&lt;/p&gt;</comment>
                            <comment id="12671026" author="zshao" created="Fri, 6 Feb 2009 07:18:20 +0000"  >&lt;p&gt;A compilable preview. &lt;/p&gt;</comment>
                            <comment id="12672508" author="zshao" created="Wed, 11 Feb 2009 04:52:14 +0000"  >&lt;p&gt;Added the code to parse byte, short, int, long without doing UTF-8 decoding.&lt;br/&gt;
Added test cases (all passed).&lt;/p&gt;

&lt;p&gt;Does not include the fix to existing testcase output. The only change is the name of the SerDe and that part can be automatically generated by &quot;ant test -Doverwrite=true&quot;.&lt;/p&gt;</comment>
                            <comment id="12672764" author="jsensarma" created="Wed, 11 Feb 2009 20:42:27 +0000"  >&lt;p&gt;looks pretty good!&lt;/p&gt;

&lt;p&gt;for the LazyString conversion - can use static function Text.decode. The text.append will do an unnecessary byte copy into the text&apos;s internal byte array.&lt;/p&gt;

&lt;p&gt;LazySimpleStructObjectInspector.java:  public List&amp;lt;Object&amp;gt; getStructFieldsDataAsList(Object data) {&lt;br/&gt;
this is probably not used anywhere - but if data==null seems like we should just return null? (based on looking at other object inspectors)&lt;/p&gt;

&lt;p&gt;parse(): comparison for null sequence: the compare method is somewhat generic. since we only care for equality - can do a simple comparison of lengths first to find if things are unequal (should be a little faster) and do full comparison only if lengths are equal.&lt;/p&gt;

&lt;p&gt;it may be possible to speed up the serialize considerably as well (go directly from Primitive types to bytes and append to a bytebuffer) - but would make sense to punt on that.&lt;/p&gt;</comment>
                            <comment id="12672857" author="zshao" created="Thu, 12 Feb 2009 01:52:38 +0000"  >&lt;p&gt;Good idea to directly serialize primitive objects without doing x.toString()!&lt;/p&gt;

&lt;p&gt;That will save the same number of String object creation if it is an identity mapper. Will make that change...&lt;/p&gt;
</comment>
                            <comment id="12672868" author="zshao" created="Thu, 12 Feb 2009 03:55:40 +0000"  >&lt;p&gt;After looking at the code again, I decided to postpone the change of serialization until we move from String to Text.&lt;/p&gt;

&lt;p&gt;With that change, we will be able to get rid of all UTF-8 encoding in the serialization.&lt;/p&gt;

&lt;p&gt;This patch incorporates all other comments from Joydeep.&lt;/p&gt;</comment>
                            <comment id="12672869" author="zshao" created="Thu, 12 Feb 2009 04:00:33 +0000"  >&lt;p&gt;Removed all test case changes (can be automatically generated by ant test -Doverwrite=true)&lt;/p&gt;</comment>
                            <comment id="12673776" author="jsensarma" created="Mon, 16 Feb 2009 02:39:07 +0000"  >&lt;p&gt;a couple of things i missed in first review:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;where we get numberformatexception in lazy number parsing - should we return serdeexception instead? I am just worried that by sending them across as nulls - we are totally hiding any errors from the user.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  right now the serdeexceptions just go into a hadoop counter - but perhaps later we can surface them to the user (and error out job on threshold number of exceptions)&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;can we replace all occurences of metadatatypedserde? it seems that there are quite a few places in the code that are still using it (see planutils.getdefaulttabledesc for instance - that goes into a bunch of places - like script operator, fetch task, filesink)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12673797" author="zshao" created="Mon, 16 Feb 2009 05:55:49 +0000"  >&lt;p&gt;This transaction is aimed for better performance with the same semantics.&lt;/p&gt;

&lt;p&gt;For 1, DynamicSerDe with TCTLSeparatedProtocol has been doing the same thing for a long time.&lt;br/&gt;
Let&apos;s open another jira if this is needed?&lt;/p&gt;

&lt;p&gt;For 2. I&apos;ve opened a new jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-292&quot; title=&quot;Use LazySimpleSerDe to replace MetadataTypedColumnsetSerde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-292&quot;&gt;&lt;del&gt;HIVE-292&lt;/del&gt;&lt;/a&gt; for it. Let&apos;s do it step-by-step to reduce risks.&lt;/p&gt;</comment>
                            <comment id="12673808" author="jsensarma" created="Mon, 16 Feb 2009 07:10:03 +0000"  >&lt;p&gt;sure - ok to address later.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12674335" author="zshao" created="Tue, 17 Feb 2009 19:40:19 +0000"  >&lt;p&gt;Committed to trunk only. Committed revision 745212.&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12416592">HIVE-337</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12410221">HIVE-136</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12413755">HIVE-266</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12414845">HIVE-292</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12415331">HIVE-298</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12399624" name="HIVE-270.1.patch" size="32057" author="zshao" created="Fri, 6 Feb 2009 07:18:20 +0000"/>
                            <attachment id="12399967" name="HIVE-270.3.patch" size="316192" author="zshao" created="Wed, 11 Feb 2009 04:52:14 +0000"/>
                            <attachment id="12400074" name="HIVE-270.4.patch" size="631736" author="zshao" created="Thu, 12 Feb 2009 03:55:40 +0000"/>
                            <attachment id="12400075" name="HIVE-270.5.patch" size="316262" author="zshao" created="Thu, 12 Feb 2009 04:00:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Feb 2009 20:42:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122087</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-270&quot; title=&quot;Add a lazy-deserialized SerDe for space and cpu efficient serialization of rows with primitive types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-270&quot;&gt;&lt;strike&gt;HIVE-270&lt;/strike&gt;&lt;/a&gt;. Add a lazy-deserialized SerDe for efficient deserialization of rows with primitive types. (zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-271] test-udfs is created in ql/build.xml but used in build-common.xml leading to test failures</title>
                <link>https://issues.apache.org/jira/browse/HIVE-271</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;test-udfs.jar is created in ql/build.xml and used in build-common.xml&lt;/p&gt;

&lt;p&gt;As a result test targets that run hive queries and are not a part fo ql/build.xml will fail. This is happening in the hwi targets that were added to trunk.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414024">HIVE-271</key>
            <summary>test-udfs is created in ql/build.xml but used in build-common.xml leading to test failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="athusoo">Ashish Thusoo</assignee>
                                    <reporter username="athusoo">Ashish Thusoo</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Feb 2009 18:58:24 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:41 +0000</updated>
                            <resolved>Wed, 4 Feb 2009 20:53:32 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12670414" author="athusoo" created="Wed, 4 Feb 2009 19:07:59 +0000"  >&lt;p&gt;Moved creating of test-udfs to build-common.&lt;/p&gt;</comment>
                            <comment id="12670415" author="athusoo" created="Wed, 4 Feb 2009 19:08:19 +0000"  >&lt;p&gt;submitted.&lt;/p&gt;</comment>
                            <comment id="12670419" author="prasadc" created="Wed, 4 Feb 2009 19:10:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12670505" author="athusoo" created="Wed, 4 Feb 2009 20:53:32 +0000"  >&lt;p&gt;committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12399472" name="patch-271.txt" size="2071" author="athusoo" created="Wed, 4 Feb 2009 19:07:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Feb 2009 19:10:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122088</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-272] Eliminate @Override directives for classes in Eclipse 3.4.1</title>
                <link>https://issues.apache.org/jira/browse/HIVE-272</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Eclipse Versions prior to 3.4.1 actually add @Override to classes which&lt;br/&gt;
implement interfaces. Version 3.4.1 correctly complains that @Override&lt;br/&gt;
should not be present for methods from interfaces.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Eclipse 3.4.1&lt;/p&gt;</environment>
        <key id="12414051">HIVE-272</key>
            <summary>Eliminate @Override directives for classes in Eclipse 3.4.1</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="ssarkar">Shyam Sundar Sarkar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Feb 2009 23:13:02 +0000</created>
                <updated>Sat, 17 Dec 2011 00:09:07 +0000</updated>
                            <resolved>Tue, 10 Feb 2009 08:58:19 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12670567" author="rsm" created="Thu, 5 Feb 2009 00:05:22 +0000"  >&lt;p&gt;removed @Override&lt;/p&gt;</comment>
                            <comment id="12670843" author="zshao" created="Thu, 5 Feb 2009 18:07:56 +0000"  >&lt;p&gt;In Eclipse Preferences Pane go to Java -&amp;gt; Compiler -&amp;gt; Compliance Level, set to Java 1.6.&lt;br/&gt;
Then Eclipse does not complain with @Override for that case.&lt;/p&gt;

&lt;p&gt;Or you mean Java standard says there should not be an @Override for that case?&lt;/p&gt;</comment>
                            <comment id="12672207" author="rsm" created="Tue, 10 Feb 2009 08:58:19 +0000"  >&lt;p&gt;There seems to be quite a bit of confusion about changing the meaning of @Override between 1.5 and 1.6.&lt;br/&gt;
See: &lt;a href=&quot;http://blogs.sun.com/ahe/?entry=override&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://blogs.sun.com/ahe/?entry=override&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But, the conclusion is that its ok in 1.6 to specify @Override to methods inherited from interfaces. So, this jira can be closed.&lt;/p&gt;

&lt;p&gt;We do need to make a change to our eclipse-templates to make sure that eclipse has java compiler compliance level set to 1.6.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12399500" name="hive-272.1.patch" size="4126" author="rsm" created="Thu, 5 Feb 2009 00:05:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Feb 2009 00:05:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73655</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122089</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Removed @Override to be compatible with eclipse versions greater than 3.4.1.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-273] regression: avg always returns NULL</title>
                <link>https://issues.apache.org/jira/browse/HIVE-273</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Due to recent checkin for implict type conversion, avg broke and it always returns NULLs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414052">HIVE-273</key>
            <summary>regression: avg always returns NULL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="athusoo">Ashish Thusoo</assignee>
                                    <reporter username="athusoo">Ashish Thusoo</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Feb 2009 23:19:22 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:40 +0000</updated>
                            <resolved>Tue, 10 Feb 2009 20:28:40 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12670550" author="athusoo" created="Wed, 4 Feb 2009 23:20:22 +0000"  >&lt;p&gt;The following test case shows the error:&lt;/p&gt;

&lt;p&gt;Suppose table T(string c1) has 2 rows&lt;/p&gt;

&lt;p&gt;&apos;&apos;&lt;br/&gt;
&apos;1&apos;&lt;/p&gt;

&lt;p&gt;then &lt;/p&gt;

&lt;p&gt;select avg(c1), sum(c1), count(c1) from T&lt;/p&gt;

&lt;p&gt;returns&lt;/p&gt;

&lt;p&gt;NULL   1.0   1&lt;/p&gt;</comment>
                            <comment id="12670901" author="athusoo" created="Thu, 5 Feb 2009 20:57:56 +0000"  >&lt;p&gt;Fixing the description and summary to reflect the seriousness of the bug.&lt;/p&gt;</comment>
                            <comment id="12670905" author="athusoo" created="Thu, 5 Feb 2009 21:06:22 +0000"  >&lt;p&gt;Patch attached.&lt;/p&gt;</comment>
                            <comment id="12670906" author="athusoo" created="Thu, 5 Feb 2009 21:06:48 +0000"  >&lt;p&gt;submitted.&lt;/p&gt;</comment>
                            <comment id="12670918" author="athusoo" created="Thu, 5 Feb 2009 22:04:11 +0000"  >&lt;p&gt;Fixed some test outputs.&lt;/p&gt;</comment>
                            <comment id="12670952" author="zshao" created="Thu, 5 Feb 2009 23:38:54 +0000"  >&lt;p&gt;+1.&lt;/p&gt;</comment>
                            <comment id="12672389" author="athusoo" created="Tue, 10 Feb 2009 20:28:40 +0000"  >&lt;p&gt;committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12399591" name="patch-273.txt" size="29557" author="athusoo" created="Thu, 5 Feb 2009 21:06:22 +0000"/>
                            <attachment id="12399597" name="patch-273_2.txt" size="68725" author="athusoo" created="Thu, 5 Feb 2009 22:04:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Feb 2009 23:38:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-274] User cannot specify schema of the script output, only the column names can be specified</title>
                <link>https://issues.apache.org/jira/browse/HIVE-274</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Consider the test: mapreduce1.q:&lt;/p&gt;

&lt;p&gt;FROM src&lt;br/&gt;
INSERT OVERWRITE TABLE dest1&lt;br/&gt;
MAP src.key, CAST(src.key / 10 AS INT), CAST(src.key % 10 AS INT), src.value&lt;br/&gt;
USING &apos;/bin/cat&apos; AS (tkey, ten, one, tvalue)&lt;br/&gt;
DISTRIBUTE BY tvalue, tkey&lt;br/&gt;
SORT BY ten, one;&lt;/p&gt;


&lt;p&gt;Although, in the MAP input, the user is casting the inputs as INT (ten, one), the reduce output (&apos;/bin/cat&apos;) still treats them as string, and the sorting happens assuming them as strings - even if the&lt;br/&gt;
user wanted to have integer sorting, the output has lexicographic sorting (look at the output mapreduce1.q.out).&lt;/p&gt;


&lt;p&gt;In the AS, the user should be able to specify the schema in the same way as CREATE TABLE.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12414131">HIVE-274</key>
            <summary>User cannot specify schema of the script output, only the column names can be specified</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Feb 2009 19:18:53 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:01 +0000</updated>
                            <resolved>Mon, 21 Dec 2009 08:56:09 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12793124" author="zshao" created="Mon, 21 Dec 2009 08:56:09 +0000"  >&lt;p&gt;This is fixed together with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-708&quot; title=&quot;Add TypedBytes SerDe for transform&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-708&quot;&gt;&lt;del&gt;HIVE-708&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Dec 2009 08:56:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66873</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122091</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-275] split log output from &quot;hive -e &apos;&lt;query&gt;&apos;&quot; to something other than stdout</title>
                <link>https://issues.apache.org/jira/browse/HIVE-275</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A command like: hive -e &apos;select * from my_table&apos; produces output like:&lt;br/&gt;
Hive history file=/tmp/asmith/hive_job_log_asmith_200902051423_1455103524.txt&lt;br/&gt;
OK&lt;br/&gt;
1       &lt;span class=&quot;error&quot;&gt;&amp;#91;4, 4&amp;#93;&lt;/span&gt;&lt;br/&gt;
1       &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
0       &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0&amp;#93;&lt;/span&gt;&lt;br/&gt;
0       &lt;span class=&quot;error&quot;&gt;&amp;#91;1, 0&amp;#93;&lt;/span&gt;&lt;br/&gt;
Time taken: 2.413 seconds&lt;/p&gt;

&lt;p&gt;all of which goes to stdout.  The non-data messages can be removed using &apos;-s&apos;, but it would be nice to have a way to instead redirect them to (for example) stderr.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414150">HIVE-275</key>
            <summary>split log output from &quot;hive -e &apos;&lt;query&gt;&apos;&quot; to something other than stdout</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sasmith">S. Alex Smith</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Feb 2009 22:25:16 +0000</created>
                <updated>Sun, 7 Sep 2014 11:59:09 +0000</updated>
                            <resolved>Sun, 7 Sep 2014 11:59:09 +0000</resolved>
                                                                    <component>Clients</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12670971" author="zshao" created="Fri, 6 Feb 2009 01:12:04 +0000"  >&lt;p&gt;hive -S -e &apos;select * from my_table&apos; will do what you want.&lt;br/&gt;
-S stands for silent.&lt;/p&gt;</comment>
                            <comment id="12670972" author="athusoo" created="Fri, 6 Feb 2009 01:16:09 +0000"  >&lt;p&gt;yeah. I had mentioned the same thing to Alex off line and he is going to try it out.&lt;/p&gt;</comment>
                            <comment id="12670976" author="sasmith" created="Fri, 6 Feb 2009 01:27:20 +0000"  >&lt;p&gt;I see my update was out of sync with your comments.&lt;/p&gt;

&lt;p&gt;Yeah, -S seems to be what I want, although it would be nice to be able to get the log messages without having them pollute the output (as now requested).  Certainly not vital.&lt;/p&gt;</comment>
                            <comment id="14124874" author="lars_francke" created="Sun, 7 Sep 2014 11:58:44 +0000"  >&lt;p&gt;As the old hive CLI has been deprecated I think we can close this. Feel free to reopen against Beeline if necessary.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Feb 2009 01:12:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42869</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08p4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48670</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-276] input3_limit.q fails under 0.17</title>
                <link>https://issues.apache.org/jira/browse/HIVE-276</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The plan ql/src/test/results/clientpositive/input3_limit.q.out shows that there are 2 map-reduce jobs:&lt;/p&gt;

&lt;p&gt;The first one is distributed and sorted as is specified by the query. The reducer side has LIMIT 20.&lt;/p&gt;

&lt;p&gt;The second one (single reducer job imposed by LIMIT 20) does not have the same sort order, so the final result is non-deterministic.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414151">HIVE-276</key>
            <summary>input3_limit.q fails under 0.17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Feb 2009 22:33:26 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:43 +0000</updated>
                            <resolved>Thu, 19 Feb 2009 04:42:34 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12670925" author="zshao" created="Thu, 5 Feb 2009 22:33:45 +0000"  >&lt;p&gt;To test, try: ant -Dhadoop.version=0.17.0 -Dtestcase=TestCliDriver -Dqfile=input3_limit.q test&lt;/p&gt;</comment>
                            <comment id="12670926" author="zshao" created="Thu, 5 Feb 2009 22:35:34 +0000"  >&lt;p&gt;The query is: &quot;INSERT OVERWRITE TABLE T2 SELECT * FROM (SELECT * FROM T1 DISTRIBUTE BY key SORT BY key, value) T ;&quot;&lt;/p&gt;

&lt;p&gt;Maybe we should propagate the SORT ORDER to the second map-reduce job that LIMIT imposes.&lt;/p&gt;</comment>
                            <comment id="12672741" author="zshao" created="Wed, 11 Feb 2009 19:35:22 +0000"  >&lt;p&gt;Modified the query to do another SORT at the end.&lt;/p&gt;

&lt;p&gt;I also thought about propagating the sort order to the reduce sink operator of limit, but that does not seem very easy to do.&lt;/p&gt;</comment>
                            <comment id="12673104" author="athusoo" created="Fri, 13 Feb 2009 00:46:16 +0000"  >&lt;p&gt;sorry. I thought you were not working on this.&lt;/p&gt;</comment>
                            <comment id="12673105" author="athusoo" created="Fri, 13 Feb 2009 00:49:59 +0000"  >&lt;p&gt;I think it is easier to just put a sort by in the final select.&lt;/p&gt;

&lt;p&gt;SELECT * FROM T2 SORT BY T2.key, T2.value;&lt;/p&gt;


&lt;p&gt;instead of&lt;/p&gt;

&lt;p&gt;SELECT * FROM T2;&lt;/p&gt;
</comment>
                            <comment id="12674869" author="zshao" created="Thu, 19 Feb 2009 02:41:03 +0000"  >&lt;p&gt;Incorporated Ashish&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="12674870" author="rsm" created="Thu, 19 Feb 2009 02:45:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good.&lt;/p&gt;</comment>
                            <comment id="12674890" author="zshao" created="Thu, 19 Feb 2009 04:42:34 +0000"  >&lt;p&gt;trunk: Committed revision 745721.&lt;br/&gt;
branch 0.2: Committed revision 745723.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12400031" name="HIVE-276.1.patch" size="5389" author="zshao" created="Wed, 11 Feb 2009 19:35:22 +0000"/>
                            <attachment id="12400468" name="HIVE-276.2.patch" size="1120" author="zshao" created="Thu, 19 Feb 2009 02:41:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Feb 2009 00:46:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122092</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-276&quot; title=&quot;input3_limit.q fails under 0.17&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-276&quot;&gt;&lt;strike&gt;HIVE-276&lt;/strike&gt;&lt;/a&gt;. Fix input3_limit.q for hadoop 0.17. (zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-277] Files created by redundant tasks that have been killed are taken into consideration</title>
                <link>https://issues.apache.org/jira/browse/HIVE-277</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hadoop starts redundant tasks (mappers, by default) if it some particular mappers are taking too long to be executed. When one of the redundant tasks finishes, the others are killed. Killed tasks may generate output files (usually empty) and Hive is considering them as part of the job output.&lt;/p&gt;

&lt;p&gt;In my case, I&apos;m profiling one of the mappers in an INSERT OVERWRITE TABLE ... SELECT (map-only) query, and the extra time added by the profiler makes hadoop start a second mapper for the same part of the input. When one of these redundant mappers finishes, the other is killed, and /tmp/hive-xxxx/xxxxxxxxx.10000.insclause-0/ will have the following files:&lt;/p&gt;

&lt;p&gt;_tmp.attempt_XX....XX_XXXX_m_000000_0&lt;br/&gt;
attempt_XX....XX_XXXX_m_000000_0&lt;br/&gt;
attempt_XX....XX_XXXX_m_000000_1&lt;br/&gt;
attempt_XX....XX_XXXX_m_000000_2&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;The first file is empty, but Hive considers it as part of the generated output and tries to load it in the destination table, giving the following error message:&lt;/p&gt;

&lt;p&gt;Loading data to table output_table partition &lt;/p&gt;
{p=p1}
&lt;p&gt;Failed with exception Cannot load text files into a table stored as SequenceFile.&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MoveTask&lt;/p&gt;

&lt;p&gt;I&apos;m not sure if the files generated by killed tasks will always be empty. If not, this bug might render the data inconsistent.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Hive with Hadoop 0.19.0 on a Linux cluster&lt;/p&gt;</environment>
        <key id="12414198">HIVE-277</key>
            <summary>Files created by redundant tasks that have been killed are taken into consideration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rschmidt">Rodrigo Schmidt</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Feb 2009 10:06:38 +0000</created>
                <updated>Sat, 7 Feb 2009 00:23:07 +0000</updated>
                            <resolved>Sat, 7 Feb 2009 00:22:43 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12410151">HIVE-131</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73652</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8wn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122093</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-278] Add HiveHistory to Hive web interface</title>
                <link>https://issues.apache.org/jira/browse/HIVE-278</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In order for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-176&quot; title=&quot;structured log for obtaining query stats/info&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-176&quot;&gt;&lt;del&gt;HIVE-176&lt;/del&gt;&lt;/a&gt; to be utilized by the Hive web interface a few changes need to be made.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;HWISessionItem needs a method with an argument signature
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
public HiveHistoryViewer getHistoryViewer() throws HWIException
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; &lt;/li&gt;
	&lt;li&gt;session_manage.jsp needs an addition
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
 Hive History: &amp;lt;a href=/hwi/session_history.jsp?sessionName=&amp;lt;%=sessionName%&amp;gt;&quot;&amp;gt;&amp;lt;%=sessionName%&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;br&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; &lt;/li&gt;
	&lt;li&gt;session_history.jsp will have to be created to use the ql.history api&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12414235">HIVE-278</key>
            <summary>Add HiveHistory to Hive web interface</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Feb 2009 16:32:41 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:43 +0000</updated>
                            <resolved>Thu, 26 Mar 2009 20:27:24 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Logging</component>
                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12671642" author="appodictic" created="Sun, 8 Feb 2009 16:45:26 +0000"  >&lt;p&gt;My first crack at the history. Must be using the SessionState wrong any hints?&lt;/p&gt;</comment>
                            <comment id="12672056" author="athusoo" created="Mon, 9 Feb 2009 23:44:54 +0000"  >&lt;p&gt;Just follow the example in the test&lt;/p&gt;

&lt;p&gt;TestHiveHistory.java&lt;/p&gt;

&lt;p&gt;testSimpleQuery()&lt;/p&gt;

&lt;p&gt;what problem are you hitting with your code?&lt;/p&gt;</comment>
                            <comment id="12672117" author="appodictic" created="Tue, 10 Feb 2009 02:10:11 +0000"  >&lt;p&gt;I did try to follow the test case. The issue I am having is when running from the cli the history works fine. Running the same query from From HWI I only get the first line out output.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
more /vservers/hadoop1/tmp/hadoop/hive_job_log_hadoop_200902081105_-695057565.txt 
SessionStart SESSION_ID=&quot;hadoop_200902081105&quot; TIME=&quot;1234109159064&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;HWISessionItem.init() seems to emulate the test case.&lt;/p&gt;</comment>
                            <comment id="12672744" author="athusoo" created="Wed, 11 Feb 2009 19:52:51 +0000"  >&lt;p&gt;Looked at this with Suresh. We feel that the Session object is being created in the SessionManager where as the Driver is created in the SessionItem thread. As a result the Driver looks at it thread specific state and does not find a Session there and therefore does not put anything in the log. Suresh pointed this out and can chime in to clarify this.&lt;/p&gt;

&lt;p&gt;But basically we would have to create the session object and the driver in the same thread. Maybe moving the Driver creation to the SessionManager thread will fix this.&lt;/p&gt;</comment>
                            <comment id="12672746" author="athusoo" created="Wed, 11 Feb 2009 19:54:13 +0000"  >&lt;p&gt;update versions as HWI is not in 0.2.&lt;/p&gt;</comment>
                            <comment id="12678539" author="appodictic" created="Wed, 4 Mar 2009 01:46:13 +0000"  >&lt;p&gt;I understand what you have described. As far as I know page requests in the servlet engine can possibly reuse a thread. What the code is doing is initializing a session in the HWISessionManager thread but then starting the query from a thread inside HWISessionItem.&lt;/p&gt;

&lt;p&gt;Currently there is a CLISessionState as a private member of HWISessionItem.&lt;br/&gt;
I think the complication of my design is that the HWISessionItem class should extend SessionState and implement Runnable.&lt;br/&gt;
Hopefully this can be done without modified the HWISessionManager .&lt;/p&gt;</comment>
                            <comment id="12681389" author="appodictic" created="Thu, 12 Mar 2009 16:55:34 +0000"  >&lt;p&gt;All,&lt;/p&gt;

&lt;p&gt;Hive History had trouble working with HWI due to some session state thread issues. &lt;/p&gt;

&lt;p&gt;The issues turned out to be a good thing. Now I think the HWISessionManager and HWISessionItem have a more logical and cleaner design.&lt;/p&gt;

&lt;p&gt;I plan on doing some heavier testing but until then please review.&lt;/p&gt;</comment>
                            <comment id="12683116" author="athusoo" created="Wed, 18 Mar 2009 18:00:31 +0000"  >&lt;p&gt;Sorry for the delay. I am looking at this now and will have some comments over to you today. Thanks.&lt;/p&gt;</comment>
                            <comment id="12683221" author="athusoo" created="Wed, 18 Mar 2009 22:54:35 +0000"  >&lt;p&gt;I had a few questions/clarifications:&lt;/p&gt;

&lt;p&gt;1. Why remove the getJobTrackerURI() and getKillCommand() functions?&lt;br/&gt;
2. As I understand, you now create a thread in the constructor itself and you reuse that thread later when the actual request is being handled. Is that how you get around the problem of the thread specific state?&lt;br/&gt;
3. Also can you explain how the run() function works.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Ashish&lt;/p&gt;</comment>
                            <comment id="12683266" author="appodictic" created="Thu, 19 Mar 2009 01:07:40 +0000"  >&lt;p&gt;1. Why remove the getJobTrackerURI() and getKillCommand() functions?&lt;br/&gt;
These were never reachable from the web interface. I notice that the HiveHistory is written structured but reading it results in string value pairs. The orignal goal of this method was to return a URL to this job on the jobtracker. Now its seems like there are multiple URLs the completed and the current. This method might be misnamed.  Should we keep them in and unimplemented?&lt;/p&gt;

&lt;p&gt;I can explain the answer to 2 and 3 in a use case of the old and the new.&lt;/p&gt;

&lt;p&gt;Use Case 1 OLD FLOW: User starts a session and runs a query.&lt;br/&gt;
1) HWISessionManager.createSession is sent the HWIAuth (username and password) as well as a session name.&lt;br/&gt;
2) HWISessionManager creates an HWISessionItem.&lt;br/&gt;
3) HWISessionManager then needed to call itemInit() for step 4&lt;br/&gt;
4) HWISessionManager then used the si.setProcessorQuery() to set the auth information&lt;/p&gt;

&lt;p&gt;User now sets uses the web interface to set the query up.&lt;br/&gt;
Finally the user sets calls clientStart() the session items status is set to QUERY_SET&lt;br/&gt;
5) The HWISessionManager is a thread that wakes up and iterates a List looking for QUERY_SET&lt;br/&gt;
6) if QUERY_SET call HWISessionItem.startIt()&lt;br/&gt;
7) startIt() created a thread&lt;br/&gt;
8) the thread ran the query to completion then ended. Basically a one shot thread.&lt;/p&gt;

&lt;p&gt;The problem with the Hive History highlighted this one shot thread problem. The nature of servlet threading posed its challenges. HWISessionManager and HWISessionItem posed its own set of challenges.&lt;/p&gt;

&lt;p&gt;The troubleshooting you guys did concluded that some code would have to be moved around. After looking at the code I decided that steps 3 and 4 could be moved to HWISessionItem. Once steps 3 and 4 are moved HWISessionManager, you realize steps 5 6 7 are a two thread interaction and it can be done with one.&lt;/p&gt;

&lt;p&gt;Use Case 2 NEW FLOW: User starts a session and runs a query&lt;br/&gt;
1) HWISessionManager.createSession is sent the HWIAuth (username and password) as well as a session name.&lt;br/&gt;
2) HWIAuth is passed to HWISessionItem HWISessionItem.status=NEW&lt;br/&gt;
3) HWISessionItem enters its run()&lt;/p&gt;

&lt;p&gt;User now sets uses the web interface to set the query up.&lt;br/&gt;
4) HWISessionItem.status changes to QUERY_SET. notify() is called&lt;/p&gt;

&lt;p&gt;5) Thread will now wake up&lt;br/&gt;
6) conf will be null so itemInit() will be called&lt;br/&gt;
7) the status is QUERY_SET this.runQuery() is called status is now QUERY_RUNNING&lt;br/&gt;
8) The query completes the status is now QUERY_COMPLETE&lt;/p&gt;

&lt;p&gt;Moving more code to HWISessionItem cuts down on the back and forth between the two classes.&lt;/p&gt;

&lt;p&gt;So the logic of run()&lt;br/&gt;
if (status = DESTROY)&lt;br/&gt;
fall out of the thread loop.&lt;br/&gt;
if (status = QUERY_SET)&lt;br/&gt;
start the query&lt;br/&gt;
if (conf = null)&lt;br/&gt;
itemInit()&lt;br/&gt;
else wait() --user notify() will eventually wake this thread up&lt;/p&gt;</comment>
                            <comment id="12683704" author="athusoo" created="Fri, 20 Mar 2009 01:24:50 +0000"  >&lt;p&gt;Thanks for the explanation.&lt;/p&gt;

&lt;p&gt;This looks reasonable and cleaner than before. Taking out the dead code is also fine with me. The changes look good except some indentations which seem to be out of whack. The logic looks fine to me.&lt;/p&gt;</comment>
                            <comment id="12684022" author="appodictic" created="Fri, 20 Mar 2009 20:52:24 +0000"  >&lt;p&gt;I corrected the indenting to match the hadoop guidelines. I fixed the indents to two spaces per level. &lt;/p&gt;

&lt;p&gt;I also enhanced the test case. &lt;/p&gt;</comment>
                            <comment id="12689594" author="athusoo" created="Thu, 26 Mar 2009 18:38:02 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Looks good to me.&lt;/p&gt;

&lt;p&gt;Will run the tests and checkin once the tests run clean.&lt;/p&gt;</comment>
                            <comment id="12689634" author="athusoo" created="Thu, 26 Mar 2009 20:27:24 +0000"  >&lt;p&gt;committed. Thanks Edward!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12402293" name="HIVE-278-1.diff" size="14172" author="appodictic" created="Mon, 16 Mar 2009 16:39:58 +0000"/>
                            <attachment id="12402693" name="HIVE-278-2.diff" size="39170" author="appodictic" created="Fri, 20 Mar 2009 20:52:24 +0000"/>
                            <attachment id="12402056" name="HIVE-278.diff" size="8343" author="appodictic" created="Thu, 12 Mar 2009 16:55:34 +0000"/>
                            <attachment id="12402057" name="hive_history.png" size="64277" author="appodictic" created="Thu, 12 Mar 2009 16:55:34 +0000"/>
                            <attachment id="12399774" name="session_logging.diff" size="10275" author="appodictic" created="Sun, 8 Feb 2009 16:45:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Feb 2009 23:44:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73651</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fixed grammatical typos in javadoc. Fixed build.xml. Added capability of web interface to show hive history.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-279] Implement predicate push down for hive queries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-279</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Push predicates that are expressed in outer queries into inner queries where possible so that rows will get filtered out sooner.&lt;br/&gt;
eg.&lt;/p&gt;

&lt;p&gt;select a.&lt;b&gt;, b.&lt;/b&gt; from a join b on (a.uid = b.uid) where a.age = 20 and a.gender = &apos;m&apos;&lt;/p&gt;

&lt;p&gt;current compiler generates the filter predicate in the reducer after the join so all the rows have to be passed from mapper to reducer. by pushing the filter predicate to the mapper, query performance should improve.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414282">HIVE-279</key>
            <summary>Implement predicate push down for hive queries</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Sat, 7 Feb 2009 01:09:37 +0000</created>
                <updated>Tue, 26 Jan 2016 08:42:15 +0000</updated>
                            <resolved>Mon, 6 Apr 2009 14:04:34 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12674879" author="prasadc" created="Thu, 19 Feb 2009 03:46:21 +0000"  >&lt;p&gt;this is a drop for initial review since i suspect there will be lot of comments &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. it should work for all cases except for multi-insert queries.&lt;/p&gt;

&lt;p&gt;i have not enabled this by default but added a new config param called hive.optimize.ppd to enable this feature. &lt;/p&gt;

&lt;p&gt;i have not modified existing testcases but added couple of new testcases. will add more while uploading final patch.&lt;/p&gt;</comment>
                            <comment id="12676460" author="prasadc" created="Wed, 25 Feb 2009 00:28:55 +0000"  >&lt;p&gt;Here is an updated patch that simplifies some of the column reference conversions. Now every operator converts the column references in the predicate expressions so that they will be understood by the parent operator(s)&lt;/p&gt;</comment>
                            <comment id="12677548" author="namit" created="Fri, 27 Feb 2009 21:48:33 +0000"  >&lt;p&gt;Some high level comments:&lt;/p&gt;

&lt;p&gt;1. Add more comments everywhere, specifically in joinPPD (OpProcFactory)&lt;br/&gt;
2. Remove operator specific code in ExprWalkerProcFactory: ColumnExprProcessor: process&lt;br/&gt;
3. Use specific data-structures where-ever possible instead of using more generic data-structures.&lt;/p&gt;

&lt;p&gt;ExprWalkerInfo:&lt;/p&gt;

&lt;p&gt;  private Map&amp;lt;String, List&amp;lt;Node&amp;gt;&amp;gt; pushdownPreds;&lt;br/&gt;
  private Map&amp;lt;Node, ExprInfo&amp;gt; exprInfoMap;&lt;/p&gt;

&lt;p&gt;In both of them, Node means exprNodeDesc, why dont we use that instead ?&lt;/p&gt;

&lt;p&gt;Simlarly, in OpWalkerInfo:&lt;/p&gt;

&lt;p&gt;  private Map&amp;lt;Node, ExprWalkerInfo&amp;gt; opToPrunedPredsMap;&lt;br/&gt;
  private Map&amp;lt;Operator&amp;lt;? extends Serializable&amp;gt;, OpParseContext&amp;gt; opToParseCtxMap;&lt;/p&gt;

&lt;p&gt;use Operator instead of Node in opToPrunedPredsMap&lt;/p&gt;

&lt;p&gt;4. Can you move OpWalker and ExprWalker in different directories ?&lt;br/&gt;
5. Why are filters only pushed on top of TableScan - cant it be done anywhere. - If you want to do so in a follow-up, can you file a JIRA for that ?&lt;br/&gt;
6. No apache header in many files (ppd directory)&lt;/p&gt;


&lt;p&gt;SemanticAnalyzer.java:&lt;/p&gt;

&lt;p&gt;A comment explaining the reason for existence of colInfoMap will help. Give an example: group by &lt;br/&gt;
where the table column order is different from the grouped column order.&lt;/p&gt;

&lt;p&gt;Same for posAliasMap, nameToInputColumnInfoMap for JOIN&lt;/p&gt;

&lt;p&gt;genJoinOperatorChildren:&lt;/p&gt;


&lt;p&gt;      if(aliases == null) &lt;/p&gt;
{
        aliases = new HashSet&amp;lt;String&amp;gt;();
        posToAliasMap.put(pos, aliases);
      }

&lt;p&gt;isn&apos;t the IF redundant ?&lt;/p&gt;

</comment>
                            <comment id="12677727" author="prasadc" created="Sat, 28 Feb 2009 21:29:58 +0000"  >&lt;p&gt;1) will do&lt;br/&gt;
2) can&apos;t remove all op specific code here. gby still needs to check whether this column is part of keys or values and value cols can&apos;t be pushed.&lt;br/&gt;
3) will do when possible without doing too much class casting&lt;br/&gt;
4) once i use specific classes instead of Node, things should be more clear and I don&apos;t see any reason in moving to a separate directory. They are already different classes so not sure the benefit of moving to separate directories&lt;br/&gt;
5) will open a new JIRA once I am done with this&lt;/p&gt;

&lt;p&gt;colInfoMap will go away in the next patch. &lt;/p&gt;</comment>
                            <comment id="12677769" author="prasadc" created="Sun, 1 Mar 2009 04:04:27 +0000"  >&lt;p&gt;incorporated comments from Namit and added a bunch of new testcases.&lt;/p&gt;

&lt;p&gt;due to changes to exprNodeDesc, the outputs of all parse unit tests have changed. I will upload them in couple of days. otherwise there are no pending code changes for this JIRA.&lt;/p&gt;

&lt;p&gt;will open jiras for the following further optimizatons&lt;br/&gt;
1) mult-insert&lt;br/&gt;
2) intermediate filter operators for partial pushdown&lt;br/&gt;
3) remove pushed preds from original operator to eliminate repeat evaluation.&lt;br/&gt;
4) merge successive filter ops into single op&lt;/p&gt;</comment>
                            <comment id="12689997" author="prasadc" created="Fri, 27 Mar 2009 18:35:04 +0000"  >&lt;p&gt;updated the patch to the latest trunk&lt;/p&gt;</comment>
                            <comment id="12690123" author="namit" created="Fri, 27 Mar 2009 21:51:31 +0000"  >&lt;p&gt;Add comments in tests:&lt;/p&gt;

&lt;p&gt;For eg:  ppd_gby.q : the src1.c1 &amp;gt; &apos;val_200&apos; is pushed up, but the other is not etc.&lt;/p&gt;


&lt;p&gt;More tests needed:&lt;/p&gt;


&lt;p&gt;groupby followed by groupby&lt;br/&gt;
groupby followed by join &lt;br/&gt;
3-way join not being merged&lt;br/&gt;
3-way join being merged&lt;br/&gt;
outer join various scenarios&lt;br/&gt;
etc.&lt;/p&gt;


&lt;p&gt;add a test for multi-table insert also, where ppd is not happening.&lt;/p&gt;



&lt;p&gt;rand() being undeterministic - I think that change has already been merged by Raghu&lt;/p&gt;

&lt;p&gt;PredicatePushdown.java: line 45: pusehed -&amp;gt; pushed&lt;/p&gt;

&lt;p&gt;Optimizer.java:&lt;/p&gt;

&lt;p&gt;columnPruner should be done after ppd, since it regenerates the operator tree.&lt;br/&gt;
Can you add a test for that ? I think ppd will not happen - need to confirm via a test&lt;/p&gt;

&lt;p&gt;It might be a debugging nightmare - can you add a LOG trace/info in OpProcFactory &lt;br/&gt;
(minimally in TableScanPPD - ideally everywhere.&lt;/p&gt;

&lt;p&gt;In SemanticAnalyzer: the colPosMap is not maintained in genReduceSinkPlan : &lt;br/&gt;
although the RR does not change, it might be a good idea to add a test for the same.&lt;br/&gt;
ppd after cluster by&lt;/p&gt;




&lt;p&gt;ExprWalkerProcFactory:72&lt;br/&gt;
        if(exp == null) &lt;/p&gt;
{
          ctx.setIsCandidate(colref, false);
          return false;
        }

&lt;p&gt;I am assuming exp can be null only because colExprMap is not maintained in some cases&lt;br/&gt;
(for eg: group by exprs.)&lt;/p&gt;

&lt;p&gt;Is that true ? &lt;br/&gt;
If yes, Can you add a comment for the same ?&lt;br/&gt;
If no, can you explain that ?&lt;/p&gt;


&lt;p&gt;83:        ctx.setIsCandidate(colref, true);&lt;br/&gt;
redundant&lt;/p&gt;


&lt;p&gt;112: cant u break out of the loop if isCandidate is false&lt;/p&gt;


&lt;p&gt;OpProcFactory:&lt;/p&gt;

&lt;p&gt;128: the order of parents of children of tablescan can be lost, change parent at that position&lt;/p&gt;

&lt;p&gt;247:       if(aliases.size() == 1 &amp;amp;&amp;amp; aliases.contains(&quot;&quot;)) &lt;/p&gt;
{
        // Reduce sink of group by operator
        aliases = null; 
      }


&lt;p&gt;Instead of this, do you want to add a parameter to mergeWithChildrenPred() &amp;#8211; allAliasesOk&lt;/p&gt;

&lt;p&gt;null and empty aliases are differentiated in mergeWi..() in a bizarre way, it might be easier&lt;br/&gt;
to understand with a seperate parameter&lt;/p&gt;



&lt;p&gt;Some cleanup:&lt;/p&gt;

&lt;p&gt;JoinOperator: posToAliasMap --&amp;gt; cant it me moved to ParseContext instead ?&lt;br/&gt;
same for colExprMap -&amp;gt; or it can be moved to OpParseContext ?&lt;br/&gt;
They are all parse time structures.&lt;/p&gt;</comment>
                            <comment id="12690161" author="prasadc" created="Sat, 28 Mar 2009 01:23:53 +0000"  >&lt;p&gt;will add the tests &amp;amp; take care of minor comments&lt;/p&gt;

&lt;p&gt;colExprMap &amp;amp; posToAliasMap are just like any other transient fields in the operator and not needed beyond predicate pushdown. so i am going to leave them there.&lt;/p&gt;

&lt;p&gt;TableScan operator can&apos;t have more than one child or rather any children of TableScan can&apos;t have more than one parent. So changing the order doesn&apos;t matter and this is assumed in lot of places. But I will change it so that the order is unchanged.&lt;/p&gt;
</comment>
                            <comment id="12693635" author="prasadc" created="Mon, 30 Mar 2009 02:25:24 +0000"  >&lt;p&gt;updated patch incorporating Namit&apos;s comments&lt;/p&gt;</comment>
                            <comment id="12693975" author="athusoo" created="Tue, 31 Mar 2009 02:26:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Looks good to me.&lt;/p&gt;

&lt;p&gt;A few things to watch out for before you upload the complete patch..&lt;/p&gt;

&lt;p&gt;1. ppd_gby_join.q is missing.&lt;br/&gt;
2. Would be great to have a join test case where the left and right ourter joins are part of the same join operator.&lt;br/&gt;
3. Also would be great to have a join test case where there is a three way join and the join operators do not merge.&lt;br/&gt;
4. Also a test case with UDFs (not the rand one) that gets pushed down would also be awesome.&lt;/p&gt;


&lt;p&gt;Otherwise looks quite cool to me. &lt;/p&gt;</comment>
                            <comment id="12693984" author="prasadc" created="Tue, 31 Mar 2009 04:18:41 +0000"  >&lt;p&gt;1) I missed that file in the patch&lt;br/&gt;
2) Will add it&lt;br/&gt;
3) This test case is already there (ppd_join2.q or ppd_join3.q)&lt;br/&gt;
4) Will add it, but aren&apos;t all operators UDFs? &lt;/p&gt;</comment>
                            <comment id="12695571" author="prasadc" created="Fri, 3 Apr 2009 20:42:28 +0000"  >&lt;p&gt;added following tests&lt;br/&gt;
1) multi insert (which doesn&apos;t push predicates)&lt;br/&gt;
2) query containing left and right outer joins&lt;/p&gt;

&lt;p&gt;This patch is intended to be committed.&lt;/p&gt;</comment>
                            <comment id="12696071" author="athusoo" created="Mon, 6 Apr 2009 13:13:10 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Running tests now. Will commit once the tests pass.&lt;/p&gt;</comment>
                            <comment id="12696096" author="athusoo" created="Mon, 6 Apr 2009 14:04:34 +0000"  >&lt;p&gt;committed. Thanks Prasad!!&lt;/p&gt;</comment>
                            <comment id="15116932" author="lefty@hortonworks.com" created="Tue, 26 Jan 2016 08:42:15 +0000"  >&lt;p&gt;Doc note:  This added &lt;b&gt;hive.optimize.ppd&lt;/b&gt; with a default value of false in 0.4.0.  The default was changed to true in 0.4.0 by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-626&quot; title=&quot;Typecast bug in Join operator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-626&quot;&gt;&lt;del&gt;HIVE-626&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.optimize.ppd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.optimize.ppd &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12430112">HIVE-626</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12517731">HIVE-2337</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12400893" name="hive-279.2.patch" size="80970" author="prasadc" created="Wed, 25 Feb 2009 00:28:55 +0000"/>
                            <attachment id="12401190" name="hive-279.3.patch" size="136287" author="prasadc" created="Sun, 1 Mar 2009 04:04:27 +0000"/>
                            <attachment id="12403832" name="hive-279.4.patch" size="121861" author="prasadc" created="Fri, 27 Mar 2009 18:35:04 +0000"/>
                            <attachment id="12404101" name="hive-279.5.patch" size="213316" author="prasadc" created="Mon, 30 Mar 2009 02:25:24 +0000"/>
                            <attachment id="12404582" name="hive-279.6.patch" size="1218119" author="prasadc" created="Fri, 3 Apr 2009 20:42:27 +0000"/>
                            <attachment id="12400471" name="hive-279.patch" size="78824" author="prasadc" created="Thu, 19 Feb 2009 03:46:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Feb 2009 21:48:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73650</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122095</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-280] reserve keywords such as type, database, view etc for future use</title>
                <link>https://issues.apache.org/jira/browse/HIVE-280</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;without this older code will break when views, databases, types are implemented. suggestions for other keywords?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414283">HIVE-280</key>
            <summary>reserve keywords such as type, database, view etc for future use</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Sat, 7 Feb 2009 01:14:33 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:49 +0000</updated>
                            <resolved>Wed, 29 Jul 2009 00:54:46 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12736393" author="zshao" created="Wed, 29 Jul 2009 00:51:32 +0000"  >&lt;p&gt;+1. Will test then commit.&lt;/p&gt;</comment>
                            <comment id="12736396" author="zshao" created="Wed, 29 Jul 2009 00:54:46 +0000"  >&lt;p&gt;Committed. Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12414828" name="hive.280.1.patch" size="1240" author="namit" created="Wed, 29 Jul 2009 00:47:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Jul 2009 00:51:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73649</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8xb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122096</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-280&quot; title=&quot;reserve keywords such as type, database, view etc for future use&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-280&quot;&gt;&lt;strike&gt;HIVE-280&lt;/strike&gt;&lt;/a&gt;. Reserve keywords such as database etc. (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-281] Remove &quot;iscompressed&quot; parameter in the metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-281</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We should remove &quot;isCompressed&quot; option in the metastore. It&apos;s not used for anything now.&lt;br/&gt;
The result of a query is compressed depending on the mapred.output.compress option instead of table property.&lt;/p&gt;

&lt;p&gt;Hadoop can automatically detect if the data is compressed or not, so we don&apos;t need this property in metastore.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12414285">HIVE-281</key>
            <summary>Remove &quot;iscompressed&quot; parameter in the metastore</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Sat, 7 Feb 2009 02:01:03 +0000</created>
                <updated>Tue, 12 Jan 2010 19:20:23 +0000</updated>
                                            <version>0.3.0</version>
                    <version>0.6.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12671392" author="prasadc" created="Sat, 7 Feb 2009 02:15:47 +0000"  >&lt;p&gt;you mean in the ql.metadata interface or in the metastore db? the former is very easy but the later can be done when we refactor the schema for views etc.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 7 Feb 2009 02:15:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 51 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08oev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-282] IN statement for WHERE clauses</title>
                <link>https://issues.apache.org/jira/browse/HIVE-282</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Would be great to support &quot;IN&quot; and &quot;NOT IN&quot; statements for WHERE clauses, as does standard SQL. Could be a simple query rewrite to what I&apos;m forced to do now, which is encoding the desired IN statement as a disjunction.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414345">HIVE-282</key>
            <summary>IN statement for WHERE clauses</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="itamarfacebook">Itamar Rosenn</reporter>
                        <labels>
                            <label>SQL</label>
                    </labels>
                <created>Mon, 9 Feb 2009 01:29:34 +0000</created>
                <updated>Wed, 5 Dec 2012 09:06:02 +0000</updated>
                            <resolved>Wed, 5 Dec 2012 09:06:02 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>7</votes>
                                    <watches>9</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12466060">HIVE-1386</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8xj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122097</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-283] partition pruning not happening for uppercase table aliases</title>
                <link>https://issues.apache.org/jira/browse/HIVE-283</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;With upper case aliases partition pruning breaks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414418">HIVE-283</key>
            <summary>partition pruning not happening for uppercase table aliases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="athusoo">Ashish Thusoo</assignee>
                                    <reporter username="indigoviolet">Venky Iyer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Feb 2009 19:40:59 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:28 +0000</updated>
                            <resolved>Thu, 12 Feb 2009 19:47:29 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12672126" author="athusoo" created="Tue, 10 Feb 2009 02:33:41 +0000"  >&lt;p&gt;setting information.&lt;/p&gt;</comment>
                            <comment id="12672127" author="athusoo" created="Tue, 10 Feb 2009 02:35:23 +0000"  >&lt;p&gt;One line fix. We were not using equalsIgnoreCase in PartitionPruner.&lt;/p&gt;</comment>
                            <comment id="12672128" author="athusoo" created="Tue, 10 Feb 2009 02:35:42 +0000"  >&lt;p&gt;submitted.&lt;/p&gt;</comment>
                            <comment id="12672134" author="prasadc" created="Tue, 10 Feb 2009 02:46:34 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12673037" author="athusoo" created="Thu, 12 Feb 2009 19:47:29 +0000"  >&lt;p&gt;committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12399880" name="patch-283.txt" size="17532" author="athusoo" created="Tue, 10 Feb 2009 02:35:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Feb 2009 02:33:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73648</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8xr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-284] Column pruning after join+group-by query</title>
                <link>https://issues.apache.org/jira/browse/HIVE-284</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The query is:&lt;/p&gt;

&lt;p&gt;explain INSERT OVERWRITE TABLE t&lt;br/&gt;
    SELECT t1.r, t2.c, sum(t1.v * t2.v)&lt;br/&gt;
    FROM t1 join t2 on t1.c = t2.r&lt;br/&gt;
GROUP BY t1.r, t2.c;&lt;/p&gt;

&lt;p&gt;The FileSinkOperator after the join is serializing all 6 columns from the 2 tables (both have 3 columns: r, c, v) instead of the 4 that is needed later.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414432">HIVE-284</key>
            <summary>Column pruning after join+group-by query</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Feb 2009 23:32:48 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:40 +0000</updated>
                            <resolved>Wed, 22 Jul 2009 23:53:03 +0000</resolved>
                                    <version>0.3.0</version>
                    <version>0.6.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12672052" author="zshao" created="Mon, 9 Feb 2009 23:33:37 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ABSTRACT SYNTAX TREE:
  (TOK_QUERY (TOK_FROM (TOK_JOIN (TOK_TABREF t1) (TOK_TABREF t2) (= (TOK_COLREF t1 c) (TOK_COLREF t2 r)))) (TOK_INSERT (TOK_DESTINATION (TOK_TAB t)) (TOK_SELECT (TOK_SELEXPR (TOK_COLREF t1 r)) (TOK_SELEXPR (TOK_COLREF t2 c)) (TOK_SELEXPR (TOK_FUNCTION sum (* (TOK_COLREF t1 v) (TOK_COLREF t2 v))))) (TOK_GROUPBY (TOK_COLREF t1 r) (TOK_COLREF t2 c))))

STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-2 depends on stages: Stage-1
  Stage-3 depends on stages: Stage-2
  Stage-0 depends on stages: Stage-3

STAGE PLANS:
  Stage: Stage-1
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        t2
            Reduce Output Operator
              key expressions:
                    expr: r
                    type: string
              sort order: +
              Map-reduce partition columns:
                    expr: r
                    type: string
              tag: 1
              value expressions:
                    expr: r
                    type: string
                    expr: c
                    type: string
                    expr: v
                    type: string
        t1
            Reduce Output Operator
              key expressions:
                    expr: c
                    type: string
              sort order: +
              Map-reduce partition columns:
                    expr: c
                    type: string
              tag: 0
              value expressions:
                    expr: r
                    type: string
                    expr: c
                    type: string
                    expr: v
                    type: string
      Reduce Operator Tree:
        Join Operator
          condition map:
               Inner Join 0 to 1
          condition expressions:
            0 {VALUE.0} {VALUE.1} {VALUE.2}
            1 {VALUE.0} {VALUE.1} {VALUE.2}
          File Output Operator
            compressed: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
            table:
                input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                output format: org.apache.hadoop.mapred.SequenceFileOutputFormat
                name: binary_table

  Stage: Stage-2
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        /tmp/hive-zshao/739192425/307037973.10001
          Reduce Output Operator
            key expressions:
                  expr: 0
                  type: string
                  expr: 4
                  type: string
            sort order: ++
            Map-reduce partition columns:
                  expr: rand()
                  type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
            tag: -1
            value expressions:
                  expr: (UDFToDouble(2) * UDFToDouble(5))
                  type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
      Reduce Operator Tree:
        Group By Operator
          aggregations:
                expr: sum(VALUE.0)
          keys:
                expr: KEY.0
                type: string
                expr: KEY.1
                type: string
          mode: partial1
          File Output Operator
            compressed: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
            table:
                input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                output format: org.apache.hadoop.mapred.SequenceFileOutputFormat
                name: binary_table

  Stage: Stage-3
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        /tmp/hive-zshao/739192425/307037973.10002
          Reduce Output Operator
            key expressions:
                  expr: 0
                  type: string
                  expr: 1
                  type: string
            sort order: ++
            Map-reduce partition columns:
                  expr: 0
                  type: string
                  expr: 1
                  type: string
            tag: -1
            value expressions:
                  expr: 2
                  type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
      Reduce Operator Tree:
        Group By Operator
          aggregations:
                expr: sum(VALUE.0)
          keys:
                expr: KEY.0
                type: string
                expr: KEY.1
                type: string
          mode: &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt;
          Select Operator
            expressions:
                  expr: 0
                  type: string
                  expr: 1
                  type: string
                  expr: 2
                  type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
            File Output Operator
              compressed: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
              table:
                  input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                  output format: org.apache.hadoop.mapred.SequenceFileOutputFormat
                  serde: org.apache.hadoop.hive.serde2.MetadataTypedColumnsetSerDe
                  name: t

  Stage: Stage-0
    Move Operator
      tables:
            replace: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
            table:
                input format: org.apache.hadoop.mapred.SequenceFileInputFormat
                output format: org.apache.hadoop.mapred.SequenceFileOutputFormat
                serde: org.apache.hadoop.hive.serde2.MetadataTypedColumnsetSerDe
                name: t

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12672053" author="namit" created="Mon, 9 Feb 2009 23:38:26 +0000"  >&lt;p&gt;Thats right - currently, column pruning is only on top of the base table i.e if a column is not being used at all, it is removed right away&lt;/p&gt;</comment>
                            <comment id="12734391" author="zshao" created="Wed, 22 Jul 2009 23:53:03 +0000"  >&lt;p&gt;Fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-460&quot; title=&quot;Improve ColumnPruner to prune more aggressively and keep column information for input tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-460&quot;&gt;&lt;del&gt;HIVE-460&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12424247">HIVE-460</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Feb 2009 23:38:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
