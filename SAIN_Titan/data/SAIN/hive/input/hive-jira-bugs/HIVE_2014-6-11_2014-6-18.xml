<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:27:50 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2014-6-11+AND+created+%3C%3D+2014-6-18+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="39" total="39"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-7210] NPE with &quot;No plan file found&quot; when running Driver instances on multiple threads</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7210</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Informatica has a multithreaded application running multiple instances of CLIDriver.  When running concurrent queries they sometimes hit the following error:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-05-30 10:24:59 &amp;lt;pool-10-thread-1&amp;gt; INFO: Hadoop_Native_Log :INFO org.apache.hadoop.hive.ql.exec.Utilities: No plan file found: hdfs://ICRHHW21NODE1:8020/tmp/hive-qamercury/hive_2014-05-30_10-24-57_346_890014621821056491-2/-mr-10002/6169987c-3263-4737-b5cb-38daab882afb/map.xml
2014-05-30 10:24:59 &amp;lt;pool-10-thread-1&amp;gt; INFO: Hadoop_Native_Log :INFO org.apache.hadoop.mapreduce.JobSubmitter: Cleaning up the staging area /tmp/hadoop-yarn/staging/qamercury/.staging/job_1401360353644_0078
2014-05-30 10:24:59 &amp;lt;pool-10-thread-1&amp;gt; INFO: Hadoop_Native_Log :ERROR org.apache.hadoop.hive.ql.exec.Task: Job Submission failed with exception &apos;java.lang.NullPointerException(null)&apos;
java.lang.NullPointerException
                at org.apache.hadoop.hive.ql.io.HiveInputFormat.init(HiveInputFormat.java:255)
                at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getSplits(CombineHiveInputFormat.java:271)
                at org.apache.hadoop.mapreduce.JobSubmitter.writeOldSplits(JobSubmitter.java:520)
                at org.apache.hadoop.mapreduce.JobSubmitter.writeSplits(JobSubmitter.java:512)
                at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:394)
                at org.apache.hadoop.mapreduce.Job$10.run(Job.java:1285)
                at org.apache.hadoop.mapreduce.Job$10.run(Job.java:1282)
                at java.security.AccessController.doPrivileged(Native Method)
                at javax.security.auth.Subject.doAs(Subject.java:415)
                at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1557)
                at org.apache.hadoop.mapreduce.Job.submit(Job.java:1282)
                at org.apache.hadoop.mapred.JobClient$1.run(JobClient.java:562)
                at org.apache.hadoop.mapred.JobClient$1.run(JobClient.java:557)
                at java.security.AccessController.doPrivileged(Native Method)
                at javax.security.auth.Subject.doAs(Subject.java:415)
                at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1557)
                at org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:557)
                at org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:548)
                at org.apache.hadoop.hive.ql.exec.mr.ExecDriver.execute(ExecDriver.java:420)
                at org.apache.hadoop.hive.ql.exec.mr.MapRedTask.execute(MapRedTask.java:136)
                at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:153)
                at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:85)
                at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1504)
                at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1271)
                at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1089)
                at org.apache.hadoop.hive.ql.Driver.run(Driver.java:912)
                at org.apache.hadoop.hive.ql.Driver.run(Driver.java:902)
                at com.informatica.platform.dtm.executor.hive.impl.AbstractHiveDriverBaseImpl.run(AbstractHiveDriverBaseImpl.java:86)
                at com.informatica.platform.dtm.executor.hive.MHiveDriver.executeQuery(MHiveDriver.java:126)
                at com.informatica.platform.dtm.executor.hive.task.impl.HiveTaskHandlerImpl.executeQuery(HiveTaskHandlerImpl.java:358)
                at com.informatica.platform.dtm.executor.hive.task.impl.HiveTaskHandlerImpl.executeScript(HiveTaskHandlerImpl.java:247)
                at com.informatica.platform.dtm.executor.hive.task.impl.HiveTaskHandlerImpl.executeMainScript(HiveTaskHandlerImpl.java:194)
                at com.informatica.platform.ldtm.executor.common.workflow.taskhandler.impl.BaseTaskHandlerImpl.run(BaseTaskHandlerImpl.java:126)
                at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
                at java.util.concurrent.FutureTask.run(FutureTask.java:262)
                at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
                at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
                at java.lang.Thread.run(Thread.java:744)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12720483">HIVE-7210</key>
            <summary>NPE with &quot;No plan file found&quot; when running Driver instances on multiple threads</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdere">Jason Dere</assignee>
                                    <reporter username="jdere">Jason Dere</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 00:11:50 +0000</created>
                <updated>Thu, 13 Nov 2014 19:39:36 +0000</updated>
                            <resolved>Wed, 18 Jun 2014 01:30:31 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14027257" author="jdere" created="Wed, 11 Jun 2014 00:26:59 +0000"  >&lt;p&gt;I suspect this problem was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6888&quot; title=&quot;Hive leaks MapWork objects via Utilities::gWorkMap&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6888&quot;&gt;&lt;del&gt;HIVE-6888&lt;/del&gt;&lt;/a&gt; - if one of the Driver instances calls CombineHiveInputFormat.getSplits() (and thus HiveInputFormat.getSplits()), the global Utilities.gWorkMap is cleared out, which not only removes the map/reduce work for that query, but for any other queries that are being executed by other threads. If any of these other threads tries to call getSplits(), gWorkMap will no longer have the map/reduce work cached, and the current logic doesn&apos;t look like it allows the client to be able to get the plan if it&apos;s not already cached.&lt;br/&gt;
Possible fixes might be&lt;br/&gt;
1) getSplits() should only remove the map/reduce work for the current query, rather than remove all cached work.&lt;br/&gt;
2) Utilities.getBaseWork() should be modified to allow the map/reduce work to be loaded if it is not already cached.&lt;/p&gt;</comment>
                            <comment id="14030972" author="jdere" created="Fri, 13 Jun 2014 18:36:35 +0000"  >&lt;p&gt;Patch to prevent getSplits() from removing cached plans from other queries. Talked to Gunther and he said he can eliminate the call to clear the cached plan from getSplits() altogether, so this may not be the final fix.&lt;/p&gt;</comment>
                            <comment id="14031059" author="hagleitn" created="Fri, 13 Jun 2014 19:37:40 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt;. My plan was to do this purely in HiveSplitGen for Tez. But I think Vikram re-introduced a path that doesn&apos;t go through HiveSplitGen (rather - I broke something, he fixed it by adding that path back in). &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt; - can you confirm that?&lt;/p&gt;

&lt;p&gt;If that&apos;s the case the patch you uploaded is probably the best fix.&lt;/p&gt;</comment>
                            <comment id="14031990" author="hiveqa" created="Sun, 15 Jun 2014 18:04:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650358/HIVE-7210.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650358/HIVE-7210.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5536 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.conf.TestHiveConf.testConfProperties
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/474/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/474/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/474/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/474/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-474/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-474/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650358&lt;/p&gt;</comment>
                            <comment id="14032732" author="jdere" created="Mon, 16 Jun 2014 18:27:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt; does this fix look ok?&lt;/p&gt;</comment>
                            <comment id="14032756" author="hagleitn" created="Mon, 16 Jun 2014 18:42:09 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14032944" author="vikram.dixit" created="Mon, 16 Jun 2014 21:03:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; In case of bucket map joins in tez, the getSplits is not going to take the SplitGenerator path as in case of other hive queries. We will still need this path for cleaning up.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; As discussed offline, there is another method already in this class that takes a configuration and cleans up cache and plans on HDFS. However, we should not be clearing up the plans on hdfs until the query has completed. You will need a new method for this partial clean up.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="14032956" author="jdere" created="Mon, 16 Jun 2014 21:15:29 +0000"  >&lt;p&gt;Thanks for the info Vikram. It sounds like the current patch will be fine then, as it adds a new method to clean up the work map entry without removing the plan file from HDFS.&lt;/p&gt;</comment>
                            <comment id="14032969" author="vikram.dixit" created="Mon, 16 Jun 2014 21:27:33 +0000"  >&lt;p&gt;Minor comment. Can you refactor the code used in the method clearWork in the Utilities class to use your method instead.&lt;/p&gt;</comment>
                            <comment id="14033108" author="jdere" created="Mon, 16 Jun 2014 22:21:25 +0000"  >&lt;p&gt;Attaching patch to address comments by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt;.&lt;br/&gt;
Additionally, it appears that Utilities.clearWork() has a bug where it will not do any cache or hdfs cleanup if either the map or reduce plan path is null.  The updated patch includes a fix for this. &lt;/p&gt;</comment>
                            <comment id="14033111" author="vikram.dixit" created="Mon, 16 Jun 2014 22:23:21 +0000"  >&lt;p&gt;+1 LGTM. Good catch there Jason.&lt;/p&gt;</comment>
                            <comment id="14034641" author="hiveqa" created="Wed, 18 Jun 2014 00:19:37 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650673/HIVE-7210.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650673/HIVE-7210.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 5654 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/494/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/494/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/494/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/494/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-494/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-494/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650673&lt;/p&gt;</comment>
                            <comment id="14034687" author="jdere" created="Wed, 18 Jun 2014 01:05:14 +0000"  >&lt;p&gt;I&apos;ve seen several of these tests failing on previous tests. Ran MiniTez dynpart_sort_optimization.q, TestHCatLoader#testReadDataPrimitiveTypes, TestHiveServer2 locally and these pass for me. Will commit this patch shortly.&lt;/p&gt;</comment>
                            <comment id="14034704" author="jdere" created="Wed, 18 Jun 2014 01:30:31 +0000"  >&lt;p&gt;Committed to trunk. Thanks Gunther/Vikram for the review.&lt;/p&gt;</comment>
                            <comment id="14210209" author="thejas" created="Thu, 13 Nov 2014 19:39:36 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12650358" name="HIVE-7210.1.patch" size="1576" author="jdere" created="Fri, 13 Jun 2014 18:36:35 +0000"/>
                            <attachment id="12650673" name="HIVE-7210.2.patch" size="2334" author="jdere" created="Mon, 16 Jun 2014 22:21:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Jun 2014 19:37:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398682</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wmyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7211] Throws exception if the name of conf var starts with &quot;hive.&quot; does not exists in HiveConf</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7211</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Some typos in configurations are very hard to find.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720488">HIVE-7211</key>
            <summary>Throws exception if the name of conf var starts with &quot;hive.&quot; does not exists in HiveConf</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 00:33:32 +0000</created>
                <updated>Fri, 14 Nov 2014 02:32:04 +0000</updated>
                            <resolved>Wed, 25 Jun 2014 04:36:27 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14027954" author="hiveqa" created="Wed, 11 Jun 2014 16:06:01 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12649716/HIVE-7211.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12649716/HIVE-7211.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 75 failed/errored test(s), 5609 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dbtxnmgr_compact1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dbtxnmgr_compact2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dbtxnmgr_compact3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dbtxnmgr_showlocks
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_hook_context_cs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_compression
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_rc
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compression
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join36
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join37
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_nulls
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_nullsafe
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_metadata_export_drop
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_overridden_confs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_quotedid_skew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_toleratecorruptions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoin_union_remove_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoin_union_remove_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt17
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt18
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_aggregator_error_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_publisher_error_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_truncate_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udtf_explode
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_bucketmapjoin1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_nested_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_virtual_column
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_handler_bulk
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats2
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats3
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_generatehfiles_require_family_path
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_load_dyn_part1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_scriptfile1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_dml
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_index_compact_entry_limit
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_index_compact_size_limit
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_aggregator_error_1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_publisher_error_1
org.apache.hive.hcatalog.templeton.tool.TestTempletonUtils.testPropertiesParsing
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/438/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/438/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/438/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/438/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-438/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-438/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 75 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12649716&lt;/p&gt;</comment>
                            <comment id="14028745" author="navis" created="Thu, 12 Jun 2014 02:18:10 +0000"  >&lt;p&gt;Fixed some misconfigured tests&lt;/p&gt;</comment>
                            <comment id="14030024" author="vgumashta" created="Thu, 12 Jun 2014 23:42:25 +0000"  >&lt;p&gt;+1 pending tests.&lt;/p&gt;</comment>
                            <comment id="14030193" author="hiveqa" created="Fri, 13 Jun 2014 02:47:31 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12649986/HIVE-7211.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12649986/HIVE-7211.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 15 failed/errored test(s), 5610 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_compression
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compression
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_nullsafe
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_overridden_confs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udtf_explode
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats2
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_scriptfile1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_dml
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.hcatalog.templeton.tool.TestTempletonUtils.testPropertiesParsing
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/450/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/450/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/450/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/450/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-450/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-450/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 15 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12649986&lt;/p&gt;</comment>
                            <comment id="14031630" author="hiveqa" created="Sat, 14 Jun 2014 17:42:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650209/HIVE-7211.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650209/HIVE-7211.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 5536 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_map_queries
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats2
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats3
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats_empty_partition
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/463/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/463/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/463/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/463/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-463/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-463/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650209&lt;/p&gt;</comment>
                            <comment id="14041744" author="hiveqa" created="Tue, 24 Jun 2014 06:06:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12652112/HIVE-7211.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12652112/HIVE-7211.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5669 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hive.hcatalog.streaming.TestStreaming.testEndpointConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/571/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/571/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/571/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/571/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-571/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-571/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12652112&lt;/p&gt;</comment>
                            <comment id="14042976" author="navis" created="Wed, 25 Jun 2014 02:31:39 +0000"  >&lt;p&gt;TestStreaming#testEndpointConnection seemed not related to this (exception from derby). Will commit this shortly after.&lt;/p&gt;</comment>
                            <comment id="14043030" author="navis" created="Wed, 25 Jun 2014 04:36:27 +0000"  >&lt;p&gt;Committed to trunk. Thanks for the review, Vaibhav Gumashta.&lt;/p&gt;</comment>
                            <comment id="14043127" author="lefty@hortonworks.com" created="Wed, 25 Jun 2014 07:19:49 +0000"  >&lt;p&gt;This adds several configuration parameters to HiveConf.java: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;hive.test.dummystats.aggregator (internal)&lt;/li&gt;
	&lt;li&gt;hive.test.dummystats.publisher (internal)&lt;/li&gt;
	&lt;li&gt;hive.io.rcfile.record.interval&lt;/li&gt;
	&lt;li&gt;hive.io.rcfile.column.number.conf&lt;/li&gt;
	&lt;li&gt;hive.io.rcfile.tolerate.corruptions&lt;/li&gt;
	&lt;li&gt;hive.io.rcfile.record.buffer.size&lt;/li&gt;
	&lt;li&gt;hive.hbase.generatehfiles&lt;/li&gt;
	&lt;li&gt;hive.index.compact.file (internal)&lt;/li&gt;
	&lt;li&gt;hive.index.blockfilter.file (internal)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Except for the internal parameters, they need definitions in hive-default.xml.template.  Then they should be documented in the wiki (&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="14045117" author="daijy" created="Thu, 26 Jun 2014 20:32:29 +0000"  >&lt;p&gt;This patch move several public constant to HiveConf such as RCFile.COLUMN_NUMBER_CONF_STR. This might break downstream projects. Shall we retain it for several release but mark it deprecated?&lt;/p&gt;</comment>
                            <comment id="14045362" author="navis" created="Fri, 27 Jun 2014 00:15:44 +0000"  >&lt;p&gt;Yes, I regret that. Should make a follow-up issue.&lt;/p&gt;</comment>
                            <comment id="14210634" author="thejas" created="Thu, 13 Nov 2014 19:41:49 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12545441">HIVE-2848</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12724030">HIVE-7301</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12649716" name="HIVE-7211.1.patch.txt" size="4167" author="navis" created="Wed, 11 Jun 2014 00:54:38 +0000"/>
                            <attachment id="12649986" name="HIVE-7211.2.patch.txt" size="49695" author="navis" created="Thu, 12 Jun 2014 02:18:10 +0000"/>
                            <attachment id="12650209" name="HIVE-7211.3.patch.txt" size="87729" author="navis" created="Fri, 13 Jun 2014 01:40:16 +0000"/>
                            <attachment id="12652112" name="HIVE-7211.4.patch.txt" size="91440" author="navis" created="Tue, 24 Jun 2014 01:30:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Jun 2014 16:06:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wmzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7212] Use resource re-localization instead of restarting sessions in Tez</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7212</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;scriptfile1.q is failing on Tez because of a recent breakage in localization. On top of that we&apos;re currently restarting sessions if the resources have changed. (add file/add jar/etc). Instead of doing this we should just have tez relocalize these new resources. This way no session/AM restart is required.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720510">HIVE-7212</key>
            <summary>Use resource re-localization instead of restarting sessions in Tez</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 04:06:19 +0000</created>
                <updated>Mon, 16 Jun 2014 18:30:39 +0000</updated>
                            <resolved>Mon, 16 Jun 2014 18:30:39 +0000</resolved>
                                    <version>0.14.0</version>
                                                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14027392" author="hagleitn" created="Wed, 11 Jun 2014 04:11:09 +0000"  >&lt;p&gt;Review board: &lt;a href=&quot;https://reviews.apache.org/r/22450/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/22450/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14028208" author="hiveqa" created="Wed, 11 Jun 2014 18:50:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12649738/HIVE-7212.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12649738/HIVE-7212.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 9 failed/errored test(s), 5609 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_split_elimination
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_load_dyn_part1
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.hcatalog.pig.TestOrcHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.hcatalog.templeton.tool.TestTempletonUtils.testPropertiesParsing
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/439/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/439/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/439/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/439/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-439/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-439/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 9 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12649738&lt;/p&gt;</comment>
                            <comment id="14028224" author="sershe" created="Wed, 11 Jun 2014 18:57:33 +0000"  >&lt;p&gt;This seems to be a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6824&quot; title=&quot;Hive HBase query fails on Tez due to missing jars - part 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6824&quot;&gt;&lt;del&gt;HIVE-6824&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14030100" author="hagleitn" created="Fri, 13 Jun 2014 00:38:33 +0000"  >&lt;p&gt;.2 let&apos;s the one user re-use localized files across applications.&lt;/p&gt;</comment>
                            <comment id="14030105" author="hagleitn" created="Fri, 13 Jun 2014 00:40:10 +0000"  >&lt;p&gt;Yes, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; - you&apos;re right. I&apos;d like to go with this one (the other needs some work/doesn&apos;t work anymore.) If you feel there&apos;s stuff missing from that one - can you point out? I&apos;ll port it over.&lt;/p&gt;</comment>
                            <comment id="14030110" author="hagleitn" created="Fri, 13 Jun 2014 00:47:04 +0000"  >&lt;p&gt;.3 addresses review comments.&lt;/p&gt;</comment>
                            <comment id="14031572" author="hiveqa" created="Sat, 14 Jun 2014 13:52:27 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650200/HIVE-7212.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650200/HIVE-7212.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 5611 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_dml
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/462/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/462/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/462/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/462/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-462/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-462/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650200&lt;/p&gt;</comment>
                            <comment id="14031804" author="hagleitn" created="Sun, 15 Jun 2014 07:57:00 +0000"  >&lt;p&gt;No new failures.&lt;/p&gt;</comment>
                            <comment id="14031998" author="vikram.dixit" created="Sun, 15 Jun 2014 18:56:18 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="14032740" author="hagleitn" created="Mon, 16 Jun 2014 18:30:39 +0000"  >&lt;p&gt;Committed to trunk. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12706342">HIVE-6824</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12649738" name="HIVE-7212.1.patch" size="10561" author="hagleitn" created="Wed, 11 Jun 2014 04:07:45 +0000"/>
                            <attachment id="12650197" name="HIVE-7212.2.patch" size="11136" author="hagleitn" created="Fri, 13 Jun 2014 00:38:33 +0000"/>
                            <attachment id="12650200" name="HIVE-7212.3.patch" size="11201" author="hagleitn" created="Fri, 13 Jun 2014 00:47:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Jun 2014 18:50:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wn4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7213] COUNT(*) returns out-dated count value after TRUNCATE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7213</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Running a query to count number of rows in a table through&lt;br/&gt;
&lt;tt&gt;SELECT COUNT( * ) FROM t&lt;/tt&gt;&lt;br/&gt;
always returns the last number of rows added through the following statement:&lt;br/&gt;
&lt;tt&gt;INSERT INTO TABLE t SELECT r FROM t2&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;However, running&lt;br/&gt;
&lt;tt&gt;SELECT * FROM t&lt;/tt&gt;&lt;br/&gt;
returns the expected results i.e. the old and newly added rows.&lt;/p&gt;

&lt;p&gt;Also running &lt;br/&gt;
&lt;tt&gt;TRUNCATE TABLE t;&lt;/tt&gt;&lt;br/&gt;
returns the original count of rows in the table, however running &lt;br/&gt;
&lt;tt&gt;SELECT * FROM t;&lt;/tt&gt;&lt;br/&gt;
returns nothing as expected&lt;/p&gt;</description>
                <environment>&lt;p&gt;HDP 2.1&lt;br/&gt;
Windows Server 2012 64-bit&lt;/p&gt;</environment>
        <key id="12720575">HIVE-7213</key>
            <summary>COUNT(*) returns out-dated count value after TRUNCATE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="totto90">Moustafa Aboul Atta</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 12:48:53 +0000</created>
                <updated>Thu, 13 Nov 2014 19:40:19 +0000</updated>
                            <resolved>Mon, 14 Jul 2014 17:02:13 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Query Processor</component>
                    <component>Statistics</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14027748" author="dzanter" created="Wed, 11 Jun 2014 13:29:28 +0000"  >&lt;p&gt;Any known work-around for this issue?&lt;/p&gt;</comment>
                            <comment id="14036167" author="ashutoshc" created="Wed, 18 Jun 2014 18:56:42 +0000"  >&lt;p&gt;Can you run explain for SELECT COUNT( * ) FROM t query  and post it here?&lt;/p&gt;</comment>
                            <comment id="14053881" author="ashutoshc" created="Mon, 7 Jul 2014 17:20:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=totto90&quot; class=&quot;user-hover&quot; rel=&quot;totto90&quot;&gt;Moustafa Aboul Atta&lt;/a&gt; Did you get a chance to run explain per my previous comment?&lt;/p&gt;</comment>
                            <comment id="14056013" author="totto90" created="Wed, 9 Jul 2014 08:58:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; Sorry just saw your earlier comment, I ran the query on a simple table with 2 records, here&apos;s the result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; truncate table test;
OK
Time taken: 0.371 seconds
hive&amp;gt; select * from test;
OK
Time taken: 0.187 seconds
hive&amp;gt; select count(*) from test;
OK
1
Time taken: 0.192 seconds, Fetched: 1 row(s)
hive&amp;gt; explain select count(*) from test;
OK
STAGE DEPENDENCIES:
  Stage-0 is a root stage

STAGE PLANS:
  Stage: Stage-0
    Fetch Operator
      limit: 1

Time taken: 0.086 seconds, Fetched: 8 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14056443" author="ashutoshc" created="Wed, 9 Jul 2014 16:51:52 +0000"  >&lt;p&gt;As a workaround, do :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.compute.query.using.stats=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14057430" author="totto90" created="Thu, 10 Jul 2014 12:49:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; thanks&lt;/p&gt;</comment>
                            <comment id="14059415" author="ashutoshc" created="Fri, 11 Jul 2014 21:57:26 +0000"  >&lt;p&gt;Attached patch fixes truncate table scenario. Insert into is on different code path, for which I will open separate jira and submit patch their.&lt;/p&gt;</comment>
                            <comment id="14059418" author="ashutoshc" created="Fri, 11 Jul 2014 21:58:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/23421/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/23421/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14059614" author="hiveqa" created="Sat, 12 Jul 2014 03:05:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12655313/HIVE-7213.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12655313/HIVE-7213.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5703 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/748/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/748/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/748/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/748/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-748/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-748/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12655313&lt;/p&gt;</comment>
                            <comment id="14060276" author="navis" created="Mon, 14 Jul 2014 02:01:01 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14060854" author="ashutoshc" created="Mon, 14 Jul 2014 17:02:13 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="14210339" author="thejas" created="Thu, 13 Nov 2014 19:40:19 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12727200">HIVE-7403</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12655313" name="HIVE-7213.patch" size="10014" author="ashutoshc" created="Fri, 11 Jul 2014 21:57:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Jun 2014 13:29:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wnin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398896</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7214] Support predicate pushdown for complex data types in ORCFile</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7214</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently ORCFile does not support predicate pushdown for complex datatypes like map, array and struct while Parquet does. Came across this during discussion of &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3760&quot; title=&quot;Predicate pushdown for columnar file formats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3760&quot;&gt;&lt;del&gt;PIG-3760&lt;/del&gt;&lt;/a&gt;. Our users have a lot of map and struct (tuple in pig) columns and most of the filter conditions are on them. Would be great to have support added for them in ORC&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720584">HIVE-7214</key>
            <summary>Support predicate pushdown for complex data types in ORCFile</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ashish-kumar-sharma">Ashish Sharma</assignee>
                                    <reporter username="rohini">Rohini Palaniswamy</reporter>
                        <labels>
                            <label>ORC</label>
                    </labels>
                <created>Wed, 11 Jun 2014 13:48:05 +0000</created>
                <updated>Mon, 7 May 2018 11:38:36 +0000</updated>
                                                                            <component>File Formats</component>
                    <component>ORC</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>14</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12731226">PIG-4094</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12694352">PIG-3760</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12933061">HIVE-12898</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wnkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-7215] Support predicate pushdown for null checks in ORCFile</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7215</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Came across this missing feature during discussion of &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3760&quot; title=&quot;Predicate pushdown for columnar file formats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3760&quot;&gt;&lt;del&gt;PIG-3760&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720585">HIVE-7215</key>
            <summary>Support predicate pushdown for null checks in ORCFile</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rohini">Rohini Palaniswamy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 13:50:50 +0000</created>
                <updated>Wed, 7 Jan 2015 00:07:44 +0000</updated>
                            <resolved>Thu, 12 Jun 2014 22:40:55 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14028750" author="prasanth_j" created="Thu, 12 Jun 2014 02:23:02 +0000"  >&lt;p&gt;ORC handles nulls in predicate pushdown. If an entire column is null in a row group (10K rows), the statistics in row index entries is null. So for queries like &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from table where col is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; if col is completely null in a row group, ORC predicate pushdown evaluates to true (based on null statistics) and reads the row group.&lt;/p&gt;</comment>
                            <comment id="14029439" author="rohini" created="Thu, 12 Jun 2014 17:19:38 +0000"  >&lt;p&gt;What happens if there are only few nulls for the column in the row group ? That will be the case most of the time.&lt;/p&gt;</comment>
                            <comment id="14029533" author="prasanth_j" created="Thu, 12 Jun 2014 18:10:55 +0000"  >&lt;p&gt;It reads the entire row group. &lt;/p&gt;

&lt;p&gt;However, ORC reads the row group even in the opposite case, the case where there are no nulls in column within the row group. This can be improved by having boolean flag/#nulls within row group index.&lt;/p&gt;</comment>
                            <comment id="14029592" author="rohini" created="Thu, 12 Jun 2014 18:45:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;However, ORC reads the row group even in the opposite case, the case where there are no nulls in column within the row group. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;   That is what my concern was. This amounts to no predicate pushdown as it is going to read all row groups irrespective of whether there are nulls. So will leave this jira open to address that. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;if col is completely null in a row group, ORC predicate pushdown evaluates to true (based on null statistics) and reads the row group.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;   If there is a non null check, will the row group which has all nulls be ignored?&lt;/p&gt;</comment>
                            <comment id="14029632" author="prasanth_j" created="Thu, 12 Jun 2014 19:06:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;If there is a non null check, will the row group which has all nulls be ignored?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes. Thats correct.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4639&quot; title=&quot;Add has null flag to ORC internal index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4639&quot;&gt;&lt;del&gt;HIVE-4639&lt;/del&gt;&lt;/a&gt; addresses the improvement that I mentioned (having boolean flag within index).&lt;/p&gt;</comment>
                            <comment id="14029944" author="rohini" created="Thu, 12 Jun 2014 22:37:46 +0000"  >&lt;p&gt;I think then this jira can be closed as duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4639&quot; title=&quot;Add has null flag to ORC internal index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4639&quot;&gt;&lt;del&gt;HIVE-4639&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14029947" author="prasanth_j" created="Thu, 12 Jun 2014 22:40:56 +0000"  >&lt;p&gt;Duplicate &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4639&quot; title=&quot;Add has null flag to ORC internal index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4639&quot;&gt;&lt;del&gt;HIVE-4639&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12650357">HIVE-4639</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Jun 2014 02:23:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wnkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7216] Hive Query Failure on Hive 0.10.0</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7216</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I have created a table and a view in hive as below:&lt;/p&gt;

&lt;p&gt;ADD JAR json-serde-1.1.6-SNAPSHOT-jar-with-dependencies.jar;&lt;br/&gt;
CREATE EXTERNAL TABLE IF NOT EXISTS ulf_raw (&lt;br/&gt;
   transactionid STRING,&lt;br/&gt;
   externaltraceid STRING,&lt;br/&gt;
   externalreferenceid STRING,&lt;br/&gt;
   usecaseid STRING,&lt;br/&gt;
   timestampin STRING,&lt;br/&gt;
   timestampout STRING,&lt;br/&gt;
   component STRING,&lt;br/&gt;
   destination STRING,&lt;br/&gt;
   callerid STRING,&lt;br/&gt;
   service STRING,&lt;br/&gt;
   logpoint STRING,&lt;br/&gt;
   requestin STRING,&lt;br/&gt;
   status STRING,&lt;br/&gt;
   errorcode STRING,&lt;br/&gt;
   error STRING,&lt;br/&gt;
   servername STRING,&lt;br/&gt;
   inboundrequestip STRING,&lt;br/&gt;
   inboundrequestport STRING,&lt;br/&gt;
   outboundurl STRING,&lt;br/&gt;
   messagesize STRING,&lt;br/&gt;
   jmsdestination STRING,&lt;br/&gt;
   msisdn STRING,&lt;br/&gt;
   countrycode STRING,&lt;br/&gt;
   acr STRING,&lt;br/&gt;
   imei STRING,&lt;br/&gt;
   imsi STRING,&lt;br/&gt;
   iccid STRING,&lt;br/&gt;
   email STRING,&lt;br/&gt;
   payload STRING&lt;br/&gt;
)&lt;br/&gt;
ROW FORMAT SERDE &apos;org.openx.data.jsonserde.JsonSerDe&apos;&lt;br/&gt;
WITH SERDEPROPERTIES ( &quot;mapping.transactionid&quot; = &quot;transaction-id&quot;,&quot;mapping.timestampin&quot; = &quot;timestamp-in&quot; )&lt;br/&gt;
LOCATION &apos;/home/bhaumik/input&apos;;&lt;br/&gt;
ADD JAR json-serde-1.1.6-SNAPSHOT-jar-with-dependencies.jar;&lt;br/&gt;
create view IF NOT EXISTS parse_soap_payload&lt;br/&gt;
as&lt;br/&gt;
select&lt;br/&gt;
transactionid,&lt;br/&gt;
component,&lt;br/&gt;
logpoint,&lt;br/&gt;
g.service as service,&lt;br/&gt;
case g.service&lt;br/&gt;
when &apos;createHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;createHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;opcoNodeId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
when &apos;retrieveHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;retrieveHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;opcoNodeId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
when &apos;updateHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;updateHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;opcoNodeId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
end as opcoNodeId&lt;br/&gt;
,&lt;br/&gt;
case g.service&lt;br/&gt;
when &apos;createHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;createHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;opcoId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
when &apos;retrieveHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;retrieveHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;opcoId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
when &apos;updateHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;updateHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;opcoId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
end as opcoId&lt;br/&gt;
,&lt;br/&gt;
case g.service&lt;br/&gt;
when &apos;createHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;createHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;partnerParentNodeId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
when &apos;retrieveHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;retrieveHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;partnerParentNodeId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
when &apos;updateHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;updateHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;partnerParentNodeId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
end as partnerParentNodeId&lt;br/&gt;
,&lt;br/&gt;
case g.service&lt;br/&gt;
when &apos;createHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;createHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;partnerId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
when &apos;retrieveHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;retrieveHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;partnerId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
when &apos;updateHierarchyNode&apos; then&lt;br/&gt;
xpath_string(payload,&apos;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Envelope\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;Body\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;updateHierarchyNode\&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;local-name()=\&amp;#39;partnerId\&amp;#39;&amp;#93;&lt;/span&gt;/text()&apos;)&lt;br/&gt;
end as partnerId&lt;br/&gt;
from ulf_raw g;&lt;/p&gt;

&lt;p&gt;When I am running hive query: select * from parse_soap_payload;&lt;br/&gt;
it is failing with attached error. &lt;/p&gt;

&lt;p&gt;I only have json-serde-1.1.6-SNAPSHOT-jar-with-dependencies.jar file in Hadoop LIB and HIVE LIB folder. Please advise if there are other JAR files required to be added here. If yes, please advise from where I can download them?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Suddhasatwa&lt;/p&gt;</description>
                <environment>&lt;p&gt;hadoop 0.20.0, hive 0.10.0, Ubuntu 13.04 LTS&lt;/p&gt;</environment>
        <key id="12720591">HIVE-7216</key>
            <summary>Hive Query Failure on Hive 0.10.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="suddhasatwa">Suddhasatwa Bhaumik</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 14:12:14 +0000</created>
                <updated>Fri, 13 Jun 2014 16:12:58 +0000</updated>
                                            <version>0.10.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14027800" author="suddhasatwa" created="Wed, 11 Jun 2014 14:13:03 +0000"  >&lt;p&gt;Error details are in the attached HTML files. &lt;/p&gt;</comment>
                            <comment id="14030793" author="ashutoshc" created="Fri, 13 Jun 2014 16:12:58 +0000"  >&lt;p&gt;&lt;tt&gt;org.apache.hive.hcatalog.data.JsonSerDe&lt;/tt&gt; is a json serde shipped with Hive and is supported by project. Please switch using to that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12649800" name="HadoopTaskDetails.html" size="21874" author="suddhasatwa" created="Wed, 11 Jun 2014 14:13:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Jun 2014 16:12:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398790</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wnm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>hive, xpath_string, NoClassDefFoundError, Jackson, JAR</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-7217] Inner join query fails in the reducer when join key file is spilled to tmp by RowContainer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7217</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT T1.userid, T2.video_title FROM videoview T1 JOIN video T2 ON T1.video_id = T2.video_id WHERE T1.hourid=389567

hive&amp;gt; show create table video;
OK
CREATE  TABLE `video`(
  `video_id` &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
  `video_title` string,
)
ROW FORMAT DELIMITED
  FIELDS TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;\t&apos;&lt;/span&gt;
  LINES TERMINATED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;\n&apos;&lt;/span&gt;
STORED AS INPUTFORMAT
  &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.mapred.TextInputFormat&apos;&lt;/span&gt;
OUTPUTFORMAT
  &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&apos;&lt;/span&gt;
LOCATION
  &lt;span class=&quot;code-quote&quot;&gt;&apos;hdfs:&lt;span class=&quot;code-comment&quot;&gt;//elsharpynn001.prod.hulu.com:8020/hive/warehouse/video&apos;&lt;/span&gt;
&lt;/span&gt;TBLPROPERTIES (
  &lt;span class=&quot;code-quote&quot;&gt;&apos;numPartitions&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;0&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;numFiles&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;last_modified_by&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;hadoop&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;last_modified_time&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;1336446601&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;COLUMN_STATS_ACCURATE&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;transient_lastDdlTime&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;1402514051&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;numRows&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;0&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;totalSize&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;586773666&apos;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&apos;rawDataSize&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;0&apos;&lt;/span&gt;)
Time taken: 0.249 seconds, Fetched: 98 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The reducer fails with the following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2014-06-11 12:32:39,051 INFO org.apache.hadoop.hive.ql.exec.CommonJoinOperator: table 0 has 16000 rows &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; join key [663184]
2014-06-11 12:32:39,061 INFO org.apache.hadoop.hive.ql.exec.persistence.RowContainer: RowContainer created temp file /mnt/volume2/mapred/local/taskTracker/muthu.nivas/jobcache/job_201405301214_170634/attempt_201405301214_170634_r_000000_0/work/tmp/hive-rowcontainer413460656723947992/RowContainer1053550561043043830.tmp
2014-06-11 12:32:39,237 INFO org.apache.hadoop.mapred.FileInputFormat: Total input paths to process : 2
2014-06-11 12:32:39,299 WARN org.apache.hadoop.mapred.Child: Error running child
java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: java.io.IOException: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//elsharpynn001.prod.hulu.com:8020/hive/warehouse/video/video_20140611071209 not a SequenceFile
&lt;/span&gt;	at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.reduce(ExecReducer.java:283)
	at org.apache.hadoop.mapred.ReduceTask.runOldReducer(ReduceTask.java:506)
	at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:447)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:268)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1408)
	at org.apache.hadoop.mapred.Child.main(Child.java:262)
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: java.io.IOException: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//elsharpynn001.prod.hulu.com:8020/hive/warehouse/video/video_20140611071209 not a SequenceFile
&lt;/span&gt;	at org.apache.hadoop.hive.ql.exec.persistence.RowContainer.first(RowContainer.java:237)
	at org.apache.hadoop.hive.ql.exec.persistence.RowContainer.first(RowContainer.java:74)
	at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.genUniqueJoinObject(CommonJoinOperator.java:644)
	at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.checkAndGenObject(CommonJoinOperator.java:758)
	at org.apache.hadoop.hive.ql.exec.JoinOperator.endGroup(JoinOperator.java:256)
	at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.reduce(ExecReducer.java:216)
	... 7 more
Caused by: java.io.IOException: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//elsharpynn001.prod.hulu.com:8020/hive/warehouse/video/video_20140611071209 not a SequenceFile
&lt;/span&gt;	at org.apache.hadoop.io.SequenceFile$Reader.init(SequenceFile.java:1805)
	at org.apache.hadoop.io.SequenceFile$Reader.initialize(SequenceFile.java:1765)
	at org.apache.hadoop.io.SequenceFile$Reader.&amp;lt;init&amp;gt;(SequenceFile.java:1714)
	at org.apache.hadoop.io.SequenceFile$Reader.&amp;lt;init&amp;gt;(SequenceFile.java:1728)
	at org.apache.hadoop.mapred.SequenceFileRecordReader.&amp;lt;init&amp;gt;(SequenceFileRecordReader.java:43)
	at org.apache.hadoop.mapred.SequenceFileInputFormat.getRecordReader(SequenceFileInputFormat.java:59)
	at org.apache.hadoop.hive.ql.exec.persistence.RowContainer.first(RowContainer.java:226)
	... 12 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12720669">HIVE-7217</key>
            <summary>Inner join query fails in the reducer when join key file is spilled to tmp by RowContainer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="vg1971">Virginia Giacomini</assignee>
                                    <reporter username="muthunivas">Muthu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 19:37:40 +0000</created>
                <updated>Wed, 23 Sep 2015 15:58:51 +0000</updated>
                                            <version>0.13.0</version>
                    <version>0.13.1</version>
                                                        <due></due>
                            <votes>11</votes>
                                    <watches>16</watches>
                                                                <comments>
                            <comment id="14030218" author="navis" created="Fri, 13 Jun 2014 03:16:53 +0000"  >&lt;p&gt;If you build hive from source with -Phadoop-1, it would not be happened. I think this is fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; but it&apos;s failed to get in to trunk. Will make separate patch for this.&lt;/p&gt;</comment>
                            <comment id="14030226" author="muthunivas" created="Fri, 13 Jun 2014 03:24:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Could you share more details about the issue.  Appreciate if you could create a separate patch for 0.13, I could help in testing the patch.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Muthu&lt;/p&gt;</comment>
                            <comment id="14030228" author="navis" created="Fri, 13 Jun 2014 03:30:12 +0000"  >&lt;p&gt;Ah, sorry. I&apos;ve confused with other issue. Seemed this need a new investigation.&lt;/p&gt;</comment>
                            <comment id="14241835" author="slava.markeyev" created="Wed, 10 Dec 2014 22:07:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=muthunivas&quot; class=&quot;user-hover&quot; rel=&quot;muthunivas&quot;&gt;Muthu&lt;/a&gt; I&apos;m curious if you are using CDH5 with mr1. Here is what cloudera did to fix the problem &lt;a href=&quot;https://github.com/cloudera/hive/commit/7af9de2e45ba503a6b1b962e720e13c3a413f1ee&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/cloudera/hive/commit/7af9de2e45ba503a6b1b962e720e13c3a413f1ee&lt;/a&gt; Though this is somewhat still an issue because their isMR2 check relies on if a class is loaded &lt;a href=&quot;https://github.com/cloudera/hive/blob/cdh5-0.13.1_5.2.1/shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java#L102&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/cloudera/hive/blob/cdh5-0.13.1_5.2.1/shims/0.23/src/main/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java#L102&lt;/a&gt; which isn&apos;t quite correct because by default the yarn jars are loaded but not used.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12649861" name="reducer.log" size="37782" author="muthunivas" created="Wed, 11 Jun 2014 19:38:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Jun 2014 03:16:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wo3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398990</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-7218] java.io.IOException: error=7, Argument list too long</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7218</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2372&quot; title=&quot;java.io.IOException: error=7, Argument list too long&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2372&quot;&gt;&lt;del&gt;HIVE-2372&lt;/del&gt;&lt;/a&gt; was originally created in response to this error message, however that patch was merely a work-around to handle the condition where mapred.input.dir is too long.&lt;/p&gt;

&lt;p&gt;Any other environment variable that is &quot;too long&quot; for the host OS will still cause a job failure.&lt;/p&gt;

&lt;p&gt;In my case:&lt;br/&gt;
While creating a table with a large number of columns, a large hive variable is temporarily created using SET, the variable contains the columns and column descriptions.&lt;br/&gt;
A CREATE TABLE statement then successfully uses that large variable.&lt;br/&gt;
After successfully creating the table the hive script attempts to load data into the table using a TRANSFORM script, triggering the error:&lt;br/&gt;
java.io.IOException: error=7, Argument list too long&lt;br/&gt;
Since the variable is no longer used after the table is created, the hive script was updated to SET the large variable to empty.&lt;br/&gt;
After setting the variable empty the second statement in the hive script ran fine.&lt;/p&gt;

&lt;p&gt;Hive should more gracefully notify the user as to the cause of the problem and offer a configurable approach for automatically handling the condition.&lt;/p&gt;

&lt;p&gt;In this case, originally identifying the cause of the issue was somewhat confusing since the portion of the hive script that referenced the long variable ran successfully, and the portion of the script that failed didn&apos;t even use/reference the variable that was causing that portion to fail.&lt;/p&gt;

&lt;p&gt;Since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2372&quot; title=&quot;java.io.IOException: error=7, Argument list too long&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2372&quot;&gt;&lt;del&gt;HIVE-2372&lt;/del&gt;&lt;/a&gt; has already been &quot;Fixed&quot; this JIRA re-opens the issue since the original issue was worked around, not resolved...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720672">HIVE-7218</key>
            <summary>java.io.IOException: error=7, Argument list too long</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="rharris">Ryan Harris</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 19:50:25 +0000</created>
                <updated>Fri, 20 Jun 2014 07:13:23 +0000</updated>
                                            <version>0.7.0</version>
                    <version>0.7.1</version>
                    <version>0.8.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                    <version>0.12.0</version>
                    <version>0.13.0</version>
                    <version>0.13.1</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14036758" author="navis" created="Thu, 19 Jun 2014 00:53:13 +0000"  >&lt;p&gt;If we cannot change the limit of total size of environment variables, we can walk-around this problem by specifying only needed ones for the script (I don&apos;t think &apos;mapred.input.dir&apos; could be useful information in the script). For example,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt;set X=someX;
hive&amp;gt;set Y=someY;
hive&amp;gt;SELECT TRANSFORM(&apos;echo ${X:-x} ${Y:-y} ${Z:-z}&apos;) USING &apos;sh&apos; AS x,y,z WITH (&apos;Z&apos;=&apos;someZ&apos;, &apos;Y&apos;)
ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos; &apos; FROM src tablesample (1 rows);
x	someY	someZ
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In the above query, by specifying WITH (&apos;Z&apos;=&apos;someZ&apos;, &apos;Y&apos;), script accepts only two environment variables &apos;Z=someZ&apos; (which is specified explicitly) and &apos;Y=someY&apos; (which is from HiveConf).&lt;/p&gt;</comment>
                            <comment id="14038551" author="hiveqa" created="Fri, 20 Jun 2014 07:13:23 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651328/HIVE-7218.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651328/HIVE-7218.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5669 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.exec.TestOperators.testScriptOperatorEnvVarsProcessing
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/525/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/525/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/525/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/525/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-525/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-525/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651328&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12651328" name="HIVE-7218.1.patch.txt" size="13165" author="navis" created="Thu, 19 Jun 2014 00:42:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Jun 2014 00:53:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wo47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-7219] Improve performance of serialization utils in ORC</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7219</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ORC uses serialization utils heavily for reading and writing data. The bitpacking and unpacking code in writeInts() and readInts() can be unrolled for better performance. Also double reader/writer performance can be improved by bulk reading/writing from/to byte array.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720699">HIVE-7219</key>
            <summary>Improve performance of serialization utils in ORC</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 21:15:45 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:00 +0000</updated>
                            <resolved>Tue, 17 Jun 2014 18:00:47 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14028442" author="prasanth_j" created="Wed, 11 Jun 2014 21:43:53 +0000"  >&lt;p&gt;Ran some benchmarks to see reader improvements. Used JMH to run benchmarks with 10 warmup iterations and 10 benchmark iterations. Only the dataset that made use of bit packing were chosen for this benchmark.&lt;br/&gt;
Number of rows for datasets are&lt;br/&gt;
inventory_col2 and inventory_col4: 11745000&lt;br/&gt;
twitter_census_api_id: 24556361&lt;br/&gt;
twitter_search_id: 9396618&lt;br/&gt;
github_payload_size: 3216293&lt;br/&gt;
aol_querylog_epoch: 3558411&lt;br/&gt;
random.nexLong(): 10000000&lt;/p&gt;</comment>
                            <comment id="14031293" author="prasanth_j" created="Fri, 13 Jun 2014 22:47:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Thanks for the review. Incorporated code review changes.&lt;/p&gt;</comment>
                            <comment id="14031323" author="prasanth_j" created="Fri, 13 Jun 2014 23:20:36 +0000"  >&lt;p&gt;Removed BEST_* prefix from encoding strategies as per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt;&apos;s comment.&lt;/p&gt;</comment>
                            <comment id="14031324" author="gopalv" created="Fri, 13 Jun 2014 23:21:19 +0000"  >&lt;p&gt;Posted comments about config options, but that is from a documentation &amp;amp; user configuration angle.&lt;/p&gt;

&lt;p&gt;Doing a 1Tb insert with this patch in a few minutes, will measure perf at scale.&lt;/p&gt;

&lt;p&gt;+1 (NB)&lt;/p&gt;</comment>
                            <comment id="14031393" author="gopalv" created="Sat, 14 Jun 2014 01:49:17 +0000"  >&lt;p&gt;1243 seconds to insert 1Tb, which is not bad at all.&lt;/p&gt;

&lt;p&gt;The only ORC method which shows up on my profiler is the RedBlackTree::add().&lt;/p&gt;</comment>
                            <comment id="14031396" author="prasanth_j" created="Sat, 14 Jun 2014 01:54:51 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; for running this experiment! Yes, we should fix RBTree improvements in a different jira.&lt;/p&gt;</comment>
                            <comment id="14031417" author="gopalv" created="Sat, 14 Jun 2014 02:37:51 +0000"  >&lt;p&gt;Ran both mode inserts (1243 vs 1269s) with Snappy (which is only 2% faster, but the columns had 1:1:2 ratio of int, double, string). &lt;/p&gt;

&lt;p&gt;String columns will speed up with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7144&quot; title=&quot;GC pressure during ORC StringDictionary writes &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7144&quot;&gt;&lt;del&gt;HIVE-7144&lt;/del&gt;&lt;/a&gt;, hopefully.&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Table &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Size &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Speed &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Difference &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;customer &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.5 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10.6&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; + 0.98 % &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;lineitem &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 204.7 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 220.7 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; + 7.81% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;orders &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 48.7 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 50.8 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; + 4.31% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;part &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4.3 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4.6&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; + 6.97 % &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;partsupp &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 39.1 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 39.5 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; + 1.02%&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;supplier &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 0.68 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 0.69 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; + 1.47% &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="14031418" author="gopalv" created="Sat, 14 Jun 2014 02:38:27 +0000"  >&lt;p&gt;inserted table was sizes in Gb in both modes.&lt;/p&gt;</comment>
                            <comment id="14031423" author="prasanth_j" created="Sat, 14 Jun 2014 02:46:33 +0000"  >&lt;p&gt;For integers, this patch will improve only very specific cases. If the encoding uses SHORT_REPEAT, DELTA (esp. fixed delta), PATCHED_BLOB then this patch will NOT have any effect, as these encodings does not use bit packing. The bit packed encodings like DIRECT, DELTA (variable delta) will see improvements.&lt;/p&gt;</comment>
                            <comment id="14031758" author="hagleitn" created="Sun, 15 Jun 2014 02:26:12 +0000"  >&lt;p&gt;+1 assuming tests will pass.&lt;/p&gt;</comment>
                            <comment id="14032062" author="hiveqa" created="Mon, 16 Jun 2014 00:34:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650413/HIVE-7219.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650413/HIVE-7219.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 20 failed/errored test(s), 5578 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_filter
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_groupby
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_part
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_annotate_stats_union
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_analyze
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_predicate_pushdown
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_split_elimination
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_aggregate
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.io.orc.TestFileDump.testDictionaryThreshold
org.apache.hadoop.hive.ql.io.orc.TestFileDump.testDump
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testStoreFuncAllSimpleTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/476/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/476/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/476/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/476/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-476/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-476/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 20 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650413&lt;/p&gt;</comment>
                            <comment id="14032090" author="hagleitn" created="Mon, 16 Jun 2014 03:19:36 +0000"  >&lt;p&gt;These failures look related to the patch (at least some of them). Looked at orc_analyze: Need to update golden files with new sizes. orc_split_elimination: Seems the order of records has changed in some queries, not sure how this patch causes it, but should take a look.&lt;/p&gt;</comment>
                            <comment id="14033030" author="prasanth_j" created="Mon, 16 Jun 2014 21:36:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; Thanks for taking a look at the failures. The file size changes are because of the default encoding (&quot;SPEED&quot;). So we will see slight increase in the file size. Regenerated the appropriate golden files. For the double precision issue, it was because the double reader was not masking the first byte that is read. Fixed them in this patch.&lt;/p&gt;</comment>
                            <comment id="14034100" author="hiveqa" created="Tue, 17 Jun 2014 17:46:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650656/HIVE-7219.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650656/HIVE-7219.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5653 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/491/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/491/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/491/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/491/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-491/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-491/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650656&lt;/p&gt;</comment>
                            <comment id="14034134" author="prasanth_j" created="Tue, 17 Jun 2014 18:00:47 +0000"  >&lt;p&gt;Committed to trunk. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; for the code review.&lt;/p&gt;</comment>
                            <comment id="14035067" author="lefty@hortonworks.com" created="Wed, 18 Jun 2014 08:04:44 +0000"  >&lt;p&gt;This adds &lt;b&gt;hive.exec.orc.encoding.strategy&lt;/b&gt; to HiveConf.java and hive-default.xml.template, so it needs to be added to Configuration Properties in the wiki for 0.14.0.&lt;/p&gt;

&lt;p&gt;I&apos;ve added a comment to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6586&quot; title=&quot;Update parameters in HiveConf.java after commit HIVE-6037&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6586&quot;&gt;&lt;del&gt;HIVE-6586&lt;/del&gt;&lt;/a&gt; so the parameter&apos;s definition will be included in the new version of HiveConf.java after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; gets committed.&lt;/p&gt;

&lt;p&gt;Question:  Should the following information from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt; also be documented, and if so does it belong in the ORC wikidoc or with the parameter description in Configuration Properties?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;For integers, this patch will improve only very specific cases. If the encoding uses SHORT_REPEAT, DELTA (esp. fixed delta), PATCHED_BLOB then this patch will NOT have any effect, as these encodings does not use bit packing. The bit packed encodings like DIRECT, DELTA (variable delta) will see improvements.&lt;/p&gt;&lt;/blockquote&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+ORC&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;ORC Files &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &lt;/a&gt;
	&lt;ul&gt;
		&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.exec.orc.zerocopy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;put hive.exec.orc.encoding.strategy after hive.exec.orc.zerocopy &lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14037771" author="prasanth_j" created="Thu, 19 Jun 2014 19:56:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;Question: Should the following information from Prasanth J also be documented, and if so does it belong in the ORC wikidoc or with the parameter description in Configuration Properties?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;For integers, this patch will improve only very specific cases. If the encoding uses SHORT_REPEAT, DELTA (esp. fixed delta), PATCHED_BLOB then this patch will NOT have any effect, as these encodings does not use bit packing. The bit packed encodings like DIRECT, DELTA (variable delta) will see improvements.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think these are too specific for it to be put into user documentation.&lt;/p&gt;</comment>
                            <comment id="14091875" author="lefty@hortonworks.com" created="Sat, 9 Aug 2014 19:39:41 +0000"  >&lt;p&gt;Configuration parameter &lt;b&gt;hive.exec.orc.encoding.strategy&lt;/b&gt; is documented in the wiki here for release 0.14.0:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.exec.orc.encoding.strategy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.exec.orc.encoding.strategy &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14210871" author="thejas" created="Thu, 13 Nov 2014 19:43:00 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12649884" name="HIVE-7219.1.patch" size="81197" author="prasanth_j" created="Wed, 11 Jun 2014 21:20:11 +0000"/>
                            <attachment id="12650405" name="HIVE-7219.2.patch" size="102840" author="prasanth_j" created="Fri, 13 Jun 2014 22:47:18 +0000"/>
                            <attachment id="12650413" name="HIVE-7219.3.patch" size="102780" author="prasanth_j" created="Fri, 13 Jun 2014 23:20:36 +0000"/>
                            <attachment id="12650656" name="HIVE-7219.4.patch" size="165373" author="prasanth_j" created="Mon, 16 Jun 2014 21:36:39 +0000"/>
                            <attachment id="12649902" name="orc-read-perf-jmh-benchmark.png" size="412755" author="prasanth_j" created="Wed, 11 Jun 2014 21:43:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Jun 2014 23:21:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398898</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wo9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399020</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7220] Empty dir in external table causes issue (root_dir_external_table.q failure)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7220</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;While looking at root_dir_external_table.q failure, which is doing a query on an external table located at root (&apos;/&apos;), I noticed that latest Hadoop2 CombineFileInputFormat returns split representing empty directories (like &apos;/Users&apos;), which leads to failure in Hive&apos;s CombineFileRecordReader as it tries to open the directory for processing.&lt;/p&gt;

&lt;p&gt;Tried with an external table in a normal HDFS directory, and it also returns the same error.  Looks like a real bug.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720738">HIVE-7220</key>
            <summary>Empty dir in external table causes issue (root_dir_external_table.q failure)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="szehon">Szehon Ho</assignee>
                                    <reporter username="szehon">Szehon Ho</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 23:04:58 +0000</created>
                <updated>Thu, 13 Nov 2014 19:40:29 +0000</updated>
                            <resolved>Wed, 9 Jul 2014 06:49:29 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14028756" author="szehon" created="Thu, 12 Jun 2014 02:34:42 +0000"  >&lt;p&gt;Adding some code to compensate for the directory being returned.  Let&apos;s see if it works&lt;/p&gt;</comment>
                            <comment id="14029962" author="ashutoshc" created="Thu, 12 Jun 2014 22:53:16 +0000"  >&lt;p&gt;duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6401&quot; title=&quot;root_dir_external_table.q fails with -Phadoop-2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6401&quot;&gt;HIVE-6401&lt;/a&gt;. There is underlying MR bug here. &lt;/p&gt;</comment>
                            <comment id="14030178" author="navis" created="Fri, 13 Jun 2014 02:34:56 +0000"  >&lt;p&gt;Can we just remove this test? Who makes external table on root directory?&lt;/p&gt;</comment>
                            <comment id="14030248" author="szehon" created="Fri, 13 Jun 2014 04:14:55 +0000"  >&lt;p&gt;Yea, but the test did catch a real issue (a folder in any external table directory causes error). I guess its best if Hadoop reverts back to old behavior (in 2.5?).  But this patch should fix it on the Hive side, as another option, either way.&lt;/p&gt;</comment>
                            <comment id="14030270" author="hiveqa" created="Fri, 13 Jun 2014 05:27:16 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12649988/HIVE-7220.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12649988/HIVE-7220.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 82 failed/errored test(s), 5610 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_partition_coltype
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_archive_excludeHadoop20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_smb_mapjoin_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table_udfs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_combine1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_combine2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_escape1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby1_limit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby2_limit
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby6_map_skew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby7_noskew_multi_single_reducer
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby8_map
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby8_map_skew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby8_noskew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_1_23
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_skew_1_23
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input32
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input42
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert2_overwrite_partitions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_into6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_fs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_test_outer
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multiMapJoin2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nonmr_fetch
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_vectorization_ppd
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_date
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_vc
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppr_pushdown3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rand_partitionpruner2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_createas1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_merge1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_merge2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_merge3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rcfile_merge4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample_islocalmode_hook
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_unquote_not
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_select_unquote_or
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_18
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union18
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union28
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union33
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union6
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_scriptfile1
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketizedhiveinputformat
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_file_with_header_footer
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_bucketed_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_map_operators
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_partialscan_autogether
org.apache.hive.hcatalog.templeton.tool.TestTempletonUtils.testPropertiesParsing
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/452/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/452/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/452/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/452/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-452/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-452/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 82 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12649988&lt;/p&gt;</comment>
                            <comment id="14030328" author="szehon" created="Fri, 13 Jun 2014 06:55:57 +0000"  >&lt;p&gt;OK, never mind about this patch.&lt;/p&gt;</comment>
                            <comment id="14030352" author="szehon" created="Fri, 13 Jun 2014 07:45:57 +0000"  >&lt;p&gt;Cancelling for now, unless there&apos;s interest in having a workaround in Hive.  It will not be necessary to pursue if &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-5756&quot; title=&quot;CombineFileInputFormat.getSplits() including directories in its results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-5756&quot;&gt;&lt;del&gt;MAPREDUCE-5756&lt;/del&gt;&lt;/a&gt; is fixed.&lt;/p&gt;</comment>
                            <comment id="14037843" author="hagleitn" created="Thu, 19 Jun 2014 20:40:50 +0000"  >&lt;p&gt;I think we should move forward with this it will give us a working build, while we work out &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-5756&quot; title=&quot;CombineFileInputFormat.getSplits() including directories in its results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-5756&quot;&gt;&lt;del&gt;MAPREDUCE-5756&lt;/del&gt;&lt;/a&gt;. We have &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6401&quot; title=&quot;root_dir_external_table.q fails with -Phadoop-2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6401&quot;&gt;HIVE-6401&lt;/a&gt; open to handle the situation when we get a fix.&lt;/p&gt;

&lt;p&gt;I&apos;ve reviewed the patch, it looks good except for the isValidSplit call. Why is that needed? You prune in the constructor so presumably you never get splits containing folders. If this is just a sanity check it should probably throw an assertion if there&apos;s still paths in there. If not - it seems incorrect to throw out splits that don&apos;t match (especially since you might throw out combined valid locations with it).&lt;/p&gt;</comment>
                            <comment id="14038296" author="szehon" created="Fri, 20 Jun 2014 02:46:08 +0000"  >&lt;p&gt;Thanks for looking at the patch.  I added that as prune left some inputSplit without any valid path, and that was causing an ArrayIndexOutOfBounds further down the line as some code tried to call getPath(0) on the split.  IsValidSplit() only returns false when all the splits are directories, so I think it should be correct unless I&apos;m missing something.&lt;/p&gt;

&lt;p&gt;It fixed that case, but led to bunch of other test failures, so I need some time to investigate those and rework the patch.&lt;/p&gt;</comment>
                            <comment id="14039337" author="hagleitn" created="Fri, 20 Jun 2014 20:51:22 +0000"  >&lt;p&gt;You&apos;re right, the IsValidSplit only drops &quot;directory only&quot; splits. My bad.&lt;/p&gt;</comment>
                            <comment id="14039719" author="szehon" created="Sat, 21 Jun 2014 06:38:56 +0000"  >&lt;p&gt;I took another look at this, it was missing some things.  The startOffset and length arrays on the split correspond to the invalid paths, and must be pruned as well if path is pruned.  Giving it another try.&lt;/p&gt;</comment>
                            <comment id="14040070" author="hiveqa" created="Sun, 22 Jun 2014 08:46:28 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651812/HIVE-7220.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651812/HIVE-7220.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5668 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/549/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/549/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/549/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/549/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-549/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-549/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651812&lt;/p&gt;</comment>
                            <comment id="14040260" author="szehon" created="Sun, 22 Jun 2014 21:37:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt;, This last one seems to works, should we move forward with it?  Other failures are known failures.&lt;/p&gt;</comment>
                            <comment id="14044123" author="szehon" created="Wed, 25 Jun 2014 22:16:19 +0000"  >&lt;p&gt;ping, do people still want to proceed with this, to fix the last test failure?&lt;/p&gt;</comment>
                            <comment id="14044344" author="navis" created="Thu, 26 Jun 2014 04:44:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; Seemed need to be rebased on trunk. Could you do that once more?&lt;/p&gt;</comment>
                            <comment id="14044349" author="hagleitn" created="Thu, 26 Jun 2014 04:57:45 +0000"  >&lt;p&gt;Rebased. Only change was to move the new q file to the now separate file used to configure mini mr files.&lt;/p&gt;</comment>
                            <comment id="14044350" author="hagleitn" created="Thu, 26 Jun 2014 04:59:20 +0000"  >&lt;p&gt;Oops. Missed to include the new files. .4 has those.&lt;/p&gt;</comment>
                            <comment id="14044384" author="szehon" created="Thu, 26 Jun 2014 06:27:21 +0000"  >&lt;p&gt;Forgot to rebase.  Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; for that.&lt;/p&gt;</comment>
                            <comment id="14044524" author="hiveqa" created="Thu, 26 Jun 2014 09:51:35 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12652552/HIVE-7220.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12652552/HIVE-7220.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5669 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/597/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/597/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/597/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/597/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-597/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-597/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12652552&lt;/p&gt;</comment>
                            <comment id="14045200" author="szehon" created="Thu, 26 Jun 2014 21:19:34 +0000"  >&lt;p&gt;It&apos;s weird that dynpart_sort_optimization failed twice here, but I couldn&apos;t reproduce it running locally.  Also looked through the test logs and didnt see any related stacktraces.&lt;/p&gt;</comment>
                            <comment id="14045423" author="navis" created="Fri, 27 Jun 2014 01:39:11 +0000"  >&lt;p&gt;Looks good. As the last one, isValidSplit() and getDirIndices() could be merged into single method? It could reduce FS access/call.&lt;/p&gt;</comment>
                            <comment id="14045424" author="gopalv" created="Fri, 27 Jun 2014 01:41:40 +0000"  >&lt;p&gt;Is the de-dup of locations only to work around the FileInputSplit in-mem + disk location changes? (i.e 3 in-mem locations and 3 on-disk locations having duplication?).&lt;/p&gt;</comment>
                            <comment id="14045440" author="szehon" created="Fri, 27 Jun 2014 02:11:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; ok ill look at that&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; i dont think there is any change to dedup, which was called even before this patch.  i just moved the method.&lt;/p&gt;</comment>
                            <comment id="14045531" author="szehon" created="Fri, 27 Jun 2014 05:10:28 +0000"  >&lt;p&gt;Addressed comments&lt;/p&gt;</comment>
                            <comment id="14045533" author="szehon" created="Fri, 27 Jun 2014 05:10:46 +0000"  >&lt;p&gt;attaching rb for easier viewing&lt;/p&gt;</comment>
                            <comment id="14045609" author="hiveqa" created="Fri, 27 Jun 2014 06:29:30 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12652750/HIVE-7220.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12652750/HIVE-7220.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5670 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/613/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/613/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/613/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/613/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-613/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-613/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12652750&lt;/p&gt;</comment>
                            <comment id="14045614" author="szehon" created="Fri, 27 Jun 2014 06:42:39 +0000"  >&lt;p&gt;dynpart_sort_optimization seems to be failing consistently, I&apos;ll try to take a look.&lt;/p&gt;</comment>
                            <comment id="14052235" author="szehon" created="Fri, 4 Jul 2014 07:40:23 +0000"  >&lt;p&gt;I couldn&apos;t reproduce the dynpart_sort_optimization failure with this patch.  As the logs are gone, attaching again to see if I can get some idea.&lt;/p&gt;</comment>
                            <comment id="14052481" author="hiveqa" created="Fri, 4 Jul 2014 14:40:29 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12654060/HIVE-7220.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12654060/HIVE-7220.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5691 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.cli.TestPermsGrp.testCustomPerms
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/681/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/681/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/681/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/681/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-681/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-681/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12654060&lt;/p&gt;</comment>
                            <comment id="14054531" author="navis" created="Tue, 8 Jul 2014 05:26:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14055160" author="szehon" created="Tue, 8 Jul 2014 17:21:13 +0000"  >&lt;p&gt;Thanks.  Yea I forgot to comment, the failures do not look related, and dynpart_sort_optimization passed so it was a random issue.&lt;/p&gt;</comment>
                            <comment id="14055920" author="navis" created="Wed, 9 Jul 2014 06:49:29 +0000"  >&lt;p&gt;Committed to trunk. Thanks Szehon!&lt;/p&gt;</comment>
                            <comment id="14210366" author="thejas" created="Thu, 13 Nov 2014 19:40:29 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12694378">HIVE-6401</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12651812" name="HIVE-7220.2.patch" size="11221" author="szehon" created="Sat, 21 Jun 2014 06:38:56 +0000"/>
                            <attachment id="12652551" name="HIVE-7220.3.patch" size="8323" author="hagleitn" created="Thu, 26 Jun 2014 04:57:45 +0000"/>
                            <attachment id="12652552" name="HIVE-7220.4.patch" size="11024" author="hagleitn" created="Thu, 26 Jun 2014 04:59:20 +0000"/>
                            <attachment id="12654060" name="HIVE-7220.5.patch" size="10626" author="szehon" created="Fri, 4 Jul 2014 07:40:23 +0000"/>
                            <attachment id="12652750" name="HIVE-7220.5.patch" size="10626" author="szehon" created="Fri, 27 Jun 2014 05:10:28 +0000"/>
                            <attachment id="12649988" name="HIVE-7220.patch" size="9659" author="szehon" created="Thu, 12 Jun 2014 02:34:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Jun 2014 22:53:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398937</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wohr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7221] Beeline buffers the entire output file in memory before writing to stdout</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7221</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It seems beeline does not write to stdout till it reads the entire output relation. This can cause OOM and should be fixed. Beeline should only buffer a small number of row batches.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720766">HIVE-7221</key>
            <summary>Beeline buffers the entire output file in memory before writing to stdout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jun 2014 01:21:19 +0000</created>
                <updated>Fri, 13 Jun 2014 00:05:51 +0000</updated>
                            <resolved>Thu, 12 Jun 2014 16:55:52 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Clients</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14029401" author="vgumashta" created="Thu, 12 Jun 2014 16:55:45 +0000"  >&lt;p&gt;Actually there is an option (which wasn&apos;t documented earlier) which lets you print output incrementally: beeline --incremental=true. I think we should have that true by default. Will create another jira for that.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12720910">HIVE-7224</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1womn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399082</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7222] Support timestamp column statistics in ORC and extend PPD for timestamp</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7222</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add column statistics for timestamp columns in ORC. Also extend predicate pushdown to support timestamp column evaluation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720779">HIVE-7222</key>
            <summary>Support timestamp column statistics in ORC and extend PPD for timestamp</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                            <label>orcfile</label>
                    </labels>
                <created>Thu, 12 Jun 2014 02:27:35 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:32 +0000</updated>
                            <resolved>Thu, 28 Aug 2014 00:27:50 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14028754" author="prasanth_j" created="Thu, 12 Jun 2014 02:28:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yhuai&quot; class=&quot;user-hover&quot; rel=&quot;yhuai&quot;&gt;Yin Huai&lt;/a&gt; I remember you working on adding timestamp column statistics to ORC. Is there a JIRA for it or do you have a patch for it?&lt;/p&gt;</comment>
                            <comment id="14028769" author="yhuai" created="Thu, 12 Jun 2014 02:56:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt; Unfortunately, I am not working on that. &lt;/p&gt;</comment>
                            <comment id="14104593" author="prasanth_j" created="Wed, 20 Aug 2014 21:10:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt; Thanks for the patch. Can you put up the patch in review board? I can take a look at it.&lt;/p&gt;</comment>
                            <comment id="14104724" author="daijy" created="Wed, 20 Aug 2014 22:37:09 +0000"  >&lt;p&gt;RB link: &lt;a href=&quot;https://reviews.apache.org/r/24913/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/24913/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14104749" author="prasanth_j" created="Wed, 20 Aug 2014 22:59:21 +0000"  >&lt;p&gt;LGTM, +1&lt;/p&gt;</comment>
                            <comment id="14105790" author="prasanth_j" created="Thu, 21 Aug 2014 18:58:14 +0000"  >&lt;p&gt;Renamed the patch for Hive QA to pickup.&lt;/p&gt;</comment>
                            <comment id="14106613" author="hiveqa" created="Fri, 22 Aug 2014 08:03:35 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12663459/HIVE-7222.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12663459/HIVE-7222.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 6116 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_analyze
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_join
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_analyze
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_part_project
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_timestamp_funcs
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/452/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/452/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/452/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/452/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-452/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-452/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12663459&lt;/p&gt;</comment>
                            <comment id="14108257" author="daijy" created="Sun, 24 Aug 2014 04:21:46 +0000"  >&lt;p&gt;Fix unit test failures. &lt;/p&gt;</comment>
                            <comment id="14108279" author="hiveqa" created="Sun, 24 Aug 2014 06:04:28 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12663899/HIVE-7222.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12663899/HIVE-7222.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 6119 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_analyze
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_part_project
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_timestamp_funcs
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/478/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/478/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/478/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/478/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-478/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-478/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12663899&lt;/p&gt;</comment>
                            <comment id="14111506" author="hiveqa" created="Tue, 26 Aug 2014 22:53:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12664480/HIVE-7222.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12664480/HIVE-7222.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 6116 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge_incompat1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_merge_incompat2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/512/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/512/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/512/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/512/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-512/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-512/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12664480&lt;/p&gt;</comment>
                            <comment id="14112837" author="hiveqa" created="Wed, 27 Aug 2014 21:02:29 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12664692/HIVE-7222.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12664692/HIVE-7222.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/532/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/532/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/532/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/532/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-532/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-532/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-532/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaHiveCharObjectInspector.java&apos;
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit-hadoop2/target itests/hive-minikdc/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target accumulo-handler/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target ql/src/test/results/clientpositive/partition_char.q.out ql/src/test/queries/clientpositive/partition_char.q
+ svn update
U    metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java
U    metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java
U    common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
U    service/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb
U    service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TFetchResultsReq.java
U    service/src/gen/thrift/gen-py/TCLIService/ttypes.py
U    service/src/gen/thrift/gen-cpp/TCLIService_types.cpp
U    service/src/gen/thrift/gen-cpp/TCLIService_types.h
A    service/src/test/org/apache/hive/service/cli/operation
A    service/src/test/org/apache/hive/service/cli/operation/TestOperationLoggingAPI.java
A    service/src/java/org/apache/hive/service/server/ThreadFactoryWithGarbageCleanup.java
A    service/src/java/org/apache/hive/service/server/ThreadWithGarbageCleanup.java
A    service/src/java/org/apache/hive/service/cli/FetchType.java
U    service/src/java/org/apache/hive/service/cli/EmbeddedCLIServiceClient.java
U    service/src/java/org/apache/hive/service/cli/session/HiveSessionBase.java
U    service/src/java/org/apache/hive/service/cli/session/SessionManager.java
U    service/src/java/org/apache/hive/service/cli/session/HiveSession.java
U    service/src/java/org/apache/hive/service/cli/session/HiveSessionImpl.java
U    service/src/java/org/apache/hive/service/cli/operation/GetCatalogsOperation.java
U    service/src/java/org/apache/hive/service/cli/operation/GetTypeInfoOperation.java
A    service/src/java/org/apache/hive/service/cli/operation/LogDivertAppender.java
U    service/src/java/org/apache/hive/service/cli/operation/SQLOperation.java
U    service/src/java/org/apache/hive/service/cli/operation/GetFunctionsOperation.java
U    service/src/java/org/apache/hive/service/cli/operation/GetTablesOperation.java
U    service/src/java/org/apache/hive/service/cli/operation/OperationManager.java
U    service/src/java/org/apache/hive/service/cli/operation/GetTableTypesOperation.java
U    service/src/java/org/apache/hive/service/cli/operation/Operation.java
U    service/src/java/org/apache/hive/service/cli/operation/MetadataOperation.java
U    service/src/java/org/apache/hive/service/cli/operation/GetColumnsOperation.java
A    service/src/java/org/apache/hive/service/cli/operation/OperationLog.java
U    service/src/java/org/apache/hive/service/cli/operation/GetSchemasOperation.java
U    service/src/java/org/apache/hive/service/cli/operation/HiveCommandOperation.java
U    service/src/java/org/apache/hive/service/cli/ICLIService.java
U    service/src/java/org/apache/hive/service/cli/thrift/ThriftCLIServiceClient.java
U    service/src/java/org/apache/hive/service/cli/thrift/ThriftCLIService.java
U    service/src/java/org/apache/hive/service/cli/thrift/ThriftHttpCLIService.java
U    service/src/java/org/apache/hive/service/cli/thrift/ThriftBinaryCLIService.java
U    service/src/java/org/apache/hive/service/cli/CLIServiceClient.java
U    service/src/java/org/apache/hive/service/cli/CLIService.java
U    service/if/TCLIService.thrift

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1620981.

Updated to revision 1620981.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12664692&lt;/p&gt;</comment>
                            <comment id="14113104" author="hiveqa" created="Thu, 28 Aug 2014 00:18:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12664766/HIVE-7222.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12664766/HIVE-7222.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 6125 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
org.apache.hive.hcatalog.pig.TestOrcHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/534/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/534/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/534/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/534/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-534/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-534/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12664766&lt;/p&gt;</comment>
                            <comment id="14113113" author="prasanth_j" created="Thu, 28 Aug 2014 00:27:50 +0000"  >&lt;p&gt;Committed to trunk. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt; for the patch!&lt;/p&gt;</comment>
                            <comment id="14210990" author="thejas" created="Thu, 13 Nov 2014 19:43:32 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12663216" name="HIVE-7222-1.patch" size="83354" author="daijy" created="Wed, 20 Aug 2014 21:04:45 +0000"/>
                            <attachment id="12663459" name="HIVE-7222.1.patch" size="83354" author="prasanth_j" created="Thu, 21 Aug 2014 18:58:14 +0000"/>
                            <attachment id="12663899" name="HIVE-7222.2.patch" size="87040" author="daijy" created="Sun, 24 Aug 2014 04:21:46 +0000"/>
                            <attachment id="12664480" name="HIVE-7222.3.patch" size="101458" author="daijy" created="Tue, 26 Aug 2014 20:54:52 +0000"/>
                            <attachment id="12664692" name="HIVE-7222.4.patch" size="103918" author="daijy" created="Wed, 27 Aug 2014 18:00:00 +0000"/>
                            <attachment id="12664766" name="HIVE-7222.5.patch" size="93198" author="daijy" created="Wed, 27 Aug 2014 22:43:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Jun 2014 02:56:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wopj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399095</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7223] Support generic PartitionSpecs in Metastore partition-functions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7223</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, the functions in the HiveMetaStore API that handle multiple partitions do so using List&amp;lt;Partition&amp;gt;. E.g. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;Partition&amp;gt; listPartitions(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; db_name, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; tbl_name, &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; max_parts);
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;Partition&amp;gt; listPartitionsByFilter(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; db_name, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; tbl_name, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; filter, &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; max_parts);
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; add_partitions(List&amp;lt;Partition&amp;gt; new_parts);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Partition objects are fairly heavyweight, since each Partition carries its own copy of a StorageDescriptor, partition-values, etc. Tables with tens of thousands of partitions take so long to have their partitions listed that the client times out with default hive.metastore.client.socket.timeout. There is the additional expense of serializing and deserializing metadata for large sets of partitions, w.r.t time and heap-space. Reducing the thrift traffic should help in this regard.&lt;/p&gt;

&lt;p&gt;In a date-partitioned table, all sub-partitions for a particular date are &lt;b&gt;likely&lt;/b&gt; (but not expected) to have:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;The same base directory (e.g. &lt;tt&gt;/feeds/search/20140601/&lt;/tt&gt;)&lt;/li&gt;
	&lt;li&gt;Similar directory structure (e.g. &lt;tt&gt;/feeds/search/20140601/&lt;span class=&quot;error&quot;&gt;&amp;#91;US,UK,IN&amp;#93;&lt;/span&gt;&lt;/tt&gt;)&lt;/li&gt;
	&lt;li&gt;The same SerDe/StorageHandler/IOFormat classes&lt;/li&gt;
	&lt;li&gt;Sorting/Bucketing/SkewInfo settings&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;In this &#8220;most likely&#8221; scenario (henceforth termed &#8220;normal&#8221;), it&#8217;s possible to represent the partition-list (for a date) in a more condensed form: a list of LighterPartition instances, all sharing a common StorageDescriptor whose location points to the root directory. &lt;/p&gt;

&lt;p&gt;We can go one better for the &lt;tt&gt;add_partitions()&lt;/tt&gt; case: When adding all partitions for a given date, the &#8220;normal&#8221; case affords us the ability to specify the top-level date-directory, where sub-partitions can be inferred from the HDFS directory-path.&lt;/p&gt;

&lt;p&gt;These extensions are hard to introduce at the metastore-level, since partition-functions explicitly specify &lt;tt&gt;List&amp;lt;Partition&amp;gt;&lt;/tt&gt; arguments. I wonder if a &lt;tt&gt;PartitionSpec&lt;/tt&gt; interface might help:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; PartitionSpec listPartitions(db_name, tbl_name, max_parts) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ... ; 
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; add_partitions( PartitionSpec new_parts ) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; &#8230; ;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where the PartitionSpec looks like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; PartitionSpec {
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;Partition&amp;gt; getPartitions();
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; getPartNames();
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Iterator&amp;lt;Partition&amp;gt; getPartitionIter();
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Iterator&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; getPartNameIter();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For addPartitions(), an &lt;tt&gt;HDFSDirBasedPartitionSpec&lt;/tt&gt; class could implement &lt;tt&gt;PartitionSpec&lt;/tt&gt;, store a top-level directory, and return Partition instances from sub-directory names, while storing a single StorageDescriptor for all of them.&lt;/p&gt;

&lt;p&gt;Similarly, list_partitions() could return a List&amp;lt;PartitionSpec&amp;gt;, where each PartitionSpec corresponds to a set or partitions that can share a StorageDescriptor.&lt;/p&gt;

&lt;p&gt;By exposing iterator semantics, neither the client nor the metastore need instantiate all partitions at once. That should help with memory requirements.&lt;/p&gt;

&lt;p&gt;In case no smart grouping is possible, we could just fall back on a &lt;tt&gt;DefaultPartitionSpec&lt;/tt&gt; which composes &lt;tt&gt;List&amp;lt;Partition&amp;gt;&lt;/tt&gt;, and is no worse than status quo.&lt;/p&gt;

&lt;p&gt;PartitionSpec abstracts away how a set of partitions may be represented. A tighter representation allows us to communicate metadata for a larger number of Partitions, with less Thrift traffic.&lt;/p&gt;

&lt;p&gt;Given that Thrift doesn&#8217;t support polymorphism, we&#8217;d have to implement the PartitionSpec as a Thrift Union of supported implementations. (We could convert from the Thrift PartitionSpec to the appropriate Java PartitionSpec sub-class.)&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720794">HIVE-7223</key>
            <summary>Support generic PartitionSpecs in Metastore partition-functions</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mithun">Mithun Radhakrishnan</assignee>
                                    <reporter username="mithun">Mithun Radhakrishnan</reporter>
                        <labels>
                            <label>TODOC14</label>
                    </labels>
                <created>Thu, 12 Jun 2014 05:03:20 +0000</created>
                <updated>Thu, 26 Apr 2018 22:16:31 +0000</updated>
                            <resolved>Fri, 5 Sep 2014 17:52:56 +0000</resolved>
                                    <version>0.12.0</version>
                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>HCatalog</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14037822" author="sushanth" created="Thu, 19 Jun 2014 20:27:29 +0000"  >&lt;p&gt;Is there a need for a List&amp;lt;Partition&amp;gt; getPartitions() when there is already a Iterator&amp;lt;Partition&amp;gt; being exposed? If we do a partitionspec interface such as this, I&apos;d like to keep it as lean as possible.&lt;/p&gt;

&lt;p&gt;Also, I wonder if Map&amp;lt;Key,Value&amp;gt; isn&apos;t a more fundamental interface point, instead of a String partitionname, since partition names can be arbitrary, but partition key values &quot;define&quot; a partition. To wit, what do you think about a PartitionSpec interface that looks like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; PartitionSpec {
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Iterator&amp;lt;Partition&amp;gt; getPartitionsIter();
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Iterator&amp;lt;Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;&amp;gt; getPartKeyValuesIter();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="14037835" author="sushanth" created="Thu, 19 Jun 2014 20:37:24 +0000"  >&lt;p&gt;Hm.. I just realized that as far as the metastore db definitions go, we define a unique key constraint on partition name, but make no such guarantee on the key-values themselves, which are not metastore entities. I don&apos;t like it, but I see. I&apos;ll have to dig a bit more into this.&lt;/p&gt;</comment>
                            <comment id="14037837" author="alangates" created="Thu, 19 Jun 2014 20:39:17 +0000"  >&lt;p&gt;Seems reasonable.  For backwards compatibility you will want to leave the existing thrift calls there and create new ones that handle your new union type.  We can mark the old calls as deprecated and remove them after 0.14, but we should give people at least one release to move.&lt;/p&gt;

&lt;p&gt;Your iterator model would seem to imply that you could fetch just some partitions from the metastore in a thrift call, and go back for more later.  Is that part of your plan?  Part of a later phase?  Or just an unintended side effect?&lt;/p&gt;</comment>
                            <comment id="14037910" author="mithun" created="Thu, 19 Jun 2014 21:22:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt;: Yep, you&apos;re right. I was kinda hoping that&apos;d be brought up in the review. It&apos;d be trivial to construct a full List&amp;lt;Partition&amp;gt; from just the iterator.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt;: I agree. These ought to be parallel APIs until some point after 0.14.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Your iterator model would seem to imply that you could fetch just some partitions from the metastore in a thrift call, and go back for more later. Is that part of your plan?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, that&apos;s definitely on the cards. As per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt;&apos;s comments on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7195&quot; title=&quot;Improve Metastore performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7195&quot;&gt;HIVE-7195&lt;/a&gt;, it should be possible to capture cursor/transaction-like semantics, allowing us to batch the partitions returned from &lt;tt&gt;listPartitions()&lt;/tt&gt;. I would like to first focus on the &lt;tt&gt;addPartitions(PartitionSpec)&lt;/tt&gt; APIs for Falcon (etc.), and leave the PartitionSpec based &lt;tt&gt;listPartitions()&lt;/tt&gt; API use &lt;tt&gt;DefaultPartitionSpec&lt;/tt&gt;. Or maybe a &lt;tt&gt;CompressedPartitionSpec&lt;/tt&gt; that shares StorageDescriptor instances.&lt;br/&gt;
We can put in batched reads in a later JIRA, since it&apos;s so much more work.&lt;/p&gt;</comment>
                            <comment id="14080527" author="mithun" created="Thu, 31 Jul 2014 05:44:02 +0000"  >&lt;p&gt;I should have the patch up for this change tomorrow. I&apos;ll only deal with the Thrift/Hive changes in this JIRA. The corresponding changes to HCatClient will go up on a separate JIRA, so as not to clash with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7341&quot; title=&quot;Support for Table replication across HCatalog instances&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7341&quot;&gt;&lt;del&gt;HIVE-7341&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14088475" author="mithun" created="Wed, 6 Aug 2014 23:44:32 +0000"  >&lt;p&gt;Here&apos;s the initial patch, with tests.&lt;/p&gt;</comment>
                            <comment id="14088926" author="hiveqa" created="Thu, 7 Aug 2014 07:06:38 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660271/HIVE-7223.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12660271/HIVE-7223.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/202/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/202/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/202/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/202/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-202/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-202/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-metastore: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[117,44] cannot find symbol
[ERROR] symbol:   class PartitionListComposingSpec
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[118,44] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[119,44] cannot find symbol
[ERROR] symbol:   class PartitionSpecWithSharedSD
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[120,44] cannot find symbol
[ERROR] symbol:   class PartitionWithoutSD
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecProxy.java:[5,44] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[1990,48] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2004,58] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2719,17] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2779,18] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2844,93] cannot find symbol
[ERROR] symbol:   class PartitionWithoutSD
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2844,13] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[4073,17] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecProxy.java:[55,24] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.PartitionSpecProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java:[100,44] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/IMetaStoreClient.java:[31,44] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionListComposingSpecProxy.java:[5,44] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionListComposingSpecProxy.java:[16,11] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.PartitionListComposingSpecProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionListComposingSpecProxy.java:[18,45] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.PartitionListComposingSpecProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionListComposingSpecProxy.java:[40,15] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.PartitionListComposingSpecProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecWithSharedSDProxy.java:[5,44] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecWithSharedSDProxy.java:[6,44] cannot find symbol
[ERROR] symbol:   class PartitionSpecWithSharedSD
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecWithSharedSDProxy.java:[7,44] cannot find symbol
[ERROR] symbol:   class PartitionWithoutSD
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecWithSharedSDProxy.java:[21,11] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.PartitionSpecWithSharedSDProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecWithSharedSDProxy.java:[23,41] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.PartitionSpecWithSharedSDProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecWithSharedSDProxy.java:[58,15] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.PartitionSpecWithSharedSDProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecWithSharedSDProxy.java:[74,13] cannot find symbol
[ERROR] symbol:   class PartitionSpecWithSharedSD
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.PartitionSpecWithSharedSDProxy.Iterator
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecProxy.java:[74,42] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.PartitionSpecProxy.Factory
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecProxy.java:[97,47] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.PartitionSpecProxy.Factory
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/CompositePartitionSpecProxy.java:[7,44] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: package org.apache.hadoop.hive.metastore.api
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/CompositePartitionSpecProxy.java:[20,16] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.CompositePartitionSpecProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/CompositePartitionSpecProxy.java:[24,46] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.CompositePartitionSpecProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/CompositePartitionSpecProxy.java:[44,79] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.CompositePartitionSpecProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/CompositePartitionSpecProxy.java:[200,15] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.CompositePartitionSpecProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[1989,5] method does not override or implement a method from a supertype
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2724,12] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2733,11] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2733,37] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2734,38] cannot find symbol
[ERROR] symbol:   class PartitionListComposingSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2718,5] method does not override or implement a method from a supertype
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2795,12] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2795,53] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2800,38] cannot find symbol
[ERROR] symbol:   class PartitionWithoutSD
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2801,52] cannot find symbol
[ERROR] symbol:   class PartitionWithoutSD
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2808,11] cannot find symbol
[ERROR] symbol:   class PartitionWithoutSD
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2809,21] cannot find symbol
[ERROR] symbol:   class PartitionWithoutSD
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2816,51] cannot find symbol
[ERROR] symbol:   class PartitionWithoutSD
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2823,51] cannot find symbol
[ERROR] symbol:   class PartitionWithoutSD
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2833,11] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2833,44] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2836,45] cannot find symbol
[ERROR] symbol:   class PartitionListComposingSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2848,7] cannot find symbol
[ERROR] symbol:   class PartitionSpecWithSharedSD
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2849,15] cannot find symbol
[ERROR] symbol:   class PartitionSpecWithSharedSD
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2851,7] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[2851,31] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[4079,12] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[4088,11] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[4088,37] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[4089,38] cannot find symbol
[ERROR] symbol:   class PartitionListComposingSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.HiveMetaStore.HMSHandler
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:[4072,5] method does not override or implement a method from a supertype
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java:[909,49] cannot find symbol
[ERROR] symbol:   method get_partitions_pspec(java.lang.String,java.lang.String,int)
[ERROR] location: variable client of type org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.Iface
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java:[964,15] cannot find symbol
[ERROR] symbol:   method get_part_specs_by_filter(java.lang.String,java.lang.String,java.lang.String,int)
[ERROR] location: variable client of type org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.Iface
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/PartitionSpecWithSharedSDProxy.java:[102,7] cannot find symbol
[ERROR] symbol:   class PartitionWithoutSD
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.PartitionSpecWithSharedSDProxy.Iterator
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/CompositePartitionSpecProxy.java:[34,12] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.CompositePartitionSpecProxy
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/partition/spec/CompositePartitionSpecProxy.java:[49,10] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.partition.spec.CompositePartitionSpecProxy
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-metastore
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12660271&lt;/p&gt;</comment>
                            <comment id="14089759" author="alangates" created="Thu, 7 Aug 2014 20:23:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt;, you&apos;ll need to attach a patch that includes the generated thrift, as the CI system doesn&apos;t generate the thrift classes.&lt;/p&gt;</comment>
                            <comment id="14089877" author="mithun" created="Thu, 7 Aug 2014 21:28:25 +0000"  >&lt;p&gt;Sorry, I didn&apos;t realize the generated code needed to be included. Here&apos;s the complete patch.&lt;br/&gt;
(This includes changes to *cpp, *php, etc., though.)&lt;/p&gt;</comment>
                            <comment id="14090656" author="hiveqa" created="Fri, 8 Aug 2014 11:25:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660470/HIVE-7223.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12660470/HIVE-7223.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/224/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/224/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/224/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/224/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-224/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-224/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[ERROR] location: class org.apache.hadoop.hive.metastore.ObjectStore
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/events/PreAddPartitionEvent.java:[24,55] package org.apache.hadoop.hive.metastore.partition.spec does not exist
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/events/PreAddPartitionEvent.java:[34,11] cannot find symbol
[ERROR] symbol:   class PartitionSpecProxy
[ERROR] location: class org.apache.hadoop.hive.metastore.events.PreAddPartitionEvent
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/java/org/apache/hadoop/hive/metastore/events/PreAddPartitionEvent.java:[50,44] cannot find symbol
[ERROR] symbol:   class PartitionSpecProxy
[ERROR] location: class org.apache.hadoop.hive.metastore.events.PreAddPartitionEvent
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[323,43] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: interface org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.AsyncIface
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[4786,43] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.AsyncClient
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[4794,20] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.AsyncClient.add_partitions_pspec_call
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[4795,45] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.AsyncClient.add_partitions_pspec_call
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[5484,19] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.AsyncClient.get_partitions_pspec_call
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[5733,19] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.AsyncClient.get_part_specs_by_filter_call
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[1294,42] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.Client
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[1300,48] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.Client
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[1853,17] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.Client
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[1868,17] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.Client
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[2042,17] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.Client
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[2058,17] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.Client
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38021,18] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38096,12] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38128,31] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38132,32] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38139,17] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38143,35] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60294,18] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60381,12] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60425,31] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60429,30] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60436,17] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60440,33] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[68260,18] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_part_specs_by_filter_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[68347,12] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_part_specs_by_filter_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[68391,31] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_part_specs_by_filter_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[68395,30] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_part_specs_by_filter_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[68402,17] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_part_specs_by_filter_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[68406,33] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_part_specs_by_filter_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38087,103] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38107,14] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38107,63] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38108,14] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38109,37] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38134,40] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38168,30] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38326,52] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args.add_partitions_pspec_argsStandardScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38329,21] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args.add_partitions_pspec_argsStandardScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38330,36] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args.add_partitions_pspec_argsStandardScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38358,18] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args.add_partitions_pspec_argsStandardScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38391,18] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args.add_partitions_pspec_argsTupleScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38406,46] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args.add_partitions_pspec_argsTupleScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38409,15] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args.add_partitions_pspec_argsTupleScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[38410,30] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.add_partitions_pspec_args.add_partitions_pspec_argsTupleScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60368,103] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60396,14] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60396,61] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60397,14] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60398,35] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60431,38] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60511,28] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60759,50] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result.get_partitions_pspec_resultStandardScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60762,21] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result.get_partitions_pspec_resultStandardScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60763,36] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result.get_partitions_pspec_resultStandardScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60809,18] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result.get_partitions_pspec_resultStandardScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60858,18] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result.get_partitions_pspec_resultTupleScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60879,44] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result.get_partitions_pspec_resultTupleScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60882,15] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result.get_partitions_pspec_resultTupleScheme
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java:[60883,30] cannot find symbol
[ERROR] symbol:   class PartitionSpec
[ERROR] location: class org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore.get_partitions_pspec_result.get_partitions_pspec_resultTupleScheme
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-metastore
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12660470&lt;/p&gt;</comment>
                            <comment id="14090992" author="mithun" created="Fri, 8 Aug 2014 17:28:17 +0000"  >&lt;p&gt;Updated patch, with Thrift definitions updated, etc.&lt;/p&gt;</comment>
                            <comment id="14091614" author="hiveqa" created="Sat, 9 Aug 2014 03:11:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660669/HIVE-7223.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12660669/HIVE-7223.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5891 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.ql.TestDDLWithRemoteMetastoreSecondNamenode.testCreateTableWithIndexAndPartitionsNonDefaultNameNode
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/238/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/238/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/238/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/238/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-238/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-238/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12660669&lt;/p&gt;</comment>
                            <comment id="14093457" author="mithun" created="Mon, 11 Aug 2014 22:31:23 +0000"  >&lt;p&gt;The reported failures don&apos;t seem related to the new Hive MetaStore APIs I&apos;ve added here.&lt;/p&gt;</comment>
                            <comment id="14099396" author="alangates" created="Sat, 16 Aug 2014 00:34:00 +0000"  >&lt;p&gt;I couldn&apos;t find a reviewboard review for this, which would be helpful.  I&apos;ll put my comments here, but if you post to reviewboard I&apos;ll put them there as well.&lt;/p&gt;

&lt;p&gt;Questions&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;hive_metastore.thrift - do we need get_partitions_pspec_with_auth?&lt;/li&gt;
	&lt;li&gt;HiveMetaStore.java
	&lt;ol&gt;
		&lt;li&gt;PartValEqWrapperLite.equals, is values and location all you need to check equality?  Are containing db and table not important?&lt;/li&gt;
		&lt;li&gt;PartValEqWrapperLite.add_partitions_pspec_core, I&apos;m wondering if you should give the caller an option to have it throw if the partitions already exists.  I can see cases where people would and wouldn&apos;t care about this.  On a related note, why do you throw on duplicates in the list but not already exists?&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Problems, all references in HiveMetaStore.java &lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;initializeAddedPartition, you are duplicating a lot of functionality here.  Isn&apos;t there a way to refactor this so that it shares code with the existing initializeAddPartition?  Duplication of functionality is a grievous evil that leads to many bugs.  Same comment applies to your changes to MetaStoreUtils.updatePartitionStatsFast, and ObjectStore.addPartitions.&lt;/li&gt;
	&lt;li&gt;get_partitions_pspec, why is there a call in here to get_partitions?  That&apos;s going to fetch all of the partitions as before, correct?  I thought part of the goal of this was to avoid the need to compose the full list of partitions in both the server and the client.  But it seems this will do exactly that.  Same question for get_part_specs_by_filter&lt;/li&gt;
	&lt;li&gt;PartValEqWrapperLite.equals, you&apos;re not checking that location has the same value.&lt;/li&gt;
	&lt;li&gt;PartValEqWrapperLite.add_partitions_pspec_core, the entry log message is wrong (looks like a copy/paste error), and probably belongs in add_partitions_pspec.&lt;/li&gt;
	&lt;li&gt;PartValEqWrapperLite.add_partitions_pspec_core, remove dead commented out code (line 2047)&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14101806" author="mithun" created="Tue, 19 Aug 2014 03:42:43 +0000"  >&lt;p&gt;Hello, Alan. Thanks so much for reviewing. I&apos;m creating the Review Board request right now. (It looks like a 2MB diff isn&apos;t helping.) I&apos;ll update this JIRA with the review-board request as soon as it completes.&lt;/p&gt;

&lt;p&gt;On the concerns you&apos;ve raised:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;hive_metastore.thrift - do we need get_partitions_pspec_with_auth?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I didn&apos;t know if we needed this right off the bat. I figured we could add this later, if it was missed.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;PartValEqWrapperLite.equals, is values and location all you need to check equality? Are containing db and table not important?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;add_partitions_pspec_core() ensures that all Partitions derived from the PSpec belong to the same DB/Table. (This keeps it consistent with add_partitions_core().) So a further check on the DB/Table in PartValEqWrapperLite was moot.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;PartValEqWrapperLite.add_partitions_pspec_core, I&apos;m wondering if you should give the caller an option to have it throw if the partitions already exists... why do you throw on duplicates in the list but not already exists?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;tt&gt;ifNotExists&lt;/tt&gt; kinda fills that gap: an exception is thrown if the partition being added already exists (and &lt;tt&gt;ifNotExists == false&lt;/tt&gt;). Dupes within the list are a sign of a user/programming error, which is why I check this condition explicitly. That also aligns with &lt;tt&gt;add_partitions_core&lt;/tt&gt;&apos;s protocol.&lt;/p&gt;</comment>
                            <comment id="14102834" author="mithun" created="Tue, 19 Aug 2014 21:02:03 +0000"  >&lt;p&gt;About the problems you raised:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;initializeAddedPartition, you are duplicating a lot of functionality here. Isn&apos;t there a way to refactor this so that it shares code with the existing initializeAddPartition? Duplication of functionality is a grievous evil that leads to many bugs. Same comment applies to your changes to MetaStoreUtils.updatePartitionStatsFast, and ObjectStore.addPartitions.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m afraid there&apos;s no way around that. I hoped to use a function template to use a single function, but alas... Java. The only recourse is to pass in an &lt;tt&gt;Object&lt;/tt&gt;, and downcast it. I&apos;m not keen on that, but I&apos;ll go along if that&apos;s what you advise.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;get_partitions_pspec, why is there a call in here to get_partitions? That&apos;s going to fetch all of the partitions as before, correct? I thought part of the goal of this...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, one of our goals was not to have the full List&amp;lt;Partition&amp;gt; instantiated. (We also wanted to reduce redundant wire-traffic, etc.) There might not be a way to avoid this construction in the &lt;tt&gt;get_partitions_pspec()&lt;/tt&gt; path without invasive changes to MPartition, etc. (i.e. the db layer), unless I&apos;ve missed something. On the bright side, the full list is constructed only in the &lt;tt&gt;get_partitions_pspec*()&lt;/tt&gt; path. &lt;tt&gt;add_partitions_pspec()&lt;/tt&gt; honours the iterator semantics. How might I otherwise implement &lt;tt&gt;get_partitions_pspec()&lt;/tt&gt;?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt; PartValEqWrapperLite.equals, you&apos;re not checking that location has the same value.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s actually by design. We&apos;re using the PartValEqWrapperLite (just as the PartValEqWrapper class before it) to identify repetition of Partitions in the list specified by the caller. 2 Partitions with the same partition-key sets are considered identical even if their locations differ.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt; PartValEqWrapperLite.add_partitions_pspec_core, the entry log message is wrong (looks like a copy/paste error), and probably belongs in add_partitions_pspec.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Clumsy. Fixed. (I&apos;ll up the new patch shortly.)&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt; PartValEqWrapperLite.add_partitions_pspec_core, remove dead commented out code (line 2047) &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Removed.&lt;/p&gt;</comment>
                            <comment id="14102939" author="mithun" created="Tue, 19 Aug 2014 22:14:36 +0000"  >&lt;p&gt;Still struggling to get this on reviews.apache.org.&lt;/p&gt;</comment>
                            <comment id="14103014" author="mithun" created="Tue, 19 Aug 2014 23:12:33 +0000"  >&lt;p&gt;Here&apos;s the updated patch. I&apos;ve removed some dead code and corrected the log message, as per Alan&apos;s advice.&lt;/p&gt;

&lt;p&gt;Also, &lt;a href=&quot;https://reviews.apache.org/r/24872/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/24872/&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14112031" author="mithun" created="Wed, 27 Aug 2014 08:32:52 +0000"  >&lt;p&gt;Hello, Alan. Did you happen to get a chance to look at the updated patch?&lt;/p&gt;</comment>
                            <comment id="14116550" author="alangates" created="Sat, 30 Aug 2014 20:24:15 +0000"  >&lt;blockquote&gt;&lt;p&gt; About the problems you raised:&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt; initializeAddedPartition, you are duplicating a lot of functionality here. Isn&apos;t there a way to refactor this so that it shares code with the existing initializeAddPartition? Duplication of functionality is a grievous evil that leads to many bugs. Same comment applies to your changes to MetaStoreUtils.updatePartitionStatsFast, and ObjectStore.addPartitions.&lt;/font&gt;&lt;br/&gt;
I&apos;m afraid there&apos;s no way around that. I hoped to use a function template to use a single function, but alas... Java. The only recourse is to pass in an Object, and downcast it. I&apos;m not keen on that, but I&apos;ll go along if that&apos;s what you advise.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Couldn&apos;t you change initializeAddedPartiion(Table, Partition, boolean) to wrap the Partition object in a simple instance of PartitionSpecProxy.PartitionIterater and then call initializeAddedPartition(Table, Partition, boolean)?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;font color=&quot;red&quot;&gt;&lt;br/&gt;
get_partitions_pspec, why is there a call in here to get_partitions? That&apos;s going to fetch all of the partitions as before, correct? I thought part of the goal of this...&lt;/font&gt;&lt;br/&gt;
Yes, one of our goals was not to have the full List&amp;lt;Partition&amp;gt; instantiated. (We also wanted to reduce redundant wire-traffic, etc.) There might not be a way to avoid this construction in the get_partitions_pspec() path without invasive changes to MPartition, etc. (i.e. the db layer), unless I&apos;ve missed something. On the bright side, the full list is constructed only in the get_partitions_pspec*() path. add_partitions_pspec() honours the iterator semantics. How might I otherwise implement get_partitions_pspec()?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ok&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;font color=&quot;red&quot;&gt;&lt;br/&gt;
PartValEqWrapperLite.equals, you&apos;re not checking that location has the same value.&lt;/font&gt;&lt;br/&gt;
That&apos;s actually by design. We&apos;re using the PartValEqWrapperLite (just as the PartValEqWrapper class before it) to identify repetition of Partitions in the list specified by the caller. 2 Partitions with the same partition-key sets are considered identical even if their locations differ.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ok&lt;/p&gt;</comment>
                            <comment id="14119038" author="mithun" created="Wed, 3 Sep 2014 00:21:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gates&quot; class=&quot;user-hover&quot; rel=&quot;Gates&quot;&gt;&#37026;&#23569;&#27874;&lt;/a&gt; Point taken on the repeated code in initializeAddedPartition(). I&apos;ve introduced a wrapper, as you&apos;ve advised. That cleaned things up.&lt;/p&gt;</comment>
                            <comment id="14119512" author="hiveqa" created="Wed, 3 Sep 2014 07:51:19 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12666093/HIVE-7223.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12666093/HIVE-7223.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 6145 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_8
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.testImpersonation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/612/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/612/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/612/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/612/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-612/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-612/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12666093&lt;/p&gt;</comment>
                            <comment id="14120265" author="mithun" created="Wed, 3 Sep 2014 18:59:34 +0000"  >&lt;p&gt;I&apos;ve taken your advice a step further, and removed redundancy in &lt;tt&gt;HiveMetaStore.initializeAddedPartition()&lt;/tt&gt;, &lt;tt&gt;MetaStoreUtils.updatePartitionStatsFast()&lt;/tt&gt;, and &lt;tt&gt;Warehouse.getFileStatusesForSD()&lt;/tt&gt;. Cleaner, all around.&lt;/p&gt;</comment>
                            <comment id="14120519" author="hiveqa" created="Wed, 3 Sep 2014 21:43:10 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12666290/HIVE-7223.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12666290/HIVE-7223.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 6145 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/622/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/622/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/622/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/622/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-622/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-622/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12666290&lt;/p&gt;</comment>
                            <comment id="14121519" author="alangates" created="Thu, 4 Sep 2014 16:26:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14123247" author="alangates" created="Fri, 5 Sep 2014 17:52:56 +0000"  >&lt;p&gt;Patch checked in.  Thanks Mithun.&lt;/p&gt;</comment>
                            <comment id="14125116" author="lefty@hortonworks.com" created="Mon, 8 Sep 2014 00:52:43 +0000"  >&lt;p&gt;Does this need to be documented in the wiki?&lt;/p&gt;

&lt;p&gt;(Also, Fix Version/s should be 0.14.0.)&lt;/p&gt;</comment>
                            <comment id="14125148" author="alangates" created="Mon, 8 Sep 2014 02:22:33 +0000"  >&lt;p&gt;Is there a section of the wiki just on the thrift interface?  In my opinion we should be encouraging users to come through CLI, HS2, or WebHCat, not directly through thrift since that by passes a lot of security.&lt;/p&gt;</comment>
                            <comment id="14125153" author="lefty@hortonworks.com" created="Mon, 8 Sep 2014 02:31:22 +0000"  >&lt;p&gt;The Admin manual has Thrift Hive Server, and the user docs have a pathetic little section in Hive Client.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Administrator Docs &amp;#8211; Thrift Hive Server &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveClient#HiveClient-Thrift&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;User Docs &amp;#8211; Hive Client &amp;#8211; Thrift &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14210568" author="thejas" created="Thu, 13 Nov 2014 19:41:29 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13155551">HIVE-19337</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12731173">HIVE-7576</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12660271" name="HIVE-7223.1.patch" size="84935" author="mithun" created="Wed, 6 Aug 2014 23:44:32 +0000"/>
                            <attachment id="12660669" name="HIVE-7223.2.patch" size="2090112" author="mithun" created="Fri, 8 Aug 2014 17:28:17 +0000"/>
                            <attachment id="12662891" name="HIVE-7223.3.patch" size="1130359" author="mithun" created="Tue, 19 Aug 2014 23:12:33 +0000"/>
                            <attachment id="12666093" name="HIVE-7223.4.patch" size="1137830" author="mithun" created="Wed, 3 Sep 2014 00:21:07 +0000"/>
                            <attachment id="12666290" name="HIVE-7223.5.patch" size="1138101" author="mithun" created="Wed, 3 Sep 2014 18:59:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Jun 2014 20:27:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wot3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7224] Set incremental printing to true by default in Beeline</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7224</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7221&quot; title=&quot;Beeline buffers the entire output file in memory before writing to stdout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7221&quot;&gt;&lt;del&gt;HIVE-7221&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;By default beeline tries to buffer the entire output relation before printing it on stdout. This can cause OOM when the output relation is large. However, beeline has the option of incremental prints. We should keep that as the default.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720910">HIVE-7224</key>
            <summary>Set incremental printing to true by default in Beeline</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stakiar">Sahil Takiar</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jun 2014 16:56:51 +0000</created>
                <updated>Sun, 7 May 2017 18:47:37 +0000</updated>
                            <resolved>Tue, 27 Sep 2016 22:43:19 +0000</resolved>
                                    <version>0.13.0</version>
                    <version>1.0.0</version>
                    <version>1.2.0</version>
                    <version>1.1.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>Beeline</component>
                    <component>Clients</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                                                            <comments>
                            <comment id="14029421" author="vgumashta" created="Thu, 12 Jun 2014 17:09:00 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14030092" author="lefty@hortonworks.com" created="Fri, 13 Jun 2014 00:25:10 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~vaibhavgumashta&amp;#93;&lt;/span&gt;, thanks for documenting &quot;--incremental&quot; in the wiki.  We can add the default with version information after this jira commits.&lt;/p&gt;

&lt;p&gt;Do you have time to deal with other Beeline doc issues that I raised in a comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6173&quot; title=&quot;Beeline doesn&amp;#39;t accept --hiveconf option as Hive CLI does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6173&quot;&gt;&lt;del&gt;HIVE-6173&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineCommandOptions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HiveServer2 Clients:  Beeline Command Options (--incremental) &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6173?focusedCommentId=13888556&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13888556&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-6173 comment:  Beeline doc issues &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14030414" author="hiveqa" created="Fri, 13 Jun 2014 09:18:04 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650083/HIVE-7224.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650083/HIVE-7224.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 5535 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.beeline.TestBeeLineWithArgs.testNullEmpty
org.apache.hive.beeline.TestBeeLineWithArgs.testNullEmptyCmdArg
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.hcatalog.templeton.tool.TestTempletonUtils.testPropertiesParsing
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/453/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/453/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/453/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/453/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-453/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-453/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650083&lt;/p&gt;</comment>
                            <comment id="14031434" author="thejas" created="Sat, 14 Jun 2014 03:28:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt; It looks like the way the column sizes are estimated is different in case of incremental and buffered mode. In case of incremental mode, it seems to look at the ResultSetMetadata.getColumnDisplaySize to estimate how much width is to be given for each column. Can you check how different the formatting is with these two modes ?&lt;/p&gt;</comment>
                            <comment id="14031435" author="thejas" created="Sat, 14 Jun 2014 03:29:04 +0000"  >&lt;p&gt;I am more concerned about the column width used because the table output format tends to truncate results . See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6928&quot; title=&quot;Beeline should not chop off &amp;quot;describe extended&amp;quot; results by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6928&quot;&gt;&lt;del&gt;HIVE-6928&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14031645" author="vgumashta" created="Sat, 14 Jun 2014 18:21:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Sure, let me look at that. If that is the case, I think we should have it consistent for both incremental/non-incremental fetches.&lt;/p&gt;

&lt;p&gt;On the column truncation issue, I think we should not truncate columns by default. What do you think?&lt;/p&gt;</comment>
                            <comment id="14031708" author="thejas" created="Sat, 14 Jun 2014 21:36:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;On the column truncation issue, I think we should not truncate columns by default. What do you think?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I agree, truncation is bad. That is the opinion I express in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6928&quot; title=&quot;Beeline should not chop off &amp;quot;describe extended&amp;quot; results by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6928&quot;&gt;&lt;del&gt;HIVE-6928&lt;/del&gt;&lt;/a&gt; also.&lt;/p&gt;</comment>
                            <comment id="14066639" author="xingwen" created="Fri, 18 Jul 2014 17:59:41 +0000"  >&lt;p&gt;We would like to report that &quot;--incremental=true&quot; in Beeline is not compatible with Binary columns (at least for queries like  &quot;select * from some_table_with_a_binary_column limit 10;&quot;). The error trace we got was:&lt;br/&gt;
Error: Invalid column type: -2 (state=,code=0)&lt;br/&gt;
java.sql.SQLException: Invalid column type: -2&lt;br/&gt;
at org.apache.hive.jdbc.JdbcColumn.columnDisplaySize(JdbcColumn.java:94)&lt;br/&gt;
at org.apache.hive.jdbc.HiveResultSetMetaData.getColumnDisplaySize(HiveResultSetMetaData.java:60)&lt;br/&gt;
at org.apache.hive.beeline.IncrementalRows.&amp;lt;init&amp;gt;(IncrementalRows.java:55)&lt;br/&gt;
at org.apache.hive.beeline.BeeLine.print(BeeLine.java:1570)&lt;br/&gt;
at org.apache.hive.beeline.Commands.execute(Commands.java:745)&lt;br/&gt;
at org.apache.hive.beeline.Commands.sql(Commands.java:657)&lt;br/&gt;
at org.apache.hive.beeline.BeeLine.dispatch(BeeLine.java:794)&lt;br/&gt;
at org.apache.hive.beeline.BeeLine.begin(BeeLine.java:661)&lt;br/&gt;
at org.apache.hive.beeline.BeeLine.mainWithInputRedirection(BeeLine.java:366)&lt;br/&gt;
at org.apache.hive.beeline.BeeLine.main(BeeLine.java:349)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
at org.apache.hadoop.util.RunJar.main(RunJar.java:208)&lt;/p&gt;

&lt;p&gt;The error was gone when we reverted back to &quot; &quot;--incremental=false&quot;.&lt;/p&gt;

&lt;p&gt;BTW: we are using Hive 0.12.&lt;/p&gt;</comment>
                            <comment id="14066688" author="thejas" created="Fri, 18 Jul 2014 18:24:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xingwen&quot; class=&quot;user-hover&quot; rel=&quot;xingwen&quot;&gt;Xingwen Zhang&lt;/a&gt; Thanks for the information. Looks like we have another issue to be fixed here. Please open another jira to track this if you can.&lt;/p&gt;</comment>
                            <comment id="14066886" author="xingwen" created="Fri, 18 Jul 2014 21:13:09 +0000"  >&lt;p&gt;Ticket file. See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7448&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-7448&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14281532" author="qwertymaniac" created="Sat, 17 Jan 2015 20:46:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7448&quot; title=&quot;--incremental=true in Beeline is not compatible with Binary columns (at least for select * from ...)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7448&quot;&gt;&lt;del&gt;HIVE-7448&lt;/del&gt;&lt;/a&gt; is resolved in 0.13 via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3611&quot; title=&quot;Hive JDBC doesn&amp;#39;t support BINARY column&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3611&quot;&gt;&lt;del&gt;HIVE-3611&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Can this patch go in? I got no review authority, but the patch change appears good enough to me.&lt;/p&gt;

&lt;p&gt;(Except the unwanted changes such as whitespace fixes, which should ideally just be done across all the source files with a direct, single commit than by polluting random commits with such changes &amp;#8211; but thats just IMHO).&lt;/p&gt;</comment>
                            <comment id="14535996" author="sushanth" created="Sat, 9 May 2015 00:11:33 +0000"  >&lt;p&gt;Removing fix version of 1.2.0 in preparation of release, since this is not a blocker for 1.2.0.&lt;/p&gt;</comment>
                            <comment id="14681110" author="thejas" created="Tue, 11 Aug 2015 02:08:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt; can you please rebase ?&lt;/p&gt;</comment>
                            <comment id="14694158" author="vgumashta" created="Wed, 12 Aug 2015 20:59:52 +0000"  >&lt;p&gt;Rebased patch.&lt;/p&gt;</comment>
                            <comment id="14694553" author="hiveqa" created="Thu, 13 Aug 2015 02:03:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12750158/HIVE-7224.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12750158/HIVE-7224.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 9348 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.beeline.TestBeeLineWithArgs.testCSV2OutputWithDoubleQuotes
org.apache.hive.beeline.TestBeeLineWithArgs.testCSVOutput
org.apache.hive.beeline.TestBeeLineWithArgs.testCSVOutputWithDoubleQuotes
org.apache.hive.beeline.TestBeeLineWithArgs.testDSVOutput
org.apache.hive.beeline.TestBeeLineWithArgs.testDSVOutputWithDoubleQuotes
org.apache.hive.beeline.TestBeeLineWithArgs.testNullEmpty
org.apache.hive.beeline.TestBeeLineWithArgs.testNullEmptyCmdArg
org.apache.hive.beeline.TestBeeLineWithArgs.testTSV2Output
org.apache.hive.beeline.TestBeeLineWithArgs.testTSV2OutputWithDoubleQuotes
org.apache.hive.beeline.TestBeeLineWithArgs.testTSVOutput
org.apache.hive.beeline.TestBeeLineWithArgs.testTSVOutputWithDoubleQuotes
org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark.testSparkQuery
org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark.testTempTable
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4941/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4941/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4941/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4941/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4941/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4941/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12750158 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14741319" author="xuefuz" created="Fri, 11 Sep 2015 18:36:51 +0000"  >&lt;p&gt;Reattached the same patch to trigger precommit test run.&lt;/p&gt;</comment>
                            <comment id="14742077" author="hiveqa" created="Sat, 12 Sep 2015 14:55:37 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12755464/HIVE-7224.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12755464/HIVE-7224.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 9424 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.metastore.txn.TestCompactionTxnHandler.testRevokeTimedOutWorkers
org.apache.hive.beeline.TestBeeLineWithArgs.testCSV2OutputWithDoubleQuotes
org.apache.hive.beeline.TestBeeLineWithArgs.testCSVOutput
org.apache.hive.beeline.TestBeeLineWithArgs.testCSVOutputWithDoubleQuotes
org.apache.hive.beeline.TestBeeLineWithArgs.testDSVOutput
org.apache.hive.beeline.TestBeeLineWithArgs.testDSVOutputWithDoubleQuotes
org.apache.hive.beeline.TestBeeLineWithArgs.testNullEmpty
org.apache.hive.beeline.TestBeeLineWithArgs.testNullEmptyCmdArg
org.apache.hive.beeline.TestBeeLineWithArgs.testTSV2Output
org.apache.hive.beeline.TestBeeLineWithArgs.testTSV2OutputWithDoubleQuotes
org.apache.hive.beeline.TestBeeLineWithArgs.testTSVOutput
org.apache.hive.beeline.TestBeeLineWithArgs.testTSVOutputWithDoubleQuotes
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
org.apache.hive.jdbc.TestSSL.testSSLFetchHttp
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5255/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5255/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5255/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5255/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5255/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5255/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12755464 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14791342" author="xuefuz" created="Thu, 17 Sep 2015 00:06:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt;, it looks like that the patch has caused some test failure. Could you please investigate? Thanks.&lt;/p&gt;</comment>
                            <comment id="14791681" author="vgumashta" created="Thu, 17 Sep 2015 07:01:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; Sure, I&apos;ll look into the test failures.&lt;/p&gt;</comment>
                            <comment id="15348880" author="stakiar" created="Fri, 24 Jun 2016 23:33:47 +0000"  >&lt;p&gt;Attaching a new, re-based patch in order to trigger build and see if the test failures are still present.&lt;/p&gt;</comment>
                            <comment id="15348886" author="stakiar" created="Fri, 24 Jun 2016 23:37:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt; I wanted to help moving this ticket forward, it seems there were some test failures related to this change. Is it ok if I assign this ticket to myself and start working on resolving the test failures? &lt;/p&gt;</comment>
                            <comment id="15348937" author="vgumashta" created="Sat, 25 Jun 2016 00:18:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stakiar&quot; class=&quot;user-hover&quot; rel=&quot;stakiar&quot;&gt;Sahil Takiar&lt;/a&gt; Sure, thanks for taking it up.&lt;/p&gt;</comment>
                            <comment id="15358108" author="hiveqa" created="Fri, 1 Jul 2016 00:32:14 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12813155/HIVE-7224.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12813155/HIVE-7224.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 23 failed/errored test(s), 10288 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_all
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_vector_complex_join
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_join1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_10
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_cbo_simple_select
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_deleteAnalyze
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_metadataonly1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_text_vec_mapwork_part_all_complex
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_transform1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_complex_join
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_udf
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_groupby6
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_string_concat
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_varchar_mapjoin1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_17
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_limit
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_math_funcs
org.apache.hadoop.hive.llap.tezplugins.TestLlapTaskSchedulerService.testDelayedLocalityNodeCommErrorImmediateAllocation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/330/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/330/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/330/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/330/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-330/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-330/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 23 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12813155 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15358180" author="stakiar" created="Fri, 1 Jul 2016 01:05:44 +0000"  >&lt;p&gt;None of these test failures seem related to the given change. All Beeline tests are passing.&lt;/p&gt;

&lt;p&gt;The new patch I attached is a rebased version of the previous patch.&lt;/p&gt;

&lt;p&gt;Is there anything else blocking this from being merged?&lt;/p&gt;</comment>
                            <comment id="15359913" author="vgumashta" created="Sat, 2 Jul 2016 01:55:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stakiar&quot; class=&quot;user-hover&quot; rel=&quot;stakiar&quot;&gt;Sahil Takiar&lt;/a&gt; Thanks a lot for taking this up. In the previous iterations, we&apos;ve had issues with TestBeeLineWithArgs which was failing. From the tests listed here: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/330/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/330/testReport&lt;/a&gt;, doesn&apos;t look like those tests were run. Can you verify?&lt;/p&gt;</comment>
                            <comment id="15359914" author="vgumashta" created="Sat, 2 Jul 2016 01:56:42 +0000"  >&lt;p&gt;Actually it does seem those tests were run and pass now: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/330/testReport/org.apache.hive.beeline/TestBeeLineWithArgs/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/330/testReport/org.apache.hive.beeline/TestBeeLineWithArgs/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15359920" author="vgumashta" created="Sat, 2 Jul 2016 02:07:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stakiar&quot; class=&quot;user-hover&quot; rel=&quot;stakiar&quot;&gt;Sahil Takiar&lt;/a&gt; I&apos;ll do some quick manual testing and post my feedback. I think this looks good to go in.&lt;/p&gt;</comment>
                            <comment id="15361610" author="stakiar" created="Mon, 4 Jul 2016 17:13:16 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt;! Let me know if you need any help with the manual testing.&lt;/p&gt;</comment>
                            <comment id="15362826" author="vgumashta" created="Tue, 5 Jul 2016 17:30:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stakiar&quot; class=&quot;user-hover&quot; rel=&quot;stakiar&quot;&gt;Sahil Takiar&lt;/a&gt; There seems to be an issue with the column width estimation when incremental printing is enabled by default. An example (output of describe table):&lt;br/&gt;
With incremental true:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;| search_engine   | string          |                 |
| exclude_hit     | string          |                 |
| hier1           | string          |                 |
| hier2           | string          |                 |
| hier3           | string          |                 |
| hier4           | string          |                 |
| hier5           | string          |                 |
| browser         | string          |                 |
| post_browser_height | string          |                 |
| post_browser_width | string          |                 |
| post_cookies    | string          |                 |
| post_java_enabled | string          |                 |
| post_persistent_cookie | string          |                 |
| color           | string          |                 |
| connection_type | string          |                 |
| country         | string          |                 |
| domain          | string          |                 |
| post_t_time_info | string          |                 |
| javascript      | string          |                 |
| language        | string          |                 |
| os              | string          |                 |
| plugins         | string          |                 |
| resolution      | string          |                 |
| last_hit_time_gmt | string          |                 |
| first_hit_time_gmt | string          |                 |
| visit_start_time_gmt | string          |                 |
| last_purchase_time_gmt | string          |                 |
+-----------------+-----------------+-----------------+--+
|    col_name     |    data_type    |     comment     |
+-----------------+-----------------+-----------------+--+
| last_purchase_num | string          |                 |
| first_hit_page_url | string          |                 |
| first_hit_pagename | string          |                 |
| visit_start_page_url | string          |                 |
| visit_start_pagename | string          |                 |
| first_hit_referrer | string          |                 |
| visit_referrer  | string          |                 |
| visit_search_engine | string          |                 |
| visit_num       | string          |                 |
| visit_page_num  | string          |                 |
| prev_page       | string          |                 |
| geo_city        | string          |                 |
| geo_country     | string          |                 |
| geo_region      | string          |                 |
| duplicate_purchase | string          |                 |
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With incremental false:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;| search_engine            | string                |                       |
| exclude_hit              | string                |                       |
| hier1                    | string                |                       |
| hier2                    | string                |                       |
| hier3                    | string                |                       |
| hier4                    | string                |                       |
| hier5                    | string                |                       |
| browser                  | string                |                       |
| post_browser_height      | string                |                       |
| post_browser_width       | string                |                       |
| post_cookies             | string                |                       |
| post_java_enabled        | string                |                       |
| post_persistent_cookie   | string                |                       |
| color                    | string                |                       |
| connection_type          | string                |                       |
| country                  | string                |                       |
| domain                   | string                |                       |
| post_t_time_info         | string                |                       |
| javascript               | string                |                       |
| language                 | string                |                       |
| os                       | string                |                       |
| plugins                  | string                |                       |
| resolution               | string                |                       |
| last_hit_time_gmt        | string                |                       |
| first_hit_time_gmt       | string                |                       |
| visit_start_time_gmt     | string                |                       |
| last_purchase_time_gmt   | string                |                       |
+--------------------------+-----------------------+-----------------------+--+
|         col_name         |       data_type       |        comment        |
+--------------------------+-----------------------+-----------------------+--+
| last_purchase_num        | string                |                       |
| first_hit_page_url       | string                |                       |
| first_hit_pagename       | string                |                       |
| visit_start_page_url     | string                |                       |
| visit_start_pagename     | string                |                       |
| first_hit_referrer       | string                |                       |
| visit_referrer           | string                |                       |
| visit_search_engine      | string                |                       |
| visit_num                | string                |                       |
| visit_page_num           | string                |                       |
| prev_page                | string                |                       |
| geo_city                 | string                |                       |
| geo_country              | string                |                       |
| geo_region               | string                |                       |
| duplicate_purchase       | string                |                       |
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think we&apos;ll need to fix this before we can get this in.&lt;/p&gt;</comment>
                            <comment id="15362947" author="stakiar" created="Tue, 5 Jul 2016 18:27:34 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt; I&apos;ll dig into it some more and see what I can find.&lt;/p&gt;</comment>
                            <comment id="15363001" author="stakiar" created="Tue, 5 Jul 2016 18:51:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt; is seems the behavior you are seeing is by design. Looking at &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineCommandOptions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineCommandOptions&lt;/a&gt; the following explanation of the &lt;tt&gt;--incremental&lt;/tt&gt; property suggests that this is expected:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Defaults to false. When set to false, the entire result set is fetched and buffered before being displayed, yielding optimal display column sizing. When set to true, result rows are displayed immediately as they are fetched, yielding lower latency and memory usage at the price of extra display column padding. Setting --incremental=true is recommended if you encounter an OutOfMemory on the client side (due to the fetched result set size being large).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So it seems there is a tradeoff when using &lt;tt&gt;--incremental&lt;/tt&gt; that the column padding won&apos;t be optimal, but memory usage will be better. This makes sense since the &lt;tt&gt;IncrementalRows&lt;/tt&gt; class that controls this logic doesn&apos;t do any buffering of rows, so it cannot predict what the optimal column width should be since it only looks at one row at a time.&lt;/p&gt;

&lt;p&gt;I think a better approach for the &lt;tt&gt;IncrementalRows&lt;/tt&gt; class would be to instead buffer 1000 rows at a time (by default, this value can be configurable), this way it can optimally set the column width for each set of 1000 rows. This shouldn&apos;t introduce memory issues unless each row is huge, in which case the use can decrease the buffer size to say 100 or 10.&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                            <comment id="15363091" author="vgumashta" created="Tue, 5 Jul 2016 19:35:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stakiar&quot; class=&quot;user-hover&quot; rel=&quot;stakiar&quot;&gt;Sahil Takiar&lt;/a&gt; I agree that buffering would improve usability. Would you like to take a shot at it?&lt;/p&gt;</comment>
                            <comment id="15363180" author="thejas" created="Tue, 5 Jul 2016 20:36:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think a better approach for the IncrementalRows class would be to instead buffer 1000 rows at a time (by default, this value can be configurable), this way it can optimally set the column width for each set of 1000 rows.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think it is better to keep the column width to be consistent across all rows in the output, rather than adjust it every 1000 rows. The purpose of using optimal display size is primarily to make it easier to read. If we change the column width periodically, it doesn&apos;t help with that. Also, if there is some application that assumes the column width remains the same across rows, that might break. &lt;/p&gt;

&lt;p&gt;ie, beeline could buffer only the first 1000 rows and use that to determine the optimal column width, and then output the rest unbuffered. Not having to buffer the remaining rows could also be better for performance.&lt;/p&gt;
</comment>
                            <comment id="15363295" author="stakiar" created="Tue, 5 Jul 2016 21:34:19 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I think it is better to keep the column width to be consistent across all rows in the output, rather than adjust it every 1000 rows.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks for the input &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;! To clarify, what would happen if Beeline uses the first 1000 rows to calculate the width, but then row 1001th is longer than that width. In that case the width would have to be widened for that row, right? I think that is what the current implementation of &lt;tt&gt;--incremental&lt;/tt&gt; is doing.&lt;/p&gt;

&lt;p&gt;I like the idea of keeping the width the same for all rows, even in incremental mode, but I&apos;m not sure how it would work. Thoughts?&lt;/p&gt;</comment>
                            <comment id="15363688" author="thejas" created="Wed, 6 Jul 2016 03:22:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;To clarify, what would happen if Beeline uses the first 1000 rows to calculate the width, but then row 1001th is longer than that width. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If 1001th row has column larger than the precomputed column width, that particular row would have the column with larger width to accommodate it. This would mean some rows have the separator &quot;|&quot; out of alignment with previous row. However, even if we recompute every 1000 rows, we could still  have misalignment every 1000 rows.&lt;/p&gt;

&lt;p&gt;I looked at where the Row width gets used. The width is getting used only when --outputformat=table (ie TableOutputFormat class) is used .&lt;br/&gt;
If someone is working on very large outputs, it is likely to be processed by other applications and not human eyes, and a *sv (eg csv) format is likely to be used. It doesn&apos;t make any sense waste cpu cycles computing the width in those cases. This is also the case where performance impact of this computation would be more visible.&lt;/p&gt;

&lt;p&gt;ie, If we can selectively enable buffering and width calculation only for TableOutputFormat, I don&apos;t think it would matter if we stick to column width based on first 1000 rows or recompute every 1000 rows.&lt;br/&gt;
Looks like the Row subclasses have access to beeline options and would be able to determine what the output format is.&lt;/p&gt;</comment>
                            <comment id="15364704" author="stakiar" created="Wed, 6 Jul 2016 17:34:29 +0000"  >&lt;p&gt;Thanks for the explanation &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;So if my understanding is correct, one approach would be to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Modify the logic so that the width is only calculated if &lt;tt&gt;TableOutputFormat&lt;/tt&gt; is used
	&lt;ul&gt;
		&lt;li&gt;This will save CPU cycles when the outputformat = a delimiter separated value format&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Modify &lt;tt&gt;IncrementalRows&lt;/tt&gt; so that it re-calculates the width every 1000 rows
	&lt;ul&gt;
		&lt;li&gt;I think the advantage of doing it every 1000 rows is just for human readability purposes&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Does that sound reasonable to you?&lt;/p&gt;</comment>
                            <comment id="15364739" author="thejas" created="Wed, 6 Jul 2016 17:52:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stakiar&quot; class=&quot;user-hover&quot; rel=&quot;stakiar&quot;&gt;Sahil Takiar&lt;/a&gt;&lt;br/&gt;
That sounds good to me.&lt;/p&gt;</comment>
                            <comment id="15364745" author="thejas" created="Wed, 6 Jul 2016 17:55:10 +0000"  >&lt;p&gt;You can probably add a method like isWidthFormatted in OutputFormat which TableOutputFormat would then set to true. Then pass the value to the Row constructors.&lt;/p&gt;</comment>
                            <comment id="15364826" author="stakiar" created="Wed, 6 Jul 2016 18:28:52 +0000"  >&lt;p&gt;Sounds good! Thanks for all the suggestions! I just created two sub-tasks to encapsulate this work.&lt;/p&gt;</comment>
                            <comment id="15465960" author="stakiar" created="Mon, 5 Sep 2016 23:32:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt; the subtasks we discussed for this JIRA have been resolved. I&apos;ve reattached the patch to see if there are new test failures reported by Hive QA. Assuming there are no test failures, are there any other items needed before merging this change?&lt;/p&gt;</comment>
                            <comment id="15465971" author="hiveqa" created="Mon, 5 Sep 2016 23:42:23 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12827105/HIVE-7224.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12827105/HIVE-7224.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1110/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1110/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1110/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1110/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1110/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1110/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.8.0_25 ]]
+ export JAVA_HOME=/usr/java/jdk1.8.0_25
+ JAVA_HOME=/usr/java/jdk1.8.0_25
+ export PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+ PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-MASTER-Build-1110/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at e870ae1 HIVE-14697: Can not access kerberized HS2 Web UI (Chaoyu Tang, reviewed by Jimmy Xiang)
+ git clean -f -d
Removing ql/src/test/queries/clientpositive/double_precision.q
Removing ql/src/test/results/clientpositive/double_precision.q.out
+ git checkout master
Already on &apos;master&apos;
Your branch is up-to-date with &apos;origin/master&apos;.
+ git reset --hard origin/master
HEAD is now at e870ae1 HIVE-14697: Can not access kerberized HS2 Web UI (Chaoyu Tang, reviewed by Jimmy Xiang)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
error: patch failed: beeline/src/java/org/apache/hive/beeline/BeeLineOpts.java:71
error: beeline/src/java/org/apache/hive/beeline/BeeLineOpts.java: patch does not apply
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12827105 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15465989" author="stakiar" created="Mon, 5 Sep 2016 23:57:24 +0000"  >&lt;p&gt;Rebasing patch&lt;/p&gt;</comment>
                            <comment id="15466087" author="hiveqa" created="Tue, 6 Sep 2016 01:17:34 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12827107/HIVE-7224.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12827107/HIVE-7224.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10443 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestBeeLineWithArgs - did not produce a TEST-*.xml file
TestHiveCli - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.org.apache.hadoop.hive.cli.TestCliDriver
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1111/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1111/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1111/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1111/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1111/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1111/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12827107 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15527624" author="stakiar" created="Tue, 27 Sep 2016 22:36:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;Sergio Pe&#241;a&lt;/a&gt; can this be merged? The change simply sets Beeline&apos;s incremental property to true. There were a few subtasks that needed to be completed before this could be merged, but they are all resolved now.&lt;/p&gt;</comment>
                            <comment id="15527645" author="spena" created="Tue, 27 Sep 2016 22:38:59 +0000"  >&lt;p&gt;Sure.&lt;br/&gt;
+1&lt;/p&gt;

</comment>
                            <comment id="15528498" author="lefty@hortonworks.com" created="Wed, 28 Sep 2016 05:48:09 +0000"  >&lt;p&gt;Doc note:  The change of default for --incremental needs to be documented in the wiki for Hive 2.2.0.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineCommandOptions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HiveServer2 Clients &amp;#8211; Beeline Command Options &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Added a TODOC2.2 label.&lt;/p&gt;</comment>
                            <comment id="15531225" author="stakiar" created="Wed, 28 Sep 2016 23:29:46 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; could you grant me permission to edit the wiki page? Username is &quot;stakiar&quot;&lt;/p&gt;</comment>
                            <comment id="15532054" author="lefty@hortonworks.com" created="Thu, 29 Sep 2016 07:40:06 +0000"  >&lt;p&gt;Done.  Welcome to the Hive wiki team, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stakiar&quot; class=&quot;user-hover&quot; rel=&quot;stakiar&quot;&gt;Sahil Takiar&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15981770" author="stakiar" created="Mon, 24 Apr 2017 19:55:27 +0000"  >&lt;p&gt;This didn&apos;t go into the 2.2 release, seems its going into the 2.3 release. I&apos;ve updated the wiki to reflect this: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineCommandOptions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineCommandOptions&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12720766">HIVE-7221</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12728271">HIVE-7448</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12709131">HIVE-6928</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12954799">HIVE-13393</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12650083" name="HIVE-7224.1.patch" size="1337" author="vgumashta" created="Thu, 12 Jun 2014 17:09:00 +0000"/>
                            <attachment id="12755464" name="HIVE-7224.2.patch" size="622" author="xuefuz" created="Fri, 11 Sep 2015 18:36:51 +0000"/>
                            <attachment id="12750158" name="HIVE-7224.2.patch" size="622" author="vgumashta" created="Wed, 12 Aug 2015 20:59:52 +0000"/>
                            <attachment id="12813155" name="HIVE-7224.3.patch" size="614" author="stakiar" created="Fri, 24 Jun 2016 23:33:24 +0000"/>
                            <attachment id="12827105" name="HIVE-7224.4.patch" size="614" author="stakiar" created="Mon, 5 Sep 2016 23:31:25 +0000"/>
                            <attachment id="12827107" name="HIVE-7224.5.patch" size="651" author="stakiar" created="Mon, 5 Sep 2016 23:57:23 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12987240">HIVE-14169</subtask>
                            <subtask id="12987242">HIVE-14170</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Jun 2014 00:25:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wpiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399226</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7225] Unclosed Statement&apos;s in TxnHandler</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7225</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There&apos;re several methods in TxnHandler where Statement (local to the method) is not closed upon return.&lt;br/&gt;
Here&apos;re a few examples:&lt;br/&gt;
In compact():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        stmt.executeUpdate(s);
        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Going to commit&quot;&lt;/span&gt;);
        dbConn.commit();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In showCompact():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      Statement stmt = dbConn.createStatement();
      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; s = &lt;span class=&quot;code-quote&quot;&gt;&quot;select cq_database, cq_table, cq_partition, cq_state, cq_type, cq_worker_id, &quot;&lt;/span&gt; +
          &lt;span class=&quot;code-quote&quot;&gt;&quot;cq_start, cq_run_as from COMPACTION_QUEUE&quot;&lt;/span&gt;;
      LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Going to execute query &amp;lt;&quot;&lt;/span&gt; + s + &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;&quot;&lt;/span&gt;);
      ResultSet rs = stmt.executeQuery(s);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12720915">HIVE-7225</key>
            <summary>Unclosed Statement&apos;s in TxnHandler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="skoh5">steve, Oh</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jun 2014 17:32:39 +0000</created>
                <updated>Thu, 13 Nov 2014 19:41:09 +0000</updated>
                            <resolved>Tue, 24 Jun 2014 20:18:26 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14034027" author="alangates" created="Tue, 17 Jun 2014 16:49:02 +0000"  >&lt;p&gt;Steve, thanks for the patch.  A few comments:&lt;br/&gt;
I don&apos;t think there&apos;s a need to explicitly close the ResultSet.  According to the JavaDocs on Statement.close(), it closes any associated ResultSets.  So making this call seems like a waste of time.&lt;br/&gt;
If we&apos;re going to do this, it should be done in CompactionTxnHanlder as well, since that subclasses this class and uses all of the same methods.&lt;br/&gt;
But that if leads to my last comment.  Is this necessary at all?  All of the public methods close the db connection as soon as they are done.  Is there any value to closing the individual statements in that collection first?&lt;/p&gt;</comment>
                            <comment id="14034148" author="yuzhihong@gmail.com" created="Tue, 17 Jun 2014 18:07:59 +0000"  >&lt;p&gt;Does this answer your question ?&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/questions/2708689/impact-of-java-sql-connection-close-on-java-sql-statement-objects-and-the-like&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/2708689/impact-of-java-sql-connection-close-on-java-sql-statement-objects-and-the-like&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14034192" author="alangates" created="Tue, 17 Jun 2014 18:38:53 +0000"  >&lt;p&gt;No.  We aren&apos;t leaving these connections open for a long time.  We&apos;re closing them quite quickly at the end of each Thrift RPC.  If we were leaving them open for a long time then I would agree that it was important to close the statements.&lt;/p&gt;</comment>
                            <comment id="14034400" author="yuzhihong@gmail.com" created="Tue, 17 Jun 2014 21:29:39 +0000"  >&lt;p&gt;Hive depends on BoneCP 0.8.0&lt;/p&gt;

&lt;p&gt;I cloned BoneCP locally and looked at their code.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ConnectionHandle &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Connection,Serializable{
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In ConnectionHandle ctor, I see:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.detectUnclosedStatements = pool.getConfig().isDetectUnclosedStatements();
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.closeOpenStatements = pool.getConfig().isCloseOpenStatements();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In close() method:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.closeOpenStatements){
          &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Entry&amp;lt;Statement, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; statementEntry: &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.trackedStatement.entrySet()){
            statementEntry.getKey().close();
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.detectUnclosedStatements){
              logger.warn(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(UNCLOSED_LOG_ERROR_MESSAGE, statementEntry.getValue()));
            }
          }
          &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.trackedStatement.clear();
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In Hive codebase, I don&apos;t see call that turns on closeOpenStatements.&lt;/p&gt;</comment>
                            <comment id="14036377" author="alangates" created="Wed, 18 Jun 2014 21:02:45 +0000"  >&lt;p&gt;Interesting, since part of the contract of Connection.close is &quot;Releases this Connection object&apos;s database and JDBC resources immediately instead of waiting for them to be automatically released.&quot; it&apos;s disappointing to see that connection pooling technologies may not be doing this.  Any info on whether the default is to close the open statements or leave them open?  We could add a call to configure the pool to make sure we close the open statements.  &lt;/p&gt;

&lt;p&gt;Separately, in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7246&quot; title=&quot;Hive transaction manager hardwires bonecp as the JDBC pooling implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7246&quot;&gt;&lt;del&gt;HIVE-7246&lt;/del&gt;&lt;/a&gt; I&apos;m working to make the connection pooling configurable, so rather than make sure we handle this for each pool type it makes more sense to do as you suggest and make sure we close the statements.  So I remove my question on whether this makes sense to do.  &lt;/p&gt;</comment>
                            <comment id="14036388" author="yuzhihong@gmail.com" created="Wed, 18 Jun 2014 21:08:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;whether the default is to close the open statements&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;As far as I can tell from the source code, default value for closeOpenStatements is false. This is understandable: tracking open statements would consume more resources. For well designed / implemented client, this shouldn&apos;t be necessary.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;make sure we close the statements&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Do you have time to take a look at Steve&apos;s patch ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="14036405" author="alangates" created="Wed, 18 Jun 2014 21:17:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do you have time to take a look at Steve&apos;s patch ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I did.  My other two comments still stand.  There&apos;s no reason to spend time closing ResultSets as the Statement close will do that.  And this should be done in CompactionTxnHandler as well as TxnHandler.&lt;/p&gt;</comment>
                            <comment id="14039668" author="yuzhihong@gmail.com" created="Sat, 21 Jun 2014 03:20:41 +0000"  >&lt;p&gt;Patch v3 addresses Alan&apos;s comments above.&lt;/p&gt;</comment>
                            <comment id="14040041" author="hiveqa" created="Sun, 22 Jun 2014 06:38:10 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651800/hive-7225.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651800/hive-7225.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5668 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.hcatalog.pig.TestOrcHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/548/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/548/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/548/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/548/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-548/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-548/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651800&lt;/p&gt;</comment>
                            <comment id="14041306" author="alangates" created="Mon, 23 Jun 2014 21:01:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14042617" author="alangates" created="Tue, 24 Jun 2014 20:18:26 +0000"  >&lt;p&gt;Patch 3 checked in.  Thank you Ted and Steve for your combined efforts.&lt;/p&gt;</comment>
                            <comment id="14210498" author="thejas" created="Thu, 13 Nov 2014 19:41:09 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12650815" name="HIVE-7225.1.patch" size="36664" author="skoh5" created="Tue, 17 Jun 2014 15:08:31 +0000"/>
                            <attachment id="12651800" name="hive-7225.3.patch" size="37334" author="yuzhihong@gmail.com" created="Sat, 21 Jun 2014 03:20:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jun 2014 16:49:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399114</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wpjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7226] Windowing Streaming mode causes NPE for empty partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7226</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Change in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7062&quot; title=&quot;Support Streaming mode in Windowing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7062&quot;&gt;&lt;del&gt;HIVE-7062&lt;/del&gt;&lt;/a&gt; doesn&apos;t handle empty partitions properly. StreamingState is not correctly initialized for empty partition&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720927">HIVE-7226</key>
            <summary>Windowing Streaming mode causes NPE for empty partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="rhbutani">Harish Butani</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jun 2014 18:16:39 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:44 +0000</updated>
                            <resolved>Fri, 13 Jun 2014 19:09:13 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14029646" author="ashutoshc" created="Thu, 12 Jun 2014 19:20:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14030964" author="hiveqa" created="Fri, 13 Jun 2014 18:28:41 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650117/HIVE-7226.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650117/HIVE-7226.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5535 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.hcatalog.templeton.tool.TestTempletonUtils.testPropertiesParsing
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/456/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/456/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/456/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/456/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-456/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-456/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650117&lt;/p&gt;</comment>
                            <comment id="14031024" author="ashutoshc" created="Fri, 13 Jun 2014 19:09:13 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Harish!&lt;/p&gt;</comment>
                            <comment id="14211028" author="thejas" created="Thu, 13 Nov 2014 19:43:44 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12650117" name="HIVE-7226.1.patch" size="2353" author="rhbutani" created="Thu, 12 Jun 2014 18:59:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Jun 2014 19:20:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399126</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wpmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399243</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7227] Configuration parameters without descriptions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7227</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;More than 50 configuration parameters lack descriptions in hive-default.xml.template (or in HiveConf.java, after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; gets committed).  They are listed by release number in the first comment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721073">HIVE-7227</key>
            <summary>Configuration parameters without descriptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="leftylev">Lefty Leverenz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jun 2014 10:08:00 +0000</created>
                <updated>Sun, 14 Dec 2014 08:14:13 +0000</updated>
                                                                            <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14030445" author="lefty@hortonworks.com" created="Fri, 13 Jun 2014 10:18:01 +0000"  >&lt;p&gt;Here&apos;s a list (possibly incomplete) of 51 Hive configuration parameters that don&apos;t have descriptions in hive-default.xml.template.  Parameters created after Hive 0.13.0 are not covered here.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 1 or 2&lt;/em&gt; &lt;br/&gt;
hive.exec.submitviachild&lt;br/&gt;
hive.metastore.metadb.dir&lt;br/&gt;
hive.jar.path&lt;br/&gt;
hive.aux.jars.path&lt;br/&gt;
hive.table.name&lt;br/&gt;
hive.partition.name&lt;br/&gt;
hive.alias&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 3&lt;/em&gt; &lt;br/&gt;
hive.cli.errors.ignore&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 4&lt;/em&gt; &lt;br/&gt;
hive.added.files.path&lt;br/&gt;
hive.added.jars.path&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 5&lt;/em&gt; &lt;br/&gt;
hive.intermediate.compression.codec&lt;br/&gt;
hive.intermediate.compression.type&lt;br/&gt;
hive.added.archives.path&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 6&lt;/em&gt; &lt;br/&gt;
hive.metastore.archive.intermediate.archived&lt;br/&gt;
hive.metastore.archive.intermediate.extracted&lt;br/&gt;
hive.mapred.partitioner&lt;br/&gt;
hive.exec.script.trust&lt;br/&gt;
hive.hadoop.supports.splittable.combineinputformat&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 7&lt;/em&gt; &lt;br/&gt;
hive.lockmgr.zookeeper.default.partition.name&lt;br/&gt;
hive.metastore.fs.handler.class&lt;br/&gt;
hive.query.result.fileformat &lt;br/&gt;
hive.hashtable.initialCapacity&lt;br/&gt;
hive.hashtable.loadfactor&lt;br/&gt;
hive.debug.localtask&lt;br/&gt;
hive.lock.manager&lt;br/&gt;
hive.outerjoin.supports.filters&lt;br/&gt;
hive.semantic.analyzer.hook&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 8&lt;/em&gt; &lt;br/&gt;
hive.exec.job.debug.timeout&lt;br/&gt;
hive.exec.tasklog.debug.timeout&lt;br/&gt;
hive.merge.rcfile.block.level&lt;br/&gt;
hive.merge.input.format.block.level&lt;br/&gt;
hive.merge.current.job.has.dynamic.partitions&lt;br/&gt;
hive.stats.collect.rawdatasize&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 8.1&lt;/em&gt; &lt;br/&gt;
hive.optimize.metadataonly&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 9&lt;/em&gt; &lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 10&lt;/em&gt; &lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 11&lt;/em&gt; &lt;br/&gt;
hive.exec.rcfile.use.sync.cache&lt;br/&gt;
hive.stats.key.prefix  &lt;em&gt;(internal)&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 12&lt;/em&gt; &lt;br/&gt;
hive.scratch.dir.permission&lt;br/&gt;
datanucleus.fixedDatastore&lt;br/&gt;
datanucleus.rdbms.useLegacyNativeValueStrategy&lt;br/&gt;
hive.optimize.sampling.orderby  &lt;em&gt;(internal?)&lt;/em&gt;&lt;br/&gt;
hive.optimize.sampling.orderby.number&lt;br/&gt;
hive.optimize.sampling.orderby.percent&lt;br/&gt;
hive.server2.authentication.ldap.Domain&lt;br/&gt;
hive.server2.session.hook&lt;br/&gt;
hive.typecheck.on.insert&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 13&lt;/em&gt; &lt;br/&gt;
hive.metastore.expression.proxy&lt;br/&gt;
hive.txn.manager&lt;br/&gt;
hive.stageid.rearrange&lt;br/&gt;
hive.explain.dependency.append.tasktype&lt;br/&gt;
hive.compute.splits.in.am  &lt;em&gt;(comment in HiveConf.java can be used as description)&lt;/em&gt;&lt;br/&gt;
hive.rpc.query.plan  &lt;em&gt;(comment in HiveConf.java can be used as description)&lt;/em&gt;&lt;/p&gt;</comment>
                            <comment id="14170594" author="lefty@hortonworks.com" created="Tue, 14 Oct 2014 06:53:28 +0000"  >&lt;p&gt;hive.added.*.path parameters (releases 4 &amp;amp; 5) are internal only, so they don&apos;t need descriptions.&lt;/p&gt;

&lt;p&gt;See the Oct. 14 email thread on dev@hive.apache.org, with information from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hive-dev/201410.mbox/%3cCACQ46vEqV6V4sMXn5tjJRaLpyYZ-HOQCfSNX1US3eStik6p6ow@mail.gmail.com%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&quot;3 configs: hive.added.files.path, hive.added.jars.path, hive.added.archives.path&quot; &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;That&apos;s three down, 48 to go....&lt;/p&gt;</comment>
                            <comment id="14178055" author="lefty@hortonworks.com" created="Tue, 21 Oct 2014 07:04:00 +0000"  >&lt;p&gt;hive.table.name &amp;amp; hive.partition.name were internal parameters.  They&apos;re removed in 0.15.0 by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8186&quot; title=&quot;Self join may fail if one side have virtual column(s) and other doesn&amp;#39;t&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8186&quot;&gt;&lt;del&gt;HIVE-8186&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So that&apos;s five down, 46 to go....&lt;/p&gt;</comment>
                            <comment id="14245870" author="lefty@hortonworks.com" created="Sun, 14 Dec 2014 08:14:13 +0000"  >&lt;p&gt;More parameters that need descriptions:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Release 14&lt;/em&gt;&lt;br/&gt;
hive.io.rcfile.record.interval&lt;br/&gt;
hive.io.rcfile.column.number.conf&lt;br/&gt;
hive.io.rcfile.tolerate.corruptions&lt;br/&gt;
hive.io.rcfile.record.buffer.size&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12684897">HIVE-6037</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12699506">HIVE-6586</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wqgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399381</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-7228] StreamPrinter should be joined to calling thread </title>
                <link>https://issues.apache.org/jira/browse/HIVE-7228</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ISSUE:&lt;br/&gt;
StreamPrinter class is used for connecting an input stream (connected to output) of a process with the output stream of a Session (CliSessionState/SessionState class)&lt;br/&gt;
It acts as a pipe between the two and transfers data from input stream to the output stream. THE TRANSFER OPERATION RUNS IN A SEPARATE THREAD. &lt;/p&gt;

&lt;p&gt;From some of the current usages of this class, I noticed that the calling threads do not wait for the transfer operation to be completed. That is, the calling thread does not join the SteamPrinter threads.&lt;br/&gt;
The calling thread would move forward thinking that the respective output stream already has the data needed. But, it is not always the right assumption since, it might happen that&lt;br/&gt;
the StreamPrinter thread did not finish execution by the time it was expected by the calling thread.&lt;/p&gt;

&lt;p&gt;FIX:&lt;br/&gt;
To ensure that calling thread waits for the StreamPrinter threads to complete, StreamPrinter threads are joined to calling thread.&lt;/p&gt;

&lt;p&gt;Please note , without the fix, TestCliDriverMethods#testRun failed sometimes (like 1 in 30 times). This test would not fail with this fix.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721128">HIVE-7228</key>
            <summary>StreamPrinter should be joined to calling thread </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pankit">Pankit Thapar</assignee>
                                    <reporter username="pankit">Pankit Thapar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jun 2014 15:31:10 +0000</created>
                <updated>Thu, 13 Nov 2014 19:44:18 +0000</updated>
                            <resolved>Sun, 15 Jun 2014 18:33:10 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14030749" author="pankit" created="Fri, 13 Jun 2014 15:33:21 +0000"  >&lt;p&gt;Added join() to usages of StreamPrinter&lt;/p&gt;</comment>
                            <comment id="14030771" author="ashutoshc" created="Fri, 13 Jun 2014 15:50:09 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14031801" author="hiveqa" created="Sun, 15 Jun 2014 07:52:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650319/HIVE-7228.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650319/HIVE-7228.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5536 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join30
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/469/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/469/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/469/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/469/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-469/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-469/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650319&lt;/p&gt;</comment>
                            <comment id="14031993" author="ashutoshc" created="Sun, 15 Jun 2014 18:33:10 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Pankit!&lt;/p&gt;</comment>
                            <comment id="14211135" author="thejas" created="Thu, 13 Nov 2014 19:44:18 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12650319" name="HIVE-7228.patch" size="1983" author="pankit" created="Fri, 13 Jun 2014 15:33:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Jun 2014 15:50:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wqsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7229] String is compared using equal in HiveMetaStore#HMSHandler#init()</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7229</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Around line 423:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (partitionValidationRegex != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; partitionValidationRegex != &quot;&quot;) {
        partitionValidationPattern = Pattern.compile(partitionValidationRegex);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;partitionValidationRegex.isEmpty() can be used instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721197">HIVE-7229</key>
            <summary>String is compared using equal in HiveMetaStore#HMSHandler#init()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="HS">KangHS</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jun 2014 21:18:41 +0000</created>
                <updated>Thu, 13 Nov 2014 19:40:08 +0000</updated>
                            <resolved>Fri, 8 Aug 2014 15:18:50 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14033557" author="hs" created="Tue, 17 Jun 2014 08:37:24 +0000"  >&lt;p&gt;Change string compare operator&lt;/p&gt;</comment>
                            <comment id="14040467" author="hs" created="Mon, 23 Jun 2014 06:48:45 +0000"  >&lt;p&gt;The String compare opertation Change&lt;/p&gt;</comment>
                            <comment id="14040788" author="hiveqa" created="Mon, 23 Jun 2014 14:18:46 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651937/HIVE-7229.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651937/HIVE-7229.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/566/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/566/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/566/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/566/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-566/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-566/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-566/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1604814.

At revision 1604814.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651937&lt;/p&gt;</comment>
                            <comment id="14041126" author="xuefuz" created="Mon, 23 Jun 2014 18:55:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=HS&quot; class=&quot;user-hover&quot; rel=&quot;HS&quot;&gt;KangHS&lt;/a&gt; Thanks for working on this. It seemed that your patch didn&apos;t apply to trunk somehow. Could you check/rebase if necessary? On a side note, the following is equivalent:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;partitionValidationRegex != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; !partitionValidationRegex.equals(&quot;&quot;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&quot;&quot;.equals(partitionValidationRegex)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14041132" author="xuefuz" created="Mon, 23 Jun 2014 18:57:27 +0000"  >&lt;p&gt;Never mind about above code snippet.&lt;/p&gt;</comment>
                            <comment id="14041732" author="hs" created="Tue, 24 Jun 2014 05:51:06 +0000"  >&lt;p&gt;I do re-patch after check/rebase. Thanks for your advice.&lt;/p&gt;</comment>
                            <comment id="14042015" author="hiveqa" created="Tue, 24 Jun 2014 11:58:34 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12652140/HIVE-7229.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12652140/HIVE-7229.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/575/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/575/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/575/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/575/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-575/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-575/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-575/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;itests/qtest/pom.xml&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/testconfiguration.properties itests/qtest/target itests/hive-minikdc/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1605059.

At revision 1605059.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12652140&lt;/p&gt;</comment>
                            <comment id="14042179" author="xuefuz" created="Tue, 24 Jun 2014 14:37:09 +0000"  >&lt;p&gt;How did you generated your patch? It seems that the precommit test doesn&apos;t like it. An easy way is to do this:&lt;/p&gt;

&lt;p&gt;git diff --no-prefix &amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7229&quot; title=&quot;String is compared using equal in HiveMetaStore#HMSHandler#init()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7229&quot;&gt;&lt;del&gt;HIVE-7229&lt;/del&gt;&lt;/a&gt;.patch&lt;/p&gt;</comment>
                            <comment id="14042190" author="yuzhihong@gmail.com" created="Tue, 24 Jun 2014 14:44:13 +0000"  >&lt;p&gt;Looks like QA bot had some issue.&lt;/p&gt;</comment>
                            <comment id="14042199" author="brocknoland" created="Tue, 24 Jun 2014 14:52:07 +0000"  >&lt;p&gt;&quot;The patch does not appear to apply with p0, p1, or p2&quot;&lt;/p&gt;</comment>
                            <comment id="14090167" author="hiveqa" created="Fri, 8 Aug 2014 01:48:31 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660357/HIVE-7229.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12660357/HIVE-7229.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5886 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.ql.TestDDLWithRemoteMetastoreSecondNamenode.testCreateTableWithIndexAndPartitionsNonDefaultNameNode
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/216/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/216/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/216/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/216/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-216/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-216/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12660357&lt;/p&gt;</comment>
                            <comment id="14090316" author="ashutoshc" created="Fri, 8 Aug 2014 05:14:53 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14210304" author="thejas" created="Thu, 13 Nov 2014 19:40:08 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12652140" name="HIVE-7229.1.patch" size="762" author="HS" created="Tue, 24 Jun 2014 05:46:34 +0000"/>
                            <attachment id="12660357" name="HIVE-7229.patch" size="791" author="HS" created="Thu, 7 Aug 2014 09:26:06 +0000"/>
                            <attachment id="12651937" name="HIVE-7229.patch" size="764" author="HS" created="Mon, 23 Jun 2014 06:48:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jun 2014 08:37:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wr7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399502</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7230] Add Eclipse formatter file for Hive coding conventions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7230</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Eclipse&apos;s formatter is a convenient way to clean up formatting for Java code. Currently, there is no Eclipse formatter file checked into Hive&apos;s codebase.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721200">HIVE-7230</key>
            <summary>Add Eclipse formatter file for Hive coding conventions</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davidzchen">David Chen</assignee>
                                    <reporter username="davidzchen">David Chen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jun 2014 21:30:55 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:08 +0000</updated>
                            <resolved>Sun, 22 Jun 2014 17:00:47 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14031205" author="davidzchen" created="Fri, 13 Jun 2014 21:34:25 +0000"  >&lt;p&gt;I took the Hadoop Eclipse formatter file (&lt;a href=&quot;https://github.com/cloudera/blog-eclipse&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/cloudera/blog-eclipse&lt;/a&gt;) and adapted it for Hive&apos;s coding style, namely changing the line lengths from 80 to 100 characters.&lt;/p&gt;

&lt;p&gt;RB: &lt;a href=&quot;https://reviews.apache.org/r/22590/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/22590/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14032019" author="hiveqa" created="Sun, 15 Jun 2014 20:42:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650394/HIVE-7230.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650394/HIVE-7230.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 5611 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_scriptfile1
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.conf.TestHiveConf.testConfProperties
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/475/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/475/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/475/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/475/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-475/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-475/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650394&lt;/p&gt;</comment>
                            <comment id="14032029" author="swarnim" created="Sun, 15 Jun 2014 21:45:41 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6317&quot; title=&quot;Add eclipse code formatter to hive projects&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6317&quot;&gt;&lt;del&gt;HIVE-6317&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14032030" author="swarnim" created="Sun, 15 Jun 2014 21:50:46 +0000"  >&lt;p&gt;As noted on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6317&quot; title=&quot;Add eclipse code formatter to hive projects&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6317&quot;&gt;&lt;del&gt;HIVE-6317&lt;/del&gt;&lt;/a&gt;, you might be able to fix this by simply adding the following to the pom file:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;plugin&amp;gt;
        &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;maven-eclipse-plugin&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${maven.eclipse.plugin.version}&amp;lt;/version&amp;gt;
        &amp;lt;configuration&amp;gt;
          &amp;lt;downloadJavadocs&amp;gt;true&amp;lt;/downloadJavadocs&amp;gt;
          &amp;lt;downloadSources&amp;gt;true&amp;lt;/downloadSources&amp;gt;
          &amp;lt;workspaceActiveCodeStyleProfileName&amp;gt;GoogleStyle&amp;lt;/workspaceActiveCodeStyleProfileName&amp;gt;
          &amp;lt;workspaceCodeStylesURL&amp;gt;https://google-styleguide.googlecode.com/svn/trunk/eclipse-java-google-style.xml&amp;lt;/workspaceCodeStylesURL&amp;gt;
        &amp;lt;/configuration&amp;gt;
&amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14032759" author="davidzchen" created="Mon, 16 Jun 2014 18:42:47 +0000"  >&lt;p&gt;I see. Are the rules in the formatter file at &lt;a href=&quot;https://google-styleguide.googlecode.com/svn/trunk/eclipse-java-google-style.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://google-styleguide.googlecode.com/svn/trunk/eclipse-java-google-style.xml&lt;/a&gt; the same as the ones for the Hive coding convention?&lt;/p&gt;

&lt;p&gt;If that is the case, it does not appear that there was a patch submitted that adds that to the root pom file in any of the duplicated tickets. Would it be fine if I submit a patch that adds it to the pom file?&lt;/p&gt;</comment>
                            <comment id="14034421" author="swarnim" created="Tue, 17 Jun 2014 21:41:18 +0000"  >&lt;p&gt;Go for it!&lt;/p&gt;

&lt;p&gt; The only comment I had was it would probably be nice to pull down the style guide xml file locally so that our builds don&apos;t fail in case the remote server goes down.&lt;/p&gt;</comment>
                            <comment id="14034454" author="davidzchen" created="Tue, 17 Jun 2014 22:03:13 +0000"  >&lt;p&gt;I am going to try to point the Maven Eclipse plugin to the local eclipse-styles.xml that I checked in with this patch. The code snipped above seems to point to the Google Java coding style.&lt;/p&gt;</comment>
                            <comment id="14034566" author="davidzchen" created="Tue, 17 Jun 2014 23:05:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; I was not able to generate the formatter settings in the .settings/org.eclipse.jdt.core.prefs files even with using code snippet you provided. Were you able to use that plugin to generate the correct preference settings?&lt;/p&gt;

&lt;p&gt;I am not that familiar with Maven. I think if getting Maven to generate the correct project files becomes more involved than expected, can we go ahead and merge this patch? This patch was for just adding the formatter file to the repository.&lt;/p&gt;</comment>
                            <comment id="14034576" author="swarnim" created="Tue, 17 Jun 2014 23:13:26 +0000"  >&lt;p&gt;My motivation behind using maven was that when someone builds a project and imports it into eclipse, the formatter should get imported as well. If someone has to manually import it, it kind of again leaves an open gap for a badly formatted file to get merged in.&lt;/p&gt;

&lt;p&gt;I&apos;ll give this a shot and get back to you.&lt;/p&gt;</comment>
                            <comment id="14034581" author="davidzchen" created="Tue, 17 Jun 2014 23:16:52 +0000"  >&lt;p&gt;Got it. Thanks for your help!&lt;/p&gt;</comment>
                            <comment id="14034628" author="swarnim" created="Wed, 18 Jun 2014 00:03:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidzchen&quot; class=&quot;user-hover&quot; rel=&quot;davidzchen&quot;&gt;David Chen&lt;/a&gt; What command were you trying to run to generate the files? I used the same plugin and used the following command:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mvn clean eclipse:eclipse -pl hbase-handler -P hadoop-1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and my .settings/org.eclipse.jdt.core.prefs was generated&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://pastebin.com/zupmuMrf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/zupmuMrf&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14034633" author="davidzchen" created="Wed, 18 Jun 2014 00:10:03 +0000"  >&lt;p&gt;I see. I ran the following command from the Hive Developer FAQ (&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ#HiveDeveloperFAQ-HowdoIimportintoeclipse?):&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ#HiveDeveloperFAQ-HowdoIimportintoeclipse?):&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn eclipse:eclipse -DdownloadSources -DdownloadJavadocs -Phadoop-2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Do I need to specify &lt;tt&gt;-pl &amp;lt;module&amp;gt;&lt;/tt&gt; in order for the settings to be generated?&lt;/p&gt;</comment>
                            <comment id="14034747" author="davidzchen" created="Wed, 18 Jun 2014 03:00:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; I tried following your steps but was still not able to generate my .settings/org.eclipse.jdt.core.prefs that included the formatter settings. It only included the following: &lt;a href=&quot;http://pastebin.com/NpkFpwit&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/NpkFpwit&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In any case, I have posted a new patch with my changes to the root pom.xml.&lt;/p&gt;</comment>
                            <comment id="14035893" author="swarnim" created="Wed, 18 Jun 2014 16:14:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidzchen&quot; class=&quot;user-hover&quot; rel=&quot;davidzchen&quot;&gt;David Chen&lt;/a&gt; Looking at the patch, do we still need the &quot;eclipse-styles.xml&quot; file to be imported?&lt;/p&gt;</comment>
                            <comment id="14036176" author="davidzchen" created="Wed, 18 Jun 2014 19:01:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; As mentioned above, the eclipse-styles.xml I imported is the Hadoop Eclipse formatter file with line lengths changed from 80 to 100 characters according to the Hive coding convention doc. Are these rules covered by the Google Java style guide you referenced? If not, I think we should check this formatter file in.&lt;/p&gt;</comment>
                            <comment id="14036324" author="swarnim" created="Wed, 18 Jun 2014 20:27:19 +0000"  >&lt;p&gt;My only concern with checking in multiple files is the inconsistency that this would create. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; What do you think?&lt;/p&gt;</comment>
                            <comment id="14036656" author="brocknoland" created="Wed, 18 Jun 2014 23:32:39 +0000"  >&lt;p&gt;Please excuse my ignorance...what inconsistency would this patch create? &lt;/p&gt;</comment>
                            <comment id="14036976" author="hiveqa" created="Thu, 19 Jun 2014 05:25:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650952/HIVE-7230.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650952/HIVE-7230.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5654 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_joins
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/510/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/510/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/510/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/510/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-510/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-510/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650952&lt;/p&gt;</comment>
                            <comment id="14037339" author="swarnim" created="Thu, 19 Jun 2014 13:55:54 +0000"  >&lt;p&gt;I guess &quot;redundancy&quot; would have been a better word here. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; My only concern was that pulling the formatter settings from the remote guide and also checking in the formatter file seems a bit  redundant to me.&lt;/p&gt;</comment>
                            <comment id="14037631" author="davidzchen" created="Thu, 19 Jun 2014 18:26:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt;, in my patch, I am pointing the Maven Eclipse plugin to the formatter file that sits in the root of the source tree and not the remote guide.&lt;/p&gt;</comment>
                            <comment id="14038405" author="brocknoland" created="Fri, 20 Jun 2014 03:49:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidzchen&quot; class=&quot;user-hover&quot; rel=&quot;davidzchen&quot;&gt;David Chen&lt;/a&gt; thank you very much for the contribution! This LGTM... I think we should change to things before commit:&lt;/p&gt;

&lt;p&gt;1) add apache license to the formatter file&lt;br/&gt;
2) move it into a new dir dev-support&lt;/p&gt;</comment>
                            <comment id="14038472" author="davidzchen" created="Fri, 20 Jun 2014 05:27:52 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;! I have added the license header to the formatter file and moved into a new dev-support directory.&lt;/p&gt;

&lt;p&gt;I have attached a new patch and updated RB.&lt;/p&gt;</comment>
                            <comment id="14038491" author="brocknoland" created="Fri, 20 Jun 2014 05:50:02 +0000"  >&lt;p&gt;+1 pending tests&lt;/p&gt;

&lt;p&gt;Thank you!!&lt;/p&gt;</comment>
                            <comment id="14038808" author="swarnim" created="Fri, 20 Jun 2014 14:00:30 +0000"  >&lt;p&gt;Sorry for the late reply.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;in my patch, I am pointing the Maven Eclipse plugin to the formatter file that sits in the root of the source tree and not the remote guide.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ah. My bad. That should work well. Looks good. I also pulled down the patch and verified locally. Looks good.&lt;/p&gt;

&lt;p&gt;+1.&lt;/p&gt;</comment>
                            <comment id="14039855" author="hiveqa" created="Sat, 21 Jun 2014 14:49:11 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651618/HIVE-7230.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651618/HIVE-7230.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5653 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/540/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/540/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/540/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/540/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-540/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-540/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651618&lt;/p&gt;</comment>
                            <comment id="14040177" author="brocknoland" created="Sun, 22 Jun 2014 17:00:47 +0000"  >&lt;p&gt;Thank you for your contribution David! I have committed this to trunk!!!&lt;/p&gt;

&lt;p&gt;I also noticed after commit that testutils/ptest2/pom.xml is not actually connected to the root pom. I will open a new jira for that.&lt;/p&gt;</comment>
                            <comment id="14040179" author="brocknoland" created="Sun, 22 Jun 2014 17:02:45 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7272&quot; title=&quot;Fix ptest2 pom after HIVE-7230&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7272&quot;&gt;&lt;del&gt;HIVE-7272&lt;/del&gt;&lt;/a&gt; for the fix described.&lt;/p&gt;

&lt;p&gt;Thank you again guys!&lt;/p&gt;</comment>
                            <comment id="14040183" author="brocknoland" created="Sun, 22 Jun 2014 17:10:07 +0000"  >&lt;p&gt;Actually I think that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7272&quot; title=&quot;Fix ptest2 pom after HIVE-7230&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7272&quot;&gt;&lt;del&gt;HIVE-7272&lt;/del&gt;&lt;/a&gt; would have broken precommit tests so I backed out of that portion of the commit.&lt;/p&gt;

&lt;p&gt;Thank you guys!&lt;/p&gt;</comment>
                            <comment id="14041189" author="davidzchen" created="Mon, 23 Jun 2014 19:43:29 +0000"  >&lt;p&gt;Thanks, Brock!&lt;/p&gt;</comment>
                            <comment id="14210704" author="thejas" created="Thu, 13 Nov 2014 19:42:08 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12691455">HIVE-6317</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12723028">HIVE-7272</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12650394" name="HIVE-7230.1.patch" size="31723" author="davidzchen" created="Fri, 13 Jun 2014 21:33:11 +0000"/>
                            <attachment id="12650952" name="HIVE-7230.2.patch" size="33734" author="davidzchen" created="Wed, 18 Jun 2014 03:00:51 +0000"/>
                            <attachment id="12651618" name="HIVE-7230.3.patch" size="34370" author="davidzchen" created="Fri, 20 Jun 2014 05:26:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 15 Jun 2014 20:42:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wr87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399505</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7231] Improve ORC padding</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7231</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Current ORC padding is not optimal because of fixed stripe sizes within block. The padding overhead will be significant in some cases. Also padding percentage relative to stripe size is not configurable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721229">HIVE-7231</key>
            <summary>Improve ORC padding</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                            <label>orcfile</label>
                    </labels>
                <created>Sat, 14 Jun 2014 02:58:30 +0000</created>
                <updated>Thu, 13 Nov 2014 19:44:14 +0000</updated>
                            <resolved>Mon, 7 Jul 2014 00:21:48 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14031429" author="prasanth_j" created="Sat, 14 Jun 2014 03:04:30 +0000"  >&lt;p&gt;Attaching RB link&lt;/p&gt;</comment>
                            <comment id="14032109" author="hiveqa" created="Mon, 16 Jun 2014 04:24:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650431/HIVE-7231.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650431/HIVE-7231.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 5536 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rand_partitionpruner3
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.io.orc.TestFileDump.testDictionaryThreshold
org.apache.hadoop.hive.ql.io.orc.TestFileDump.testDump
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/479/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/479/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/479/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/479/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-479/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-479/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650431&lt;/p&gt;</comment>
                            <comment id="14033056" author="prasanth_j" created="Mon, 16 Jun 2014 21:55:24 +0000"  >&lt;p&gt;Fixed failed test cases.&lt;/p&gt;</comment>
                            <comment id="14034409" author="hiveqa" created="Tue, 17 Jun 2014 21:36:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650660/HIVE-7231.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650660/HIVE-7231.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5536 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/492/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/492/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/492/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/492/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-492/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-492/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650660&lt;/p&gt;</comment>
                            <comment id="14034434" author="gopalv" created="Tue, 17 Jun 2014 21:50:13 +0000"  >&lt;p&gt;The approach results in stray writes across the stripe boundaries.&lt;/p&gt;

&lt;p&gt;I think this approach needs to be revisited to disconnect the HDFS block size from the ORC stripe size.&lt;/p&gt;

&lt;p&gt;The stripe size needs to be a factor of the HDFS block size, but the fraction should not remain at 0.5x.&lt;/p&gt;</comment>
                            <comment id="14039773" author="hiveqa" created="Sat, 21 Jun 2014 11:16:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651598/HIVE-7231.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651598/HIVE-7231.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5668 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/539/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/539/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/539/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/539/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-539/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-539/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651598&lt;/p&gt;</comment>
                            <comment id="14047049" author="gopalv" created="Sun, 29 Jun 2014 03:54:12 +0000"  >&lt;p&gt;Rebase to trunk&lt;/p&gt;</comment>
                            <comment id="14047059" author="hiveqa" created="Sun, 29 Jun 2014 05:02:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12653039/HIVE-7231.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12653039/HIVE-7231.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5670 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/625/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/625/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/625/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/625/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-625/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-625/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12653039&lt;/p&gt;</comment>
                            <comment id="14048326" author="gopalv" created="Mon, 30 Jun 2014 23:56:16 +0000"  >&lt;p&gt;Update docs in patch to match &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt;&apos;s RB comments.&lt;/p&gt;</comment>
                            <comment id="14048327" author="gopalv" created="Mon, 30 Jun 2014 23:57:14 +0000"  >&lt;p&gt;With rebase &amp;amp; update to docs. it LGTM - +1&lt;/p&gt;</comment>
                            <comment id="14048378" author="lefty@hortonworks.com" created="Tue, 1 Jul 2014 00:46:53 +0000"  >&lt;p&gt;Woops, very sorry &amp;#8211; forgot to publish my second review, which requested clarification in the description of hive.exec.orc.block.padding.tolerance in HiveConf.java:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// Define the tolerance &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; block padding. The total padded length will
&lt;/span&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// always be less than the specified percentage.&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;My comment:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Should mention that it&apos;s a percentage of stripe size, because &quot;block padding&quot; sounds like percentage of block size.  Could also explain that block padding prevents stripes from straddling blocks.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But this isn&apos;t a show stopper.&lt;/p&gt;</comment>
                            <comment id="14048404" author="gopalv" created="Tue, 1 Jul 2014 01:33:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt;: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7231&quot; title=&quot;Improve ORC padding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7231&quot;&gt;&lt;del&gt;HIVE-7231&lt;/del&gt;&lt;/a&gt;.5.patch has that clarified in hive-default.xml and with a default case (64Mb stripe, 256Mb block = 3.2Mb padding tolerance per 256Mb block).&lt;/p&gt;</comment>
                            <comment id="14048416" author="hiveqa" created="Tue, 1 Jul 2014 01:50:21 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12653268/HIVE-7231.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12653268/HIVE-7231.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/635/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/635/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/635/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/635/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-635/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-635/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-shims-0.20 ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-shims-0.20 ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20/target/hive-shims-0.20-0.14.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-shims-0.20 ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-shims-0.20 ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20/target/hive-shims-0.20-0.14.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/shims/hive-shims-0.20/0.14.0-SNAPSHOT/hive-shims-0.20-0.14.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/shims/hive-shims-0.20/0.14.0-SNAPSHOT/hive-shims-0.20-0.14.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Shims Secure Common 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-shims-common-secure ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-shims-common-secure ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-shims-common-secure ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/src/main/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-shims-common-secure ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-shims-common-secure ---
[INFO] Compiling 12 source files to /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/target/classes
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/src/main/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java: /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/src/main/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java uses or overrides a deprecated API.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/src/main/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java: Recompile with -Xlint:deprecation for details.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/src/main/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java: Some input files use unchecked or unsafe operations.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/src/main/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-shims-common-secure ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-shims-common-secure ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-shims-common-secure ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-shims-common-secure ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-shims-common-secure ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/target/hive-shims-common-secure-0.14.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-shims-common-secure ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-shims-common-secure ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/target/hive-shims-common-secure-0.14.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/shims/hive-shims-common-secure/0.14.0-SNAPSHOT/hive-shims-common-secure-0.14.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/shims/common-secure/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/shims/hive-shims-common-secure/0.14.0-SNAPSHOT/hive-shims-common-secure-0.14.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Shims 0.20S 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-shims-0.20S ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-shims-0.20S ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-shims-0.20S ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/src/main/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-shims-0.20S ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-shims-0.20S ---
[INFO] Compiling 3 source files to /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/target/classes
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/src/main/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java: /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/src/main/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java uses or overrides a deprecated API.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/src/main/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-shims-0.20S ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-shims-0.20S ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-shims-0.20S ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-shims-0.20S ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-shims-0.20S ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/target/hive-shims-0.20S-0.14.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-shims-0.20S ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-shims-0.20S ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/target/hive-shims-0.20S-0.14.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/shims/hive-shims-0.20S/0.14.0-SNAPSHOT/hive-shims-0.20S-0.14.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/shims/0.20S/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/shims/hive-shims-0.20S/0.14.0-SNAPSHOT/hive-shims-0.20S-0.14.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Shims 0.23 0.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/tez/tez-api/0.4.1-incubating/tez-api-0.4.1-incubating.pom
Downloading: http://repo.maven.apache.org/maven2/org/apache/tez/tez-api/0.4.1-incubating/tez-api-0.4.1-incubating.pom
[WARNING] The POM for org.apache.tez:tez-api:jar:0.4.1-incubating is missing, no dependency information available
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/tez/tez-runtime-library/0.4.1-incubating/tez-runtime-library-0.4.1-incubating.pom
Downloading: http://repo.maven.apache.org/maven2/org/apache/tez/tez-runtime-library/0.4.1-incubating/tez-runtime-library-0.4.1-incubating.pom
[WARNING] The POM for org.apache.tez:tez-runtime-library:jar:0.4.1-incubating is missing, no dependency information available
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/tez/tez-mapreduce/0.4.1-incubating/tez-mapreduce-0.4.1-incubating.pom
Downloading: http://repo.maven.apache.org/maven2/org/apache/tez/tez-mapreduce/0.4.1-incubating/tez-mapreduce-0.4.1-incubating.pom
[WARNING] The POM for org.apache.tez:tez-mapreduce:jar:0.4.1-incubating is missing, no dependency information available
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/tez/tez-tests/0.4.1-incubating/tez-tests-0.4.1-incubating.pom
Downloading: http://repo.maven.apache.org/maven2/org/apache/tez/tez-tests/0.4.1-incubating/tez-tests-0.4.1-incubating.pom
[WARNING] The POM for org.apache.tez:tez-tests:jar:tests:0.4.1-incubating is missing, no dependency information available
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/tez/tez-api/0.4.1-incubating/tez-api-0.4.1-incubating.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/tez/tez-runtime-library/0.4.1-incubating/tez-runtime-library-0.4.1-incubating.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/tez/tez-mapreduce/0.4.1-incubating/tez-mapreduce-0.4.1-incubating.jar
Downloading: http://www.datanucleus.org/downloads/maven2/org/apache/tez/tez-tests/0.4.1-incubating/tez-tests-0.4.1-incubating-tests.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/tez/tez-api/0.4.1-incubating/tez-api-0.4.1-incubating.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/tez/tez-runtime-library/0.4.1-incubating/tez-runtime-library-0.4.1-incubating.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/tez/tez-mapreduce/0.4.1-incubating/tez-mapreduce-0.4.1-incubating.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/tez/tez-tests/0.4.1-incubating/tez-tests-0.4.1-incubating-tests.jar
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [9.930s]
[INFO] Hive Ant Utilities ................................ SUCCESS [5.947s]
[INFO] Hive Shims Common ................................. SUCCESS [4.131s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [2.621s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [4.257s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [2.632s]
[INFO] Hive Shims 0.23 ................................... FAILURE [3.694s]
[INFO] Hive Shims ........................................ SKIPPED
[INFO] Hive Common ....................................... SKIPPED
[INFO] Hive Serde ........................................ SKIPPED
[INFO] Hive Metastore .................................... SKIPPED
[INFO] Hive Query Language ............................... SKIPPED
[INFO] Hive Service ...................................... SKIPPED
[INFO] Hive JDBC ......................................... SKIPPED
[INFO] Hive Beeline ...................................... SKIPPED
[INFO] Hive CLI .......................................... SKIPPED
[INFO] Hive Contrib ...................................... SKIPPED
[INFO] Hive HBase Handler ................................ SKIPPED
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog Streaming ........................... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 35.945s
[INFO] Finished at: Mon Jun 30 21:48:35 EDT 2014
[INFO] Final Memory: 35M/85M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal on project hive-shims-0.23: Could not resolve dependencies for project org.apache.hive.shims:hive-shims-0.23:jar:0.14.0-SNAPSHOT: The following artifacts could not be resolved: org.apache.tez:tez-api:jar:0.4.1-incubating, org.apache.tez:tez-runtime-library:jar:0.4.1-incubating, org.apache.tez:tez-mapreduce:jar:0.4.1-incubating, org.apache.tez:tez-tests:jar:tests:0.4.1-incubating: Could not find artifact org.apache.tez:tez-api:jar:0.4.1-incubating in datanucleus (http://www.datanucleus.org/downloads/maven2) -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-shims-0.23
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12653268&lt;/p&gt;</comment>
                            <comment id="14048417" author="lefty@hortonworks.com" created="Tue, 1 Jul 2014 01:50:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt;, I must have been looking at the wrong patch.  Thanks.&lt;/p&gt;

&lt;p&gt;Is the coded ampersand (&amp;amp;) necessary in hive-default.xml.template?  Perhaps a simple &quot;and&quot; would be clearer.  But that&apos;s a mini-nit.&lt;/p&gt;

&lt;p&gt;+1 for docs&lt;/p&gt;</comment>
                            <comment id="14048431" author="gopalv" created="Tue, 1 Jul 2014 02:14:53 +0000"  >&lt;p&gt;Looks like I jumped the gun and rebased my patch to also use tez-0.4.1, which is why tests failed.&lt;/p&gt;</comment>
                            <comment id="14048492" author="gopalv" created="Tue, 1 Jul 2014 04:15:18 +0000"  >&lt;p&gt;Removed the tez-0.4.1 reference and the &quot;&amp;amp;&quot; from the documentation XML.&lt;/p&gt;</comment>
                            <comment id="14048531" author="gopalv" created="Tue, 1 Jul 2014 05:24:21 +0000"  >&lt;p&gt;Tests on 1Tb proving that this does cut down on padding, but it progressively writes smaller and smaller stripes within a block.&lt;/p&gt;

&lt;p&gt;I saw 12MB, 8Mb stripes being written before the 3.2Mb stripe size trigger sets in and triggers a pad event.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Resetting stripe size via (1.0 - 0.000000) * (0.663954 * 66945840) = 44448964
Resetting stripe size via (1.0 - 0.000000) * (0.495154 * 44448964) = 22009074
Resetting stripe size via (1.0 - 0.000000) * (0.358696 * 22009074) = 7894571
Resetting stripe size via (1.0 - 0.000000) * (0.263782 * 7894571) = 2082443
Resetting stripe size via (1.0 - 0.000000) * (0.581675 * 2082443) = 1211304
Resetting stripe size via (1.0 - 0.000000) * (0.814780 * 1211304) = 986946 
Resetting stripe size via (1.0 - 0.000000) * (0.772579 * 986946) = 762494 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think I might undo the &quot;as a fraction of stripe size&quot; bit and make sure that the padding amount is a fraction of the HDFS block size for consistent stripe sizes as much as possible.&lt;/p&gt;</comment>
                            <comment id="14048713" author="hiveqa" created="Tue, 1 Jul 2014 09:59:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12653314/HIVE-7231.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12653314/HIVE-7231.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5671 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthBinary.org.apache.hive.minikdc.TestJdbcWithMiniKdcSQLAuthBinary
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/645/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/645/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/645/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/645/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-645/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-645/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12653314&lt;/p&gt;</comment>
                            <comment id="14050752" author="gopalv" created="Wed, 2 Jul 2014 21:45:35 +0000"  >&lt;p&gt;Rebase to trunk and update size correction code to reset all corrections to stripe sizes made when crossing a block boundary even for the unpadded insert case.&lt;/p&gt;</comment>
                            <comment id="14050998" author="hiveqa" created="Thu, 3 Jul 2014 02:17:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12653697/HIVE-7231.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12653697/HIVE-7231.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5672 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/664/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/664/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/664/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/664/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-664/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-664/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12653697&lt;/p&gt;</comment>
                            <comment id="14053242" author="hiveqa" created="Sun, 6 Jul 2014 22:52:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12654227/HIVE-7231.8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12654227/HIVE-7231.8.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5677 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/683/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/683/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/683/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/683/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-683/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-683/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12654227&lt;/p&gt;</comment>
                            <comment id="14053253" author="gopalv" created="Sun, 6 Jul 2014 23:50:43 +0000"  >&lt;p&gt;Test failures unrelated.&lt;/p&gt;</comment>
                            <comment id="14053261" author="gopalv" created="Mon, 7 Jul 2014 00:21:48 +0000"  >&lt;p&gt;Committed to trunk, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14053398" author="lefty@hortonworks.com" created="Mon, 7 Jul 2014 07:16:56 +0000"  >&lt;p&gt;Facepalm!  Now that the patch is committed I&apos;ve finally noticed that hive.exec.orc.block.padding.tolerance is not a percentage but a decimal fraction.  For example, with a 64 MB stripe size the default 0.05 gives 3.2 MB tolerance (0.05 * 64, not 0.05% of 64).&lt;/p&gt;

&lt;p&gt;This is only a tech-writer&apos;s quibble which isn&apos;t likely to confuse anyone.  I&apos;ll explain it in the wiki and put a request in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6586&quot; title=&quot;Update parameters in HiveConf.java after commit HIVE-6037&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6586&quot;&gt;&lt;del&gt;HIVE-6586&lt;/del&gt;&lt;/a&gt; to fix it with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14088990" author="lefty@hortonworks.com" created="Thu, 7 Aug 2014 08:17:23 +0000"  >&lt;p&gt;The wiki now documents &lt;b&gt;hive.exec.orc.default.block.size&lt;/b&gt;, &lt;b&gt;hive.exec.orc.block.padding.tolerance&lt;/b&gt;, and the changed default for &lt;b&gt;hive.exec.orc.default.stripe.size&lt;/b&gt; in 0.14.0:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.exec.orc.default.block.size&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.exec.orc.default.block.size &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.exec.orc.block.padding.tolerance&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.exec.orc.block.padding.tolerance &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.exec.orc.default.stripe.size&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.exec.orc.default.stripe.size &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14211124" author="thejas" created="Thu, 13 Nov 2014 19:44:14 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12721522">HIVE-7243</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12671990">HIVE-5425</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12721522">HIVE-7243</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12729281">HIVE-7490</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12650431" name="HIVE-7231.1.patch" size="6996" author="prasanth_j" created="Sat, 14 Jun 2014 03:02:00 +0000"/>
                            <attachment id="12650660" name="HIVE-7231.2.patch" size="11829" author="prasanth_j" created="Mon, 16 Jun 2014 21:55:24 +0000"/>
                            <attachment id="12651598" name="HIVE-7231.3.patch" size="15895" author="prasanth_j" created="Fri, 20 Jun 2014 02:30:22 +0000"/>
                            <attachment id="12653039" name="HIVE-7231.4.patch" size="15903" author="gopalv" created="Sun, 29 Jun 2014 03:54:12 +0000"/>
                            <attachment id="12653268" name="HIVE-7231.5.patch" size="17544" author="gopalv" created="Mon, 30 Jun 2014 23:56:16 +0000"/>
                            <attachment id="12653314" name="HIVE-7231.6.patch" size="16228" author="gopalv" created="Tue, 1 Jul 2014 04:15:18 +0000"/>
                            <attachment id="12653697" name="HIVE-7231.7.patch" size="16497" author="gopalv" created="Wed, 2 Jul 2014 21:45:35 +0000"/>
                            <attachment id="12654227" name="HIVE-7231.8.patch" size="16636" author="gopalv" created="Sun, 6 Jul 2014 19:45:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Jun 2014 04:24:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399425</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wref:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399534</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7231&quot; title=&quot;Improve ORC padding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7231&quot;&gt;&lt;strike&gt;HIVE-7231&lt;/strike&gt;&lt;/a&gt; : Improve ORC padding (Prasanth J, reviewed by Gopal V)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7232] VectorReduceSink is emitting incorrect JOIN keys</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7232</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7121&quot; title=&quot;Use murmur hash to distribute HiveKey&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7121&quot;&gt;&lt;del&gt;HIVE-7121&lt;/del&gt;&lt;/a&gt;, tpc-h query5 has resulted in incorrect results.&lt;/p&gt;

&lt;p&gt;Thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;, it has been tracked down to the auto-parallel settings which were initialized for ReduceSinkOperator, but not for VectorReduceSinkOperator. The vector version inherits, but doesn&apos;t call super.initializeOp() or set up the variable correctly from ReduceSinkDesc.&lt;/p&gt;

&lt;p&gt;The query is tpc-h query5, with extra NULL checks just to be sure.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ELECT n_name,
       sum(l_extendedprice * (1 - l_discount)) AS revenue
FROM customer,
     orders,
     lineitem,
     supplier,
     nation,
     region
WHERE c_custkey = o_custkey
  AND l_orderkey = o_orderkey
  AND l_suppkey = s_suppkey
  AND c_nationkey = s_nationkey
  AND s_nationkey = n_nationkey
  AND n_regionkey = r_regionkey
  AND r_name = &lt;span class=&quot;code-quote&quot;&gt;&apos;ASIA&apos;&lt;/span&gt;
  AND o_orderdate &amp;gt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;1994-01-01&apos;&lt;/span&gt;
  AND o_orderdate &amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&apos;1995-01-01&apos;&lt;/span&gt;
  and l_orderkey is not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
  and c_custkey is not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
  and l_suppkey is not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
  and c_nationkey is not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
  and s_nationkey is not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
  and n_regionkey is not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
GROUP BY n_name
ORDER BY revenue DESC;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The reducer which has the issue has the following plan&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Reducer 3
            Reduce Operator Tree:
              Join Operator
                condition map:
                     Inner Join 0 to 1
                condition expressions:
                  0 {KEY.reducesinkkey0} {VALUE._col2}
                  1 {VALUE._col0} {KEY.reducesinkkey0} {VALUE._col3}
                outputColumnNames: _col0, _col3, _col10, _col11, _col14
                Statistics: Num rows: 183333344 Data size: 95229140992 Basic stats: COMPLETE Column stats: NONE
                Reduce Output Operator
                  key expressions: _col10 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
                  sort order: +
                  Map-reduce partition columns: _col10 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
                  Statistics: Num rows: 183333344 Data size: 95229140992 Basic stats: COMPLETE Column stats: NONE
                  value expressions: _col0 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;), _col3 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;), _col11 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;), _col14 (type: string)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12721236">HIVE-7232</key>
            <summary>VectorReduceSink is emitting incorrect JOIN keys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gopalv">Gopal V</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Jun 2014 07:50:51 +0000</created>
                <updated>Thu, 13 Nov 2014 19:41:56 +0000</updated>
                            <resolved>Thu, 26 Jun 2014 23:10:33 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14031791" author="ashutoshc" created="Sun, 15 Jun 2014 05:47:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Is this resulting in wrong results (because NULL key got emitted incorrectly) or this resulting in lower perf (because it resulted in a skew towards NULL) ?&lt;/p&gt;</comment>
                            <comment id="14032033" author="gopalv" created="Sun, 15 Jun 2014 22:11:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;: Incorrect results as well.&lt;/p&gt;

&lt;p&gt;Ran the same query with Tez &amp;amp; MR, got different results.&lt;/p&gt;

&lt;p&gt;MR doesn&apos;t hit the same scenario becuase of the empty Map task, which doesn&apos;t have any input columns named reducesinkkey0.&lt;/p&gt;

&lt;p&gt;Tez seems to hit a corner case where there are 2 shuffle joins one after the other - there is an input col named KEY.reducesinkkey0 and an output col named reducesinkkey0, which have no relation to each other.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ diff -y -W 72  results/q5.tez.txt results/q5.mr.txt 
CHINA   985314.0848                |    VIETNAM 1.897236998313891E10
INDIA   819113.4418000001          |    CHINA   1.894405687452681E10
VIETNAM 637407.2255                |    INDONESIA       1.89306456994551
JAPAN   523754.9791                |    JAPAN   1.892184676125508E10
INDONESIA       517900.1924        |    INDIA   1.886882412417209E10
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14032088" author="ashutoshc" created="Mon, 16 Jun 2014 03:09:45 +0000"  >&lt;p&gt;Seems like this also can get triggered  for MR path. I think latest patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5771&quot; title=&quot;Constant propagation optimizer for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5771&quot;&gt;&lt;del&gt;HIVE-5771&lt;/del&gt;&lt;/a&gt; is failing for test like subquery_in.q because they are hitting into this issue.&lt;/p&gt;</comment>
                            <comment id="14032106" author="navis" created="Mon, 16 Jun 2014 04:03:31 +0000"  >&lt;p&gt;Fail of  subquery_in.q in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5771&quot; title=&quot;Constant propagation optimizer for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5771&quot;&gt;&lt;del&gt;HIVE-5771&lt;/del&gt;&lt;/a&gt; seemed not caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4867&quot; title=&quot;Deduplicate columns appearing in both the key list and value list of ReduceSinkOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4867&quot;&gt;&lt;del&gt;HIVE-4867&lt;/del&gt;&lt;/a&gt; but strongly related with it because &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4867&quot; title=&quot;Deduplicate columns appearing in both the key list and value list of ReduceSinkOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4867&quot;&gt;&lt;del&gt;HIVE-4867&lt;/del&gt;&lt;/a&gt; have (intentionally) broken internal assumption on keys/values of RS. With constant propagation optimizer, subquery_in.q is making different keys for each aliases of join, which seemed not valid.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-- sq_1
Reduce Output Operator
  key expressions: _col1 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
  sort order: ++
  Map-reduce partition columns: _col1 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-- others
Reduce Output Operator
  key expressions: _col0 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;), _col1 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
  sort order: ++
  Map-reduce partition columns: _col0 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;), _col1 (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14032108" author="navis" created="Mon, 16 Jun 2014 04:17:39 +0000"  >&lt;p&gt;For this problem, I cannot understand that the RS which is a child of JOIN can get ROW of format,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{&quot;reducesinkkey0&quot;:442}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In my reading, join would emit ROW and rowOI which is labeled with output columns, like below&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;_col0    {KEY.reducesinkkey0} 
_col3    {VALUE._col2}
_col10  {VALUE._col0}
_col11  {KEY.reducesinkkey0} 
_col14  {VALUE._col3}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I don&apos;t have environment for hadoop-2, so it&apos;s hard to verify, so it might take some time. &lt;/p&gt;</comment>
                            <comment id="14032123" author="gopalv" created="Mon, 16 Jun 2014 05:41:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;: I can run tests for you, if you have a patch file with log lines.&lt;/p&gt;

&lt;p&gt;I can reproduce this issue consistently for all recent runs of this query.&lt;/p&gt;</comment>
                            <comment id="14032176" author="navis" created="Mon, 16 Jun 2014 07:18:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Could you attach full explain result and query? Explain result on my notebook is different with yours (For me, it&apos;s Reducer 6 not Reducer 3). Seemed hard to reproduce with small sized data (used factor 1).&lt;/p&gt;</comment>
                            <comment id="14032250" author="navis" created="Mon, 16 Jun 2014 09:22:17 +0000"  >&lt;p&gt;Could you print out whole row instead of keys?&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;x1.append(&quot;row=&quot;+ SerDeUtils.getJSONString(row, rowInspector));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Thanks,&lt;/p&gt;</comment>
                            <comment id="14032929" author="gopalv" created="Mon, 16 Jun 2014 20:52:13 +0000"  >&lt;p&gt;The queries, explain and logging patch attached.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;: This is the output for extra logging (logging patch, explain and query attached)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2014-06-16 13:46:44,716 WARN [TezChild] org.apache.hadoop.hive.serde2.objectinspector.StandardStructObjectInspector: Trying to access 1 fields inside a list of 5 elements: [184, 21, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, 184, 1994-07-02]
2014-06-16 13:46:44,716 WARN [TezChild] org.apache.hadoop.hive.serde2.objectinspector.StandardStructObjectInspector: ignoring similar errors.
2014-06-16 13:46:44,716 INFO [TezChild] org.apache.hadoop.hive.ql.exec.ReduceSinkOperator: GOPAL: numDistributionKeys = 1
&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; --&amp;gt; ExprNodeColumnEvaluator(_col10)
key_row={&lt;span class=&quot;code-quote&quot;&gt;&quot;reducesinkkey0&quot;&lt;/span&gt;:184}
full_row={&lt;span class=&quot;code-quote&quot;&gt;&quot;_col0&quot;&lt;/span&gt;:184,&lt;span class=&quot;code-quote&quot;&gt;&quot;_col3&quot;&lt;/span&gt;:21,&lt;span class=&quot;code-quote&quot;&gt;&quot;_col10&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;_col11&quot;&lt;/span&gt;:184,&lt;span class=&quot;code-quote&quot;&gt;&quot;_col14&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;1994-07-02&quot;&lt;/span&gt;}
col_names=reducesinkkey0,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14033253" author="navis" created="Tue, 17 Jun 2014 00:35:33 +0000"  >&lt;p&gt;_col10 is null which is &quot;VALUE._col0&quot; of MAP2, which is again &quot;o_orderkey&quot;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Reduce Output Operator
  key expressions: o_custkey (type: int)
  sort order: +
  Map-reduce partition columns: o_custkey (type: int)
  Statistics: Num rows: 166666666 Data size: 86571942280 Basic stats: COMPLETE Column stats: NONE
  value expressions: o_orderkey (type: int), o_orderdate (type: string)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Is the table &quot;orders&quot; contains nulls?&lt;/p&gt;</comment>
                            <comment id="14033435" author="gopalv" created="Tue, 17 Jun 2014 04:50:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;: TPC-H data shouldn&apos;t have any NULLs in the join keys.&lt;/p&gt;

&lt;p&gt;I will re-run the scans tomorrow. I can see one case where the schema from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-600&quot; title=&quot;Running TPC-H queries on Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-600&quot;&gt;HIVE-600&lt;/a&gt; might be completely broken. The Integer requirement in TPC-H requires only -2,147,483,646 to 2,147,483,647. &lt;/p&gt;

&lt;p&gt;Though rethinking this a bit, I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-600&quot; title=&quot;Running TPC-H queries on Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-600&quot;&gt;HIVE-600&lt;/a&gt;&apos;s schema a bug which assumed O_ORDERKEY would be an int (might not be 32-bit anymore at 1Tb scale). I will verify that we&apos;re not overflowing that integer limit at a higher scale tomorrow &amp;amp; producing nulls.&lt;/p&gt;

&lt;p&gt;I can confirm that. But that aside, I am more concerned about the difference in output between Tez &amp;amp; MR.&lt;/p&gt;

&lt;p&gt;In MR, no stage with a reduce sink will have a key row fed by a reduce input.  &lt;/p&gt;

&lt;p&gt;I will debug this more tomorrow to narrow down the query to a pair of shuffle-joins and compare output between MR &amp;amp; Tez plans.&lt;/p&gt;</comment>
                            <comment id="14034322" author="gopalv" created="Tue, 17 Jun 2014 20:31:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;: I found out that there are indeed o_orderkey entries which show up as 2148000000 in text, which lies outside the range of the TPC-H Identifier column spec.&lt;/p&gt;

&lt;p&gt;I will reload the data using bigint for o_orderkey soon.&lt;/p&gt;

&lt;p&gt;But I still want to locate and confirm the different results between MR and Tez here.&lt;/p&gt;</comment>
                            <comment id="14034675" author="navis" created="Wed, 18 Jun 2014 00:56:38 +0000"  >&lt;p&gt;Looks like something is wrong in broadcast join. I&apos;ll look into this.&lt;/p&gt;</comment>
                            <comment id="14034734" author="navis" created="Wed, 18 Jun 2014 02:37:15 +0000"  >&lt;p&gt;I&apos;ve reproduced the problem. It occurs on mapjoin + vetorization combination. &lt;/p&gt;</comment>
                            <comment id="14034859" author="navis" created="Wed, 18 Jun 2014 06:04:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Could you try the query with pre &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7121&quot; title=&quot;Use murmur hash to distribute HiveKey&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7121&quot;&gt;&lt;del&gt;HIVE-7121&lt;/del&gt;&lt;/a&gt;? Seemed caused by that.&lt;/p&gt;</comment>
                            <comment id="14034869" author="gopalv" created="Wed, 18 Jun 2014 06:24:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;: I tested this with git commit id 50f517a3930 - it has been broken from before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7121&quot; title=&quot;Use murmur hash to distribute HiveKey&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7121&quot;&gt;&lt;del&gt;HIVE-7121&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ hive --version
Hive 0.14.0-SNAPSHOT
Subversion git:&lt;span class=&quot;code-comment&quot;&gt;//cn041.l42scl.hortonworks.com/grid/5/dev/gopalv/tez-autobuild/hive -r 50f517a3930da0a987e6f6e908a91a7705bf9c60
&lt;/span&gt;Compiled by gopal on Tue Jun 17 23:16:51 PDT 2014
From source with checksum 8f75b133edadf23e29096f5e9b5d0f99
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sorry about the reducesinkkey0 confusion. &lt;/p&gt;

&lt;p&gt;I have assigned this to myself for more investigation - will edit the bug tomorrow to the actual issue of incorrect results.&lt;/p&gt;</comment>
                            <comment id="14035929" author="gopalv" created="Wed, 18 Jun 2014 16:49:59 +0000"  >&lt;p&gt;updated bug report with analysis&lt;/p&gt;</comment>
                            <comment id="14037176" author="hiveqa" created="Thu, 19 Jun 2014 09:42:21 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650983/HIVE-7232.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650983/HIVE-7232.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5654 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/513/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/513/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/513/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/513/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-513/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-513/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650983&lt;/p&gt;</comment>
                            <comment id="14040565" author="ashutoshc" created="Mon, 23 Jun 2014 09:33:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Do you want to review this one?&lt;/p&gt;</comment>
                            <comment id="14041575" author="gopalv" created="Tue, 24 Jun 2014 01:34:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;: Yes, I will review this today.&lt;/p&gt;</comment>
                            <comment id="14041785" author="gopalv" created="Tue, 24 Jun 2014 06:55:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;: LGTM +1. I will commit this.&lt;/p&gt;

&lt;p&gt;As part of my review, I found that &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;--- ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorReduceSinkOperator.java
+++ ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorReduceSinkOperator.java
@@ -210,6 +210,9 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void assign(VectorExpressionWriter[] writers,
       &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (limit &amp;gt;= 0 &amp;amp;&amp;amp; memUsage &amp;gt; 0) {
         reducerHash.initialize(limit, memUsage, conf.isMapGroupBy(), &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;);
       }
+
+      autoParallel = conf.isAutoParallel();
+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is the smallest patch needed to fix this issue.&lt;/p&gt;</comment>
                            <comment id="14041796" author="navis" created="Tue, 24 Jun 2014 07:10:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Right. Others are included tracking the problem. I&apos;m good in either way.&lt;/p&gt;</comment>
                            <comment id="14044320" author="gopalv" created="Thu, 26 Jun 2014 03:44:49 +0000"  >&lt;p&gt;Need to rebase patch to match recent qtest changes made &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7258&quot; title=&quot;Move qtest-Driver properties from pom to separate file  &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7258&quot;&gt;&lt;del&gt;HIVE-7258&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14044397" author="hiveqa" created="Thu, 26 Jun 2014 06:56:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12652546/HIVE-7232.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12652546/HIVE-7232.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5654 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/594/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/594/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/594/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/594/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-594/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-594/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12652546&lt;/p&gt;</comment>
                            <comment id="14045308" author="gopalv" created="Thu, 26 Jun 2014 23:09:54 +0000"  >&lt;p&gt;Committed to trunk, thanks!&lt;/p&gt;</comment>
                            <comment id="14045309" author="gopalv" created="Thu, 26 Jun 2014 23:10:33 +0000"  >&lt;p&gt;Committed to trunk, thanks!&lt;/p&gt;</comment>
                            <comment id="14045391" author="navis" created="Fri, 27 Jun 2014 00:43:47 +0000"  >&lt;p&gt;The result of tez_join_hash.q seemed not updated after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7159&quot; title=&quot;For inner joins push a &amp;#39;is not null predicate&amp;#39; to the join sources for every non nullSafe join condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7159&quot;&gt;&lt;del&gt;HIVE-7159&lt;/del&gt;&lt;/a&gt;. I&apos;ll do that.&lt;/p&gt;</comment>
                            <comment id="14210661" author="thejas" created="Thu, 13 Nov 2014 19:41:56 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12650645" name="HIVE-7232-extra-logging.patch" size="3243" author="gopalv" created="Mon, 16 Jun 2014 20:52:13 +0000"/>
                            <attachment id="12650983" name="HIVE-7232.1.patch.txt" size="17863" author="navis" created="Wed, 18 Jun 2014 07:15:32 +0000"/>
                            <attachment id="12652546" name="HIVE-7232.2.patch.txt" size="17423" author="gopalv" created="Thu, 26 Jun 2014 04:06:15 +0000"/>
                            <attachment id="12650646" name="q5.explain.txt" size="14050" author="gopalv" created="Mon, 16 Jun 2014 20:52:13 +0000"/>
                            <attachment id="12650647" name="q5.sql" size="654" author="gopalv" created="Mon, 16 Jun 2014 20:52:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 15 Jun 2014 05:47:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399432</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wrfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399541</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>VectorReduceSink is emitting incorrect JOIN keys (Navis, via Gopal V)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7233] File hive-hwi-0.13.1 not found on lib folder</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7233</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I found that: &lt;br/&gt;
line 27 of file &lt;br/&gt;
.../apache-hive-0.13.1-sr/hwi/pom.xml with &lt;br/&gt;
&amp;lt;package&amp;gt;jar&amp;lt;/package&amp;gt; instead of &amp;lt;package&amp;gt;war&amp;lt;/package&amp;gt;&lt;/p&gt;

&lt;p&gt;sorry my english is bad. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12721302">HIVE-7233</key>
            <summary>File hive-hwi-0.13.1 not found on lib folder</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="tfriedr">Thomas Friedrich</assignee>
                                    <reporter username="dhluong90">Dinh Hoang Luong</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Jun 2014 15:02:29 +0000</created>
                <updated>Sat, 27 Jun 2015 03:55:43 +0000</updated>
                            <resolved>Sat, 27 Jun 2015 03:55:43 +0000</resolved>
                                    <version>0.13.1</version>
                                                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14064608" author="in-chief" created="Thu, 17 Jul 2014 06:01:28 +0000"  >&lt;p&gt;1. hwi/pom.xml&lt;br/&gt;
  change packaging type to war&lt;br/&gt;
2. packaging/src/main/assembly/bin.xml&lt;br/&gt;
  add hive-0.13.1.war to bin tar ball&lt;/p&gt;</comment>
                            <comment id="14192720" author="tfriedr" created="Fri, 31 Oct 2014 23:19:08 +0000"  >&lt;p&gt;Provided a patch. Just changing the packaging for hwi to war is not enough because we need both the jar and the war. Since the packaging needs to be a war for the maven-war-plugin, I added code to also build the jar and attach it as an artifact.&lt;/p&gt;</comment>
                            <comment id="14192723" author="tfriedr" created="Fri, 31 Oct 2014 23:21:17 +0000"  >&lt;p&gt;The patch can be applied to both Hive 0.14 branch and trunk.&lt;/p&gt;</comment>
                            <comment id="14192963" author="hiveqa" created="Sat, 1 Nov 2014 05:04:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12678604/HIVE-7233.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12678604/HIVE-7233.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 6608 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_optimize_nullscan
org.apache.hive.hcatalog.streaming.TestStreaming.testInterleavedTransactionBatchCommits
org.apache.hive.minikdc.TestJdbcWithMiniKdc.testNegativeTokenAuth
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1585/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1585/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1585/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1585/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1585/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1585/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12678604 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14603952" author="apivovarov" created="Sat, 27 Jun 2015 03:55:17 +0000"  >&lt;p&gt;Lots of modern web project use embedded webservers like Tomcat or Jetty.&lt;br/&gt;
They are not supposed to be deployed to web container and this is why they should not be packed as WAR.&lt;/p&gt;

&lt;p&gt;Instead of it the webapp and embedded server are started as regular java program using HWIServer.main() (which calls HWIServer.start())&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12740970">HIVE-8070</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12726626">HIVE-7380</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12664773">HIVE-5132</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12678604" name="HIVE-7233.1.patch" size="2004" author="tfriedr" created="Fri, 31 Oct 2014 23:16:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Jul 2014 06:01:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399498</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wruf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399607</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7234] Select on decimal column throws NPE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7234</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Select on decimal column throws NPE for values greater than maximum permissible value (9999999999)&lt;/p&gt;

&lt;p&gt;Steps to repro:&lt;/p&gt;

&lt;p&gt;DROP TABLE IF EXISTS DECIMAL;&lt;/p&gt;

&lt;p&gt;CREATE TABLE DECIMAL (dec decimal);&lt;/p&gt;

&lt;p&gt;// Content of decimal_10_0.txt =&amp;gt; &quot;9999999999.999&quot;&lt;br/&gt;
LOAD DATA LOCAL INPATH &apos;../../data/files/decimal_10_0.txt&apos; OVERWRITE INTO TABLE DECIMAL;&lt;/p&gt;

&lt;p&gt;SELECT dec FROM DECIMAL; =&amp;gt; throws NPE&lt;/p&gt;

&lt;p&gt;DROP TABLE DECIMAL;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721325">HIVE-7234</key>
            <summary>Select on decimal column throws NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="singhashish">Ashish Singh</assignee>
                                    <reporter username="singhashish">Ashish Singh</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2014 01:09:22 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:54 +0000</updated>
                            <resolved>Sun, 22 Jun 2014 16:49:31 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14032270" author="hiveqa" created="Mon, 16 Jun 2014 09:43:35 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650503/HIVE-7234.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650503/HIVE-7234.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 5613 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_scriptfile1
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/481/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/481/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/481/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/481/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-481/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650503&lt;/p&gt;</comment>
                            <comment id="14032928" author="singhashish" created="Mon, 16 Jun 2014 20:50:54 +0000"  >&lt;p&gt;RB: &lt;a href=&quot;https://reviews.apache.org/r/22612&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/22612&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The test failures do not seem to be related to the patch.&lt;/p&gt;</comment>
                            <comment id="14033264" author="singhashish" created="Tue, 17 Jun 2014 00:48:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; Could you take a look when you get some time.&lt;/p&gt;</comment>
                            <comment id="14034563" author="swarnim" created="Tue, 17 Jun 2014 23:05:27 +0000"  >&lt;p&gt;Left some minor comments on RB.&lt;/p&gt;</comment>
                            <comment id="14035961" author="xuefuz" created="Wed, 18 Jun 2014 17:08:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=singhashish&quot; class=&quot;user-hover&quot; rel=&quot;singhashish&quot;&gt;Ashish Singh&lt;/a&gt; Thanks for looking into this. Here are my high-level comments.&lt;/p&gt;

&lt;p&gt;1. In the description area, could you describe how to reproduce the problem (such as query that you use, steps that you take)? I tried but wasn&apos;t able to reproduce.&lt;br/&gt;
2. I don&apos;t feel that we need to handle decimal&apos;s NULL differently from other data types.&lt;/p&gt;</comment>
                            <comment id="14036201" author="singhashish" created="Wed, 18 Jun 2014 19:13:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt;, thanks for reviewing. Answered your comments on RB and updated patch based on reviews.&lt;/p&gt;</comment>
                            <comment id="14036209" author="singhashish" created="Wed, 18 Jun 2014 19:16:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, updated description. Let me know if you are still not able to repro it.&lt;/p&gt;</comment>
                            <comment id="14036632" author="xuefuz" created="Wed, 18 Jun 2014 23:18:14 +0000"  >&lt;p&gt;A few minor comments on review board.&lt;/p&gt;</comment>
                            <comment id="14036682" author="singhashish" created="Wed, 18 Jun 2014 23:56:17 +0000"  >&lt;p&gt;Updated based on review comments on RB.&lt;/p&gt;</comment>
                            <comment id="14038085" author="hiveqa" created="Thu, 19 Jun 2014 23:18:19 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651316/HIVE-7234.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651316/HIVE-7234.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5640 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_metadata_only_queries
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/518/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/518/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/518/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/518/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-518/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-518/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651316&lt;/p&gt;</comment>
                            <comment id="14038111" author="singhashish" created="Thu, 19 Jun 2014 23:44:41 +0000"  >&lt;p&gt;The test errors do not look related to the patch.&lt;/p&gt;</comment>
                            <comment id="14038221" author="xuefuz" created="Fri, 20 Jun 2014 01:21:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14038456" author="singhashish" created="Fri, 20 Jun 2014 05:15:54 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; for reviewing.&lt;/p&gt;</comment>
                            <comment id="14040170" author="xuefuz" created="Sun, 22 Jun 2014 16:49:32 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks to Ashish for the contribution.&lt;/p&gt;</comment>
                            <comment id="14210849" author="thejas" created="Thu, 13 Nov 2014 19:42:54 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12651256" name="HIVE-7234.2.patch" size="10979" author="singhashish" created="Wed, 18 Jun 2014 21:11:58 +0000"/>
                            <attachment id="12651316" name="HIVE-7234.3.patch" size="4760" author="singhashish" created="Wed, 18 Jun 2014 23:56:17 +0000"/>
                            <attachment id="12650503" name="HIVE-7234.patch" size="8510" author="singhashish" created="Mon, 16 Jun 2014 02:08:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Jun 2014 09:43:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wrzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7235] TABLESAMPLE on join table is regarded as alias</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7235</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT c_custkey, o_custkey
FROM customer tablesample (1000 ROWS) join orders tablesample (1000 ROWS) on c_custkey = o_custkey;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Fails with NPE&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721333">HIVE-7235</key>
            <summary>TABLESAMPLE on join table is regarded as alias</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2014 03:24:34 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:02 +0000</updated>
                            <resolved>Tue, 24 Jun 2014 05:38:25 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14037348" author="hiveqa" created="Thu, 19 Jun 2014 14:00:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651013/HIVE-7235.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651013/HIVE-7235.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5654 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/515/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/515/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/515/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/515/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-515/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-515/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651013&lt;/p&gt;</comment>
                            <comment id="14040570" author="ashutoshc" created="Mon, 23 Jun 2014 09:37:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; Can you take a look at this one?&lt;/p&gt;</comment>
                            <comment id="14041183" author="rhbutani" created="Mon, 23 Jun 2014 19:41:07 +0000"  >&lt;p&gt;+1 lgtm&lt;/p&gt;</comment>
                            <comment id="14041714" author="ashutoshc" created="Tue, 24 Jun 2014 05:38:25 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="14210877" author="thejas" created="Thu, 13 Nov 2014 19:43:02 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12651013" name="HIVE-7235.1.patch.txt" size="1089522" author="navis" created="Wed, 18 Jun 2014 08:04:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Jun 2014 14:00:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399529</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ws1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7236] Tez progress monitor should indicate running/failed tasks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7236</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, the only logging in TezJobMonitor is for completed tasks. &lt;/p&gt;

&lt;p&gt;This makes it hard to locate task stalls and task failures. Failure scenarios are harder to debug, in particular when analyzing query runs on a cluster with bad nodes.&lt;/p&gt;

&lt;p&gt;Change the job monitor to log running &amp;amp; failed tasks as follows.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Map 1: 0(+157,-1)/1755     Reducer 2: 0/1  
Map 1: 0(+168,-1)/1755     Reducer 2: 0/1  
Map 1: 0(+189,-1)/1755     Reducer 2: 0/1  
Map 1: 0(+189,-1)/1755     Reducer 2: 0/1 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That is 189 tasks running, 1 failure and 0 complete.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721335">HIVE-7236</key>
            <summary>Tez progress monitor should indicate running/failed tasks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gopalv">Gopal V</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                            <label>TODOC14</label>
                    </labels>
                <created>Mon, 16 Jun 2014 03:48:43 +0000</created>
                <updated>Thu, 13 Nov 2014 19:40:20 +0000</updated>
                            <resolved>Wed, 18 Jun 2014 22:37:56 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14033296" author="hagleitn" created="Tue, 17 Jun 2014 01:26:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14036470" author="hiveqa" created="Wed, 18 Jun 2014 21:59:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650509/HIVE-7236.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650509/HIVE-7236.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5579 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/504/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/504/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/504/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/504/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-504/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-504/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650509&lt;/p&gt;</comment>
                            <comment id="14036563" author="hagleitn" created="Wed, 18 Jun 2014 22:33:19 +0000"  >&lt;p&gt;Failures are unrelated.&lt;/p&gt;</comment>
                            <comment id="14036575" author="hagleitn" created="Wed, 18 Jun 2014 22:37:56 +0000"  >&lt;p&gt;Committed to trunk. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14037071" author="lefty@hortonworks.com" created="Thu, 19 Jun 2014 07:33:21 +0000"  >&lt;p&gt;Where can this be documented?&lt;/p&gt;</comment>
                            <comment id="14039616" author="gopalv" created="Sat, 21 Jun 2014 01:03:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt;: Not sure. &lt;/p&gt;

&lt;p&gt;The (+n,-m) needs explaining, but I do not see any Tez specific documentation for hive on the wiki to add this to.&lt;/p&gt;</comment>
                            <comment id="14039730" author="lefty@hortonworks.com" created="Sat, 21 Jun 2014 07:41:35 +0000"  >&lt;p&gt;Right, the only place I see is the design doc:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+on+Tez&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Hive on Tez &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Ideally we&apos;d create a user doc, but as a quick fix how about adding an update note to the Job Monitoring or Job Diagnostics section?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+on+Tez#HiveonTez-Jobmonitoring&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Job Monitoring &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+on+Tez#HiveonTez-Jobdiagnostics&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Job Diagnostics &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;However if an Updates &amp;amp; Improvements section would be useful for other new information, it should go at the end of the design doc and this could go there with a link from Job Monitoring or Diagnostics.&lt;/p&gt;

&lt;p&gt;Also, the user docs could have a stub pointing to the design doc.&lt;/p&gt;</comment>
                            <comment id="14210343" author="thejas" created="Thu, 13 Nov 2014 19:40:20 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12650509" name="HIVE-7236.1.patch" size="2124" author="gopalv" created="Mon, 16 Jun 2014 03:55:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jun 2014 01:26:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ws1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399640</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Log Tez running/failed tasks in TezJobMonitor</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7237] hive.exec.parallel=true w/ Hive 0.13/Tez causes application to linger forever</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7237</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;set hive.exec.parallel=true; will cause the Yarn application instance to linger&lt;br/&gt;
forever. set hive.exec.parallel=false, the application goes away as soon as hive query is complete. The underlying table is an ORC store_sales table compressed with SNAPPY.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive.exec.parallel=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
select * from store_sales where ss_ticket_number=5741230 and ss_item_sk=4825
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The query will run under Tez and finish &amp;lt;&amp;lt; 30 seconds.&lt;/p&gt;

&lt;p&gt;After 30-40 of these jobs the cluster gets to a point where no jobs will finish.&lt;/p&gt;</description>
                <environment>&lt;p&gt;HDP 2.1, Hive 0.13, SLES 11, 128GB data nodes, ORC SNAPPY&lt;/p&gt;</environment>
        <key id="12721430">HIVE-7237</key>
            <summary>hive.exec.parallel=true w/ Hive 0.13/Tez causes application to linger forever</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="dmoore247">Douglas Moore</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2014 15:01:22 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:25 +0000</updated>
                            <resolved>Tue, 24 Jun 2014 00:58:04 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14037466" author="hiveqa" created="Thu, 19 Jun 2014 16:11:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651056/HIVE-7237.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651056/HIVE-7237.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5654 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_groupby1
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/516/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/516/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/516/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/516/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-516/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-516/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651056&lt;/p&gt;</comment>
                            <comment id="14040459" author="hiveqa" created="Mon, 23 Jun 2014 06:29:20 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651909/HIVE-7237.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651909/HIVE-7237.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5669 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/556/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/556/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/556/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/556/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-556/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-556/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651909&lt;/p&gt;</comment>
                            <comment id="14040568" author="ashutoshc" created="Mon, 23 Jun 2014 09:34:55 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14041549" author="navis" created="Tue, 24 Jun 2014 00:58:04 +0000"  >&lt;p&gt;Committed to trunk. Thanks Ashutosh, for the review.&lt;/p&gt;</comment>
                            <comment id="14210966" author="thejas" created="Thu, 13 Nov 2014 19:43:25 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12651056" name="HIVE-7237.1.patch.txt" size="704" author="navis" created="Wed, 18 Jun 2014 08:36:53 +0000"/>
                            <attachment id="12651909" name="HIVE-7237.2.patch.txt" size="804" author="navis" created="Mon, 23 Jun 2014 01:18:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Jun 2014 16:11:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wsmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7238] show partitions when using schema does not work</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7238</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SHOW PARTITIONS command when used with the schema option throws an error &quot;ParseException line 1:24 missing EOF&quot;. User would need to every time go into the schema to see the partitions. &lt;/p&gt;

&lt;p&gt;Details of the issue/hive commands:&lt;br/&gt;
----------------------------------------------&lt;/p&gt;

&lt;p&gt;hive (kh_work)&amp;gt; show partitions closeout.pos_retaileritem;&lt;br/&gt;
FAILED: ParseException line 1:24 missing EOF at &apos;.&apos; near &apos;closeout&apos;&lt;/p&gt;

&lt;p&gt;hive (kh_work)&amp;gt; use closeout;&lt;br/&gt;
OK&lt;br/&gt;
Time taken: 0.0060 seconds&lt;br/&gt;
hive (closeout)&amp;gt; show partitions pos_retaileritem;&lt;br/&gt;
OK&lt;br/&gt;
partition&lt;br/&gt;
pk_business=tec/pk_data_source=pos/pk_frequency=cat/pk_data_state=c07132&lt;br/&gt;
Time taken: 0.183 seconds, Fetched: 1 row(s)&lt;br/&gt;
hive (closeout)&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721474">HIVE-7238</key>
            <summary>show partitions when using schema does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="khussain">Khaja Hussain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2014 18:23:23 +0000</created>
                <updated>Tue, 2 Sep 2014 04:49:42 +0000</updated>
                            <resolved>Tue, 2 Sep 2014 04:49:42 +0000</resolved>
                                    <version>0.12.0</version>
                                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="12633663">HIVE-4064</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12633663">HIVE-4064</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399670</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wswf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399779</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7239] Fix bug in HiveIndexedInputFormat implementation that causes incorrect query result when input backed by Sequence/RC files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7239</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In case of sequence files, it&apos;s crucial that splits are calculated around the boundaries enforced by the input sequence file. However by default hadoop creates input splits depending on the configuration parameters which may not match the boundaries for the input sequence file. Hive provides HiveIndexedInputFormat that provides extra logic and recalculates the split boundaries for each split depending on the sequence file&apos;s boundaries.&lt;/p&gt;

&lt;p&gt;However we noticed this behavior of &quot;over&quot; reporting from data backed by sequence file. We&apos;ve a sample data on which we experimented and fixed this bug, we have verified this fix by comparing the query output for input being sequence file format, rc file and regular format. However we have not able to find the right place to include this as a unit test that would execute as part of hive tests. We tried writing a &quot;clientpositive&quot; test as part of ql module but the output seems quite verbose and i couldn&apos;t interpret it that well. Can someone please review this change and guide on how to write a test that will execute as part of Hive testing?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721479">HIVE-7239</key>
            <summary>Fix bug in HiveIndexedInputFormat implementation that causes incorrect query result when input backed by Sequence/RC files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yalovyyi">Illya Yalovyy</assignee>
                                    <reporter username="ksumit">Sumit Kumar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2014 18:47:57 +0000</created>
                <updated>Wed, 26 Jul 2017 03:30:15 +0000</updated>
                            <resolved>Tue, 9 Aug 2016 19:44:23 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14032771" author="ksumit" created="Mon, 16 Jun 2014 18:49:32 +0000"  >&lt;p&gt;Please review and recommend a way to test this patch as part of hive unit tests/cli tests/otherwise&lt;/p&gt;</comment>
                            <comment id="14033432" author="hiveqa" created="Tue, 17 Jun 2014 04:47:24 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650622/HIVE-7239.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650622/HIVE-7239.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 5611 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/487/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/487/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/487/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/487/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-487/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-487/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650622&lt;/p&gt;</comment>
                            <comment id="14033440" author="ksumit" created="Tue, 17 Jun 2014 05:03:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; Is this something you would review and recommend on? The test results seem to be known failures (please correct me if i&apos;m wrong). In case you are not the right person, will you be able to include the right person please?&lt;/p&gt;</comment>
                            <comment id="14047388" author="ashutoshc" created="Mon, 30 Jun 2014 05:29:31 +0000"  >&lt;p&gt;Either of &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt; may be able to review this one. Yeah, failures are known ones.&lt;/p&gt;</comment>
                            <comment id="15375220" author="yalovyyi" created="Wed, 13 Jul 2016 15:40:41 +0000"  >&lt;p&gt;This patch should be reworked and contain unit/qtests.&lt;/p&gt;</comment>
                            <comment id="15391178" author="yalovyyi" created="Sun, 24 Jul 2016 21:29:47 +0000"  >&lt;p&gt;Trying to re-run QA&lt;/p&gt;</comment>
                            <comment id="15392697" author="yalovyyi" created="Mon, 25 Jul 2016 21:26:14 +0000"  >&lt;p&gt;It seems like PreCommit job ignores patches from this jira issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, could you please help me out? How to force tests to run on this patch?&lt;/p&gt;</comment>
                            <comment id="15394412" author="hiveqa" created="Tue, 26 Jul 2016 19:40:03 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12820032/HIVE-7239.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12820032/HIVE-7239.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/651/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/651/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/651/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/651/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-651/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-651/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.8.0_25 ]]
+ export JAVA_HOME=/usr/java/jdk1.8.0_25
+ JAVA_HOME=/usr/java/jdk1.8.0_25
+ export PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/java/jdk1.8.0_25/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-MASTER-Build-651/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   dcfc31b..87bc121  master     -&amp;gt; origin/master
   5015e20..d87cb86  branch-2.1 -&amp;gt; origin/branch-2.1
+ git reset --hard HEAD
HEAD is now at dcfc31b HIVE-14123: Add beeline configuration option to show database in the prompt (Peter Vary, reviewed by Aihua Xu)
+ git clean -f -d
Removing b/
Removing common/src/java/org/apache/hadoop/hive/common/FileUtils.java.orig
Removing ql/src/test/queries/clientpositive/authorization_load.q
Removing ql/src/test/queries/clientpositive/exim_25_export_parentpath_has_inaccessible_children.q
Removing ql/src/test/results/clientpositive/authorization_load.q.out
Removing ql/src/test/results/clientpositive/exim_25_export_parentpath_has_inaccessible_children.q.out
+ git checkout master
Already on &apos;master&apos;
Your branch is behind &apos;origin/master&apos; by 2 commits, and can be fast-forwarded.
  (use &quot;git pull&quot; to update your local branch)
+ git reset --hard origin/master
HEAD is now at 87bc121 HIVE-14324: ORC PPD for floats is broken (Prasanth Jayachandran reviewed by Gopal V)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12820032 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15395048" author="yalovyyi" created="Wed, 27 Jul 2016 05:08:52 +0000"  >&lt;p&gt;There is a conflict with one of the latest commits.&lt;/p&gt;</comment>
                            <comment id="15395049" author="yalovyyi" created="Wed, 27 Jul 2016 05:09:25 +0000"  >&lt;p&gt;Patch was rebased.&lt;/p&gt;</comment>
                            <comment id="15397774" author="hiveqa" created="Thu, 28 Jul 2016 16:32:40 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12820366/HIVE-7239.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12820366/HIVE-7239.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 3 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 10391 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMsgBusConnection - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avro_nullable_union
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_avro_non_nullable_union
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/674/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/674/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/674/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/674/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-674/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-674/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12820366 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15397917" author="yalovyyi" created="Thu, 28 Jul 2016 18:02:11 +0000"  >&lt;p&gt;The build page &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; shows 4 failed tests:&lt;br/&gt;
    org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13&lt;br/&gt;
    org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_avro_nullable_union&lt;br/&gt;
    org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_avro_non_nullable_union&lt;br/&gt;
    org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert&lt;/p&gt;

&lt;p&gt;3 of them have been failing for a while. &lt;br/&gt;
TestCliDriver.testCliDriver_list_bucket_dml_13 is irrelevant to this patch.&lt;/p&gt;

&lt;p&gt;Please suggest the next step to get this patch accepted.&lt;/p&gt;


&lt;p&gt;1. &lt;a href=&quot;https://builds.apache.org/view/H-L/view/Hive/job/PreCommit-HIVE-MASTER-Build/674/#showFailuresLink&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/Hive/job/PreCommit-HIVE-MASTER-Build/674/#showFailuresLink&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15402460" author="yalovyyi" created="Mon, 1 Aug 2016 17:29:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Could you please review this patch and suggest the next step to get it accepted?&lt;/p&gt;</comment>
                            <comment id="15413633" author="yalovyyi" created="Tue, 9 Aug 2016 14:42:33 +0000"  >&lt;p&gt;Added a code review link.&lt;/p&gt;</comment>
                            <comment id="15413777" author="ashutoshc" created="Tue, 9 Aug 2016 16:03:49 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15414113" author="ashutoshc" created="Tue, 9 Aug 2016 19:44:23 +0000"  >&lt;p&gt;Pushed to master. Thanks, Illya!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12819445" name="HIVE-7239.2.patch" size="37173" author="yalovyyi" created="Thu, 21 Jul 2016 19:13:55 +0000"/>
                            <attachment id="12820032" name="HIVE-7239.3.patch" size="37173" author="yalovyyi" created="Mon, 25 Jul 2016 21:35:21 +0000"/>
                            <attachment id="12820366" name="HIVE-7239.4.patch" size="36819" author="yalovyyi" created="Wed, 27 Jul 2016 05:09:25 +0000"/>
                            <attachment id="12650622" name="HIVE-7239.patch" size="7060" author="ksumit" created="Mon, 16 Jun 2014 18:49:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jun 2014 04:47:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wsxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7240] Add classifier for avro-mapred jar</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7240</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12721485">HIVE-7240</key>
            <summary>Add classifier for avro-mapred jar</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2014 19:19:32 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:17 +0000</updated>
                            <resolved>Wed, 18 Jun 2014 01:08:58 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14033559" author="hiveqa" created="Tue, 17 Jun 2014 08:38:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650628/HIVE-7240.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650628/HIVE-7240.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 5536 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_columnar
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_join_filter
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/488/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/488/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/488/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/488/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-488/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-488/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650628&lt;/p&gt;</comment>
                            <comment id="14034569" author="hagleitn" created="Tue, 17 Jun 2014 23:08:29 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14034692" author="ashutoshc" created="Wed, 18 Jun 2014 01:08:59 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="14210732" author="thejas" created="Thu, 13 Nov 2014 19:42:17 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12733755">HIVE-7712</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12650628" name="HIVE-7240.1.patch" size="791" author="ashutoshc" created="Mon, 16 Jun 2014 19:26:47 +0000"/>
                            <attachment id="12650627" name="HIVE-7240.patch" size="393" author="ashutoshc" created="Mon, 16 Jun 2014 19:20:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jun 2014 08:38:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wsyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399790</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7241] Wrong lock acquired for alter table rename partition</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7241</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Doing an &quot;alter table foo partition (bar=&apos;x&apos;) rename to partition (bar=&apos;y&apos;)&quot; acquires a read lock on table foo.  It should instead acquire an exclusive lock on partition bar=x.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721509">HIVE-7241</key>
            <summary>Wrong lock acquired for alter table rename partition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2014 21:17:52 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:19 +0000</updated>
                            <resolved>Tue, 24 Jun 2014 05:42:17 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Locking</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14033122" author="alangates" created="Mon, 16 Jun 2014 22:37:51 +0000"  >&lt;p&gt;This patch depends on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7202&quot; title=&quot;DbTxnManager deadlocks in hcatalog.cli.TestSematicAnalysis.testAlterTblFFpart()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7202&quot;&gt;&lt;del&gt;HIVE-7202&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14034648" author="hiveqa" created="Wed, 18 Jun 2014 00:23:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650679/HIVE-7241.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650679/HIVE-7241.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/495/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/495/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/495/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/495/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-495/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-495/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
Decision can match input such as &quot;LPAREN KW_CASE KW_ARRAY&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:68:4: 
Decision can match input such as &quot;LPAREN KW_CASE TinyintLiteral&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:68:4: 
Decision can match input such as &quot;LPAREN KW_CASE KW_STRUCT&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:68:4: 
Decision can match input such as &quot;LPAREN KW_CASE SmallintLiteral&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:115:5: 
Decision can match input such as &quot;KW_CLUSTER KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:127:5: 
Decision can match input such as &quot;KW_PARTITION KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:138:5: 
Decision can match input such as &quot;KW_DISTRIBUTE KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:149:5: 
Decision can match input such as &quot;KW_SORT KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:166:7: 
Decision can match input such as &quot;STAR&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_STRUCT&quot; using multiple alternatives: 4, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_UNIONTYPE&quot; using multiple alternatives: 5, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_ARRAY&quot; using multiple alternatives: 2, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_DATE StringLiteral&quot; using multiple alternatives: 2, 3

As a result, alternative(s) 3 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_FALSE&quot; using multiple alternatives: 3, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_TRUE&quot; using multiple alternatives: 3, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_NULL&quot; using multiple alternatives: 1, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_INSERT KW_OVERWRITE&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_DISTRIBUTE KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_MAP LPAREN&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_INSERT KW_INTO&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_LATERAL KW_VIEW&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_GROUP KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;KW_BETWEEN KW_MAP LPAREN&quot; using multiple alternatives: 8, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_ORDER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_SORT KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_UNION KW_ALL&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_CLUSTER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:518:5: 
Decision can match input such as &quot;{AMPERSAND..BITWISEXOR, DIV..DIVIDE, EQUAL..EQUAL_NS, GREATERTHAN..GREATERTHANOREQUALTO, KW_AND, KW_ARRAY, KW_BETWEEN..KW_BOOLEAN, KW_CASE, KW_DOUBLE, KW_FLOAT, KW_IF, KW_IN, KW_INT, KW_LIKE, KW_MAP, KW_NOT, KW_OR, KW_REGEXP, KW_RLIKE, KW_SMALLINT, KW_STRING..KW_STRUCT, KW_TINYINT, KW_UNIONTYPE, KW_WHEN, LESSTHAN..LESSTHANOREQUALTO, MINUS..NOTEQUAL, PLUS, STAR, TILDE}&quot; using multiple alternatives: 1, 3

As a result, alternative(s) 3 were disabled for that input
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-exec ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-exec ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-exec ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-exec ---
[INFO] Compiling 1698 source files to /data/hive-ptest/working/apache-svn-trunk-source/ql/target/classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java: Some input files use or override a deprecated API.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java: Recompile with -Xlint:deprecation for details.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java: Some input files use unchecked or unsafe operations.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java: Recompile with -Xlint:unchecked for details.
[INFO] 4 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java:[2543,7] cannot find symbol
  symbol:   method noLockNeeded()
  location: variable re of type org.apache.hadoop.hive.ql.hooks.ReadEntity
[INFO] 1 error
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [10.380s]
[INFO] Hive Ant Utilities ................................ SUCCESS [6.367s]
[INFO] Hive Shims Common ................................. SUCCESS [4.220s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [2.797s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [4.260s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [2.691s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [6.900s]
[INFO] Hive Shims ........................................ SUCCESS [0.743s]
[INFO] Hive Common ....................................... SUCCESS [14.824s]
[INFO] Hive Serde ........................................ SUCCESS [13.983s]
[INFO] Hive Metastore .................................... SUCCESS [32.918s]
[INFO] Hive Query Language ............................... FAILURE [1:08.313s]
[INFO] Hive Service ...................................... SKIPPED
[INFO] Hive JDBC ......................................... SKIPPED
[INFO] Hive Beeline ...................................... SKIPPED
[INFO] Hive CLI .......................................... SKIPPED
[INFO] Hive Contrib ...................................... SKIPPED
[INFO] Hive HBase Handler ................................ SKIPPED
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog Streaming ........................... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2:51.079s
[INFO] Finished at: Tue Jun 17 20:22:26 EDT 2014
[INFO] Final Memory: 85M/467M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-exec: Compilation failure
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java:[2543,7] cannot find symbol
[ERROR] symbol:   method noLockNeeded()
[ERROR] location: variable re of type org.apache.hadoop.hive.ql.hooks.ReadEntity
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-exec
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650679&lt;/p&gt;</comment>
                            <comment id="14037888" author="alangates" created="Thu, 19 Jun 2014 21:07:28 +0000"  >&lt;p&gt;Need to wait for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7202&quot; title=&quot;DbTxnManager deadlocks in hcatalog.cli.TestSematicAnalysis.testAlterTblFFpart()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7202&quot;&gt;&lt;del&gt;HIVE-7202&lt;/del&gt;&lt;/a&gt; before marking this one patch available.&lt;/p&gt;</comment>
                            <comment id="14039088" author="alangates" created="Fri, 20 Jun 2014 17:47:35 +0000"  >&lt;p&gt;Marking patch available now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7202&quot; title=&quot;DbTxnManager deadlocks in hcatalog.cli.TestSematicAnalysis.testAlterTblFFpart()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7202&quot;&gt;&lt;del&gt;HIVE-7202&lt;/del&gt;&lt;/a&gt; is committed.&lt;/p&gt;</comment>
                            <comment id="14039979" author="hiveqa" created="Sat, 21 Jun 2014 22:43:09 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651697/HIVE-7241.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651697/HIVE-7241.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5668 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/544/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/544/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/544/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/544/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-544/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-544/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651697&lt;/p&gt;</comment>
                            <comment id="14041061" author="alangates" created="Mon, 23 Jun 2014 18:11:58 +0000"  >&lt;p&gt;root_dir_external_table and authorization_ctas fail on trunk.  The other two pass in my local tests on both trunk and with my patch, so I do not believe any of these are related to the patch.&lt;/p&gt;</comment>
                            <comment id="14041679" author="ashutoshc" created="Tue, 24 Jun 2014 04:48:05 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14041720" author="ashutoshc" created="Tue, 24 Jun 2014 05:42:17 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Alan!&lt;/p&gt;</comment>
                            <comment id="14043204" author="lefty@hortonworks.com" created="Wed, 25 Jun 2014 08:45:12 +0000"  >&lt;p&gt;The wiki&apos;s Locking doc doesn&apos;t include &quot;alter table T1 partition P1 rename to partition P2&quot; so it ought to be added to the table of Hive commands and locks acquired in the Use Cases section:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Locking?from=_YKhAQ#Locking-UseCases&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Hive Concurrency Model &amp;#8211; Use Cases &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14189350" author="alangates" created="Thu, 30 Oct 2014 00:09:15 +0000"  >&lt;p&gt;The list of locks there just covers the older ZK and memory lock models.  The locks for DbLockMgr are completely different.  They are covered briefly in &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions-LockManager&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions-LockManager&lt;/a&gt; but not listed individually, so there&apos;s no need to add this change in the documentation.&lt;/p&gt;</comment>
                            <comment id="14189781" author="lefty@hortonworks.com" created="Thu, 30 Oct 2014 08:10:38 +0000"  >&lt;p&gt;Understood.  Thanks.&lt;/p&gt;</comment>
                            <comment id="14210736" author="thejas" created="Thu, 13 Nov 2014 19:42:19 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12720242">HIVE-7202</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12651697" name="HIVE-7241.patch" size="4294" author="alangates" created="Fri, 20 Jun 2014 17:47:02 +0000"/>
                            <attachment id="12650679" name="HIVE-7241.patch" size="4294" author="alangates" created="Mon, 16 Jun 2014 22:37:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Jun 2014 00:23:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399705</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wt47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7242] alter table drop partition is acquiring the wrong type of lock</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7242</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Doing an &quot;alter table foo drop partition (&apos;bar=x&apos;)&quot; acquired a shared-write lock on partition bar=x.  It should be acquiring an exclusive lock in that case.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721512">HIVE-7242</key>
            <summary>alter table drop partition is acquiring the wrong type of lock</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2014 21:20:45 +0000</created>
                <updated>Thu, 13 Nov 2014 19:39:53 +0000</updated>
                            <resolved>Tue, 24 Jun 2014 05:44:10 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Locking</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14033078" author="alangates" created="Mon, 16 Jun 2014 22:04:55 +0000"  >&lt;p&gt;This patch depends on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7202&quot; title=&quot;DbTxnManager deadlocks in hcatalog.cli.TestSematicAnalysis.testAlterTblFFpart()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7202&quot;&gt;&lt;del&gt;HIVE-7202&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14034420" author="hiveqa" created="Tue, 17 Jun 2014 21:41:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650664/HIVE-7242.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650664/HIVE-7242.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/493/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/493/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/493/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/493/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-493/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-493/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
Decision can match input such as &quot;LPAREN KW_CASE KW_ARRAY&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:68:4: 
Decision can match input such as &quot;LPAREN KW_CASE TinyintLiteral&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:68:4: 
Decision can match input such as &quot;LPAREN KW_CASE KW_STRUCT&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:68:4: 
Decision can match input such as &quot;LPAREN KW_CASE SmallintLiteral&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:115:5: 
Decision can match input such as &quot;KW_CLUSTER KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:127:5: 
Decision can match input such as &quot;KW_PARTITION KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:138:5: 
Decision can match input such as &quot;KW_DISTRIBUTE KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:149:5: 
Decision can match input such as &quot;KW_SORT KW_BY LPAREN&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:166:7: 
Decision can match input such as &quot;STAR&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_STRUCT&quot; using multiple alternatives: 4, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_UNIONTYPE&quot; using multiple alternatives: 5, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_ARRAY&quot; using multiple alternatives: 2, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_DATE StringLiteral&quot; using multiple alternatives: 2, 3

As a result, alternative(s) 3 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_FALSE&quot; using multiple alternatives: 3, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_TRUE&quot; using multiple alternatives: 3, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_NULL&quot; using multiple alternatives: 1, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_INSERT KW_OVERWRITE&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_DISTRIBUTE KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_MAP LPAREN&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_INSERT KW_INTO&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_LATERAL KW_VIEW&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_GROUP KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;KW_BETWEEN KW_MAP LPAREN&quot; using multiple alternatives: 8, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_ORDER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_SORT KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_UNION KW_ALL&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_CLUSTER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:518:5: 
Decision can match input such as &quot;{AMPERSAND..BITWISEXOR, DIV..DIVIDE, EQUAL..EQUAL_NS, GREATERTHAN..GREATERTHANOREQUALTO, KW_AND, KW_ARRAY, KW_BETWEEN..KW_BOOLEAN, KW_CASE, KW_DOUBLE, KW_FLOAT, KW_IF, KW_IN, KW_INT, KW_LIKE, KW_MAP, KW_NOT, KW_OR, KW_REGEXP, KW_RLIKE, KW_SMALLINT, KW_STRING..KW_STRUCT, KW_TINYINT, KW_UNIONTYPE, KW_WHEN, LESSTHAN..LESSTHANOREQUALTO, MINUS..NOTEQUAL, PLUS, STAR, TILDE}&quot; using multiple alternatives: 1, 3

As a result, alternative(s) 3 were disabled for that input
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-exec ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-exec ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-exec ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-exec ---
[INFO] Compiling 1698 source files to /data/hive-ptest/working/apache-svn-trunk-source/ql/target/classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java: Some input files use or override a deprecated API.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java: Recompile with -Xlint:deprecation for details.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java: Some input files use unchecked or unsafe operations.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java: Recompile with -Xlint:unchecked for details.
[INFO] 4 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java:[2603,7] cannot find symbol
  symbol:   method noLockNeeded()
  location: variable re of type org.apache.hadoop.hive.ql.hooks.ReadEntity
[INFO] 1 error
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [13.006s]
[INFO] Hive Ant Utilities ................................ SUCCESS [9.238s]
[INFO] Hive Shims Common ................................. SUCCESS [4.030s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [3.106s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [4.064s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [2.644s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [7.058s]
[INFO] Hive Shims ........................................ SUCCESS [0.796s]
[INFO] Hive Common ....................................... SUCCESS [14.436s]
[INFO] Hive Serde ........................................ SUCCESS [13.716s]
[INFO] Hive Metastore .................................... SUCCESS [33.600s]
[INFO] Hive Query Language ............................... FAILURE [1:13.903s]
[INFO] Hive Service ...................................... SKIPPED
[INFO] Hive JDBC ......................................... SKIPPED
[INFO] Hive Beeline ...................................... SKIPPED
[INFO] Hive CLI .......................................... SKIPPED
[INFO] Hive Contrib ...................................... SKIPPED
[INFO] Hive HBase Handler ................................ SKIPPED
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog Streaming ........................... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3:02.396s
[INFO] Finished at: Tue Jun 17 17:39:30 EDT 2014
[INFO] Final Memory: 85M/543M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-exec: Compilation failure
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java:[2603,7] cannot find symbol
[ERROR] symbol:   method noLockNeeded()
[ERROR] location: variable re of type org.apache.hadoop.hive.ql.hooks.ReadEntity
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-exec
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650664&lt;/p&gt;</comment>
                            <comment id="14037886" author="alangates" created="Thu, 19 Jun 2014 21:07:05 +0000"  >&lt;p&gt;Forgot to wait for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7202&quot; title=&quot;DbTxnManager deadlocks in hcatalog.cli.TestSematicAnalysis.testAlterTblFFpart()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7202&quot;&gt;&lt;del&gt;HIVE-7202&lt;/del&gt;&lt;/a&gt; to be checked in before I marked patch available.&lt;/p&gt;</comment>
                            <comment id="14039090" author="alangates" created="Fri, 20 Jun 2014 17:48:30 +0000"  >&lt;p&gt;Marking patch available now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7202&quot; title=&quot;DbTxnManager deadlocks in hcatalog.cli.TestSematicAnalysis.testAlterTblFFpart()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7202&quot;&gt;&lt;del&gt;HIVE-7202&lt;/del&gt;&lt;/a&gt; is committed.&lt;/p&gt;</comment>
                            <comment id="14039940" author="hiveqa" created="Sat, 21 Jun 2014 20:33:29 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651698/HIVE-7242.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651698/HIVE-7242.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5668 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/543/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/543/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/543/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/543/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-543/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-543/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651698&lt;/p&gt;</comment>
                            <comment id="14041101" author="alangates" created="Mon, 23 Jun 2014 18:33:56 +0000"  >&lt;p&gt;dynpart_sort_optimization passes on both trunk and with the patch when I run it.  root_dir_external_table and authorization_ctas are broken on trunk right now.  So I don&apos;t believe these test failures are related to this patch.&lt;/p&gt;</comment>
                            <comment id="14041685" author="ashutoshc" created="Tue, 24 Jun 2014 04:54:32 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14041724" author="ashutoshc" created="Tue, 24 Jun 2014 05:44:10 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Alan!&lt;/p&gt;</comment>
                            <comment id="14043185" author="lefty@hortonworks.com" created="Wed, 25 Jun 2014 08:22:04 +0000"  >&lt;p&gt;The wiki already documents the correct behavior:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;b&gt;Hive Command&lt;/b&gt; alter table T1 drop partition P1&lt;br/&gt;
&lt;b&gt;Locks Acquired&lt;/b&gt; S on T1, X on T1.P1&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Should this bug fix &amp;amp; version be noted in the wiki?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Locking?from=_YKhAQ#Locking-UseCases&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Hive Concurrency Model &amp;#8211; Use Cases (see table) &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14210258" author="thejas" created="Thu, 13 Nov 2014 19:39:53 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12720242">HIVE-7202</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12651698" name="HIVE-7242.patch" size="1267" author="alangates" created="Fri, 20 Jun 2014 17:48:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jun 2014 21:41:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wt4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399817</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7243] Print padding information in ORC file dump</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7243</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It will be useful to print the padding information in orc file dump utility.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721522">HIVE-7243</key>
            <summary>Print padding information in ORC file dump</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                            <label>orcfile</label>
                    </labels>
                <created>Mon, 16 Jun 2014 21:57:34 +0000</created>
                <updated>Thu, 13 Nov 2014 19:40:16 +0000</updated>
                            <resolved>Mon, 14 Jul 2014 18:12:31 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14033063" author="prasanth_j" created="Mon, 16 Jun 2014 21:58:19 +0000"  >&lt;p&gt;Fix the file dump cases once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7231&quot; title=&quot;Improve ORC padding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7231&quot;&gt;&lt;del&gt;HIVE-7231&lt;/del&gt;&lt;/a&gt; gets in.&lt;/p&gt;</comment>
                            <comment id="14033081" author="prasanth_j" created="Mon, 16 Jun 2014 22:07:50 +0000"  >&lt;p&gt;Attaching RB link&lt;/p&gt;</comment>
                            <comment id="14053315" author="gopalv" created="Mon, 7 Jul 2014 03:51:08 +0000"  >&lt;p&gt;Rebase patch &amp;amp; unit-tests after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7231&quot; title=&quot;Improve ORC padding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7231&quot;&gt;&lt;del&gt;HIVE-7231&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14053716" author="hiveqa" created="Mon, 7 Jul 2014 14:50:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12654261/HIVE-7243.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12654261/HIVE-7243.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5699 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/692/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/692/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/692/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/692/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-692/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-692/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12654261&lt;/p&gt;</comment>
                            <comment id="14053912" author="hagleitn" created="Mon, 7 Jul 2014 17:48:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14060965" author="prasanth_j" created="Mon, 14 Jul 2014 18:10:28 +0000"  >&lt;p&gt;The test failures are unrelated.&lt;/p&gt;</comment>
                            <comment id="14060966" author="prasanth_j" created="Mon, 14 Jul 2014 18:12:07 +0000"  >&lt;p&gt;Committed to trunk. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; for the review and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; for the patch rebase.&lt;/p&gt;</comment>
                            <comment id="14210331" author="thejas" created="Thu, 13 Nov 2014 19:40:16 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12721229">HIVE-7231</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12721229">HIVE-7231</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12650663" name="HIVE-7243.1.patch" size="1867" author="prasanth_j" created="Mon, 16 Jun 2014 22:03:19 +0000"/>
                            <attachment id="12650676" name="HIVE-7243.2.patch" size="1947" author="prasanth_j" created="Mon, 16 Jun 2014 22:32:28 +0000"/>
                            <attachment id="12654261" name="HIVE-7243.3.patch" size="2862" author="gopalv" created="Mon, 7 Jul 2014 03:51:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Jul 2014 03:51:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wt73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399827</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7244] DecimalColumnVector::flatten is not implemented</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7244</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
  @Override
  public void flatten(boolean selectedInUse, int[] sel, int size) {
    // TODO Auto-generated method stub
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It seems like this method is only used in tests.&lt;br/&gt;
It should either be removed from all ColumnVector-s, or implemented here&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721542">HIVE-7244</key>
            <summary>DecimalColumnVector::flatten is not implemented</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jnp">Jitendra Nath Pandey</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2014 23:02:34 +0000</created>
                <updated>Mon, 16 Jun 2014 23:02:34 +0000</updated>
                                                                            <component>Vectorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wtbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399847</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-7245] Fix parquet_columnar</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7245</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12721575">HIVE-7245</key>
            <summary>Fix parquet_columnar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="szehon">Szehon Ho</assignee>
                                    <reporter username="szehon">Szehon Ho</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jun 2014 02:27:02 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:51 +0000</updated>
                            <resolved>Wed, 18 Jun 2014 16:07:38 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14033353" author="szehon" created="Tue, 17 Jun 2014 02:30:11 +0000"  >&lt;p&gt;Straight-forward regen test-result after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7087&quot; title=&quot;Remove lineage information after query completion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7087&quot;&gt;&lt;del&gt;HIVE-7087&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14033362" author="ashutoshc" created="Tue, 17 Jun 2014 02:41:09 +0000"  >&lt;p&gt;+1 patch file likely was generated before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7087&quot; title=&quot;Remove lineage information after query completion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7087&quot;&gt;&lt;del&gt;HIVE-7087&lt;/del&gt;&lt;/a&gt; got committed.&lt;/p&gt;</comment>
                            <comment id="14034899" author="hiveqa" created="Wed, 18 Jun 2014 06:54:27 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650716/HIVE-7245.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650716/HIVE-7245.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5579 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_binary_search
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_dictionary_threshold
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.ql.exec.tez.TestTezTask.testSubmit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/498/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/498/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/498/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/498/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-498/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-498/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650716&lt;/p&gt;</comment>
                            <comment id="14035881" author="ashutoshc" created="Wed, 18 Jun 2014 16:07:38 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Szehon!&lt;/p&gt;</comment>
                            <comment id="14211048" author="thejas" created="Thu, 13 Nov 2014 19:43:51 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12650716" name="HIVE-7245.patch" size="2573" author="szehon" created="Tue, 17 Jun 2014 02:28:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jun 2014 02:41:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399771</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wtin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399879</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7246] Hive transaction manager hardwires bonecp as the JDBC pooling implementation</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7246</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently TxnManager hardwires BoneCP as the JDBC connection pooling implementation.  Instead it should use the same connection pooling that the metastore does.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721761">HIVE-7246</key>
            <summary>Hive transaction manager hardwires bonecp as the JDBC pooling implementation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jun 2014 19:16:18 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:41 +0000</updated>
                            <resolved>Wed, 30 Jul 2014 00:05:47 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Transactions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14036897" author="alangates" created="Thu, 19 Jun 2014 03:16:57 +0000"  >&lt;p&gt;A fix that adds DBCP as an option.&lt;/p&gt;</comment>
                            <comment id="14039154" author="hiveqa" created="Fri, 20 Jun 2014 18:35:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12651354/HIVE-7246.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12651354/HIVE-7246.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5668 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hadoop.hive.metastore.txn.TestCompactionTxnHandler.testRevokeTimedOutWorkers
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/530/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/530/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/530/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/530/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-530/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-530/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12651354&lt;/p&gt;</comment>
                            <comment id="14041108" author="alangates" created="Mon, 23 Jun 2014 18:40:17 +0000"  >&lt;p&gt;Patch no longer applies after recent checkins. &lt;/p&gt;</comment>
                            <comment id="14041120" author="alangates" created="Mon, 23 Jun 2014 18:49:52 +0000"  >&lt;p&gt;Rebased patch.&lt;/p&gt;</comment>
                            <comment id="14077999" author="ashutoshc" created="Tue, 29 Jul 2014 17:15:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14078660" author="ashutoshc" created="Wed, 30 Jul 2014 00:05:47 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="14210804" author="thejas" created="Thu, 13 Nov 2014 19:42:41 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12652030" name="HIVE-7246-2.patch" size="5389" author="alangates" created="Mon, 23 Jun 2014 18:49:52 +0000"/>
                            <attachment id="12651354" name="HIVE-7246.patch" size="5213" author="alangates" created="Thu, 19 Jun 2014 03:16:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Jun 2014 18:35:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399957</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wunz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400064</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7247] Fix itests using hadoop-1 profile </title>
                <link>https://issues.apache.org/jira/browse/HIVE-7247</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently building itests using -Phadoop-1 profile results in following failure:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$cd itests
$mvn install -DskipTests -Phadoop-1
...
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project hive-it-unit: Compilation failure: Compilation failure:
[ERROR] /Users/ghagleitner/Projects/hive-test-trunk/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/security/FolderPermissionBase.java:[31,39] cannot find symbol
[ERROR] symbol : class AclStatus
[ERROR] location: package org.apache.hadoop.fs.permission
[ERROR] /Users/ghagleitner/Projects/hive-test-trunk/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/security/TestExtendedAcls.java:[20,46] cannot find symbol
[ERROR] symbol : class AclEntryScope
[ERROR] location: package org.apache.hadoop.fs.permission
[ERROR] /Users/ghagleitner/Projects/hive-test-trunk/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/security/TestExtendedAcls.java:[20,1] static import only from classes and interfaces
[ERROR] /Users/ghagleitner/Projects/hive-test-trunk/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/security/TestExtendedAcls.java:[21,46] cannot find symbol
[ERROR] symbol : class AclEntryType
[ERROR] location: package org.apache.hadoop.fs.permission
[ERROR] /Users/ghagleitner/Projects/hive-test-trunk/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/security/TestExtendedAcls.java:[21,1] static import only from classes and interfaces
[ERROR] /Users/ghagleitner/Projects/hive-test-trunk/itests/hive-unit/src/test/java/org/apache/hadoop/hive/ql/security/TestExtendedAcls.java:[22,46] cannot find symbol
[ERROR] symbol : class AclEntryType
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12721807">HIVE-7247</key>
            <summary>Fix itests using hadoop-1 profile </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="szehon">Szehon Ho</assignee>
                                    <reporter username="szehon">Szehon Ho</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jun 2014 22:49:45 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:26 +0000</updated>
                            <resolved>Thu, 3 Jul 2014 02:01:53 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14034645" author="szehon" created="Wed, 18 Jun 2014 00:21:21 +0000"  >&lt;p&gt;The offending test is heavily using the HDFS ACL API, which is hadoop-2 only, so it won&apos;t be easy to fix.&lt;/p&gt;

&lt;p&gt;All I can think of is to create a new itests sub-proj that gets compiled and run only in hadoop-2 profile.  It might be useful, as there could be more hadoop-2 features we want to test in the future.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, any thoughts on that?&lt;/p&gt;</comment>
                            <comment id="14034708" author="szehon" created="Wed, 18 Jun 2014 01:32:16 +0000"  >&lt;p&gt;Submitting a fix, based on that.&lt;/p&gt;</comment>
                            <comment id="14034778" author="brocknoland" created="Wed, 18 Jun 2014 03:52:26 +0000"  >&lt;p&gt;+1 &lt;/p&gt;</comment>
                            <comment id="14036896" author="hiveqa" created="Thu, 19 Jun 2014 03:16:53 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12650940/HIVE-7247.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12650940/HIVE-7247.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5654 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/509/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/509/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/509/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/509/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-509/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-509/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12650940&lt;/p&gt;</comment>
                            <comment id="14050991" author="szehon" created="Thu, 3 Jul 2014 02:01:53 +0000"  >&lt;p&gt;Committed to trunk.  Thanks Brock for the review!&lt;/p&gt;</comment>
                            <comment id="14210968" author="thejas" created="Thu, 13 Nov 2014 19:43:26 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12716255">HIVE-7119</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12650940" name="HIVE-7247.patch" size="20868" author="szehon" created="Wed, 18 Jun 2014 01:32:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Jun 2014 03:52:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400003</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wux3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-7248] UNION ALL in hive returns incorrect results on Hbase backed table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7248</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The issue can be recreated with following steps&lt;/p&gt;

&lt;p&gt;1) In hbase &lt;br/&gt;
create &apos;TABLE_EMP&apos;,&apos;default&apos; &lt;/p&gt;

&lt;p&gt;2) On hive &lt;br/&gt;
sudo -u hive hive &lt;/p&gt;

&lt;p&gt;CREATE EXTERNAL TABLE TABLE_EMP(FIRST_NAME string,LAST_NAME string,CDS_UPDATED_DATE string,CDS_PK string) STORED BY &apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos; WITH SERDEPROPERTIES(&quot;hbase.columns.mapping&quot; = &quot;default:FIRST_NAME,default:LAST_NAME,default:CDS_UPDATED_DATE,:key&quot;, &quot;hbase.scan.cache&quot; = &quot;500&quot;, &quot;hbase.scan.cacheblocks&quot; = &quot;false&quot; ) TBLPROPERTIES(&quot;hbase.table.name&quot; = &quot;TABLE_EMP&quot;,&apos;serialization.null.format&apos;=&apos;&apos;); &lt;/p&gt;


&lt;p&gt;3) On hbase insert the following data &lt;/p&gt;

&lt;p&gt;put &apos;TABLE_EMP&apos;, &apos;1&apos;, &apos;default:FIRST_NAME&apos;, &apos;Srini&apos; &lt;br/&gt;
put &apos;TABLE_EMP&apos;, &apos;1&apos;, &apos;default:LAST_NAME&apos;, &apos;P&apos; &lt;br/&gt;
put &apos;TABLE_EMP&apos;, &apos;1&apos;, &apos;default:CDS_UPDATED_DATE&apos;, &apos;2014-06-16 00:00:00&apos; &lt;/p&gt;


&lt;p&gt;put &apos;TABLE_EMP&apos;, &apos;2&apos;, &apos;default:FIRST_NAME&apos;, &apos;Aravind&apos; &lt;br/&gt;
put &apos;TABLE_EMP&apos;, &apos;2&apos;, &apos;default:LAST_NAME&apos;, &apos;K&apos; &lt;br/&gt;
put &apos;TABLE_EMP&apos;, &apos;2&apos;, &apos;default:CDS_UPDATED_DATE&apos;, &apos;2014-06-16 00:00:00&apos; &lt;/p&gt;


&lt;p&gt;4) On hive execute the following query &lt;br/&gt;
hive &lt;br/&gt;
SELECT * &lt;br/&gt;
FROM ( &lt;br/&gt;
SELECT CDS_PK &lt;br/&gt;
FROM TABLE_EMP &lt;br/&gt;
WHERE &lt;br/&gt;
CDS_PK &amp;gt;= &apos;0&apos; &lt;br/&gt;
AND CDS_PK &amp;lt;= &apos;9&apos; &lt;br/&gt;
AND CDS_UPDATED_DATE IS NOT NULL &lt;br/&gt;
UNION ALL SELECT CDS_PK &lt;br/&gt;
FROM TABLE_EMP &lt;br/&gt;
WHERE &lt;br/&gt;
CDS_PK &amp;gt;= &apos;a&apos; &lt;br/&gt;
AND CDS_PK &amp;lt;= &apos;z&apos; &lt;br/&gt;
AND CDS_UPDATED_DATE IS NOT NULL &lt;br/&gt;
)t ; &lt;/p&gt;


&lt;p&gt;5) Output of the query &lt;/p&gt;

&lt;p&gt;1 &lt;br/&gt;
1 &lt;br/&gt;
2 &lt;br/&gt;
2 &lt;/p&gt;

&lt;p&gt;6) Output of just &lt;/p&gt;

&lt;p&gt;SELECT CDS_PK &lt;br/&gt;
FROM TABLE_EMP &lt;br/&gt;
WHERE &lt;br/&gt;
CDS_PK &amp;gt;= &apos;0&apos; &lt;br/&gt;
AND CDS_PK &amp;lt;= &apos;9&apos; &lt;br/&gt;
AND CDS_UPDATED_DATE IS NOT NULL &lt;/p&gt;

&lt;p&gt;is &lt;/p&gt;

&lt;p&gt;1 &lt;br/&gt;
2 &lt;/p&gt;

&lt;p&gt;7) Output of just &lt;/p&gt;

&lt;p&gt;SELECT CDS_PK &lt;br/&gt;
FROM TABLE_EMP &lt;br/&gt;
WHERE &lt;br/&gt;
CDS_PK &amp;gt;= &apos;a&apos; &lt;br/&gt;
AND CDS_PK &amp;lt;= &apos;z&apos; &lt;br/&gt;
AND CDS_UPDATED_DATE IS NOT NULL &lt;/p&gt;

&lt;p&gt;Empty &lt;/p&gt;

&lt;p&gt;8) UNION is used to combine the result from multiple SELECT statements into a single result set. Hive currently only supports UNION ALL (bag union), in which duplicates are not eliminated &lt;/p&gt;

&lt;p&gt;Accordingly above query should return output &lt;br/&gt;
1 &lt;br/&gt;
2 &lt;/p&gt;

&lt;p&gt;instead it is giving wrong output &lt;br/&gt;
1 &lt;br/&gt;
1 &lt;br/&gt;
2 &lt;br/&gt;
2&lt;/p&gt;</description>
                <environment></environment>
        <key id="12721811">HIVE-7248</key>
            <summary>UNION ALL in hive returns incorrect results on Hbase backed table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="mkempanna">Mala Chikka Kempanna</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jun 2014 23:00:11 +0000</created>
                <updated>Mon, 10 Sep 2018 21:24:23 +0000</updated>
                                            <version>0.12.0</version>
                    <version>0.13.0</version>
                    <version>0.13.1</version>
                                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14034555" author="mkempanna" created="Tue, 17 Jun 2014 23:01:57 +0000"  >&lt;p&gt;Current work-around for the problem is to use DISTINCT in one of the sub queries.&lt;/p&gt;</comment>
                            <comment id="14060582" author="hiveqa" created="Mon, 14 Jul 2014 12:05:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12655505/HIVE-7248.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12655505/HIVE-7248.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5730 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_self_join
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/776/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/776/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/776/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/776/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-776/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-776/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12655505&lt;/p&gt;</comment>
                            <comment id="14061502" author="navis" created="Tue, 15 Jul 2014 01:07:00 +0000"  >&lt;p&gt;Updated result file. Not effective filterExpr in TS should be removed. &lt;/p&gt;</comment>
                            <comment id="14061976" author="hiveqa" created="Tue, 15 Jul 2014 11:50:49 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12655656/HIVE-7248.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12655656/HIVE-7248.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 5732 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_temp_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/788/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/788/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/788/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/788/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-788/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-788/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12655656&lt;/p&gt;</comment>
                            <comment id="14247684" author="navis" created="Tue, 16 Dec 2014 03:34:53 +0000"  >&lt;p&gt;Rebased to trunk&lt;/p&gt;</comment>
                            <comment id="14248466" author="hiveqa" created="Tue, 16 Dec 2014 16:42:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12687391/HIVE-7248.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12687391/HIVE-7248.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 6705 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_partition_diff_num_cols
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_optimize_nullscan
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_partition_diff_num_cols
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2093/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2093/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2093/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2093/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2093/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2093/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12687391 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="16569758" author="ngangam" created="Mon, 6 Aug 2018 05:40:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; This still seems to be an issue (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-20206&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-20206&lt;/a&gt;) . Was there a reason this was never committed to the source? if there isnt, should we revive this issue and rebase the patch? Thanks&lt;/p&gt;</comment>
                            <comment id="16569783" author="hiveqa" created="Mon, 6 Aug 2018 06:24:50 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12687391/HIVE-7248.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12687391/HIVE-7248.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/13055/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/13055/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/13055/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/13055/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-13055/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-13055/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hiveptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ date &apos;+%Y-%m-%d %T.%3N&apos;
2018-08-06 06:24:12.874
+ [[ -n /usr/lib/jvm/java-8-openjdk-amd64 ]]
+ export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
+ export PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ PATH=/usr/lib/jvm/java-8-openjdk-amd64/bin/:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;MAVEN_OPTS=-Xmx1g &apos;
+ MAVEN_OPTS=&apos;-Xmx1g &apos;
+ cd /data/hiveptest/working/
+ tee /data/hiveptest/logs/PreCommit-HIVE-Build-13055/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2018-08-06 06:24:12.878
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   27bdbda..20c95c1  master     -&amp;gt; origin/master
+ git reset --hard HEAD
HEAD is now at 27bdbda HIVE-20162: Logging cleanup, avoid printing stacktraces to stderr (Anurag Mantripragada, reviewed by Naveen Gangam)
+ git clean -f -d
Removing standalone-metastore/metastore-server/src/gen/
+ git checkout master
Already on &apos;master&apos;
Your branch is behind &apos;origin/master&apos; by 1 commit, and can be fast-forwarded.
  (use &quot;git pull&quot; to update your local branch)
+ git reset --hard origin/master
HEAD is now at 20c95c1 HIVE-19097 : related equals and in operators may cause inaccurate stats estimations (Zoltan Haindrich via Ashutosh Chauhan)
+ git merge --ff-only origin/master
Already up-to-date.
+ date &apos;+%Y-%m-%d %T.%3N&apos;
2018-08-06 06:24:14.437
+ rm -rf ../yetus_PreCommit-HIVE-Build-13055
+ mkdir ../yetus_PreCommit-HIVE-Build-13055
+ git gc
+ cp -R . ../yetus_PreCommit-HIVE-Build-13055
+ mkdir /data/hiveptest/logs/PreCommit-HIVE-Build-13055/yetus
+ patchCommandPath=/data/hiveptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hiveptest/working/scratch/build.patch
+ [[ -f /data/hiveptest/working/scratch/build.patch ]]
+ chmod +x /data/hiveptest/working/scratch/smart-apply-patch.sh
+ /data/hiveptest/working/scratch/smart-apply-patch.sh /data/hiveptest/working/scratch/build.patch
error: patch failed: hbase-handler/src/test/results/positive/hbase_pushdown.q.out:120
Falling back to three-way merge...
Applied patch to &apos;hbase-handler/src/test/results/positive/hbase_pushdown.q.out&apos; with conflicts.
error: patch failed: ql/src/java/org/apache/hadoop/hive/ql/parse/TaskCompiler.java:20
Falling back to three-way merge...
Applied patch to &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/TaskCompiler.java&apos; with conflicts.
error: patch failed: ql/src/java/org/apache/hadoop/hive/ql/parse/TezCompiler.java:48
Falling back to three-way merge...
Applied patch to &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/TezCompiler.java&apos; with conflicts.
error: ql/src/test/results/clientpositive/index_auto_self_join.q.out: does not exist in index
error: src/test/queries/positive/hbase_pushdown.q: does not exist in index
error: src/test/results/positive/hbase_pushdown.q.out: does not exist in index
error: src/java/org/apache/hadoop/hive/ql/parse/MapReduceCompiler.java: does not exist in index
error: src/java/org/apache/hadoop/hive/ql/parse/TaskCompiler.java: does not exist in index
error: src/java/org/apache/hadoop/hive/ql/parse/TezCompiler.java: does not exist in index
error: src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java: does not exist in index
error: src/test/results/clientpositive/index_auto_self_join.q.out: does not exist in index
error: test/queries/positive/hbase_pushdown.q: does not exist in index
error: test/results/positive/hbase_pushdown.q.out: does not exist in index
error: java/org/apache/hadoop/hive/ql/parse/MapReduceCompiler.java: does not exist in index
error: java/org/apache/hadoop/hive/ql/parse/TaskCompiler.java: does not exist in index
error: java/org/apache/hadoop/hive/ql/parse/TezCompiler.java: does not exist in index
error: java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java: does not exist in index
error: test/results/clientpositive/index_auto_self_join.q.out: does not exist in index
The patch does not appear to apply with p0, p1, or p2
+ result=1
+ &apos;[&apos; 1 -ne 0 &apos;]&apos;
+ rm -rf yetus_PreCommit-HIVE-Build-13055
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12687391 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="16587448" author="ngangam" created="Tue, 21 Aug 2018 13:43:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; looks like the precommit build for the new patch did not run and exited with some error. Should we retry? Thanks&lt;/p&gt;</comment>
                            <comment id="16609816" author="ngangam" created="Mon, 10 Sep 2018 21:24:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Would you have cycles to rebase this patch? Thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12655505" name="HIVE-7248.1.patch.txt" size="15216" author="navis" created="Mon, 14 Jul 2014 07:48:50 +0000"/>
                            <attachment id="12655656" name="HIVE-7248.2.patch.txt" size="16370" author="navis" created="Tue, 15 Jul 2014 01:07:00 +0000"/>
                            <attachment id="12687391" name="HIVE-7248.3.patch.txt" size="19373" author="navis" created="Tue, 16 Dec 2014 03:34:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Jul 2014 12:05:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wuxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>
