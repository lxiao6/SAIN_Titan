<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:15:09 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-1-26+AND+created+%3C%3D+2010-2-2+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="21" total="21"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1100] Make it possible for users to retry map-reduce jobs in a single Hive query</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1100</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Sometimes a single hive query get compiled into several map-reduce jobs, and one of the jobs failed because of some transient errors.&lt;br/&gt;
Users would need to start from scratch.&lt;/p&gt;

&lt;p&gt;We should allow the user to start from the point of failure to continue the query.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446618">HIVE-1100</key>
            <summary>Make it possible for users to retry map-reduce jobs in a single Hive query</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jan 2010 00:05:22 +0000</created>
                <updated>Tue, 23 Feb 2010 00:35:24 +0000</updated>
                                            <version>0.6.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="12804827" author="zshao" created="Tue, 26 Jan 2010 01:01:51 +0000"  >&lt;p&gt;Goal:&lt;br/&gt;
There are 2 types of resume that we want:&lt;br/&gt;
1. Resume within the same session&lt;br/&gt;
2. Resume in a different session&lt;/p&gt;

&lt;p&gt;Plan:&lt;br/&gt;
1. Currently the hive query compilation uses &quot;random numbers&quot; for intermediate data file directories. We should move all the indeterministic parts to &quot;Driver&quot; class.&lt;br/&gt;
2. Driver class will generate such a &quot;random number&quot; per session per query (let&apos;s call it ExecutionId), and store it in the HiveConf.&lt;br/&gt;
3. Driver.compile() should pass ExecutionId onto query compilation so that temp directories are deterministic given the ExecutionId.&lt;br/&gt;
4. Driver.execute() should record the completion of each of the tasks by &quot;touching&quot; a file in HDFS.&lt;br/&gt;
5. We should add a command &quot;continue&quot; that will continue the execution of the failed query within the session&lt;br/&gt;
6. We should be able to get the ExecutionId by &quot;set&quot; command so that we can continue it later.&lt;br/&gt;
7. We should add a command &quot;clear&quot; to remove the temporaries files in HDFS given the &quot;ExecutionId&quot;.&lt;/p&gt;

</comment>
                            <comment id="12804838" author="namit" created="Tue, 26 Jan 2010 01:28:28 +0000"  >&lt;p&gt;Is it a timeout based approach ? When does the cleanup happen if the client never issues a clear/continue ?&lt;br/&gt;
Do we need to enhance explain plan or some other tool so that the client knows which tasks will the query execute ?&lt;/p&gt;
</comment>
                            <comment id="12804848" author="zshao" created="Tue, 26 Jan 2010 01:59:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is it a timeout based approach? When does the cleanup happen if the client never issues a clear/continue ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Actually we also have this problem today - if Hive failed before it cleans up the temporary data, but with this feature the problem will be much more obvious.&lt;br/&gt;
We can add the date and time into &quot;ExecutionId&quot;, so that an external process can come in and clean things up.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Do we need to enhance explain plan or some other tool so that the client knows which tasks will the query execute ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s a good idea. &lt;/p&gt;

&lt;p&gt;8. Add the &quot;done&quot; information for each task to explain plan so that users can know the status of the query.&lt;/p&gt;</comment>
                            <comment id="12805365" author="zshao" created="Wed, 27 Jan 2010 05:53:25 +0000"  >&lt;p&gt;What will be the semantics of pre-execution and post-execution hooks?&lt;/p&gt;

&lt;p&gt;Shall we re-execute pre-execution hooks every time we resume the job?&lt;br/&gt;
Shall we fail the query if the post-execution hooks failed?&lt;/p&gt;

&lt;p&gt;My preference is to treat the hooks as a task in the query plan - once it succeeds then we don&apos;t run it again when resuming the query.&lt;/p&gt;
</comment>
                            <comment id="12805577" author="namit" created="Wed, 27 Jan 2010 17:13:13 +0000"  >&lt;p&gt;I think both pre-execution and post-execution hooks should be fired exactly once.&lt;/p&gt;

&lt;p&gt;Pre hooks can be fired the first time, and post once only if the query succeeds&lt;/p&gt;</comment>
                            <comment id="12836867" author="jvs" created="Mon, 22 Feb 2010 20:00:12 +0000"  >&lt;p&gt;Mentioned to Zheng that we need to watch out for the case where there&apos;s a software upgrade in the middle and the old serialized plan is not compatible with the new software.  We could require developers to take this into account when changing serialized plan structures (to make sure the new code can handle old structures or fail with a clean explanation), but it may be simpler just to stamp the serialized plan with the version of the code that generated it and then check this when deserializing it, failing with an incompatibility error if it differs.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12457098">HIVE-1189</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12456104">HIVE-1159</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12446786">HIVE-1108</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12446789">HIVE-1109</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12446964">HIVE-1117</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12425226">HIVE-480</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jan 2010 01:28:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42621</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lde7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122820</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1101] Extend Hive ODBC to support more functions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1101</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently Hive ODBC driver only support a a minimum list of functions to ensure some application work. Some other applications require more function support. These functions include:&lt;/p&gt;

&lt;p&gt;*SQLCancel&lt;br/&gt;
*SQLFetchScroll&lt;br/&gt;
*SQLGetData	&lt;br/&gt;
*SQLGetInfo&lt;br/&gt;
*SQLMoreResults&lt;br/&gt;
*SQLRowCount&lt;br/&gt;
*SQLSetConnectAtt&lt;br/&gt;
*SQLSetStmtAttr&lt;br/&gt;
*SQLEndTran&lt;br/&gt;
*SQLPrepare&lt;br/&gt;
*SQLNumParams&lt;br/&gt;
*SQLDescribeParam&lt;br/&gt;
*SQLBindParameter&lt;br/&gt;
*SQLGetConnectAttr&lt;br/&gt;
*SQLSetEnvAttr&lt;br/&gt;
*SQLPrimaryKeys (not ODBC API? Hive does not support primary keys yet)&lt;br/&gt;
*SQLForeignKeys (not ODBC API? Hive does not support foreign keys yet)&lt;/p&gt;

&lt;p&gt;We should support as many of them as possible. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12446620">HIVE-1101</key>
            <summary>Extend Hive ODBC to support more functions</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jan 2010 00:20:15 +0000</created>
                <updated>Fri, 29 Jun 2012 21:41:24 +0000</updated>
                                                                            <component>ODBC</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>16</watches>
                                                                                                            <comments>
                            <comment id="12843068" author="nzhang" created="Tue, 9 Mar 2010 14:54:58 +0000"  >&lt;p&gt;Uploading patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1101&quot; title=&quot;Extend Hive ODBC to support more functions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1101&quot;&gt;HIVE-1101&lt;/a&gt;.patch. Since unixODBC is not compatible to Apache license, you need to apply this patch to unixODBC 2.2.14 and build yourself.  This patch is based on the patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-187&quot; title=&quot;ODBC driver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-187&quot;&gt;&lt;del&gt;HIVE-187&lt;/del&gt;&lt;/a&gt; and can be applied directly to unixODBC 2.2.14. The major change is to implement a simple SQLGetInfo to support MSTR v.9. Other changes are to the connection and disconnection code (SQLDriverConnect.c, SQLConnect.c, SQLFreeConnect.c etc.) to get the configuration info from odbc.ini.&lt;/p&gt;

&lt;p&gt;Note:&lt;br/&gt;
 1) unixODBC and MSTR both have DriverManager (libodbc.so, libodbcinst.so). You need to set LD_LIBRARY_PATH correspondingly when you run configuration and make this driver.  &lt;br/&gt;
 2) Since MSTR v9 support 32-bit driver only, you need to compile all dynamic libraries to 32-bit binaries. These include unixODBC, hiveclient, and thrift. Please refer to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-187&quot; title=&quot;ODBC driver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-187&quot;&gt;&lt;del&gt;HIVE-187&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/HiveODBC&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/HiveODBC&lt;/a&gt; for more information.  &lt;/p&gt;</comment>
                            <comment id="12849966" author="cwsteinbach" created="Fri, 26 Mar 2010 00:47:52 +0000"  >&lt;p&gt;unixODBC-2.2.14-p2.tar.gz with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1101&quot; title=&quot;Extend Hive ODBC to support more functions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1101&quot;&gt;HIVE-1101&lt;/a&gt;.patch pre-applied.&lt;/p&gt;

&lt;p&gt;This supercedes the patched version of unixODBC attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-187&quot; title=&quot;ODBC driver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-187&quot;&gt;&lt;del&gt;HIVE-187&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13082106" author="brianlau" created="Wed, 10 Aug 2011 02:38:28 +0000"  >&lt;p&gt;unixODBC-2.2.14-p2-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1101&quot; title=&quot;Extend Hive ODBC to support more functions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1101&quot;&gt;HIVE-1101&lt;/a&gt;/DriverManager/SQLAllocHandle.c&lt;br/&gt;
contains the line&lt;br/&gt;
       return SQL_ERROR; // Zn: just for testing !!&lt;/p&gt;</comment>
                            <comment id="13403269" author="prasadm" created="Thu, 28 Jun 2012 17:38:48 +0000"  >&lt;p&gt;Initial patch of the ODBC driver with additional ODBC API support, ported on with Linux and window.&lt;/p&gt;</comment>
                            <comment id="13404237" author="cwsteinbach" created="Fri, 29 Jun 2012 21:41:24 +0000"  >&lt;p&gt;@Prasad: is the patch ready for review? If so can you please submit a review request? Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12442776">HIVE-975</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12410953">HIVE-187</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12438290" name="HIVE-1101.patch" size="1746544" author="nzhang" created="Tue, 9 Mar 2010 14:54:58 +0000"/>
                            <attachment id="12533851" name="odbc-build.patch" size="1758889" author="prasadm" created="Thu, 28 Jun 2012 17:38:48 +0000"/>
                            <attachment id="12533852" name="odbc-src.patch" size="631844" author="prasadm" created="Thu, 28 Jun 2012 17:38:48 +0000"/>
                            <attachment id="12439842" name="unixODBC-2.2.14-p2-HIVE-1101.tar.gz" size="2334755" author="cwsteinbach" created="Fri, 26 Mar 2010 00:47:52 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12596286">HIVE-3212</subtask>
                            <subtask id="12596287">HIVE-3213</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Mar 2010 00:47:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 30 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a5lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1102] make number of concurrent tasks configurable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1102</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;currently, it is hardcoded at 8 (maxthreads = 8)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446717">HIVE-1102</key>
            <summary>make number of concurrent tasks configurable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jan 2010 19:09:43 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:47 +0000</updated>
                            <resolved>Tue, 26 Jan 2010 21:50:36 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12805159" author="namit" created="Tue, 26 Jan 2010 19:54:36 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12805222" author="namit" created="Tue, 26 Jan 2010 21:50:36 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431455" name="hive-1102.patch" size="2410" author="he yongqiang" created="Tue, 26 Jan 2010 19:51:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73103</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1103] Add .gitignore file</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1103</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add a .gitignore file (equivalent to svn:ignore) for those using git-svn.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446731">HIVE-1103</key>
            <summary>Add .gitignore file</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jan 2010 21:07:32 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:59 +0000</updated>
                            <resolved>Thu, 4 Feb 2010 06:36:18 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12805281" author="cwsteinbach" created="Tue, 26 Jan 2010 23:22:49 +0000"  >&lt;p&gt;Add &quot;*~&quot; to list of ignored file types.&lt;/p&gt;</comment>
                            <comment id="12829475" author="zshao" created="Thu, 4 Feb 2010 06:36:18 +0000"  >&lt;p&gt;Committed. Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431480" name="HIVE-1103.2.patch" size="214" author="cwsteinbach" created="Tue, 26 Jan 2010 23:22:49 +0000"/>
                            <attachment id="12431467" name="HIVE-1103.patch" size="210" author="cwsteinbach" created="Tue, 26 Jan 2010 21:09:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Feb 2010 06:36:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73102</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lden:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122822</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>git svn ignore</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1104] Suppress Checkstyle warnings for generated files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1104</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Suppress Checkstyle warnings for generated files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446736">HIVE-1104</key>
            <summary>Suppress Checkstyle warnings for generated files</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jan 2010 21:39:32 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:42 +0000</updated>
                            <resolved>Tue, 2 Feb 2010 04:32:35 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12805220" author="cwsteinbach" created="Tue, 26 Jan 2010 21:44:12 +0000"  >&lt;ul&gt;
	&lt;li&gt;Suppress Checkstyle warnings for JavaCC and Thrift generated files.&lt;/li&gt;
	&lt;li&gt;Add ASF header check.&lt;/li&gt;
	&lt;li&gt;Bump Checkstyle version number from 4.2 to 5.0 (required for SuppressWithNearbyCommentFilter).&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12805311" author="cwsteinbach" created="Wed, 27 Jan 2010 01:31:05 +0000"  >&lt;ul&gt;
	&lt;li&gt;Suppress Checkstyle warnings for JavaCC and Thrift generated files.&lt;/li&gt;
	&lt;li&gt;Add ASF header check.&lt;/li&gt;
	&lt;li&gt;Bump Checkstyle version number from 4.2 to 5.0 (required for SuppressWithNearbyCommentFilter).&lt;/li&gt;
	&lt;li&gt;Add .checkstyle configuration file in project root for Eclipse checkstyle plugin.&lt;/li&gt;
	&lt;li&gt;Enable the following CheckStyle modules:
	&lt;ul&gt;
		&lt;li&gt;DefaultComesLast&lt;/li&gt;
		&lt;li&gt;EqualsAvoidNull&lt;/li&gt;
		&lt;li&gt;EqualsHashCode&lt;/li&gt;
		&lt;li&gt;ExplicitInitialization&lt;/li&gt;
		&lt;li&gt;IllegalCatch&lt;/li&gt;
		&lt;li&gt;MagicNumber&lt;/li&gt;
		&lt;li&gt;MissingSwitchDefault&lt;/li&gt;
		&lt;li&gt;MissingOverride&lt;/li&gt;
		&lt;li&gt;MultipleStringLiterals&lt;/li&gt;
		&lt;li&gt;NoClone&lt;/li&gt;
		&lt;li&gt;ParameterAssignment&lt;/li&gt;
		&lt;li&gt;StringLiteralEquality&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With these settings Checkstyle finds 6749 errors in 872 source files.&lt;/p&gt;
</comment>
                            <comment id="12805685" author="cwsteinbach" created="Wed, 27 Jan 2010 23:00:55 +0000"  >&lt;ul&gt;
	&lt;li&gt;Add suppressions.xml file suppression list (includes gen-java and JDBM).&lt;/li&gt;
	&lt;li&gt;Apply HiddenField check to local variables only (ignore parameters).&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12805796" author="cwsteinbach" created="Thu, 28 Jan 2010 05:41:27 +0000"  >&lt;ul&gt;
	&lt;li&gt;git patch prepared using git-format-patch&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12805826" author="zshao" created="Thu, 28 Jan 2010 07:56:31 +0000"  >&lt;p&gt;Can you make it work with &quot;-Doffline=true&quot;?&lt;br/&gt;
It will be great if the definition of pathid can be moved out of the &quot;ivy-retrieve-checkstyle&quot; because it only gets executed when offline is not defined.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;ivy-retrieve-checkstyle&quot;&lt;/span&gt; depends=&lt;span class=&quot;code-quote&quot;&gt;&quot;ivy-resolve-checkstyle&quot;&lt;/span&gt;
    description=&lt;span class=&quot;code-quote&quot;&gt;&quot;Retrieve Ivy-managed artifacts &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the checkstyle configurations&quot;&lt;/span&gt;
    unless=&lt;span class=&quot;code-quote&quot;&gt;&quot;offline&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;ivy:retrieve settingsRef=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ant.project.name}.ivy.settings&quot;&lt;/span&gt;
      pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;${build.ivy.lib.dir}/${ivy.artifact.retrieve.pattern}&quot;&lt;/span&gt;
      log=&lt;span class=&quot;code-quote&quot;&gt;&quot;${ivyresolvelog}&quot;&lt;/span&gt;/&amp;gt;
    &amp;lt;ivy:cachepath pathid=&lt;span class=&quot;code-quote&quot;&gt;&quot;checkstyle-classpath&quot;&lt;/span&gt; conf=&lt;span class=&quot;code-quote&quot;&gt;&quot;checkstyle&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;/target&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[zshao@dev /data/users/zshao/hadoop_hive_trunk] ant -Doffline=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; checkstyle
Buildfile: build.xml

ivy-init-dirs:

ivy-download:

ivy-probe-antlib:

ivy-init-antlib:

ivy-init:

ivy-resolve-checkstyle:
[ivy:resolve] :: Ivy 2.0.0-rc2 - 20081028224207 :: http:&lt;span class=&quot;code-comment&quot;&gt;//ant.apache.org/ivy/ ::
&lt;/span&gt;:: loading settings :: file = /data/users/zshao/hadoop_hive_trunk/ivy/ivysettings.xml

ivy-retrieve-checkstyle:

check-&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;-checkstyle:

BUILD FAILED
/data/users/zshao/hadoop_hive_trunk/build.xml:518: Reference checkstyle-classpath not found.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12828416" author="cwsteinbach" created="Tue, 2 Feb 2010 02:56:17 +0000"  >&lt;p&gt;Fixed the checkstyle classpath problem by removing the &quot;unless=offline&quot; attributes from all of the checkstyle targets. If the checkstyle artifacts exist in the Ivy cache it operates in offline mode by default. If the artifacts are not in the Ivy cache, then we either have to let Ivy fetch them, or else proactively fail the target. I&apos;m assuming that fetching the artifacts is preferable to a build failure, i.e. I&apos;m assuming that &quot;offline=true&quot; implies best effort to operate in offline mode, but not at the expense of a build failure.&lt;/p&gt;</comment>
                            <comment id="12828441" author="zshao" created="Tue, 2 Feb 2010 04:32:35 +0000"  >&lt;p&gt;Committed. Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431491" name="HIVE-1104.2.patch" size="17152" author="cwsteinbach" created="Wed, 27 Jan 2010 01:18:15 +0000"/>
                            <attachment id="12431492" name="HIVE-1104.3.patch" size="15743" author="cwsteinbach" created="Wed, 27 Jan 2010 01:25:37 +0000"/>
                            <attachment id="12431615" name="HIVE-1104.4.patch" size="17666" author="cwsteinbach" created="Wed, 27 Jan 2010 23:00:55 +0000"/>
                            <attachment id="12431640" name="HIVE-1104.6.git.patch" size="18275" author="cwsteinbach" created="Thu, 28 Jan 2010 05:41:24 +0000"/>
                            <attachment id="12434490" name="HIVE-1104.7.patch" size="18814" author="cwsteinbach" created="Tue, 2 Feb 2010 02:50:15 +0000"/>
                            <attachment id="12431470" name="HIVE-1104.patch" size="12923" author="cwsteinbach" created="Tue, 26 Jan 2010 21:40:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Jan 2010 07:56:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122823</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>checkstyle</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1105] Add service script for starting metastore server</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1105</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The instructions on this page recommend running Java directly in order to start the metastore:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/AdminManual/MetastoreAdmin&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/AdminManual/MetastoreAdmin&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Since we already have a generic service-starter script, it would be nice to be able to do this instead:&lt;/p&gt;

&lt;p&gt;hive --service metastore&lt;/p&gt;

&lt;p&gt;I&apos;ve written a metastore.sh for this purpose.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446748">HIVE-1105</key>
            <summary>Add service script for starting metastore server</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jan 2010 23:29:57 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:49 +0000</updated>
                            <resolved>Thu, 28 Jan 2010 23:36:17 +0000</resolved>
                                    <version>0.4.1</version>
                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12805284" author="jvs" created="Tue, 26 Jan 2010 23:32:46 +0000"  >&lt;p&gt;Here&apos;s the patch; it also fixes a typo in the existing help.sh.&lt;/p&gt;</comment>
                            <comment id="12805286" author="prasadc" created="Tue, 26 Jan 2010 23:44:01 +0000"  >&lt;p&gt;nice. it will be great if can you add this info to that wiki.&lt;/p&gt;</comment>
                            <comment id="12806128" author="jvs" created="Thu, 28 Jan 2010 22:08:14 +0000"  >&lt;p&gt;I&apos;ll update wiki docs once this patch is accepted.&lt;/p&gt;</comment>
                            <comment id="12806153" author="zshao" created="Thu, 28 Jan 2010 23:36:17 +0000"  >&lt;p&gt;Committed to branch-0.5 and trunk. Thanks John!&lt;/p&gt;

&lt;p&gt;Please mention this is available since 0.5.&lt;/p&gt;</comment>
                            <comment id="13088728" author="xiaobogu" created="Mon, 22 Aug 2011 14:28:27 +0000"  >&lt;p&gt;But how to start metastore service as dameons, write the pids into pid files, and stop it using commands such as hive --service metastore stop?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431484" name="HIVE-1105.1.patch" size="2214" author="jvs" created="Tue, 26 Jan 2010 23:32:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jan 2010 23:44:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64191</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122824</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1105&quot; title=&quot;Add service script for starting metastore server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1105&quot;&gt;&lt;strike&gt;HIVE-1105&lt;/strike&gt;&lt;/a&gt;. Add service script for starting metastore server. (John Sichi via zshao)&lt;br/&gt;
New command for starting a Hive metastore server:&lt;br/&gt;
hive --service metastore&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1106] Support &quot;Alter table t add if not exists partition ...&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1106</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It will be useful to add such a command so that users don&apos;t see an error when adding an existing partition.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446757">HIVE-1106</key>
            <summary>Support &quot;Alter table t add if not exists partition ...&quot;</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jan 2010 01:09:08 +0000</created>
                <updated>Mon, 9 Apr 2012 20:44:54 +0000</updated>
                            <resolved>Thu, 28 Jan 2010 05:14:09 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12805673" author="pauly" created="Wed, 27 Jan 2010 22:25:44 +0000"  >&lt;p&gt;Do we need this for branch-0.5?&lt;/p&gt;</comment>
                            <comment id="12805676" author="zshao" created="Wed, 27 Jan 2010 22:28:30 +0000"  >&lt;p&gt;Usually we don&apos;t add new features to an existing branch. Only bug fixes should go into branches.&lt;br/&gt;
But given that nothing has been released from branch-0.5 yet, I think we can add this since it&apos;s low risk.&lt;/p&gt;</comment>
                            <comment id="12805684" author="zshao" created="Wed, 27 Jan 2010 22:59:53 +0000"  >&lt;p&gt;+1. Will test and commit.&lt;/p&gt;</comment>
                            <comment id="12805788" author="zshao" created="Thu, 28 Jan 2010 05:14:09 +0000"  >&lt;p&gt;Committed. Thanks Paul!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12550279">HIVE-2938</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12431608" name="HIVE-1106.1.patch" size="8549" author="pauly" created="Wed, 27 Jan 2010 22:25:44 +0000"/>
                            <attachment id="12431609" name="HIVE-1106.branch-0.5.1.patch" size="8961" author="pauly" created="Wed, 27 Jan 2010 22:25:44 +0000"/>
                            <attachment id="12431611" name="HIVE-1106.branch-0.5.2.patch" size="8639" author="pauly" created="Wed, 27 Jan 2010 22:36:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Jan 2010 22:25:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1106&quot; title=&quot;Support &amp;quot;Alter table t add if not exists partition ...&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1106&quot;&gt;&lt;strike&gt;HIVE-1106&lt;/strike&gt;&lt;/a&gt;. Support ALTER TABLE t ADD IF NOT EXIST PARTITION. (Paul Yang via zshao)&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1107] Generic parallel execution framework for Hive (and Pig, and ...)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1107</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Pig and Hive each have their own libraries for handling plan execution. As we prepare to invest more time improving Hive&apos;s plan execution mechanism we should also start to consider ways of building a generic plan execution mechanism that is capable of supporting the needs of Hive and Pig, as well as other Hadoop data flow programming environments. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12446769">HIVE-1107</key>
            <summary>Generic parallel execution framework for Hive (and Pig, and ...)</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jan 2010 04:57:43 +0000</created>
                <updated>Sun, 9 Sep 2012 12:21:54 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>37</watches>
                                                                <comments>
                            <comment id="12805351" author="zshao" created="Wed, 27 Jan 2010 05:17:35 +0000"  >&lt;p&gt;Hadoop has the JobControl classes which can be generalized to support our need.&lt;/p&gt;

&lt;p&gt;The current major limitations of JobControl are:&lt;br/&gt;
1. No way to add jobs that are non-mapreduce. Hive has a lot of other jobs as well, including MoveTask, etc.&lt;br/&gt;
2. No way to serialize the jobs and resume the progress at a later time.&lt;/p&gt;</comment>
                            <comment id="12888870" author="russell.jurney" created="Thu, 15 Jul 2010 17:55:49 +0000"  >&lt;p&gt;At Jeff&apos;s suggestion, my comments on this ticket for Hive and Pig follow.&lt;/p&gt;

&lt;p&gt;Oozie has been suggested as a solution to this ticket, but it is in my opinion far too complex to be appropriate for Pig or HIVE.  A scheduler should not be more complex than the language it schedules, and Oozie is more complex than Pig and HIVE put together.  Compare their manuals, both in terms of length and readability.  Furthermore, Oozie is (nearly?) turing complete XML, not easily human readable script, and scheduling one job takes far too much of it.&lt;/p&gt;

&lt;p&gt;Pig and HIVE aim to deliver simplicity and accessibility.  In time Oozie may mature, but it is not there yet.  The features are present, but the open source interface is extremely raw.  The only simple interface to Oozie is a proprietary GUI.  Perhaps the next major release will be an improvement.&lt;/p&gt;

&lt;p&gt;A tight binding between these projects would cause LinkedIn problems, as we use Azkaban to schedule pig jobs.  Scheduling a job in Azkaban consists of creating a zip file of your job&apos;s content, inserting a very brief config (typically 3-6 lines), and issuing a one-line command.  The web interface to Azkaban is free.  This makes it a more appropriate choice for this ticket than Oozie, but making Azkaban tightly bound to Pig would be a terrible idea too.&lt;/p&gt;

&lt;p&gt;We should be very careful about adding enterprise baggage to these tools that is simply not needed for the vast majority of users.  Convention over configuration is at the core of Pig and HIVE.  Lets not spoil that.&lt;/p&gt;</comment>
                            <comment id="12888886" author="hammer" created="Thu, 15 Jul 2010 18:41:46 +0000"  >&lt;p&gt;Russell,&lt;/p&gt;

&lt;p&gt;Let&apos;s not focus too hard on the name of the particular workflow execution engine.&lt;/p&gt;

&lt;p&gt;The idea here is that a program of some sort (Hive query or set of Pig statements) must be processed and a physical plan of MapReduce operators produced. Once you have a DAG of operators to carry out, you need:&lt;/p&gt;

&lt;p&gt;1) A way to serialize and exchange this DAG (e.g. Avro, JSON, XML)&lt;br/&gt;
2) A service to execute the DAG and ensure it runs to completion&lt;/p&gt;

&lt;p&gt;Of course, things aren&apos;t this simple; for example, we need a consistent way to handle side data generated by an operator.&lt;/p&gt;

&lt;p&gt;The goal of this proposal was to encourage Hive and Pig to target the same plan serialization format so that a single plan execution engine could be used. That way, work that is done on monitoring, capturing metadata from, and ensuring the reliability of multi-stage DAGs of MapReduce can be reused rather than reimplemented in each system.&lt;/p&gt;

&lt;p&gt;Some arguments against this idea: component modularity can introduce inefficiencies, may make the overall system feel more complex, and does not deliver user-visible features despite the large effort required for implementation.&lt;/p&gt;

&lt;p&gt;I believe the convergence of Pig and Hive on this front would be beneficial to the larger Hadoop community, but it&apos;s a large undertaking, and each organization has their own goals for their infrastructure.&lt;/p&gt;

&lt;p&gt;Later,&lt;br/&gt;
Jeff&lt;/p&gt;</comment>
                            <comment id="12889067" author="cwsteinbach" created="Fri, 16 Jul 2010 08:51:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;The only simple interface to Oozie is a proprietary GUI.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Which Oozie GUI are you talking about? Can you provide a link? I&apos;d really like to check this out.&lt;/p&gt;</comment>
                            <comment id="12933170" author="acmurthy" created="Wed, 17 Nov 2010 21:24:38 +0000"  >&lt;p&gt;+1 on the direction to get Pig and Hive to use common infrastructure for DAG execution.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;1) A way to serialize and exchange this DAG (e.g. Avro, JSON, XML)&lt;br/&gt;
2) A service to execute the DAG and ensure it runs to completion&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Some more:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Ability to modify the DAG on the fly, potentially in reaction to execution of parents of the nodes.&lt;/li&gt;
	&lt;li&gt;Maybe shared infrastructure for ability to restart the necessary components of the DAG etc.&lt;/li&gt;
&lt;/ol&gt;


&lt;hr /&gt;

&lt;p&gt;I agree with Russell that Oozie seems too complicated for this task. &lt;/p&gt;

&lt;p&gt;Potentially, as Zheng suggested, a generalized form of JobControl from Map-Reduce could be the answer, it could be something that Pig, Hive and potentially even Oozie can co-opt.&lt;/p&gt;

</comment>
                            <comment id="12933174" author="hammer" created="Wed, 17 Nov 2010 21:27:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;I agree with Russell that Oozie seems too complicated for this task.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Could you provide more color here? What aspects of Oozie make it too complicated for this task?&lt;/p&gt;</comment>
                            <comment id="12933177" author="acmurthy" created="Wed, 17 Nov 2010 21:48:30 +0000"  >&lt;p&gt;I think Russel did a good job explaining it. &lt;/p&gt;

&lt;p&gt;I&apos;ll add some more:&lt;/p&gt;

&lt;p&gt;I believe, mid-to-long term, that Pig/Hive will get significantly smarter about the way they construct MR jobs - they will want to run some of the nodes in the DAG, wait for their output (e.g. a sampler) and then make ever more complicated decisions to modify the DAG. I believe Oozie isn&apos;t the right tool to be using for this purpose. Also, there is no need to force Oozie either, people can use Azkaban etc. for workflow. &lt;/p&gt;</comment>
                            <comment id="12933194" author="hammer" created="Wed, 17 Nov 2010 22:14:50 +0000"  >&lt;p&gt;Okay, thanks. Let me try to pull apart the issues so that I can understand them:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Oozie is more complex than Pig and HIVE put together Compare their manuals, both in terms of length and readability.&lt;/p&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;&lt;p&gt;Oozie is (nearly?) turing complete XML, not easily human readable script, and scheduling one job takes far too much of it.&lt;/p&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;&lt;p&gt;Also, there is no need to force Oozie either, people can use Azkaban etc. for workflow.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Each of these objects seem moot, given that Oozie would be targeted by the Hive and Pig developers, not the Hive and Pig users. No Hive or Pig user would be required to write Oozie: the configuration files would be generated by the Hive and Pig query planners, from my understanding.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I believe, mid-to-long term, that Pig/Hive will get significantly smarter about the way they construct MR jobs - they will want to run some of the nodes in the DAG, wait for their output (e.g. a sampler) and then make ever more complicated decisions to modify the DAG. I believe Oozie isn&apos;t the right tool to be using for this purpose.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Adaptive query optimization is indeed a noble goal. Oozie seems to think at the level of workflow rather than dataflow, so as you say, it may not be an appropriate layer for performing these optimizations. I&apos;m not sure if it detracts from the ability of Hive or Pig to perform adaptive query optimization though, either.&lt;/p&gt;

&lt;p&gt;Anyways, thanks for the discussion. We&apos;re certainly thinking through these issues as well.&lt;/p&gt;</comment>
                            <comment id="12933196" author="hammer" created="Wed, 17 Nov 2010 22:15:54 +0000"  >&lt;p&gt;Gah, can&apos;t edit, but of course I meant &quot;objections&quot;, not &quot;objects&quot;.&lt;/p&gt;</comment>
                            <comment id="12933208" author="acmurthy" created="Wed, 17 Nov 2010 22:29:34 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Adaptive query optimization is indeed a noble goal. Oozie seems to think at the level of workflow rather than dataflow, so as you say, it may not be an appropriate layer for performing these optimizations. I&apos;m not sure if it detracts from the ability of Hive or Pig to perform adaptive query optimization though, either.&lt;/p&gt;

&lt;p&gt;Anyways, thanks for the discussion. We&apos;re certainly thinking through these issues as well.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yep, this is a fun discussion, thanks to you too.&lt;/p&gt;

&lt;p&gt;A simple example:&lt;/p&gt;

&lt;p&gt;Hive/Pig might want to change the #reduces of job3 in the pipeline after looking at the output of job1 and job2 - this is not necessarily changing the DAG itself, but changing the components of the DAG. &lt;/p&gt;

&lt;p&gt;As you point out, Oozie is at the level of workflow, not dataflow, and thus might be cumbersome to deal with for these purposes. Sure, you could support this Oozie, but I&apos;m not sure it is the right thing to do.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;In some way, my sense is that we need a common DAG-execution library for Pig and Hive, not a DAG-execution framework. Thoughts?&lt;/p&gt;</comment>
                            <comment id="13018630" author="cwsteinbach" created="Mon, 11 Apr 2011 23:33:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;Hive/Pig might want to change the #reduces of job3 in the pipeline after looking at the output of job1 and job2 - this is not necessarily changing the DAG itself, but changing the components of the DAG.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Oozie already supports this:&lt;br/&gt;
&lt;a href=&quot;http://yahoo.github.com/oozie/releases/2.0.0/WorkflowFunctionalSpec.html#DecisionNode&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yahoo.github.com/oozie/releases/2.0.0/WorkflowFunctionalSpec.html#DecisionNode&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://yahoo.github.com/oozie/releases/2.0.0/WorkflowFunctionalSpec.html#WorkflowELSupport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yahoo.github.com/oozie/releases/2.0.0/WorkflowFunctionalSpec.html#WorkflowELSupport&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13291044" author="keren3000" created="Thu, 7 Jun 2012 14:41:01 +0000"  >&lt;p&gt;Hello, I would like to unify the execution layers of Pig and Hive. Greenplum hired me for this project and I will be working on it during this summer (June to September).&lt;br/&gt;
As part of this project, we would also like to integrate MRv2 logic and advantages to the MR plans generated by these query languages.&lt;/p&gt;

&lt;p&gt;The idea is to choose a couple of operators, compare their execution and merge them (or merely choose one).&lt;br/&gt;
The advantage of this project is to have Pig and Hive developers working on a single compiler and optimizer &lt;br/&gt;
of the MR plan. I would love to hear your comments.&lt;/p&gt;

&lt;p&gt;For more details on this project:&lt;br/&gt;
&lt;a href=&quot;http://kereno.com/Plans_for_unification_of_Pig_and_Hive.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://kereno.com/Plans_for_unification_of_Pig_and_Hive.pdf&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13291048" author="appodictic" created="Thu, 7 Jun 2012 14:49:07 +0000"  >&lt;p&gt;That seems like an incredible amount of work to be done in 4 months.&lt;/p&gt;</comment>
                            <comment id="13291070" author="keren3000" created="Thu, 7 Jun 2012 15:23:39 +0000"  >&lt;p&gt;Thanks Edward. This project is merely a prototype for two operators. With the input from the community, we intend to suggest a design and a couple of implementation examples. If you have time, I would be happy to discuss it with you (I am more familiar with Pig layers than Hive&apos;s and your help would be much appreciated).&lt;/p&gt;
</comment>
                            <comment id="13291080" author="ashutoshc" created="Thu, 7 Jun 2012 15:47:55 +0000"  >&lt;p&gt;Thanks, Keren for picking this up! &lt;br/&gt;
I think there is some interest in exploring this idea and there is certainly a value in prototyping this. If you have any more details on design in addition to the pdf you linked, do share. I am sure interested folks will provide u with useful feedback.&lt;/p&gt;</comment>
                            <comment id="13291090" author="appodictic" created="Thu, 7 Jun 2012 16:03:55 +0000"  >&lt;p&gt;It would be an interesting idea to see a multi-stage hive job just turn into an oozie DAG.&lt;/p&gt;</comment>
                            <comment id="13291109" author="dvryaboy" created="Thu, 7 Jun 2012 16:29:40 +0000"  >&lt;p&gt;I don&apos;t think comparing implementations of individual operators is going to lead to anything useful &amp;#8211; one, because they work in the larger context of their respective frameworks, and two, because the real value is in converging on a single optimizer, not on &quot;best&quot; implementations of filters or joins.&lt;/p&gt;</comment>
                            <comment id="13291157" author="jcoveney" created="Thu, 7 Jun 2012 17:44:51 +0000"  >&lt;p&gt;Pig committers coming out of the woodwork &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Keren: I really like this idea in the abstract, and have talked with many people about it. It&apos;s on everyone&apos;s mind.&lt;/p&gt;

&lt;p&gt;That said, I agree completely with dmitriy. Proving that you can pipe one random unified operator through Pig and Hive isn&apos;t going to prove very much. The hard part is going to be creating a system generic enough to handle the diverse object models, extension API&apos;s (UDF&apos;s, load funcs, etc), as well as the act of decoupling highly pig or hive specific code from their respective logical plans. Obviously if you just do a &quot;load + foreach,&quot; it&apos;s going to be much easier than building a system that can handle the extensibility people count on.&lt;/p&gt;

&lt;p&gt;Godspeed. I&apos;ll definitely read anything you guys propose. CC the pig listserv &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13292087" author="milindb" created="Fri, 8 Jun 2012 23:21:20 +0000"  >&lt;p&gt;@jco, @squarecog et al.&lt;/p&gt;

&lt;p&gt;I have had initial discussions with Keren about this project. I agree that full production-quality unification is a lot of work, and would require super-human effort to get it done in 4 months. So, Keren&apos;s internship with Greenplum will focus on producing a prototype. The approach I have proposed to her involves taking an open-source execution engine, which has superset of these operators, which is already proven to work with Hadoop (in fact has Hive implemented on top of it already), and make sure a subset of pig operators are ported to it.&lt;/p&gt;</comment>
                            <comment id="13292089" author="cwsteinbach" created="Fri, 8 Jun 2012 23:22:49 +0000"  >&lt;p&gt;@Milind: Which open-source execution engine are you using?&lt;/p&gt;</comment>
                            <comment id="13292094" author="milindb" created="Fri, 8 Jun 2012 23:31:47 +0000"  >&lt;p&gt;I have requested Keren to look at Hyracks (&lt;a href=&quot;http://code.google.com/p/hyracks/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://code.google.com/p/hyracks/&lt;/a&gt;) and Asterix. This is built by Mike Carey&apos;s research group at UC Irvine, and recently ex-Yahoo! researchers (Marcus Weimer &amp;amp; Tyson Condie) produced some interesting results using Hyracks. Please note that this is exploratory work right now, and just a proposed approach. Not a final choice.&lt;/p&gt;</comment>
                            <comment id="13425628" author="keren3000" created="Tue, 31 Jul 2012 09:01:58 +0000"  >&lt;p&gt;Hello, I am blogging progress on the project on:&lt;br/&gt;
&lt;a href=&quot;http://www.kereno.com/gp/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.kereno.com/gp/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;All comments are welcome, thank you!&lt;/p&gt;

</comment>
                            <comment id="13425634" author="bdechoux" created="Tue, 31 Jul 2012 09:25:00 +0000"  >&lt;p&gt;&quot;A port of hive and pig to YARN&quot; wouldn&apos;t that be a way to explain the project?&lt;br/&gt;
As far as I know (and I don&apos;t know much) the support of YARN by Pig/Hive is not mature and your project could be to provide a common ground for their migration. (Or at least a demonstration that it is possible and what is the ratio effort/advantage).&lt;/p&gt;</comment>
                            <comment id="13425957" author="ahmed.radwan" created="Tue, 31 Jul 2012 17:47:48 +0000"  >&lt;p&gt;I wanted to point out that there is work on Yarn to add a new Workflow Application Master (See &lt;a href=&quot;https://issues.apache.org/jira/browse/OOZIE-1178&quot; title=&quot;Workflow Application Master in YARN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OOZIE-1178&quot;&gt;MAPREDUCE-4495&lt;/a&gt;). It&apos;d be helpful for the Hive community to look into that and provide early feedback. I am envisioning such WorkFlow Application Master can be used by projects like Hive, Pig, etc. so they&apos;ll share a common workflow engine.&lt;/p&gt;</comment>
                            <comment id="13451584" author="keren3000" created="Sun, 9 Sep 2012 12:21:54 +0000"  >&lt;p&gt;Thanks Bertrand, once we have the MR job out of Algebricks we can add YARN compatibility at some point. The advantage being there&apos;s one plan to support rather than one for each query language.&lt;/p&gt;

&lt;p&gt;we implemented Pig2Algebricks for a join query and also wrote up the design for Algebricks2MR. Design details, details on: &lt;a href=&quot;http://www.kereno.com/gp/2012/09/09/convert-algebricks-to-mr-design-and-implementation/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.kereno.com/gp/2012/09/09/convert-algebricks-to-mr-design-and-implementation/&lt;/a&gt;&lt;br/&gt;
Currently working on its implementation.&lt;/p&gt;

&lt;p&gt;Ahmed, thanks for the link to 4495. Will keep on tracking this Jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12600725">OOZIE-1178</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12480172">PIG-1734</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Jan 2010 05:17:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 20 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122826</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>plan execution parallel workflow </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1108] QueryPlan to be independent from BaseSemanticAnalyzer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1108</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;QueryPlan is the class to store compiled plan. However currently it contains references to BaseSemanticAnalyzer.&lt;/p&gt;

&lt;p&gt;We should remove the reference. Otherwise QueryPlan won&apos;t be serializable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446786">HIVE-1108</key>
            <summary>QueryPlan to be independent from BaseSemanticAnalyzer</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jan 2010 09:07:04 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:40 +0000</updated>
                            <resolved>Wed, 27 Jan 2010 23:18:02 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12805608" author="namit" created="Wed, 27 Jan 2010 18:39:35 +0000"  >&lt;p&gt;65 		 private ArrayList&amp;lt;Task&amp;lt;? extends Serializable&amp;gt;&amp;gt; rootTasks; 	&lt;br/&gt;
				66 		private FetchTask fetchTask; 	&lt;br/&gt;
				67 		private HashSet&amp;lt;ReadEntity&amp;gt; inputs; 	&lt;br/&gt;
				68 		private HashSet&amp;lt;WriteEntity&amp;gt; outputs; 	&lt;br/&gt;
				69 			&lt;br/&gt;
				70 		private HashMap&amp;lt;String, String&amp;gt; idToTableNameMap;&lt;/p&gt;



&lt;p&gt;Do you think instead of adding the following fields in QueryPlan, you might create a new serializable structure and share it between SemanticAnalyzer and QueryPlan ?&lt;/p&gt;</comment>
                            <comment id="12805639" author="cwsteinbach" created="Wed, 27 Jan 2010 20:18:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do you think instead of adding the following fields in QueryPlan, you might create a new serializable structure and share it between SemanticAnalyzer and QueryPlan?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s the role of the PhysicalPlan class described in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-924&quot; title=&quot;Extract LogicalPlan and PhysicalPlan classes from SemanticAnalysis class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-924&quot;&gt;HIVE-924&lt;/a&gt;. If Zheng wants to push this patch in now I can address Namit&apos;s concerns in a day or so with the LogicaPlan/PhysicalPlan patch.&lt;/p&gt;</comment>
                            <comment id="12805658" author="zshao" created="Wed, 27 Jan 2010 21:32:14 +0000"  >&lt;p&gt;Thanks for taking care of that Carl! Talked with Namit offline. He will commit this.&lt;/p&gt;
</comment>
                            <comment id="12805667" author="namit" created="Wed, 27 Jan 2010 21:59:51 +0000"  >&lt;p&gt;OK, I will commit it if the tests pass&lt;/p&gt;


&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12805690" author="namit" created="Wed, 27 Jan 2010 23:18:02 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12446618">HIVE-1100</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12446964">HIVE-1117</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12440359">HIVE-924</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12431540" name="HIVE-1108.1.patch" size="22031" author="zshao" created="Wed, 27 Jan 2010 09:18:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Jan 2010 18:39:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122827</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1109] Structured temporary directories</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1109</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently Hive execution uses a lot of temporary directories. These directories are NOT named by date or time, so it&apos;s impossible to know what are the temporary directories (in case the query failed to clean up) that can be deleted safely.&lt;/p&gt;

&lt;p&gt;We should have a better temporary directory structure, with the date and time in the directory name.&lt;/p&gt;

&lt;p&gt;This will help a lot when we are able to resume a query that failed in the middle, because we need to preserve the temporary directories for that query.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446789">HIVE-1109</key>
            <summary>Structured temporary directories</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jan 2010 09:22:49 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:44 +0000</updated>
                            <resolved>Fri, 29 Jan 2010 05:58:51 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12806088" author="zshao" created="Thu, 28 Jan 2010 20:53:51 +0000"  >&lt;p&gt;Incorporated the changes needed for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1113&quot; title=&quot;LOAD DATA LOCAL INPATH does&amp;#39;t work on windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1113&quot;&gt;&lt;del&gt;HIVE-1113&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12806167" author="nzhang" created="Fri, 29 Jan 2010 00:18:41 +0000"  >&lt;p&gt;Code changes looks good. Is there a unit test already for temp directories?&lt;/p&gt;</comment>
                            <comment id="12806169" author="zshao" created="Fri, 29 Jan 2010 00:29:24 +0000"  >&lt;p&gt;There is no separate test for temp directories.&lt;br/&gt;
But every query we test uses the temp directories (which are changed by this patch), so I think as long as all the current tests pass, it should be good.&lt;/p&gt;</comment>
                            <comment id="12806173" author="nzhang" created="Fri, 29 Jan 2010 00:36:39 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12806227" author="nzhang" created="Fri, 29 Jan 2010 04:40:02 +0000"  >&lt;p&gt;Zheng, two negative unit tests failed: fs_default_name1.q, fs_default_name2.q. Can you take a look?&lt;/p&gt;</comment>
                            <comment id="12806232" author="zshao" created="Fri, 29 Jan 2010 05:01:04 +0000"  >&lt;p&gt;Thanks Ning. Fixed the 2 failed negative tests.&lt;/p&gt;</comment>
                            <comment id="12806237" author="nzhang" created="Fri, 29 Jan 2010 05:21:22 +0000"  >&lt;p&gt;Zheng, fs_default_name2.q still is failing. It seesm getExternalScratchDir need to catch the IllegalParameterException as well.&lt;/p&gt;</comment>
                            <comment id="12806242" author="nzhang" created="Fri, 29 Jan 2010 05:58:51 +0000"  >&lt;p&gt;Commit. Thanks Zheng!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12446618">HIVE-1100</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12446857">HIVE-1113</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12446857">HIVE-1113</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12431613" name="HIVE-1109.1.patch" size="10685" author="zshao" created="Wed, 27 Jan 2010 22:45:11 +0000"/>
                            <attachment id="12431698" name="HIVE-1109.2.patch" size="10940" author="zshao" created="Thu, 28 Jan 2010 20:53:51 +0000"/>
                            <attachment id="12431747" name="HIVE-1109.3.patch" size="11323" author="zshao" created="Fri, 29 Jan 2010 05:01:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Jan 2010 00:18:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1110] add counters to show that skew join triggered</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1110</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be very useful to debug, and quickly find out if the skew join was triggered.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446847">HIVE-1110</key>
            <summary>add counters to show that skew join triggered</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jan 2010 19:03:10 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:38 +0000</updated>
                            <resolved>Fri, 29 Jan 2010 00:30:05 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12805999" author="namit" created="Thu, 28 Jan 2010 17:41:38 +0000"  >&lt;p&gt;I am not sure about the semantics of counters - why do you need a bitvector for keeping track of which one got updated.&lt;br/&gt;
Isnt a non-zero value good enough ?&lt;/p&gt;

&lt;p&gt;Is the assumption that only 1 reducer will update a particular tag. Even then you will only be able to know the number&lt;br/&gt;
of skew joins - in that case, why do you need to tag array - just increment the counter every time you see a new key.&lt;br/&gt;
Even if you update it multiple times, it is OK.&lt;/p&gt;</comment>
                            <comment id="12806047" author="he yongqiang" created="Thu, 28 Jan 2010 19:39:34 +0000"  >&lt;p&gt;By introducing an boolean vector to keep track of which table has already got a skew key, it will be able to tell how many tables have skew keys. And that can be used to tell how many skew jobs will be started at least from the counter in that reducer. So if we choose the biggest counter from all reducers, it will be the number of final jobs needed.&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;just increment the counter every time you see a new key.&lt;br/&gt;
This maybe better because sometimes i saw the counter is inaccurate. Even though there is a skew key and the counter got updated, it still reports zero. So it maybe better if we increment the counter multiple times, that maybe can hopefully let the reducer report a non-zero counter.&lt;/p&gt;</comment>
                            <comment id="12806129" author="he yongqiang" created="Thu, 28 Jan 2010 22:14:03 +0000"  >&lt;p&gt;update a new patch integrating Namit&apos;s suggestions. &lt;br/&gt;
I did not know that counters in different tasks will be finally added together. Thanks Namit!&lt;/p&gt;</comment>
                            <comment id="12806171" author="namit" created="Fri, 29 Jan 2010 00:30:05 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431711" name="hive-1110.2.patch" size="2926" author="he yongqiang" created="Thu, 28 Jan 2010 22:14:03 +0000"/>
                            <attachment id="12431632" name="hive-1110.patch" size="3815" author="he yongqiang" created="Thu, 28 Jan 2010 02:10:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Jan 2010 19:39:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73097</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122829</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1111] Metastore should validate types</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1111</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, the metastore accepts any string for a type name. It should check to see that the type name is one that is supported by Hive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446854">HIVE-1111</key>
            <summary>Metastore should validate types</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pauly">Paul Yang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jan 2010 19:37:31 +0000</created>
                <updated>Wed, 27 Jan 2010 19:37:31 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42619</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08ouf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48624</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1112] Replace instances of StringBuffer/Vector with StringBuilder/ArrayList</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1112</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When possible replace instances of StringBuffer and Vector with their non-synchronized counterparts StringBuilder and ArrayList.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446855">HIVE-1112</key>
            <summary>Replace instances of StringBuffer/Vector with StringBuilder/ArrayList</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jan 2010 21:12:33 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:24 +0000</updated>
                            <resolved>Thu, 28 Jan 2010 19:58:35 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12805664" author="cwsteinbach" created="Wed, 27 Jan 2010 21:45:15 +0000"  >&lt;ul&gt;
	&lt;li&gt;Back out change to JDBM code.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12805700" author="cwsteinbach" created="Wed, 27 Jan 2010 23:55:25 +0000"  >&lt;ul&gt;
	&lt;li&gt;Convert to SVN patch.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12805828" author="zshao" created="Thu, 28 Jan 2010 08:03:27 +0000"  >&lt;p&gt;+1. Will commit after test passes.&lt;/p&gt;</comment>
                            <comment id="12806059" author="zshao" created="Thu, 28 Jan 2010 19:58:35 +0000"  >&lt;p&gt;Committed. Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12427265">HIVE-545</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12431605" name="HIVE-1112.2.patch" size="56509" author="cwsteinbach" created="Wed, 27 Jan 2010 21:45:15 +0000"/>
                            <attachment id="12431622" name="HIVE-1112.3.patch" size="51852" author="cwsteinbach" created="Wed, 27 Jan 2010 23:55:25 +0000"/>
                            <attachment id="12431602" name="HIVE-1112.patch" size="57153" author="cwsteinbach" created="Wed, 27 Jan 2010 21:13:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Jan 2010 08:03:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73096</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1113] LOAD DATA LOCAL INPATH does&apos;t work on windows</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1113</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I had follow trace of this issue.&lt;/p&gt;

&lt;p&gt;2010-01-05 01:49:04,109 ERROR ql.Driver (SessionState.java:printError(248)) - FAILED: Unknown exception: null&lt;br/&gt;
java.lang.IllegalArgumentException&lt;br/&gt;
	at java.net.URI.create(URI.java:842)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.LoadSemanticAnalyzer.analyzeInternal(LoadSemanticAnalyzer.java:197)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:105)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:270)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.runCommand(Driver.java:315)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:307)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:123)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:181)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:287)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;br/&gt;
Caused by: java.net.URISyntaxException: Illegal character in path at index 42: &lt;a href=&quot;file:/F:/hadoop/tmp/hive-Ruslan/156473585710000&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/F:/hadoop/tmp/hive-Ruslan/1564735857\10000&lt;/a&gt;&lt;br/&gt;
	at java.net.URI$Parser.fail(URI.java:2809)&lt;br/&gt;
	at java.net.URI$Parser.checkChars(URI.java:2982)&lt;br/&gt;
	at java.net.URI$Parser.parseHierarchical(URI.java:3066)&lt;br/&gt;
	at java.net.URI$Parser.parse(URI.java:3014)&lt;br/&gt;
	at java.net.URI.&amp;lt;init&amp;gt;(URI.java:578)&lt;br/&gt;
	at java.net.URI.create(URI.java:840)&lt;br/&gt;
	... 13 more&lt;/p&gt;
</description>
                <environment>&lt;p&gt;cygwin1.7.1-1 WindowsXP&lt;/p&gt;</environment>
        <key id="12446857">HIVE-1113</key>
            <summary>LOAD DATA LOCAL INPATH does&apos;t work on windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tantra">ruslan.usifov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jan 2010 21:20:12 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:44 +0000</updated>
                            <resolved>Thu, 4 Feb 2010 06:44:37 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12805657" author="tantra" created="Wed, 27 Jan 2010 21:23:33 +0000"  >&lt;p&gt;I have patch to fix this issue in my case &lt;/p&gt;</comment>
                            <comment id="12829480" author="zshao" created="Thu, 4 Feb 2010 06:44:36 +0000"  >&lt;p&gt;This should be fixed as part of the related task.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12446789">HIVE-1109</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12446789">HIVE-1109</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12431603" name="HIVE-1113.patch" size="538" author="tantra" created="Wed, 27 Jan 2010 21:25:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Feb 2010 06:44:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73095</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1114] create a new format where a record can span mutiple lines</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1114</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The user should be able to specify his own delimiter (one or more characters)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446858">HIVE-1114</key>
            <summary>create a new format where a record can span mutiple lines</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jan 2010 21:31:23 +0000</created>
                <updated>Wed, 16 Jun 2010 02:00:20 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42618</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122832</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1115] optimize combinehiveinputformat in presence of many partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1115</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A query like :&lt;/p&gt;


&lt;p&gt;select ..  from T where ...&lt;/p&gt;

&lt;p&gt;where T contains a very large number of partitions does not work very well with CombineHiveInputFomat.&lt;/p&gt;

&lt;p&gt;A pool is created per directory, which leads to a high number of mappers.&lt;br/&gt;
In case all partitions share the same operator tree, and the same partition description, only a single pool should be created.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446868">HIVE-1115</key>
            <summary>optimize combinehiveinputformat in presence of many partitions</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jan 2010 00:16:27 +0000</created>
                <updated>Tue, 27 Apr 2010 19:55:47 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12861508" author="mpest06" created="Tue, 27 Apr 2010 19:34:30 +0000"  >&lt;p&gt;Any eta on this issue for resolution ?  There hasn&apos;t been any activity in a while and it would be significant performance increase in our environment.  &lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="12861514" author="pauly" created="Tue, 27 Apr 2010 19:55:47 +0000"  >&lt;p&gt;Not quite sure if this will be completed this quarter - I believe &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-1501&quot; title=&quot;FileInputFormat to support multi-level/recursive directory listing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-1501&quot;&gt;&lt;del&gt;MAPREDUCE-1501&lt;/del&gt;&lt;/a&gt; was helpful in handling a similar use case?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 27 Apr 2010 19:34:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42617</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08n7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1116] bug with alter table rename when table has property EXTERNAL=FALSE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1116</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;if the location is not an external location - this would be safer.&lt;/p&gt;

&lt;p&gt;the problem right now is that it&apos;s tricky to use the drop and rename way of writing new data into a table. consider:&lt;/p&gt;

&lt;p&gt;Initialization block:&lt;br/&gt;
drop table a_tmp&lt;br/&gt;
create table a_tmp like a;&lt;/p&gt;

&lt;p&gt;Loading block:&lt;br/&gt;
load data &amp;lt;newdata&amp;gt; into a_tmp;&lt;br/&gt;
drop table a;&lt;br/&gt;
alter table a_tmp rename to a;&lt;/p&gt;

&lt;p&gt;this looks safe. but it&apos;s not. if one runs this multiple times - then data is lost (since &apos;a&apos; is pointing to &apos;a_tmp&apos;&apos;s location after any iteration. and dropping table &apos;a&apos; blows away loaded data in the next iteration). &lt;/p&gt;

&lt;p&gt;if the location is being managed by Hive - then &apos;rename&apos; should switch location as well.&lt;/p&gt;






</description>
                <environment></environment>
        <key id="12446926">HIVE-1116</key>
            <summary>bug with alter table rename when table has property EXTERNAL=FALSE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jan 2010 16:49:49 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:32 +0000</updated>
                            <resolved>Wed, 12 May 2010 23:01:46 +0000</resolved>
                                    <version>0.5.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12805985" author="prasadc" created="Thu, 28 Jan 2010 17:03:10 +0000"  >&lt;p&gt;I remember doing this quite sometime ago(only for non-external tables). Are you sure it doesn&apos;t work in any scenario?&lt;/p&gt;</comment>
                            <comment id="12806063" author="zshao" created="Thu, 28 Jan 2010 20:02:18 +0000"  >&lt;p&gt;I think this is fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-592&quot; title=&quot;renaming internal table should rename HDFS and also change path of the table and partitions accordingly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-592&quot;&gt;&lt;del&gt;HIVE-592&lt;/del&gt;&lt;/a&gt;. We need to verify it&apos;s actually fixed or not.&lt;/p&gt;</comment>
                            <comment id="12806073" author="jsensarma" created="Thu, 28 Jan 2010 20:24:03 +0000"  >&lt;p&gt;yeah - positive.  it might work &apos;once&apos;. but if u repeat the recipe - it will fail because &apos;a&apos; points to &apos;a_tmp&apos; next time.&lt;/p&gt;</comment>
                            <comment id="12806074" author="jsensarma" created="Thu, 28 Jan 2010 20:24:36 +0000"  >&lt;p&gt;yeah - positive.  it might work &apos;once&apos;. but if u repeat the recipe - it will fail because &apos;a&apos; points to &apos;a_tmp&apos; next time.&lt;/p&gt;</comment>
                            <comment id="12806075" author="jsensarma" created="Thu, 28 Jan 2010 20:25:14 +0000"  >&lt;p&gt;interesting - i am hitting on our internal clusters. 592 seems pretty old.&lt;/p&gt;</comment>
                            <comment id="12863436" author="jvs" created="Mon, 3 May 2010 18:09:41 +0000"  >&lt;p&gt;Joydeep is correct; there is still a bug here.&lt;/p&gt;

&lt;p&gt;This works:&lt;/p&gt;

&lt;p&gt;create table a(i int);&lt;br/&gt;
alter table a rename to b;&lt;br/&gt;
describe extended a;&lt;/p&gt;

&lt;p&gt;But this does not:&lt;/p&gt;

&lt;p&gt;create table a(i int);&lt;br/&gt;
create table c like a;&lt;br/&gt;
alter table c rename to d;&lt;br/&gt;
describe extended d;&lt;/p&gt;

&lt;p&gt;Nor does this:&lt;/p&gt;

&lt;p&gt;create table a (int);&lt;br/&gt;
alter table a set tblproperties (&apos;EXTERNAL&apos; = &apos;FALSE&apos;);&lt;br/&gt;
alter table a rename to e;&lt;br/&gt;
describe extended e;&lt;/p&gt;

&lt;p&gt;Here&apos;s what is going on.  &lt;/p&gt;

&lt;p&gt;(1) When ALTER TABLE RENAME sees a table with the &apos;EXTERNAL&apos; property (regardless of the value), it treats it as an external table and does not do the relocation.  This is incorrect, since when &apos;EXTERNAL&apos; = &apos;FALSE&apos;, it is not an external table.&lt;/p&gt;

&lt;p&gt;(2) CREATE TABLE LIKE always adds an EXTERNAL property (setting it to FALSE unless the table is an external table).&lt;/p&gt;

&lt;p&gt;So, the bug will typically only show up on a table which was originally created with CREATE TABLE LIKE and then renamed.&lt;/p&gt;</comment>
                            <comment id="12863960" author="jvs" created="Tue, 4 May 2010 19:29:39 +0000"  >&lt;p&gt;Passed tests.&lt;/p&gt;</comment>
                            <comment id="12866671" author="namit" created="Wed, 12 May 2010 18:10:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;
</comment>
                            <comment id="12866779" author="namit" created="Wed, 12 May 2010 23:01:46 +0000"  >&lt;p&gt;Committed. Thanks John&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12429128">HIVE-592</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12443499" name="HIVE-1116.1.patch" size="16097" author="jvs" created="Mon, 3 May 2010 21:04:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Jan 2010 17:03:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122833</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1117] Make QueryPlan serializable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1117</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We need to make QueryPlan serializable so that we can resume the query some time later.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446964">HIVE-1117</key>
            <summary>Make QueryPlan serializable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jan 2010 23:44:07 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:26 +0000</updated>
                            <resolved>Wed, 17 Feb 2010 06:12:07 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12806260" author="zshao" created="Fri, 29 Jan 2010 07:27:27 +0000"  >&lt;p&gt;This patch makes all tasks and works serializable.&lt;/p&gt;

&lt;p&gt;Currently there are no additional tests.&lt;br/&gt;
Once the whole QueryPlan is serializable, we will serialize the whole query plan after compilation and deserialize the whole plan before execution. This will automatically test all the serialization/deserialization.&lt;/p&gt;

&lt;p&gt;I prefer to commit this one first given that major code refactoring/clean-up is happening.&lt;/p&gt;</comment>
                            <comment id="12806650" author="hammer" created="Sat, 30 Jan 2010 09:56:33 +0000"  >&lt;p&gt;I don&apos;t see a patch? Would be curious to see the serialization used--Avro would be an excellent choice.&lt;/p&gt;</comment>
                            <comment id="12828028" author="zshao" created="Mon, 1 Feb 2010 07:58:36 +0000"  >&lt;p&gt;We have been using Java serialization with xml format for the map-reduce plans in Hive.&lt;br/&gt;
For now, we will continue to use the xml format to ease debugging.&lt;/p&gt;

&lt;p&gt;For Avro, shall we first get it working with SerDe?&lt;/p&gt;</comment>
                            <comment id="12828035" author="hammer" created="Mon, 1 Feb 2010 08:43:22 +0000"  >&lt;p&gt;You could use the Avro JSON Encoder to serialize the data as JSON while still using a schema to describe it (and potentially evolve it).&lt;/p&gt;</comment>
                            <comment id="12832851" author="zshao" created="Fri, 12 Feb 2010 05:39:16 +0000"  >&lt;p&gt;A link for XMLEncoder that is used in Hive to serialize/deserialize execution plans: &lt;a href=&quot;http://java.sun.com/products/jfc/tsc/articles/persistence4/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/products/jfc/tsc/articles/persistence4/&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="12833101" author="hammer" created="Fri, 12 Feb 2010 18:20:58 +0000"  >&lt;p&gt;Seems totally unnecessary. What are the advantages over Avro reflection? Are these complex objects?&lt;/p&gt;</comment>
                            <comment id="12833117" author="athusoo" created="Fri, 12 Feb 2010 19:04:59 +0000"  >&lt;p&gt;What would be the advantage to use Avro here? We do not really have a requirement of cross language clients for this thing? To me throwing Avro in the mix is just adding another dependency that is not really needed.. no?&lt;/p&gt;</comment>
                            <comment id="12833118" author="zshao" created="Fri, 12 Feb 2010 19:05:40 +0000"  >&lt;p&gt;Hi Jeff, Hive was using the XMLEncoder for the plan from the beginning. I don&apos;t see a strong reason that we need to switch now. Maybe we can revisit it at some time later when there is a need.&lt;/p&gt;

&lt;p&gt;Also, I have a question for Avro: does it support circular dependency in the object graph? For example, a plan object that contains a field which is an operator object, and the operator object contains a field which stores the plan object.&lt;/p&gt;</comment>
                            <comment id="12833168" author="appodictic" created="Fri, 12 Feb 2010 21:07:05 +0000"  >&lt;p&gt;Personally, I think the Java XML Serialization is very cool. It is very good for dumping complex object graphs, and you usually need to write 0 lines of de-serialization re-serialization code. Not the tightest XML but its a very generic format. I does not seem like this portion of the code will need to be high performance or cross platform, that would be the argument for avro correct? &lt;/p&gt;

&lt;p&gt;As for JSON, well I guess I am an old timer I still like XML, anyone going to make the case for using s-expressions &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12834106" author="namit" created="Tue, 16 Feb 2010 07:10:50 +0000"  >&lt;p&gt;Why are you using the deserialized plan in Driver.compile() ? Is it for testing and do you plan to remove it after some time ?&lt;br/&gt;
Otherwise, it looks good.&lt;/p&gt;</comment>
                            <comment id="12834113" author="zshao" created="Tue, 16 Feb 2010 07:41:03 +0000"  >&lt;p&gt;By using the deserialized plan, we can enforce that the plan (after serialization/deserialzation loop) still works for all unit tests.&lt;/p&gt;

&lt;p&gt;In the next transaction (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1100&quot; title=&quot;Make it possible for users to retry map-reduce jobs in a single Hive query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1100&quot;&gt;HIVE-1100&lt;/a&gt;), I plan to completely break compile and execute apart, so that the serialization happens in compile, and deserialization happens in execute.&lt;/p&gt;</comment>
                            <comment id="12834360" author="namit" created="Tue, 16 Feb 2010 18:18:00 +0000"  >&lt;p&gt;TestParse failed - can you update the outputs for TestParse results ?&lt;/p&gt;</comment>
                            <comment id="12834363" author="zshao" created="Tue, 16 Feb 2010 18:26:29 +0000"  >&lt;p&gt;Did you apply both &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1117&quot; title=&quot;Make QueryPlan serializable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1117&quot;&gt;&lt;del&gt;HIVE-1117&lt;/del&gt;&lt;/a&gt;.test.patch and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1117&quot; title=&quot;Make QueryPlan serializable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1117&quot;&gt;&lt;del&gt;HIVE-1117&lt;/del&gt;&lt;/a&gt;.code.patch?&lt;/p&gt;

&lt;p&gt;Zheng on blackberry&lt;/p&gt;
</comment>
                            <comment id="12834372" author="namit" created="Tue, 16 Feb 2010 18:45:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12834656" author="namit" created="Wed, 17 Feb 2010 06:12:05 +0000"  >&lt;p&gt;committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12446618">HIVE-1100</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12456210">HIVE-1167</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12446786">HIVE-1108</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12446989">HIVE-1119</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12455005">HIVE-1122</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12456120">HIVE-1160</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12435945" name="HIVE-1117.1.code.patch" size="59658" author="zshao" created="Tue, 16 Feb 2010 06:17:38 +0000"/>
                            <attachment id="12435946" name="HIVE-1117.1.test.patch" size="244485" author="zshao" created="Tue, 16 Feb 2010 06:17:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 30 Jan 2010 09:56:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73093</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1118] Add hive.merge.size.per.task to HiveConf</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1118</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, by default, we get one reducer for each 1GB of input data.&lt;br/&gt;
It&apos;s also true for the conditional merge job that will run if the average file size is smaller than a threshold.&lt;/p&gt;

&lt;p&gt;This actually makes those job very slow, because each reducer needs to consume 1GB of data.&lt;/p&gt;

&lt;p&gt;Alternatively, we can just use that threshold to determine the number of reducers per job (or introduce a new parameter).&lt;br/&gt;
Let&apos;s say the threshold is 1MB, then we only start the the merge job if the average file size is less than 1MB, and the eventual result file size will be around 1MB (or another small number).&lt;/p&gt;

&lt;p&gt;This will remove the extreme cases where we have thousands of empty files, but still make normal jobs fast enough.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446987">HIVE-1118</key>
            <summary>Add hive.merge.size.per.task to HiveConf</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Jan 2010 05:33:20 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:32 +0000</updated>
                            <resolved>Tue, 2 Feb 2010 01:14:51 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12806408" author="namit" created="Fri, 29 Jan 2010 17:44:36 +0000"  >&lt;p&gt;Wont it lead to a lot of small files - 1MB, assuming the reducer maintains the same size for the data&lt;/p&gt;</comment>
                            <comment id="12806435" author="zshao" created="Fri, 29 Jan 2010 18:56:26 +0000"  >&lt;p&gt;That&apos;s still much better than NOT running the merge task.&lt;br/&gt;
With the currently setting, almost nobody will enable this by default. As a result, we are seeing a lot of 1KB files in the HDFS.&lt;/p&gt;

&lt;p&gt;If we make this change, we can enable it by default.&lt;/p&gt;


&lt;p&gt;I agree 1MB is not a good default. We can set it to 32MB or 64MB (and on by default).&lt;/p&gt;

&lt;p&gt;If that&apos;s not good enough, let&apos;s introduce another parameter so we can say (32MB, 64MB), which will start the merge job if average size of file is smaller than 32MB, and we will end up with files with 64MB.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="12828293" author="zshao" created="Mon, 1 Feb 2010 22:02:26 +0000"  >&lt;p&gt;Actually the option is already there. I just modified the default to be: condition = 16MB, merged file size = 32MB.&lt;br/&gt;
I think this setting is a good default.&lt;/p&gt;

&lt;p&gt;I also added the missed conf variable to hive-default.xml.&lt;/p&gt;</comment>
                            <comment id="12828296" author="zshao" created="Mon, 1 Feb 2010 22:09:17 +0000"  >&lt;p&gt;The change is trivial, but hopefully it helps our users to use this feature without the concern of making the job running much longer.&lt;/p&gt;</comment>
                            <comment id="12828303" author="zshao" created="Mon, 1 Feb 2010 22:17:54 +0000"  >&lt;p&gt;After some more thought, I think the current settings of 256MB is good for most pipeline jobs.&lt;/p&gt;

&lt;p&gt;Interactive users will have to set the options differently (either disable hive.merge.mapfiles, or make hive.merge.size.per.task a smaller number).&lt;/p&gt;

&lt;p&gt;This patch now simply adds the missing conf variable and corrects the comment.&lt;/p&gt;</comment>
                            <comment id="12828307" author="namit" created="Mon, 1 Feb 2010 22:26:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good&lt;/p&gt;</comment>
                            <comment id="12828384" author="namit" created="Tue, 2 Feb 2010 01:14:51 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12434436" name="HIVE-1118.1.patch" size="1647" author="zshao" created="Mon, 1 Feb 2010 22:02:26 +0000"/>
                            <attachment id="12434438" name="HIVE-1118.2.patch" size="2369" author="zshao" created="Mon, 1 Feb 2010 22:09:17 +0000"/>
                            <attachment id="12434441" name="HIVE-1118.3.patch" size="1463" author="zshao" created="Mon, 1 Feb 2010 22:17:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Jan 2010 17:44:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73092</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122835</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1119] Make all Tasks and Works serializable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1119</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;All Tasks/Works (not just MapredTask and MapredWork) should be serializable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446989">HIVE-1119</key>
            <summary>Make all Tasks and Works serializable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Jan 2010 07:24:01 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:39 +0000</updated>
                            <resolved>Tue, 2 Feb 2010 01:14:33 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12806262" author="zshao" created="Fri, 29 Jan 2010 07:29:33 +0000"  >&lt;p&gt;This patch makes all tasks and works serializable.&lt;br/&gt;
Currently there are no additional tests.&lt;br/&gt;
Once the whole QueryPlan is serializable, we will serialize the whole query plan after compilation and deserialize the whole plan before execution. This will automatically test all the serialization/deserialization.&lt;/p&gt;

&lt;p&gt;I prefer to commit this one first given that major code refactoring/clean-up is happening.&lt;/p&gt;</comment>
                            <comment id="12806403" author="namit" created="Fri, 29 Jan 2010 17:34:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12806533" author="namit" created="Fri, 29 Jan 2010 22:10:47 +0000"  >&lt;p&gt;some tests are failing &lt;/p&gt;</comment>
                            <comment id="12828274" author="zshao" created="Mon, 1 Feb 2010 21:20:22 +0000"  >&lt;p&gt;Fixed the test failures.&lt;/p&gt;</comment>
                            <comment id="12828383" author="namit" created="Tue, 2 Feb 2010 01:14:33 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12446964">HIVE-1117</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12431754" name="HIVE-1119.1.patch" size="31090" author="zshao" created="Fri, 29 Jan 2010 07:29:33 +0000"/>
                            <attachment id="12434433" name="HIVE-1119.3.patch" size="33127" author="zshao" created="Mon, 1 Feb 2010 21:18:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Jan 2010 17:34:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73091</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1120] In ivy offline mode, don&apos;t delete downloaded jars</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1120</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Once jars have been successfully downloaded, it would be good for developer productivity to be able to do&lt;/p&gt;

&lt;p&gt;ant -Doffline=true clean &amp;amp;&amp;amp; package&lt;/p&gt;

&lt;p&gt;Currently this won&apos;t work because the clean will delete the downloaded jars.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12447044">HIVE-1120</key>
            <summary>In ivy offline mode, don&apos;t delete downloaded jars</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Jan 2010 19:58:12 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:53 +0000</updated>
                            <resolved>Fri, 5 Feb 2010 21:26:01 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12806577" author="jvs" created="Sat, 30 Jan 2010 00:25:21 +0000"  >&lt;p&gt;I looked into doing this via ant changes, but it would involve selectively preserving artifact copies under hive&apos;s build directory via excludes in our clean target.&lt;/p&gt;

&lt;p&gt;A much better solution is available in &lt;a href=&quot;https://issues.apache.org/jira/browse/IVY-879&quot; title=&quot;Using ivy in offline mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IVY-879&quot;&gt;&lt;del&gt;IVY-879&lt;/del&gt;&lt;/a&gt;, but it involves upgrading ivy to 2.1.0.  It&apos;s better because it allows us to continue blowing away the build directories entirely and then just refresh from the local cache, without hitting the remote repository.&lt;/p&gt;</comment>
                            <comment id="12828026" author="zshao" created="Mon, 1 Feb 2010 07:56:07 +0000"  >&lt;p&gt;Is ivy 2.1.0 released? I guess it&apos;s not a big problem to upgrade ivy.&lt;/p&gt;</comment>
                            <comment id="12828171" author="jvs" created="Mon, 1 Feb 2010 16:45:44 +0000"  >&lt;p&gt;Yes, 2.1.0 was released in Oct 2009.  I&apos;ll look into the upgrade.&lt;/p&gt;</comment>
                            <comment id="12828309" author="jvs" created="Mon, 1 Feb 2010 22:28:55 +0000"  >&lt;p&gt;Here&apos;s the ivy upgrade patch.&lt;/p&gt;

&lt;p&gt;After applying this patch, you need to do&lt;/p&gt;

&lt;p&gt;cd ~&lt;br/&gt;
rm -rf .ant&lt;/p&gt;

&lt;p&gt;Otherwise you&apos;ll get a build error from your old cached ivy version.  This is necessary regardless of whether you&apos;re using offline mode or not.  Once this patch is committed, I&apos;ll broadcast a notice to that effect to hive-dev.&lt;/p&gt;

&lt;p&gt;Besides the ivy upgrade, here are some other notes on the change:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;In online mode (the default), everything should continue to work exactly as before (ant clean will blow away the entire build directory)&lt;/li&gt;
	&lt;li&gt;In offline mode, ant clean will leave behind build/ivy (deleting everything else under build) to avoid the need to re-download ivy on the next sync&lt;/li&gt;
	&lt;li&gt;In offline mode, on the first &quot;ant package&quot; after &quot;ant clean&quot;, ant will re-expand archives from the ~/.ant/cache into the build dir, thus avoiding a download, although it will still exchange a few messages with remote repos--but if the remote repos are not available, it will keep going with warnings, so once you&apos;ve downloaded everything, you can go off the grid to hack away disconnected while still using ant clean as needed&lt;/li&gt;
	&lt;li&gt;In offline mode, repeated execution of &quot;ant package&quot; (without &quot;ant clean&quot; in the middle) will skip ivy entirely, same as before this patch&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12828311" author="jvs" created="Mon, 1 Feb 2010 22:34:56 +0000"  >&lt;p&gt;Once you have this patch and have run ivy to download all dependencies, you can set ANT_ARGS=&quot;-Doffline=true&quot; in your environment for normal use, then unset it only when you need to let ivy download updated dependencies.&lt;/p&gt;</comment>
                            <comment id="12829478" author="zshao" created="Thu, 4 Feb 2010 06:43:51 +0000"  >&lt;p&gt;Hi John, it seems the recent commits of &quot;ant checkstyle&quot; make this patch conflicting with trunk.&lt;br/&gt;
Can you regenerate the patch?&lt;/p&gt;</comment>
                            <comment id="12829859" author="jvs" created="Thu, 4 Feb 2010 23:50:45 +0000"  >&lt;p&gt;.2.patch resolves conflicts with checkstyle change.&lt;/p&gt;</comment>
                            <comment id="12829872" author="cwsteinbach" created="Fri, 5 Feb 2010 00:16:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Be forewarned that if you have manually installed an older version of&lt;br/&gt;
Ivy in $ANT_HOME/lib this copy will get picked up in preference to downloading&lt;br/&gt;
the newer version. I saw the following error until I deleted the older Ivy JAR&lt;br/&gt;
in my $ANT_HOME/lib directory:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ivy-retrieve-hadoop-source:
[ivy:retrieve] :: Ivy 2.0.0-rc2 - 20081028224207 :: http://ant.apache.org/ivy/ ::
:: loading settings :: file = /Users/carl/Projects/hd9/hive-trunk/ivy/ivysettings.xml

BUILD FAILED
/Users/carl/Projects/hd9/hive-trunk/build.xml:148: The following error occurred while executing this line:
/Users/carl/Projects/hd9/hive-trunk/build.xml:93: The following error occurred while executing this line:
/Users/carl/Projects/hd9/hive-trunk/shims/build.xml:55: The following error occurred while executing this line:
/Users/carl/Projects/hd9/hive-trunk/build-common.xml:180: impossible to configure ivy:settings with given file: /Users/carl/Projects/hd9/hive-trunk/ivy/ivysettings.xml : java.text.ParseException: failed to load settings from file:/Users/carl/Projects/hd9/hive-trunk/ivy/ivysettings.xml: impossible to set defaultTTL to eternal on class org.apache.ivy.core.cache.DefaultRepositoryCacheManager
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12829923" author="zshao" created="Fri, 5 Feb 2010 02:35:40 +0000"  >&lt;p&gt;Will test and commit.&lt;/p&gt;</comment>
                            <comment id="12829941" author="zshao" created="Fri, 5 Feb 2010 03:37:00 +0000"  >&lt;p&gt;I did the following&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;1. ant clean
2. ant &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;
3. ant -Doffline=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; clean
4. ant -Doffline=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;
5. ant -Doffline=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&quot;ant&quot; is checking/downloading hadoop source in command 4. However command 5 is fine: we don&apos;t download hadoop source again.&lt;br/&gt;
John, can you post the sequence of commands you run to make this work?&lt;/p&gt;</comment>
                            <comment id="12829949" author="jvs" created="Fri, 5 Feb 2010 03:47:44 +0000"  >&lt;p&gt;The behavior you&apos;re seeing is expected.  In step 4, it is not actually downloading anything from the network; it is copying/unpacking the archives from ~/.ant/cache to hive/build.&lt;br/&gt;
This is necessary since we delete everything exception build/ivy as part of ant clean.&lt;/p&gt;

&lt;p&gt;You can verify this by disconnecting your network cable before step 4; it will succeed (with a bunch of warning complaints for when it tries to access the remote repo for version checks).&lt;/p&gt;</comment>
                            <comment id="12829959" author="jvs" created="Fri, 5 Feb 2010 04:22:25 +0000"  >&lt;p&gt;Resubmitting since this is the expected behavior.&lt;/p&gt;</comment>
                            <comment id="12830304" author="zshao" created="Fri, 5 Feb 2010 21:26:01 +0000"  >&lt;p&gt;Committed. Thanks John!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12456257">HIVE-1168</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12471364">HIVE-1531</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12443287">HIVE-984</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12434444" name="HIVE-1120.1.patch" size="4454" author="jvs" created="Mon, 1 Feb 2010 22:28:55 +0000"/>
                            <attachment id="12434898" name="HIVE-1120.2.patch" size="4800" author="jvs" created="Thu, 4 Feb 2010 23:50:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 1 Feb 2010 07:56:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 51 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
