<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:22:42 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2013-1-1+AND+created+%3C%3D+2013-1-8+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="21" total="21"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3850] hour() function returns 12 hour clock value when using timestamp datatype</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3850</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Apparently UDFHour.java does have two evaluate() functions. One that does accept a Text object as parameter and one that does use a TimeStampWritable object as parameter. The first function does return the value of Calendar.HOUR_OF_DAY and the second one of Calendar.HOUR. In the documentation I couldn&apos;t find any information on the overload of the evaluation function. I did spent quite some time finding out why my statement didn&apos;t return a 24 hour clock value.&lt;/p&gt;

&lt;p&gt;Shouldn&apos;t both functions return the same?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12625682">HIVE-3850</key>
            <summary>hour() function returns 12 hour clock value when using timestamp datatype</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pieterjan">Pieterjan Vriends</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Jan 2013 14:16:39 +0000</created>
                <updated>Thu, 16 May 2013 21:10:01 +0000</updated>
                            <resolved>Sun, 31 Mar 2013 15:37:17 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13564233" author="ak.arun@aol.com" created="Mon, 28 Jan 2013 12:33:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pieterjan&quot; class=&quot;user-hover&quot; rel=&quot;pieterjan&quot;&gt;Pieterjan Vriends&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I have checked the following 4 queries,&lt;br/&gt;
1) select hour(&apos;1:58:59&apos;) FROM myTable;&lt;br/&gt;
Result &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; 1&lt;br/&gt;
2) select hour(&apos;13:58:59&apos;) FROM myTable;&lt;br/&gt;
Result &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; 13&lt;br/&gt;
3) select hour(&apos;2009-07-30 10:58:59&apos;) FROM myTable;&lt;br/&gt;
Result &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; 10&lt;br/&gt;
4) select hour(&apos;2009-07-30 14:58:59&apos;) FROM myTable;&lt;br/&gt;
Result &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; 14&lt;/p&gt;

&lt;p&gt;I have got the response in 24 hour clock time aswell. &lt;/p&gt;

&lt;p&gt;Have I interpretted it wrong? Please comment on the same.  &lt;/p&gt;</comment>
                            <comment id="13564348" author="pieterjan" created="Mon, 28 Jan 2013 15:38:47 +0000"  >&lt;p&gt;I stumbled up on the problem when I queried using the hour() function on an existing field that was declared as a TIMESTAMP, not a STRING.&lt;/p&gt;

&lt;p&gt;SELECT hour(mytimstampfield) FROM mytable;. &lt;/p&gt;

&lt;p&gt;When the field is declared as a STRING or as in your example you provide a STRING the query will indeed return an 24 hour value as expected. The overloaded evaluation function that accepts a TIMESTAMP will return a 12 hour value.&lt;/p&gt;</comment>
                            <comment id="13564350" author="pieterjan" created="Mon, 28 Jan 2013 15:45:10 +0000"  >&lt;p&gt;From the source code:&lt;/p&gt;

&lt;p&gt;  public IntWritable evaluate(Text dateString) {&lt;/p&gt;

&lt;p&gt;    if (dateString == null) &lt;/p&gt;
{
      return null;
    }&lt;br/&gt;
&lt;br/&gt;
    try {&lt;br/&gt;
      Date date = null;&lt;br/&gt;
      try {
        date = formatter1.parse(dateString.toString());
      } catch (ParseException e) {
        date = formatter2.parse(dateString.toString());
      }&lt;br/&gt;
      calendar.setTime(date);&lt;br/&gt;
      result.set(calendar.get(Calendar.HOUR_OF_DAY));&lt;br/&gt;
      return result;&lt;br/&gt;
    } catch (ParseException e) {      return null;    }
&lt;p&gt;  }&lt;/p&gt;

&lt;p&gt;  public IntWritable evaluate(TimestampWritable t) {&lt;br/&gt;
    if (t == null) &lt;/p&gt;
{
      return null;
    }

&lt;p&gt;    calendar.setTime(t.getTimestamp());&lt;br/&gt;
    result.set(calendar.get(Calendar.HOUR));&lt;br/&gt;
    return result;&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;As you can see, the second evaluate() method returns the value of Calendar.HOUR instead of Calendar.HOUR_OF_DAY.&lt;/p&gt;</comment>
                            <comment id="13564415" author="ashutoshc" created="Mon, 28 Jan 2013 17:12:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pieterjan&quot; class=&quot;user-hover&quot; rel=&quot;pieterjan&quot;&gt;Pieterjan Vriends&lt;/a&gt; Thanks for digging into code. Mind submitting a patch for this?&lt;/p&gt;</comment>
                            <comment id="13565060" author="ak.arun@aol.com" created="Tue, 29 Jan 2013 04:10:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pieterjan&quot; class=&quot;user-hover&quot; rel=&quot;pieterjan&quot;&gt;Pieterjan Vriends&lt;/a&gt; and  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; - May be we shall submit a patch for the same. &lt;/p&gt;</comment>
                            <comment id="13565323" author="710154" created="Tue, 29 Jan 2013 12:41:12 +0000"  >&lt;p&gt;Patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3850&quot; title=&quot;hour() function returns 12 hour clock value when using timestamp datatype&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3850&quot;&gt;&lt;del&gt;HIVE-3850&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13565324" author="ak.arun@aol.com" created="Tue, 29 Jan 2013 12:44:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pieterjan&quot; class=&quot;user-hover&quot; rel=&quot;pieterjan&quot;&gt;Pieterjan Vriends&lt;/a&gt;, Please verify the change. Guess there is no need for a test case since the change is minor. &lt;/p&gt;</comment>
                            <comment id="13566159" author="ajeshpg" created="Wed, 30 Jan 2013 04:47:41 +0000"  >&lt;p&gt;@Arun, Can you use &lt;a href=&quot;https://reviews.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org&lt;/a&gt; to create a review for the change?&lt;/p&gt;</comment>
                            <comment id="13567355" author="mgrover" created="Thu, 31 Jan 2013 04:45:39 +0000"  >&lt;p&gt;For completeness, review is at: &lt;a href=&quot;https://reviews.apache.org/r/9171/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9171/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13567356" author="mgrover" created="Thu, 31 Jan 2013 04:48:32 +0000"  >&lt;p&gt;Patch looks good to me.&lt;/p&gt;

&lt;p&gt;Usually, I would ask for unit tests to be added with any change but given that it&apos;s a trivial change, I would be ok without new tests. We should, however, make sure we update the existing unit tests if needed.&lt;/p&gt;

&lt;p&gt;Did you get a chance to run the unit tests (atleast the ones that use hour UDF) and make sure no changes are required in their output?&lt;/p&gt;</comment>
                            <comment id="13567359" author="mgrover" created="Thu, 31 Jan 2013 04:52:58 +0000"  >&lt;p&gt;The change wasn&apos;t committed, re-opening the JIRA.&lt;/p&gt;</comment>
                            <comment id="13567708" author="pieterjan" created="Thu, 31 Jan 2013 15:16:02 +0000"  >&lt;p&gt;Sorry about that. I must admit I&apos;m quite new to this.&lt;/p&gt;</comment>
                            <comment id="13567763" author="mgrover" created="Thu, 31 Jan 2013 16:20:30 +0000"  >&lt;p&gt;It&apos;s all good, we were all new at some point&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Here is what I would do for the tests:&lt;br/&gt;
Developer Guide is a really good link to read on how unit tests work in Hive:&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-Unittestsanddebugging&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-Unittestsanddebugging&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Practically, unit tests take a long time to run on especially if you run it on 1 node (like me), so for a minor change like this, I run only the tests that are impacted.&lt;/p&gt;

&lt;p&gt;To figure that out what&apos;s impacted, I would do something like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cd ql/src/test/queries
grep -ri &lt;span class=&quot;code-quote&quot;&gt;&quot;hour&quot;&lt;/span&gt; *
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For results under clientpositive, I would run something like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test -Dtestcase=TestCliDriver -Dqfile=&amp;lt;comma separated list of .q files&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For results under clientnegative, I would run something like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test TestNegativeCliDriver -Dqfile=&amp;lt;comma separated list of .q files&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If any of the above tests fail, it may legitimately be because of the bug fix, in which case, you would want to update the test output. You can do that by using &lt;tt&gt;-Doverwrite=true&lt;/tt&gt; at the end of your commands. If the outputs, do need to get updated, please include those diffs in the patch as well.&lt;/p&gt;

&lt;p&gt;The committers would usually run the whole suite of tests (some times on faster clusters), so don&apos;t be paranoid about testing all tests but of course, do you due-diligence about finding all tests that may be impacted and making sure they run fine.&lt;/p&gt;

&lt;p&gt;Hope this makes sense. If you have any further questions, please don&apos;t hesitate to ask. And, thanks for working on this patch!&lt;/p&gt;</comment>
                            <comment id="13575253" author="analog.sony" created="Sat, 9 Feb 2013 20:21:11 +0000"  >
&lt;p&gt;How do I assign a ticket to myself ? The edit option in assignee is disabled when I try to assign myself.&lt;/p&gt;</comment>
                            <comment id="13575254" author="analog.sony" created="Sat, 9 Feb 2013 20:21:21 +0000"  >&lt;p&gt;Attaching the patch for this ticket.&lt;/p&gt;

&lt;p&gt;It includes fix, .q and .q.out.&lt;/p&gt;</comment>
                            <comment id="13575256" author="analog.sony" created="Sat, 9 Feb 2013 20:23:33 +0000"  >&lt;p&gt;patch submitted for this ticket.&lt;/p&gt;</comment>
                            <comment id="13575613" author="ak.arun@aol.com" created="Mon, 11 Feb 2013 04:12:16 +0000"  >
&lt;p&gt;Hello  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=analog.sony&quot; class=&quot;user-hover&quot; rel=&quot;analog.sony&quot;&gt;Anandha L Ranganathan&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There is a patch already available with the suggested changes made, submitted by Mr. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=710154&quot; class=&quot;user-hover&quot; rel=&quot;710154&quot;&gt;Frankline Jose S&lt;/a&gt;. So what is the point in submitting the same patch again ? More over there is a pending review request for the same &lt;a href=&quot;https://reviews.apache.org/r/9171/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9171/&lt;/a&gt; . Request you to justify your act? Have you tried to include something different in the previous work? &lt;/p&gt;</comment>
                            <comment id="13575615" author="ak.arun@aol.com" created="Mon, 11 Feb 2013 04:15:52 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=analog.sony&quot; class=&quot;user-hover&quot; rel=&quot;analog.sony&quot;&gt;Anandha L Ranganathan&lt;/a&gt;, &lt;/p&gt;

&lt;p&gt;In case you have written the test cases, it would be better if you could upload the .q and .q.out files as well. &lt;/p&gt;</comment>
                            <comment id="13577298" author="analog.sony" created="Wed, 13 Feb 2013 02:48:12 +0000"  >&lt;p&gt;Hello Arun,&lt;br/&gt;
Justification: You should read   all the  comments and the ticket was re-opened.&lt;br/&gt;
Also, I added .q and .q.out in the patch.&lt;/p&gt;

</comment>
                            <comment id="13580989" author="ak.arun@aol.com" created="Tue, 19 Feb 2013 03:24:54 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=analog.sony&quot; class=&quot;user-hover&quot; rel=&quot;analog.sony&quot;&gt;Anandha L Ranganathan&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;But my query was that how different is the new patch? Is that it carries the test cases? I have seen that you have added the testcase carriying the typecasted time in the query that was missing in the initial q file that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=710154&quot; class=&quot;user-hover&quot; rel=&quot;710154&quot;&gt;Frankline Jose S&lt;/a&gt; had added. I guess you have misunderstood my initial question. And even now the review has not yet come up. Do you think a review request need to be raised across the new patch? &lt;/p&gt;</comment>
                            <comment id="13588055" author="analog.sony" created="Wed, 27 Feb 2013 06:24:36 +0000"  >&lt;p&gt;Arun,&lt;/p&gt;

&lt;p&gt;Still I didn&apos;t get it. &lt;/p&gt;


&lt;p&gt;If the test cases are okay, can you   raise a review request. I don&apos;t have permission to raise a review request. ( I don&apos;t know how to raise a review request). &lt;/p&gt;

</comment>
                            <comment id="13588503" author="ak.arun@aol.com" created="Wed, 27 Feb 2013 16:48:25 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=analog.sony&quot; class=&quot;user-hover&quot; rel=&quot;analog.sony&quot;&gt;Anandha L Ranganathan&lt;/a&gt;, the test cases are ok. I think this need to be considered for commit. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ajeshpg&quot; class=&quot;user-hover&quot; rel=&quot;ajeshpg&quot;&gt;Ajesh Kumar&lt;/a&gt; had given me the link to raise the review request. I tried raising the review, but I am getting an error message &quot;The selected file does not appear to be a diff.&quot; If possible could you create a new patch with the name &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3850&quot; title=&quot;hour() function returns 12 hour clock value when using timestamp datatype&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3850&quot;&gt;&lt;del&gt;HIVE-3850&lt;/del&gt;&lt;/a&gt;.1.patch ? Either &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=710154&quot; class=&quot;user-hover&quot; rel=&quot;710154&quot;&gt;Frankline Jose S&lt;/a&gt; or yourself can do that so that we can edit the current review request (&lt;a href=&quot;https://reviews.apache.org/r/9171/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9171/&lt;/a&gt;) or discard this and create a new one. &lt;/p&gt;</comment>
                            <comment id="13589144" author="analog.sony" created="Thu, 28 Feb 2013 03:45:35 +0000"  >&lt;p&gt;re-attaching the patch&lt;/p&gt;</comment>
                            <comment id="13589169" author="analog.sony" created="Thu, 28 Feb 2013 04:06:09 +0000"  >&lt;p&gt;review request.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/9673/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9673/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13598049" author="mgrover" created="Sat, 9 Mar 2013 19:35:25 +0000"  >&lt;p&gt;+1 (non-committer)&lt;/p&gt;</comment>
                            <comment id="13618270" author="ashutoshc" created="Sun, 31 Mar 2013 07:22:04 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13618353" author="ashutoshc" created="Sun, 31 Mar 2013 15:37:17 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Anandha and Franklin!&lt;/p&gt;</comment>
                            <comment id="13623023" author="hudson" created="Thu, 4 Apr 2013 23:39:51 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3850&quot; title=&quot;hour() function returns 12 hour clock value when using timestamp datatype&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3850&quot;&gt;&lt;del&gt;HIVE-3850&lt;/del&gt;&lt;/a&gt; : hour() function returns 12 hour clock value when using timestamp datatype (Anandha and Franklin via Ashutosh Chauhan) (Revision 1462988)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462988&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462988&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_hour.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_hour.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566944" name="HIVE-3850.patch.txt" size="514" author="710154" created="Tue, 29 Jan 2013 12:41:11 +0000"/>
                            <attachment id="12571351" name="hive-3850_1.patch" size="1671" author="analog.sony" created="Thu, 28 Feb 2013 03:56:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Jan 2013 12:33:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16zjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248895</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3851] Add isFinalMapRed from MapredWork to EXPLAIN EXTENDED output</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3851</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A flag indicating that a map reduce job is produces final output (ignoring moves/merges) will be added as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-933&quot; title=&quot;Infer bucketing/sorting properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-933&quot;&gt;&lt;del&gt;HIVE-933&lt;/del&gt;&lt;/a&gt;.  It would be good to include this in the output of EXPLAIN EXTENDED.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12625744">HIVE-3851</key>
            <summary>Add isFinalMapRed from MapredWork to EXPLAIN EXTENDED output</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Jan 2013 22:52:41 +0000</created>
                <updated>Wed, 2 Jan 2013 22:53:21 +0000</updated>
                                            <version>0.11.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12440663">HIVE-933</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302295</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16zyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3852] Multi-groupby optimization fails when same distinct column is used twice or more</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3852</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FROM INPUT
INSERT OVERWRITE TABLE dest1 
SELECT INPUT.key, sum(distinct substr(INPUT.value,5)), count(distinct substr(INPUT.value,5)) GROUP BY INPUT.key
INSERT OVERWRITE TABLE dest2 
SELECT INPUT.key, sum(distinct substr(INPUT.value,5)), avg(distinct substr(INPUT.value,5)) GROUP BY INPUT.key;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;fails with exception FAILED: IndexOutOfBoundsException Index: 0,Size: 0&lt;/p&gt;</description>
                <environment></environment>
        <key id="12625804">HIVE-3852</key>
            <summary>Multi-groupby optimization fails when same distinct column is used twice or more</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Jan 2013 02:22:19 +0000</created>
                <updated>Thu, 16 May 2013 21:10:38 +0000</updated>
                            <resolved>Thu, 17 Jan 2013 09:28:10 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13542670" author="phabricator@reviews.facebook.net" created="Thu, 3 Jan 2013 02:32:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3852&quot; title=&quot;Multi-groupby optimization fails when same distinct column is used twice or more&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3852&quot;&gt;&lt;del&gt;HIVE-3852&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Multi-groupby optimization fails when same distinct column is used twice or more&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1951 Multi-groupby optimization fails when same distinct column is used twice or more&lt;/p&gt;

&lt;p&gt;  FROM INPUT&lt;br/&gt;
  INSERT OVERWRITE TABLE dest1&lt;br/&gt;
  SELECT INPUT.key, sum(distinct substr(INPUT.value,5)), count(distinct substr(INPUT.value,5)) GROUP BY INPUT.key&lt;br/&gt;
  INSERT OVERWRITE TABLE dest2&lt;br/&gt;
  SELECT INPUT.key, sum(distinct substr(INPUT.value,5)), avg(distinct substr(INPUT.value,5)) GROUP BY INPUT.key;&lt;/p&gt;

&lt;p&gt;  fails with exception FAILED: IndexOutOfBoundsException Index: 0,Size: 0&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7737&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7737&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby10.q&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby10.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/18621/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/18621/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13545819" author="namit" created="Mon, 7 Jan 2013 11:41:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;, I had a higher level question.&lt;br/&gt;
Should we have this optimization now ?&lt;br/&gt;
I mean, is this really needed with map-side aggregates, or can we remove this code completely ?&lt;/p&gt;</comment>
                            <comment id="13553336" author="navis" created="Tue, 15 Jan 2013 00:31:46 +0000"  >&lt;p&gt;Namit, &lt;br/&gt;
I don&apos;t think I&apos;m right person to answer it but IMHO, it would be dependent to reduction ratio by map aggregation. If group by column is rather distinctive, this optimization could useful but if it&apos;s not, two (or more) MR tasks would be faster. &lt;/p&gt;</comment>
                            <comment id="13555191" author="ashutoshc" created="Wed, 16 Jan 2013 16:45:14 +0000"  >&lt;p&gt;Namit,&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Should we have this optimization now ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I am not sure which particular optimization you are referring to. I assume you mean there is no need for reduce-side groupbys anymore, since we have map-side aggregates. If so, I think those are still required. As Navis, pointed out if reduction ratio is not high enough, mappers may run out of memory and than we suggest users to turn-off map-side aggregation.&lt;/p&gt;</comment>
                            <comment id="13555904" author="namit" created="Thu, 17 Jan 2013 06:11:54 +0000"  >&lt;p&gt;OK, I agree.&lt;br/&gt;
We may have a scenario, in which this is useful.&lt;/p&gt;

&lt;p&gt;I will review.&lt;/p&gt;</comment>
                            <comment id="13555908" author="namit" created="Thu, 17 Jan 2013 06:23:05 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13556011" author="namit" created="Thu, 17 Jan 2013 09:28:10 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13556086" author="hudson" created="Thu, 17 Jan 2013 11:34:21 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #20 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/20/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/20/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3852&quot; title=&quot;Multi-groupby optimization fails when same distinct column is used twice or more&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3852&quot;&gt;&lt;del&gt;HIVE-3852&lt;/del&gt;&lt;/a&gt; Multi-groupby optimization fails when same distinct column is&lt;br/&gt;
used twice or more (Navis via namit) (Revision 1434600)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434600&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434600&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby10.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby10.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13556585" author="hudson" created="Thu, 17 Jan 2013 20:54:36 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #70 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/70/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/70/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3852&quot; title=&quot;Multi-groupby optimization fails when same distinct column is used twice or more&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3852&quot;&gt;&lt;del&gt;HIVE-3852&lt;/del&gt;&lt;/a&gt; Multi-groupby optimization fails when same distinct column is&lt;br/&gt;
used twice or more (Navis via namit) (Revision 1434600)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434600&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434600&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby10.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby10.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13556634" author="hudson" created="Thu, 17 Jan 2013 21:47:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1919 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1919/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1919/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3852&quot; title=&quot;Multi-groupby optimization fails when same distinct column is used twice or more&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3852&quot;&gt;&lt;del&gt;HIVE-3852&lt;/del&gt;&lt;/a&gt; Multi-groupby optimization fails when same distinct column is&lt;br/&gt;
used twice or more (Navis via namit) (Revision 1434600)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434600&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1434600&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby10.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby10.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12563023" name="HIVE-3852.D7737.1.patch" size="19615" author="phabricator@reviews.facebook.net" created="Thu, 3 Jan 2013 02:32:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Jan 2013 02:32:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i170b3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3853] UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3853</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;unix_timestamp is declared as a non-deterministic function. But if user provides an argument, it makes deterministic result and eligible to PPD.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12625961">HIVE-3853</key>
            <summary>UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                            <label>udf</label>
                    </labels>
                <created>Fri, 4 Jan 2013 02:08:05 +0000</created>
                <updated>Mon, 28 Jul 2014 08:07:00 +0000</updated>
                            <resolved>Tue, 8 Jan 2013 18:20:17 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13543577" author="phabricator@reviews.facebook.net" created="Fri, 4 Jan 2013 03:38:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3853&quot; title=&quot;UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3853&quot;&gt;&lt;del&gt;HIVE-3853&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1956 UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&lt;/p&gt;

&lt;p&gt;  unix_timestamp is declared as a non-deterministic function. But if user provides an argument, it makes deterministic result and eligible to PPD.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7767&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7767&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUnixTimestamp.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_to_unix_timestamp.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_unix_timestamp.q&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_to_unix_timestamp.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_unix_timestamp.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/18705/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/18705/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13545815" author="namit" created="Mon, 7 Jan 2013 11:37:27 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13545816" author="phabricator@reviews.facebook.net" created="Mon, 7 Jan 2013 11:38:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3853&quot; title=&quot;UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3853&quot;&gt;&lt;del&gt;HIVE-3853&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot;.&lt;/p&gt;

&lt;p&gt;  This calls for deterministic not being an annotation -&lt;br/&gt;
  by any chance, do you know if the annotation can be overwritten dynamically &amp;#8211;&lt;br/&gt;
  otherwise duplicate function is OK&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUnixTimestamp.java:52 Can you share the code between this and unix_timestamp ?&lt;/p&gt;

&lt;p&gt;  I mean create a common class,and both the functions can extend that.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7767&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7767&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13546577" author="phabricator@reviews.facebook.net" created="Tue, 8 Jan 2013 03:48:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3853&quot; title=&quot;UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3853&quot;&gt;&lt;del&gt;HIVE-3853&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Addressed comments&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7767&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7767&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUnixTimeStamp.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUnixTimeStamp.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_to_unix_timestamp.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_unix_timestamp.q&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_to_unix_timestamp.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_unix_timestamp.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13546578" author="phabricator@reviews.facebook.net" created="Tue, 8 Jan 2013 03:50:11 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3853&quot; title=&quot;UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3853&quot;&gt;&lt;del&gt;HIVE-3853&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot;.&lt;/p&gt;

&lt;p&gt;  I&apos;ve heard annotation information is a part of class definition, which cannot be overwritten in runtime.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7767&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7767&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13546629" author="namit" created="Tue, 8 Jan 2013 05:36:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13546631" author="phabricator@reviews.facebook.net" created="Tue, 8 Jan 2013 05:38:12 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3853&quot; title=&quot;UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3853&quot;&gt;&lt;del&gt;HIVE-3853&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7767&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7767&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1956&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13547082" author="namit" created="Tue, 8 Jan 2013 18:20:17 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13547785" author="hudson" created="Wed, 9 Jan 2013 09:10:58 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1902 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1902/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1902/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3853&quot; title=&quot;UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3853&quot;&gt;&lt;del&gt;HIVE-3853&lt;/del&gt;&lt;/a&gt; UDF unix_timestamp is deterministic if an argument is given, but &lt;br/&gt;
it treated as non-deterministic preventing PPD (Navis via namit) (Revision 1430429)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1430429&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1430429&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUnixTimeStamp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUnixTimeStamp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_to_unix_timestamp.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_unix_timestamp.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/show_functions.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_to_unix_timestamp.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_unix_timestamp.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548138" author="hudson" created="Wed, 9 Jan 2013 10:24:33 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3853&quot; title=&quot;UDF unix_timestamp is deterministic if an argument is given, but it treated as non-deterministic preventing PPD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3853&quot;&gt;&lt;del&gt;HIVE-3853&lt;/del&gt;&lt;/a&gt; UDF unix_timestamp is deterministic if an argument is given, but &lt;br/&gt;
it treated as non-deterministic preventing PPD (Navis via namit) (Revision 1430429)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1430429&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1430429&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUnixTimeStamp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUnixTimeStamp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_to_unix_timestamp.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_unix_timestamp.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/show_functions.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_to_unix_timestamp.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_unix_timestamp.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12498497">HIVE-1986</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12563231" name="HIVE-3853.D7767.1.patch" size="18188" author="phabricator@reviews.facebook.net" created="Fri, 4 Jan 2013 03:38:12 +0000"/>
                            <attachment id="12563688" name="HIVE-3853.D7767.2.patch" size="25368" author="phabricator@reviews.facebook.net" created="Tue, 8 Jan 2013 03:48:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Jan 2013 03:38:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302543</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i173uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249592</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3854] Add a condition in input_part8 to make the result deterministic (patch by Reynold Xin)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3854</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add a condition in input_part8 to make the result deterministic (patch by Reynold Xin). Needed for the Shark project.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/amplab/hive/commit/3e7606bb4793e000e7a0e51b8565bf1bec2dbf33&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/amplab/hive/commit/3e7606bb4793e000e7a0e51b8565bf1bec2dbf33&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12625962">HIVE-3854</key>
            <summary>Add a condition in input_part8 to make the result deterministic (patch by Reynold Xin)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mikhail">Mikhail Bautin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jan 2013 02:20:44 +0000</created>
                <updated>Fri, 4 Jan 2013 02:21:52 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                            <attachment id="12563218" name="0001-Added-a-condition-in-input_part8-to-make-the-result-.patch" size="824" author="mikhail" created="Fri, 4 Jan 2013 02:21:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302544</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i173v3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3855] Fix tests with non-deterministic output, e.g. limit without order by (patch by Reynold Xin)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3855</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Fix tests with non-deterministic output, e.g. limit without order by (patch by Reynold Xin). Needed by the Shark project (&lt;a href=&quot;http://shark.cs.berkeley.edu/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://shark.cs.berkeley.edu/&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/amplab/hive/commit/31be6d8a61f454293f13e0d8bb2d88c3dce19c44&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/amplab/hive/commit/31be6d8a61f454293f13e0d8bb2d88c3dce19c44&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12625963">HIVE-3855</key>
            <summary>Fix tests with non-deterministic output, e.g. limit without order by (patch by Reynold Xin)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mikhail">Mikhail Bautin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jan 2013 02:30:43 +0000</created>
                <updated>Fri, 4 Jan 2013 02:32:14 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13543549" author="mikhail" created="Fri, 4 Jan 2013 02:32:14 +0000"  >&lt;p&gt;Patch for branch-0.9.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12563223" name="Fixed-hive-tests-with-non-deterministic-output-e.g.-.patch" size="2763" author="mikhail" created="Fri, 4 Jan 2013 02:32:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i173vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249594</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3856] Authorization report NPE when table partition do not exits</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3856</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;the following hql report npe:&lt;br/&gt;
use app;select a.name from( select profile&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;net&amp;#39;&amp;#93;&lt;/span&gt; as name from app.app_profile where p_day = 20130103 group by profile&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;net&amp;#39;&amp;#93;&lt;/span&gt;) a left outer join app.app_network_mode b on a.name = b.name where b.name is null;&lt;/p&gt;

&lt;p&gt;the errors are :&lt;br/&gt;
2013-01-04 11:10:05,905 ERROR ql.Driver (SessionState.java:printError(400)) - FAILED: Hive Internal Error: java.lang.NullPointerException(null)&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.doAuthorization(Driver.java:625)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:486)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:336)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:917)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:258)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:215)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:406)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:689)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:557)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;/p&gt;

&lt;p&gt;    If i change the partition condition from &quot;p_day = 20130103&quot; to &quot;p_day = 20121228&quot; , it works. The &quot;p_day=20121228&quot; partition ensure exits ,but the &quot;p_pay=20130103&quot; partition do not exit.&lt;br/&gt;
    The statement should not report NPE !&lt;/p&gt;</description>
                <environment>&lt;p&gt;hadoop 0.20.205 hive 0.9.0&lt;/p&gt;</environment>
        <key id="12625967">HIVE-3856</key>
            <summary>Authorization report NPE when table partition do not exits</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cyril.liao">cyril liao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jan 2013 03:17:50 +0000</created>
                <updated>Thu, 25 Apr 2013 08:53:11 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13641578" author="teddy.choi" created="Thu, 25 Apr 2013 08:53:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cyril.liao&quot; class=&quot;user-hover&quot; rel=&quot;cyril.liao&quot;&gt;cyril liao&lt;/a&gt;, could you post your database schema and sample data? It will be helpful to reproduce this bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Apr 2013 08:53:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i173w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3857] HiveHistoryViewer concurrency problem</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3857</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;new HiveHistoryViewer() throws ConcurrentModificationException when called concurrently by several threads.&lt;/p&gt;

&lt;p&gt;According to the stacktrace, HiveHistory.parseLine use &quot;private static Map&amp;lt;String, String&amp;gt; parseBuffer&quot; to store parsed data and this finally caused the exception.&lt;/p&gt;

&lt;p&gt;I don&apos;t know why a static buffer rather than a local buffer is used!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12625992">HIVE-3857</key>
            <summary>HiveHistoryViewer concurrency problem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="wsxys08@gmail.com">qiangwang</assignee>
                                    <reporter username="wsxys08@gmail.com">qiangwang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jan 2013 09:06:10 +0000</created>
                <updated>Fri, 11 Jan 2013 20:05:37 +0000</updated>
                                                                            <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13543737" author="wsxys08@gmail.com" created="Fri, 4 Jan 2013 09:36:54 +0000"  >&lt;p&gt;use local buffer instead of static&lt;/p&gt;</comment>
                            <comment id="13551476" author="ashutoshc" created="Fri, 11 Jan 2013 20:05:37 +0000"  >&lt;p&gt;This is not committed yet. Reopening for review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12563268" name="HiveHistory.patch" size="1155" author="wsxys08@gmail.com" created="Fri, 4 Jan 2013 09:36:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Jan 2013 20:05:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302574</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1741r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249623</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3858] Normalize left over CRLF files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3858</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are 10 files which seem to have CRLF endings in the Hive repo right now. This becomes visible when using Mac OS X and cloning Hive&apos;s git repository.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3839&quot; title=&quot;adding .gitattributes file for normalizing line endings during cross platform development&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3839&quot;&gt;&lt;del&gt;HIVE-3839&lt;/del&gt;&lt;/a&gt; introduced a new .gitattributes file which will make sure that going forward no code containing CRLF gets checked-in going forward. However, I am not sure if we took care of existing code that already contains CRLF.&lt;/p&gt;

&lt;p&gt;In Hadoop, &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8912&quot; title=&quot;adding .gitattributes file to prevent CRLF and LF mismatches for source and text files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8912&quot;&gt;&lt;del&gt;HADOOP-8912&lt;/del&gt;&lt;/a&gt; introduced the .gitattributes file but &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8911&quot; title=&quot;CRLF characters in source and text files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8911&quot;&gt;&lt;del&gt;HADOOP-8911&lt;/del&gt;&lt;/a&gt; normalized existing files to get rid of their CRLF endings. I can&apos;t find a similar check-in in Hive before we commited &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3839&quot; title=&quot;adding .gitattributes file for normalizing line endings during cross platform development&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3839&quot;&gt;&lt;del&gt;HIVE-3839&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;But that&apos;s ok, it&apos;s not too late. This check-in will normalize any files in Hive that presently have one or more CRLF endings.&lt;/p&gt;

&lt;p&gt;The following are the 10 files I could find:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#	modified:   serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardUnionObjectInspector.java
#	modified:   serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/UnionObjectInspector.java
#	modified:   serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/ListTypeInfo.java
#	modified:   serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/MapTypeInfo.java
#	modified:   serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/PrimitiveTypeInfo.java
#	modified:   serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/StructTypeInfo.java
#	modified:   serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfo.java
#	modified:   serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java
#	modified:   serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoUtils.java
#	modified:   serde/src/test/org/apache/hadoop/hive/serde2/thrift_test/CreateSequenceFile.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12626050">HIVE-3858</key>
            <summary>Normalize left over CRLF files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrover">Mark Grover</assignee>
                                    <reporter username="mgrover">Mark Grover</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jan 2013 14:53:25 +0000</created>
                <updated>Thu, 16 May 2013 21:10:32 +0000</updated>
                            <resolved>Sat, 5 Jan 2013 02:12:12 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13543933" author="mgrover" created="Fri, 4 Jan 2013 15:04:12 +0000"  >&lt;p&gt;Fairly cosmetic change, changing CRLF to LF for 10 files.&lt;/p&gt;</comment>
                            <comment id="13544193" author="thejas" created="Fri, 4 Jan 2013 19:58:13 +0000"  >&lt;p&gt;+1 (non binding)&lt;br/&gt;
Uploaded the diff to review board to verify that changes are only in the newlines -&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/8832/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/8832/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13544226" author="ashutoshc" created="Fri, 4 Jan 2013 20:27:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13544519" author="ashutoshc" created="Sat, 5 Jan 2013 02:12:12 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Mark!&lt;/p&gt;</comment>
                            <comment id="13544689" author="hudson" created="Sat, 5 Jan 2013 12:51:52 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1895 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1895/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1895/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3858&quot; title=&quot;Normalize left over CRLF files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3858&quot;&gt;&lt;del&gt;HIVE-3858&lt;/del&gt;&lt;/a&gt; : Normalize left over CRLF files (Mark Grover via Ashutosh Chauhan) (Revision 1429194)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429194&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429194&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardUnionObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/UnionObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/ListTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/MapTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/PrimitiveTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/StructTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/thrift_test/CreateSequenceFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548148" author="hudson" created="Wed, 9 Jan 2013 10:24:36 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3858&quot; title=&quot;Normalize left over CRLF files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3858&quot;&gt;&lt;del&gt;HIVE-3858&lt;/del&gt;&lt;/a&gt; : Normalize left over CRLF files (Mark Grover via Ashutosh Chauhan) (Revision 1429194)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429194&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429194&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardUnionObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/UnionObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/ListTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/MapTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/PrimitiveTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/StructTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/thrift_test/CreateSequenceFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12563293" name="HIVE-3858.1.patch" size="115687" author="mgrover" created="Fri, 4 Jan 2013 15:03:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Jan 2013 19:58:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302633</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i174en:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249682</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3859] Expand UDF method selection logic in Function Registry</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3859</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Presently, the Function Registry uses a constant cost of conversion to decide which method to call. This has worked well until now but wouldn&apos;t work when Decimal types get introduced (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2693&quot; title=&quot;Add DECIMAL data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2693&quot;&gt;&lt;del&gt;HIVE-2693&lt;/del&gt;&lt;/a&gt;). The reason being that a double and a decimal may be good candidates for conversion of an int but with the present costing strategy, they both will have the same cost of conversion. This leads to ambiguity when Hive tries to decide which method in the UDF to call if the UDF implements methods for both double and decimal.&lt;/p&gt;

&lt;p&gt;This needs to get resolved before the decimal code gets committed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626111">HIVE-3859</key>
            <summary>Expand UDF method selection logic in Function Registry</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12537384">HIVE-2693</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mgrover">Mark Grover</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jan 2013 20:03:21 +0000</created>
                <updated>Thu, 10 Jan 2013 23:47:29 +0000</updated>
                            <resolved>Thu, 10 Jan 2013 23:47:29 +0000</resolved>
                                    <version>0.9.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13550572" author="mgrover" created="Thu, 10 Jan 2013 23:47:29 +0000"  >&lt;p&gt;It&apos;s non-trivial to separate out the UDF method selection part of the patch (see Gunther&apos;s comment regarding it for more details). The code for this patch already exists in the parent JIRA&apos;s patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2693&quot; title=&quot;Add DECIMAL data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2693&quot;&gt;&lt;del&gt;HIVE-2693&lt;/del&gt;&lt;/a&gt;) so this JIRA no longer applies.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i174sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249744</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3860] Alter table location shouldn&apos;t required fully qualified URI</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3860</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently one can create an external table by specifying a regular path, eg &apos;/my/cool/table&apos; but to update the location one must specify the whole NN addr and pah, eg &apos;hdfs://mycoolnn:9000/my/cooler/table&apos; Alter table should assume the default fs if not specified.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626136">HIVE-3860</key>
            <summary>Alter table location shouldn&apos;t required fully qualified URI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jghoman">Jakob Homan</assignee>
                                    <reporter username="jghoman">Jakob Homan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jan 2013 22:40:11 +0000</created>
                <updated>Fri, 4 Jan 2013 22:40:11 +0000</updated>
                                            <version>0.8.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i174xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249769</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3861] Upgrade hbase dependency to 0.94</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3861</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive tests fail to run against hbase v0.94.2. Proposing to upgrade the dependency and change the test setup to properly work with the newer version.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626204">HIVE-3861</key>
            <summary>Upgrade hbase dependency to 0.94</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Jan 2013 21:54:04 +0000</created>
                <updated>Thu, 16 May 2013 21:10:16 +0000</updated>
                            <resolved>Mon, 22 Apr 2013 15:06:25 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13603993" author="sushanth" created="Fri, 15 Mar 2013 23:46:21 +0000"  >&lt;p&gt;I think this patch needs to be updated, it&apos;s not applying cleanly for me on trunk currently.&lt;/p&gt;

&lt;p&gt;However, that said, one more fix is required for this patch - it brings in yammer which brings in a second version of slf4j, which causes two slf4j jars present in the hive/lib directory, which causes other commands like pig --useHCatalog to fail as an integration point.&lt;/p&gt;

&lt;p&gt;It needs the yammer dependency in hbase-handler/ivy.xml additionally patched as follows:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-    &amp;lt;dependency org=&quot;com.yammer.metrics&quot; name=&quot;metrics-core&quot; rev=&quot;${metrics-core.version}&quot;/&amp;gt;
+    &amp;lt;dependency org=&quot;com.yammer.metrics&quot; name=&quot;metrics-core&quot; rev=&quot;${metrics-core.version}&quot;&amp;gt;
+      &amp;lt;exclude org=&quot;org.slf4j&quot; module=&quot;slf4j-api&quot;/&amp;gt;&amp;lt;!--causes a dual slf4j presence otherwise--&amp;gt;
+    &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13627384" author="hagleitn" created="Wed, 10 Apr 2013 02:05:47 +0000"  >&lt;p&gt;Rebased and updated as suggested by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt;. Thanks for the feedback!&lt;/p&gt;</comment>
                            <comment id="13637386" author="ashutoshc" created="Sat, 20 Apr 2013 22:12:08 +0000"  >&lt;p&gt;Latest stable hbase version according to hbase.apache.org is 0.94.6.1 Shall we update to that ?&lt;/p&gt;</comment>
                            <comment id="13637394" author="hagleitn" created="Sat, 20 Apr 2013 22:57:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, that&apos;s a good idea. Let me update and test the patch.&lt;/p&gt;</comment>
                            <comment id="13637436" author="hagleitn" created="Sun, 21 Apr 2013 01:58:51 +0000"  >&lt;p&gt;Upgrade to 0.94.6.1&lt;/p&gt;</comment>
                            <comment id="13637485" author="ashutoshc" created="Sun, 21 Apr 2013 05:52:06 +0000"  >&lt;p&gt;Couple of comments:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;protobuf jar is already pulled in via ql. I think we don&apos;t need to declare it here. Transitive dependency should take care of it.&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; vs &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///&lt;/a&gt; whats the reason for that? Can you test this on windows? I remember last time we had trouble with hbase integration on windows for which this thing was related.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13637509" author="hagleitn" created="Sun, 21 Apr 2013 08:52:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;protobuf jar is already pulled in via ql. I think we don&apos;t need to declare it here. Transitive dependency should take care of it.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Done.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; vs &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///&lt;/a&gt; whats the reason for that? Can you test this on windows? I remember last time we had trouble with hbase integration on windows for which this thing was related.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You need the three slashes especially on windows. The RFCs require &quot;///&quot; (two for the authority, one to separate host from path). When you don&apos;t have a host that leaves &quot;file:///&amp;lt;path&amp;gt;&quot;. On unix you typically get away with two, but on windows (&quot;C:...&quot;) you need the third.&lt;/p&gt;</comment>
                            <comment id="13637590" author="ashutoshc" created="Sun, 21 Apr 2013 16:27:49 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13638083" author="ashutoshc" created="Mon, 22 Apr 2013 15:06:25 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Gunther!&lt;/p&gt;</comment>
                            <comment id="13638686" author="hudson" created="Tue, 23 Apr 2013 01:26:16 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #170 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/170/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/170/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3861&quot; title=&quot;Upgrade hbase dependency to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3861&quot;&gt;&lt;del&gt;HIVE-3861&lt;/del&gt;&lt;/a&gt; : Upgrade hbase dependency to 0.94 (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1470568)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470568&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470568&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/org/apache/hadoop/hive/hbase/HBaseTestSetup.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13639356" author="hudson" created="Tue, 23 Apr 2013 18:23:47 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2075 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2075/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2075/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3861&quot; title=&quot;Upgrade hbase dependency to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3861&quot;&gt;&lt;del&gt;HIVE-3861&lt;/del&gt;&lt;/a&gt; : Upgrade hbase dependency to 0.94 (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1470568)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470568&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470568&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/org/apache/hadoop/hive/hbase/HBaseTestSetup.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12643803">HIVE-4388</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12577939" name="HIVE-3861.2.patch" size="4817" author="hagleitn" created="Wed, 10 Apr 2013 02:05:05 +0000"/>
                            <attachment id="12579701" name="HIVE-3861.3.patch" size="4817" author="hagleitn" created="Sun, 21 Apr 2013 01:58:51 +0000"/>
                            <attachment id="12579720" name="HIVE-3861.4.patch" size="4703" author="hagleitn" created="Sun, 21 Apr 2013 08:47:56 +0000"/>
                            <attachment id="12563441" name="HIVE-3861.patch" size="4770" author="hagleitn" created="Sat, 5 Jan 2013 21:56:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Mar 2013 23:46:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302790</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i175gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249852</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3862] testHBaseNegativeCliDriver_cascade_dbdrop fails on hadoop-1</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3862</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Actually functionality is working correctly, but incorrect include/exclude macro make cause the wrong query file to be run.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626206">HIVE-3862</key>
            <summary>testHBaseNegativeCliDriver_cascade_dbdrop fails on hadoop-1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Jan 2013 22:00:13 +0000</created>
                <updated>Thu, 16 May 2013 21:10:17 +0000</updated>
                            <resolved>Tue, 12 Mar 2013 04:36:49 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13545286" author="zhenxiao" created="Sun, 6 Jan 2013 03:11:55 +0000"  >&lt;p&gt;Looks good to me.&lt;br/&gt;
Non-committer +1&lt;/p&gt;

&lt;p&gt;BTW, Gunther, would you please submit a review request next time at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It is easier to review code there.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Zhenxiao&lt;/p&gt;</comment>
                            <comment id="13599023" author="ashutoshc" created="Mon, 11 Mar 2013 17:27:29 +0000"  >&lt;p&gt;There is no such 1.0 version. We only have 0.20, 0.20S and 0.23. Other than that looks good.&lt;/p&gt;</comment>
                            <comment id="13599421" author="hagleitn" created="Mon, 11 Mar 2013 22:39:47 +0000"  >&lt;p&gt;Addressed Ashutosh&apos; comment in .1.&lt;/p&gt;</comment>
                            <comment id="13599678" author="ashutoshc" created="Tue, 12 Mar 2013 04:09:14 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13599695" author="ashutoshc" created="Tue, 12 Mar 2013 04:36:49 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Gunther!&lt;/p&gt;</comment>
                            <comment id="13600491" author="hudson" created="Tue, 12 Mar 2013 21:26:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2012 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2012/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2012/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3862&quot; title=&quot;testHBaseNegativeCliDriver_cascade_dbdrop fails on hadoop-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3862&quot;&gt;&lt;del&gt;HIVE-3862&lt;/del&gt;&lt;/a&gt; : testHBaseNegativeCliDriver_cascade_dbdrop fails on hadoop-1 (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1455405)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455405&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455405&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/queries/negative/cascade_dbdrop.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/queries/negative/cascade_dbdrop_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/results/negative/cascade_dbdrop.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/results/negative/cascade_dbdrop_hadoop20.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623021" author="hudson" created="Thu, 4 Apr 2013 23:39:51 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3862&quot; title=&quot;testHBaseNegativeCliDriver_cascade_dbdrop fails on hadoop-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3862&quot;&gt;&lt;del&gt;HIVE-3862&lt;/del&gt;&lt;/a&gt; : testHBaseNegativeCliDriver_cascade_dbdrop fails on hadoop-1 (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1455405)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455405&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455405&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/queries/negative/cascade_dbdrop.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/queries/negative/cascade_dbdrop_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/results/negative/cascade_dbdrop.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/results/negative/cascade_dbdrop_hadoop20.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573200" name="HIVE-3862.1.patch" size="3414" author="hagleitn" created="Mon, 11 Mar 2013 22:37:45 +0000"/>
                            <attachment id="12563442" name="HIVE-3862.patch" size="3444" author="hagleitn" created="Sat, 5 Jan 2013 22:01:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 6 Jan 2013 03:11:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i175gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249854</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3863] with the hbase table,INSERT INTO can&apos;t append to the hive table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3863</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML&lt;/a&gt;&lt;br/&gt;
quote the LanguageManual:&lt;br/&gt;
&quot;&lt;br/&gt;
INSERT OVERWRITE will overwrite any existing data in the table or partition&lt;br/&gt;
unless IF NOT EXISTS is provided for a partition (as of Hive 0.9.0)&lt;br/&gt;
INSERT INTO will append to the table or partition keeping the existing data in tact. (Note: INSERT INTO syntax is only available starting in version 0.8)&lt;/p&gt;

&lt;p&gt;&quot;&lt;/p&gt;

&lt;p&gt;my hql like  &quot;insert into table hive_table select xx from hbase_table&quot; and &quot;insert overwrite table hive_table select xx from hbase_table&quot;&lt;/p&gt;

&lt;p&gt;i want to insert data into the hive table from the hbase table. but INSERT INTO can&apos;t append to the table, it overwrite the table.&lt;/p&gt;

&lt;p&gt;is it a bug? &lt;/p&gt;</description>
                <environment>&lt;p&gt;ubuntu 12.04 hadoop 1.0.2 hbase 0.94.1 hive 0.9.0&lt;/p&gt;</environment>
        <key id="12626219">HIVE-3863</key>
            <summary>with the hbase table,INSERT INTO can&apos;t append to the hive table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gallardot">Gallardot.Tan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Jan 2013 02:50:34 +0000</created>
                <updated>Sun, 6 Jan 2013 02:51:35 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302805</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i175kn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3864] Avoid unnecessary array copy in hbase handler</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3864</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;KeyValue[] in hbase.Result is created for each row and need not to be copied. And also values are not needed to be copied.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626225">HIVE-3864</key>
            <summary>Avoid unnecessary array copy in hbase handler</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Jan 2013 05:44:43 +0000</created>
                <updated>Sun, 6 Jan 2013 05:50:12 +0000</updated>
                                                                            <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13545315" author="phabricator@reviews.facebook.net" created="Sun, 6 Jan 2013 05:50:12 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3864&quot; title=&quot;Avoid unnecessary array copy in hbase handler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3864&quot;&gt;HIVE-3864&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Avoid unnecessary array copy in hbase handler&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1958 Avoid unnecessary array copy in hbase handler&lt;/p&gt;

&lt;p&gt;  KeyValue[] in hbase.Result is created for each row and need not to be copied. And also values are not needed to be copied.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7785&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7785&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseResult.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/LazyHBaseCellMap.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/LazyHBaseRow.java&lt;br/&gt;
  hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestLazyHBaseObject.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/18723/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/18723/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12563461" name="HIVE-3864.D7785.1.patch" size="38181" author="phabricator@reviews.facebook.net" created="Sun, 6 Jan 2013 05:50:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 6 Jan 2013 05:50:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i175m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249878</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3865] Allow collect_set to work on non-primitive types</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3865</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12626264">HIVE-3865</key>
            <summary>Allow collect_set to work on non-primitive types</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rbodkin">Ron Bodkin</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Jan 2013 22:16:43 +0000</created>
                <updated>Sun, 19 Jul 2015 19:09:05 +0000</updated>
                                                                                <due></due>
                            <votes>5</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13545534" author="rbodkin" created="Mon, 7 Jan 2013 00:20:15 +0000"  >&lt;p&gt;It&apos;s nice if you can use collect_set for structs too, to collect related information from a set of rows into an array. It turns out it&apos;s pretty easy to implement. I have run sample queries using a slightly modified version and it works just fine.&lt;/p&gt;

&lt;p&gt;The general approach is just to drop the needless assumption of a primitive object inspector and check for comparable objects rather than primitives, like so:&lt;br/&gt;
&amp;lt;     ObjectInspector oi = TypeInfoUtils.getStandardJavaObjectInspectorFromTypeInfo(parameters&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;);&lt;br/&gt;
&amp;lt;     if (!ObjectInspectorUtils.compareSupported(oi)) {&lt;br/&gt;
&amp;lt;       throw new UDFArgumentTypeException(parameters.length - 1,&lt;br/&gt;
&amp;lt;           &quot;Cannot support comparison of map&amp;lt;&amp;gt; type or complex type containing map&amp;lt;&amp;gt;.&quot;);&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;     if (parameters&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.getCategory() != ObjectInspector.Category.PRIMITIVE) {&lt;br/&gt;
&amp;gt;       throw new UDFArgumentTypeException(0,&lt;br/&gt;
&amp;gt;           &quot;Only primitive type arguments are accepted but &quot;&lt;br/&gt;
&amp;gt;           + parameters&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.getTypeName() + &quot; was passed as parameter 1.&quot;);&lt;/p&gt;

&lt;p&gt;&amp;lt;     private ObjectInspector inputOI;&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;     private PrimitiveObjectInspector inputOI;&lt;/p&gt;

&lt;p&gt;&amp;lt;         inputOI = parameters&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;         inputOI = (PrimitiveObjectInspector) parameters&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;/p&gt;

&lt;p&gt;&amp;lt;             .getStandardListObjectInspector(ObjectInspectorUtils&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;             .getStandardListObjectInspector((PrimitiveObjectInspector) ObjectInspectorUtils&lt;/p&gt;

&lt;p&gt;&amp;lt;           inputOI = internalMergeOI.getListElementObjectInspector();&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;           inputOI = (PrimitiveObjectInspector) internalMergeOI.getListElementObjectInspector();&lt;/p&gt;

&lt;p&gt;Is there some reason this won&apos;t work? I can turn this into a formal patch and test it but would welcome any feedback.&lt;/p&gt;</comment>
                            <comment id="14120362" author="karthiksrivasthava" created="Wed, 3 Sep 2014 20:12:41 +0000"  >&lt;p&gt;Did you build a UDF for collect_set() of structs.? How did you sort out the issue.?&lt;/p&gt;</comment>
                            <comment id="14632902" author="axekay" created="Sun, 19 Jul 2015 19:09:05 +0000"  >&lt;p&gt;Why dont you directly submit a patch on current branch. &lt;/p&gt;

&lt;p&gt;Not sure why nobody is paying attention to this ticket.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Sep 2014 20:12:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302850</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i175xb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3866] Allow sort_array to work on non-primitive types.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3866</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It&apos;s also nice to be able to sort an array of structs, as a kind of generalization of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1128&quot; title=&quot;Let max/min handle complex types like struct&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1128&quot;&gt;&lt;del&gt;HIVE-1128&lt;/del&gt;&lt;/a&gt;, so you can have not only the maximum value from a list but a sorted list of value and source keys. As with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3865&quot; title=&quot;Allow collect_set to work on non-primitive types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3865&quot;&gt;HIVE-3865&lt;/a&gt; it&apos;s fairly easy to relax the assumption that sort_array works only on primitives:&lt;/p&gt;

&lt;p&gt;@@ -35,6 +35,7 @@ import org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorConverters;&lt;br/&gt;
 import org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorConverters.Converter;&lt;br/&gt;
 import org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorFactory;&lt;br/&gt;
 import org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorUtils;&lt;br/&gt;
+import org.apache.hadoop.hive.serde2.typeinfo.TypeInfoUtils;&lt;/p&gt;

&lt;p&gt; /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Generic UDF for array sort&lt;br/&gt;
@@ -66,10 +67,12 @@ public class GenericUDFSortArray extends GenericUDF {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     switch(arguments&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.getCategory()) {&lt;br/&gt;
       case LIST:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if(((ListObjectInspector)(arguments&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;)).getListElementObjectInspector()&lt;/li&gt;
	&lt;li&gt;.getCategory().equals(Category.PRIMITIVE)) 
{
-          break;
-        }
&lt;p&gt;+            ObjectInspector loi = ((ListObjectInspector)(arguments&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;)).getListElementObjectInspector();&lt;br/&gt;
+           if (!ObjectInspectorUtils.compareSupported(loi)) &lt;/p&gt;
{
+             throw new UDFArgumentTypeException(0,
+                 &quot;Cannot support comparison of map&amp;lt;&amp;gt; type or complex type containing map&amp;lt;&amp;gt;.&quot;);
+           }
&lt;p&gt;+            break;&lt;br/&gt;
       default:&lt;br/&gt;
         throw new UDFArgumentTypeException(0, &quot;Argument 1&quot;&lt;br/&gt;
           + &quot; of function SORT_ARRAY must be array &quot;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12626273">HIVE-3866</key>
            <summary>Allow sort_array to work on non-primitive types.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rbodkin">Ron Bodkin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Jan 2013 00:24:46 +0000</created>
                <updated>Fri, 12 Jun 2015 12:01:18 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14583315" author="akatose" created="Fri, 12 Jun 2015 12:01:18 +0000"  >&lt;p&gt;Is this issue duplicated by Hive-10788?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12831907">HIVE-10788</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 12 Jun 2015 12:01:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i175zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249937</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3867] Whether we need to check the storage format defined in the table schema be the same as the actual storage file format </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3867</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For Example:&lt;br/&gt;
select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from src_test;&lt;/p&gt;

&lt;p&gt;storage format defined in the table schema is SimpleText ,&lt;br/&gt;
but the actual storage file format is SequenceFile .&lt;/p&gt;

&lt;p&gt;This HiveQL can run properly&#12290;But it process the entire sequence file as a single line ,and as a single column. &lt;br/&gt;
So should we need to have a check ?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626280">HIVE-3867</key>
            <summary>Whether we need to check the storage format defined in the table schema be the same as the actual storage file format </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="caofangkun">caofangkun</reporter>
                        <labels>
                            <label>optimization</label>
                            <label>ql</label>
                    </labels>
                <created>Mon, 7 Jan 2013 02:48:20 +0000</created>
                <updated>Mon, 7 Jan 2013 03:50:10 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13545613" author="namit" created="Mon, 7 Jan 2013 03:50:10 +0000"  >&lt;p&gt;I agree, there should be some valid &amp;#8211; file format -&amp;gt; serde combinations which should be allowed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Jan 2013 03:50:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1762f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249951</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3868] Use Hive&#8216;s serde to parse HBase&#8217;s byte Data in LazyHBaseRow</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3868</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In LazyHBaseRow&#65292;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; uncheckedGetField(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; fieldID) {
          &lt;span class=&quot;code-comment&quot;&gt;// it is a column i.e. a column-family with column-qualifier
&lt;/span&gt;          &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] res = result.getValue(colMap.familyNameBytes, colMap.qualifierNameBytes);

          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (res == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
          } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            ref = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayRef();
            ref.setData(res);
          }
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ref != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        fields[fieldID].init(ref, 0, ref.getData().length);
      }
  }
  For example, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the fields[fieldID] is Bigint, and ref stores HBase &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; data (&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;), 
  it will use LazyLong to parse &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; data and will &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; NULL value, 
  it should use Bytes.toLong(res.getData()) to parse &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; data
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12626344">HIVE-3868</key>
            <summary>Use Hive&#8216;s serde to parse HBase&#8217;s byte Data in LazyHBaseRow</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aoxiang">binlijin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Jan 2013 13:03:09 +0000</created>
                <updated>Mon, 7 Jan 2013 13:18:39 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13545860" author="aoxiang" created="Mon, 7 Jan 2013 13:18:39 +0000"  >&lt;p&gt;The reason is&#65306;&lt;br/&gt;
We use HBase&apos;s Bytes to convert long and other data type to byte data and store in hbase.&lt;br/&gt;
Then use hive to analysis the data in hbase.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302934</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i176mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3869] SELECT foo, NULL UNION ALL SELECT bar, baz fails</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3869</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In order to avoid the curse of the last reducer by using a left outer join where most joined rows woudl be NULLs, I rewrote the query as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SELECT * FROM (
    SELECT
        A.user_id id,
        B.created
    FROM (
        SELECT DISTINCT user_id
        FROM users
    ) A
    JOIN
        buyhist B
    ON
        A.user_id = B.user_id
        AND B.created &amp;gt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;2013-01-01&apos;&lt;/span&gt;
    UNION ALL
    SELECT
        DISTINCT(user_id) id,
        NULL created
    FROM users
) foo;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The expection thrown is this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2013-01-07 17:00:01,081 WARN org.apache.hadoop.mapred.Child: Error running child
java.lang.RuntimeException: Error in configuring object
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:72)
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:130)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:389)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:327)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:270)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1232)
	at org.apache.hadoop.mapred.Child.main(Child.java:264)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:103)
	... 9 more
Caused by: java.lang.RuntimeException: Error in configuring object
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:72)
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:130)
	at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:34)
	... 14 more
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:103)
	... 17 more
Caused by: java.lang.RuntimeException: Map &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; initialization failed
	at org.apache.hadoop.hive.ql.exec.ExecMapper.configure(ExecMapper.java:121)
	... 22 more
Caused by: java.lang.NullPointerException
	at org.apache.hadoop.hive.serde2.objectinspector.StructObjectInspector.toString(StructObjectInspector.java:60)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.valueOf(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:2826)
	at java.lang.StringBuilder.append(StringBuilder.java:115)
	at org.apache.hadoop.hive.ql.exec.UnionOperator.initializeOp(UnionOperator.java:110)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)
	at org.apache.hadoop.hive.ql.exec.MapOperator.initializeOp(MapOperator.java:427)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)
	at org.apache.hadoop.hive.ql.exec.ExecMapper.configure(ExecMapper.java:98)
	... 22 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &quot;org.apache.hadoop.hive.serde2.objectinspector.StructObjectInspector.toString(StructObjectInspector.java:60)&quot; caught my attention, so I replaced NULL by an empty string:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    ...
    UNION ALL
    SELECT
        DISTINCT(user_id) id,
        &apos;&apos; created
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Shouldn&apos;t the query parser accept the form using NULL, or at least output a message before the job is sent to the jobtracker?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626374">HIVE-3869</key>
            <summary>SELECT foo, NULL UNION ALL SELECT bar, baz fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dmorel">David Morel</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Jan 2013 17:16:26 +0000</created>
                <updated>Mon, 7 Jan 2013 17:16:26 +0000</updated>
                                            <version>0.8.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i176tr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250074</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3870] SELECT foo, NULL UNION ALL SELECT bar, baz fails</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3870</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In order to avoid the curse of the last reducer by using a left outer join where most joined rows woudl be NULLs, I rewrote the query as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SELECT * FROM (
    SELECT
        A.user_id id,
        B.created
    FROM (
        SELECT DISTINCT user_id
        FROM users
    ) A
    JOIN
        buyhist B
    ON
        A.user_id = B.user_id
        AND B.created &amp;gt;= &lt;span class=&quot;code-quote&quot;&gt;&apos;2013-01-01&apos;&lt;/span&gt;
    UNION ALL
    SELECT
        DISTINCT(user_id) id,
        NULL created
    FROM users
) foo;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The expection thrown is this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2013-01-07 17:00:01,081 WARN org.apache.hadoop.mapred.Child: Error running child
java.lang.RuntimeException: Error in configuring object
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:72)
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:130)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:389)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:327)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:270)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1232)
	at org.apache.hadoop.mapred.Child.main(Child.java:264)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:103)
	... 9 more
Caused by: java.lang.RuntimeException: Error in configuring object
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:72)
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:130)
	at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:34)
	... 14 more
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:103)
	... 17 more
Caused by: java.lang.RuntimeException: Map &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; initialization failed
	at org.apache.hadoop.hive.ql.exec.ExecMapper.configure(ExecMapper.java:121)
	... 22 more
Caused by: java.lang.NullPointerException
	at org.apache.hadoop.hive.serde2.objectinspector.StructObjectInspector.toString(StructObjectInspector.java:60)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.valueOf(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:2826)
	at java.lang.StringBuilder.append(StringBuilder.java:115)
	at org.apache.hadoop.hive.ql.exec.UnionOperator.initializeOp(UnionOperator.java:110)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)
	at org.apache.hadoop.hive.ql.exec.MapOperator.initializeOp(MapOperator.java:427)
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)
	at org.apache.hadoop.hive.ql.exec.ExecMapper.configure(ExecMapper.java:98)
	... 22 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &quot;org.apache.hadoop.hive.serde2.objectinspector.StructObjectInspector.toString(StructObjectInspector.java:60)&quot; caught my attention, so I replaced NULL by an empty string:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    ...
    UNION ALL
    SELECT
        DISTINCT(user_id) id,
        &apos;&apos; created
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Shouldn&apos;t the query parser accept the form using NULL, or at least output a message before the job is sent to the jobtracker?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626375">HIVE-3870</key>
            <summary>SELECT foo, NULL UNION ALL SELECT bar, baz fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dmorel">David Morel</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Jan 2013 17:16:38 +0000</created>
                <updated>Mon, 7 Jan 2013 17:42:11 +0000</updated>
                            <resolved>Mon, 7 Jan 2013 17:42:11 +0000</resolved>
                                    <version>0.8.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13546085" author="ashutoshc" created="Mon, 7 Jan 2013 17:42:11 +0000"  >&lt;p&gt;Dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3869&quot; title=&quot;SELECT foo, NULL UNION ALL SELECT bar, baz fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3869&quot;&gt;HIVE-3869&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Jan 2013 17:42:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i176tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250075</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
