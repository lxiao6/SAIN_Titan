<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:17:07 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-11-16+AND+created+%3C%3D+2010-11-23+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="12" total="12"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1794] GenericUDFOr and GenericUDFAnd cannot receive boolean typed object</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1794</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If a UDF returns Java&apos;s native boolean and passed into a logic AND or OR. The execution will break.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480024">HIVE-1794</key>
            <summary>GenericUDFOr and GenericUDFAnd cannot receive boolean typed object</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Nov 2010 04:12:21 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:44 +0000</updated>
                            <resolved>Tue, 16 Nov 2010 21:50:58 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12932360" author="sdong" created="Tue, 16 Nov 2010 07:24:37 +0000"  >&lt;p&gt;1. Fix the issue that Or and And cannot accept java&apos;s boolean&lt;br/&gt;
2. add unit tests covering and, or and not accepting java&apos;s boolean&lt;br/&gt;
3. add unit tests to cover = and &amp;lt;&amp;gt; to accept Java&apos;s string. &lt;/p&gt;</comment>
                            <comment id="12932540" author="namit" created="Tue, 16 Nov 2010 17:12:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;


&lt;p&gt;running tests &lt;/p&gt;</comment>
                            <comment id="12932669" author="namit" created="Tue, 16 Nov 2010 21:50:58 +0000"  >&lt;p&gt;Committed. Thanks Siying&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12459686" name="HIVE-1794.1.patch" size="23051" author="sdong" created="Tue, 16 Nov 2010 07:24:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 16 Nov 2010 17:12:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72701</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1795] outputs not correctly populated for alter table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1795</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For any :&lt;/p&gt;

&lt;p&gt;alter table &amp;lt;T&amp;gt; partition &amp;lt;p&amp;gt; ...&lt;/p&gt;

&lt;p&gt;The table &amp;lt;T&amp;gt; is added in the output. It leads to problems with locking, and will lead to problems in future for authorization.&lt;br/&gt;
The partition should be in the output, not the table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480157">HIVE-1795</key>
            <summary>outputs not correctly populated for alter table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Nov 2010 22:47:46 +0000</created>
                <updated>Sat, 17 Dec 2011 00:00:30 +0000</updated>
                            <resolved>Wed, 17 Nov 2010 09:55:42 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12932835" author="he yongqiang" created="Wed, 17 Nov 2010 06:30:47 +0000"  >&lt;p&gt;+1 running tests.&lt;/p&gt;</comment>
                            <comment id="12932877" author="he yongqiang" created="Wed, 17 Nov 2010 09:55:42 +0000"  >&lt;p&gt;Committed! Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12459772" name="hive.1795.1.patch" size="60447" author="namit" created="Wed, 17 Nov 2010 06:23:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Nov 2010 06:30:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1796] dumps time at which lock was taken along with the queryid in show locks &lt;T&gt; extended</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1796</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be useful to dump the time at which the lock was taken for debugging&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480163">HIVE-1796</key>
            <summary>dumps time at which lock was taken along with the queryid in show locks &lt;T&gt; extended</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Nov 2010 00:10:49 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:28 +0000</updated>
                            <resolved>Fri, 19 Nov 2010 06:18:49 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12933631" author="he yongqiang" created="Fri, 19 Nov 2010 00:44:07 +0000"  >&lt;p&gt;+1 will commit after tests.&lt;/p&gt;</comment>
                            <comment id="12933692" author="he yongqiang" created="Fri, 19 Nov 2010 06:18:49 +0000"  >&lt;p&gt;Committed! Thanks namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12459808" name="hive.1796.1.patch" size="3747" author="namit" created="Wed, 17 Nov 2010 18:08:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 19 Nov 2010 00:44:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72699</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123398</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1797] Compressed the hashtable dump file before put into distributed cache</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1797</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Clearly, the size of small table is the performance bottleneck for map join.&lt;br/&gt;
Because the size of the small table will affect the memory usage and dumped hashtable file.&lt;br/&gt;
That means there are 2 boundaries of the map join performance.&lt;br/&gt;
1)	The memory usage for local task and mapred task&lt;br/&gt;
2)	The dumped hashtable file size for distributed cache&lt;/p&gt;

&lt;p&gt;The reason that test case in last email spends most of the execution time on initializing is because it hits the second boundary.&lt;br/&gt;
Since we have already bound the memory usage, one thing we can do is to let the performance never hits the secondary bound before it hits the first boundary.&lt;/p&gt;

&lt;p&gt;Assuming the heap size is 1.6 G and the small table file size is 15M compressed (75M uncompressed),&lt;br/&gt;
local  task can roughly hold that 1.5M unique rows in memory. &lt;br/&gt;
Roughly the dumped file size will be 150M, which is too large to put into the distributed cache.&lt;/p&gt;

&lt;p&gt;From experiments, we can basically conclude when the dumped file size is smaller than 30M. &lt;br/&gt;
The distributed cache works well and all the mappers will  be initialized in a short time (less than 30 secs).&lt;/p&gt;

&lt;p&gt;One easy implementation is to compress the hashtable file. &lt;br/&gt;
I use the gzip to compress the hashtable file and the file size is compressed from 100M to 13M.&lt;br/&gt;
After several tests, all the mappers will be initialized in less than 23 secs.&lt;/p&gt;

&lt;p&gt;But this solution adds some decompression overhead to each mapper.&lt;br/&gt;
Mappers on the same machine will do the duplicated decompression work.&lt;br/&gt;
Maybe in the future, we can let the distributed cache to support this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480277">HIVE-1797</key>
            <summary>Compressed the hashtable dump file before put into distributed cache</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liyin">Liyin Tang</assignee>
                                    <reporter username="liyin">Liyin Tang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Nov 2010 00:40:40 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:51 +0000</updated>
                            <resolved>Wed, 24 Nov 2010 21:53:50 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12933265" author="liyin" created="Thu, 18 Nov 2010 00:45:06 +0000"  >&lt;p&gt;Compress the hashtable dumped file by gzip before adding to distributed cache.&lt;/p&gt;
</comment>
                            <comment id="12934174" author="liyin" created="Sat, 20 Nov 2010 19:36:48 +0000"  >&lt;p&gt;In this patch, all the hashtable dumped files will be compressed and packaged as a tar.gz file. &lt;br/&gt;
And the put this tar file to distributed cache. The distributed cache will decompress the file for the mapper. If multiple mappers are in the same machine, only distributed cache will only decompress once.&lt;/p&gt;

&lt;p&gt;Please review.&lt;/p&gt;</comment>
                            <comment id="12934208" author="liyin" created="Sat, 20 Nov 2010 23:25:59 +0000"  >&lt;p&gt;In this patch, all the hashtable dumped files will be compressed and packaged as a tar.gz file.&lt;br/&gt;
And the put this tar file to distributed cache. The distributed cache will decompress the file for the mapper. If multiple mappers are in the same machine, only distributed cache will only decompress once. &lt;/p&gt;</comment>
                            <comment id="12935044" author="he yongqiang" created="Tue, 23 Nov 2010 21:14:30 +0000"  >&lt;p&gt;will take a look&lt;/p&gt;</comment>
                            <comment id="12935088" author="he yongqiang" created="Tue, 23 Nov 2010 22:30:58 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12935525" author="he yongqiang" created="Wed, 24 Nov 2010 21:53:50 +0000"  >&lt;p&gt;Committed! Thanks Liyin!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12459857" name="hive-1797.patch" size="6590" author="liyin" created="Thu, 18 Nov 2010 00:45:06 +0000"/>
                            <attachment id="12460118" name="hive-1797_3.patch" size="19092" author="liyin" created="Sat, 20 Nov 2010 23:25:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Nov 2010 21:14:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72698</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123399</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1798] Clear empty files in  Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1798</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are 4 empty files in Hive right now. &lt;br/&gt;
We should delete them from trunk.&lt;/p&gt;

&lt;p&gt;D      ql/src/java/org/apache/hadoop/hive/ql/exec/JDBMDummyOperator.java&lt;br/&gt;
D      ql/src/java/org/apache/hadoop/hive/ql/exec/JDBMSinkOperator.java&lt;br/&gt;
D      ql/src/java/org/apache/hadoop/hive/ql/plan/JDBMSinkDesc.java&lt;br/&gt;
D      ql/src/java/org/apache/hadoop/hive/ql/plan/JDBMDummyDesc.java&lt;br/&gt;
D      ql/src/java/org/apache/hadoop/hive/ql/util/JoinUtil.java&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480283">HIVE-1798</key>
            <summary>Clear empty files in  Hive</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liyin">Liyin Tang</assignee>
                                    <reporter username="liyin">Liyin Tang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Nov 2010 02:01:07 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:25 +0000</updated>
                            <resolved>Thu, 18 Nov 2010 02:08:01 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12933290" author="he yongqiang" created="Thu, 18 Nov 2010 02:08:01 +0000"  >&lt;p&gt;Deleted from svn. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Nov 2010 02:08:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72697</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1799] Support correlated subqueries in the WHERE clause</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1799</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Implement support for correlated subqueries in the WHERE clause. This ticket is the next&lt;br/&gt;
step after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-784&quot; title=&quot;Support uncorrelated subqueries in the WHERE clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-784&quot;&gt;&lt;del&gt;HIVE-784&lt;/del&gt;&lt;/a&gt; which covers the much simpler case of handling uncorrelated subqueries&lt;br/&gt;
in the WHERE clause.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480290">HIVE-1799</key>
            <summary>Support correlated subqueries in the WHERE clause</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Nov 2010 04:07:30 +0000</created>
                <updated>Mon, 10 Jun 2013 19:44:29 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="13679815" author="brocknoland" created="Mon, 10 Jun 2013 19:44:29 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Just checking to see if anyone is work on this at present?&lt;/p&gt;

&lt;p&gt;Brock&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12433867">HIVE-784</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 10 Jun 2013 19:44:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123401</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1800] Lock and Unlock does not populate inputs and outputs.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1800</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12480364">HIVE-1800</key>
            <summary>Lock and Unlock does not populate inputs and outputs.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Nov 2010 18:59:21 +0000</created>
                <updated>Tue, 10 May 2011 22:41:37 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1801] HiveInputFormat or CombineHiveInputFormat always sync blocks of RCFile twice</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1801</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveInputFormat or CombineHiveInputFormat RCFile.Reader.sync() twice. One in getReader() and one in initIOContext(). We can avoid the latter one by read the sync() position of the former one.&lt;/p&gt;

&lt;p&gt;We also sync() twice for SequenceFile but since SequenceFileReader is not a part of Hive code, maybe we should be careful when depending on the implementation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480390">HIVE-1801</key>
            <summary>HiveInputFormat or CombineHiveInputFormat always sync blocks of RCFile twice</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Nov 2010 23:29:07 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:55 +0000</updated>
                            <resolved>Wed, 24 Nov 2010 01:56:30 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12933607" author="sdong" created="Thu, 18 Nov 2010 23:30:30 +0000"  >&lt;p&gt;Still running tests.&lt;/p&gt;</comment>
                            <comment id="12934536" author="he yongqiang" created="Mon, 22 Nov 2010 18:10:37 +0000"  >&lt;p&gt;can you put &quot;if (recordReader instanceof RCFileRecordReader)&quot; at the same level with &quot;else if (inputFormatClass.getName().contains(&quot;RCFile&quot;)) &lt;/p&gt;
{&quot;?

     }
&lt;p&gt; else if (inputFormatClass.getName().contains(&quot;RCFile&quot;)) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;RCFile.Reader in = new RCFile.Reader(fs, path, job);&lt;br/&gt;
       blockPointer = true;&lt;/li&gt;
	&lt;li&gt;in.sync(fileSplit.getStart());&lt;/li&gt;
	&lt;li&gt;blockStart = in.getPosition();&lt;/li&gt;
	&lt;li&gt;in.close();&lt;br/&gt;
+&lt;br/&gt;
+      if (recordReader instanceof RCFileRecordReader) 
{
+        blockStart = ((RCFileRecordReader)recordReader).getStart();
+      }
&lt;p&gt; else &lt;/p&gt;
{
+        RCFile.Reader in = new RCFile.Reader(fs, path, job);
+        in.sync(fileSplit.getStart());
+        blockStart = in.getPosition();
+        in.close();
+      }&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12934764" author="sdong" created="Tue, 23 Nov 2010 07:48:59 +0000"  >&lt;p&gt;address Yongqiang&apos;s comment.&lt;/p&gt;</comment>
                            <comment id="12935048" author="he yongqiang" created="Tue, 23 Nov 2010 21:23:03 +0000"  >&lt;p&gt;siying, the patch is not for this jira. &lt;br/&gt;
can you upload a new patch?&lt;/p&gt;</comment>
                            <comment id="12935060" author="sdong" created="Tue, 23 Nov 2010 21:38:57 +0000"  >&lt;p&gt;This one should be right.&lt;/p&gt;</comment>
                            <comment id="12935079" author="he yongqiang" created="Tue, 23 Nov 2010 22:07:25 +0000"  >&lt;p&gt;+1 running tests.&lt;/p&gt;</comment>
                            <comment id="12935168" author="he yongqiang" created="Wed, 24 Nov 2010 01:56:30 +0000"  >&lt;p&gt;Committed! Thanks Siying!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12459955" name="HIVE-1801.1.patch" size="5313" author="sdong" created="Thu, 18 Nov 2010 23:30:30 +0000"/>
                            <attachment id="12460309" name="HIVE-1801.2.patch" size="5129" author="sdong" created="Tue, 23 Nov 2010 21:38:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 22 Nov 2010 18:10:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1802] Encode MapReduce Shuffling Keys Differently for  Single string/bigint Key</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1802</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Delimiters are not needed if we only have one shuffling key, and in the same time escaping delimiters are not needed. We can save some CPU time on serializing and shuffle slightly less amount of data to save memory footprint and network traffic.&lt;/p&gt;

&lt;p&gt;Also there is a bug that for group-by, we by mistake add a -1 to the end of the key and pay one more unnecessary mem-copy. Can be easily fixed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480442">HIVE-1802</key>
            <summary>Encode MapReduce Shuffling Keys Differently for  Single string/bigint Key</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Nov 2010 20:08:58 +0000</created>
                <updated>Wed, 26 Jan 2011 04:04:42 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12933962" author="sdong" created="Fri, 19 Nov 2010 20:25:15 +0000"  >&lt;p&gt;1. Two another SerDe only for encoding single string and single bigint, respectively.&lt;br/&gt;
2. When generating reduce plan, identify single sting and bigint case and write the serde in the plan&lt;br/&gt;
3. add a test for key as bigint as keys&lt;br/&gt;
4. fix the bug of adding FF to the end of group-by keys and pay one more mem-copy.&lt;/p&gt;</comment>
                            <comment id="12934380" author="namit" created="Mon, 22 Nov 2010 01:58:10 +0000"  >&lt;p&gt;The code looks OK, but it is not very easy to add new serde&apos;s this way.&lt;br/&gt;
Can you refactor PlanUtils change into a factory - so that it is easy to add new changes&lt;/p&gt;</comment>
                            <comment id="12934382" author="he yongqiang" created="Mon, 22 Nov 2010 02:07:21 +0000"  >&lt;p&gt;I think we only need serialize here. No? Can we make it easier? I mean only processing cases where there is one key, and type is Text, and also only for group by. In this case, we can avoid an array copy. &lt;/p&gt;

&lt;p&gt;But if it is a join, or there are multiple keys in group by, we anyway need to do array copy. The problem of binarysortableserde is that it uses write() to write bytes. Can we make binarysortableserde to use array copy? Maybe we can use some java nio classes, like ByteBuffer?&lt;/p&gt;</comment>
                            <comment id="12934778" author="sdong" created="Tue, 23 Nov 2010 08:52:03 +0000"  >&lt;p&gt;Yongqiang, I didn&apos;t quite get it. One key applies to both of Group-by and Join. And we ARE only processing those two cases. And we are avoiding array copy in those case. It&apos;s exactly what we are doing here.&lt;/p&gt;

&lt;p&gt;Are you suggesting we should also optimize other cases too? It will be nice if we can. I didn&apos;t come up with a way that let BinarySortableSerDe to use array copy. The problem is that to make binary sorting order the same as key order, we need a delimiter and in order to have delimiter, strings need to be encoded to escape the delimiter. Any better idea?&lt;/p&gt;</comment>
                            <comment id="12934957" author="he yongqiang" created="Tue, 23 Nov 2010 18:24:00 +0000"  >&lt;p&gt;For one Text key in join, i think in your patch you still need an array copy.  For one Text key in group by, array copy is not needed.&lt;/p&gt;

&lt;p&gt;I mean the new code only process one Text key in Group by, which we can avoid array copy.&lt;/p&gt;

&lt;p&gt;For other cases, maybe we can optimize BinarySortableSerDe to use array copy instead of write?&lt;/p&gt;</comment>
                            <comment id="12934974" author="sdong" created="Tue, 23 Nov 2010 18:55:55 +0000"  >&lt;p&gt;Refactored PlanUtils a little bit. I didn&apos;t come up a straight forward way to refactor to be a factory and make it clear. I tried to break up PlanUtils to several classes, by those return TableDesc and ReduceSyncDesc, as well as others. Hope it can be better maintained.&lt;/p&gt;

&lt;p&gt;No function change from previous patch.&lt;/p&gt;</comment>
                            <comment id="12934980" author="sdong" created="Tue, 23 Nov 2010 19:09:18 +0000"  >&lt;p&gt;For any Group by, we needed 2 mem-copies. One from Text objects to buffer, one add an extra tag to the end of the buffer.&lt;br/&gt;
Now, the case with single Text takes no mem-copy (except the first byte is 0) and for multiple keys it needs one (from Text object to buffer).&lt;/p&gt;

&lt;p&gt;For join, we needed 2 mem-copies. One from Text to buffer, one add tag.&lt;br/&gt;
Now one single Text needs one copy from buffer to add a tag. Other cases we still need two copies.&lt;/p&gt;</comment>
                            <comment id="12935043" author="he yongqiang" created="Tue, 23 Nov 2010 21:13:34 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;For any Group by, we needed 2 mem-copies. One from Text objects to buffer, one add an extra tag to the end of the buffer.&lt;br/&gt;
I think for Join we will need array copy and put a tag at the end.&lt;/p&gt;

&lt;p&gt;I mean optimize BinarySortableSerDe might be a better idea to optimize cases when need array copy.&lt;br/&gt;
The code can be cleaner and simpler if only optimize the one Text key case in Group by, and put other optimizations in BinarySortableSerDe.&lt;/p&gt;</comment>
                            <comment id="12935045" author="sdong" created="Tue, 23 Nov 2010 21:18:09 +0000"  >&lt;p&gt;I still don&apos;t get it. Isn&apos;t it what this patch is doing?&lt;/p&gt;</comment>
                            <comment id="12964932" author="sdong" created="Mon, 29 Nov 2010 20:41:07 +0000"  >&lt;p&gt;Yongqiang, after some face-to-face discussion, are you OK with go for this approach now?&lt;/p&gt;</comment>
                            <comment id="12965021" author="he yongqiang" created="Tue, 30 Nov 2010 00:14:36 +0000"  >&lt;p&gt;Yes. I am ok with the current approach.&lt;/p&gt;

&lt;p&gt;(moving forward, we still need to figure out a better way which can be more easy to maintain and extend. Like, we may want to try to separate serdes used for group-by and join. If we do that in the current approach, we need to have 4 serdes for reduce-sink.)&lt;/p&gt;</comment>
                            <comment id="12986838" author="cwsteinbach" created="Wed, 26 Jan 2011 04:04:14 +0000"  >&lt;p&gt;The patch doesn&apos;t apply cleanly to trunk. Can you please rebase it? Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12460049" name="HIVE-1802.1.patch" size="34804" author="sdong" created="Fri, 19 Nov 2010 20:25:15 +0000"/>
                            <attachment id="12460293" name="HIVE-1802.2.patch" size="104373" author="sdong" created="Tue, 23 Nov 2010 18:55:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 22 Nov 2010 01:58:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42363</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48390</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1803] Implement bitmap indexing in Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1803</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Implement bitmap index handler to complement compact indexing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480471">HIVE-1803</key>
            <summary>Implement bitmap indexing in Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mwang5">Marquis Wang</assignee>
                                    <reporter username="mwang5">Marquis Wang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Nov 2010 02:20:56 +0000</created>
                <updated>Tue, 24 Jun 2014 12:11:05 +0000</updated>
                            <resolved>Mon, 25 Apr 2011 02:50:22 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>16</watches>
                                                                <comments>
                            <comment id="12934088" author="mwang5" created="Sat, 20 Nov 2010 02:47:49 +0000"  >&lt;p&gt;Added a proposed design document on Hive wiki at &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/IndexDev/Bitmap&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/IndexDev/Bitmap&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12988868" author="sberghel" created="Mon, 31 Jan 2011 20:05:11 +0000"  >&lt;p&gt;Marquis and I have prepared a preliminary patch. BitmapCollectSet is currently not working---does anyone have any pointers?&lt;/p&gt;</comment>
                            <comment id="12988914" author="jvs" created="Mon, 31 Jan 2011 21:59:03 +0000"  >&lt;p&gt;Could you describe the problem you&apos;re seeing and provide an example of how to reproduce it?&lt;/p&gt;</comment>
                            <comment id="12991238" author="mwang5" created="Sun, 6 Feb 2011 23:43:55 +0000"  >&lt;p&gt;We fixed the problem in BitmapCollectSet by looking at the PercentileApprox UDAF to figure out how to use an array an input to a UDAF.&lt;/p&gt;

&lt;p&gt;This new patch is a working implementation of bitmap indexing. The new test index_bitmap.q shows how to use the index. However, I am unable to add the test itself, and get errors when I run &lt;/p&gt;

&lt;p&gt;ant test -Dtestcase=TestCliDriver -Dqfile=index_bitmap.q -Doverwrite=true -Dtest.silent=false&lt;/p&gt;

&lt;p&gt;It says &lt;/p&gt;


&lt;p&gt;Exception: java.lang.RuntimeException: The table default_&lt;em&gt;srcpart_srcpart_index_proj&lt;/em&gt;_ is an index table. Please do drop index instead.&lt;/p&gt;

&lt;p&gt;wrt to the ALTER INDEX REBUILD line in the test.&lt;/p&gt;

&lt;p&gt;We&apos;re pretty confused about whether we&apos;re doing the new test incorrectly and would appreciate any help.&lt;/p&gt;

&lt;p&gt;While we&apos;re working to get around that we&apos;re also going to go ahead and work on a compressed bitmap, since this implementation does no compression.&lt;/p&gt;</comment>
                            <comment id="12991563" author="jvs" created="Mon, 7 Feb 2011 20:09:23 +0000"  >&lt;p&gt;I tried it, and I did get that error, but not in the REBUILD, which worked fine.  So you may be misreading the output.&lt;/p&gt;

&lt;p&gt;The error I&apos;m getting is &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FAILED: Error in semantic analysis: line 2:65 Expression Not In Group By Key `_bucketname`
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This error is correct since the statement below has `_bucketname` in the SELECT list but not in the GROUP BY.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;INSERT OVERWRITE DIRECTORY &quot;/tmp/index_test_index_result&quot; SELECT `_bucketname`, COLLECT_BITMAP_SET(`_offset`, `_bitmaps`) as `_offsets` FROM default__srcpart_srcpart_index_proj__ x WHERE x.key=100 AND x.ds = &apos;2008-04-08&apos; GROUP BY x.key, x.ds;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As a result, the test bails out in the middle (without doing any of its DROP INDEX cleanup).  After that, what happens is that the test framework tries to clean up by dropping all existing tables, but it isn&apos;t smart enough to know that it shouldn&apos;t try to drop index tables directly.  (We could use a separate patch for that.)&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.RuntimeException: The table default__srcpart_srcpart_index_proj__ is an index table. Please do drop index instead.
    [junit] 	at org.apache.hadoop.hive.ql.metadata.Hive.dropTable(Hive.java:739)
    [junit] 	at org.apache.hadoop.hive.ql.metadata.Hive.dropTable(Hive.java:716)
    [junit] 	at org.apache.hadoop.hive.ql.QTestUtil.clearTestSideEffects(QTestUtil.java:333)
    [junit] 	at org.apache.hadoop.hive.cli.TestCliDriver.setUp(TestCliDriver.java:55)
    [junit] 	at junit.framework.TestCase.runBare(TestCase.java:125)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12992822" author="jvs" created="Thu, 10 Feb 2011 01:09:30 +0000"  >&lt;p&gt;Some review comments:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Need to factor out all that code duplicated from compact index handler; share it in package org.apache.hadoop.hive.ql.index.  Use abstract classes in cases where behavior needs to be overridden, otherwise, just share concrete classes there.&lt;/li&gt;
	&lt;li&gt;If we&apos;re going to publish the new UDF&apos;s as visible out of the box (not just internal to the index implementation) then they need unit tests of their own, as well as some documentation about the representation on which they operate (maybe best to wait and see how compression shakes out first).  Also, for the ones that turn out to be not generally applicable, then they need to be named more specifically.&lt;/li&gt;
	&lt;li&gt;For dense bitmaps, I think you can probably use java.util.BitSet instead of rolling so much of your own (at least for ones where you have control over the bit array representation)&lt;/li&gt;
	&lt;li&gt;The name attribute in the annotation for GenericUDAFCollectBitmapSet is incorrect.&lt;/li&gt;
	&lt;li&gt;In HiveIndex.java, the symbol should be just BITMAP_TABLE (not BITMAP_SUMMARY_TABLE) since the bitmap is actually quite detailed.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12995130" author="mwang5" created="Wed, 16 Feb 2011 03:05:48 +0000"  >&lt;p&gt;New patch that includes tests and fixes problems John mentioned.&lt;/p&gt;

&lt;p&gt;Bitmap UDFs are &quot;hidden&quot; by giving them leading underscores, since we do need to expose them for using the index for now. When we get automatic usage working, we can hide them more effectively.&lt;/p&gt;
</comment>
                            <comment id="12999656" author="hammer" created="Sat, 26 Feb 2011 00:05:26 +0000"  >&lt;p&gt;Hey,&lt;/p&gt;

&lt;p&gt;I came across a Daniel Lemire project recently that may be of use here: &lt;a href=&quot;http://code.google.com/p/javaewah&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://code.google.com/p/javaewah&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Later,&lt;br/&gt;
Jeff&lt;/p&gt;</comment>
                            <comment id="12999657" author="mwang5" created="Sat, 26 Feb 2011 00:08:41 +0000"  >&lt;p&gt;Thanks Jeff. We&apos;ve actually seen this and have a patch in the works (next couple days) that uses it.&lt;/p&gt;</comment>
                            <comment id="13000069" author="sberghel" created="Mon, 28 Feb 2011 00:25:18 +0000"  >&lt;p&gt;javaewah.jar file (a dependency for the compressed bitmap)&lt;/p&gt;</comment>
                            <comment id="13000076" author="sberghel" created="Mon, 28 Feb 2011 01:18:25 +0000"  >&lt;p&gt;A patch that uses a compressed bitmap to save space without losing much computing time for AND and OR operations.&lt;/p&gt;</comment>
                            <comment id="13000077" author="sberghel" created="Mon, 28 Feb 2011 01:19:36 +0000"  >&lt;p&gt;Attaching the javaewah.jar file that will go in lib.&lt;/p&gt;</comment>
                            <comment id="13002852" author="jvs" created="Fri, 4 Mar 2011 22:35:06 +0000"  >&lt;p&gt;Review comments in&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/466/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/466/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13003725" author="mwang5" created="Tue, 8 Mar 2011 00:37:29 +0000"  >&lt;p&gt;New patch that fixes issues raised. I added some comments/questions to the ReviewBoard.&lt;/p&gt;

&lt;p&gt;Are there one or more tables that are already used for testing that have two columns that I can use for testing bitmap_and and bitmap_or?&lt;/p&gt;</comment>
                            <comment id="13003735" author="jvs" created="Tue, 8 Mar 2011 00:53:54 +0000"  >&lt;p&gt;Table src has two columns (key and value).  The value is equivalent to the key.  For srcbucket, the value is one plus the key, so at least they&apos;re not exactly the same.&lt;/p&gt;</comment>
                            <comment id="13003784" author="mwang5" created="Tue, 8 Mar 2011 02:15:45 +0000"  >&lt;p&gt;Another patch where the bitmap_and and bitmap_or tests use two columns instead of faking it with two indexes on one column.&lt;/p&gt;</comment>
                            <comment id="13004282" author="jvs" created="Tue, 8 Mar 2011 23:26:39 +0000"  >&lt;p&gt;Uploading a .zip of the source for reference.&lt;/p&gt;</comment>
                            <comment id="13004302" author="jvs" created="Wed, 9 Mar 2011 00:28:23 +0000"  >&lt;p&gt;New review board entry (I failed trying to update the old one with the new patch):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/481/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13009563" author="mwang5" created="Tue, 22 Mar 2011 06:01:04 +0000"  >&lt;p&gt;New patch which I believe takes care of all the issues in the review for patch 6.&lt;/p&gt;</comment>
                            <comment id="13010471" author="he yongqiang" created="Wed, 23 Mar 2011 21:45:09 +0000"  >&lt;p&gt;I did not do a detailed look, overall the patch looks good. It follows the steps of existing compact index. &lt;/p&gt;

&lt;p&gt;But can you do some tests on the javaewah stuff to see its performance? And what features in javawah are used by this jira?  For compression, if we can just compress the bitmap using simple RLE, how much differences are there? What i mean, also not sure about, is javawah may have a lot features that we do not need, but that add some overhead to the code.&lt;/p&gt;</comment>
                            <comment id="13010482" author="he yongqiang" created="Wed, 23 Mar 2011 22:09:06 +0000"  >&lt;p&gt;Did an offline discussion with namit on this jira. &lt;/p&gt;

&lt;p&gt;The basic question is how to use this bitmap indexing. Given there are millions of rows in one block, the block will contain all distinct values this column has. So the bitmap index will not be very useful. A possibly use case maybe do a bitmap and/or. eg, need to find out all records about Male in Japan. Male and Japan are both bitmap indexed. what we can do today is to first do a JOIN and BITMAP AND operation on the 2 index tables, and then find all the matching blocks, which is ok, but there requires a join operation. If we can support an bitmap index with more than 1 index columns, it will help in this case. I mean each index column in the index table has its own bitmap. Eg, FILE_NAME, BLK_OFFSET, GENDER, bitmapForGENDER, COUNTY, bitmapForCountry. bitmapForGENDER will have two bitmaps internally, one for Male, one for Female. And bitmapForCountry will have bitmaps for each country.&lt;/p&gt;

&lt;p&gt;And if hive can support skip rows, the bitmap index will be very useful. I mean with bitmap indexing, block pruning maybe not good enough. For example, in a block, we only find the row1, row3, lastRow satisfy the predicate. We can just skip row2, and row4 to lastRow-1.&lt;/p&gt;


&lt;p&gt;what do you think?&lt;/p&gt;</comment>
                            <comment id="13011380" author="jvs" created="Fri, 25 Mar 2011 19:30:59 +0000"  >&lt;p&gt;Right, without row-level skipping, the main use case is AND/OR for block filtering.&lt;/p&gt;

&lt;p&gt;I&apos;d suggest we get this committed without row-level skipping, and then create a followup for that.  Besides AND/OR, having the bitmap index build/access code committed will be useful for others working on related issues such as automatic usage in the WHERE clause.&lt;/p&gt;</comment>
                            <comment id="13011850" author="mwang5" created="Sun, 27 Mar 2011 21:38:13 +0000"  >&lt;p&gt;New patch with minimal changes (got rid of some unused imports)&lt;/p&gt;</comment>
                            <comment id="13011851" author="mwang5" created="Sun, 27 Mar 2011 21:38:52 +0000"  >&lt;p&gt;John, I&apos;m resubmitting the patch for inclusion and opened a new ticket for creating row-level indexing.&lt;/p&gt;</comment>
                            <comment id="13012224" author="jvs" created="Mon, 28 Mar 2011 21:06:28 +0000"  >&lt;p&gt;Latest review comments are in:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/530/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/530/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13014268" author="mwang5" created="Thu, 31 Mar 2011 23:07:06 +0000"  >&lt;p&gt;Uploaded new patch that addresses John&apos;s comments on patch 8.&lt;/p&gt;</comment>
                            <comment id="13014276" author="mwang5" created="Thu, 31 Mar 2011 23:23:00 +0000"  >&lt;p&gt;Update patch to include more missing javadocs.&lt;/p&gt;</comment>
                            <comment id="13014780" author="jvs" created="Fri, 1 Apr 2011 18:23:43 +0000"  >&lt;p&gt;When I run ant test, I get a ton of failures with internal column names being different due to the introduction of the new ROWOFFSET virtual column.  The same thing happened to Yongqiang with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-417&quot; title=&quot;Implement Indexing in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-417&quot;&gt;&lt;del&gt;HIVE-417&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So either you&apos;ll need to figure out a way to hide the number adjustment, or you&apos;ll have to submit one more (giant) patch with all of the testlog updates (which you can obtain by running ant test -Doverwrite=true and then verifying that all of the changes are expected).&lt;/p&gt;

&lt;p&gt;Example from auto_join1.q:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] 67c67
    [junit] &amp;lt;               outputColumnNames: _col0, _col6
    [junit] ---
    [junit] &amp;gt;               outputColumnNames: _col0, _col5
    [junit] 73c73
    [junit] &amp;lt;                       expr: _col6
    [junit] ---
    [junit] &amp;gt;                       expr: _col5
    [junit] 143c143
    [junit] &amp;lt;               outputColumnNames: _col0, _col6
    [junit] ---
    [junit] &amp;gt;               outputColumnNames: _col0, _col5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Everything else in the patch was fine, except for a few nits:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Javadoc for GenericUDFEWAHBitmapOr/And has the old class name.&lt;/li&gt;
	&lt;li&gt;For BitmapAnd Javadoc, some spaces are missing in front of the stars.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13016124" author="mwang5" created="Tue, 5 Apr 2011 21:14:12 +0000"  >&lt;p&gt;New patch that fixes the minor javadocs comments from patch 10.&lt;/p&gt;

&lt;p&gt;A unit-tests patch that updates all the unit tests that were affected by the virtual column change.&lt;/p&gt;</comment>
                            <comment id="13016210" author="jvs" created="Wed, 6 Apr 2011 01:38:03 +0000"  >&lt;p&gt;I&apos;m getting test failures still.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;TestMinimrCliDriver:join1&lt;/li&gt;
	&lt;li&gt;TestMTQueries:testMTQueries1&lt;/li&gt;
	&lt;li&gt;TestParse:  44/45 tests failed&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;These all need fixes before commit.&lt;/p&gt;</comment>
                            <comment id="13016806" author="mwang5" created="Thu, 7 Apr 2011 10:57:51 +0000"  >&lt;p&gt;New unit tests patch that should fix some more tests.&lt;/p&gt;

&lt;p&gt;John, I didn&apos;t see any failures in TestMTQueries even before adding this new patch. I&apos;m not sure why that would be, but I definitely fixed some things in the other two tests.&lt;/p&gt;

&lt;p&gt;Also this patch only includes the unit tests, so you will need to include patch 11 as well.&lt;/p&gt;</comment>
                            <comment id="13017066" author="jvs" created="Thu, 7 Apr 2011 17:55:55 +0000"  >&lt;p&gt;OK, maybe the TestMTQueries failure was a side-effect of the other failures...I&apos;ll retry with your latest patch.&lt;/p&gt;</comment>
                            <comment id="13017067" author="jvs" created="Thu, 7 Apr 2011 18:01:22 +0000"  >&lt;p&gt;Some other stuff got committed in between which is causing conflicts when I try patch -p0 &amp;lt; unit-tests.2.patch&lt;/p&gt;</comment>
                            <comment id="13017069" author="mwang5" created="Thu, 7 Apr 2011 18:10:37 +0000"  >&lt;p&gt;I re-pulled from trunk and made a new patch and there was no difference between the two. If you have the original unit-tests.patch applied then this patch will fail. Can you try patching &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1803&quot; title=&quot;Implement bitmap indexing in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1803&quot;&gt;&lt;del&gt;HIVE-1803&lt;/del&gt;&lt;/a&gt;.11.patch followed by unit-tests.2.patch on a clean checkout?&lt;/p&gt;</comment>
                            <comment id="13017088" author="jvs" created="Thu, 7 Apr 2011 19:02:05 +0000"  >&lt;p&gt;That&apos;s what I did, and the conflicts match files which were in very recent commits.  &lt;/p&gt;

&lt;p&gt;Are you sure you did svn update?  If you&apos;re using git, there may be some lag in the replica.&lt;/p&gt;</comment>
                            <comment id="13018893" author="mwang5" created="Tue, 12 Apr 2011 16:27:24 +0000"  >&lt;p&gt;New patch for unit tests that hopefully shouldn&apos;t conflict this time.&lt;/p&gt;

&lt;p&gt;I looked into changing the code so that the outputColumnNames in explains are not affected by virtual columns, but didn&apos;t really get anywhere. Besides, wouldn&apos;t I have the same problem with commits since the unit tests were changed for the first two virtual columns added?&lt;/p&gt;

&lt;p&gt;I figured I&apos;d go ahead and submit this patch again and if you thought I should keep on looking into that you can not accept it. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13018970" author="jvs" created="Tue, 12 Apr 2011 18:24:07 +0000"  >&lt;p&gt;OK, let&apos;s see if this one can pass tests before the next conflict gets committed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13018988" author="jvs" created="Tue, 12 Apr 2011 18:57:51 +0000"  >&lt;p&gt;I&apos;m already seeing at least one test failures:  auto_join28.q, which recently got its log updated (Friday) so you probably rebased before that.  It&apos;s really difficult to get something like this through without locking down svn for a few days...&lt;/p&gt;

&lt;p&gt;You have a point about the unit tests; we would have to special-case the new column and leaving the existing ones as is.  Ugly any way you slice it.&lt;/p&gt;</comment>
                            <comment id="13019069" author="jvs" created="Tue, 12 Apr 2011 21:48:21 +0000"  >&lt;p&gt;OK, here&apos;s the simplest approach I can come up with given the way internal column names currently work:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;introduce yet another config parameter hive.exec.rowoffset=true/false (default false)&lt;/li&gt;
	&lt;li&gt;only support the new virtual column for queries where this is true (get rid of static field VirtualColumn.registry and replace it with a getRegistry method which takes in a conf)&lt;/li&gt;
	&lt;li&gt;set this in the conf used for compiling the internal statement (but don&apos;t modify the top-level conf)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(Ideally, we wouldn&apos;t need the config param; we would do this automatically based on the presence of a reference to the VC in the query.  Also ideally, at execution time we would avoid any counter-increment overhead when this is false.)&lt;/p&gt;</comment>
                            <comment id="13023094" author="mwang5" created="Fri, 22 Apr 2011 03:34:40 +0000"  >&lt;p&gt;New patch that implements John&apos;s suggestions about adding the hive.exec.rowoffset configuration variable.&lt;/p&gt;

&lt;p&gt;This patch fixes the issues with column numbers in explains. John, I&apos;m still seeing some test failures in tests such as combine2.q, bucketmapjoin1.q, bucketmapjoin4.q. It looks like one of the numRows outputs is saying zero rows instead of some non-zero number before in an explain in each of these tests. I&apos;m not really sure what could be causing this and don&apos;t see anything in this patch that can affect these tests. Do you have any ideas?&lt;/p&gt;</comment>
                            <comment id="13023095" author="jvs" created="Fri, 22 Apr 2011 03:43:41 +0000"  >&lt;p&gt;I noticed that in one of my attempts with your previous patches.  I think it&apos;s the exact same problem you were hitting very early on in the clinic in the Hudson setup, having to do with the stats temp database not getting deleted?&lt;/p&gt;</comment>
                            <comment id="13023097" author="mwang5" created="Fri, 22 Apr 2011 03:51:07 +0000"  >&lt;p&gt;I don&apos;t see anything that needs to be deleted in my checkout. Where is the stats temp database? Also, if you think it might just be something on our side, can you just run the tests and see if it passes for you? When I ran them I didn&apos;t see any other issues besides those, I don&apos;t think.&lt;/p&gt;</comment>
                            <comment id="13023121" author="jvs" created="Fri, 22 Apr 2011 05:39:25 +0000"  >&lt;p&gt;Yeah, I can give it a try and see if it passes.&lt;/p&gt;</comment>
                            <comment id="13023355" author="jvs" created="Fri, 22 Apr 2011 19:43:30 +0000"  >&lt;p&gt;Meh, I&apos;m still getting numRows failures myself.  I noticed that your patch includes some changes to existing test outputs (e.g. bucketmapjoin1.q.out) where it is setting the expected numRows to 0; you should have reverted those before generating the patch.  But the failure I got was in another existing test (filter_join_breaktask).  I&apos;m trying again after reverting the ones you changed (in case the failure I saw was a side effect), but I&apos;m pessimistic; I&apos;m wondering if something innocuous about the change is somehow exposing some existing non-determinism.&lt;/p&gt;</comment>
                            <comment id="13023407" author="jvs" created="Fri, 22 Apr 2011 21:00:29 +0000"  >&lt;p&gt;OK, I dug into it and found out that it was a problem with HADOOP_CLASSPATH preventing derby.jar getting loaded (so stats couldn&apos;t be written from Hadoop tasks, hence numRows=0).&lt;/p&gt;

&lt;p&gt;The existing HADOOP_CLASSPATH was already incorrect, but the problem was only exposed by the addition of the javaewah-0.2.jar.  It was using commas for separators instead of colons (and it should not have been using file: at all!).&lt;/p&gt;

&lt;p&gt;Here&apos;s the correct format with which I was able to pass a few failing tests I tried individually:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;      &amp;lt;env key=&quot;HADOOP_CLASSPATH&quot; value=&quot;${test.src.data.dir}/conf:${build.dir.\
hive}/dist/lib/derby.jar:${build.dir.hive}/dist/lib/javaewah-0.2.jar&quot;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can you give me another patch which fixes this and omits all .q.out updates for existing tests unless they need it?  Fingers crossed that will be the last one.&lt;/p&gt;</comment>
                            <comment id="13023458" author="mwang5" created="Fri, 22 Apr 2011 23:30:11 +0000"  >&lt;p&gt;New patch that updates HADOOP_CLASSPATH and doesn&apos;t change tests except adding new tests and show_functions.q. Fingers crossed for this one passing. I&apos;m optimistic.&lt;/p&gt;</comment>
                            <comment id="13023519" author="jvs" created="Sat, 23 Apr 2011 07:24:23 +0000"  >&lt;p&gt;Everything passed...eeexcept TestParse, where I got 44 failures.  Example diff below; somehow the output seems to have gotten reordered, and it&apos;s in the area of virtual columns.  Best is to find out why and fix it, otherwise make sure it&apos;s deterministic and then update .q.out.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] diff -b -I&apos;\(\(&amp;lt;java version=&quot;.*&quot; class=&quot;java.beans.XMLDecoder&quot;&amp;gt;\)\|
\(&amp;lt;string&amp;gt;.*/tmp/.*&amp;lt;/string&amp;gt;\)\|\(&amp;lt;string&amp;gt;file:.*&amp;lt;/string&amp;gt;\)\|\(&amp;lt;string&amp;gt;pfile:.*
&amp;lt;/string&amp;gt;\)\|\(&amp;lt;string&amp;gt;[0-9]\{10\}&amp;lt;/string&amp;gt;\)\|\(&amp;lt;string&amp;gt;/.*/warehouse/.*&amp;lt;/strin
g&amp;gt;\)\)&apos; /data/users/jsichi/open/test-trunk/build/ql/test/logs/positive/case_sens
itivity.q.xml /data/users/jsichi/open/test-trunk/ql/src/test/results/compiler/pl
an/case_sensitivity.q.xml
    [junit] 1209c1209
    [junit] &amp;lt;                    &amp;lt;string&amp;gt;INPUT__FILE__NAME&amp;lt;/string&amp;gt; 
    [junit] ---
    [junit] &amp;gt;                    &amp;lt;string&amp;gt;BLOCK__OFFSET__INSIDE__FILE&amp;lt;/string&amp;gt; 
    [junit] 1215c1215,1219
    [junit] &amp;lt;                    &amp;lt;object idref=&quot;PrimitiveTypeInfo0&quot;/&amp;gt; 
    [junit] ---
    [junit] &amp;gt;                    &amp;lt;object class=&quot;org.apache.hadoop.hive.serde2.ty
peinfo.PrimitiveTypeInfo&quot;&amp;gt; 
    [junit] &amp;gt;                     &amp;lt;void property=&quot;typeName&quot;&amp;gt; 
    [junit] &amp;gt;                      &amp;lt;string&amp;gt;bigint&amp;lt;/string&amp;gt; 
    [junit] &amp;gt;                     &amp;lt;/void&amp;gt; 
    [junit] &amp;gt;                    &amp;lt;/object&amp;gt; 
    [junit] 1225c1229
    [junit] &amp;lt;                    &amp;lt;string&amp;gt;BLOCK__OFFSET__INSIDE__FILE&amp;lt;/string&amp;gt; 
    [junit] ---
    [junit] &amp;gt;                    &amp;lt;string&amp;gt;INPUT__FILE__NAME&amp;lt;/string&amp;gt; 
    [junit] 1231,1235c1235
    [junit] &amp;lt;                    &amp;lt;object class=&quot;org.apache.hadoop.hive.serde2.ty
peinfo.PrimitiveTypeInfo&quot;&amp;gt; 
    [junit] &amp;lt;                     &amp;lt;void property=&quot;typeName&quot;&amp;gt; 
    [junit] &amp;lt;                      &amp;lt;string&amp;gt;bigint&amp;lt;/string&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13023630" author="mwang5" created="Sun, 24 Apr 2011 02:39:51 +0000"  >&lt;p&gt;The issue with the last patch was the order in which VirtualColumn.getRegistry().iterator() was returning. The old code stored the virtual column registry as a HashMap, so I added the columns to the registry in the order the HashMap would have returned them.&lt;/p&gt;

&lt;p&gt;This patch fixes that. I&apos;m still seeing errors in groupby1.q through groupby6.q. It looks like various numbers are returning wrong, but it doesn&apos;t appear to be related to the virtual columns. I can&apos;t really tell whether there is a pattern to it.&lt;/p&gt;

&lt;p&gt;can you take a look?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt;          &amp;lt;string&amp;gt;CNTR_NAME_GBY_28_NUM_INPUT_ROWS&amp;lt;/string&amp;gt; &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 1345c1341&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt;          &amp;lt;string&amp;gt;CNTR_NAME_GBY_4_NUM_OUTPUT_ROWS&amp;lt;/string&amp;gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt;          &amp;lt;string&amp;gt;CNTR_NAME_GBY_28_NUM_OUTPUT_ROWS&amp;lt;/string&amp;gt; &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 1348c1344&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt;          &amp;lt;string&amp;gt;CNTR_NAME_GBY_4_TIME_TAKEN&amp;lt;/string&amp;gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt;          &amp;lt;string&amp;gt;CNTR_NAME_GBY_28_TIME_TAKEN&amp;lt;/string&amp;gt; &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 1351c1347&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt;          &amp;lt;string&amp;gt;CNTR_NAME_GBY_4_FATAL_ERROR&amp;lt;/string&amp;gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt;          &amp;lt;string&amp;gt;CNTR_NAME_GBY_28_FATAL_ERROR&amp;lt;/string&amp;gt; &lt;/p&gt;
{/noformat}</comment>
                            <comment id="13023634" author="jvs" created="Sun, 24 Apr 2011 04:59:06 +0000"  >&lt;p&gt;The number comes from the operator ID; I&apos;m not sure why those would have shifted, but if it&apos;s consistent, then give me a patch that just updates the .q.out files and if that passes for me, we&apos;ll call it a day.&lt;/p&gt;</comment>
                            <comment id="13023641" author="mwang5" created="Sun, 24 Apr 2011 07:18:43 +0000"  >&lt;p&gt;New patch that updates the groupby tests in TestParse.&lt;/p&gt;

&lt;p&gt;The number from the operator ID was not consistent, it gives different results when I run just one test at a time vs. all the tests at once, which is why I thought they needed to be updated. The result as it was before works for those tests still.&lt;/p&gt;

&lt;p&gt;Another thing needed to be changed for me though, for the groupby tests:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@@ -521,7 +521,8 @@
                        &amp;lt;string&amp;gt;sum&amp;lt;/string&amp;gt; 
                       &amp;lt;/void&amp;gt; 
                       &amp;lt;void property=&quot;mode&quot;&amp;gt; 
-                       &amp;lt;object class=&quot;org.apache.hadoop.hive.ql.udf.generic.GenericUDAFEvaluator$Mode&quot; method=&quot;valueOf&quot;&amp;gt; 
+                       &amp;lt;object class=&quot;java.lang.Enum&quot; method=&quot;valueOf&quot;&amp;gt; 
+                        &amp;lt;class&amp;gt;org.apache.hadoop.hive.ql.udf.generic.GenericUDAFEvaluator$Mode&amp;lt;/class&amp;gt; 
                         &amp;lt;string&amp;gt;PARTIAL1&amp;lt;/string&amp;gt; 
                        &amp;lt;/object&amp;gt; 
                       &amp;lt;/void&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The new patch updates those tests.&lt;/p&gt;</comment>
                            <comment id="13024638" author="jvs" created="Sun, 24 Apr 2011 15:44:33 +0000"  >&lt;p&gt;With patch 15, everything passed for me &lt;b&gt;except&lt;/b&gt; the groupby* tests, so I think it&apos;s something about the Java version you&apos;re using (unrelated to your change).  When I revert those .q.xml files, TestParse passes.  I&apos;m going to re-run the full ant test with those reverted, and assuming that passes, +1.&lt;/p&gt;</comment>
                            <comment id="13024710" author="jvs" created="Mon, 25 Apr 2011 02:50:22 +0000"  >&lt;p&gt;Committed.  Thanks Marquis!&lt;/p&gt;</comment>
                            <comment id="13066011" author="siddharth" created="Fri, 15 Jul 2011 15:33:53 +0000"  >&lt;p&gt;Hi, I am trying to put an index for a string column in a table, I am getting NumberFormatException with respect to _offsets in the index table when I run the query? Can you give me suggestions as to how to do this?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Siddharth&lt;/p&gt;</comment>
                            <comment id="13066147" author="jvs" created="Fri, 15 Jul 2011 19:19:28 +0000"  >&lt;p&gt;@Siddharth:  please open a new JIRA issue, including exact steps to reproduce your problem.&lt;/p&gt;</comment>
                            <comment id="14042024" author="xuanjinlee" created="Tue, 24 Jun 2014 12:11:05 +0000"  >&lt;p&gt;Hello everyone &#65292;how to use this page&#65311;I am a new learner&#65281; Thanks&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12555955">HBASE-6014</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12422895">HIVE-417</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12476655">HIVE-1694</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12502523">HIVE-2078</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12500846">HIVE-2036</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12469853" name="HIVE-1803.1.patch" size="51755" author="sberghel" created="Mon, 31 Jan 2011 20:05:11 +0000"/>
                            <attachment id="12475169" name="HIVE-1803.10.patch" size="945939" author="mwang5" created="Thu, 31 Mar 2011 23:23:00 +0000"/>
                            <attachment id="12475529" name="HIVE-1803.11.patch" size="945949" author="mwang5" created="Tue, 5 Apr 2011 21:14:12 +0000"/>
                            <attachment id="12477075" name="HIVE-1803.12.patch" size="1112057" author="mwang5" created="Fri, 22 Apr 2011 03:34:40 +0000"/>
                            <attachment id="12477178" name="HIVE-1803.13.patch" size="950748" author="mwang5" created="Fri, 22 Apr 2011 23:30:11 +0000"/>
                            <attachment id="12477236" name="HIVE-1803.14.patch" size="950748" author="mwang5" created="Sun, 24 Apr 2011 02:39:51 +0000"/>
                            <attachment id="12477235" name="HIVE-1803.14.patch" size="950748" author="mwang5" created="Sun, 24 Apr 2011 02:39:51 +0000"/>
                            <attachment id="12477240" name="HIVE-1803.15.patch" size="1164744" author="mwang5" created="Sun, 24 Apr 2011 07:18:43 +0000"/>
                            <attachment id="12477239" name="HIVE-1803.15.patch" size="1164744" author="mwang5" created="Sun, 24 Apr 2011 07:18:43 +0000"/>
                            <attachment id="12470418" name="HIVE-1803.2.patch" size="67446" author="mwang5" created="Sun, 6 Feb 2011 23:43:55 +0000"/>
                            <attachment id="12471146" name="HIVE-1803.3.patch" size="515323" author="mwang5" created="Wed, 16 Feb 2011 03:05:48 +0000"/>
                            <attachment id="12472133" name="HIVE-1803.4.patch" size="644251" author="sberghel" created="Mon, 28 Feb 2011 01:18:25 +0000"/>
                            <attachment id="12472882" name="HIVE-1803.5.patch" size="813632" author="mwang5" created="Tue, 8 Mar 2011 00:37:29 +0000"/>
                            <attachment id="12472899" name="HIVE-1803.6.patch" size="817963" author="mwang5" created="Tue, 8 Mar 2011 02:15:45 +0000"/>
                            <attachment id="12474276" name="HIVE-1803.7.patch" size="838546" author="mwang5" created="Tue, 22 Mar 2011 06:01:04 +0000"/>
                            <attachment id="12474740" name="HIVE-1803.8.patch" size="835908" author="mwang5" created="Sun, 27 Mar 2011 21:38:13 +0000"/>
                            <attachment id="12475166" name="HIVE-1803.9.patch" size="945251" author="mwang5" created="Thu, 31 Mar 2011 23:07:06 +0000"/>
                            <attachment id="12473077" name="JavaEWAH_20110304.zip" size="15196" author="jvs" created="Tue, 8 Mar 2011 23:26:39 +0000"/>
                            <attachment id="12460083" name="bitmap_index_1.png" size="11070" author="mwang5" created="Sat, 20 Nov 2010 02:42:37 +0000"/>
                            <attachment id="12460124" name="bitmap_index_2.png" size="12604" author="mwang5" created="Sun, 21 Nov 2010 05:12:12 +0000"/>
                            <attachment id="12472134" name="javaewah.jar" size="20495" author="sberghel" created="Mon, 28 Feb 2011 01:19:36 +0000"/>
                            <attachment id="12472130" name="javaewah.jar" size="20351" author="sberghel" created="Mon, 28 Feb 2011 00:25:18 +0000"/>
                            <attachment id="12475696" name="unit-tests.2.patch" size="7658425" author="mwang5" created="Thu, 7 Apr 2011 10:57:51 +0000"/>
                            <attachment id="12476133" name="unit-tests.3.patch" size="7656762" author="mwang5" created="Tue, 12 Apr 2011 16:27:24 +0000"/>
                            <attachment id="12475530" name="unit-tests.patch" size="2186015" author="mwang5" created="Tue, 5 Apr 2011 21:14:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 31 Jan 2011 20:05:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3827</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1804] Mapjoin will fail if there are no files associating with the join tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1804</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If there are some empty tables without any file associated, the map join will fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480608">HIVE-1804</key>
            <summary>Mapjoin will fail if there are no files associating with the join tables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liyin">Liyin Tang</assignee>
                                    <reporter username="liyin">Liyin Tang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Nov 2010 20:31:30 +0000</created>
                <updated>Sat, 17 Dec 2011 00:00:43 +0000</updated>
                            <resolved>Tue, 30 Nov 2010 00:06:51 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12934696" author="liyin" created="Tue, 23 Nov 2010 01:46:43 +0000"  >&lt;p&gt;If the parition desc is empty, just create a empty hash table file&lt;/p&gt;</comment>
                            <comment id="12934697" author="liyin" created="Tue, 23 Nov 2010 01:48:17 +0000"  >&lt;p&gt;If the partition desc is empty, then create an empty hashtable file for it.&lt;/p&gt;</comment>
                            <comment id="12934951" author="liyin" created="Tue, 23 Nov 2010 18:11:29 +0000"  >&lt;p&gt;Remove all the debug print statements.&lt;br/&gt;
Please review&lt;/p&gt;</comment>
                            <comment id="12935080" author="he yongqiang" created="Tue, 23 Nov 2010 22:07:44 +0000"  >&lt;p&gt;will take a look&lt;/p&gt;</comment>
                            <comment id="12935528" author="he yongqiang" created="Wed, 24 Nov 2010 21:55:19 +0000"  >&lt;p&gt;This patch can not be applied cleanly. Can you regenerate a new diff?&lt;/p&gt;</comment>
                            <comment id="12935540" author="liyin" created="Wed, 24 Nov 2010 22:22:45 +0000"  >&lt;p&gt;Since there are some other patches committed recently, I regenerate the patch after svn update.&lt;br/&gt;
Please review.&lt;/p&gt;</comment>
                            <comment id="12964865" author="he yongqiang" created="Mon, 29 Nov 2010 18:24:06 +0000"  >&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="12965014" author="he yongqiang" created="Tue, 30 Nov 2010 00:06:51 +0000"  >&lt;p&gt;Committed! Thanks Liyin!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12460219" name="hive-1804-1.patch" size="40089" author="liyin" created="Tue, 23 Nov 2010 01:48:17 +0000"/>
                            <attachment id="12460287" name="hive-1804-2.patch" size="39647" author="liyin" created="Tue, 23 Nov 2010 18:11:29 +0000"/>
                            <attachment id="12460409" name="hive-1804-3.patch" size="20555" author="liyin" created="Wed, 24 Nov 2010 22:22:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Nov 2010 22:07:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72695</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123405</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1805] Ability to create dynamic partitions atomically</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1805</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12480620">HIVE-1805</key>
            <summary>Ability to create dynamic partitions atomically</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Nov 2010 23:13:36 +0000</created>
                <updated>Fri, 9 Dec 2016 21:09:57 +0000</updated>
                                                                            <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12934657" author="namit" created="Mon, 22 Nov 2010 23:14:51 +0000"  >&lt;p&gt;Currently, if a query creates partitions dynamically, some of them may be created and some others fail.&lt;br/&gt;
It will be useful to have an atomic way to running the query - either all the partitions should be created or none of them.&lt;/p&gt;

&lt;p&gt;The same problem exists for multi-table inserts, but it is not a very common scenario.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12510502">HIVE-2224</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42362</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123406</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>
