<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:20:02 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-1-24+AND+created+%3C%3D+2012-1-28+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="21" total="21"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2740] ant clean package -Dshims.include=0.23 results in compilation errors</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2740</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ant clean package -Dshims.include=0.23 results in compilation errors for component common.&lt;br/&gt;
For ex:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [echo] Project: common
    [javac] Compiling 15 source files to /home/amarsri/workspace/hive/build/common/classes
    [javac] /home/amarsri/workspace/hive/common/src/java/org/apache/hadoop/hive/common/FileUtils.java:26: package org.apache.hadoop.conf does not exist
    [javac] import org.apache.hadoop.conf.Configuration;
    [javac]                              ^
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thomas, Can you look into it?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539567">HIVE-2740</key>
            <summary>ant clean package -Dshims.include=0.23 results in compilation errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amareshwari">Amareshwari Sriramadasu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jan 2012 05:36:24 +0000</created>
                <updated>Tue, 24 Jan 2012 18:00:24 +0000</updated>
                            <resolved>Tue, 24 Jan 2012 06:09:00 +0000</resolved>
                                    <version>0.8.1</version>
                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13191914" author="amareshwari" created="Tue, 24 Jan 2012 06:09:00 +0000"  >&lt;p&gt;Hadoop to pass hadoop.version and hadoop.security.version explicitly. Could compile against 0.23 alone by running:&lt;br/&gt;
ant clean package -Dshims.include=0.23 -Dhadoop.version=0.23.0&lt;br/&gt;
-Dhadoop.security.version=0.23.0&lt;/p&gt;</comment>
                            <comment id="13192315" author="thw" created="Tue, 24 Jan 2012 18:00:24 +0000"  >&lt;p&gt;This should be enough:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;ant clean package -Dshims.include=0.23 -Dhadoop.version=0.23.0&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Since you are only compiling the .23 shim other Hadoop versions won&apos;t be fetched and you need to specify hadoop.version to compile the common code.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Jan 2012 18:00:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225069</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2741] Single binary built against 0.20 and 0.23, does not work against 0.23 clusters.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2741</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;, if single binary is built for 0.20 and 0.23, it results in following exception in 0.23 clusters:&lt;/p&gt;

&lt;p&gt;java.lang.IncompatibleClassChangeError: Found interface org.apache.hadoop.mapred.Counters$Counter, but class was&lt;br/&gt;
expected&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.HadoopJobExecHelper.progress(HadoopJobExecHelper.java:341)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.HadoopJobExecHelper.progress(HadoopJobExecHelper.java:685)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:458)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapRedTask.execute(MapRedTask.java:136)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:133)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1332)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1123)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:931)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:200)&lt;br/&gt;
FAILED: Execution Error, return code -101 from org.apache.hadoop.hive.ql.exec.MapRedTask&lt;/p&gt;

&lt;p&gt;If we have to make single binary work against both 0.20 and 0.23, we need to move all such in-compatibilities to Shims.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539576">HIVE-2741</key>
            <summary>Single binary built against 0.20 and 0.23, does not work against 0.23 clusters.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amareshwari">Amareshwari Sriramadasu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jan 2012 06:47:51 +0000</created>
                <updated>Thu, 2 May 2013 02:29:49 +0000</updated>
                            <resolved>Fri, 20 Apr 2012 19:32:13 +0000</resolved>
                                    <version>0.8.1</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Shims</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13208248" author="amareshwari" created="Wed, 15 Feb 2012 06:09:44 +0000"  >&lt;p&gt;With the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3697&quot; title=&quot;Hadoop Counters API limits Oozie&amp;#39;s working across different hadoop versions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3697&quot;&gt;&lt;del&gt;MAPREDUCE-3697&lt;/del&gt;&lt;/a&gt; in 0.23.1, single binary against 0.20.20x and 0.23.1 works fine against both, without any issues. &lt;/p&gt;</comment>
                            <comment id="13244918" author="thw" created="Tue, 3 Apr 2012 02:06:36 +0000"  >&lt;p&gt;Requires build against 0.23.1&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12542085">HADOOP-8054</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12526932">HADOOP-7738</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12538978">MAPREDUCE-3697</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12534090">HIVE-2629</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Apr 2012 02:06:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225078</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lld3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2742] InvalidOperationException &quot;alter table is not possible&quot; when using LOAD DATA INPATH OVERWRITE with database and partition</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2742</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Here is a repeatable procedure:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ echo &lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt; | hadoop fs -put - test.txt
$ echo &lt;span class=&quot;code-quote&quot;&gt;&quot;test2&quot;&lt;/span&gt; | hadoop fs -put - test2.txt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then in hive:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;gt; create database catalog;
&amp;gt; use catalog;
&amp;gt; create table test_load (t string) partitioned by (p string);
&amp;gt; use &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then the problem arises:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;gt; load data inpath &lt;span class=&quot;code-quote&quot;&gt;&apos;test.txt&apos;&lt;/span&gt; overwrite into table catalog.test_load partition (p=&lt;span class=&quot;code-quote&quot;&gt;&apos;test&apos;&lt;/span&gt;);
Loading data to table catalog.test_load partition (p=test)
OK
Time taken: 0.175 seconds
&amp;gt; load data inpath &lt;span class=&quot;code-quote&quot;&gt;&apos;test2.txt&apos;&lt;/span&gt; overwrite into table catalog.test_load partition (p=&lt;span class=&quot;code-quote&quot;&gt;&apos;test&apos;&lt;/span&gt;);
Loading data to table catalog.test_load partition (p=test)
Moved to trash: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//mycluster/user/hive/warehouse/catalog.db/test_load/p=test
&lt;/span&gt;Failed with exception InvalidOperationException(message:alter is not possible)
FAILED: Execution Error, &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; code 1 from org.apache.hadoop.hive.ql.exec.MoveTask
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;reproduced on cdh3u2 (haven&apos;t tried other versions)&lt;/p&gt;</environment>
        <key id="12539597">HIVE-2742</key>
            <summary>InvalidOperationException &quot;alter table is not possible&quot; when using LOAD DATA INPATH OVERWRITE with database and partition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="brugidou">Maxime Brugidou</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jan 2012 11:15:14 +0000</created>
                <updated>Thu, 8 Aug 2013 18:18:09 +0000</updated>
                                            <version>0.7.1</version>
                                                    <component>Database/Schema</component>
                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13606859" author="tgoodman" created="Tue, 19 Mar 2013 21:32:01 +0000"  >&lt;p&gt;I had a similar issue using&lt;/p&gt;

&lt;p&gt;    INSERT OVERWRITE TABLE &lt;span class=&quot;error&quot;&gt;&amp;#91;mySchema&amp;#93;&lt;/span&gt;.&lt;span class=&quot;error&quot;&gt;&amp;#91;myTable&amp;#93;&lt;/span&gt; PARTITION(&lt;span class=&quot;error&quot;&gt;&amp;#91;myPartition&amp;#93;&lt;/span&gt;) SELECT ...&lt;/p&gt;

&lt;p&gt;It works the first time, and then fails the second time, presumably because in the latter case it has to alter the existing partition.&lt;/p&gt;

&lt;p&gt;But as a workaround, do &lt;/p&gt;

&lt;p&gt;    USE &lt;span class=&quot;error&quot;&gt;&amp;#91;mySchema&amp;#93;&lt;/span&gt;; &lt;/p&gt;

&lt;p&gt;before the overwrite, and then it works.&lt;/p&gt;

&lt;p&gt;It is similar to the fact that you can&apos;t do &lt;/p&gt;

&lt;p&gt;    ALTER TABLE &lt;span class=&quot;error&quot;&gt;&amp;#91;mySchema&amp;#93;&lt;/span&gt;.&lt;span class=&quot;error&quot;&gt;&amp;#91;myTable&amp;#93;&lt;/span&gt; ...&lt;/p&gt;

&lt;p&gt;but instead must do&lt;/p&gt;

&lt;p&gt;    USE &lt;span class=&quot;error&quot;&gt;&amp;#91;mySchema&amp;#93;&lt;/span&gt;; ALTER TABLE &lt;span class=&quot;error&quot;&gt;&amp;#91;myTable&amp;#93;&lt;/span&gt; ...&lt;/p&gt;</comment>
                            <comment id="13733798" author="bertrand.pierreluc" created="Thu, 8 Aug 2013 18:18:09 +0000"  >&lt;p&gt;I can&apos;t run USE &lt;span class=&quot;error&quot;&gt;&amp;#91;mySchema&amp;#93;&lt;/span&gt;; ALTER TABLE &lt;span class=&quot;error&quot;&gt;&amp;#91;myTable&amp;#93;&lt;/span&gt; ... &lt;br/&gt;
with Hive JDBC so there is no way of doing alter tables on tables within databases.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Mar 2013 21:32:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lldb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124112</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2743] Enable SASL mode for HiveServer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2743</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12539654">HIVE-2743</key>
            <summary>Enable SASL mode for HiveServer</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jan 2012 19:25:32 +0000</created>
                <updated>Tue, 21 Feb 2012 17:21:46 +0000</updated>
                                                                            <component>Authentication</component>
                    <component>Security</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13192413" author="cwsteinbach" created="Tue, 24 Jan 2012 19:26:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-842&quot; title=&quot;Authentication Infrastructure for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-842&quot;&gt;&lt;del&gt;HIVE-842&lt;/del&gt;&lt;/a&gt; made it possible to run the MetaStoreServer in SASL mode. We need to enable the same mode for the HiveServer Thrift interface.&lt;/p&gt;</comment>
                            <comment id="13196621" author="enis" created="Tue, 31 Jan 2012 01:32:23 +0000"  >&lt;p&gt;Carl, will you work on this? &lt;/p&gt;</comment>
                            <comment id="13196627" author="cwsteinbach" created="Tue, 31 Jan 2012 01:38:48 +0000"  >&lt;p&gt;I&apos;m planning to work on it, but probably won&apos;t be able to start for a couple of weeks.&lt;/p&gt;</comment>
                            <comment id="13212749" author="cwsteinbach" created="Tue, 21 Feb 2012 17:21:46 +0000"  >&lt;p&gt;I&apos;m not going to have time to work on this as quickly as I expected. If someone else wants to pick this up that would be great.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12436081">HIVE-842</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12540473">HCATALOG-244</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 31 Jan 2012 01:32:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225156</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06anj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2744] Remove build dependency on Hadoop  tarballs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2744</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12539675">HIVE-2744</key>
            <summary>Remove build dependency on Hadoop  tarballs</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jan 2012 21:52:46 +0000</created>
                <updated>Wed, 25 Jan 2012 00:28:14 +0000</updated>
                            <resolved>Wed, 25 Jan 2012 00:28:14 +0000</resolved>
                                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13192582" author="cwsteinbach" created="Tue, 24 Jan 2012 21:54:04 +0000"  >&lt;p&gt;The Hive build currently satisfies its Hadoop dependencies by pulling down a complete Hadoop tarball. Instead, it should use Ivy to depend on individual Hadoop JAR artifacts.&lt;/p&gt;</comment>
                            <comment id="13192695" author="cwsteinbach" created="Wed, 25 Jan 2012 00:28:14 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12539676">HIVE-2745</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225178</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lldr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124114</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2745] Remove Hive&apos;s runtime dependency on bin/hadoop</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2745</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12539676">HIVE-2745</key>
            <summary>Remove Hive&apos;s runtime dependency on bin/hadoop</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jan 2012 21:55:07 +0000</created>
                <updated>Thu, 14 Jun 2012 19:06:01 +0000</updated>
                                                                            <component>Build Infrastructure</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13295244" author="kannakar@microsoft.com" created="Thu, 14 Jun 2012 19:06:01 +0000"  >&lt;p&gt;Is there any recommended way to implement this? &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12534814">HIVE-2646</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12539675">HIVE-2744</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Jun 2012 19:06:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225179</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48502</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2746] Metastore client doesn&apos;t log properly in case of connection failure to server</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2746</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;LOG.error(e.getStackTrace()) in current code prints memory location of StackTraceElement[] instead of message.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539686">HIVE-2746</key>
            <summary>Metastore client doesn&apos;t log properly in case of connection failure to server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jan 2012 22:49:36 +0000</created>
                <updated>Thu, 2 May 2013 02:29:48 +0000</updated>
                            <resolved>Thu, 26 Jan 2012 02:38:24 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13192638" author="phabricator@reviews.facebook.net" created="Tue, 24 Jan 2012 22:56:39 +0000"  >&lt;p&gt;ashutoshc requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2746&quot; title=&quot;Metastore client doesn&amp;#39;t log properly in case of connection failure to server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2746&quot;&gt;&lt;del&gt;HIVE-2746&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore client doesn&apos;t log properly in case of connection failure to server&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2746&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2746&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Corrected log message to print exception message instead of reference address.&lt;/p&gt;

&lt;p&gt;  LOG.error(e.getStackTrace()) in current code prints memory location of StackTraceElement[] instead of message.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1395&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1395&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2913/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2913/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13192750" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 01:12:39 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2746&quot; title=&quot;Metastore client doesn&amp;#39;t log properly in case of connection failure to server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2746&quot;&gt;&lt;del&gt;HIVE-2746&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore client doesn&apos;t log properly in case of connection failure to server&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java:292 Is there any point in trying to set the ugi if the connection failed? Maybe this should be raised directly from the catch block above?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1395&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1395&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13192758" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 01:22:39 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2746&quot; title=&quot;Metastore client doesn&amp;#39;t log properly in case of connection failure to server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2746&quot;&gt;&lt;del&gt;HIVE-2746&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore client doesn&apos;t log properly in case of connection failure to server&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java:292 No, in the catch block above exception is only logged, not thrown, because thats within a for loop of retries. Connection may succeed in a retry. We can&apos;t throw exception there.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1395&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1395&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13192771" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 01:36:45 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2746&quot; title=&quot;Metastore client doesn&amp;#39;t log properly in case of connection failure to server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2746&quot;&gt;&lt;del&gt;HIVE-2746&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore client doesn&apos;t log properly in case of connection failure to server&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java:292 Ok, but then shouldn&apos;t this block be moved above the preceding one where we try to set the ugi? If we&apos;re not connected won&apos;t the set_ugi operation fail anyway with a LoginException?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1395&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1395&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13192777" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 01:44:39 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2746&quot; title=&quot;Metastore client doesn&amp;#39;t log properly in case of connection failure to server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2746&quot;&gt;&lt;del&gt;HIVE-2746&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore client doesn&apos;t log properly in case of connection failure to server&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java:292 Ok, I think I&apos;m getting confused by the inconsistent indentation in this method (can you fix that?). It looks to me like the block of code that attempts to set the ugi should be taken out of the for-loop and moved below the !isConnected check. Does that make sense? Otherwise we&apos;re just polluting the log with noise every time a connection attempt fails.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1395&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1395&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13193169" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 18:18:39 +0000"  >&lt;p&gt;ashutoshc updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2746&quot; title=&quot;Metastore client doesn&amp;#39;t log properly in case of connection failure to server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2746&quot;&gt;&lt;del&gt;HIVE-2746&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore client doesn&apos;t log properly in case of connection failure to server&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Incorporated Carl&apos;s suggestions. Fixed indentation. Moved both setugi functionality as well as secure transport setup outside of for loop, since retrials are for transport.open() and that code doesn&apos;t belong in for loop.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1395&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1395&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/p&gt;</comment>
                            <comment id="13193441" author="ashutoshc" created="Wed, 25 Jan 2012 23:33:17 +0000"  >&lt;p&gt;All the tests passed with latest patch except for insert2_overwrite_partitions.q which seems unrelated to this patch and randomly fails on trunk.&lt;/p&gt;</comment>
                            <comment id="13193458" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 00:13:39 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2746&quot; title=&quot;Metastore client doesn&amp;#39;t log properly in case of connection failure to server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2746&quot;&gt;&lt;del&gt;HIVE-2746&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore client doesn&apos;t log properly in case of connection failure to server&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1395&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1395&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13193500" author="ashutoshc" created="Thu, 26 Jan 2012 01:18:43 +0000"  >&lt;p&gt;Patch with appropriate appropriate grant perms. Going to commit soon.&lt;/p&gt;</comment>
                            <comment id="13193528" author="ashutoshc" created="Thu, 26 Jan 2012 02:38:24 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13193621" author="hudson" created="Thu, 26 Jan 2012 07:34:58 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1221 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1221/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1221/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2746&quot; title=&quot;Metastore client doesn&amp;#39;t log properly in case of connection failure to server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2746&quot;&gt;&lt;del&gt;HIVE-2746&lt;/del&gt;&lt;/a&gt; : Metastore client doesn&apos;t log properly in case of connection failure to server (hashutosh)&lt;/p&gt;

&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236025&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236025&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265276" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:28 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548248" author="hudson" created="Wed, 9 Jan 2013 10:24:58 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2746&quot; title=&quot;Metastore client doesn&amp;#39;t log properly in case of connection failure to server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2746&quot;&gt;&lt;del&gt;HIVE-2746&lt;/del&gt;&lt;/a&gt; : Metastore client doesn&apos;t log properly in case of connection failure to server (hashutosh) (Revision 1236025)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236025&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236025&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12539700">HCATALOG-231</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12511748" name="ASF.LICENSE.NOT.GRANTED--HIVE-2746.D1395.1.patch" size="2197" author="phabricator@reviews.facebook.net" created="Tue, 24 Jan 2012 22:56:40 +0000"/>
                            <attachment id="12511859" name="ASF.LICENSE.NOT.GRANTED--HIVE-2746.D1395.2.patch" size="7945" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 18:18:40 +0000"/>
                            <attachment id="12511925" name="hive-2746.patch" size="7990" author="ashutoshc" created="Thu, 26 Jan 2012 01:18:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Jan 2012 22:56:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225189</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09z2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2747] UNION ALL with subquery which selects NULL and performs group by fails</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2747</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Queries like the following&lt;/p&gt;

&lt;p&gt;from (select key, value, count(1) as count from src group by key, value union all select NULL as key, value, count(1) as count from src group by value) a select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;;&lt;/p&gt;

&lt;p&gt;fail with the exception&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
  at org.apache.hadoop.hive.serde2.objectinspector.StructObjectInspector.toString(StructObjectInspector.java:60)&lt;br/&gt;
  at java.lang.String.valueOf(String.java:2826)&lt;br/&gt;
  at java.lang.StringBuilder.append(StringBuilder.java:115)&lt;br/&gt;
  at org.apache.hadoop.hive.ql.exec.UnionOperator.initializeOp(UnionOperator.java:110)&lt;br/&gt;
  at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)&lt;br/&gt;
  at org.apache.hadoop.hive.ql.exec.MapOperator.initializeOp(MapOperator.java:427)&lt;br/&gt;
  at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)&lt;br/&gt;
  at org.apache.hadoop.hive.ql.exec.ExecMapper.configure(ExecMapper.java:98)&lt;br/&gt;
  ... 18 more&lt;/p&gt;


&lt;p&gt;This should at least provide a more informative error message if not work.&lt;/p&gt;

&lt;p&gt;It works without the group by.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539728">HIVE-2747</key>
            <summary>UNION ALL with subquery which selects NULL and performs group by fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jan 2012 08:30:07 +0000</created>
                <updated>Wed, 23 Oct 2013 09:17:32 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13199099" author="namit" created="Thu, 2 Feb 2012 19:02:31 +0000"  >&lt;p&gt;create table tmp_tx1 (key string, value string);&lt;/p&gt;

&lt;p&gt;insert overwrite table tmp_tx1 select * from src where key &amp;lt; 10;&lt;/p&gt;

&lt;p&gt;create table tmp_tx2 (key int, value string);&lt;/p&gt;

&lt;p&gt;insert overwrite table tmp_tx2 select * from src where key &amp;lt; 10;&lt;/p&gt;

&lt;p&gt;select * from&lt;br/&gt;
(&lt;br/&gt;
  select key, count(1) from tmp_tx1 group by key&lt;br/&gt;
    union all&lt;br/&gt;
  select key, count(1) from tmp_tx2 group by key&lt;br/&gt;
)&lt;br/&gt;
u;&lt;/p&gt;


&lt;p&gt;The above also fails. Basically, if the types of the union dont match, we get a run-time error.&lt;/p&gt;


&lt;p&gt;The query:&lt;/p&gt;


&lt;p&gt;select * from&lt;br/&gt;
(&lt;br/&gt;
  select key, count(1) from tmp_tx1 group by key&lt;br/&gt;
    union all&lt;br/&gt;
  select cast(key as string) as key, count(1) from tmp_tx2 group by key&lt;br/&gt;
)&lt;br/&gt;
u;&lt;/p&gt;



&lt;p&gt;works fine&lt;/p&gt;</comment>
                            <comment id="13199153" author="kevinwilfong" created="Thu, 2 Feb 2012 19:56:02 +0000"  >&lt;p&gt;Namit, that looks like the issue in the JIRA&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2305&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2305&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13199166" author="namit" created="Thu, 2 Feb 2012 20:06:31 +0000"  >&lt;p&gt;Even a error message for now is fine.&lt;br/&gt;
The implicit type conversion can be done later.&lt;/p&gt;</comment>
                            <comment id="13802729" author="jeff_little" created="Wed, 23 Oct 2013 09:17:32 +0000"  >&lt;p&gt;Hi, Kevin Wilfong.&lt;br/&gt;
You can try the hql: &quot;from (select key, value, cast( count(1) as int) count from src group by key, value union all select NULL as key, value,cast( count(1) as int) count from src group by value) a select count;&quot;. You should modify the data type of &#8217;count&#8216;, otherwise the data type of  &apos;count&apos; in the  intermediate result  is void type, so it will cause &quot;java.lang.NullPointerException&quot;. In addition, if the hql sentences have union all operator, you should use &apos;AS&apos; as the column&apos;s alias.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Feb 2012 19:02:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lldz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124115</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2748] Upgrade Hbase and ZK dependcies</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2748</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Both softwares have moved forward with significant improvements. Lets bump compile time dependency to keep up&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539788">HIVE-2748</key>
            <summary>Upgrade Hbase and ZK dependcies</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jan 2012 17:17:29 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:59 +0000</updated>
                            <resolved>Thu, 15 Mar 2012 06:41:23 +0000</resolved>
                                    <version>0.7.0</version>
                    <version>0.7.1</version>
                    <version>0.8.0</version>
                    <version>0.8.1</version>
                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13193138" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 17:24:39 +0000"  >&lt;p&gt;ashutoshc requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2748&quot; title=&quot;Upgrade Hbase and ZK dependcies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2748&quot;&gt;&lt;del&gt;HIVE-2748&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Upgrade Hbase and ZK dependcies&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2748&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2748&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Update HBase to 0.92 and ZK to 3.4.2 no code change except for minor changes in test code.&lt;/p&gt;

&lt;p&gt;  Both softwares have moved forward with significant improvements. Lets bump compile time dependency to keep up&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1431&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1431&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/test/org/apache/hadoop/hive/hbase/HBaseTestSetup.java&lt;br/&gt;
  ivy/libraries.properties&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2967/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2967/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13193508" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 01:33:40 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2748&quot; title=&quot;Upgrade Hbase and ZK dependcies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2748&quot;&gt;&lt;del&gt;HIVE-2748&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Upgrade Hbase and ZK dependcies&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;  @Ashutosh: Can you test and commit?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1431&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1431&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13193524" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 02:25:40 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2748&quot; title=&quot;Upgrade Hbase and ZK dependcies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2748&quot;&gt;&lt;del&gt;HIVE-2748&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Upgrade Hbase and ZK dependcies&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ivy/libraries.properties:41 0.92.0 has been released. Let&apos;s use that instead of the SNAPSHOT.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1431&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1431&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13193526" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 02:31:40 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2748&quot; title=&quot;Upgrade Hbase and ZK dependcies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2748&quot;&gt;&lt;del&gt;HIVE-2748&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Upgrade Hbase and ZK dependcies&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ivy/libraries.properties:41 Yeah, thats what I intend to do. 0.92 is not available on mvn repos yet. As soon as its there, I will update the patch for it and then test.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1431&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1431&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13200593" author="phabricator@reviews.facebook.net" created="Sat, 4 Feb 2012 23:37:52 +0000"  >&lt;p&gt;stack has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2748&quot; title=&quot;Upgrade Hbase and ZK dependcies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2748&quot;&gt;&lt;del&gt;HIVE-2748&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Upgrade Hbase and ZK dependcies&quot;.&lt;/p&gt;

&lt;p&gt;  Looks good to me (0.92 does master name differently).&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1431&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1431&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13221266" author="gkesavan" created="Fri, 2 Mar 2012 21:11:51 +0000"  >&lt;p&gt;updating the patch so that it can apply cleanly on trunk&lt;/p&gt;</comment>
                            <comment id="13225016" author="alangates" created="Thu, 8 Mar 2012 05:53:00 +0000"  >&lt;p&gt;A version of the patch that uses the released 0.92.0 artifacts instead of SNAPSHOT artifacts.&lt;/p&gt;</comment>
                            <comment id="13226729" author="enis" created="Sat, 10 Mar 2012 02:43:57 +0000"  >&lt;p&gt;Attaching a patch with ZK updated to 3.4.3, and HBase 0.92.0 as in Alan&apos;s patch. Also adds a TokenStore.close() method, so that ZKTokenStore can properly close the client connection.&lt;/p&gt;

&lt;p&gt;Running the tests. &lt;/p&gt;</comment>
                            <comment id="13226808" author="ashutoshc" created="Sat, 10 Mar 2012 09:51:30 +0000"  >&lt;p&gt;Few comments:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;+hbase-test.version=0.92.0&lt;br/&gt;
Remove this. This variable is not used anywhere later. Test version to download is same as hbase.version&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Instead of&lt;br/&gt;
    hbaseConf.set(&quot;hbase.master&quot;, hbaseCluster.getMaster().toString());&lt;br/&gt;
Do:&lt;br/&gt;
   hbaseConf.set(&quot;hbase.master&quot;, hbaseCluster.getMaster().getServerName().getHostAndPort());&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;There might be one more runtime dependency to run HBase test which you should be able to catch while running tests.&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="13227970" author="enis" created="Mon, 12 Mar 2012 22:06:16 +0000"  >&lt;p&gt;Updated the patch with review comments. &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;update guava&apos;s version to r09.&lt;/li&gt;
	&lt;li&gt;add hbase client&apos;s dependencies.&lt;/li&gt;
	&lt;li&gt;HBase related tests runs fine.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13228099" author="ashutoshc" created="Tue, 13 Mar 2012 00:51:19 +0000"  >&lt;p&gt;Doesn&apos;t apply cleanly, patch needs a rebase.&lt;/p&gt;</comment>
                            <comment id="13228707" author="enis" created="Tue, 13 Mar 2012 21:06:34 +0000"  >&lt;p&gt;Attaching rebased patch. &lt;/p&gt;</comment>
                            <comment id="13228903" author="ashutoshc" created="Wed, 14 Mar 2012 02:40:26 +0000"  >&lt;p&gt;Unable to compile tests. Probably, ivysettings.xml is missing m2:classifier bit.&lt;/p&gt;</comment>
                            <comment id="13228905" author="enis" created="Wed, 14 Mar 2012 02:48:16 +0000"  >&lt;p&gt;Uploading another patch for fixing the maven pattern to add the classifier. &lt;/p&gt;</comment>
                            <comment id="13229007" author="ashutoshc" created="Wed, 14 Mar 2012 06:13:52 +0000"  >&lt;p&gt;TestHBaseSerDe fails with latest patch. Perhaps, jackson libs need to be upped to 1.7.1 as well.&lt;/p&gt;</comment>
                            <comment id="13229828" author="enis" created="Thu, 15 Mar 2012 01:49:47 +0000"  >&lt;p&gt;Fixed the Jackson issue caused by old jackson version from Hadoop not running with HBase&apos;s updated Jackson version. See &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7470&quot; title=&quot;move up to Jackson 1.8.8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7470&quot;&gt;&lt;del&gt;HADOOP-7470&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13229919" author="ashutoshc" created="Thu, 15 Mar 2012 05:46:23 +0000"  >&lt;p&gt;Patch looks good. Running tests.&lt;/p&gt;</comment>
                            <comment id="13229940" author="ashutoshc" created="Thu, 15 Mar 2012 06:41:23 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks, Enis for your persistence on this one.&lt;/p&gt;</comment>
                            <comment id="13230089" author="hudson" created="Thu, 15 Mar 2012 11:55:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1310 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1310/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1310/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2748&quot; title=&quot;Upgrade Hbase and ZK dependcies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2748&quot;&gt;&lt;del&gt;HIVE-2748&lt;/del&gt;&lt;/a&gt;: Upgrade Hbase and ZK dependcies (enis via hashutosh) (Revision 1300818)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1300818&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1300818&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/org/apache/hadoop/hive/hbase/HBaseTestSetup.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13230577" author="alangates" created="Thu, 15 Mar 2012 21:29:40 +0000"  >&lt;p&gt;Version of patch 3 that uses 92.1-SNAPSHOT instead to deal with maven download issues.&lt;/p&gt;</comment>
                            <comment id="13265302" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:38 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548251" author="hudson" created="Wed, 9 Jan 2013 10:24:59 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2748&quot; title=&quot;Upgrade Hbase and ZK dependcies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2748&quot;&gt;&lt;del&gt;HIVE-2748&lt;/del&gt;&lt;/a&gt;: Upgrade Hbase and ZK dependcies (enis via hashutosh) (Revision 1300818)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1300818&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1300818&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/org/apache/hadoop/hive/hbase/HBaseTestSetup.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12540479">HIVE-2764</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12502440">HIVE-2077</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12511856" name="ASF.LICENSE.NOT.GRANTED--HIVE-2748.D1431.1.patch" size="2291" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 17:24:40 +0000"/>
                            <attachment id="12518543" name="HIVE-2748.3-1.patch" size="2505" author="alangates" created="Thu, 15 Mar 2012 21:29:40 +0000"/>
                            <attachment id="12517526" name="HIVE-2748.3.patch" size="2487" author="alangates" created="Thu, 8 Mar 2012 05:53:00 +0000"/>
                            <attachment id="12516886" name="HIVE-2748.D1431.2.patch" size="2361" author="gkesavan" created="Fri, 2 Mar 2012 21:11:51 +0000"/>
                            <attachment id="12517834" name="HIVE-2748_v4.patch" size="8359" author="enis" created="Sat, 10 Mar 2012 02:43:57 +0000"/>
                            <attachment id="12518102" name="HIVE-2748_v5.patch" size="9524" author="enis" created="Mon, 12 Mar 2012 22:06:16 +0000"/>
                            <attachment id="12518246" name="HIVE-2748_v6.patch" size="8793" author="enis" created="Tue, 13 Mar 2012 21:06:34 +0000"/>
                            <attachment id="12518285" name="HIVE-2748_v7.patch" size="9633" author="enis" created="Wed, 14 Mar 2012 02:48:16 +0000"/>
                            <attachment id="12518410" name="HIVE-2748_v8.patch" size="10963" author="enis" created="Thu, 15 Mar 2012 01:49:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Jan 2012 17:24:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225291</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09yon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56060</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2749] CONV returns incorrect results sometimes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2749</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;...because it fails to reset state.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539838">HIVE-2749</key>
            <summary>CONV returns incorrect results sometimes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jonchang">Jonathan Chang</assignee>
                                    <reporter username="jonchang">Jonathan Chang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jan 2012 22:44:10 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:59 +0000</updated>
                            <resolved>Thu, 9 Feb 2012 05:46:31 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13193427" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 23:06:39 +0000"  >&lt;p&gt;jonchang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2749&quot; title=&quot;CONV returns incorrect results sometimes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2749&quot;&gt;&lt;del&gt;HIVE-2749&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; CONV returns incorrect results sometimes&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2749&quot; title=&quot;CONV returns incorrect results sometimes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2749&quot;&gt;&lt;del&gt;HIVE-2749&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  ...because it fails to reset state.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1437&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1437&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFConv.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_conv.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_conv.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2985/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2985/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13193429" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 23:08:39 +0000"  >&lt;p&gt;jonchang updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2749&quot; title=&quot;CONV returns incorrect results sometimes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2749&quot;&gt;&lt;del&gt;HIVE-2749&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; CONV returns incorrect results sometimes&quot;.&lt;br/&gt;
Reviewers: JIRA, jsichi, njain, nzhang, raghotham&lt;/p&gt;

&lt;p&gt;  Fix docs.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1437&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1437&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFConv.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_conv.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_conv.q.out&lt;/p&gt;</comment>
                            <comment id="13196426" author="cwsteinbach" created="Mon, 30 Jan 2012 21:20:31 +0000"  >&lt;p&gt;Is this ready for review?&lt;/p&gt;</comment>
                            <comment id="13196446" author="jonchang" created="Mon, 30 Jan 2012 21:37:47 +0000"  >&lt;p&gt;Yep!&lt;/p&gt;</comment>
                            <comment id="13196528" author="cwsteinbach" created="Mon, 30 Jan 2012 23:15:45 +0000"  >&lt;p&gt;Great! Can you change the status to &quot;Patch Available&quot;?&lt;/p&gt;</comment>
                            <comment id="13196549" author="jonchang" created="Mon, 30 Jan 2012 23:45:28 +0000"  >&lt;p&gt;Oh sorry, I thought that was only for when the final patch gets approved.  Lemme change all my other JIRAs.&lt;/p&gt;</comment>
                            <comment id="13203172" author="phabricator@reviews.facebook.net" created="Wed, 8 Feb 2012 02:26:58 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2749&quot; title=&quot;CONV returns incorrect results sometimes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2749&quot;&gt;&lt;del&gt;HIVE-2749&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; CONV returns incorrect results sometimes&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1437&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1437&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13204282" author="namit" created="Thu, 9 Feb 2012 05:46:31 +0000"  >&lt;p&gt;Committed. Thanks Jonathan&lt;/p&gt;</comment>
                            <comment id="13204428" author="hudson" created="Thu, 9 Feb 2012 10:30:09 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1250 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1250/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1250/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2749&quot; title=&quot;CONV returns incorrect results sometimes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2749&quot;&gt;&lt;del&gt;HIVE-2749&lt;/del&gt;&lt;/a&gt; CONV returns incorrect results sometimes&lt;br/&gt;
(Jonathan Chang via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1242222&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1242222&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFConv.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_conv.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_conv.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265289" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:31 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548252" author="hudson" created="Wed, 9 Jan 2013 10:24:59 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2749&quot; title=&quot;CONV returns incorrect results sometimes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2749&quot;&gt;&lt;del&gt;HIVE-2749&lt;/del&gt;&lt;/a&gt; CONV returns incorrect results sometimes&lt;br/&gt;
(Jonathan Chang via namit) (Revision 1242222)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1242222&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1242222&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFConv.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_conv.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_conv.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12511908" name="ASF.LICENSE.NOT.GRANTED--HIVE-2749.D1437.1.patch" size="3793" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 23:06:40 +0000"/>
                            <attachment id="12511909" name="ASF.LICENSE.NOT.GRANTED--HIVE-2749.D1437.2.patch" size="3876" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 23:08:40 +0000"/>
                            <attachment id="12513753" name="HIVE-2749.D1437.2.patch" size="3876" author="jonchang" created="Wed, 8 Feb 2012 02:56:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Jan 2012 23:06:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225341</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lle7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124116</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2750] Hive multi group by single reducer optimization causes invalid column reference error</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2750</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;After the optimization, if two query blocks have the same distinct clause and the same group by keys, but the first query block does not reference all the rows the second query block does, an invalid column reference error is raised for the columns unreferenced in the first query block.&lt;/p&gt;

&lt;p&gt;E.g.&lt;br/&gt;
FROM src&lt;br/&gt;
INSERT OVERWRITE TABLE dest_g2 SELECT substr(src.key,1,1), count(DISTINCT src.key) WHERE substr(src.key,1,1) &amp;gt;= 5 GROUP BY substr(src.key,1,1)&lt;br/&gt;
INSERT OVERWRITE TABLE dest_g3 SELECT substr(src.key,1,1), count(DISTINCT src.key), count(src.value) WHERE substr(src.key,1,1) &amp;lt; 5 GROUP BY substr(src.key,1,1);&lt;/p&gt;

&lt;p&gt;This results in an invalid column reference error on src.value&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539853">HIVE-2750</key>
            <summary>Hive multi group by single reducer optimization causes invalid column reference error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2012 02:09:07 +0000</created>
                <updated>Tue, 18 Oct 2016 22:42:10 +0000</updated>
                            <resolved>Mon, 30 Jan 2012 09:53:09 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13193529" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 02:43:39 +0000"  >&lt;p&gt;kevinwilfong requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2750&quot; title=&quot;Hive multi group by single reducer optimization causes invalid column reference error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2750&quot;&gt;&lt;del&gt;HIVE-2750&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive multi group by single reducer optimization causes invalid column reference error&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  When generating the list of value columns for the reduce sink operator, in the case of multiple group bys occurring in the same reducer, only the columns used by the first query block was being considered, due to a typo.  This patch fixes this typo, and adds a testcase to ensure the error does not reoccur.&lt;/p&gt;

&lt;p&gt;  After the optimization, if two query blocks have the same distinct clause and the same group by keys, but the first query block does not reference all the rows the second query block does, an invalid column reference error is raised for the columns unreferenced in the first query block.&lt;/p&gt;

&lt;p&gt;  E.g.&lt;br/&gt;
  FROM src&lt;br/&gt;
  INSERT OVERWRITE TABLE dest_g2 SELECT substr(src.key,1,1), count(DISTINCT src.key) WHERE substr(src.key,1,1) &amp;gt;= 5 GROUP BY substr(src.key,1,1)&lt;br/&gt;
  INSERT OVERWRITE TABLE dest_g3 SELECT substr(src.key,1,1), count(DISTINCT src.key), count(src.value) WHERE substr(src.key,1,1) &amp;lt; 5 GROUP BY substr(src.key,1,1);&lt;/p&gt;

&lt;p&gt;  This results in an invalid column reference error on src.value&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1455&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1455&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_multi_single_reducer2.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_multi_single_reducer2.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3015/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3015/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13193555" author="namit" created="Thu, 26 Jan 2012 05:20:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13193949" author="hudson" created="Thu, 26 Jan 2012 16:33:43 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1222 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1222/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1222/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2750&quot; title=&quot;Hive multi group by single reducer optimization causes invalid column reference error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2750&quot;&gt;&lt;del&gt;HIVE-2750&lt;/del&gt;&lt;/a&gt; Hive multi group by single reducer optimization causes invalid column&lt;br/&gt;
reference error (Kevin Wilfong via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236150&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236150&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_multi_single_reducer2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_multi_single_reducer2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13196012" author="amareshwari" created="Mon, 30 Jan 2012 09:53:09 +0000"  >&lt;p&gt;Seems the issue missed resolution. Resolving.&lt;/p&gt;</comment>
                            <comment id="13265306" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:39 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548244" author="hudson" created="Wed, 9 Jan 2013 10:24:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2750&quot; title=&quot;Hive multi group by single reducer optimization causes invalid column reference error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2750&quot;&gt;&lt;del&gt;HIVE-2750&lt;/del&gt;&lt;/a&gt; Hive multi group by single reducer optimization causes invalid column&lt;br/&gt;
reference error (Kevin Wilfong via namit) (Revision 1236150)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236150&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236150&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_multi_single_reducer2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_multi_single_reducer2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15014110" author="jpetrakis" created="Thu, 19 Nov 2015 18:35:58 +0000"  >&lt;p&gt;Unless we turn off group-by optimization, the query as described in Jira 12412, which worked fine in Hive 1.0 fails in Hive 1.1 and later.&lt;/p&gt;</comment>
                            <comment id="15014115" author="jpetrakis" created="Thu, 19 Nov 2015 18:37:40 +0000"  >&lt;p&gt;Sorry... wrong link.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310361">
                    <name>Blocked</name>
                                                                <inwardlinks description="Blocked">
                                        <issuelink>
            <issuekey id="12913005">HIVE-12412</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12511935" name="ASF.LICENSE.NOT.GRANTED--HIVE-2750.D1455.1.patch" size="13170" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 02:43:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Jan 2012 02:43:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2751] Hive needs a framework for end to end testing</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2751</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive tests do a really nice work, but it would be nice to have end to end tests like in Pig: &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1899&quot; title=&quot;Pig needs a tool for doing end to end testing efficiently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1899&quot;&gt;&lt;del&gt;PIG-1899&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Implementing an end to end testing framework can offer the possibility for Hive developers to verify the functionality at scale. Users could use this testing framework in continuous integration environments (Jenkins) before deploying Hive into production environments.&lt;/p&gt;

&lt;p&gt;Some of the required changes are:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Building a test data generator&lt;/li&gt;
	&lt;li&gt;Modifying the existing tests so they can be run in a real cluster.&lt;/li&gt;
&lt;/ul&gt;




</description>
                <environment></environment>
        <key id="12539863">HIVE-2751</key>
            <summary>Hive needs a framework for end to end testing</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="esteban">Esteban Gutierrez</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2012 05:42:23 +0000</created>
                <updated>Mon, 21 Jul 2014 22:14:31 +0000</updated>
                            <resolved>Mon, 21 Jul 2014 22:14:31 +0000</resolved>
                                    <version>0.8.0</version>
                                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13193587" author="ashutoshc" created="Thu, 26 Jan 2012 06:18:15 +0000"  >&lt;p&gt;Take a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2670&quot; title=&quot;A cluster test utility for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2670&quot;&gt;&lt;del&gt;HIVE-2670&lt;/del&gt;&lt;/a&gt; Is it similar to what you have in mind or different? &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12536063">HIVE-2670</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Jan 2012 06:18:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124118</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2752] Index names are case sensitive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2752</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following script:&lt;/p&gt;

&lt;p&gt;DROP TABLE IF EXISTS TestTable;&lt;/p&gt;

&lt;p&gt;CREATE TABLE TestTable (a INT);&lt;/p&gt;

&lt;p&gt;DROP INDEX IF EXISTS TestTableA_IDX ON TestTable;&lt;/p&gt;

&lt;p&gt;CREATE INDEX TestTableA_IDX ON TABLE TestTable (a) AS &apos;org.apache.hadoop.hive.ql.index.compact.CompactIndexHandler&apos; WITH DEFERRED REBUILD;&lt;/p&gt;

&lt;p&gt;ALTER INDEX TestTableA_IDX ON TestTable REBUILD;&lt;/p&gt;

&lt;p&gt;results in the following exception:&lt;/p&gt;

&lt;p&gt;MetaException(message:index testtablea_idx doesn&apos;t exist)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.ObjectStore.alterIndex(ObjectStore.java:1880)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler$30.run(HiveMetaStore.java:1930)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler$30.run(HiveMetaStore.java:1927)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.executeWithRetry(HiveMetaStore.java:356)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.alter_index(HiveMetaStore.java:1927)&lt;br/&gt;
	at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.alter_index(HiveMetaStoreClient.java:868)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.alterIndex(Hive.java:398)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.DDLTask.alterIndex(DDLTask.java:902)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.DDLTask.execute(DDLTask.java:236)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:134)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1332)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1123)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:931)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:338)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processReader(CliDriver.java:436)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processFile(CliDriver.java:446)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:642)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;/p&gt;

&lt;p&gt;When you execute: &quot;SHOW INDEXES ON TestTable;&quot;, you get:&lt;/p&gt;

&lt;p&gt;TestTableA_IDX      	testtable           	a                   	default_&lt;em&gt;testtable_testtablea_idx&lt;/em&gt;_	compact&lt;/p&gt;

&lt;p&gt;so it looks like things don&apos;t get lower cased when they go into the metastore, but they do when the rebuild op is trying to execute.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539890">HIVE-2752</key>
            <summary>Index names are case sensitive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="philip.tromans">Philip Tromans</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2012 11:29:45 +0000</created>
                <updated>Sat, 29 Mar 2014 06:10:34 +0000</updated>
                            <resolved>Thu, 27 Mar 2014 15:31:25 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Indexing</component>
                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="13193758" author="philip.tromans" created="Thu, 26 Jan 2012 11:30:15 +0000"  >&lt;p&gt;I can probably fix this, but I haven&apos;t really poked round the code. Feel free to assign to me.&lt;/p&gt;</comment>
                            <comment id="13193956" author="ashutoshc" created="Thu, 26 Jan 2012 16:46:44 +0000"  >&lt;p&gt;Philip,&lt;br/&gt;
I have added you to a list of contributors. So, if you plan to work on this, feel free to assign to yourself. Click on &lt;tt&gt;Assign&lt;/tt&gt; tab at the top on this page and you will see your name in drop-down menu.&lt;/p&gt;</comment>
                            <comment id="13870594" author="lefty@hortonworks.com" created="Tue, 14 Jan 2014 10:06:46 +0000"  >&lt;p&gt;I noted case-sensitivity in the wiki and linked to this ticket.  When the patch is committed, the wiki will need to be updated with version information.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Create/Drop/AlterIndex&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Create/Drop/Alter Index &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Indexing#LanguageManualIndexing-SimpleExamples&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Indexing &amp;#8211; Simple Examples &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13947561" author="alangates" created="Wed, 26 Mar 2014 05:22:35 +0000"  >&lt;p&gt;I ran the tests locally and all passed.&lt;/p&gt;</comment>
                            <comment id="13948227" author="rhbutani" created="Wed, 26 Mar 2014 18:00:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13949448" author="rhbutani" created="Thu, 27 Mar 2014 15:31:25 +0000"  >&lt;p&gt;Committed to trunk and 0.13&lt;/p&gt;</comment>
                            <comment id="13951781" author="lefty@hortonworks.com" created="Sat, 29 Mar 2014 06:10:34 +0000"  >&lt;p&gt;Updated in two wikidocs:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;In Hive 0.12.0 and earlier releases, the index name is case-sensitive for CREATE INDEX and DROP INDEX statements. However, ALTER INDEX requires an index name that was created with lowercase letters (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2752&quot; title=&quot;Index names are case sensitive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2752&quot;&gt;&lt;del&gt;HIVE-2752&lt;/del&gt;&lt;/a&gt;). This bug is fixed in Hive 0.13.0&#65279; by making index names case-insensitive for all HiveQL statements. For releases prior to 0.13.0, the best practice is to use lowercase letters for all index names.&lt;/p&gt;&lt;/blockquote&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Create/Drop/AlterIndex&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL:  Create/Drop/AlterIndex &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Indexing#LanguageManualIndexing-SimpleExamples&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Indexing:  Simple Examples &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</comment>
                    </comments>
                    <attachments>
                            <attachment id="12622813" name="HIVE-2752.1.patch.txt" size="7017" author="navis" created="Tue, 14 Jan 2014 08:09:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Jan 2012 16:46:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010a7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2753] Remove empty java files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2753</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When looking at the 0.8.1 rc1, I discovered there were a set of empty Java files that were likely left over from using &apos;patch&apos; without the -E.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcSessionState.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeIndexEvaluator.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinObject.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/PathUtil.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/TypedBytesRecordReader.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/plan/AlterPartitionProtectModeDesc.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/plan/TouchDesc.java&lt;br/&gt;
ql/src/test/org/apache/hadoop/hive/ql/plan/TestAddPartition.java&lt;br/&gt;
serde/src/gen-java/org/apache/hadoop/hive/serde/test/Constants.java&lt;br/&gt;
shims/src/0.20/java/org/apache/hadoop/fs/ProxyFileSystem.java&lt;br/&gt;
shims/src/0.20/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12539932">HIVE-2753</key>
            <summary>Remove empty java files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="owen.omalley">Owen O&apos;Malley</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2012 17:24:51 +0000</created>
                <updated>Wed, 9 Jan 2013 10:25:06 +0000</updated>
                            <resolved>Tue, 14 Feb 2012 02:17:38 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13194004" author="owen.omalley" created="Thu, 26 Jan 2012 17:27:13 +0000"  >&lt;p&gt;Here&apos;s the obvious patch. I&apos;m running tests, but I can&apos;t imagine this breaks anything.&lt;/p&gt;</comment>
                            <comment id="13196428" author="cwsteinbach" created="Mon, 30 Jan 2012 21:22:17 +0000"  >&lt;p&gt;@Owen: Can you try submitting this patch with arc? It would be good to see if arc handles deleted files properly. Thanks.&lt;/p&gt;</comment>
                            <comment id="13201861" author="owen.omalley" created="Tue, 7 Feb 2012 00:16:49 +0000"  >&lt;p&gt;The unit tests run fine as expected.&lt;/p&gt;</comment>
                            <comment id="13201890" author="owen.omalley" created="Tue, 7 Feb 2012 00:45:43 +0000"  >&lt;p&gt;@Carl what is arc?&lt;/p&gt;</comment>
                            <comment id="13202054" author="phabricator@reviews.facebook.net" created="Tue, 7 Feb 2012 03:52:59 +0000"  >&lt;p&gt;omalley requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2753&quot; title=&quot;Remove empty java files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2753&quot;&gt;&lt;del&gt;HIVE-2753&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Remove empty java files&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  remove dead java files&lt;/p&gt;

&lt;p&gt;  When looking at the 0.8.1 rc1, I discovered there were a set of empty Java files that were likely left over from using &apos;patch&apos; without the -E.&lt;/p&gt;

&lt;p&gt;  jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcSessionState.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeIndexEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinObject.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/PathUtil.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/TypedBytesRecordReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/AlterPartitionProtectModeDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/TouchDesc.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/plan/TestAddPartition.java&lt;br/&gt;
  serde/src/gen-java/org/apache/hadoop/hive/serde/test/Constants.java&lt;br/&gt;
  shims/src/0.20/java/org/apache/hadoop/fs/ProxyFileSystem.java&lt;br/&gt;
  shims/src/0.20/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1611&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1611&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcSessionState.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeIndexEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinObject.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/PathUtil.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/TypedBytesRecordReader.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/AlterPartitionProtectModeDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/TouchDesc.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/plan/TestAddPartition.java&lt;br/&gt;
  serde/src/gen-java/org/apache/hadoop/hive/serde/test/Constants.java&lt;br/&gt;
  shims/src/0.20/java/org/apache/hadoop/fs/ProxyFileSystem.java&lt;br/&gt;
  shims/src/0.20/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3435/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3435/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13207426" author="ashutoshc" created="Tue, 14 Feb 2012 01:13:11 +0000"  >&lt;p&gt;@Carl,&lt;/p&gt;

&lt;p&gt;Would you like to give this a try with arc?&lt;/p&gt;</comment>
                            <comment id="13207456" author="phabricator@reviews.facebook.net" created="Tue, 14 Feb 2012 02:16:57 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2753&quot; title=&quot;Remove empty java files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2753&quot;&gt;&lt;del&gt;HIVE-2753&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Remove empty java files&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1611&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1611&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13207457" author="cwsteinbach" created="Tue, 14 Feb 2012 02:17:38 +0000"  >&lt;p&gt;Committed to trunk. Thanks Owen!&lt;/p&gt;</comment>
                            <comment id="13207557" author="hudson" created="Tue, 14 Feb 2012 07:25:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1257 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1257/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1257/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2753&quot; title=&quot;Remove empty java files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2753&quot;&gt;&lt;del&gt;HIVE-2753&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Remove empty java files&lt;br/&gt;
(Owen O&apos;Malley via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
remove dead java files&lt;/p&gt;

&lt;p&gt;When looking at the 0.8.1 rc1, I discovered there were a set of empty Java files&lt;br/&gt;
that were likely left over from using &apos;patch&apos; without the -E.&lt;/p&gt;

&lt;p&gt;jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcSessionState.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeIndexEvaluator.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinObject.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/PathUtil.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/TypedBytesRecordReader.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/plan/AlterPartitionProtectModeDesc.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/plan/TouchDesc.java&lt;br/&gt;
ql/src/test/org/apache/hadoop/hive/ql/plan/TestAddPartition.java&lt;br/&gt;
serde/src/gen-java/org/apache/hadoop/hive/serde/test/Constants.java&lt;br/&gt;
shims/src/0.20/java/org/apache/hadoop/fs/ProxyFileSystem.java&lt;br/&gt;
shims/src/0.20/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;CC: cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1611&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1611&lt;/a&gt; (Revision 1243762)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1243762&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1243762&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcSessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeIndexEvaluator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/PathUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/TypedBytesRecordReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterPartitionProtectModeDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TouchDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/plan/TestAddPartition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen-java/org/apache/hadoop/hive/serde/test/Constants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/fs/ProxyFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13209158" author="phabricator@reviews.facebook.net" created="Thu, 16 Feb 2012 06:52:59 +0000"  >&lt;p&gt;omalley has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2753&quot; title=&quot;Remove empty java files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2753&quot;&gt;&lt;del&gt;HIVE-2753&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Remove empty java files&quot;.&lt;/p&gt;

&lt;p&gt;  Change committed by cws.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1611&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1611&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1243762&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1243762&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13265247" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:19 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548279" author="hudson" created="Wed, 9 Jan 2013 10:25:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2753&quot; title=&quot;Remove empty java files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2753&quot;&gt;&lt;del&gt;HIVE-2753&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Remove empty java files&lt;br/&gt;
(Owen O&apos;Malley via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
remove dead java files&lt;/p&gt;

&lt;p&gt;When looking at the 0.8.1 rc1, I discovered there were a set of empty Java files&lt;br/&gt;
that were likely left over from using &apos;patch&apos; without the -E.&lt;/p&gt;

&lt;p&gt;jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcSessionState.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeIndexEvaluator.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinObject.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/PathUtil.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/exec/TypedBytesRecordReader.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/plan/AlterPartitionProtectModeDesc.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/plan/TouchDesc.java&lt;br/&gt;
ql/src/test/org/apache/hadoop/hive/ql/plan/TestAddPartition.java&lt;br/&gt;
serde/src/gen-java/org/apache/hadoop/hive/serde/test/Constants.java&lt;br/&gt;
shims/src/0.20/java/org/apache/hadoop/fs/ProxyFileSystem.java&lt;br/&gt;
shims/src/0.20/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;CC: cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1611&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1611&lt;/a&gt; (Revision 1243762)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1243762&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1243762&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcSessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeIndexEvaluator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/PathUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/TypedBytesRecordReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterPartitionProtectModeDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TouchDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/plan/TestAddPartition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen-java/org/apache/hadoop/hive/serde/test/Constants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/fs/ProxyFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12513565" name="ASF.LICENSE.NOT.GRANTED--HIVE-2753.D1611.1.patch" size="2480" author="phabricator@reviews.facebook.net" created="Tue, 7 Feb 2012 03:53:03 +0000"/>
                            <attachment id="12512009" name="h-2753.patch" size="2095" author="owen.omalley" created="Thu, 26 Jan 2012 17:27:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Jan 2012 21:22:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225435</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09yz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2754] NPE in union with lateral view</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2754</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12539954">HIVE-2754</key>
            <summary>NPE in union with lateral view</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2012 19:20:33 +0000</created>
                <updated>Wed, 9 Jan 2013 10:25:07 +0000</updated>
                            <resolved>Fri, 27 Jan 2012 01:05:42 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13194101" author="he yongqiang" created="Thu, 26 Jan 2012 19:22:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D1467&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1467&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13194104" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 19:23:40 +0000"  >&lt;p&gt;heyongqiang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2754&quot; title=&quot;NPE in union with lateral view&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2754&quot;&gt;&lt;del&gt;HIVE-2754&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; NPE in union with lateral view&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2754&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2754&lt;/a&gt;&lt;/p&gt;





&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1467&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1467&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/union_lateralview.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_lateralview.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRRedSink3.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3057/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3057/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13194121" author="namit" created="Thu, 26 Jan 2012 19:36:53 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="13194336" author="namit" created="Fri, 27 Jan 2012 01:05:42 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                            <comment id="13194504" author="hudson" created="Fri, 27 Jan 2012 06:05:18 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1224 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1224/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1224/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2754&quot; title=&quot;NPE in union with lateral view&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2754&quot;&gt;&lt;del&gt;HIVE-2754&lt;/del&gt;&lt;/a&gt; NPE in union with lateral view&lt;br/&gt;
(Yongqiang He via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236479&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236479&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRRedSink3.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union_lateralview.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_lateralview.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265329" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:44 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548280" author="hudson" created="Wed, 9 Jan 2013 10:25:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2754&quot; title=&quot;NPE in union with lateral view&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2754&quot;&gt;&lt;del&gt;HIVE-2754&lt;/del&gt;&lt;/a&gt; NPE in union with lateral view&lt;br/&gt;
(Yongqiang He via namit) (Revision 1236479)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236479&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236479&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRRedSink3.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union_lateralview.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_lateralview.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12512022" name="ASF.LICENSE.NOT.GRANTED--HIVE-2754.D1467.1.patch" size="16546" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 19:23:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Jan 2012 19:23:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225457</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124119</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2755] union follwowed by union_subq does not work if the subquery union has reducers</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2755</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12539976">HIVE-2755</key>
            <summary>union follwowed by union_subq does not work if the subquery union has reducers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2012 23:30:44 +0000</created>
                <updated>Wed, 9 Jan 2013 10:25:05 +0000</updated>
                            <resolved>Sun, 29 Jan 2012 11:47:56 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13194275" author="he yongqiang" created="Thu, 26 Jan 2012 23:32:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D1479&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1479&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13194276" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 23:33:40 +0000"  >&lt;p&gt;heyongqiang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2755&quot; title=&quot;union follwowed by union_subq does not work if the subquery union has reducers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2755&quot;&gt;&lt;del&gt;HIVE-2755&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; union follwowed by union_subq does not work if the subquery union has reducers&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2755&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2755&lt;/a&gt;&lt;/p&gt;





&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1479&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1479&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/union28.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union28.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3069/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3069/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13194383" author="phabricator@reviews.facebook.net" created="Fri, 27 Jan 2012 02:55:39 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2755&quot; title=&quot;union follwowed by union_subq does not work if the subquery union has reducers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2755&quot;&gt;&lt;del&gt;HIVE-2755&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; union follwowed by union_subq does not work if the subquery union has reducers&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java:149 There seems to be a bug here.&lt;br/&gt;
  Shouldn&apos;t you be looking at stack.get(start)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1479&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1479&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13194461" author="phabricator@reviews.facebook.net" created="Fri, 27 Jan 2012 05:13:40 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2755&quot; title=&quot;union follwowed by union_subq does not work if the subquery union has reducers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2755&quot;&gt;&lt;del&gt;HIVE-2755&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; union follwowed by union_subq does not work if the subquery union has reducers&quot;.&lt;/p&gt;

&lt;p&gt;  Also can you add a new test to verify this ?&lt;/p&gt;

&lt;p&gt;  select ... T&lt;br/&gt;
  union all&lt;br/&gt;
  (select .. T1&lt;br/&gt;
    union all&lt;br/&gt;
   select .. T2)s;&lt;/p&gt;


&lt;p&gt;  Basically, a map-only union followed by another union&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1479&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1479&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13195377" author="phabricator@reviews.facebook.net" created="Sat, 28 Jan 2012 02:55:09 +0000"  >&lt;p&gt;heyongqiang updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2755&quot; title=&quot;union follwowed by union_subq does not work if the subquery union has reducers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2755&quot;&gt;&lt;del&gt;HIVE-2755&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; union follwowed by union_subq does not work if the subquery union has reducers&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  address namit&apos;s comments&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1479&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1479&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/union28.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union29.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union30.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union30.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union28.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union29.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java&lt;/p&gt;</comment>
                            <comment id="13195639" author="phabricator@reviews.facebook.net" created="Sat, 28 Jan 2012 23:10:09 +0000"  >&lt;p&gt;heyongqiang updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2755&quot; title=&quot;union follwowed by union_subq does not work if the subquery union has reducers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2755&quot;&gt;&lt;del&gt;HIVE-2755&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; union follwowed by union_subq does not work if the subquery union has reducers&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  fix one failing test create_view.q&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1479&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1479&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/union28.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union29.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union30.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union30.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union28.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union29.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java&lt;/p&gt;</comment>
                            <comment id="13195734" author="namit" created="Sun, 29 Jan 2012 11:47:56 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                            <comment id="13195779" author="hudson" created="Sun, 29 Jan 2012 16:13:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1227 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1227/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1227/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2755&quot; title=&quot;union follwowed by union_subq does not work if the subquery union has reducers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2755&quot;&gt;&lt;del&gt;HIVE-2755&lt;/del&gt;&lt;/a&gt; union follwowed by union_subq does not work if the subquery union&lt;br/&gt;
has reducers (He Yongqiang via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237253&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237253&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union28.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union29.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union30.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union28.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union29.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union30.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265363" author="ashutoshc" created="Mon, 30 Apr 2012 21:12:02 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548277" author="hudson" created="Wed, 9 Jan 2013 10:25:05 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2755&quot; title=&quot;union follwowed by union_subq does not work if the subquery union has reducers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2755&quot;&gt;&lt;del&gt;HIVE-2755&lt;/del&gt;&lt;/a&gt; union follwowed by union_subq does not work if the subquery union&lt;br/&gt;
has reducers (He Yongqiang via namit) (Revision 1237253)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237253&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237253&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union28.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union29.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union30.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union28.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union29.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union30.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12512053" name="ASF.LICENSE.NOT.GRANTED--HIVE-2755.D1479.1.patch" size="16916" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 23:33:41 +0000"/>
                            <attachment id="12512278" name="ASF.LICENSE.NOT.GRANTED--HIVE-2755.D1479.2.patch" size="51062" author="phabricator@reviews.facebook.net" created="Sat, 28 Jan 2012 02:55:10 +0000"/>
                            <attachment id="12512338" name="ASF.LICENSE.NOT.GRANTED--HIVE-2755.D1479.3.patch" size="51247" author="phabricator@reviews.facebook.net" created="Sat, 28 Jan 2012 23:10:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Jan 2012 23:33:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225479</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2756] Views should be added to the inputs of queries.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2756</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Views, in addition to the underlying tables, should be included in the inputs of a command which queries a view.&lt;/p&gt;

&lt;p&gt;This is useful when we want to know exactly what inputs need to be present in order to run the query run by a user.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539985">HIVE-2756</key>
            <summary>Views should be added to the inputs of queries.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jan 2012 00:30:08 +0000</created>
                <updated>Wed, 9 Jan 2013 10:25:06 +0000</updated>
                            <resolved>Fri, 3 Feb 2012 06:17:47 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Views</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13199045" author="phabricator@reviews.facebook.net" created="Thu, 2 Feb 2012 18:12:52 +0000"  >&lt;p&gt;kevinwilfong requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2756&quot; title=&quot;Views should be added to the inputs of queries.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2756&quot;&gt;&lt;del&gt;HIVE-2756&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Views should be added to the inputs of queries.&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2756&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2756&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Add the view to the inputs right before it is replaced by its underlying query in the SemanticAnalyzer.&lt;/p&gt;

&lt;p&gt;  Views, in addition to the underlying tables, should be included in the inputs of a command which queries a view.&lt;/p&gt;

&lt;p&gt;  This is useful when we want to know exactly what inputs need to be present in order to run the query run by a user.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1575&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1575&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientnegative/create_or_replace_view7.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/recursive_view.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/invalidate_view1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_big_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_view_rename.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3303/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3303/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13199251" author="phabricator@reviews.facebook.net" created="Thu, 2 Feb 2012 21:34:52 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2756&quot; title=&quot;Views should be added to the inputs of queries.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2756&quot;&gt;&lt;del&gt;HIVE-2756&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Views should be added to the inputs of queries.&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1575&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1575&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13199547" author="namit" created="Fri, 3 Feb 2012 06:17:48 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13199657" author="hudson" created="Fri, 3 Feb 2012 11:46:27 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1241 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1241/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1241/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2756&quot; title=&quot;Views should be added to the inputs of queries.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2756&quot;&gt;&lt;del&gt;HIVE-2756&lt;/del&gt;&lt;/a&gt; Views should be added to the inputs of queries.&lt;br/&gt;
(Yongqiang He via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1240005&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1240005&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalidate_view1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/recursive_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_view_rename.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_big_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265347" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:58 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548278" author="hudson" created="Wed, 9 Jan 2013 10:25:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2756&quot; title=&quot;Views should be added to the inputs of queries.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2756&quot;&gt;&lt;del&gt;HIVE-2756&lt;/del&gt;&lt;/a&gt; Views should be added to the inputs of queries.&lt;br/&gt;
(Yongqiang He via namit) (Revision 1240005)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1240005&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1240005&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalidate_view1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/recursive_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_view_rename.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_big_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12513010" name="ASF.LICENSE.NOT.GRANTED--HIVE-2756.D1575.1.patch" size="26176" author="phabricator@reviews.facebook.net" created="Thu, 2 Feb 2012 18:12:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Feb 2012 18:12:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2757] hive can&apos;t find hadoop executor scripts without HADOOP_HOME set</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2757</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The trouble is that in Hadoop 0.23 HADOOP_HOME has been deprecated. I think it would be really nice if bin/hive can be modified to capture the which hadoop&lt;br/&gt;
and pass that as a property into the JVM.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539988">HIVE-2757</key>
            <summary>hive can&apos;t find hadoop executor scripts without HADOOP_HOME set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rvs">Roman Shaposhnik</assignee>
                                    <reporter username="rvs">Roman Shaposhnik</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jan 2012 02:21:08 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:21 +0000</updated>
                            <resolved>Thu, 10 May 2012 21:31:31 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13260851" author="rvs" created="Tue, 24 Apr 2012 19:18:06 +0000"  >&lt;p&gt;Here&apos;s an example patch that is not meant for inclusion, but rather to generate discussion whether such an approach would be acceptable.&lt;/p&gt;

&lt;p&gt;Basically, the fundamental problem is that Hive java code can be used in other projects (like Oozie) and hence it can&apos;t rely on launcher shell scripts always passing correct set of properties along based on querying the environment at shell level.&lt;/p&gt;

&lt;p&gt;This unique feature of Hive makes discovery of Hadoop executor script happen at the level of Java code. The patch contains a very naive attempt at doing that while maintaining backward compatibility with Hadoop 0.20.X and older releases.  The most notable feature that is still missing is an ability to discover Hadoop that&apos;s part of the user&apos;s PATH. Before I implement that, however, I&apos;d like to ask whether exec&apos;ing via ProcessBuilder won&apos;t be a better option, rather than me manually tying to parse PATH (error prone).&lt;/p&gt;

&lt;p&gt;Please let me know what you think.&lt;/p&gt;

&lt;p&gt;P.S. I have also took the liberty of removing ConfVars.HADOOPCONF since I don&apos;t think it is used anymore.&lt;/p&gt;</comment>
                            <comment id="13261124" author="cwsteinbach" created="Tue, 24 Apr 2012 23:15:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;This unique feature of Hive makes discovery of Hadoop executor script happen at the level of Java code.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Just to make sure I understand, you&apos;re saying that right now the bin/hive shell script calls bin/hadoop, and you want to modify it so that bin/hive bypasses bin/hadoop and instead calls java directly with the appropriate Hive class? That sounds like an improvement to me. Even better would be to eliminate the Hive shell scripts entirely (or at least whittle them down to nothing) and push most of this logic into Java.&lt;/p&gt;

&lt;p&gt;Note that we&apos;re actually moving in the direction of removing the dependency on bin/hadoop entirely. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; is part of that effort and just got committed.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;P.S. I have also took the liberty of removing ConfVars.HADOOPCONF since I don&apos;t think it is used anymore.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That looks good to me. I wasn&apos;t able to find any references to this variable either.&lt;/p&gt;</comment>
                            <comment id="13261876" author="appodictic" created="Wed, 25 Apr 2012 18:14:35 +0000"  >&lt;p&gt;I am -1 on removing ConfVars.HADOOPCONF, because when we do remove HADOOP_BIN hive is going to need some way to locate the hadoop configuration files. Then this variable is useful again.&lt;/p&gt;</comment>
                            <comment id="13261890" author="rvs" created="Wed, 25 Apr 2012 18:21:44 +0000"  >&lt;p&gt;@Edward, not sure I understand &amp;#8211; at this point it is an unused variable and it serves no purpose. If, during the course of development of this patch, we find a use for it &amp;#8211; sure we&apos;ll keep it.&lt;/p&gt;

&lt;p&gt;Does it make sense?&lt;/p&gt;</comment>
                            <comment id="13261921" author="rvs" created="Wed, 25 Apr 2012 18:41:03 +0000"  >&lt;p&gt;@Carl, bin/hive shell script calling bin/hadoop is a bit of an orthogonal issue here I think. The basic problem I&apos;m trying to address in this JIRA is this: hive has at least 2 entry points Bigtop cares about for integration purposes:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;bin/hive&lt;/li&gt;
	&lt;li&gt;org.apache.hadoop.hive.cli.CliDriver&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Regardless of which one is used, though, hive Java code will end up exec&apos;ing hadoop launcher script when it comes to job submission. The reason I&apos;m brining up the 2 is simple: given that #2 exists and is used by things like Oozie we can&apos;t rely on shell-level computation of environment (like finding the hadoop executable and passing that to java code via a property, etc.). &lt;/p&gt;

&lt;p&gt;What this JIRA is trying to accomplish is to push the logic of finding hadoop executable script (if none is given) back to the java code, since because of #2 it is the only place where it can be done reliably. &lt;/p&gt;

&lt;p&gt;Makes sense?&lt;/p&gt;</comment>
                            <comment id="13262044" author="cwsteinbach" created="Wed, 25 Apr 2012 20:27:32 +0000"  >&lt;p&gt;@Ed: o.a.h.Configuration is responsible for locating the Hadoop configuration files on the classpath at time of initialization. Since HiveConf extends Configuration we inherit this functionality for free. I agree that it may eventually become necessary to dynamically modify the classpath at runtime to include the Hadoop conf directory, but right now we don&apos;t do that, and in the meantime ConfVars.HADOOPCONF is dead code (which is really confusing, since developers always assume that the code they read is used somewhere).&lt;/p&gt;</comment>
                            <comment id="13262283" author="appodictic" created="Thu, 26 Apr 2012 00:39:05 +0000"  >&lt;p&gt;We are missing the larger issue here. Bigtop only cares about two entry points does not mean there are only two we should care about. We have hive web interface, hive-thrift-service, lineage tool. Oozie should probably interface with the Hive-thrift-service I did that here: &lt;a href=&quot;https://github.com/edwardcapriolo/m6d_oozie/blob/master/src/main/java/com/m6d/oozie/HiveServiceBAction.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/edwardcapriolo/m6d_oozie/blob/master/src/main/java/com/m6d/oozie/HiveServiceBAction.java&lt;/a&gt;. Thrift is the best programmatic way to interface with hive.&lt;/p&gt;

&lt;p&gt;We have a long standing ticket open to standardize the environment for all these processes so they all have a common entry point. (I can not find the ticket ATM). &lt;/p&gt;

&lt;p&gt;We are always going to need something like HADOOP_HOME because hive assumes hadoop jars are &quot;provided&quot; (like in maven terms) and hadoop configuration is &quot;provided&quot;. Unless we copy all the hadoop jars to hive/lib and copy all the hadoop configuration to hive. With the patch about we still use HADOOP_HOME to build the classpath to start hive.&lt;/p&gt;

&lt;p&gt;Also HADOOP_HOME is deprecated but in the setup docs &quot;http://hadoop.apache.org/common/docs/r0.23.1/hadoop-yarn/hadoop-yarn-site/SingleCluster.html&quot;&lt;/p&gt;

&lt;p&gt;&quot;Assuming that the environment variables $HADOOP_COMMON_HOME, $HADOOP_HDFS_HOME, $HADOO_MAPRED_HOME, $YARN_HOME, $JAVA_HOME and $HADOOP_CONF_DIR have been set appropriately. Set $$YARN_CONF_DIR the same as $HADOOP_CONF_DIR&quot;&lt;/p&gt;

&lt;p&gt;I still feel like hive is going to end up using environment variables to start up.&lt;/p&gt;</comment>
                            <comment id="13263267" author="ashutoshc" created="Fri, 27 Apr 2012 00:16:47 +0000"  >&lt;p&gt;@Roman,&lt;br/&gt;
Your patch is definitely an improvement over status quo. HADOOP_HOME is deprecated and we have to accomodate for HADOOP_PREFIX for Yarn. Instead of doing those changes in bin/hive, it definitely makes sense to do it here. Also, patch doesn&apos;t change the existing behavior. So, I am +1 on the approach. &lt;br/&gt;
Can you post the full patch so that I can see if there are other changes you have in mind.&lt;/p&gt;</comment>
                            <comment id="13265906" author="chamith buddhika" created="Tue, 1 May 2012 17:00:11 +0000"  >&lt;p&gt;Recently I had this requirement of getting hive running in local mode without the assumption of HADOOP_HOME being set. My use case was to run Hive embedded inside an OSGi environment running the Hive Thrift Service. So I had to make some changes in local mode job submission codes to directly invoke Hadoop instead of going through Hadoop scripts. I am attaching the changes as a patch in case you folks find it useful. I took the liberty of defining couple of new properties so that it would continue to work with Hadoop scripts as normal if above properties are not explicitly set. Anyway this doesn&apos;t take away the HADOOP_HOME requirement to start hive using hive scripts since they are heavily dependent on being HADOOP_HOME set. In my case this was sufficient since I was starting Hive server programatically without going through hive scripts. Also here I have used a HADOOPLIB property where I assume all Hadoop related dependencies are present. In my case this was not bound to HADOOP_HOME, was just a specific location inside OSGi container where all Hive and Hadoop jars were present together.&lt;/p&gt;</comment>
                            <comment id="13266706" author="rvs" created="Wed, 2 May 2012 16:58:25 +0000"  >&lt;p&gt;Sorry for the delay &amp;#8211; it seems I don&apos;t have much luck with running Hive unit tests on my machine &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;On the positive side &amp;#8211; I tested this patch against a real cluster and it works as expected.&lt;/p&gt;</comment>
                            <comment id="13266715" author="rvs" created="Wed, 2 May 2012 17:09:27 +0000"  >&lt;p&gt;@Ashutosh,&lt;/p&gt;

&lt;p&gt;I think at this point I&apos;d go for the minimally invasive patch (which is attached). Potential improvements would include merging the stuff that Buddhika posted (and better yet, following up with a patch that migrates us to ProcessBuilder). However, I believe all of those things need to be handled in separate JIRAs.&lt;/p&gt;

&lt;p&gt;@Edward, &lt;/p&gt;

&lt;p&gt;I agree with your comments on standardizing the environment. It is fine for Hive to keep depending on env. variables, but it also needs to have reasonable defaults.&lt;/p&gt;
</comment>
                            <comment id="13266866" author="cwsteinbach" created="Wed, 2 May 2012 19:59:26 +0000"  >&lt;p&gt;@Roman: Can you submit a phabricator review request? Thanks.&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/Hive/phabricatorcodereview.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/phabricatorcodereview.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13270189" author="phabricator@reviews.facebook.net" created="Tue, 8 May 2012 04:36:20 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2757&quot; title=&quot;hive can&amp;#39;t find hadoop executor scripts without HADOOP_HOME set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2757&quot;&gt;&lt;del&gt;HIVE-2757&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; hive can&apos;t find hadoop executor scripts without HADOOP_HOME set Submitting this for review on behalf of Roman Shaposhnik based on the patch he uploaded here: &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12525320/HIVE-2757.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12525320/HIVE-2757.patch.txt&lt;/a&gt;&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2757&quot; title=&quot;hive can&amp;#39;t find hadoop executor scripts without HADOOP_HOME set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2757&quot;&gt;&lt;del&gt;HIVE-2757&lt;/del&gt;&lt;/a&gt;. hive can&apos;t find hadoop executor scripts without HADOOP_HOME set&lt;/p&gt;

&lt;p&gt;  The trouble is that in Hadoop 0.23 HADOOP_HOME has been deprecated. I think it&lt;br/&gt;
  would be really nice if bin/hive can be modified to capture the which hadoop&lt;br/&gt;
  and pass that as a property into the JVM.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D3075&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3075&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/7011/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/7011/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13270238" author="phabricator@reviews.facebook.net" created="Tue, 8 May 2012 06:09:51 +0000"  >&lt;p&gt;ashutoshc has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2757&quot; title=&quot;hive can&amp;#39;t find hadoop executor scripts without HADOOP_HOME set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2757&quot;&gt;&lt;del&gt;HIVE-2757&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; hive can&apos;t find hadoop executor scripts without HADOOP_HOME set Submitting this for review on behalf of Roman Shaposhnik based on the patch he uploaded here: &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12525320/HIVE-2757.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12525320/HIVE-2757.patch.txt&lt;/a&gt;&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java:914 Please use File.Separator instead of &quot;/&quot; to avoid OS-specific code.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D3075&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3075&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2757&quot; title=&quot;hive can&amp;#39;t find hadoop executor scripts without HADOOP_HOME set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2757&quot;&gt;&lt;del&gt;HIVE-2757&lt;/del&gt;&lt;/a&gt;-executor-hadoop-home&lt;/p&gt;</comment>
                            <comment id="13271820" author="rvs" created="Wed, 9 May 2012 21:19:41 +0000"  >&lt;p&gt;Attaching a patch that incorporated all the feedback from the reviews and also got tested. Attaching here since FB is broken.&lt;/p&gt;</comment>
                            <comment id="13272780" author="cwsteinbach" created="Thu, 10 May 2012 21:31:31 +0000"  >&lt;p&gt;Committed to trunk. Thanks Roman!&lt;/p&gt;</comment>
                            <comment id="13273011" author="hudson" created="Fri, 11 May 2012 03:33:41 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1423 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1423/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2757&quot; title=&quot;hive can&amp;#39;t find hadoop executor scripts without HADOOP_HOME set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2757&quot;&gt;&lt;del&gt;HIVE-2757&lt;/del&gt;&lt;/a&gt;. Hive can&apos;t find hadoop executor scripts without HADOOP_HOME set (Roman Shaposhnik via cws) (Revision 1336906)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1336906&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1336906&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/bin/ext/help.sh&lt;/li&gt;
	&lt;li&gt;/hive/trunk/bin/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/bin/init-hive-dfs.sh&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13276645" author="hudson" created="Wed, 16 May 2012 10:35:59 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1434 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1434/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1434/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3014&quot; title=&quot;Fix metastore test failures caused by HIVE-2757&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3014&quot;&gt;&lt;del&gt;HIVE-3014&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix metastore test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2757&quot; title=&quot;hive can&amp;#39;t find hadoop executor scripts without HADOOP_HOME set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2757&quot;&gt;&lt;del&gt;HIVE-2757&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Zhenxiao Luo via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3014&quot; title=&quot;Fix metastore test failures caused by HIVE-2757&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3014&quot;&gt;&lt;del&gt;HIVE-3014&lt;/del&gt;&lt;/a&gt;: Fix metastore test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2757&quot; title=&quot;hive can&amp;#39;t find hadoop executor scripts without HADOOP_HOME set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2757&quot;&gt;&lt;del&gt;HIVE-2757&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D3213&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3213&lt;/a&gt; (Revision 1339004)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1339004&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1339004&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548286" author="hudson" created="Wed, 9 Jan 2013 10:25:08 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3014&quot; title=&quot;Fix metastore test failures caused by HIVE-2757&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3014&quot;&gt;&lt;del&gt;HIVE-3014&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix metastore test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2757&quot; title=&quot;hive can&amp;#39;t find hadoop executor scripts without HADOOP_HOME set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2757&quot;&gt;&lt;del&gt;HIVE-2757&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Zhenxiao Luo via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3014&quot; title=&quot;Fix metastore test failures caused by HIVE-2757&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3014&quot;&gt;&lt;del&gt;HIVE-3014&lt;/del&gt;&lt;/a&gt;: Fix metastore test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2757&quot; title=&quot;hive can&amp;#39;t find hadoop executor scripts without HADOOP_HOME set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2757&quot;&gt;&lt;del&gt;HIVE-2757&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D3213&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3213&lt;/a&gt; (Revision 1339004)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2757&quot; title=&quot;hive can&amp;#39;t find hadoop executor scripts without HADOOP_HOME set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2757&quot;&gt;&lt;del&gt;HIVE-2757&lt;/del&gt;&lt;/a&gt;. Hive can&apos;t find hadoop executor scripts without HADOOP_HOME set (Roman Shaposhnik via cws) (Revision 1336906)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1339004&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1339004&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1336906&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1336906&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/bin/ext/help.sh&lt;/li&gt;
	&lt;li&gt;/hive/trunk/bin/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/bin/init-hive-dfs.sh&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550094" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:21 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12554850">HIVE-3014</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12525952" name="ASF.LICENSE.NOT.GRANTED--HIVE-2757.D3075.1.patch" size="2073" author="phabricator@reviews.facebook.net" created="Tue, 8 May 2012 04:36:22 +0000"/>
                            <attachment id="12526211" name="HIVE-2757-2.patch.txt" size="4741" author="rvs" created="Wed, 9 May 2012 21:18:50 +0000"/>
                            <attachment id="12525320" name="HIVE-2757.patch.txt" size="2243" author="rvs" created="Wed, 2 May 2012 16:58:25 +0000"/>
                            <attachment id="12524034" name="HIVE-2757.patch.txt" size="2243" author="rvs" created="Tue, 24 Apr 2012 19:18:06 +0000"/>
                            <attachment id="12525186" name="hive-2757.diff" size="2981" author="chamith buddhika" created="Tue, 1 May 2012 17:03:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Apr 2012 23:15:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02unb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14566</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2758] Metastore is caching too aggressively</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2758</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The metastore is caching values, like table names and locations too aggressively, leading to inconsistencies across Hive clients and metastore Thrift servers.&lt;/p&gt;

&lt;p&gt;For example, open two Hive clients, in each call&lt;br/&gt;
DESCRIBE FORMATTED table_foo;&lt;/p&gt;

&lt;p&gt;Then in one of those clients, execute&lt;br/&gt;
ALTER TABLE table_foo RENAME TO table_bar;&lt;/p&gt;

&lt;p&gt;Then in both clients call&lt;br/&gt;
DESCRIBE FORMATTED table_bar;&lt;/p&gt;

&lt;p&gt;In the client that executed the alter command, the location is correct, however, in the other Hive client, it will still show the original location of table_foo.&lt;/p&gt;

&lt;p&gt;A similar experiment can be done using metastore Thrift servers, substituting get_table for DESCRIBE FORMATTED and alter_table for ALTER TABLE ... RENAME TO.&lt;/p&gt;

&lt;p&gt;On the Thrift server you can see that the one which did not execute the alter command, not only returns the wrong location, despite calling get_table(&apos;table_bar&apos;) it will return a table that still has the name table_foo.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12540176">HIVE-2758</key>
            <summary>Metastore is caching too aggressively</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jan 2012 18:43:15 +0000</created>
                <updated>Fri, 31 Oct 2014 12:28:07 +0000</updated>
                            <resolved>Wed, 1 Feb 2012 17:50:27 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13195005" author="phabricator@reviews.facebook.net" created="Fri, 27 Jan 2012 18:50:09 +0000"  >&lt;p&gt;kevinwilfong requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2758&quot; title=&quot;Metastore is caching too aggressively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2758&quot;&gt;&lt;del&gt;HIVE-2758&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore is caching too aggressively&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2758&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2758&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  In order to prevent inconsistencies between Hive clients and Hive metastores due to over-aggressive caching, I turned off level 2 caching in datanucleus.  I tried adjusting it to weak caching first, but that did not fix the issue.  I think level 1 caching is the most caching we can have without seeing these issues.&lt;/p&gt;

&lt;p&gt;  The metastore is caching values, like table names and locations too aggressively, leading to inconsistencies across Hive clients and metastore Thrift servers.&lt;/p&gt;

&lt;p&gt;  For example, open two Hive clients, in each call&lt;br/&gt;
  DESCRIBE FORMATTED table_foo;&lt;/p&gt;

&lt;p&gt;  Then in one of those clients, execute&lt;br/&gt;
  ALTER TABLE table_foo RENAME TO table_bar;&lt;/p&gt;

&lt;p&gt;  Then in both clients call&lt;br/&gt;
  DESCRIBE FORMATTED table_bar;&lt;/p&gt;

&lt;p&gt;  In the client that executed the alter command, the location is correct, however, in the other Hive client, it will still show the original location of table_foo.&lt;/p&gt;

&lt;p&gt;  A similar experiment can be done using metastore Thrift servers, substituting get_table for DESCRIBE FORMATTED and alter_table for ALTER TABLE ... RENAME TO.&lt;/p&gt;

&lt;p&gt;  On the Thrift server you can see that the one which did not execute the alter command, not only returns the wrong location, despite calling get_table(&apos;table_bar&apos;) it will return a table that still has the name table_foo.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1491&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1491&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3105/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3105/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13195021" author="phabricator@reviews.facebook.net" created="Fri, 27 Jan 2012 19:04:11 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2758&quot; title=&quot;Metastore is caching too aggressively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2758&quot;&gt;&lt;del&gt;HIVE-2758&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore is caching too aggressively&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java:276 It would be good to have test coverage for this. Can you please add a testcase?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1491&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1491&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13197037" author="phabricator@reviews.facebook.net" created="Tue, 31 Jan 2012 17:52:10 +0000"  >&lt;p&gt;kevinwilfong updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2758&quot; title=&quot;Metastore is caching too aggressively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2758&quot;&gt;&lt;del&gt;HIVE-2758&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore is caching too aggressively&quot;.&lt;br/&gt;
Reviewers: JIRA, njain, heyongqiang, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Added a unit test to the metastore tests.  It creates a table using the current HiveMetaStoreClient, then simulates another client renaming the table by changing the value in the db.  It then attempts to get the table again using the new name and verifying the name of the table is correct.  This test is used for both the metastore Thrift server and an embedded metastore.&lt;/p&gt;

&lt;p&gt;  Using the current configuration, it fails with the exception&lt;br/&gt;
  &quot;Client returned table with different name after rename. expected:&amp;lt;[]concurrenttbl&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;rename_&amp;#93;&lt;/span&gt;concurrenttbl&amp;gt;&quot;&lt;br/&gt;
  Indicating that the client can retrieve the table with the new name, but when it checks the name stored in the Table object, it is still the old name.&lt;br/&gt;
  Using the update in this patch, however, it succeeds.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1491&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1491&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/p&gt;</comment>
                            <comment id="13197141" author="phabricator@reviews.facebook.net" created="Tue, 31 Jan 2012 19:30:08 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2758&quot; title=&quot;Metastore is caching too aggressively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2758&quot;&gt;&lt;del&gt;HIVE-2758&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore is caching too aggressively&quot;.&lt;/p&gt;

&lt;p&gt;  +1. Kevin, can you handle testing and committing this change?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1491&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1491&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13197997" author="phabricator@reviews.facebook.net" created="Wed, 1 Feb 2012 17:54:58 +0000"  >&lt;p&gt;kevinwilfong has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2758&quot; title=&quot;Metastore is caching too aggressively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2758&quot;&gt;&lt;del&gt;HIVE-2758&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Metastore is caching too aggressively&quot;.&lt;/p&gt;

&lt;p&gt;  Thanks, Carl.  I got it.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1491&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1491&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13198384" author="hudson" created="Thu, 2 Feb 2012 00:39:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1238 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1238/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1238/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2758&quot; title=&quot;Metastore is caching too aggressively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2758&quot;&gt;&lt;del&gt;HIVE-2758&lt;/del&gt;&lt;/a&gt; Metastore is caching too aggressively (Kevin Wilfong reviewed by Carl Steinbach)&lt;/p&gt;

&lt;p&gt;kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1239232&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1239232&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265257" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:21 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548287" author="hudson" created="Wed, 9 Jan 2013 10:25:08 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2758&quot; title=&quot;Metastore is caching too aggressively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2758&quot;&gt;&lt;del&gt;HIVE-2758&lt;/del&gt;&lt;/a&gt; Metastore is caching too aggressively (Kevin Wilfong reviewed by Carl Steinbach) (Revision 1239232)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1239232&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1239232&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12751958">HIVE-8684</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12512212" name="ASF.LICENSE.NOT.GRANTED--HIVE-2758.D1491.1.patch" size="934" author="phabricator@reviews.facebook.net" created="Fri, 27 Jan 2012 18:50:09 +0000"/>
                            <attachment id="12512595" name="ASF.LICENSE.NOT.GRANTED--HIVE-2758.D1491.2.patch" size="5900" author="phabricator@reviews.facebook.net" created="Tue, 31 Jan 2012 17:52:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Jan 2012 18:50:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225591</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2759] Change global_limit.q into linux format file</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2759</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;global_limit.q is in dos format, and has &quot;\ No newline at end of file&quot;.&lt;br/&gt;
Needs to be changed into linux format, removing all &quot;^M&quot; at the end of each line.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12540183">HIVE-2759</key>
            <summary>Change global_limit.q into linux format file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="zhenxiao">Zhenxiao Luo</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jan 2012 19:49:41 +0000</created>
                <updated>Wed, 9 Jan 2013 10:25:07 +0000</updated>
                            <resolved>Wed, 8 Feb 2012 20:12:45 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13195060" author="phabricator@reviews.facebook.net" created="Fri, 27 Jan 2012 20:06:09 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2759&quot; title=&quot;Change global_limit.q into linux format file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2759&quot;&gt;&lt;del&gt;HIVE-2759&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Change global_limit.q into linux format file&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2759&quot; title=&quot;Change global_limit.q into linux format file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2759&quot;&gt;&lt;del&gt;HIVE-2759&lt;/del&gt;&lt;/a&gt;: Change global_limit.q into linux format file&lt;/p&gt;

&lt;p&gt;  global_limit.q is in dos format, and has &quot;\ No newline at end of file&quot;.&lt;br/&gt;
  Needs to be changed into linux format, removing all &quot;^M&quot; at the end of each line.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/global_limit.q&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3111/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3111/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13203180" author="phabricator@reviews.facebook.net" created="Wed, 8 Feb 2012 02:34:59 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2759&quot; title=&quot;Change global_limit.q into linux format file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2759&quot;&gt;&lt;del&gt;HIVE-2759&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Change global_limit.q into linux format file&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1497&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13203927" author="namit" created="Wed, 8 Feb 2012 20:12:45 +0000"  >&lt;p&gt;Committed. Thanks Zhenxiao&lt;/p&gt;</comment>
                            <comment id="13204174" author="hudson" created="Thu, 9 Feb 2012 01:09:59 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1249 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1249/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1249/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2759&quot; title=&quot;Change global_limit.q into linux format file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2759&quot;&gt;&lt;del&gt;HIVE-2759&lt;/del&gt;&lt;/a&gt; Change global_limit.q into linux format file&lt;br/&gt;
(Zhenxiao Luo via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1242071&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1242071&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/global_limit.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265318" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:42 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548281" author="hudson" created="Wed, 9 Jan 2013 10:25:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2759&quot; title=&quot;Change global_limit.q into linux format file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2759&quot;&gt;&lt;del&gt;HIVE-2759&lt;/del&gt;&lt;/a&gt; Change global_limit.q into linux format file&lt;br/&gt;
(Zhenxiao Luo via namit) (Revision 1242071)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1242071&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1242071&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/global_limit.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12512224" name="ASF.LICENSE.NOT.GRANTED--HIVE-2759.D1497.1.patch" size="6455" author="phabricator@reviews.facebook.net" created="Fri, 27 Jan 2012 20:06:10 +0000"/>
                            <attachment id="12512225" name="HIVE-2759.D1497.1.patch" size="6455" author="zhenxiao" created="Fri, 27 Jan 2012 20:08:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Jan 2012 20:06:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2760] TestCliDriver should log elapsed time</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2760</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12540208">HIVE-2760</key>
            <summary>TestCliDriver should log elapsed time</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jan 2012 22:34:29 +0000</created>
                <updated>Wed, 9 Jan 2013 10:25:05 +0000</updated>
                            <resolved>Mon, 30 Jan 2012 00:27:19 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13195168" author="cwsteinbach" created="Fri, 27 Jan 2012 22:35:33 +0000"  >&lt;p&gt;It would be nice if TestCliDriver logged the elapsed time of each testcase to stdout, e.g:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] Begin query: alter2.q
    [junit] diff -a /Users/carl/Work/repos/hive2/build/ql/test/logs/clientpositive/alter2.q.out /Users/carl/Work/repos/hive2/ql/src/test/results/clientpositive/alter2.q.out
    [junit] Done query: alter2.q elapsedTime=5s
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13195177" author="phabricator@reviews.facebook.net" created="Fri, 27 Jan 2012 22:40:10 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestCliDriver should log elapsed time&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt;. TestCliDriver should log elapsed time&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1503&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/templates/TestCliDriver.vm&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3117/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3117/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13195249" author="phabricator@reviews.facebook.net" created="Fri, 27 Jan 2012 23:54:09 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestCliDriver should log elapsed time&quot;.&lt;/p&gt;

&lt;p&gt;  I think it will be useful for other test drivers as well.&lt;/p&gt;

&lt;p&gt;  TestHBaseCliDriver&lt;br/&gt;
  TestNegativeCliDriver&lt;br/&gt;
  TestParseNegative&lt;br/&gt;
  TestParse&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1503&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13195265" author="phabricator@reviews.facebook.net" created="Sat, 28 Jan 2012 00:15:09 +0000"  >&lt;p&gt;cwsteinbach updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestCliDriver should log elapsed time&quot;.&lt;br/&gt;
Reviewers: JIRA, ashutoshc&lt;/p&gt;

&lt;p&gt;  Adding changes requested by Ashutosh&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1503&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/test/templates/TestHBaseCliDriver.vm&lt;br/&gt;
  ql/src/test/templates/TestCliDriver.vm&lt;br/&gt;
  ql/src/test/templates/TestNegativeCliDriver.vm&lt;br/&gt;
  ql/src/test/templates/TestParse.vm&lt;br/&gt;
  ql/src/test/templates/TestParseNegative.vm&lt;/p&gt;</comment>
                            <comment id="13195280" author="phabricator@reviews.facebook.net" created="Sat, 28 Jan 2012 00:27:12 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestCliDriver should log elapsed time&quot;.&lt;/p&gt;

&lt;p&gt;  Given that TestMinimrCliDriver has few queries which takes a long time, we should definitely time that. Sorry, I missed it previously and while we are at it, lets be comprehensive to get all of them timed. I guess following are the remaining ones&lt;/p&gt;

&lt;p&gt;  TestHBaseMinimrCliDriver&lt;br/&gt;
  TestContribCliDriver&lt;br/&gt;
  TestContribNegativeCliDriver&lt;br/&gt;
  TestMinimrCliDriver&lt;br/&gt;
  TestNegativeMinimrCliDriver&lt;br/&gt;
  TestExecDriver&lt;br/&gt;
  TestJdbcDriver&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1503&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13195332" author="phabricator@reviews.facebook.net" created="Sat, 28 Jan 2012 01:51:34 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestCliDriver should log elapsed time&quot;.&lt;/p&gt;

&lt;p&gt;  TestMinimrCliDriver is actually generated from TestCliDriver.vm. The same thing goes for the other tests you flagged. Take a look at the qtestgen task in the various build.xml for more info.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1503&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13195653" author="phabricator@reviews.facebook.net" created="Sun, 29 Jan 2012 01:06:09 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestCliDriver should log elapsed time&quot;.&lt;/p&gt;

&lt;p&gt;  Correct. +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1503&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13195891" author="cwsteinbach" created="Mon, 30 Jan 2012 00:27:19 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13195944" author="hudson" created="Mon, 30 Jan 2012 05:41:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1230 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1230/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1230/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestCliDriver should log elapsed time&lt;/p&gt;

&lt;p&gt;Summary: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt;. TestCliDriver should log elapsed time&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, ashutoshc&lt;/p&gt;

&lt;p&gt;Reviewed By: ashutoshc&lt;/p&gt;

&lt;p&gt;CC: ashutoshc, cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1503&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237511&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237511&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/templates/TestHBaseCliDriver.vm&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/templates/TestCliDriver.vm&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/templates/TestNegativeCliDriver.vm&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/templates/TestParse.vm&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/templates/TestParseNegative.vm&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13209156" author="phabricator@reviews.facebook.net" created="Thu, 16 Feb 2012 06:52:58 +0000"  >&lt;p&gt;cwsteinbach has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestCliDriver should log elapsed time&quot;.&lt;/p&gt;

&lt;p&gt;  Change committed by cws.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1503&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1237511&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1237511&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13265256" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:21 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548276" author="hudson" created="Wed, 9 Jan 2013 10:25:05 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; TestCliDriver should log elapsed time&lt;/p&gt;

&lt;p&gt;Summary: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2760&quot; title=&quot;TestCliDriver should log elapsed time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2760&quot;&gt;&lt;del&gt;HIVE-2760&lt;/del&gt;&lt;/a&gt;. TestCliDriver should log elapsed time&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, ashutoshc&lt;/p&gt;

&lt;p&gt;Reviewed By: ashutoshc&lt;/p&gt;

&lt;p&gt;CC: ashutoshc, cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1503&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1503&lt;/a&gt; (Revision 1237511)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237511&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237511&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/templates/TestHBaseCliDriver.vm&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/templates/TestCliDriver.vm&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/templates/TestNegativeCliDriver.vm&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/templates/TestParse.vm&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/templates/TestParseNegative.vm&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12512246" name="ASF.LICENSE.NOT.GRANTED--HIVE-2760.D1503.1.patch" size="1012" author="phabricator@reviews.facebook.net" created="Fri, 27 Jan 2012 22:40:12 +0000"/>
                            <attachment id="12512262" name="ASF.LICENSE.NOT.GRANTED--HIVE-2760.D1503.2.patch" size="5096" author="phabricator@reviews.facebook.net" created="Sat, 28 Jan 2012 00:15:10 +0000"/>
                            <attachment id="12512249" name="HIVE-2760.D1503.1.patch" size="1012" author="cwsteinbach" created="Fri, 27 Jan 2012 22:43:30 +0000"/>
                            <attachment id="12512378" name="HIVE-2760.D1503.2.patch" size="5096" author="cwsteinbach" created="Mon, 30 Jan 2012 00:28:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Jan 2012 22:40:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225623</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124125</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
