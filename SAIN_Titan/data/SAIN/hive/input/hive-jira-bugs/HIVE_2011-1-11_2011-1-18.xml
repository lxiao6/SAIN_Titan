<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:17:27 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2011-1-11+AND+created+%3C%3D+2011-1-18+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="12" total="12"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1907] Store jobid in ExecDriver</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1907</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This will help in auditing - the usecase we have right now is to find out which tasks are for gathering stats&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495212">HIVE-1907</key>
            <summary>Store jobid in ExecDriver</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jan 2011 07:19:36 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:55 +0000</updated>
                            <resolved>Wed, 12 Jan 2011 09:37:30 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12980236" author="he yongqiang" created="Tue, 11 Jan 2011 18:31:40 +0000"  >&lt;p&gt;+1, will commit after tests pass&lt;/p&gt;</comment>
                            <comment id="12980632" author="he yongqiang" created="Wed, 12 Jan 2011 09:37:30 +0000"  >&lt;p&gt;Committed! Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12467981" name="hive.1907.1.patch" size="898" author="namit" created="Tue, 11 Jan 2011 07:21:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 11 Jan 2011 18:31:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72633</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123496</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1908] FileHandler leak on partial iteration of the resultset. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-1908</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If the &quot;resultset&quot; is not iterated completely ,  one filehandler is leaking&lt;/p&gt;

&lt;p&gt;Ex: We need only first row. This case one resource is leaking&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ResultSet resultSet = createStatement.executeQuery(&lt;span class=&quot;code-quote&quot;&gt;&quot;select * from sampletable&quot;&lt;/span&gt;);

&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (resultSet.next())
{
	&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(resultSet.getString(1)+&lt;span class=&quot;code-quote&quot;&gt;&quot;   &quot;&lt;/span&gt;+resultSet.getString(2));
} 

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Command used for checking the filehandlers&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;lsof -p {hive_process_id} &amp;gt; runjarlsof.txt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment>&lt;p&gt;Hadoop 0.20.1, Hive0.6.0 and SUSE Linux Enterprise Server 10 SP2 (i586) - Kernel 2.6.16.60-0.21-smp (5).&lt;/p&gt;</environment>
        <key id="12495231">HIVE-1908</key>
            <summary>FileHandler leak on partial iteration of the resultset. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="chinnalalam">Chinna Rao Lalam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jan 2011 10:38:18 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:16 +0000</updated>
                            <resolved>Mon, 24 Jan 2011 23:31:48 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12985652" author="chinnalalam" created="Mon, 24 Jan 2011 12:32:00 +0000"  >&lt;p&gt;File handlers are leaking as the streams are not closed in Driver class (i.e fetchTask and resStream ).  &lt;/p&gt;

&lt;p&gt;&quot;Driver.compile()&quot;  is internally calls &quot;close()&quot; if &quot;plan != null&quot;.  &lt;br/&gt;
In Driver.close() clear the &quot;fetchtask&quot; in the plan and close the &quot;resStream &quot;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; close() {
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (plan != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        FetchTask fetchTask = plan.getFetchTask();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != fetchTask) {
          &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            fetchTask.clearFetch();
          } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
            LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot; Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; clearing the Fetch task &quot;&lt;/span&gt;, e);
          }
        }
      }
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ctx != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        ctx.clear();
      }
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != resStream) {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
          ((FSDataInputStream) resStream).close();
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
          LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot; Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; closing the  the res file stream &quot;&lt;/span&gt;, e);
        }
      }
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
      console.printError(&lt;span class=&quot;code-quote&quot;&gt;&quot;FAILED: Hive Internal Error: &quot;&lt;/span&gt; + Utilities.getNameMessage(e) + &lt;span class=&quot;code-quote&quot;&gt;&quot;\n&quot;&lt;/span&gt;
          + org.apache.hadoop.util.StringUtils.stringifyException(e));
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 13;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0;
  }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12985822" author="namit" created="Mon, 24 Jan 2011 17:15:48 +0000"  >&lt;p&gt;Chinna, I have added you as a contributor - so, please assign the jiras you are working on to yourself&lt;/p&gt;</comment>
                            <comment id="12985826" author="namit" created="Mon, 24 Jan 2011 17:23:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12986103" author="namit" created="Mon, 24 Jan 2011 23:31:48 +0000"  >&lt;p&gt;Committed. Thanks Chinna Rao Lalam&lt;/p&gt;</comment>
                            <comment id="12986211" author="cwsteinbach" created="Tue, 25 Jan 2011 04:22:54 +0000"  >&lt;p&gt;@Namit: Please remember to set the Fix Version.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12469154" name="HIVE-1908.1.patch" size="3680" author="chinnalalam" created="Mon, 24 Jan 2011 13:41:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Jan 2011 17:15:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123497</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>In Driver -&amp;gt;  &amp;quot;close()&amp;quot; closed the resStream and FetchTask.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1909] create an option to ignore archived partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1909</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12495292">HIVE-1909</key>
            <summary>create an option to ignore archived partitions</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jan 2011 19:56:11 +0000</created>
                <updated>Thu, 8 Dec 2011 17:53:32 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13164939" author="he yongqiang" created="Thu, 8 Dec 2011 02:16:54 +0000"  >&lt;p&gt;there is no patch attached.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Dec 2011 02:16:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08opj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48602</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1910] Provide config parameters to control cache object pinning</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1910</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The metastore currently pin instances of the following classes in the secondary cache,&lt;br/&gt;
MTable, MStorageDescriptor, MSerDeInfo, MPartition, MDatabase, MType, MFieldSchema, MOrder.class&lt;/p&gt;

&lt;p&gt;It would be better if this behavior is configurable instead of hard coded.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495416">HIVE-1910</key>
            <summary>Provide config parameters to control cache object pinning</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="macyang">Mac Yang</assignee>
                                    <reporter username="macyang">Mac Yang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jan 2011 20:32:06 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:49 +0000</updated>
                            <resolved>Wed, 26 Jan 2011 06:00:03 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12984511" author="macyang" created="Fri, 21 Jan 2011 00:55:05 +0000"  >&lt;p&gt;This enhancement is more relevant to metastore running in thrift server mode. With the current code, a long running metastore server could potentially end up with a large number of objects in memory (most notabl with Partition, SerDeInfo and StorageDescriptor object).&lt;/p&gt;

&lt;p&gt;This patch adds a new config parameter, &quot;hive.metastore.cache.pinobjtypes&quot;, to make object pinning configurable. It also provides default value in hive-default.xml which will keep the current behavior.&lt;/p&gt;</comment>
                            <comment id="12984518" author="macyang" created="Fri, 21 Jan 2011 01:15:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/343/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/343/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12985530" author="namit" created="Mon, 24 Jan 2011 06:12:05 +0000"  >&lt;p&gt;Why do need line 244 (ObjectStore.java) ?&lt;/p&gt;</comment>
                            <comment id="12985915" author="macyang" created="Mon, 24 Jan 2011 19:19:20 +0000"  >&lt;p&gt;The combination of line 244 and the comma in the key of the map (line 115) was intended to handle the case where an object type is a substring of the other (for example, foo and foobar). However, looking at the code again, it offers no benefit over a straight forward split. I am attaching a new patch that uses split instead.&lt;/p&gt;</comment>
                            <comment id="12986121" author="namit" created="Tue, 25 Jan 2011 00:11:49 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12986842" author="cwsteinbach" created="Wed, 26 Jan 2011 04:45:29 +0000"  >&lt;p&gt;@Mac: Please see my comments on reviewboard. Sorry that I didn&apos;t get a chance to look at this earlier.&lt;/p&gt;</comment>
                            <comment id="12986855" author="namit" created="Wed, 26 Jan 2011 06:00:03 +0000"  >&lt;p&gt;Committed. Thanks Mac&lt;/p&gt;</comment>
                            <comment id="12987161" author="namit" created="Wed, 26 Jan 2011 18:51:00 +0000"  >&lt;p&gt;@Carl, I didnt see your comments before committing.&lt;br/&gt;
Can you file a follow-up jira for the same ?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468934" name="HIVE-1910.1.patch.txt" size="4283" author="macyang" created="Fri, 21 Jan 2011 00:55:05 +0000"/>
                            <attachment id="12469184" name="HIVE-1910.2.patch.txt" size="4200" author="macyang" created="Mon, 24 Jan 2011 19:19:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Jan 2011 06:12:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72631</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123498</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1911] TestHBaseCliDriver is broken</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1911</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It broken on the current trunk:&lt;/p&gt;

&lt;p&gt;$ ant test -Dtestcase=TestHBaseCliDriver &lt;br/&gt;
....&lt;br/&gt;
....&lt;/p&gt;

&lt;p&gt;test:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.cli.TestHBaseCliDriver&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Exception: Timed out trying to locate root region&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; org.apache.hadoop.hbase.client.NoServerForRegionException: Timed out trying to locate root region&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRootRegion(HConnectionManager.java:976)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:625)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.relocateRegion(HConnectionManager.java:607)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegionInMeta(HConnectionManager.java:738)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:634)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:601)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:128)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.hbase.HBaseTestSetup.setUpFixtures(HBaseTestSetup.java:87)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.hbase.HBaseTestSetup.preTest(HBaseTestSetup.java:59)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.hbase.HBaseQTestUtil.&amp;lt;init&amp;gt;(HBaseQTestUtil.java:31)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.cli.TestHBaseCliDriver.setUp(TestHBaseCliDriver.java:43)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestCase.runBare(TestCase.java:125)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:422)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:931)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:785)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Hive history file=/data/users/nzhang/work/2/apache-hive/build/hbase-handler/tmp/hive_job_log_nzhang_20110&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495524">HIVE-1911</key>
            <summary>TestHBaseCliDriver is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jan 2011 18:42:43 +0000</created>
                <updated>Thu, 13 Jan 2011 19:27:29 +0000</updated>
                            <resolved>Thu, 13 Jan 2011 18:57:20 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12981405" author="nzhang" created="Thu, 13 Jan 2011 18:43:12 +0000"  >&lt;p&gt;John, can you please take a look?&lt;/p&gt;</comment>
                            <comment id="12981418" author="jvs" created="Thu, 13 Jan 2011 18:57:20 +0000"  >&lt;p&gt;Dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1716&quot; title=&quot;make TestHBaseCliDriver use dynamic ports to avoid conflicts with already-running services&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1716&quot;&gt;&lt;del&gt;HIVE-1716&lt;/del&gt;&lt;/a&gt;.  It&apos;s a sporadic issue, probably due to a port lingering.  I&apos;ll see if I can add a sleep somewhere to squelch it.&lt;/p&gt;</comment>
                            <comment id="12981431" author="nzhang" created="Thu, 13 Jan 2011 19:19:13 +0000"  >&lt;p&gt;oops, I forgot I filed a JIRA for the same problem. It&apos;s now failing more often (3 times in a row). &lt;/p&gt;</comment>
                            <comment id="12981438" author="jvs" created="Thu, 13 Jan 2011 19:27:29 +0000"  >&lt;p&gt;Yeah, it seems to have gotten much worse since the concurrency patch with zookeeper got committed, so it may be some interference between the different instances of zookeeper.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12477488">HIVE-1716</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Jan 2011 18:57:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1912] Double escaping special chars when removing old partitions in rmr</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1912</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If a partition column value contains special characters such as &apos;:&apos;, it will be escaped to &apos;%3A&apos; in the partition path. However in FsShell.rmr(oldPath.toUri().toString()), toUri() will double escape &apos;%&apos; to &apos;%25&apos;. This will make the removal fail. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12495527">HIVE-1912</key>
            <summary>Double escaping special chars when removing old partitions in rmr</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jan 2011 19:11:02 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:23 +0000</updated>
                            <resolved>Fri, 14 Jan 2011 07:05:34 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12981559" author="namit" created="Thu, 13 Jan 2011 23:44:13 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12981645" author="namit" created="Fri, 14 Jan 2011 07:05:34 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468301" name="HIVE-1912.patch" size="12036" author="nzhang" created="Thu, 13 Jan 2011 22:17:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Jan 2011 23:44:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72629</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123500</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1913] use partition level serde properties</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1913</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;create table src_part_serde (key int, value string) partitioned by (ds string) stored as sequencefile;&lt;br/&gt;
insert overwrite table src_part_serde partition (ds=&apos;2011&apos;) select * from src;&lt;br/&gt;
alter table src_part_serde set serde &apos;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&apos; with SERDEPROPERTIES (&apos;serialization.format&apos;=&apos;\t&apos;);&lt;br/&gt;
select key, value from src_part_serde where ds=&apos;2011&apos; order by key, value limit 20;&lt;/p&gt;

&lt;p&gt;will get null results.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495543">HIVE-1913</key>
            <summary>use partition level serde properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jan 2011 21:24:28 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:23 +0000</updated>
                            <resolved>Fri, 14 Jan 2011 07:32:47 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12981492" author="he yongqiang" created="Thu, 13 Jan 2011 21:25:54 +0000"  >&lt;p&gt;running tests...&lt;/p&gt;</comment>
                            <comment id="12981560" author="namit" created="Thu, 13 Jan 2011 23:45:16 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12981656" author="namit" created="Fri, 14 Jan 2011 07:32:47 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468293" name="HIVE-1913.1.patch" size="4548" author="he yongqiang" created="Thu, 13 Jan 2011 21:25:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Jan 2011 23:45:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhlj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1914] failures in testhbaseclidriver</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1914</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;i didnt debug it&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495572">HIVE-1914</key>
            <summary>failures in testhbaseclidriver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jan 2011 07:07:57 +0000</created>
                <updated>Sat, 17 Dec 2011 00:01:17 +0000</updated>
                            <resolved>Sat, 15 Jan 2011 01:21:59 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12981996" author="jvs" created="Sat, 15 Jan 2011 01:21:59 +0000"  >&lt;p&gt;Dup of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1716&quot; title=&quot;make TestHBaseCliDriver use dynamic ports to avoid conflicts with already-running services&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1716&quot;&gt;&lt;del&gt;HIVE-1716&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12477488">HIVE-1716</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 15 Jan 2011 01:21:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72627</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123502</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1915] authorization on database level is broken.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1915</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;CREATE DATABASE IF NOT EXISTS test_db COMMENT &apos;Hive test database&apos;;&lt;br/&gt;
SHOW DATABASES;&lt;/p&gt;

&lt;p&gt;grant `drop` on DATABASE test_db to user hive_test_user;&lt;br/&gt;
grant `select` on DATABASE test_db to user hive_test_user;&lt;/p&gt;

&lt;p&gt;show grant user hive_test_user on DATABASE test_db;&lt;br/&gt;
DROP DATABASE IF EXISTS test_db;&lt;/p&gt;


&lt;p&gt;will fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495637">HIVE-1915</key>
            <summary>authorization on database level is broken.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jan 2011 23:20:57 +0000</created>
                <updated>Wed, 10 Oct 2012 19:39:20 +0000</updated>
                            <resolved>Wed, 19 Jan 2011 22:37:18 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Authorization</component>
                    <component>Metastore</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12981980" author="cwsteinbach" created="Sat, 15 Jan 2011 00:03:00 +0000"  >&lt;p&gt;@Yongqiang: can you please create a review request on reviews.apache.org? Thanks!&lt;/p&gt;</comment>
                            <comment id="12982119" author="he yongqiang" created="Sat, 15 Jan 2011 16:15:09 +0000"  >&lt;p&gt;@Carl, this is the link to review board request: &lt;a href=&quot;https://reviews.apache.org/r/327/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/327/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please review.&lt;/p&gt;</comment>
                            <comment id="12982463" author="namit" created="Mon, 17 Jan 2011 03:21:26 +0000"  >&lt;p&gt;All tables/parititons are dropped in QTestUtil at the end of a unit test.&lt;/p&gt;

&lt;p&gt;Similarly, you should drop all databases/roles also in QTestUtil - I was getting&lt;br/&gt;
some intermittent errors, and traced the root cause to that&lt;/p&gt;</comment>
                            <comment id="12983287" author="he yongqiang" created="Tue, 18 Jan 2011 17:46:34 +0000"  >&lt;p&gt;The new patch integrated Namit&apos;s comment. Added listRoleNames to the metastore API and cleanup all roles in QTestUtils.&lt;/p&gt;</comment>
                            <comment id="12983356" author="cwsteinbach" created="Tue, 18 Jan 2011 20:08:58 +0000"  >&lt;p&gt;@Yongqiang: I posted comments here &lt;a href=&quot;https://reviews.apache.org/r/331/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/331/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12983387" author="he yongqiang" created="Tue, 18 Jan 2011 21:29:18 +0000"  >&lt;p&gt;@Carl, you comments are on existing code. Please open new jiras for them.&lt;/p&gt;</comment>
                            <comment id="12983408" author="cwsteinbach" created="Tue, 18 Jan 2011 22:10:59 +0000"  >&lt;p&gt;@Yongqiang: Which comment are you referring to? As far as I can tell all of my reviewboard comments relate to changes that you made in your patch. To simplify matters can you please respond on reviewboard?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12983409" author="cwsteinbach" created="Tue, 18 Jan 2011 22:19:35 +0000"  >&lt;p&gt;Also, when you file a review request please remember to set the &quot;Summary&quot;, &quot;Bugs&quot; and &quot;Groups&quot; fields.&lt;br/&gt;
This is necessary in order for reviewboard to send a notice to the dev mailing list.&lt;br/&gt;
Please see the wiki for more information: &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/HowToContribute#Review_Process&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/HowToContribute#Review_Process&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12983435" author="he yongqiang" created="Tue, 18 Jan 2011 23:25:54 +0000"  >&lt;p&gt;@Carl, if you want to use review board, go ahead using it. You should not assume everyone else wants to use it for every patch. I will only try to use it as much as possible.&lt;/p&gt;
</comment>
                            <comment id="12983441" author="he yongqiang" created="Tue, 18 Jan 2011 23:32:39 +0000"  >&lt;p&gt;About the &quot;existing code&quot;, it seems the patch added some existing codes to diff, i will try to remove them.&lt;/p&gt;</comment>
                            <comment id="12983448" author="he yongqiang" created="Tue, 18 Jan 2011 23:56:02 +0000"  >&lt;p&gt;a new patch for Carl&apos;s comments&lt;/p&gt;</comment>
                            <comment id="12983498" author="cwsteinbach" created="Wed, 19 Jan 2011 02:20:24 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12983912" author="cwsteinbach" created="Wed, 19 Jan 2011 22:37:18 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468663" name="HIVE-1915-2.patch" size="109990" author="he yongqiang" created="Tue, 18 Jan 2011 17:46:34 +0000"/>
                            <attachment id="12468702" name="HIVE-1915-3.patch" size="109854" author="he yongqiang" created="Tue, 18 Jan 2011 23:49:45 +0000"/>
                            <attachment id="12468428" name="HIVE-1915.1.patch" size="7685" author="he yongqiang" created="Fri, 14 Jan 2011 23:25:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 15 Jan 2011 00:03:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06ajb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1916] Change Default Alias For Aggregated Columns (_c1)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1916</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Problem:&lt;br/&gt;
When running a Hive query that aggregates (does a group by operation), Hive will automatically name this column &lt;em&gt;c0, _c1, _c2, etc.. This is a problem because Hive will not then execute a query against a column that begins with &quot;&lt;/em&gt;&quot; and then the user has to manually input back-ticks in order to get the query to run.&lt;/p&gt;

&lt;p&gt;Potential Solution:&lt;br/&gt;
Hive should by default call these columns by their query assignment like &quot;sum_active30day_users&quot; or if that is not possible, call it something simple like &quot;column_1&quot; so that users can then query the new column without adding special back-ticks.&lt;/p&gt;

&lt;p&gt;Example Query:&lt;br/&gt;
SELECT a.ds, COUNT(a.num_accounts)&lt;/p&gt;

&lt;p&gt;Example Result:&lt;br/&gt;
ds, count_num_accounts OR ds, column_1&lt;/p&gt;</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12495638">HIVE-1916</key>
            <summary>Change Default Alias For Aggregated Columns (_c1)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sameerm">Sameer Menon</assignee>
                                    <reporter username="jmayfield">James Mayfield</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jan 2011 23:46:21 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:00 +0000</updated>
                            <resolved>Tue, 16 Aug 2011 04:26:37 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13081980" author="jiraposter@reviews.apache.org" created="Tue, 9 Aug 2011 22:41:26 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1441/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Ning Zhang.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Default behavior will be as before.&lt;br/&gt;
Adding new Hive conf vars to make the column names include the aggregation function and params.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; title=&quot;Change Default Alias For Aggregated Columns (_c1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1916&quot;&gt;&lt;del&gt;HIVE-1916&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1916&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1155181 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1155181 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/autogen_colname.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/autogen_colname.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1441/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added new query file with expected results. All unit tests pass&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;sameerm&lt;/p&gt;
</comment>
                            <comment id="13081981" author="sameerm" created="Tue, 9 Aug 2011 22:42:59 +0000"  >&lt;p&gt;Added patch for review &lt;a href=&quot;https://reviews.apache.org/r/1441/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/&lt;/a&gt;&lt;br/&gt;
Default behaviour will be as before.&lt;br/&gt;
Adding new Hive conf vars to make the column names include the aggregation function and params.&lt;/p&gt;</comment>
                            <comment id="13081985" author="jiraposter@reviews.apache.org" created="Tue, 9 Aug 2011 22:57:26 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1441/#review1368&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#review1368&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1441/#comment3136&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#comment3136&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please add these definitions to hive-default.xml along with a description for each property.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1441/#comment3140&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#comment3140&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    These are initialized in the constructor. Please don&apos;t also initialize them here.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1441/#comment3137&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#comment3137&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please run checkstyle and correct any violations introduced by your changes.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1441/#comment3142&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#comment3142&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Create a static final variable for the 20 char length limit.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-08-09 22:40:56, sameerm wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1441/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-09 22:40:56)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and Ning Zhang.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Default behavior will be as before.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Adding new Hive conf vars to make the column names include the aggregation function and params.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; title=&quot;Change Default Alias For Aggregated Columns (_c1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1916&quot;&gt;&lt;del&gt;HIVE-1916&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1916&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1155181 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1155181 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/autogen_colname.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/autogen_colname.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1441/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added new query file with expected results. All unit tests pass&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;sameerm&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13081986" author="nzhang" created="Tue, 9 Aug 2011 22:57:31 +0000"  >&lt;p&gt;+1. Will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="13081994" author="nzhang" created="Tue, 9 Aug 2011 23:29:52 +0000"  >&lt;p&gt;sorry Carl and I were commenting on the same time. @Sameer, can you update your patch regarding to Carl&apos;s comments? &lt;/p&gt;</comment>
                            <comment id="13082032" author="jiraposter@reviews.apache.org" created="Wed, 10 Aug 2011 00:57:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1441/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-08-10 00:56:44.290697)&lt;/p&gt;


&lt;p&gt;Review request for hive and Ning Zhang.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added hive.autogen.columnname.prefix.label and hive.autogen.columnname.prefix.includefuncname to hive-default.xml&lt;br/&gt;
Created a static final variable for the 20 char length limit in SemanticAnalyzer.java&lt;br/&gt;
Took out default variable values from SemanticAnalyzer.java (will be set in constructor)&lt;br/&gt;
Fixed checkstyle line length warnings introduced by patch in HiveConf.java, SemanticAnalyzer.java&lt;br/&gt;
Added some more comments in SemanticAnalyzer.java&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Default behavior will be as before.&lt;br/&gt;
Adding new Hive conf vars to make the column names include the aggregation function and params.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; title=&quot;Change Default Alias For Aggregated Columns (_c1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1916&quot;&gt;&lt;del&gt;HIVE-1916&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1916&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1155181 &lt;br/&gt;
  trunk/conf/hive-default.xml 1155181 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1155181 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/autogen_colname.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/autogen_colname.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1441/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added new query file with expected results. All unit tests pass&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;sameerm&lt;/p&gt;
</comment>
                            <comment id="13084282" author="jiraposter@reviews.apache.org" created="Fri, 12 Aug 2011 17:46:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1441/#review1424&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#review1424&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/conf/hive-default.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1441/#comment3286&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#comment3286&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    change &quot;aggregate function&quot; to &quot;function&quot; to avoid confusion. &lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1441/#comment3288&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#comment3288&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    styling nitpick: space between &apos;=&apos;&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1441/#comment3287&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#comment3287&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    remove the trailing space. &lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1441/#comment3289&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#comment3289&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    remove trailing space&lt;/p&gt;



&lt;p&gt;trunk/ql/src/test/queries/clientpositive/autogen_colname.q&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1441/#comment3290&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#comment3290&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    in this test case can you add more functions such as &apos;%&apos;, &apos;/&apos; and even &apos;\n&apos;? I think the parser should already removed &apos;\n&apos; or TABs but need to confirm in the unit test. &lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ning&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-08-10 00:56:44, sameerm wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1441/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-10 00:56:44)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and Ning Zhang.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Default behavior will be as before.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Adding new Hive conf vars to make the column names include the aggregation function and params.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; title=&quot;Change Default Alias For Aggregated Columns (_c1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1916&quot;&gt;&lt;del&gt;HIVE-1916&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1916&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1155181 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/conf/hive-default.xml 1155181 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1155181 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/autogen_colname.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/autogen_colname.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1441/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added new query file with expected results. All unit tests pass&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;sameerm&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13085294" author="jiraposter@reviews.apache.org" created="Mon, 15 Aug 2011 20:09:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1441/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-08-15 20:09:08.444993)&lt;/p&gt;


&lt;p&gt;Review request for hive and Ning Zhang.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Using &quot;columnalias&quot; instead of &quot;columnname&quot; to be consistent with description and code intent. e.g. Hive params are now called &quot;hive.autogen.columnalias.*&quot; instead of &quot;hive.autogen.columnname.&quot;&lt;br/&gt;
Fixing style issues.&lt;br/&gt;
Updated unit test query script with more select expressions including newlines and tabs.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Default behavior will be as before.&lt;br/&gt;
Adding new Hive conf vars to make the column names include the aggregation function and params.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; title=&quot;Change Default Alias For Aggregated Columns (_c1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1916&quot;&gt;&lt;del&gt;HIVE-1916&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1916&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1157970 &lt;br/&gt;
  trunk/conf/hive-default.xml 1157970 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1157970 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/autogen_colalias.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/autogen_colalias.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1441/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added new query file with expected results. All unit tests pass&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;sameerm&lt;/p&gt;
</comment>
                            <comment id="13085405" author="jiraposter@reviews.apache.org" created="Mon, 15 Aug 2011 22:47:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1441/#review1464&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/#review1464&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;p&gt;LGTM&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ning&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-08-15 20:09:08, sameerm wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1441/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-15 20:09:08)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and Ning Zhang.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Default behavior will be as before.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Adding new Hive conf vars to make the column names include the aggregation function and params.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; title=&quot;Change Default Alias For Aggregated Columns (_c1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1916&quot;&gt;&lt;del&gt;HIVE-1916&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1916&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1157970 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/conf/hive-default.xml 1157970 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1157970 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/autogen_colalias.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/autogen_colalias.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1441/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1441/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added new query file with expected results. All unit tests pass&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;sameerm&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13085407" author="nzhang" created="Mon, 15 Aug 2011 22:47:37 +0000"  >&lt;p&gt;+1. Will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="13085413" author="nzhang" created="Mon, 15 Aug 2011 22:53:04 +0000"  >&lt;p&gt;Sameer, can you upload the final patch to here (JIRA)? I&apos;ll start testing using the one you uploaded to the review board for now. &lt;/p&gt;</comment>
                            <comment id="13085482" author="sameerm" created="Tue, 16 Aug 2011 01:49:38 +0000"  >&lt;p&gt;Reviewed patch&lt;/p&gt;</comment>
                            <comment id="13085522" author="nzhang" created="Tue, 16 Aug 2011 04:26:37 +0000"  >&lt;p&gt;Committed. Thanks Sameer!&lt;/p&gt;</comment>
                            <comment id="13085592" author="hudson" created="Tue, 16 Aug 2011 08:54:41 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #898 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/898/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/898/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1916&quot; title=&quot;Change Default Alias For Aggregated Columns (_c1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1916&quot;&gt;&lt;del&gt;HIVE-1916&lt;/del&gt;&lt;/a&gt;. Change Default Alias For Aggregated Columns (_c1) (sameerm via nzhang)&lt;/p&gt;

&lt;p&gt;nzhang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1158104&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1158104&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/autogen_colalias.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/autogen_colalias.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13085829" author="sameerm" created="Tue, 16 Aug 2011 16:42:42 +0000"  >&lt;p&gt;Awesome!&lt;/p&gt;

&lt;p&gt;Thanks Ning and Carl!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12490499" name="HIVE-1916.3.patch.txt" size="10820" author="sameerm" created="Tue, 16 Aug 2011 01:49:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Aug 2011 22:41:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64889</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1917] CTAS (create-table-as-select) throws exception when showing results</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1917</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;CTAS throws an exception in CliDriver when showing results at the end of a query. CTAS should not show results because it is not a &apos;select&apos; query or &apos;desc&apos;/explain etc. It should be the same as create table/view/index and insert overwrite statements. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12495643">HIVE-1917</key>
            <summary>CTAS (create-table-as-select) throws exception when showing results</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Jan 2011 01:25:52 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:20 +0000</updated>
                            <resolved>Mon, 17 Jan 2011 03:17:12 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12981999" author="nzhang" created="Sat, 15 Jan 2011 01:27:17 +0000"  >&lt;p&gt;Running tests now.&lt;/p&gt;</comment>
                            <comment id="12982050" author="namit" created="Sat, 15 Jan 2011 09:03:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12982462" author="namit" created="Mon, 17 Jan 2011 03:17:12 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468433" name="HIVE-1917.patch" size="5250" author="nzhang" created="Sat, 15 Jan 2011 01:27:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 15 Jan 2011 09:03:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72625</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123504</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1918] Add export/import facilities to the hive system</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1918</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is an enhancement request to add export/import features to hive.&lt;/p&gt;

&lt;p&gt;With this language extension, the user can export the data of the table - which may be located in different hdfs locations in case of a partitioned table - as well as the metadata of the table into a specified output location. This output location can then be moved over to another different hadoop/hive instance and imported there.  &lt;/p&gt;

&lt;p&gt;This should work independent of the source and target metastore dbms used; for instance, between derby and mysql.&lt;/p&gt;

&lt;p&gt;For partitioned tables, the ability to export/import a subset of the partition must be supported.&lt;/p&gt;

&lt;p&gt;Howl will add more features on top of this: The ability to create/use the exported data even in the absence of hive, using MR or Pig. Please see &lt;a href=&quot;http://wiki.apache.org/pig/Howl/HowlImportExport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/pig/Howl/HowlImportExport&lt;/a&gt; for these details.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12495798">HIVE-1918</key>
            <summary>Add export/import facilities to the hive system</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="n_krishna_kumar">Krishna Kumar</assignee>
                                    <reporter username="n_krishna_kumar">Krishna Kumar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jan 2011 15:49:21 +0000</created>
                <updated>Thu, 4 Jul 2013 07:35:41 +0000</updated>
                            <resolved>Tue, 15 Mar 2011 20:30:04 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="12983529" author="n_krishna_kumar" created="Wed, 19 Jan 2011 04:02:48 +0000"  >&lt;p&gt;Patch for adding export/import.&lt;/p&gt;</comment>
                            <comment id="12983532" author="n_krishna_kumar" created="Wed, 19 Jan 2011 04:24:38 +0000"  >&lt;p&gt;Design notes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Export/Import modeled on existing load functionality. No new tasks added, but existing tasks for copy/move/create table/add partition et al reused.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;EXPORT TABLE table &lt;span class=&quot;error&quot;&gt;&amp;#91;PARTITION (partition_col=partition_colval, ...) &amp;#93;&lt;/span&gt; TO location&lt;/li&gt;
	&lt;li&gt;IMPORT [&lt;span class=&quot;error&quot;&gt;&amp;#91;EXTERNAL&amp;#93;&lt;/span&gt; TABLE table &lt;span class=&quot;error&quot;&gt;&amp;#91;PARTITION (partition_col=partition_colval, ...)&amp;#93;&lt;/span&gt; ] FROM sourcelocation &lt;span class=&quot;error&quot;&gt;&amp;#91;LOCATION targetlocation&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The data/metadata stored as an xml-serialized file for the metadata in the target directory plus sub-directories for the data files.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12983751" author="appodictic" created="Wed, 19 Jan 2011 15:08:44 +0000"  >&lt;p&gt;Can we do this without?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-  public Partition(Table tbl, Map&amp;lt;String, String&amp;gt; partSpec, Path location)
+  public Partition(Table tbl, Map&amp;lt;String, String&amp;gt; partSpec, Path location, Map&amp;lt;String, String&amp;gt; partParams)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I would like to see some  form of API stability in the metastore. It is very disruptive for programs that work against the metastore. Of which internally I have several.&lt;/p&gt;</comment>
                            <comment id="12984128" author="n_krishna_kumar" created="Thu, 20 Jan 2011 10:39:17 +0000"  >&lt;p&gt;Ok. Will take of this via a delegating ctor.&lt;/p&gt;

&lt;p&gt;A process question: I guess I should wait for more comments from other reviewers before I create another patch in case if others are reviewing the current patch?&lt;/p&gt;</comment>
                            <comment id="12984132" author="cwsteinbach" created="Thu, 20 Jan 2011 10:55:30 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/339&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/339&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12984348" author="appodictic" created="Thu, 20 Jan 2011 19:31:19 +0000"  >&lt;p&gt;I was not implying that we should definately not add &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;, Map&amp;lt;String, String&amp;gt; partParams&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;. What I am asking is what is the rational for doing it? I think we should not need to add things to the metastore to export it&apos;s information, but I might be missing something.&lt;/p&gt;</comment>
                            <comment id="12984563" author="n_krishna_kumar" created="Fri, 21 Jan 2011 04:48:29 +0000"  >&lt;p&gt;Why export/import needs this change: It is not the export part, but rather the import part which needs this change. While creating a partition as part of an import, we need to be able to create the partition along with its ancillary data including partition parameters. But first part of the existing &quot;create partition&quot; flow (AddPartitionDesc -&amp;gt; DDLTask.addPartition -&amp;gt; Hive.createPartition) did not support partition params specification but the second part (metastore.api.Partition -&amp;gt; IMetaStoreClient.add_partition -&amp;gt; HiveMetaStore.HMSHandler.add_partition -&amp;gt; ObjectStore.addPartition) does. So I added the ability to pass the partition parameters along in the first part of the flow.&lt;/p&gt;

&lt;p&gt;In terms of options for compatible changes, there are two I can see:&lt;/p&gt;

&lt;p&gt;1. The solution suggested above. Add an additional ctor so that no existing code breaks.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public Partition(Table tbl, Map&amp;lt;String, String&amp;gt; partSpec, Path location) {
  this(tbl, partSpec, location, null);
}

public Partition(Table tbl, Map&amp;lt;String, String&amp;gt; partSpec, Path location, Map&amp;lt;String, String&amp;gt; partParams) {...}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2. Have only the current ctor but in Hive.createPartition get the underlying metastore.api.Partition and set the parameters to it before passing it on to the metastoreClient.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="12984952" author="appodictic" created="Fri, 21 Jan 2011 21:40:49 +0000"  >&lt;p&gt;If partition currently only has one constructor I do not think we add a second constructor, just change it and break the old compatibility. If we do add partParams we should have DDL statements to view and modify these. For a long time there were many things that were added in the create table such as InputFormat or OutputFormat and we had no way to view or modify these besides going directly to the JDBC and changing them. I am not sure if this is the case here, but I do not think we should be adding fields that are not completely manageable. &lt;/p&gt;</comment>
                            <comment id="12984981" author="cwsteinbach" created="Fri, 21 Jan 2011 22:47:06 +0000"  >&lt;p&gt;@Krishna: I tried applying the patch to trunk and running the tests. Noticed a couple things upfront that need to be fixed:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The patch doesn&apos;t apply cleanly with &apos;patch -p0&apos;. To satisfy this using a Git repo you need to generate the patch using &apos;git diff --no-prefix ...&apos;&lt;/li&gt;
	&lt;li&gt;Most of the new exim* tests fail with diffs. Can you please fix this and update the patch?&lt;/li&gt;
	&lt;li&gt;&apos;hive.test.exim&apos; needs to be added to HiveConf and hive-default.xml. There is already a &apos;hive.test.mode.*&apos; namespace defined in HiveConf, so you should probably follow this convention and change the name to &apos;hive.test.mode.exim&apos;. I think an even better solution would be to instead define a new conf property called &apos;hive.exim.uri.scheme.whitelist&apos; and make it a comma separated list of acceptable URI schemes for import and export.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12985527" author="namit" created="Mon, 24 Jan 2011 06:02:05 +0000"  >&lt;p&gt;A couple of issues:&lt;/p&gt;

&lt;p&gt;1. Can you add a new test directory - I mean, exporting in /tmp/.. means that there will be problems in concurrent tests on the same machine.&lt;br/&gt;
2. Do you want to support errors at import time - I mean, what happens if one of the rows is bad - should I have an option to specify the number&lt;br/&gt;
    of rows to ignore, and dump them somewhere else ? &lt;/p&gt;</comment>
                            <comment id="12985556" author="n_krishna_kumar" created="Mon, 24 Jan 2011 08:26:08 +0000"  >&lt;p&gt;@Edward: Both the existing data model (prettified er diagram attached) and the object model (class org.apache.hadoop.hive.metastore.api.Partition) allow the specification of parameters on a per-partition basis. So I am not adding new fields to either of these models. By proposal 2 above, I will not be adding any ctor parameters to  org.apache.hadoop.hive.ql.metadata.Partition as well. &lt;/p&gt;

&lt;p&gt;Your point re providing manageability via ddl statements to all aspects of the data/object model is taken. But I am not adding new aspects to either model, so if indeed we need to address current manageability gaps, should they not be addressed via another enhancement request, rather than this one, which aims simply to add export/import facilities?&lt;/p&gt;</comment>
                            <comment id="12985557" author="n_krishna_kumar" created="Mon, 24 Jan 2011 08:31:43 +0000"  >&lt;p&gt;@Carl: &lt;/p&gt;

&lt;p&gt;  1. Taken care in the new patch.&lt;br/&gt;
  2. Can you post some of the diffs that you get failures on? I had a problem with running the tests on nfs mounted directories. That had to do with an existing bug in the load functionality. This used to result in a &quot;MetaException: could not delete dir&quot; error while trying to cleanup the effects of the previous test. I have created a separate jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1924&quot; title=&quot;checkformat implementations leak handles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1924&quot;&gt;&lt;del&gt;HIVE-1924&lt;/del&gt;&lt;/a&gt; for this and have attached a patch.&lt;br/&gt;
  3. Have taken the whitelist approach, the whitelist now set as &quot;hdfs,pfile&quot;. &lt;/p&gt;</comment>
                            <comment id="12985558" author="n_krishna_kumar" created="Mon, 24 Jan 2011 08:38:05 +0000"  >&lt;p&gt;A quick summary of the second derivative (difference between diffs)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;used no-prefix while generating patch&lt;/li&gt;
	&lt;li&gt;hive.test.exim replaced by hive.exim.uri.scheme.whitelist&lt;/li&gt;
	&lt;li&gt;schemaCompare, initializeFromUrl, validateTable all refactored to util methods&lt;/li&gt;
	&lt;li&gt;trailing spaces in some test files removed&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12985564" author="n_krishna_kumar" created="Mon, 24 Jan 2011 08:46:07 +0000"  >&lt;p&gt;Prettified ER diagram of the existing data model&lt;/p&gt;</comment>
                            <comment id="12985565" author="n_krishna_kumar" created="Mon, 24 Jan 2011 08:52:14 +0000"  >&lt;p&gt;@Namit: &lt;/p&gt;

&lt;p&gt;1. Do you have any ideas re how we can get an unique, temporary directory name for use in the test script files? In code of course we can use the getScratchDir methods, but how to solve this problem in these test scripts?&lt;/p&gt;

&lt;p&gt;2. Export/Import, as in the case of Load, operates at file level rather than at record level. So there are no record-level filters available.&lt;/p&gt;</comment>
                            <comment id="12985744" author="appodictic" created="Mon, 24 Jan 2011 15:45:18 +0000"  >
&lt;blockquote&gt;
&lt;p&gt;But I am not adding new aspects to either model, so if indeed we need to address current manageability gaps, should they not be addressed via another enhancement request, rather than this one, which aims simply to add export/import facilities?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This depends on the lag time between the feature getting added and the enhancement being added. With wishful thinking the two events will be close, but history does not always agree. Management becomes more important as different people begin using the metastore for different purposes. I believe if we add any feature support to manage it completely with DML is mandatory. Currently the metastore is changing for security. import-export, and indexes if each of these features are only half manageable at time X this will make releases awkward and half functional. &lt;/p&gt;</comment>
                            <comment id="12985814" author="namit" created="Mon, 24 Jan 2011 16:59:59 +0000"  >&lt;p&gt;@Krishna&lt;/p&gt;

&lt;p&gt;1. How is it different from running multiple tests currently - the output files are generated in&lt;br/&gt;
build/ql/.... directory under the hive installation. Similarly, you can create a new directory under build.&lt;br/&gt;
This should be definitely done in this patch itself.&lt;/p&gt;

&lt;p&gt;2. Load does not do any checking - not does it perform any metadata operation. The table already exists,&lt;br/&gt;
   and load is merely a helper function. Since import is touching both data and metadata, it makes sense&lt;br/&gt;
   to validate the data (atleast optionally) - but that can always be done in a follow-up.&lt;/p&gt;

</comment>
                            <comment id="12988690" author="n_krishna_kumar" created="Mon, 31 Jan 2011 08:42:47 +0000"  >&lt;p&gt;Patch including &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;no changes to ql.metadata.Partition as per option#2 above&lt;/li&gt;
	&lt;li&gt;use relative paths in tests&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12988693" author="n_krishna_kumar" created="Mon, 31 Jan 2011 08:50:41 +0000"  >&lt;p&gt;@Namit: Attached patch now uses relative paths in test scripts; (Note that some existing tests &lt;span class=&quot;error&quot;&gt;&amp;#91;clientpositive/insertexternal1.q, clientpositive/load_fs.q&amp;#93;&lt;/span&gt; uses absolute paths even today. Those need to be changed via another bug report.)&lt;/p&gt;

&lt;p&gt;@Edward: No changes to Partition.java as proposed in option 2 above. &lt;/p&gt;</comment>
                            <comment id="12989746" author="n_krishna_kumar" created="Wed, 2 Feb 2011 19:01:40 +0000"  >&lt;p&gt;Patch with all open issues addressed&lt;/p&gt;</comment>
                            <comment id="12989747" author="n_krishna_kumar" created="Wed, 2 Feb 2011 19:02:45 +0000"  >&lt;p&gt;With this patch, I think all above issues are addressed. Also have added 3 bug fixes + tests for those bugs. Please review.&lt;/p&gt;</comment>
                            <comment id="12990678" author="namit" created="Fri, 4 Feb 2011 19:00:29 +0000"  >&lt;p&gt;Can you create a review-board request. or is the old one still valid ?&lt;/p&gt;</comment>
                            <comment id="12990826" author="namit" created="Fri, 4 Feb 2011 23:23:29 +0000"  >&lt;p&gt;@Paul, you should definitely review it also, before it gets in.&lt;br/&gt;
I am reviewing it right now&lt;/p&gt;</comment>
                            <comment id="12990860" author="cwsteinbach" created="Sat, 5 Feb 2011 01:15:24 +0000"  >&lt;p&gt;I updated the diff on reviewboard: &lt;a href=&quot;https://reviews.apache.org/r/339&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/339&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12991282" author="pauly" created="Mon, 7 Feb 2011 06:20:53 +0000"  >&lt;p&gt;Looking at it as well..&lt;/p&gt;</comment>
                            <comment id="12991578" author="namit" created="Mon, 7 Feb 2011 20:29:41 +0000"  >&lt;p&gt;Still looking:&lt;/p&gt;

&lt;p&gt;1. Move export/import stuff to a new directory/file.&lt;br/&gt;
   All the changes of HiveUtils should be in EximUtil.&lt;/p&gt;

&lt;p&gt;2. DDLTask.java - why are the existing APIs changing ?&lt;br/&gt;
   The default behavior for createPartition() should not change&lt;/p&gt;

&lt;p&gt;3. inputs not populated for import, and outputs for export.&lt;br/&gt;
   This can break some dependent stuff: authorization, concurrency etc.&lt;/p&gt;</comment>
                            <comment id="12992036" author="n_krishna_kumar" created="Tue, 8 Feb 2011 16:36:29 +0000"  >&lt;p&gt;Thanks, Namit, for the comments.&lt;/p&gt;

&lt;p&gt;1. Ok re moving serialization/deserialization methods to EximUtil, but did not understand the first part. Are you suggesting moving EximUtil, ImportSemanticAnalyzer and ExportSemanticAnalyzer to a new package? Does not seem to warrant it; today all parsing/semantic analysis classes are in o.a.h.h.ql.parse package...&lt;/p&gt;

&lt;p&gt;2. You mean Hive.java&apos;s API? The existing first createPartition remains as it is, the second createPartition used in DDLTasek is changing to allow the creation of a partition with all the partition-specific configurations. Since AddPartitionDesc is initialized with nulls/-1 for these extra parameters, the existing behaviour is not altered.&lt;/p&gt;

&lt;p&gt;3. Can you expand a little? What are inputs/outputs (classes?, tables?) - if they are part of the existing object model/data model, I think they are exported and imported. &lt;/p&gt;</comment>
                            <comment id="12992339" author="namit" created="Wed, 9 Feb 2011 06:40:13 +0000"  >&lt;p&gt;1. Just moving the serialization/deserialization methods&lt;br/&gt;
3. inputs and outputs are present in SemanticAnalyzer - &lt;/p&gt;

&lt;p&gt;Look at ReadEntity/WriteEntity - they are populated by the appropriate semantic analyzer and&lt;br/&gt;
then used later by:&lt;/p&gt;

&lt;p&gt;a. concurrency : uses inputs/outputs to lock those objects&lt;br/&gt;
b. authorization: uses inputs/outputs for permission checking&lt;br/&gt;
c. execution hooks: they can be used for a variety of things: in facebook, we use them for replication&lt;/p&gt;</comment>
                            <comment id="12992344" author="namit" created="Wed, 9 Feb 2011 06:54:45 +0000"  >&lt;p&gt;Reading from:&lt;br/&gt;
&lt;a href=&quot;http://download.oracle.com/docs/cd/B10500_01/server.920/a96652/ch02.htm#1005081&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://download.oracle.com/docs/cd/B10500_01/server.920/a96652/ch02.htm#1005081&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Importing into Existing Tables&lt;/p&gt;

&lt;p&gt;This section describes factors to take into account when you import data into existing tables.&lt;/p&gt;

&lt;p&gt;Manually Creating Tables Before Importing Data&lt;/p&gt;

&lt;p&gt;When you choose to create tables manually before importing data into them from an export file, you should use either the same table definition previously used or a compatible format. For example, although you can increase the width of columns and change their order, you cannot do the following:&lt;/p&gt;

&lt;p&gt;Add NOT NULL columns&lt;br/&gt;
Change the datatype of a column to an incompatible datatype (LONG to NUMBER, for example)&lt;br/&gt;
Change the definition of object types used in a table&lt;br/&gt;
Change DEFAULT column values&lt;/p&gt;

&lt;p&gt;Note:&lt;br/&gt;
When tables are manually created before data is imported, the CREATE TABLE statement in the export dump file will fail because the table already exists. To avoid this failure and continue loading data into the table, set the import parameter IGNORE=y. Otherwise, no data will be loaded into the table because of the table creation error.&lt;/p&gt;


&lt;p&gt;Do you want to support this ? Seems like a reasonable thing to have - currently, an error is thrown during import&lt;br/&gt;
if the table already exists ?&lt;/p&gt;</comment>
                            <comment id="12992373" author="n_krishna_kumar" created="Wed, 9 Feb 2011 08:03:04 +0000"  >&lt;p&gt;Importing into existing tables is now supported, but the checks (to see whether the imported table and the target table are compatible) have been kept fairly simple for now. Please see ImportSemanticAnalyzer.checkTable. The schemas (column and partition) of the two should match exactly, except for comments. Since we are just moving files (rather than rewriting records), I think there will be issues if the metadata schema does not match (in terms of types, number etc) the data serialization exactly.&lt;/p&gt;

&lt;p&gt;Re the earlier comment re outputs/inputs, got what you meant. I will add the table/partition to the inputs in exportsemanticanalyzer. But in the case of the imports, I see that the tasks themselves adds the entity operated upon to the inputs/outputs list. Isn&apos;t that too late for authorization/concurrency, even though it may work for replication. Or both the sem.analyzers and the tasks are expected to add them? In the case of newly created table/partition, the sem.analyzer does not have a handle ?&lt;/p&gt;</comment>
                            <comment id="12992555" author="namit" created="Wed, 9 Feb 2011 16:27:29 +0000"  >&lt;p&gt;Tasks only add them when they may be available at compile time - for example, in case of dynamic partitions.&lt;br/&gt;
Semantic Analyzer is supposed to add them&lt;/p&gt;</comment>
                            <comment id="12992606" author="n_krishna_kumar" created="Wed, 9 Feb 2011 17:13:04 +0000"  >&lt;p&gt;Hmm. LoadSemanticAnalyzer (which knows the table) does not add it to the outputs, but the MoveTask it schedules, does. &lt;/p&gt;

&lt;p&gt;Similarly, CREATE-TABLE does not add the entity but the DDLTask it schedules, does. This may be fine only because the entity does not exist at compile time?&lt;/p&gt;

&lt;p&gt;ADD-PARTITION adds the table as an &lt;b&gt;input&lt;/b&gt; at compile time and the partition itself is added as an output at execution time. Should not the table be an output (at compile time) as well - for authorization/concurrency purposes?&lt;/p&gt;

&lt;p&gt;Anyway, where the import operates on existing tables/partitions, I will add them at compile time. If the entity is being created as part of the task, then the task will be adding them to inputs/outputs at runtime. Is this fine?&lt;/p&gt;</comment>
                            <comment id="12992612" author="namit" created="Wed, 9 Feb 2011 17:22:45 +0000"  >&lt;p&gt;Please file bugs for the above cases - &lt;/p&gt;


&lt;p&gt;The changes for import look fine.&lt;br/&gt;
You also need to make similar changes for export.&lt;/p&gt;</comment>
                            <comment id="12993545" author="n_krishna_kumar" created="Fri, 11 Feb 2011 15:46:59 +0000"  >&lt;p&gt;Patch with &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;metadata ser/deser methods moved from HiveUtils to EximUtil&lt;/li&gt;
	&lt;li&gt;inputs and outputs populated; authorization related bugfix and tests&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12993546" author="n_krishna_kumar" created="Fri, 11 Feb 2011 15:47:46 +0000"  >&lt;p&gt;Please review. Will try and see if I can update the reviewboard myself...&lt;/p&gt;</comment>
                            <comment id="12995669" author="namit" created="Thu, 17 Feb 2011 05:09:09 +0000"  >&lt;p&gt;Can you upload a patch to review-board&lt;/p&gt;</comment>
                            <comment id="12995767" author="n_krishna_kumar" created="Thu, 17 Feb 2011 11:45:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/430/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/430/&lt;/a&gt; added (with hive-git as repository).&lt;/p&gt;

&lt;p&gt;Carl, can you take down 339 as that is now superseded?&lt;/p&gt;</comment>
                            <comment id="12997158" author="namit" created="Sun, 20 Feb 2011 16:35:06 +0000"  >&lt;p&gt;Krishna, the code changes look good - I had one concern only.&lt;/p&gt;

&lt;p&gt;The functions in EximUtil.java like:&lt;/p&gt;


&lt;p&gt;  private static Element createStorageDescriptor(Document doc,&lt;br/&gt;
      String location,&lt;br/&gt;
      String inputFormatClass,&lt;/p&gt;


&lt;p&gt;have a implicit dependency on the metastore schema. &lt;br/&gt;
If the schema changes, export/import will break, and it will be difficult&lt;br/&gt;
to add them.&lt;/p&gt;

&lt;p&gt;Do you want to think about it ?&lt;/p&gt;

&lt;p&gt;I mean, add a API in the metastore thrift to generate this, or something like this ?&lt;br/&gt;
So that, this code is auto-generated and is amenable to new fields.&lt;/p&gt;</comment>
                            <comment id="12997160" author="namit" created="Sun, 20 Feb 2011 16:35:36 +0000"  >&lt;p&gt;@Paul, do you have any additional comments ?&lt;/p&gt;</comment>
                            <comment id="12997296" author="n_krishna_kumar" created="Mon, 21 Feb 2011 08:07:45 +0000"  >&lt;p&gt;There are a few reasons why I took this approach&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The decision on compatibility (forward/backward) checks as in EximUtil.checkCompatibility needs to taken consciously. That is, automatically breaking backward compatibility is not an option here I think.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;What needs to be serialized/deserialized is also requires a human decision. For instance, even now, authorization details are not transferred by an export/import.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The serialization/deserialization methods are also used by howl codebase outside of a hive context. It will be good to have this code only loosely coupled to the metastore code.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12997328" author="pauly" created="Mon, 21 Feb 2011 09:52:42 +0000"  >&lt;p&gt;@namit - was working on some other issues, will take another look.&lt;/p&gt;</comment>
                            <comment id="12998129" author="pauly" created="Wed, 23 Feb 2011 02:14:58 +0000"  >&lt;p&gt;Made a couple of comments on reviewboard.&lt;/p&gt;</comment>
                            <comment id="12998442" author="n_krishna_kumar" created="Wed, 23 Feb 2011 16:43:31 +0000"  >&lt;p&gt;Thanks Paul. &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Your comments are on a superseded review board submission; I will remind Carl again to take it down. The current reviewboard submission is up at https://reviews.apache.org/r/430/, but never the less both your comments are still applicable.&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;1. Ok. Will address it.&lt;/p&gt;

&lt;p&gt;2. I am not seeing how compatibility checking and selective serialization/deserialization of an object graph will be possible by auto-generated code. Will look into both thrift and datanucleus serialization (that you mentioned) from this aspect, but fine-grained control over this process is required here I think.&lt;/p&gt;
</comment>
                            <comment id="13000430" author="n_krishna_kumar" created="Mon, 28 Feb 2011 17:49:06 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Nested ternaries expanded&lt;/li&gt;
	&lt;li&gt;thrift-based serialization for the metastore objects&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Please review.&lt;/p&gt;</comment>
                            <comment id="13000445" author="cwsteinbach" created="Mon, 28 Feb 2011 18:17:29 +0000"  >&lt;p&gt;I discarded my reviewboard request after Krishna&apos;s original request. Unfortunately this doesn&apos;t appear to prevent people from commenting on it, and reviewboard won&apos;t let me delete the request outright.&lt;/p&gt;

&lt;p&gt;Please review the patch here: &lt;a href=&quot;https://reviews.apache.org/r/430/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/430/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13006329" author="pauly" created="Mon, 14 Mar 2011 04:24:34 +0000"  >&lt;p&gt;@Krishna - can you regenerate this patch against trunk?&lt;/p&gt;</comment>
                            <comment id="13006346" author="n_krishna_kumar" created="Mon, 14 Mar 2011 08:01:04 +0000"  >&lt;p&gt;Merged with trunk&lt;/p&gt;</comment>
                            <comment id="13006582" author="pauly" created="Mon, 14 Mar 2011 19:17:44 +0000"  >&lt;p&gt;+1 Looks good, will test and commit&lt;/p&gt;</comment>
                            <comment id="13007154" author="pauly" created="Tue, 15 Mar 2011 20:30:04 +0000"  >&lt;p&gt;Committed. Thanks Krishna!&lt;/p&gt;</comment>
                            <comment id="13699829" author="gelesh" created="Thu, 4 Jul 2013 07:35:41 +0000"  >&lt;p&gt;Wish:-&lt;br/&gt;
Can We have a option to copy meta information alone,&lt;/p&gt;

&lt;p&gt;UseCase:-&lt;br/&gt;
So that, during DistCp with out copying the Hive files, (with partition folder and clustered file structure) to a temp location, we can create a _meta file alone.&lt;/p&gt;

&lt;p&gt;Then, DistCp the hive files (the partioned and clusteded file structure) as such and load re create a hive table in the new cluster.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12641041">HIVE-4299</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12543877">HIVE-2816</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12469128" name="HIVE-1918.patch.1.txt" size="318421" author="n_krishna_kumar" created="Mon, 24 Jan 2011 08:38:05 +0000"/>
                            <attachment id="12469801" name="HIVE-1918.patch.2.txt" size="324744" author="n_krishna_kumar" created="Mon, 31 Jan 2011 08:42:47 +0000"/>
                            <attachment id="12470063" name="HIVE-1918.patch.3.txt" size="369662" author="n_krishna_kumar" created="Wed, 2 Feb 2011 19:01:39 +0000"/>
                            <attachment id="12470864" name="HIVE-1918.patch.4.txt" size="421698" author="n_krishna_kumar" created="Fri, 11 Feb 2011 15:46:59 +0000"/>
                            <attachment id="12473539" name="HIVE-1918.patch.5.txt" size="403643" author="n_krishna_kumar" created="Mon, 14 Mar 2011 08:01:04 +0000"/>
                            <attachment id="12468726" name="HIVE-1918.patch.txt" size="319335" author="n_krishna_kumar" created="Wed, 19 Jan 2011 04:04:15 +0000"/>
                            <attachment id="12469129" name="hive-metastore-er.pdf" size="140195" author="n_krishna_kumar" created="Mon, 24 Jan 2011 08:46:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Jan 2011 15:08:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69607</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123505</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
