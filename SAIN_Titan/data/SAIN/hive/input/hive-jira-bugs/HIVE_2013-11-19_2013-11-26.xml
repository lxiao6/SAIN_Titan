<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:25:48 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2013-11-19+AND+created+%3C%3D+2013-11-26+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="37" total="37"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-5849] Improve the stats of operators based on heuristics in the absence of any column statistics</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5849</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In the absence of any column statistics, operators will simply use the statistics from its parents. It is useful to apply some heuristics to update basic statistics (number of rows and data size) in the absence of any column statistics. This will be worst case scenario.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12679870">HIVE-5849</key>
            <summary>Improve the stats of operators based on heuristics in the absence of any column statistics</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12670659">HIVE-5369</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Nov 2013 03:45:18 +0000</created>
                <updated>Mon, 25 Nov 2013 19:16:30 +0000</updated>
                            <resolved>Mon, 25 Nov 2013 19:16:30 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13827001" author="prasanth_j" created="Tue, 19 Nov 2013 22:13:15 +0000"  >&lt;p&gt;Uploading initial patch for review.&lt;/p&gt;</comment>
                            <comment id="13827195" author="prasanth_j" created="Wed, 20 Nov 2013 01:02:54 +0000"  >&lt;p&gt;Regenerated output for more test cases.&lt;/p&gt;</comment>
                            <comment id="13827196" author="prasanth_j" created="Wed, 20 Nov 2013 01:03:06 +0000"  >&lt;p&gt;Marking it as patch available.&lt;/p&gt;</comment>
                            <comment id="13827934" author="prasanth_j" created="Wed, 20 Nov 2013 18:23:45 +0000"  >&lt;p&gt;Fixed failing test case bucketmapjoin7.q in TestMinimrCliDriver.&lt;/p&gt;</comment>
                            <comment id="13827939" author="prasanth_j" created="Wed, 20 Nov 2013 18:27:18 +0000"  >&lt;p&gt;Reuploading .3 patch for HIVE QA to run precommit tests.&lt;/p&gt;</comment>
                            <comment id="13828017" author="prasanth_j" created="Wed, 20 Nov 2013 19:28:48 +0000"  >&lt;p&gt;Uploading java only patch for review. Q file tests are running. I will reupload the patch once done.&lt;/p&gt;</comment>
                            <comment id="13828215" author="prasanth_j" created="Wed, 20 Nov 2013 22:34:34 +0000"  >&lt;p&gt;Addressed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt;&apos;s review comments. Regenerated golden files of affected test cases.&lt;/p&gt;</comment>
                            <comment id="13828229" author="rhbutani" created="Wed, 20 Nov 2013 22:44:48 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13828537" author="hiveqa" created="Thu, 21 Nov 2013 06:37:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615014/HIVE-5849.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615014/HIVE-5849.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 114 failed/errored test(s), 4680 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join18
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join18_multi_distinct
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join22
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join24
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join26
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join27
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join30
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join31
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join32
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_smb_mapjoin_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_map_join_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_map_join_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketcontext_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_correlationoptimizer9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynamic_partition_skip_default
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_explain_rearrange
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_auto
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input39_hadoop20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join30
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join31
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join38
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join40
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lateral_view_cp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_metadataonly1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multiMapJoin1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multiMapJoin2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multi_insert_lateral_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_gby_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_reduce_deduplicate_extended
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoinopt2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin_17
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sort_merge_join_desc_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udtf_json_tuple
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udtf_parse_url_tuple
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union17
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union21
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union24
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union26
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union31
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_left_outer_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_shufflejoin
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_map_operators
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/382/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/382/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/382/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/382/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 114 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615014&lt;/p&gt;</comment>
                            <comment id="13828847" author="prasanth_j" created="Thu, 21 Nov 2013 11:30:49 +0000"  >&lt;p&gt;Fixed failing test cases. Most failures were due to NPE in new code which is fixed now. union20.q query failed because subquery with UNION ALL does not propagate the table alias properly. This will return null column statistics though valid column statistics are present. This issue will be addressed in a separate JIRA.&lt;/p&gt;</comment>
                            <comment id="13829532" author="prasanth_j" created="Fri, 22 Nov 2013 00:54:30 +0000"  >&lt;p&gt;Reuploading patch as it wasn&apos;t queued in precommit test.&lt;/p&gt;</comment>
                            <comment id="13829832" author="hiveqa" created="Fri, 22 Nov 2013 09:40:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615235/HIVE-5849.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615235/HIVE-5849.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4680 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynamic_partition_skip_default
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/396/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/396/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/396/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/396/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615235&lt;/p&gt;</comment>
                            <comment id="13830264" author="prasanth_j" created="Fri, 22 Nov 2013 19:52:13 +0000"  >&lt;p&gt;removed changes to dynamic_partition_skip_default.q which caused the test failure.&lt;/p&gt;</comment>
                            <comment id="13830484" author="prasanth_j" created="Sat, 23 Nov 2013 01:18:57 +0000"  >&lt;p&gt;Reuploading patch for precommit test to pickup.&lt;/p&gt;</comment>
                            <comment id="13830520" author="hiveqa" created="Sat, 23 Nov 2013 02:17:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615428/HIVE-5849.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615428/HIVE-5849.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4680 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/406/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/406/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/406/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/406/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615428&lt;/p&gt;</comment>
                            <comment id="13831794" author="rhbutani" created="Mon, 25 Nov 2013 19:16:30 +0000"  >&lt;p&gt;Thanks Prasanth&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12614697" name="HIVE-5849.1.patch.txt" size="63597" author="prasanth_j" created="Tue, 19 Nov 2013 22:13:15 +0000"/>
                            <attachment id="12614752" name="HIVE-5849.2.patch.txt" size="468910" author="prasanth_j" created="Wed, 20 Nov 2013 01:02:53 +0000"/>
                            <attachment id="12614940" name="HIVE-5849.3.patch" size="470421" author="prasanth_j" created="Wed, 20 Nov 2013 18:27:18 +0000"/>
                            <attachment id="12614939" name="HIVE-5849.3.patch.txt" size="470421" author="prasanth_j" created="Wed, 20 Nov 2013 18:23:45 +0000"/>
                            <attachment id="12614965" name="HIVE-5849.4.javaonly.patch" size="18845" author="prasanth_j" created="Wed, 20 Nov 2013 19:28:48 +0000"/>
                            <attachment id="12615014" name="HIVE-5849.5.patch" size="385236" author="prasanth_j" created="Wed, 20 Nov 2013 22:34:34 +0000"/>
                            <attachment id="12615235" name="HIVE-5849.6.patch" size="498862" author="prasanth_j" created="Fri, 22 Nov 2013 00:54:30 +0000"/>
                            <attachment id="12615428" name="HIVE-5849.7.patch" size="493398" author="prasanth_j" created="Sat, 23 Nov 2013 01:18:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Nov 2013 22:44:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359228</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pxev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359527</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5850] Multiple table join error for avro </title>
                <link>https://issues.apache.org/jira/browse/HIVE-5850</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Reproduce step:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-- Create table Part.
CREATE EXTERNAL TABLE part
ROW FORMAT SERDE &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.serde2.avro.AvroSerDe&apos;&lt;/span&gt;
STORED AS
INPUTFORMAT &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerInputFormat&apos;&lt;/span&gt;
OUTPUTFORMAT &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerOutputFormat&apos;&lt;/span&gt;
LOCATION &lt;span class=&quot;code-quote&quot;&gt;&apos;hdfs:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;hostname&amp;gt;/user/hadoop/tpc-h/data/part&apos;&lt;/span&gt;
&lt;/span&gt;TBLPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&apos;avro.schema.url&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;hdfs:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;hostname&amp;gt;/user/hadoop/tpc-h/schema/part.avsc&apos;&lt;/span&gt;);
&lt;/span&gt;
-- Create table Part Supplier.
CREATE EXTERNAL TABLE partsupp
ROW FORMAT SERDE &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.serde2.avro.AvroSerDe&apos;&lt;/span&gt;
STORED AS
INPUTFORMAT &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerInputFormat&apos;&lt;/span&gt;
OUTPUTFORMAT &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerOutputFormat&apos;&lt;/span&gt;
LOCATION &lt;span class=&quot;code-quote&quot;&gt;&apos;hdfs:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;hostname&amp;gt;/user/hadoop/tpc-h/data/partsupp&apos;&lt;/span&gt;
&lt;/span&gt;TBLPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&apos;avro.schema.url&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;hdfs:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;hostname&amp;gt;/user/hadoop/tpc-h/schema/partsupp.avsc&apos;&lt;/span&gt;);
&lt;/span&gt;--- Query
select * from partsupp ps join part p on ps.ps_partkey = p.p_partkey where p.p_partkey=1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Error message is:
Error: java.io.IOException: java.io.IOException: org.apache.avro.AvroTypeException: Found {
  &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;record&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;partsupp&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;namespace&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;com.gs.sdst.pl.avro.tpch&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;fields&quot;&lt;/span&gt; : [ {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;ps_partkey&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;ps_suppkey&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;ps_availqty&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;ps_supplycost&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;ps_comment&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;systimestamp&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&quot;&lt;/span&gt;
  } ]
}, expecting {
  &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;record&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;part&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;namespace&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;com.gs.sdst.pl.avro.tpch&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;fields&quot;&lt;/span&gt; : [ {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;p_partkey&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;p_name&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;p_mfgr&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;p_brand&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;p_type&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;p_size&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;p_container&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;p_retailprice&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;p_comment&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;systimestamp&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&quot;&lt;/span&gt;
  } ]
}
        at org.apache.hadoop.hive.io.HiveIOExceptionHandlerChain.handleRecordReaderNextException(HiveIOExceptionHandlerChain.java:121)
        at org.apache.hadoop.hive.io.HiveIOExceptionHandlerUtil.handleRecordReaderNextException(HiveIOExceptionHandlerUtil.java:77)
        at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileRecordReader.doNextWithExceptionHandler(HadoopShimsSecure.java:302)
        at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileRecordReader.next(HadoopShimsSecure.java:218)
        at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:197)
        at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.next(MapTask.java:183)
        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:52)
        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:429)
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)
        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:158)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:415)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1478)
        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:153)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12679902">HIVE-5850</key>
            <summary>Multiple table join error for avro </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="xinshengjun">Shengjun Xin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Nov 2013 08:42:43 +0000</created>
                <updated>Wed, 22 Apr 2015 16:10:16 +0000</updated>
                                            <version>0.11.0</version>
                                                        <due></due>
                            <votes>4</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13827445" author="xinshengjun" created="Wed, 20 Nov 2013 08:49:26 +0000"  >&lt;p&gt;This issue is because of using wrong schema when process the split.&lt;/p&gt;

&lt;p&gt;In getSchema function of AvroGenericRecordReader.java, if a partition is the prefix of a split, it will use schema of this partition to parse the split, but this is not always correct.&lt;/p&gt;

&lt;p&gt;For example, partition &apos;/user/hadoop/tpc-h/data/part&apos; is the prefix of &apos;/user/hadoop/tpc-h/data/partsupp/good_2013-01_partsupp_tbl_0002.avro&apos;, but we can not use the schema of &apos;/user/hadoop/tpc-h/data/part&apos; to parse &apos;/user/hadoop/tpc-h/data/partsupp/good_2013-01_partsupp_tbl_0002.avro&apos;&lt;/p&gt;

&lt;p&gt;In my opinion, if a partition is the path parent of a split, we can use this partition&apos;s schema to parse the split. &lt;/p&gt;</comment>
                            <comment id="13828055" author="jghoman" created="Wed, 20 Nov 2013 20:04:23 +0000"  >&lt;p&gt;This has been a recurring problem.  The code to figure out what schema goes where has been problematic and the information passed to the mapper has changed from Hive version to Hive version.  Using the parent may not always get the latest schema, yes?&lt;/p&gt;</comment>
                            <comment id="13833425" author="xinshengjun" created="Wed, 27 Nov 2013 03:54:37 +0000"  >&lt;p&gt;So could you please give me an example that parent can not get the latest schema?&lt;/p&gt;</comment>
                            <comment id="14507323" author="individuodk" created="Wed, 22 Apr 2015 16:10:16 +0000"  >&lt;p&gt;I have just found with the same problem. Is there a workaround? Will it be solved in any version?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12614581" name="part.tar.gz" size="4315725" author="xinshengjun" created="Tue, 19 Nov 2013 09:00:47 +0000"/>
                            <attachment id="12614580" name="partsupp.tar.gz" size="5264714" author="xinshengjun" created="Tue, 19 Nov 2013 09:00:47 +0000"/>
                            <attachment id="12614582" name="schema.tar.gz" size="386" author="xinshengjun" created="Tue, 19 Nov 2013 09:00:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Nov 2013 20:04:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359260</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pxlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5851] Hive query taking a lot of time just to launch map-reduce jobs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5851</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We are using hive for Ad-hoc querying and have a hive table which is partitioned on two fields (date,id).Now for each date there are around 1400 ids so on a single day around that many partitions are added.The actual data is residing in s3. now the issue we are facing is suppose we do a select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; for a month from the table then it takes quite a long amount of time(approx : 1hrs 52 min) just to launch the map reduce job. when i ran the query in hive verbose mode i can see that its spending this time actually deciding how many number of mappers to spawn(calculating splits). Is there any means by which i can reduce this lag time for the launch of map-reduce job.  this is one of the log messages that is being logged during this lag time  13/11/19 07:11:06 INFO mapred.FileInputFormat: Total input paths to process : 1 13/11/19 07:11:06 WARN httpclient.RestS3Service: Response &apos;/Analyze%2F2013%2F10%2F03%2F465&apos; - Unexpected response code 404, expected 200&lt;/p&gt;</description>
                <environment></environment>
        <key id="12679910">HIVE-5851</key>
            <summary>Hive query taking a lot of time just to launch map-reduce jobs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stelios1923">Sreenath S Kamath</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Nov 2013 09:47:57 +0000</created>
                <updated>Mon, 25 Nov 2013 11:01:23 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13829260" author="xuefuz" created="Thu, 21 Nov 2013 19:33:43 +0000"  >&lt;p&gt;What&apos;s the serde for the case?&lt;/p&gt;</comment>
                            <comment id="13831357" author="stelios1923" created="Mon, 25 Nov 2013 11:01:23 +0000"  >&lt;p&gt;normal pig input output format&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Nov 2013 19:33:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359267</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pxnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359566</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5852] Refactor hcat scripts</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5852</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As was noted in the review of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5842&quot; title=&quot;Fix issues with new paths to jar in hcatalog&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5842&quot;&gt;&lt;del&gt;HIVE-5842&lt;/del&gt;&lt;/a&gt;, there are many opportunities for cleaning up the hcat scripts. Specifically:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Generally cleanup (use variables more effectively &lt;a href=&quot;https://reviews.apache.org/r/15649/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/15649/&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;Add &lt;tt&gt;#! interpreter&lt;/tt&gt; to all scripts&lt;/li&gt;
	&lt;li&gt;Fix indents, some scripts have 4 spaces for tab&lt;/li&gt;
	&lt;li&gt;Trim remaining trailing whitespace&lt;/li&gt;
	&lt;li&gt;Understand and document why there are sh and py versions&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12679955">HIVE-5852</key>
            <summary>Refactor hcat scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Nov 2013 14:22:52 +0000</created>
                <updated>Tue, 19 Nov 2013 14:23:49 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12679753">HIVE-5842</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pxxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5853] Hive Lock Manager leaks zookeeper connections</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5853</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive 0.10 leaks zookeeper connections from ZooKeeperHiveLockManager. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3723&quot; title=&quot;Hive Driver leaks ZooKeeper connections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3723&quot;&gt;&lt;del&gt;HIVE-3723&lt;/del&gt;&lt;/a&gt; describes a similar issue for cases of semantic errors and failures, but we&apos;re experiencing a consistent connection leak per query (even simple successful queries like &quot;select * from dual&quot;).&lt;/p&gt;

&lt;p&gt;Workaround: When turning off hive.support.concurrency, everything works fine - no leak (obviously, since the lock manager is not used).&lt;/p&gt;

&lt;p&gt;Details:&lt;/p&gt;

&lt;p&gt;OS: CentOS 5.9&lt;br/&gt;
Hive version: hive-server-0.10.0+67-1.cdh4.2.0.p0.10.el5 and hive-0.10.0+198-1.cdh4.4.0.p0.15.el5&lt;br/&gt;
Hadoop version: CDH4.2&lt;br/&gt;
Namenode uses HA. Hive&apos;s zookeeper configuration uses the NN zookeeper.&lt;/p&gt;

&lt;p&gt;The problem occurs both when using the python thrift API, and the java thrift API. &lt;/p&gt;

&lt;p&gt;The leak happens even when we&apos;re running repeated &quot;select * from dual&quot; queries. We&apos;ve checked the zookeeper connections using &quot;netstat -n | grep 2181 | grep ESTAB | wc -l&quot;.&lt;/p&gt;

&lt;p&gt;Eventually, the connection from the client reach the max connections per client limit in ZK, causing new queries to get stuck and never return.&lt;/p&gt;

&lt;p&gt;We&apos;ll gladly provide more information if needed.&lt;/p&gt;



</description>
                <environment></environment>
        <key id="12679970">HIVE-5853</key>
            <summary>Hive Lock Manager leaks zookeeper connections</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="harelba">Harel Ben Attia</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Nov 2013 15:12:32 +0000</created>
                <updated>Fri, 10 Apr 2015 14:11:09 +0000</updated>
                                            <version>0.10.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13826590" author="brocknoland" created="Tue, 19 Nov 2013 15:22:44 +0000"  >&lt;p&gt;It looks like you are using Hive Server?  Can you try Hive Server 2?&lt;/p&gt;</comment>
                            <comment id="13827372" author="harelba" created="Wed, 20 Nov 2013 05:48:47 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;We&apos;ve never used HiveServer2. Is it fully compatible interface wise? If yes, i&apos;d be happy to test with it.&lt;/p&gt;</comment>
                            <comment id="13831871" author="brocknoland" created="Mon, 25 Nov 2013 20:21:31 +0000"  >&lt;p&gt;HS2 is strongly recommended over HS1 and in fact HS1 is considered deprecated.  I&apos;d suggest you test with HS2. From a SQL perspective it should be compatible with HS1.&lt;/p&gt;</comment>
                            <comment id="13834962" author="haroonm" created="Thu, 28 Nov 2013 16:25:51 +0000"  >&lt;p&gt;Yep, the issue persists with HiveServer2 as well. I am connecting through c++ thrift interface. Connections continue to grow until the max connection limit is hit. As Harel Ben Attia mentioned, it works fine with concurrency support turned off.&lt;/p&gt;

&lt;p&gt;Looks like Hive-4132 and Hive-4719 directly relate to this issue and should help the cause once they get fixed.&lt;/p&gt;</comment>
                            <comment id="13834966" author="brocknoland" created="Thu, 28 Nov 2013 16:36:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4132&quot; title=&quot;Connection to Zookeeper is created for each client of HS2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4132&quot;&gt;HIVE-4132&lt;/a&gt; could be related if you have many concurrent clients or aren&apos;t properly closing your session. I have tested HS2 and zk quite a bit via the jdbc driver and it does close connections to zk. IIRC 4132 is only and issue with &amp;gt;= 50 concurrent clients. &lt;/p&gt;</comment>
                            <comment id="13835301" author="harelba" created="Fri, 29 Nov 2013 10:37:58 +0000"  >&lt;p&gt;Didn&apos;t have the opportunity to try HS2 yet, but in our case the connection leak was happening even without any client concurrency. Just running a python script multiple times, each performing one simple query through hive-thrift. At first I thought it might be related to improper connection closing in the script itself, but that wasn&apos;t the case, as our production system uses the Java client, and the same result happens there as well.&lt;/p&gt;

&lt;p&gt;I&apos;d be glad to try and help - just tell me what you need.&lt;/p&gt;
</comment>
                            <comment id="13835399" author="brocknoland" created="Fri, 29 Nov 2013 14:42:39 +0000"  >&lt;p&gt;Yes I believe that HS1 will leak connections but is deprecated.&lt;/p&gt;

&lt;p&gt;I believe you should switch to HS2. It will just involve deploying the HS2 server and switching you python/java clients over to the new thrift API.  Though, if you are using Java I&apos;d just use JDBC to contact HS2.&lt;/p&gt;</comment>
                            <comment id="13835429" author="harelba" created="Fri, 29 Nov 2013 15:49:01 +0000"  >
&lt;p&gt;Thanks for the prompt answers.&lt;/p&gt;

&lt;p&gt;I understand. I will try to understand the client-side implications of this kind of change, since we have a consumer-web production system running more than a 100 services, and around 30 instances of HS1. Also, we&apos;re using a lot of INSERT OVERWRITE LOCAL DIRECTORY calls, which cause the HS to actually write data to the local hard disk, and I&apos;d need to check if there is any change of behavior there.&lt;/p&gt;</comment>
                            <comment id="13879897" author="haroonm" created="Thu, 23 Jan 2014 12:44:42 +0000"  >&lt;p&gt;Alright. This is fixed in HS2. I was able to verify it for myself. A better/appropriate clean up of resources e.g. session, connection etc gets around it.&lt;/p&gt;</comment>
                            <comment id="14489688" author="martinbenson" created="Fri, 10 Apr 2015 14:11:09 +0000"  >&lt;p&gt;I&apos;m also experiencing this in a HS2 environment - there appears to be a leak and number of open connections gradually creeps to the point that the limit is reached.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12616847">HIVE-3723</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Nov 2013 15:22:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359327</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1py0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5854] query fails in vectorized mode on empty partitioned table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5854</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;create table customer (&lt;br/&gt;
c_customer_sk int,&lt;br/&gt;
c_customer_id string,&lt;br/&gt;
c_current_cdemo_sk int,&lt;br/&gt;
c_current_hdemo_sk int,&lt;br/&gt;
c_current_addr_sk int,&lt;br/&gt;
c_first_shipto_date_sk int,&lt;br/&gt;
c_first_sales_date_sk int,&lt;br/&gt;
c_salutation string, &lt;br/&gt;
c_first_name string,&lt;br/&gt;
c_last_name string,&lt;br/&gt;
c_preferred_cust_flag string,&lt;br/&gt;
c_birth_day int,&lt;br/&gt;
c_birth_month int,&lt;br/&gt;
c_birth_country string,&lt;br/&gt;
c_login string,&lt;br/&gt;
c_email_address string,&lt;br/&gt;
c_last_review_date string&lt;br/&gt;
)&lt;br/&gt;
partitioned by(c_birth_year int)&lt;br/&gt;
stored as orc;&lt;/p&gt;

&lt;p&gt;set hive.vectorized.execution.enabled = true;&lt;br/&gt;
&amp;#8211; fails&lt;br/&gt;
select CAST(CAST(c_customer_sk as float) as string),c_first_name,c_last_name from customer;&lt;/p&gt;

&lt;p&gt;java.lang.reflect.InvocationTargetException&lt;br/&gt;
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)&lt;br/&gt;
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.OperatorFactory.getVectorOperator(OperatorFactory.java:137)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.physical.Vectorizer.vectorizeOperator(Vectorizer.java:640)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.physical.Vectorizer$VectorizationNodeProcessor.process(Vectorizer.java:384)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:90)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatchAndReturn(DefaultGraphWalker.java:94)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:78)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.PreOrderWalker.walk(PreOrderWalker.java:54)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.PreOrderWalker.walk(PreOrderWalker.java:59)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:109)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.physical.Vectorizer$VectorizationDispatcher.vectorizeMRTask(Vectorizer.java:278)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.physical.Vectorizer$VectorizationDispatcher.dispatch(Vectorizer.java:219)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.dispatch(TaskGraphWalker.java:111)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.walk(TaskGraphWalker.java:194)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.startWalking(TaskGraphWalker.java:139)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.physical.Vectorizer.resolve(Vectorizer.java:433)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.physical.PhysicalOptimizer.optimize(PhysicalOptimizer.java:100)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.MapReduceCompiler.compile(MapReduceCompiler.java:300)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:8884)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:292)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:441)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:341)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:994)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:905)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:268)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:220)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:422)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:790)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:684)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:623)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.vector.VectorSelectOperator.&amp;lt;init&amp;gt;(VectorSelectOperator.java:58)&lt;br/&gt;
        ... 38 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680050">HIVE-5854</key>
            <summary>query fails in vectorized mode on empty partitioned table</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Nov 2013 22:34:49 +0000</created>
                <updated>Fri, 30 Oct 2015 23:27:26 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13827069" author="ehans" created="Tue, 19 Nov 2013 23:09:01 +0000"  >&lt;p&gt;error happens in ql\exec\OperatorFactory.java, getVectorOperator() method, because argument vContext is null&lt;/p&gt;</comment>
                            <comment id="14983590" author="taksaito" created="Fri, 30 Oct 2015 23:27:26 +0000"  >&lt;p&gt;The issue is no longer seen in hive-0.14. It might have been fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10273&quot; title=&quot;Union with partition tables which have no data fails with NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10273&quot;&gt;&lt;del&gt;HIVE-10273&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Oct 2015 23:27:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359407</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pyif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359706</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5855] Add deprecated methods back to ColumnProjectionUtils</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5855</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For example in  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4113&quot; title=&quot;Optimize select count(1) with RCFile and Orc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4113&quot;&gt;&lt;del&gt;HIVE-4113&lt;/del&gt;&lt;/a&gt;  we renamed setFullyReadColumns to setReadAllColumns. We should add a backwards compatible deprecated method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680063">HIVE-5855</key>
            <summary>Add deprecated methods back to ColumnProjectionUtils</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Nov 2013 23:31:29 +0000</created>
                <updated>Wed, 4 Dec 2013 14:52:39 +0000</updated>
                            <resolved>Wed, 4 Dec 2013 14:52:39 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13836775" author="hiveqa" created="Mon, 2 Dec 2013 18:45:41 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616572/HIVE-5855.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616572/HIVE-5855.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4441 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/484/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/484/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/484/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/484/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616572&lt;/p&gt;</comment>
                            <comment id="13838406" author="navis" created="Wed, 4 Dec 2013 00:45:20 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13838949" author="brocknoland" created="Wed, 4 Dec 2013 14:52:39 +0000"  >&lt;p&gt;Thank you for the review Navis! I have committed this to trunk!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12616572" name="HIVE-5855.patch" size="3227" author="brocknoland" created="Mon, 2 Dec 2013 16:49:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 2 Dec 2013 18:45:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pylb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5856] Templeton service become nonresponsive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5856</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The Templeton service stops responding to requests from clients.&lt;br/&gt;
Service is running, metastore DB is running. Ports are in LISTEN state.&lt;br/&gt;
All appears normal.&lt;/p&gt;

&lt;p&gt;Seems to occur at high request load rates.&lt;/p&gt;

&lt;p&gt;Current work around is to restart services.&lt;/p&gt;

&lt;p&gt;Still investigating and trying to capture one before reset by user/customer.&lt;/p&gt;

&lt;p&gt;Observed in SLES 11sp3 | CentOS and RHEL.&lt;/p&gt;</description>
                <environment>&lt;p&gt;HDP 1.3.x&lt;/p&gt;</environment>
        <key id="12680067">HIVE-5856</key>
            <summary>Templeton service become nonresponsive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lagomorph">Dave Winters</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Nov 2013 00:04:17 +0000</created>
                <updated>Mon, 17 Feb 2014 15:43:07 +0000</updated>
                                                                            <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13903316" author="lagomorph" created="Mon, 17 Feb 2014 15:43:07 +0000"  >&lt;p&gt;Last observed case was on HDP 1.3.2 in with Aster 5 client issuing large number of calls from SQL-H software. Backend meta store is MySQL.&lt;/p&gt;

&lt;p&gt;Seems to be mitigated by increasing the service stack and ram setting &amp;gt; 4Gb&lt;/p&gt;

&lt;p&gt;Currently the status is being viewed as a possible memory leak issue that is CND.&lt;br/&gt;
CND = can not duplicate&lt;/p&gt;

&lt;p&gt;This situation pops up in very large tables with partitions (&amp;gt;200) and columns (&amp;gt;300).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pym7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359723</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5857] Reduce tasks do not work in uber mode in YARN</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5857</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A Hive query fails when it tries to run a reduce task in uber mode in YARN.&lt;/p&gt;

&lt;p&gt;The NullPointerException is thrown in the ExecReducer.configure method, because the plan file (reduce.xml) for a reduce task is not found.&lt;/p&gt;

&lt;p&gt;The Utilities.getBaseWork method is expected to return BaseWork object, but it returns NULL due to FileNotFoundException. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// org.apache.hadoop.hive.ql.exec.Utilities
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; BaseWork getBaseWork(Configuration conf, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name) {
  ...
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
    ...
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (gWork == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        Path localPath;
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ShimLoader.getHadoopShims().isLocalMode(conf)) {
          localPath = path;
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
          localPath = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(name);
        }
        InputStream in = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileInputStream(localPath.toUri().getPath());
        BaseWork ret = deserializePlan(in);
        ....
      }
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; gWork;
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (FileNotFoundException fnf) {
      &lt;span class=&quot;code-comment&quot;&gt;// happens. e.g.: no reduce work.
&lt;/span&gt;      LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;No plan file found: &quot;&lt;/span&gt;+path);
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    } ...
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It happens because, the ShimLoader.getHadoopShims().isLocalMode(conf)) method returns true, because immediately before running a reduce task, org.apache.hadoop.mapred.LocalContainerLauncher changes its configuration to local mode (&quot;mapreduce.framework.name&quot; is changed from&quot; &quot;yarn&quot; to &quot;local&quot;). On the other hand map tasks run successfully, because its configuration is not changed and still remains &quot;yarn&quot;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// org.apache.hadoop.mapred.LocalContainerLauncher
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void runSubtask(..) {
  ...
  conf.set(MRConfig.FRAMEWORK_NAME, MRConfig.LOCAL_FRAMEWORK_NAME);
  conf.set(MRConfig.MASTER_ADDRESS, &lt;span class=&quot;code-quote&quot;&gt;&quot;local&quot;&lt;/span&gt;);  &lt;span class=&quot;code-comment&quot;&gt;// bypass shuffle
&lt;/span&gt;
  ReduceTask reduce = (ReduceTask)task;
  reduce.setConf(conf);          

  reduce.run(conf, umbilical);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A super quick fix could just an additional if-branch, where we check if we run a reduce task in uber mode, and then look for a plan file in a different location.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Java stacktrace&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2013-11-20 00:50:56,862 INFO [uber-SubtaskRunner] org.apache.hadoop.hive.ql.exec.Utilities: No plan file found: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//namenode.c.lon.spotify.net:54310/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/tmp/kawaa/hive_2013-11-20_00-50-43_888_3938384086824086680-2/-mr-10003/e3caacf6-15d6-4987-b186-d2906791b5b0/reduce.xml
&lt;/span&gt;2013-11-20 00:50:56,862 WARN [uber-SubtaskRunner] org.apache.hadoop.mapred.LocalContainerLauncher: Exception running local (uberized) &lt;span class=&quot;code-quote&quot;&gt;&apos;child&apos;&lt;/span&gt; : java.lang.RuntimeException: Error in configuring object
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)
	at org.apache.hadoop.mapred.ReduceTask.runOldReducer(ReduceTask.java:427)
	at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:408)
	at org.apache.hadoop.mapred.LocalContainerLauncher$SubtaskRunner.runSubtask(LocalContainerLauncher.java:340)
	at org.apache.hadoop.mapred.LocalContainerLauncher$SubtaskRunner.run(LocalContainerLauncher.java:225)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)
	... 7 more
Caused by: java.lang.NullPointerException
	at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.configure(ExecReducer.java:116)
	... 12 more

2013-11-20 00:50:56,862 INFO [uber-SubtaskRunner] org.apache.hadoop.mapred.TaskAttemptListenerImpl: Status update from attempt_1384392632998_34791_r_000000_0
2013-11-20 00:50:56,862 INFO [uber-SubtaskRunner] org.apache.hadoop.mapred.TaskAttemptListenerImpl: Progress of TaskAttempt attempt_1384392632998_34791_r_000000_0 is : 0.0
2013-11-20 00:50:56,862 INFO [uber-SubtaskRunner] org.apache.hadoop.mapred.Task: Runnning cleanup &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the task
2013-11-20 00:50:56,863 INFO [uber-SubtaskRunner] org.apache.hadoop.mapred.TaskAttemptListenerImpl: Diagnostics report from attempt_1384392632998_34791_r_000000_0: java.lang.RuntimeException: Error in configuring object
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)
	at org.apache.hadoop.mapred.ReduceTask.runOldReducer(ReduceTask.java:427)
	at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:408)
	at org.apache.hadoop.mapred.LocalContainerLauncher$SubtaskRunner.runSubtask(LocalContainerLauncher.java:340)
	at org.apache.hadoop.mapred.LocalContainerLauncher$SubtaskRunner.run(LocalContainerLauncher.java:225)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)
	... 7 more
Caused by: java.lang.NullPointerException
	at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.configure(ExecReducer.java:116)
	... 12 more

2013-11-20 00:50:56,863 INFO [uber-SubtaskRunner] org.apache.hadoop.mapred.LocalContainerLauncher: Processing the event EventType: CONTAINER_REMOTE_CLEANUP &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; container container_1384392632998_34791_01_000001 taskAttempt attempt_1384392632998_34791_m_000000_0
2013-11-20 00:50:56,863 INFO [AsyncDispatcher event handler] org.apache.hadoop.mapreduce.v2.app.job.impl.TaskAttemptImpl: Diagnostics report from attempt_1384392632998_34791_r_000000_0: java.lang.RuntimeException: Error in configuring object
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)
	at org.apache.hadoop.mapred.ReduceTask.runOldReducer(ReduceTask.java:427)
	at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:408)
	at org.apache.hadoop.mapred.LocalContainerLauncher$SubtaskRunner.runSubtask(LocalContainerLauncher.java:340)
	at org.apache.hadoop.mapred.LocalContainerLauncher$SubtaskRunner.run(LocalContainerLauncher.java:225)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)
	... 7 more
Caused by: java.lang.NullPointerException
	at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.configure(ExecReducer.java:116)
	... 12 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12680071">HIVE-5857</key>
            <summary>Reduce tasks do not work in uber mode in YARN</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kawaa">Adam Kawa</assignee>
                                    <reporter username="kawaa">Adam Kawa</reporter>
                        <labels>
                            <label>plan</label>
                            <label>uber-jar</label>
                            <label>uberization</label>
                            <label>yarn</label>
                    </labels>
                <created>Wed, 20 Nov 2013 01:12:54 +0000</created>
                <updated>Thu, 4 Sep 2014 18:24:10 +0000</updated>
                            <resolved>Thu, 4 Sep 2014 18:24:10 +0000</resolved>
                                    <version>0.12.0</version>
                    <version>0.13.0</version>
                    <version>0.13.1</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13827950" author="hiveqa" created="Wed, 20 Nov 2013 18:34:41 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12614761/HIVE-5857.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12614761/HIVE-5857.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4665 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/374/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/374/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/374/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/374/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12614761&lt;/p&gt;</comment>
                            <comment id="14009223" author="cwsteinbach" created="Tue, 27 May 2014 02:12:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kawaa&quot; class=&quot;user-hover&quot; rel=&quot;kawaa&quot;&gt;Adam Kawa&lt;/a&gt;: Thanks for providing a fix. In order to get committed this patch needs a test case. Can you please add a qfile test that enables ubertask mode before running an aggregation query? Thanks.&lt;/p&gt;</comment>
                            <comment id="14013514" author="kawaa" created="Fri, 30 May 2014 11:17:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; Thanks for having a look on this patch. I will prepare tests during next week.&lt;/p&gt;</comment>
                            <comment id="14028757" author="jdere" created="Thu, 12 Jun 2014 02:35:05 +0000"  >&lt;p&gt;Hi Adam, thanks for the patch/test.  I tried running your test, but when it runs as a regular q file test it doesn&apos;t actually fail when I comment out your fix. I&apos;ve taken the liberty of making the test a MiniMR test, which does fail without your fix. Patch attached.&lt;/p&gt;</comment>
                            <comment id="14028759" author="jdere" created="Thu, 12 Jun 2014 02:36:41 +0000"  >&lt;p&gt;Question, your fix only kicks in in the case of REDUCE_PLAN_NAME .. would we ever need to worry about MAP_PLAN_NAME?&lt;/p&gt;</comment>
                            <comment id="14029325" author="appodictic" created="Thu, 12 Jun 2014 16:25:48 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (FileNotFoundException fnf) {
&amp;gt;       &lt;span class=&quot;code-comment&quot;&gt;// happens. e.g.: no reduce work.
&lt;/span&gt;&amp;gt;       LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;No plan file found: &quot;&lt;/span&gt;+path);
&amp;gt;       &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&amp;gt;     } ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can we remove this code? This bothers me. It is not self documenting all. Can we use if statements to determine when the file should be there and when it should not. &lt;/p&gt;

&lt;p&gt;Something like:&lt;br/&gt;
if (job.hasNoReduceWork()){&lt;br/&gt;
  retur null;&lt;br/&gt;
} else {&lt;br/&gt;
throw RuntimeException(&quot;work should be found but was not&quot; + expectedPathToFile);&lt;/p&gt;</comment>
                            <comment id="14030054" author="hiveqa" created="Fri, 13 Jun 2014 00:03:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12649989/HIVE-5857.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12649989/HIVE-5857.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 5610 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_storage_queries
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_load_dyn_part1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_scriptfile1
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.hcatalog.templeton.tool.TestTempletonUtils.testPropertiesParsing
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/448/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/448/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/448/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/448/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-448/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-448/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12649989&lt;/p&gt;</comment>
                            <comment id="14116153" author="jdere" created="Sat, 30 Aug 2014 01:09:35 +0000"  >&lt;p&gt;Rebasing patch with trunk.&lt;br/&gt;
About &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5857?focusedCommentId=14029325&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14029325&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;this&lt;/a&gt;, is there a way to know if a job should have reduce work or not, based on the conf or job? Would we be able to fix that part as a separate item?&lt;/p&gt;</comment>
                            <comment id="14116205" author="hiveqa" created="Sat, 30 Aug 2014 03:00:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12665524/HIVE-5857.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12665524/HIVE-5857.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6133 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/571/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/571/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/571/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/571/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-571/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-571/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12665524&lt;/p&gt;</comment>
                            <comment id="14116962" author="ashutoshc" created="Mon, 1 Sep 2014 01:18:22 +0000"  >&lt;p&gt;+1&lt;br/&gt;
LGTM, unless &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;Edward Capriolo&lt;/a&gt; has some suggestion on how to achieve what he suggested.&lt;/p&gt;</comment>
                            <comment id="14121716" author="jdere" created="Thu, 4 Sep 2014 18:24:10 +0000"  >&lt;p&gt;Committed to trunk. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kawaa&quot; class=&quot;user-hover&quot; rel=&quot;kawaa&quot;&gt;Adam Kawa&lt;/a&gt; for fixing this!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12614761" name="HIVE-5857.1.patch.txt" size="814" author="kawaa" created="Wed, 20 Nov 2013 01:27:53 +0000"/>
                            <attachment id="12649938" name="HIVE-5857.2.patch" size="2427" author="kawaa" created="Wed, 11 Jun 2014 23:08:27 +0000"/>
                            <attachment id="12649989" name="HIVE-5857.3.patch" size="6639" author="jdere" created="Thu, 12 Jun 2014 02:35:05 +0000"/>
                            <attachment id="12665524" name="HIVE-5857.4.patch" size="3357" author="jdere" created="Sat, 30 Aug 2014 01:09:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Nov 2013 18:34:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359428</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pyn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359727</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5858] Alter table fails with exception when fs.hdfs.impl.disable.cache is set false</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5858</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://www.mail-archive.com/user@hive.apache.org/msg10098.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/user@hive.apache.org/msg10098.html&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2013-11-20 10:07:05,759 ERROR metastore.RetryingHMSHandler (RetryingHMSHandler.java:invoke(141)) - InvalidOperationException(message:table new location hdfs://localhost:9000/user/hive/warehouse/xa is on a different file system than the old location hdfs://localhost:9000/user/hive/warehouse/zz. This operation is not supported)
        at org.apache.hadoop.hive.metastore.HiveAlterHandler.alterTable(HiveAlterHandler.java:146)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.alter_table_with_environment_context(HiveMetaStore.java:2352)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.hadoop.hive.metastore.RetryingHMSHandler.invoke(RetryingHMSHandler.java:103)
        at com.sun.proxy.$Proxy9.alter_table_with_environment_context(Unknown Source)
        at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.alter_table(HiveMetaStoreClient.java:216)
        at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.alter_table(HiveMetaStoreClient.java:211)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.invoke(RetryingMetaStoreClient.java:74)
        at com.sun.proxy.$Proxy10.alter_table(Unknown Source)
        at org.apache.hadoop.hive.ql.metadata.Hive.alterTable(Hive.java:385)
        at org.apache.hadoop.hive.ql.exec.DDLTask.alterTable(DDLTask.java:3432)
        at org.apache.hadoop.hive.ql.exec.DDLTask.execute(DDLTask.java:306)
        at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:149)
        at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:87)
        at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1485)
        at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1256)
        at org.apache.hadoop.hive.ql.Driver.executePlan(Driver.java:1054)
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:969)
        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)
        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:764)
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:614)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12680074">HIVE-5858</key>
            <summary>Alter table fails with exception when fs.hdfs.impl.disable.cache is set false</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Nov 2013 01:21:35 +0000</created>
                <updated>Sun, 23 Mar 2014 17:52:19 +0000</updated>
                            <resolved>Thu, 21 Nov 2013 10:44:04 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13827790" author="hiveqa" created="Wed, 20 Nov 2013 16:02:43 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12614758/HIVE-5858.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12614758/HIVE-5858.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4665 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/372/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/372/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/372/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/372/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12614758&lt;/p&gt;</comment>
                            <comment id="13828445" author="thejas" created="Thu, 21 Nov 2013 03:10:45 +0000"  >&lt;p&gt;Looks good to me.&lt;br/&gt;
I have same fix, with more comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3815&quot; title=&quot;hive table rename fails if filesystem cache is disabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3815&quot;&gt;&lt;del&gt;HIVE-3815&lt;/del&gt;&lt;/a&gt; .&lt;br/&gt;
Shall we use that ?&lt;/p&gt;</comment>
                            <comment id="13828811" author="navis" created="Thu, 21 Nov 2013 10:44:04 +0000"  >&lt;p&gt;Good!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12624404">HIVE-3815</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12614758" name="HIVE-5858.1.patch.txt" size="881" author="navis" created="Wed, 20 Nov 2013 01:24:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Nov 2013 16:02:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359431</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pynr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359730</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5859] Create view does not captures inputs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5859</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For example, &lt;br/&gt;
CREATE VIEW view_j5jbymsx8e_1 as SELECT * FROM tbl_j5jbymsx8e;&lt;/p&gt;

&lt;p&gt;should capture &quot;default.tbl_j5jbymsx8e&quot; as input entity for authorization process but currently it&apos;s not.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680092">HIVE-5859</key>
            <summary>Create view does not captures inputs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Nov 2013 02:01:24 +0000</created>
                <updated>Tue, 4 Feb 2014 20:36:54 +0000</updated>
                            <resolved>Tue, 4 Feb 2014 20:36:54 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13827347" author="phabricator@reviews.facebook.net" created="Wed, 20 Nov 2013 05:17:17 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5859&quot; title=&quot;Create view does not captures inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5859&quot;&gt;&lt;del&gt;HIVE-5859&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create view does not captures inputs&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5859&quot; title=&quot;Create view does not captures inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5859&quot;&gt;&lt;del&gt;HIVE-5859&lt;/del&gt;&lt;/a&gt; Create view does not captures inputs&lt;/p&gt;

&lt;p&gt;For example,&lt;br/&gt;
CREATE VIEW view_j5jbymsx8e_1 as SELECT * FROM tbl_j5jbymsx8e;&lt;/p&gt;

&lt;p&gt;should capture &quot;default.tbl_j5jbymsx8e&quot; as input entity for authorization process but currently it&apos;s not.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D14235&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D14235&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/SimpleFetchOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/HiveOperation.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java&lt;br/&gt;
  ql/src/test/results/clientnegative/alter_view_as_select_with_partition.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/alter_view_failure.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/alter_view_failure2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/alter_view_failure4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/alter_view_failure5.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/alter_view_failure6.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/alter_view_failure7.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/alter_view_failure9.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/analyze_view.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/create_or_replace_view5.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/create_or_replace_view6.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/create_or_replace_view7.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/create_or_replace_view8.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/create_view_failure1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/create_view_failure2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/create_view_failure4.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/deletejar.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/drop_table_failure2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/insert_view_failure.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_columns.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/invalidate_view1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/load_view_failure.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/recursive_view.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/unset_view_property.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_view_as_select.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_view_rename.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/authorization_8.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_big_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view_translate.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ctas_char.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ctas_date.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ctas_varchar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/database_drop.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_formatted_view_partitioned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_formatted_view_partitioned_json.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/explain_dependency.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/explain_logical.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lateral_view_noalias.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ptf.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_create_table_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/subquery_exists.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/unset_table_view_property.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/view_cast.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/view_inputs.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/windowing.q.out&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/45537/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/45537/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13828118" author="hiveqa" created="Wed, 20 Nov 2013 21:08:23 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12614791/D14235.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12614791/D14235.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 4665 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_like_tbl_props
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_deletejar
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_invalid_columns
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/376/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/376/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/376/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/376/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12614791&lt;/p&gt;</comment>
                            <comment id="13873096" author="navis" created="Thu, 16 Jan 2014 06:44:06 +0000"  >&lt;p&gt;Rebased to trunk&lt;/p&gt;</comment>
                            <comment id="13873836" author="hiveqa" created="Thu, 16 Jan 2014 19:46:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12623321/HIVE-5859.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12623321/HIVE-5859.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 4927 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_quotedid_basic
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_exists_having
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_notin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_top_level
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_deletejar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/937/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/937/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/937/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/937/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12623321&lt;/p&gt;</comment>
                            <comment id="13874143" author="phabricator@reviews.facebook.net" created="Thu, 16 Jan 2014 23:29:22 +0000"  >&lt;p&gt;thejas has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5859&quot; title=&quot;Create view does not captures inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5859&quot;&gt;&lt;del&gt;HIVE-5859&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create view does not captures inputs&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/results/clientnegative/deletejar.q.out:1 This test result change does not look related to this change.&lt;br/&gt;
  ql/src/test/results/clientnegative/invalid_columns.q.out:1 This test result change does not look related to this change.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D14235&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D14235&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: thejas&lt;/p&gt;</comment>
                            <comment id="13884906" author="thejas" created="Tue, 28 Jan 2014 23:25:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Would you be able to take a look at the .q.out changes that seemed unrelated and the other test failures ?&lt;/p&gt;</comment>
                            <comment id="13885104" author="phabricator@reviews.facebook.net" created="Wed, 29 Jan 2014 07:28:08 +0000"  >&lt;p&gt;navis has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5859&quot; title=&quot;Create view does not captures inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5859&quot;&gt;&lt;del&gt;HIVE-5859&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create view does not captures inputs&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D14235&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D14235&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: thejas&lt;/p&gt;</comment>
                            <comment id="13885112" author="navis" created="Wed, 29 Jan 2014 07:37:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; I&apos;ve not updated phabricator. Could you see review board link? Thanks.&lt;/p&gt;</comment>
                            <comment id="13885614" author="hiveqa" created="Wed, 29 Jan 2014 18:20:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12625817/HIVE-5859.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12625817/HIVE-5859.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 4972 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_view
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_deletejar
org.apache.hive.hcatalog.fileformats.TestOrcDynamicPartitioned.testHCatDynamicPartitionedTable
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1099/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1099/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1099/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1099/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12625817&lt;/p&gt;</comment>
                            <comment id="13887604" author="thejas" created="Fri, 31 Jan 2014 10:12:39 +0000"  >&lt;p&gt;TestNegativeCliDriver.testNegativeCliDriver_deletejar failure seems to be caused by incorrect .q.out file update in the patch. TestCliDriver.testCliDriver_authorization_view failure needs further investigation.&lt;/p&gt;</comment>
                            <comment id="13889211" author="thejas" created="Mon, 3 Feb 2014 04:31:21 +0000"  >&lt;p&gt;Is new patch ready for pre-commit tests ? Should we do a cancel-patch + submit-patch ?&lt;/p&gt;</comment>
                            <comment id="13889252" author="navis" created="Mon, 3 Feb 2014 06:10:27 +0000"  >&lt;p&gt;I&apos;ve kicked it via curl as described by Brock.&lt;/p&gt;</comment>
                            <comment id="13889354" author="hiveqa" created="Mon, 3 Feb 2014 09:55:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12626588/HIVE-5859.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12626588/HIVE-5859.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4997 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1160/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1160/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1160/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1160/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12626588&lt;/p&gt;</comment>
                            <comment id="13890244" author="thejas" created="Tue, 4 Feb 2014 01:22:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13891174" author="thejas" created="Tue, 4 Feb 2014 20:36:54 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks Navis!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12614791" name="D14235.1.patch" size="77920" author="phabricator@reviews.facebook.net" created="Wed, 20 Nov 2013 05:17:17 +0000"/>
                            <attachment id="12623321" name="HIVE-5859.2.patch.txt" size="85270" author="navis" created="Thu, 16 Jan 2014 06:45:02 +0000"/>
                            <attachment id="12623549" name="HIVE-5859.3.patch.txt" size="91938" author="navis" created="Fri, 17 Jan 2014 00:52:57 +0000"/>
                            <attachment id="12625817" name="HIVE-5859.4.patch.txt" size="89090" author="navis" created="Wed, 29 Jan 2014 07:36:10 +0000"/>
                            <attachment id="12626588" name="HIVE-5859.5.patch.txt" size="88873" author="navis" created="Mon, 3 Feb 2014 02:29:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Nov 2013 05:17:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pyrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5860] Select * does not work when table has non-array columns.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5860</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I was querying a table with non-array columns and I came across situation where if I use select * it would throw me index out of bound exception.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.IOException: java.lang.ArrayIndexOutOfBoundsException: -1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.IOException: java.lang.ArrayIndexOutOfBoundsException: -1
	at org.apache.hadoop.hive.ql.exec.FetchTask.fetch(FetchTask.java:150)
	at org.apache.hadoop.hive.ql.Driver.getResults(Driver.java:1403)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:270)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:412)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:755)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:613)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:208)
Caused by: java.lang.ArrayIndexOutOfBoundsException: -1
	at org.apache.hadoop.hive.serde2.lazy.LazyInteger.parseInt(LazyInteger.java:107)
	at org.apache.hadoop.hive.serde2.lazy.LazyByte.parseByte(LazyByte.java:94)
	at org.apache.hadoop.hive.serde2.lazy.LazyByte.parseByte(LazyByte.java:74)
	at org.apache.hadoop.hive.serde2.lazy.LazyUnion.parse(LazyUnion.java:123)
	at org.apache.hadoop.hive.serde2.lazy.LazyUnion.getTag(LazyUnion.java:178)
	at org.apache.hadoop.hive.serde2.lazy.objectinspector.LazyUnionObjectInspector.getTag(LazyUnionObjectInspector.java:128)
	at org.apache.hadoop.hive.serde2.SerDeUtils.buildJSONString(SerDeUtils.java:367)
	at org.apache.hadoop.hive.serde2.SerDeUtils.buildJSONString(SerDeUtils.java:354)
	at org.apache.hadoop.hive.serde2.SerDeUtils.buildJSONString(SerDeUtils.java:307)
	at org.apache.hadoop.hive.serde2.SerDeUtils.getJSONString(SerDeUtils.java:220)
	at org.apache.hadoop.hive.serde2.DelimitedJSONSerDe.serializeField(DelimitedJSONSerDe.java:59)
	at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serialize(LazySimpleSerDe.java:365)
	at org.apache.hadoop.hive.ql.exec.ListSinkOperator.processOp(ListSinkOperator.java:91)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:474)
	at org.apache.hadoop.hive.ql.exec.FetchOperator.pushRow(FetchOperator.java:468)
	at org.apache.hadoop.hive.ql.exec.FetchTask.fetch(FetchTask.java:136)
	... 11 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Table looked something like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Column 1                                 |  column 2              | Column 3 | Column4
{&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;d&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;e&quot;&lt;/span&gt;: [&lt;span class=&quot;code-quote&quot;&gt;&quot;f&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;g&quot;&lt;/span&gt;]}    [ some stuff here]        abcde     aaa
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When I used single fields in select it worked but when I do select * it would not.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.table where column1.a=&lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt; and column3=&lt;span class=&quot;code-quote&quot;&gt;&apos;abcde&apos;&lt;/span&gt; and Column4=&lt;span class=&quot;code-quote&quot;&gt;&apos;aaa&apos;&lt;/span&gt;
The above query failed.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select count(column4) from &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.table where column1.a=&lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt; and column3=&lt;span class=&quot;code-quote&quot;&gt;&apos;abcde&apos;&lt;/span&gt; and Column4=&lt;span class=&quot;code-quote&quot;&gt;&apos;aaa&apos;&lt;/span&gt;
The above query works.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12680316">HIVE-5860</key>
            <summary>Select * does not work when table has non-array columns.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="anujojha">Anuj Ojha</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Nov 2013 16:11:37 +0000</created>
                <updated>Thu, 16 Jan 2014 05:08:54 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13873046" author="navis" created="Thu, 16 Jan 2014 05:08:54 +0000"  >&lt;p&gt;Could you attach DDL for the table?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Jan 2014 05:08:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359581</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pzl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5861] Fix exception in multi insert statement on Tez</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5861</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Multi insert statements that have multiple group by clauses aren&apos;t handled properly in tez.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680377">HIVE-5861</key>
            <summary>Fix exception in multi insert statement on Tez</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Nov 2013 21:17:33 +0000</created>
                <updated>Fri, 24 Jan 2014 08:20:43 +0000</updated>
                            <resolved>Fri, 24 Jan 2014 08:20:43 +0000</resolved>
                                                    <fixVersion>tez-branch</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13880801" author="hagleitn" created="Fri, 24 Jan 2014 08:20:43 +0000"  >&lt;p&gt;This had been committed to branch before merge. Missed updating the ticket. My apologies.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12614994" name="HIVE-5861.1.patch" size="23304" author="hagleitn" created="Wed, 20 Nov 2013 21:18:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pzyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359941</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5862] While running some queries on large data using tez, we OOM.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5862</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Running out of memory while running map joins in tez on large data sets.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680383">HIVE-5862</key>
            <summary>While running some queries on large data using tez, we OOM.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Nov 2013 21:58:34 +0000</created>
                <updated>Sun, 23 Mar 2014 17:51:53 +0000</updated>
                            <resolved>Wed, 20 Nov 2013 22:45:57 +0000</resolved>
                                    <version>tez-branch</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13828186" author="vikram.dixit" created="Wed, 20 Nov 2013 21:59:47 +0000"  >&lt;p&gt;Fixes couple of the leaks found.&lt;/p&gt;</comment>
                            <comment id="13828226" author="hagleitn" created="Wed, 20 Nov 2013 22:41:10 +0000"  >&lt;p&gt;.2 has one more location&lt;/p&gt;</comment>
                            <comment id="13828231" author="hagleitn" created="Wed, 20 Nov 2013 22:45:57 +0000"  >&lt;p&gt;Committed to branch. Thanks Vikram!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12651047">HIVE-4660</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12615007" name="HIVE-5862.1.patch" size="656" author="vikram.dixit" created="Wed, 20 Nov 2013 21:59:47 +0000"/>
                            <attachment id="12615016" name="HIVE-5862.2.patch" size="1243" author="hagleitn" created="Wed, 20 Nov 2013 22:41:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Nov 2013 22:41:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359648</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pzzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359947</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5863] INSERT OVERWRITE TABLE fails in vectorized mode for ORC format target table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5863</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;create table store(s_store_key int, s_city string)&lt;br/&gt;
stored as orc;&lt;/p&gt;

&lt;p&gt;set hive.vectorized.execution.enabled = true;&lt;/p&gt;

&lt;p&gt;insert overwrite table store&lt;br/&gt;
select cint, cstring1&lt;br/&gt;
from alltypesorc;&lt;/p&gt;

&lt;p&gt;Alltypesorc is a test table that is checked in to the Hive source.&lt;/p&gt;

&lt;p&gt;Expected result: data is added to store table.&lt;/p&gt;

&lt;p&gt;Actual result:&lt;/p&gt;

&lt;p&gt;Total MapReduce jobs = 3&lt;br/&gt;
Launching Job 1 out of 3&lt;br/&gt;
Number of reduce tasks is set to 0 since there&apos;s no reduce operator&lt;br/&gt;
Starting Job = job_201311191600_0007, Tracking URL = &lt;a href=&quot;http://localhost:50030/jobdetails.jsp?jobid=job_201311191600_0007&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50030/jobdetails.jsp?jobid=job_201311191600_0007&lt;/a&gt;&lt;br/&gt;
Kill Command = c:\Hadoop\hadoop-1.1.0-SNAPSHOT\bin\hadoop.cmd job  -kill job_201311191600_0007&lt;br/&gt;
Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 0&lt;br/&gt;
2013-11-20 16:39:53,271 Stage-1 map = 0%,  reduce = 0%&lt;br/&gt;
2013-11-20 16:40:20,375 Stage-1 map = 100%,  reduce = 100%&lt;br/&gt;
Ended Job = job_201311191600_0007 with errors&lt;br/&gt;
Error during job, obtaining debugging information...&lt;br/&gt;
Job Tracking URL: &lt;a href=&quot;http://localhost:50030/jobdetails.jsp?jobid=job_201311191600_0007&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50030/jobdetails.jsp?jobid=job_201311191600_0007&lt;/a&gt;&lt;br/&gt;
Examining task ID: task_201311191600_0007_m_000002 (and more) from job job_201311191600_0007&lt;/p&gt;

&lt;p&gt;Task with the most failures(4):&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Task ID:&lt;br/&gt;
  task_201311191600_0007_m_000000&lt;/p&gt;

&lt;p&gt;URL:&lt;br/&gt;
  &lt;a href=&quot;http://localhost:50030/taskdetails.jsp?jobid=job_201311191600_0007&amp;amp;tipid=task_201311191600_0007_m_000000&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50030/taskdetails.jsp?jobid=job_201311191600_0007&amp;amp;tipid=task_201311191600_0007_m_000000&lt;/a&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Diagnostic Messages for this Task:&lt;br/&gt;
java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.map(ExecMapper.java:181)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:430)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:366)&lt;br/&gt;
        at org.apache.hadoop.mapred.Child$4.run(Child.java:266)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1136)&lt;br/&gt;
        at org.apache.hadoop.mapred.Child.main(Child.java:260)&lt;br/&gt;
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.vector.VectorMapOperator.process(VectorMapOperator.java:45)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.map(ExecMapper.java:163)&lt;br/&gt;
        ... 8 more&lt;br/&gt;
Caused by: java.lang.ClassCastException: org.apache.hadoop.hive.ql.io.orc.OrcStruct cannot be cast to [Ljava.lang.Object;&lt;br/&gt;
        at org.apache.hadoop.hive.serde2.objectinspector.StandardStructObjectInspector.getStructFieldData(StandardStructObjectInspec&lt;br/&gt;
tor.java:173)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.WriterImpl$StructTreeWriter.write(WriterImpl.java:1349)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.WriterImpl.addRow(WriterImpl.java:1962)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcOutputFormat$OrcRecordWriter.write(OrcOutputFormat.java:78)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.vector.VectorFileSinkOperator.processOp(VectorFileSinkOperator.java:159)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:489)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:827)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.vector.VectorSelectOperator.processOp(VectorSelectOperator.java:129)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:489)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:827)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:91)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:489)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:827)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.vector.VectorMapOperator.process(VectorMapOperator.java:43)&lt;br/&gt;
        ... 9 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680410">HIVE-5863</key>
            <summary>INSERT OVERWRITE TABLE fails in vectorized mode for ORC format target table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="rusanu">Remus Rusanu</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Nov 2013 00:44:53 +0000</created>
                <updated>Sun, 23 Mar 2014 17:51:26 +0000</updated>
                            <resolved>Thu, 21 Nov 2013 18:02:47 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13828347" author="ashutoshc" created="Thu, 21 Nov 2013 00:48:48 +0000"  >&lt;p&gt;Can you try with patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5845&quot; title=&quot;CTAS failed on vectorized code path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5845&quot;&gt;&lt;del&gt;HIVE-5845&lt;/del&gt;&lt;/a&gt; I think that one should fix this issue.&lt;/p&gt;</comment>
                            <comment id="13829158" author="ehans" created="Thu, 21 Nov 2013 18:02:47 +0000"  >&lt;p&gt;I tried this again with the latest trunk, which has &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5845&quot; title=&quot;CTAS failed on vectorized code path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5845&quot;&gt;&lt;del&gt;HIVE-5845&lt;/del&gt;&lt;/a&gt; in it, and it works fine. So I am resolving as a duplicate.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12679838">HIVE-5845</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Nov 2013 00:48:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q05j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5864] Hive Table filter Not working (ERROR:SemanticException MetaException)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5864</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive -e &quot;select * from xxxx where year=2013 and month=11 and day=05 and hour=22&quot;&lt;br/&gt;
Logging initialized using configuration in jar:&lt;a href=&quot;file:/usr/lib/hive/lib/hive-common-0.12.0.jar!/hive-log4j.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/usr/lib/hive/lib/hive-common-0.12.0.jar!/hive-log4j.properties&lt;/a&gt;&lt;br/&gt;
FAILED: SemanticException MetaException(message:Filtering is supported only on partition keys of type string)&lt;/p&gt;

&lt;p&gt;and I able to execute the  hive -e &quot;select * from xxxx  limit 3&quot;&lt;/p&gt;

&lt;p&gt;I&apos;m upgraded the Hive from 0.10 to 0.12 and it works in Hive 0.10 . &lt;/p&gt;</description>
                <environment></environment>
        <key id="12680482">HIVE-5864</key>
            <summary>Hive Table filter Not working (ERROR:SemanticException MetaException)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Ashok Kumar D">ashok Kumar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Nov 2013 10:34:13 +0000</created>
                <updated>Thu, 21 Nov 2013 10:34:13 +0000</updated>
                                            <version>0.12.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359747</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q0lj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5865] AvroDeserializer incorrectly assumes keys to Maps will always be of type &apos;org.apache.avro.util.Utf8&apos;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5865</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;AvroDeserializer. deserializeMap() incorrectly assumes the type of they keys will always be &apos;org.apache.avro.util.Utf8&apos;.  If the reader schema defines &quot;avro.java.string&quot;=&quot;String&quot;, this assumption does not hold, resulting in a ClassCastException.&lt;/p&gt;

&lt;p&gt;I think a simple fix would be to define &apos;mapDatum&apos; with type Map&amp;lt;CharSequence,Object&amp;gt; instead of Map&amp;lt;Utf8,Object&amp;gt;.  Assuming the key has the more general type of &apos;CharSequence&apos; avoids the need to make an assumption of either String or Utf8.&lt;/p&gt;

&lt;p&gt;I discovered the issue when using Hive 0.11.0.  Looking at the tags it is also there is in 0.12.0 and trunk:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/hive/blob/99f5bfcdf64330d062a30c0c9d83be1fbee54c34/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java#L313&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/99f5bfcdf64330d062a30c0c9d83be1fbee54c34/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java#L313&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The reason I saw this issue was because I pointed my Hive table to a schema file I populated based on pulling the schema from the SCHEMA$ attribute of an Avro generated Java class and I used stringType=String in the configuration of the avro-maven-plugin when generating my Java classes.&lt;/p&gt;

&lt;p&gt;If I alter the schema my Hive table points to such that it doesn&apos;t have the &quot;avro.java.string&quot; attribute on my &quot;map&quot; type objects then queries work fine but if I leave those in there I get the ClassCastException anytime I try to query the table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680547">HIVE-5865</key>
            <summary>AvroDeserializer incorrectly assumes keys to Maps will always be of type &apos;org.apache.avro.util.Utf8&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ben.roling">Ben Roling</assignee>
                                    <reporter username="ben.roling">Ben Roling</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Nov 2013 16:06:38 +0000</created>
                <updated>Thu, 12 Feb 2015 23:40:31 +0000</updated>
                            <resolved>Mon, 6 Oct 2014 22:25:52 +0000</resolved>
                                    <version>0.11.0</version>
                    <version>0.12.0</version>
                    <version>0.13.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14155694" author="ben.roling" created="Wed, 1 Oct 2014 22:40:50 +0000"  >&lt;p&gt;Attaching patch with fix&lt;/p&gt;</comment>
                            <comment id="14155729" author="busbey" created="Wed, 1 Oct 2014 22:52:03 +0000"  >&lt;p&gt;Can you add a test case for a table backed by a schema that requires this patch to avoid failing?&lt;/p&gt;</comment>
                            <comment id="14156243" author="hiveqa" created="Thu, 2 Oct 2014 08:58:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12672440/HIVE-5865.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12672440/HIVE-5865.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 6503 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testConvertBooleanToInt[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testGetInputBytes[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testProjectionsBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadPartitionedBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadComplex[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadPrimitiveTypes[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsNoDataInDataNoSpec[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testEmptyStore[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testNoAlias[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartitionPublish[5]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1083/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1083/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1083/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1083/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1083/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1083/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12672440&lt;/p&gt;</comment>
                            <comment id="14156692" author="ben.roling" created="Thu, 2 Oct 2014 16:04:07 +0000"  >&lt;p&gt;Yeah, I&apos;ll take a look at the test failures and also see if I can create a new test specific to the issue.  It was lazy of me not to have done that from the start &amp;#8211; I just didn&apos;t take the time to familiarize myself with the full build and testing setup of the project to do it as this is my first contribution to Hive.&lt;/p&gt;</comment>
                            <comment id="14156870" author="ben.roling" created="Thu, 2 Oct 2014 17:53:37 +0000"  >&lt;p&gt;Uploading a new patch with a unit test that fails without the fix for this issue.&lt;/p&gt;</comment>
                            <comment id="14156883" author="ben.roling" created="Thu, 2 Oct 2014 17:59:01 +0000"  >&lt;p&gt;I don&apos;t know what exactly is the cause of the TestHCatalogLoader  failures but I don&apos;t think it is related to my changes.  That test seems to fail even with my changes backed out.&lt;/p&gt;</comment>
                            <comment id="14157197" author="brocknoland" created="Thu, 2 Oct 2014 21:16:30 +0000"  >&lt;p&gt;Reploading v2 with a name that works with hiveqa.&lt;/p&gt;</comment>
                            <comment id="14157198" author="brocknoland" created="Thu, 2 Oct 2014 21:16:45 +0000"  >&lt;p&gt;+1 pending tests&lt;/p&gt;</comment>
                            <comment id="14157207" author="ben.roling" created="Thu, 2 Oct 2014 21:24:50 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14157885" author="hiveqa" created="Fri, 3 Oct 2014 11:24:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12672645/HIVE-5865.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12672645/HIVE-5865.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 6542 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testConvertBooleanToInt[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testGetInputBytes[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testProjectionsBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadPartitionedBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadBasic[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadComplex[5]
org.apache.hive.hcatalog.pig.TestHCatLoader.testSchemaLoadPrimitiveTypes[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testDynamicPartitioningMultiPartColsNoDataInDataNoSpec[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testEmptyStore[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testNoAlias[5]
org.apache.hive.hcatalog.pig.TestHCatStorer.testPartitionPublish[5]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1099/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1099/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1099/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1099/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1099/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1099/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12672645&lt;/p&gt;</comment>
                            <comment id="14158095" author="ben.roling" created="Fri, 3 Oct 2014 15:33:47 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; - the HCatLoader tests failed again but as I stated previously, those tests are failing without any of the changes from this JIRA.  Is there anything more you want me to do on this?  Are those test failures something someone else is already looking at?  I would have to assume they are being seen in other builds as well.&lt;/p&gt;</comment>
                            <comment id="14158173" author="brocknoland" created="Fri, 3 Oct 2014 16:41:54 +0000"  >&lt;p&gt;Those tests are failing due to: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8271?focusedCommentId=14157581&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14157581&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-8271?focusedCommentId=14157581&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14157581&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I will commit this today. Thanks!!&lt;/p&gt;</comment>
                            <comment id="14161126" author="brocknoland" created="Mon, 6 Oct 2014 22:25:52 +0000"  >&lt;p&gt;Ben, thank you so much for your contribution! I have committed this to trunk and made you a contributor so you can assign yourself JIRAs!&lt;/p&gt;</comment>
                            <comment id="14161323" author="lefty@hortonworks.com" created="Tue, 7 Oct 2014 01:25:03 +0000"  >&lt;p&gt;Doc query:  Should this be documented in the Avro SerDe wikidoc for release 0.15.0?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AvroSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Avro SerDe &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Gentle nudge:  How about a release note?&lt;/p&gt;</comment>
                            <comment id="14162690" author="brocknoland" created="Tue, 7 Oct 2014 22:28:30 +0000"  >&lt;p&gt;I think a release note is appropriate... Added!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12672590" name="HIVE-5865-v2.patch" size="4935" author="ben.roling" created="Thu, 2 Oct 2014 17:53:37 +0000"/>
                            <attachment id="12672645" name="HIVE-5865.2.patch" size="4935" author="swarnim" created="Thu, 2 Oct 2014 21:16:56 +0000"/>
                            <attachment id="12672644" name="HIVE-5865.2.patch" size="4935" author="brocknoland" created="Thu, 2 Oct 2014 21:16:30 +0000"/>
                            <attachment id="12672440" name="HIVE-5865.patch" size="1826" author="ben.roling" created="Wed, 1 Oct 2014 22:40:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Oct 2014 22:52:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359812</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q0zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>AvroSerde no longer assumes Map Keys will be subclass of Utf8, only CharSequence. This allows it to work with Avro data that has been serialized with a Schema that uses the &amp;quot;avro.java.string&amp;quot; property.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5866] Hive divide operator generates wrong results in certain cases</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5866</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Current GenericUDFOPDivide seems having a bug. The following query generates NULL result.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select 4BD / 25BD  from test limit 1;        
...
Total MapReduce CPU Time Spent: 890 msec
OK
NULL
Time taken: 7.901 seconds, Fetched: 1 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The correct result should be 0.16 in this query.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680565">HIVE-5866</key>
            <summary>Hive divide operator generates wrong results in certain cases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Nov 2013 18:07:35 +0000</created>
                <updated>Wed, 4 Dec 2013 20:53:33 +0000</updated>
                            <resolved>Wed, 4 Dec 2013 02:37:10 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13829379" author="hiveqa" created="Thu, 21 Nov 2013 21:43:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615161/HIVE-5866.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615161/HIVE-5866.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 48 failed/errored test(s), 4682 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_column_access_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_precision
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_grouping_sets1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_multi_insert_common_distinct
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_multi_single_reducer3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_skew_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_hook
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_num_op_type_conv
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_constant_expr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_table_access_keys_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_array
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_case
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_if
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_map
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_pmod
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_when
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_queries
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udf_assert_true2
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1
org.apache.hadoop.hive.ql.parse.TestParse.testParse_input8
org.apache.hadoop.hive.ql.udf.generic.TestGenericUDFOPMinus.testFloatMinusFloat
org.apache.hadoop.hive.ql.udf.generic.TestGenericUDFOPMod.testModByZero5
org.apache.hadoop.hive.ql.udf.generic.TestGenericUDFOPMultiply.testFloatTimesFloat
org.apache.hadoop.hive.ql.udf.generic.TestGenericUDFOPPlus.testFloatPlusFloat
org.apache.hadoop.hive.ql.udf.generic.TestGenericUDFPosMod.testPosModByZero5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/387/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/387/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/387/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/387/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 48 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615161&lt;/p&gt;</comment>
                            <comment id="13830292" author="hiveqa" created="Fri, 22 Nov 2013 20:53:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615378/HIVE-5866.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615378/HIVE-5866.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4681 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/400/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/400/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/400/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/400/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615378&lt;/p&gt;</comment>
                            <comment id="13830332" author="xuefuz" created="Fri, 22 Nov 2013 21:38:34 +0000"  >&lt;p&gt;Patch #2 fixed the failed test cases.&lt;/p&gt;</comment>
                            <comment id="13830340" author="xuefuz" created="Fri, 22 Nov 2013 21:45:01 +0000"  >&lt;p&gt;RB: &lt;a href=&quot;https://reviews.apache.org/r/15804/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/15804/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13830342" author="xuefuz" created="Fri, 22 Nov 2013 21:46:56 +0000"  >&lt;p&gt;An issue regarding UDAFs was identified and JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5872&quot; title=&quot;Make UDAFs such as GenericUDAFSum report accurate precision/scale for decimal types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5872&quot;&gt;&lt;del&gt;HIVE-5872&lt;/del&gt;&lt;/a&gt; is logged.&lt;/p&gt;</comment>
                            <comment id="13830376" author="hiveqa" created="Fri, 22 Nov 2013 22:41:29 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615390/HIVE-5866.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615390/HIVE-5866.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4681 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/401/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/401/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/401/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/401/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615390&lt;/p&gt;</comment>
                            <comment id="13830383" author="jdere" created="Fri, 22 Nov 2013 22:47:56 +0000"  >&lt;p&gt;What exactly was causing the null result in this case? I&apos;ll try to take a look at the patch in a bit.&lt;/p&gt;</comment>
                            <comment id="13830511" author="jdere" created="Sat, 23 Nov 2013 01:48:49 +0000"  >&lt;p&gt;Ok, I understand the issue now - the integer portion of the result type was (7,6) so only 1 integer digit, and trying to cast both operands to decimal(7,6) which would result in null for 24.&lt;br/&gt;
Changes look good, left a comment on RB.&lt;/p&gt;</comment>
                            <comment id="13830895" author="xuefuz" created="Sun, 24 Nov 2013 07:27:19 +0000"  >&lt;p&gt;Patch #3 modified the way that the result type of decimal division is computed. Two qfile tests were slightly changed.&lt;/p&gt;</comment>
                            <comment id="13830916" author="hiveqa" created="Sun, 24 Nov 2013 09:17:43 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615496/HIVE-5866.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615496/HIVE-5866.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4685 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/428/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/428/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/428/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/428/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615496&lt;/p&gt;</comment>
                            <comment id="13830964" author="xuefuz" created="Sun, 24 Nov 2013 16:13:15 +0000"  >&lt;p&gt;Patch #4 updated the fix with enhanced computation of decimal division result type and added additional test cases.&lt;/p&gt;</comment>
                            <comment id="13830986" author="hiveqa" created="Sun, 24 Nov 2013 17:18:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615510/HIVE-5866.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615510/HIVE-5866.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4686 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/430/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/430/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/430/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/430/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615510&lt;/p&gt;</comment>
                            <comment id="13837286" author="prasadm" created="Tue, 3 Dec 2013 03:32:19 +0000"  >&lt;p&gt;+1&lt;br/&gt;
LGTM&lt;/p&gt;</comment>
                            <comment id="13838521" author="xuefuz" created="Wed, 4 Dec 2013 02:37:10 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks Prasad for the review.&lt;/p&gt;</comment>
                            <comment id="13839327" author="brocknoland" created="Wed, 4 Dec 2013 20:41:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, I see decimal_udf which was last touched by this commit is failing. Can you investigate?&lt;/p&gt;</comment>
                            <comment id="13839341" author="xuefuz" created="Wed, 4 Dec 2013 20:53:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5947&quot; title=&quot;Fix test failure in decimal_udf.q&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5947&quot;&gt;&lt;del&gt;HIVE-5947&lt;/del&gt;&lt;/a&gt; was created to track the failure.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12630455">HIVE-3976</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12680764">HIVE-5872</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12615378" name="HIVE-5866.1.patch" size="30863" author="xuefuz" created="Fri, 22 Nov 2013 20:03:46 +0000"/>
                            <attachment id="12615390" name="HIVE-5866.2.patch" size="508278" author="xuefuz" created="Fri, 22 Nov 2013 21:38:34 +0000"/>
                            <attachment id="12615496" name="HIVE-5866.3.patch" size="523389" author="xuefuz" created="Sun, 24 Nov 2013 07:27:19 +0000"/>
                            <attachment id="12615510" name="HIVE-5866.4.patch" size="525149" author="xuefuz" created="Sun, 24 Nov 2013 16:13:15 +0000"/>
                            <attachment id="12615161" name="HIVE-5866.patch" size="16962" author="xuefuz" created="Thu, 21 Nov 2013 18:22:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Nov 2013 21:43:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q13z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360129</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5867] JDBC driver and beeline should support executing an initial SQL script</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5867</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveCLI support the .hiverc script that is executed at the start of the session. This is helpful for things like registering UDFs, session specific configs etc.&lt;br/&gt;
This functionality is missing for beeline and JDBC clients. It would be useful for JDBC driver to support an init script with SQL statements that&apos;s automatically executed after connection. The script path can be specified via JDBC connection URL. For example &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;jdbc:hive2://localhost:10000/default;initScript=/home/user1/scripts/init.sql
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This can be added to Beeline&apos;s command line option like &quot;-i /home/user1/scripts/init.sql&quot;&lt;/p&gt;

&lt;p&gt;To help transition from HiveCLI to Beeline, we can keep the default init script as $HOME/.hiverc&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12680570">HIVE-5867</key>
            <summary>JDBC driver and beeline should support executing an initial SQL script</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="JonnyR">Jianguo Tian</assignee>
                                    <reporter username="prasadm">Prasad Mujumdar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Nov 2013 18:55:06 +0000</created>
                <updated>Fri, 21 Jul 2017 18:46:08 +0000</updated>
                            <resolved>Tue, 27 Sep 2016 03:34:54 +0000</resolved>
                                                    <fixVersion>2.3.0</fixVersion>
                                    <component>Clients</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>11</watches>
                                                                                                            <comments>
                            <comment id="15471130" author="hiveqa" created="Wed, 7 Sep 2016 16:56:18 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12827380/HIVE-5867.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12827380/HIVE-5867.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10454 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestBeeLineWithArgs - did not produce a TEST-*.xml file
TestHiveCli - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.org.apache.hadoop.hive.cli.TestCliDriver
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[acid_bucket_pruning]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetColumns
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1122/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1122/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1122/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-MASTER-Build/1122/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1122/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-1122/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12827380 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15515196" author="ferd" created="Fri, 23 Sep 2016 02:55:43 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JonnyR&quot; class=&quot;user-hover&quot; rel=&quot;JonnyR&quot;&gt;Jianguo Tian&lt;/a&gt;, can you attach file as an attachment in this ticket to trigger the Jenkins job?&lt;/p&gt;</comment>
                            <comment id="15517576" author="hiveqa" created="Fri, 23 Sep 2016 21:07:59 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12830001/HIVE-5867.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12830001/HIVE-5867.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10639 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ctas]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testMetaDataCounts
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1291/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1291/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1291/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1291/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-Build-1291/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-Build-1291/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12830001 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15521894" author="ferd" created="Mon, 26 Sep 2016 03:11:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JonnyR&quot; class=&quot;user-hover&quot; rel=&quot;JonnyR&quot;&gt;Jianguo Tian&lt;/a&gt;, thank you for your patch. I left some minor comments on RB. And the failed cases are not related. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vihangk1&quot; class=&quot;user-hover&quot; rel=&quot;vihangk1&quot;&gt;Vihang Karajgaonkar&lt;/a&gt;, do you have any further comments? &lt;/p&gt;</comment>
                            <comment id="15522214" author="ferd" created="Mon, 26 Sep 2016 06:29:17 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JonnyR&quot; class=&quot;user-hover&quot; rel=&quot;JonnyR&quot;&gt;Jianguo Tian&lt;/a&gt; for the updates. LGTM +1 pending to the test.&lt;/p&gt;</comment>
                            <comment id="15522397" author="hiveqa" created="Mon, 26 Sep 2016 08:06:47 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12830253/HIVE-5867.3%20.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12830253/HIVE-5867.3%20.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 10625 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[acid_mapjoin]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[ctas]
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_join_part_col_char]
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainuser_3]
org.apache.hadoop.hive.cli.TestSparkCliDriver.org.apache.hadoop.hive.cli.TestSparkCliDriver
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.testMetaDataCounts
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testAddJarConstructorUnCaching
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1302/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1302/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1302/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1302/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-Build-1302/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-204-236-174-241.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-Build-1302/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12830253 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15523571" author="vihangk1" created="Mon, 26 Sep 2016 16:45:29 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt; I don&apos;t have any further comments/questions. Thanks for checking.&lt;/p&gt;</comment>
                            <comment id="15524941" author="ferd" created="Tue, 27 Sep 2016 03:34:54 +0000"  >&lt;p&gt;Committed to the master. Thanks Jianguo for the contribution.&lt;/p&gt;</comment>
                            <comment id="15528603" author="lefty@hortonworks.com" created="Wed, 28 Sep 2016 06:39:09 +0000"  >&lt;p&gt;Doc note:  This needs to be documented in the wiki for release 2.2.0.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-JDBC&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HiveServer2 Clients &amp;#8211; JDBC &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Added a TODOC2.2 label.&lt;/p&gt;</comment>
                            <comment id="15528746" author="ferd" created="Wed, 28 Sep 2016 07:41:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JonnyR&quot; class=&quot;user-hover&quot; rel=&quot;JonnyR&quot;&gt;Jianguo Tian&lt;/a&gt;, can you update the WIKI for this JIRA?&lt;/p&gt;</comment>
                            <comment id="15528822" author="jonnyr" created="Wed, 28 Sep 2016 08:10:39 +0000"  >&lt;p&gt;OK, I&apos;ll update Wiki of this JIRA ASAP.&lt;/p&gt;</comment>
                            <comment id="15532015" author="jonnyr" created="Thu, 29 Sep 2016 07:17:41 +0000"  >&lt;p&gt;Thanks for reminding. But I don&apos;t have wiki edit privilege now, could you please help me update this section of wiki, of course, I&apos;ll provide you it&apos;s draft. Or maybe I should request to access writing wiki. So how do you think?&lt;/p&gt;</comment>
                            <comment id="15532041" author="lefty@hortonworks.com" created="Thu, 29 Sep 2016 07:34:36 +0000"  >&lt;p&gt;Here&apos;s how you can get wiki write access:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AboutThisWiki#AboutThisWiki-Howtogetpermissiontoedit&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;About This Wiki &amp;#8211; How to get permission to edit &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can put a draft in the wiki and I&apos;ll edit it if any changes are needed.&lt;/p&gt;</comment>
                            <comment id="15559594" author="jonnyr" created="Sun, 9 Oct 2016 08:34:22 +0000"  >&lt;p&gt;I have added &quot;initFile=&amp;lt;file&amp;gt;&quot; option in the JDBC URL, now you can see some changes on wiki about &quot;Connection URL Format&quot; and &quot;Connection URL for Remote or Embedded Mode&quot;.&lt;/p&gt;</comment>
                            <comment id="15577538" author="lefty@hortonworks.com" created="Sat, 15 Oct 2016 06:53:28 +0000"  >&lt;p&gt;Thanks for the documentation, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=JonnyR&quot; class=&quot;user-hover&quot; rel=&quot;JonnyR&quot;&gt;Jianguo Tian&lt;/a&gt;, looks good.  I added version information and links to this JIRA issue.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-ConnectionURLFormat&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HiveServer2 Clients &amp;#8211; JDBC &amp;#8211; Connection URL Format &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-ConnectionURLforRemoteorEmbeddedMode&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HiveServer2 Clients &amp;#8211; JDBC &amp;#8211; Connection URL for Remote or Embedded Mode &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Removed the TODOC2.2 label.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="13001589">HIVE-14676</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12699041">HIVE-6561</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12827380" name="HIVE-5867.1.patch" size="6656" author="JonnyR" created="Wed, 7 Sep 2016 14:26:26 +0000"/>
                            <attachment id="12830001" name="HIVE-5867.2.patch" size="8919" author="JonnyR" created="Fri, 23 Sep 2016 06:17:57 +0000"/>
                            <attachment id="12830253" name="HIVE-5867.3 .patch" size="8853" author="JonnyR" created="Mon, 26 Sep 2016 06:23:13 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="13001589">HIVE-14676</subtask>
                            <subtask id="13001590">HIVE-14677</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Sep 2016 16:56:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359835</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 14 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q153:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360134</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5868] Add statistics rule for Union operator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5868</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;At this point union operator uses the default statistics rule which will merge the statistics from its parent operators. The default rule does not assign the output table alias to each of the column statistics. This will result in incorrectly fetching column statistics when statistics of union operator is referenced further down the operator tree. A new rule for union operator should be added which should merge column statistics properly and rename the column names based on output row schema of union operator.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680648">HIVE-5868</key>
            <summary>Add statistics rule for Union operator</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12670659">HIVE-5369</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Nov 2013 00:17:24 +0000</created>
                <updated>Wed, 12 Nov 2014 20:40:25 +0000</updated>
                                            <version>0.13.0</version>
                                                    <component>Query Processor</component>
                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q1lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360212</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5869] hive should not need to get delegation token if HS2 doas is false, for MR localtask</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5869</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See discussion in reviewboard of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5618&quot; title=&quot;Hive local task fails to run when run from oozie in a secure cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5618&quot;&gt;&lt;del&gt;HIVE-5618&lt;/del&gt;&lt;/a&gt; . Even with doas disabled, delegation  token was needed with hadoop 2.x .&lt;br/&gt;
This should not be the case. It needs some further investigation. We might be getting delegation tokens when actually don&apos;t have to.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12680670">HIVE-5869</key>
            <summary>hive should not need to get delegation token if HS2 doas is false, for MR localtask</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Nov 2013 02:31:06 +0000</created>
                <updated>Fri, 22 Nov 2013 02:31:23 +0000</updated>
                                            <version>0.13.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12675171">HIVE-5618</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q1qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360234</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5870] Move TestJDBCDriver2.testNewConnectionConfiguration to TestJDBCWithMiniHS2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5870</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;TestJDBCDriver2.testNewConnectionConfiguration() attempts to start a Hiveserver2 instance in the test.&lt;/p&gt;

&lt;p&gt;This can cause issues as creating HiveServer2 needs correct environment/path.  This test should be moved to TestJdbcWithMiniHS2, which uses MiniHS2.  MiniHS2 is for this purpose (setting all the environment properly before starting HiveServer2 instance).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680675">HIVE-5870</key>
            <summary>Move TestJDBCDriver2.testNewConnectionConfiguration to TestJDBCWithMiniHS2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="szehon">Szehon Ho</assignee>
                                    <reporter username="szehon">Szehon Ho</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Nov 2013 03:34:20 +0000</created>
                <updated>Thu, 13 Nov 2014 19:43:28 +0000</updated>
                            <resolved>Sat, 19 Apr 2014 04:45:48 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13830262" author="szehon" created="Fri, 22 Nov 2013 19:45:43 +0000"  >&lt;p&gt;Attaching the patch.&lt;/p&gt;</comment>
                            <comment id="13830532" author="hiveqa" created="Sat, 23 Nov 2013 02:59:38 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615375/HIVE-5870.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615375/HIVE-5870.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4680 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/407/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/407/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/407/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/407/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615375&lt;/p&gt;</comment>
                            <comment id="13831671" author="xuefuz" created="Mon, 25 Nov 2013 17:58:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13973126" author="ashutoshc" created="Thu, 17 Apr 2014 16:30:17 +0000"  >&lt;p&gt;This one seems to fall through cracks. Lets get this in. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; Patch needs a rebase.&lt;/p&gt;</comment>
                            <comment id="13974551" author="szehon" created="Fri, 18 Apr 2014 22:09:04 +0000"  >&lt;p&gt;Rebased and updated the Review-Board.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13974553" author="ashutoshc" created="Fri, 18 Apr 2014 22:10:10 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13974726" author="ashutoshc" created="Sat, 19 Apr 2014 04:45:49 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Szehon!&lt;/p&gt;</comment>
                            <comment id="14210973" author="thejas" created="Thu, 13 Nov 2014 19:43:28 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12640896" name="HIVE-5870.2.patch" size="5182" author="szehon" created="Fri, 18 Apr 2014 22:09:04 +0000"/>
                            <attachment id="12615375" name="HIVE-5870.patch" size="6365" author="szehon" created="Fri, 22 Nov 2013 19:45:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 Nov 2013 02:59:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q1rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360239</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5871] Use multiple-characters as field delimiter</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5871</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;By default, hive only allows user to use single character as field delimiter. Although there&apos;s RegexSerDe to specify multiple-character delimiter, it can be daunting to use, especially for amateurs.&lt;br/&gt;
The patch adds a new SerDe named MultiDelimitSerDe. With MultiDelimitSerDe, users can specify a multiple-character field delimiter when creating tables, in a way most similar to typical table creations. For example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table test (id string,hivearray array&amp;lt;binary&amp;gt;,hivemap map&amp;lt;string,&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;) ROW FORMAT SERDE &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.contrib.serde2.MultiDelimitSerDe&apos;&lt;/span&gt; WITH SERDEPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&quot;field.delim&quot;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;[,]&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;collection.delim&quot;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;mapkey.delim&quot;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;@&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;where &lt;tt&gt;field.delim&lt;/tt&gt; is the field delimiter, &lt;tt&gt;collection.delim&lt;/tt&gt; and &lt;tt&gt;mapkey.delim&lt;/tt&gt; is the delimiter for collection items and key value pairs, respectively. Among these delimiters, &lt;tt&gt;field.delim&lt;/tt&gt; is mandatory and can be of multiple characters, while &lt;tt&gt;collection.delim&lt;/tt&gt; and &lt;tt&gt;mapkey.delim&lt;/tt&gt; is optional and only support single character.&lt;/p&gt;

&lt;p&gt;To use MultiDelimitSerDe, you have to add the hive-contrib jar to the class path, e.g. with the &lt;tt&gt;add jar&lt;/tt&gt; command.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680747">HIVE-5871</key>
            <summary>Use multiple-characters as field delimiter</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lirui">Rui Li</assignee>
                                    <reporter username="lirui">Rui Li</reporter>
                        <labels>
                            <label>TODOC14</label>
                    </labels>
                <created>Fri, 22 Nov 2013 13:24:29 +0000</created>
                <updated>Tue, 18 Oct 2016 04:47:13 +0000</updated>
                            <resolved>Fri, 5 Sep 2014 21:45:54 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Contrib</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13829976" author="lirui" created="Fri, 22 Nov 2013 13:45:44 +0000"  >&lt;p&gt;This implementation mainly relies on LazySimpleSerDe for serialization and deserialization. I added some methods to LazyStruct to parse a row delimited by multiple-character string. Another difference from LazySimpleSerDe is that MultiDelimitSerDe doesn&apos;t use Base64 to encode binary fields in serialization. Because the encoded string may interfere with the delimiter. I also modified LazyBinary, so that when it deserializes a binary field and is  unable to Base64 decode the field, it just keeps the data unchanged. A simple use case is as follow:&lt;/p&gt;

&lt;p&gt;create table test (id string,hivearray array&amp;lt;binary&amp;gt;,hivemap map&amp;lt;string,int&amp;gt;) ROW FORMAT SERDE &apos;org.apache.hadoop.hive.contrib.serde2.MultiDelimitSerDe&apos; WITH SERDEPROPERTIES (&quot;field.delimited&quot;=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;,&amp;#93;&lt;/span&gt;&quot;,&quot;collection.delimited&quot;=&quot;:&quot;,&quot;mapkey.delimited&quot;=&quot;@&quot;);&lt;/p&gt;

&lt;p&gt;where field.delimited is the multiple-char field delimiter. collection.delimited is the delimiter for collection items. mapkey.delimited is the delimiter for  keys and values in maps. We currently don&apos;t support multiple-char for these two delimiters.&lt;/p&gt;

&lt;p&gt;&amp;lt;Edited 10/Sep/14 on behalf of Rui Li&amp;gt;  This comment&apos;s example differs from the final version of the patch.  See the description above for an accurate example, and note that the SERDEPROPERTIES are *.delim rather than *.delimited.&lt;/p&gt;</comment>
                            <comment id="13994830" author="lirui" created="Mon, 12 May 2014 05:49:15 +0000"  >&lt;p&gt;Fix previous implementation.&lt;/p&gt;</comment>
                            <comment id="14087274" author="brocknoland" created="Wed, 6 Aug 2014 05:30:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt; please excuse me for my ignorance. Does this same problem extend to using formats such as Parquet? Do users only use text because they want to use this serde?&lt;/p&gt;</comment>
                            <comment id="14087293" author="lirui" created="Wed, 6 Aug 2014 05:49:07 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, when users initially required this feature, they&apos;re only using text. So I haven&apos;t testes it for other formats. I can do the test if you think the implementation makes sense.&lt;/p&gt;</comment>
                            <comment id="14087296" author="brocknoland" created="Wed, 6 Aug 2014 05:51:02 +0000"  >&lt;p&gt;Thank you! I think any changes to Parquet and other formats would be a completely separate change. However, I think it would be interesting to know if Parquet worked for users of GBK.&lt;/p&gt;

&lt;p&gt;Can you add a RB item for this?&lt;/p&gt;</comment>
                            <comment id="14087351" author="lirui" created="Wed, 6 Aug 2014 07:07:07 +0000"  >&lt;p&gt;Update the patch for latest code base&lt;/p&gt;</comment>
                            <comment id="14087356" author="lirui" created="Wed, 6 Aug 2014 07:12:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; I updated the patch because the old one won&apos;t work with latest hive code.&lt;br/&gt;
Also created a request on RB and linked to this JIRA.&lt;/p&gt;</comment>
                            <comment id="14087643" author="brocknoland" created="Wed, 6 Aug 2014 13:15:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think any changes to Parquet and other formats would be a completely separate change. However, I think it would be interesting to know if Parquet worked for users of GBK.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Actually I think is more relevant to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7142&quot; title=&quot;Hive multi serialization encoding support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7142&quot;&gt;&lt;del&gt;HIVE-7142&lt;/del&gt;&lt;/a&gt;...&lt;/p&gt;</comment>
                            <comment id="14088607" author="hiveqa" created="Thu, 7 Aug 2014 01:17:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660075/HIVE-5871.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12660075/HIVE-5871.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5868 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.ql.TestDDLWithRemoteMetastoreSecondNamenode.testCreateTableWithIndexAndPartitionsNonDefaultNameNode
org.apache.hadoop.hive.serde2.lazy.TestLazyPrimitive.testLazyBinary
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/195/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/195/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/195/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/195/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-195/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-195/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12660075&lt;/p&gt;</comment>
                            <comment id="14089680" author="hiveqa" created="Thu, 7 Aug 2014 19:41:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660319/HIVE-5871.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12660319/HIVE-5871.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5885 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.ql.TestDDLWithRemoteMetastoreSecondNamenode.testCreateTableWithIndexAndPartitionsNonDefaultNameNode
org.apache.hive.hcatalog.pig.TestOrcHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/212/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/212/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/212/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/212/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-212/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-212/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12660319&lt;/p&gt;</comment>
                            <comment id="14094857" author="brocknoland" created="Tue, 12 Aug 2014 23:08:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14094894" author="brocknoland" created="Tue, 12 Aug 2014 23:43:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt; I know I +1&apos;ed the change but I think we should change the properties fields.deliminted, collection, mapkey... etc to the constants which are available in serDeConstants.&lt;/p&gt;</comment>
                            <comment id="14095096" author="lirui" created="Wed, 13 Aug 2014 03:23:43 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; I updated the patch accordingly.&lt;/p&gt;</comment>
                            <comment id="14095518" author="hiveqa" created="Wed, 13 Aug 2014 14:18:49 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12661385/HIVE-5871.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12661385/HIVE-5871.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5875 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_create
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/289/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/289/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/289/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/289/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-289/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-289/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12661385&lt;/p&gt;</comment>
                            <comment id="14096372" author="lirui" created="Thu, 14 Aug 2014 01:01:28 +0000"  >&lt;p&gt;Leave fixing the typo in serdeConstants to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6404&quot; title=&quot;Fix typo in serde constants for collection delimitor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6404&quot;&gt;HIVE-6404&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14096818" author="hiveqa" created="Thu, 14 Aug 2014 10:07:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12661600/HIVE-5871.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12661600/HIVE-5871.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5894 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hive.jdbc.TestJdbcDriver2.testDatabaseMetaData
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/306/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/306/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/306/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/306/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-306/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-306/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12661600&lt;/p&gt;</comment>
                            <comment id="14097318" author="brocknoland" created="Thu, 14 Aug 2014 18:13:56 +0000"  >&lt;p&gt;One quick question, I noticed the following change to TestLazyPrimitive:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazyPrimitive.java serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazyPrimitive.java
index 7cd1805..3d7f11e 100644
--- serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazyPrimitive.java
+++ serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazyPrimitive.java
@@ -388,7 +388,7 @@ public void testLazyBinary() {
     initLazyObject(ba, new byte[] {&apos;2&apos;, &apos;?&apos;, &apos;3&apos;}, 0, 3);
     assertEquals(new BytesWritable(new byte[] {&apos;2&apos;, &apos;?&apos;, &apos;3&apos;}), ba.getWritableObject());
     initLazyObject(ba, new byte[] {&apos;\n&apos;}, 0, 1);
-    assertEquals(new BytesWritable(new byte[] {}), ba.getWritableObject());
+    assertEquals(new BytesWritable(new byte[] {&apos;\n&apos;}), ba.getWritableObject());
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which I am concerned about being backwards incompatible. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chinnalalam&quot; class=&quot;user-hover&quot; rel=&quot;chinnalalam&quot;&gt;Chinna Rao Lalam&lt;/a&gt; actually added this years ago in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2465&quot; title=&quot;Primitive Data Types returning null if the data is out of range of the data type.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2465&quot;&gt;&lt;del&gt;HIVE-2465&lt;/del&gt;&lt;/a&gt;. Chinna, what are your thoughts on this change?&lt;/p&gt;</comment>
                            <comment id="14098025" author="lirui" created="Fri, 15 Aug 2014 01:20:08 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, I made the change because MultiDelimitSerde won&apos;t base-64 encode or decode binary data, in case the encoded string should be the same with the multiple-character delimiter. And this in turn is because I want to reuse the LazySimpleSerde for most of the serialize and deserialize logic. Please let me know if this change is unacceptable and we need a better way to handle it.&lt;/p&gt;</comment>
                            <comment id="14110231" author="brocknoland" created="Tue, 26 Aug 2014 03:41:46 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Could you implement MultiDelimitSerde without making the change to LazyBinary? The way I read the code this could cause some users of the text serdes to have &quot;new&quot; and unexpected results returned.&lt;/p&gt;</comment>
                            <comment id="14110516" author="lirui" created="Tue, 26 Aug 2014 09:01:43 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;LazyBinary only intends to decode valid base64 data: &lt;tt&gt;byte[] decoded = arrayByteBase64 ? Base64.decodeBase64(recv) : recv;&lt;/tt&gt;. Original data is returned if it contains non-base64 character. Therefore, I think it&apos;s natural to also return the original data if decode fails. Otherwise, why would we bother to check &lt;tt&gt;arrayByteBase64&lt;/tt&gt; before decoding?&lt;br/&gt;
I&apos;ve asked Chinna to help see if this is correct and waiting for his comments.&lt;/p&gt;

&lt;p&gt;But anyway, if you think this is incorrect or we should minimize change to the code base I&apos;ll find a way to avoid it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="14110871" author="brocknoland" created="Tue, 26 Aug 2014 16:00:03 +0000"  >&lt;p&gt;Hi Rui,&lt;/p&gt;

&lt;p&gt;Yes, I agree that it makes sense to write it like that from the outset. The case I was thinking of is where you have a non-base64 string, junk, which &quot;appears&quot; to be in base64 and thus decode is called. Today that would return either null or empty byte array but after this change it will appear as-is.&lt;/p&gt;

&lt;p&gt;Thinking about this more, perhaps we can commit the change as-is. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; do you have thoughts on this?&lt;/p&gt;</comment>
                            <comment id="14120883" author="brocknoland" created="Thu, 4 Sep 2014 02:54:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14123648" author="brocknoland" created="Fri, 5 Sep 2014 21:45:54 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;!! I have committed this patch to trunk!&lt;/p&gt;</comment>
                            <comment id="14124272" author="lirui" created="Sat, 6 Sep 2014 02:34:14 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; for the patient review!&lt;/p&gt;</comment>
                            <comment id="14124301" author="lefty@hortonworks.com" created="Sat, 6 Sep 2014 04:09:36 +0000"  >&lt;p&gt;Doc note:  MultiDelimitSerDe needs to be documented in the wiki (with version information and a link to this JIRA ticket).&lt;/p&gt;

&lt;p&gt;It belongs in some existing docs, and a new doc with limitations and usage examples could be a child page to the SerDe doc (or a new section in the SerDe doc):&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/SerDe#SerDe-Built-in,Third-Party,andCustomSerDes&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SerDe &amp;#8211; Built-in, Third-Party, and Custom SerDes &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RowFormat,StorageFormat,andSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Create Table &amp;#8211; Row Format, Storage Format, and SerDe &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;possibly &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AddSerDeProperties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Add SerDe Properties &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-HiveSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Developer Guide &amp;#8211; Hive SerDe (add to &quot;Also:&quot; list at end of section) &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;optionally &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HCatalog+StorageFormats#HCatalogStorageFormats-SerDesandStorageFormats&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HCatalog Storage Formats &amp;#8211; SerDes and Storage Formats (first paragraph) &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;A release note could include the example from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;&apos;s first comment.&lt;/p&gt;</comment>
                            <comment id="14126466" author="lirui" created="Tue, 9 Sep 2014 01:50:07 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt;, I&apos;m not sure if I have the permission to update the wiki. Besides, could you point me to some guide as how to use/edit the wiki? Thanks!&lt;br/&gt;
My first comment is outdated due to some changes in later versions of the patch. Since I can&apos;t edit my comments, maybe I can update the description to include the correct example?&lt;/p&gt;</comment>
                            <comment id="14126682" author="lefty@hortonworks.com" created="Tue, 9 Sep 2014 06:30:27 +0000"  >&lt;p&gt;Actually you &lt;em&gt;can&lt;/em&gt; edit comments, although that&apos;s discouraged because preserving the history is important.  (A good workaround is to append &quot;Edit &amp;lt;date&amp;gt;:&quot; to the comment instead of changing the original text.)  The edit function is via a pencil icon in the upper right corner of each comment.  But updating the description is also good.&lt;/p&gt;

&lt;p&gt;If you have wiki update permission, each Hive wiki page has an Edit link with a pencil icon in the upper right corner, next to Share and Tools.  If not, you can request permission as described in AboutThisWiki which you can find on the left side of the Home page.&lt;/p&gt;

&lt;p&gt;A preliminary guide to editing the wiki is in a comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7142&quot; title=&quot;Hive multi serialization encoding support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7142&quot;&gt;&lt;del&gt;HIVE-7142&lt;/del&gt;&lt;/a&gt;.  By the way, that&apos;s an edited comment.&lt;/p&gt;

&lt;p&gt;Here are the links:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AboutThisWiki#AboutThisWiki-Howtogetpermissiontoedit&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;AboutThisWiki &amp;#8211; How to get permission to edit &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7142?focusedCommentId=14096756&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14096756&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-7142 comment about how to edit the wiki &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14126690" author="lirui" created="Tue, 9 Sep 2014 06:40:59 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; that&apos;s very helpful. However I don&apos;t see a pencil icon in the upper right corner of my comments. (There is one in the description though). Wonder if I&apos;m still missing something?&lt;/p&gt;</comment>
                            <comment id="14127076" author="brocknoland" created="Tue, 9 Sep 2014 15:10:56 +0000"  >&lt;p&gt;I think for Hive, you need &quot;committer&quot; privs to get the ability to edit comments. Let me see if we can relax this.&lt;/p&gt;</comment>
                            <comment id="14127242" author="lefty@hortonworks.com" created="Tue, 9 Sep 2014 17:13:33 +0000"  >&lt;p&gt;Thanks for that explanation, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;.  Live and learn.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;, since I have edit permission you can tell me what to change and I&apos;ll do it for you.  That will help avoid confusion for JIRA surfers.&lt;/p&gt;</comment>
                            <comment id="14127933" author="lirui" created="Wed, 10 Sep 2014 01:58:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; I&apos;ve updated the description to add the correct use example. Maybe you can edit my comment to indicate it outdated. Thanks.&lt;/p&gt;</comment>
                            <comment id="14128045" author="lefty@hortonworks.com" created="Wed, 10 Sep 2014 04:49:12 +0000"  >&lt;p&gt;How&apos;s that, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lirui&quot; class=&quot;user-hover&quot; rel=&quot;lirui&quot;&gt;Rui Li&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14128108" author="lirui" created="Wed, 10 Sep 2014 05:47:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; That&apos;s perfect. Thanks a lot!&lt;/p&gt;</comment>
                            <comment id="14210338" author="thejas" created="Thu, 13 Nov 2014 19:40:19 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13012983">HIVE-14989</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13012983">HIVE-14989</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12762806">HIVE-9172</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12478856">HIVE-1762</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12660057" name="HIVE-5871.2.patch" size="16287" author="lirui" created="Wed, 6 Aug 2014 05:24:43 +0000"/>
                            <attachment id="12660075" name="HIVE-5871.3.patch" size="16092" author="lirui" created="Wed, 6 Aug 2014 07:07:07 +0000"/>
                            <attachment id="12660319" name="HIVE-5871.4.patch" size="16882" author="lirui" created="Thu, 7 Aug 2014 04:52:17 +0000"/>
                            <attachment id="12661385" name="HIVE-5871.5.patch" size="17604" author="lirui" created="Wed, 13 Aug 2014 03:21:31 +0000"/>
                            <attachment id="12661600" name="HIVE-5871.6.patch" size="17119" author="lirui" created="Thu, 14 Aug 2014 01:01:28 +0000"/>
                            <attachment id="12615326" name="HIVE-5871.patch" size="15947" author="lirui" created="Fri, 22 Nov 2013 13:45:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Aug 2014 05:30:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360012</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q27z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5872] Make UDAFs such as GenericUDAFSum report accurate precision/scale for decimal types</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5872</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently UDAFs are still reporting system default precision/scale (38, 18) for decimal results. Not only this is coarse, but also this can cause problems in subsequent operators such as division, where the result is dependent on the precision/scale of the input, which can go out of bound (38,38). Thus, these UDAFs should correctly report the precision/scale of the result.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680764">HIVE-5872</key>
            <summary>Make UDAFs such as GenericUDAFSum report accurate precision/scale for decimal types</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Nov 2013 14:51:32 +0000</created>
                <updated>Mon, 28 Jul 2014 14:04:44 +0000</updated>
                            <resolved>Mon, 9 Dec 2013 21:10:22 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Types</component>
                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13830759" author="hiveqa" created="Sat, 23 Nov 2013 20:05:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615466/HIVE-5872.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615466/HIVE-5872.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 4684 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_precision
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/418/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/418/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/418/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/418/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615466&lt;/p&gt;</comment>
                            <comment id="13830899" author="hiveqa" created="Sun, 24 Nov 2013 07:50:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615494/HIVE-5872.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615494/HIVE-5872.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4685 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.ql.udf.generic.TestGenericUDFOPDivide.testDecimalDivideDecimal2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/426/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/426/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/426/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/426/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615494&lt;/p&gt;</comment>
                            <comment id="13830908" author="hiveqa" created="Sun, 24 Nov 2013 08:33:04 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615494/HIVE-5872.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615494/HIVE-5872.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4685 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.ql.udf.generic.TestGenericUDFOPDivide.testDecimalDivideDecimal2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/427/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/427/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/427/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/427/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615494&lt;/p&gt;</comment>
                            <comment id="13838217" author="xuefuz" created="Tue, 3 Dec 2013 21:32:53 +0000"  >&lt;p&gt;Patch #2 is updated, which also includes patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5866&quot; title=&quot;Hive divide operator generates wrong results in certain cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5866&quot;&gt;&lt;del&gt;HIVE-5866&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13838267" author="hiveqa" created="Tue, 3 Dec 2013 22:33:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616853/HIVE-5872.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616853/HIVE-5872.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4451 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_precision
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/500/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/500/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/500/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/500/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616853&lt;/p&gt;</comment>
                            <comment id="13838539" author="xuefuz" created="Wed, 4 Dec 2013 02:51:00 +0000"  >&lt;p&gt;Patch #3 removed the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5866&quot; title=&quot;Hive divide operator generates wrong results in certain cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5866&quot;&gt;&lt;del&gt;HIVE-5866&lt;/del&gt;&lt;/a&gt; since the patch was in trunk already.&lt;/p&gt;</comment>
                            <comment id="13838680" author="hiveqa" created="Wed, 4 Dec 2013 07:22:27 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616931/HIVE-5872.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616931/HIVE-5872.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4455 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/510/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/510/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/510/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/510/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616931&lt;/p&gt;</comment>
                            <comment id="13839252" author="xuefuz" created="Wed, 4 Dec 2013 19:31:41 +0000"  >&lt;p&gt;RB: &lt;a href=&quot;https://reviews.apache.org/r/16008/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/16008/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13840705" author="xuefuz" created="Thu, 5 Dec 2013 23:49:32 +0000"  >&lt;p&gt;Patch #4 rebased with trunk.&lt;/p&gt;</comment>
                            <comment id="13840723" author="sershe" created="Fri, 6 Dec 2013 00:11:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13840881" author="hiveqa" created="Fri, 6 Dec 2013 02:46:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617263/HIVE-5872.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617263/HIVE-5872.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4458 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_smb_mapjoin_8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/535/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/535/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/535/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/535/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617263&lt;/p&gt;</comment>
                            <comment id="13840888" author="xuefuz" created="Fri, 6 Dec 2013 02:58:24 +0000"  >&lt;p&gt;The above test failure seems transient/unrelated. Reload the same patch to kick off another test run.&lt;/p&gt;</comment>
                            <comment id="13840964" author="hiveqa" created="Fri, 6 Dec 2013 04:27:57 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617321/HIVE-5872.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617321/HIVE-5872.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4458 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/537/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/537/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/537/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/537/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617321&lt;/p&gt;</comment>
                            <comment id="13843556" author="xuefuz" created="Mon, 9 Dec 2013 21:10:22 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks go to Sergey Shelukhin for the review.&lt;/p&gt;</comment>
                            <comment id="13843654" author="thejas" created="Mon, 9 Dec 2013 22:54:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; Sergey is not a committer. The policy is to get a +1 from a committer who is not the author of the patch before committing it. See &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Bylaws#Bylaws-&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Bylaws#Bylaws-&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13843663" author="thejas" created="Mon, 9 Dec 2013 23:00:19 +0000"  >&lt;p&gt;I guess Sergey might be doing a good job at &quot;If you want to become a committer, behave like a committer.&quot; (from &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/BecomingACommitter&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/BecomingACommitter&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13843668" author="xuefuz" created="Mon, 9 Dec 2013 23:04:22 +0000"  >&lt;p&gt;Thanks for pointing this out, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;. That&apos;s exactly my impression. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;ll ask a committer to review the patch. If changes are due, I will create followup jira to accommodate. &lt;/p&gt;</comment>
                            <comment id="13843675" author="prasadm" created="Mon, 9 Dec 2013 23:14:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; I will take a look shortly.&lt;/p&gt;</comment>
                            <comment id="13843680" author="thejas" created="Mon, 9 Dec 2013 23:20:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; Sounds good.&lt;/p&gt;</comment>
                            <comment id="13843725" author="prasadm" created="Mon, 9 Dec 2013 23:56:45 +0000"  >&lt;p&gt;Looks fine to me.&lt;br/&gt;
+1&lt;/p&gt;

&lt;p&gt;In general, it looks like we need more exception logic for handling decimals in UDAF (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5872&quot; title=&quot;Make UDAFs such as GenericUDAFSum report accurate precision/scale for decimal types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5872&quot;&gt;&lt;del&gt;HIVE-5872&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5866&quot; title=&quot;Hive divide operator generates wrong results in certain cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5866&quot;&gt;&lt;del&gt;HIVE-5866&lt;/del&gt;&lt;/a&gt;). It might be useful to add a note in the dev guide for future  work ..&lt;/p&gt;</comment>
                            <comment id="13845715" author="xuefuz" created="Wed, 11 Dec 2013 20:54:03 +0000"  >&lt;p&gt;Thanks for the review, Prasad.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;In general, it looks like we need more exception logic for handling decimals in UDAF (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5872&quot; title=&quot;Make UDAFs such as GenericUDAFSum report accurate precision/scale for decimal types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5872&quot;&gt;&lt;del&gt;HIVE-5872&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5866&quot; title=&quot;Hive divide operator generates wrong results in certain cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5866&quot;&gt;&lt;del&gt;HIVE-5866&lt;/del&gt;&lt;/a&gt;). It might be useful to add a note in the dev guide for future work ..&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I assume you are referring the following code snippet:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (t == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; warnedOnceNullMapKey;
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I agree with your assessment. Currently Hive emits null as the only error handling option. Thus, null check is (or is missed) everywhere in the code, not specific to decimal. For a long run, I agree we need to have a better exception handling, especially when we introduce different error handling (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5438&quot; title=&quot;Introduce different server modes for error handling in Hive server2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5438&quot;&gt;HIVE-5438&lt;/a&gt;).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12630455">HIVE-3976</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12695793">HIVE-6459</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12680565">HIVE-5866</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12615494" name="HIVE-5872.1.patch" size="45937" author="xuefuz" created="Sun, 24 Nov 2013 06:58:54 +0000"/>
                            <attachment id="12616853" name="HIVE-5872.2.patch" size="536888" author="xuefuz" created="Tue, 3 Dec 2013 21:32:53 +0000"/>
                            <attachment id="12616931" name="HIVE-5872.3.patch" size="18032" author="xuefuz" created="Wed, 4 Dec 2013 02:51:00 +0000"/>
                            <attachment id="12617321" name="HIVE-5872.4.patch" size="17242" author="xuefuz" created="Fri, 6 Dec 2013 02:58:24 +0000"/>
                            <attachment id="12615466" name="HIVE-5872.patch" size="5608" author="xuefuz" created="Sat, 23 Nov 2013 18:51:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 Nov 2013 20:05:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q2br:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360328</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5873] SubQuery: In subquery Count Bug</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5873</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is from the Optimization of Nested SQl Queries Revisited paper: &lt;a href=&quot;http://dl.acm.org/citation.cfm?id=38723&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dl.acm.org/citation.cfm?id=38723&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Consider Part table having:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;PNum OrderOnHand
-------- ------------------
3          6
10        1
8          0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Supply table having:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;PNum  Qty  
3          4
3          2
10        1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The query:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select pnum
from parts p
where orderOnHand
     in (select count(*) from supply s
          where s.pnum = p.pnum
         )
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;should return the row with PNum=8.&lt;br/&gt;
But a transformation to a semi-join would eliminate this row, as there are no rows in supply table with PNum=8.&lt;/p&gt;

&lt;p&gt;AS shown in the paper the soln is to transform to:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select pnum
from parts p semijoin
        (select p1.pnum, count(*) as c
          from (select distinct pnum from parts) p1 join supply s
          where s.pnum = p1.pnum
         ) sq on p.pnum = sq.pnum and p.orderOnHand = sq.c
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The additional distinct query within the SubQuery is to handle duplicates in the outer query on the joining columns.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680809">HIVE-5873</key>
            <summary>SubQuery: In subquery Count Bug</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rhbutani">Harish Butani</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Nov 2013 20:54:12 +0000</created>
                <updated>Mon, 13 Feb 2017 22:09:40 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15864552" author="julianhyde" created="Mon, 13 Feb 2017 22:09:40 +0000"  >&lt;p&gt;This is fixed in Calcite as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/CALCITE-365&quot; title=&quot;AssertionError while translating query with WITH and correlated sub-query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CALCITE-365&quot;&gt;&lt;del&gt;CALCITE-365&lt;/del&gt;&lt;/a&gt;. It&apos;s worth re-evaluating when Hive picks up Calcite 1.12.&lt;/p&gt;

&lt;p&gt;By the way, it&apos;s ambiguous in &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt;&apos;s description above, but the query should return two rows (yes, including PNum=8). I confirmed on Postgres:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; create table Part (PNum int, OrderOnHand int);
CREATE TABLE
&amp;gt; insert into Part values (3,6),(10,1),(8,0);
INSERT 0 3
&amp;gt; create table Supply (PNum int, Qty int);
CREATE TABLE
&amp;gt; insert into Supply values (3,4),(3,2),(10,1);
INSERT 0 3
&amp;gt; select pnum                                  
from Part p
where orderOnHand
     in (select count(*) from Supply s
          where s.pnum = p.pnum
         );
 pnum 
------
   10
    8
(2 rows)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 13 Feb 2017 22:09:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360074</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q2lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5874] SubQuery: better error handling when SQ and Outer Query has the same table alias</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5874</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following query&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select * from src where key in (select key from src where src.key &amp;gt; &apos;1&apos;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Gives the following message:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;emanticException [Error 10249]: Line 1:58 Unsupported SubQuery Expression &apos;&apos;1&apos;&apos;: SubQuery expression refers to Outer query expressions only.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Whereas the user is attempting to express an uncorrelated Subquery.&lt;br/&gt;
The ambiguity is because we attempt to resolve references against  the Outer Query first. This is an implementation detail, see the Sub Query spec for details. For now it is better to disallow such SubQueries.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680822">HIVE-5874</key>
            <summary>SubQuery: better error handling when SQ and Outer Query has the same table alias</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rhbutani">Harish Butani</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Nov 2013 22:06:00 +0000</created>
                <updated>Fri, 22 Nov 2013 22:06:00 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360087</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q2on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360386</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5875] task : collect list of hive configuration params whose default should change</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5875</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The immediate motivation for this was the ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4485&quot; title=&quot;beeline prints null as empty strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4485&quot;&gt;&lt;del&gt;HIVE-4485&lt;/del&gt;&lt;/a&gt; . Beeline prints NULLs as empty strings. This is not a desirable behavior. But if we fix it, it breaks backward compatibility. &lt;br/&gt;
But we should not be burdening all users with mistakes of the past, specially the users who are new to hive. As hadoop and hive adoption increases proportion of &apos;new&apos; users will continue to increase.&lt;/p&gt;

&lt;p&gt;We need a way to let users choose between backward compatible behavior and more sensible behavior.  How this is implemented can be discussed in a separate jira. &lt;/p&gt;

&lt;p&gt;The purpose of this &lt;b&gt;Task&lt;/b&gt; jira is just to collect list of config flags whose current default is not the desirable one.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680831">HIVE-5875</key>
            <summary>task : collect list of hive configuration params whose default should change</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Nov 2013 22:56:44 +0000</created>
                <updated>Fri, 22 Nov 2013 23:16:30 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13830393" author="appodictic" created="Fri, 22 Nov 2013 23:03:49 +0000"  >&lt;p&gt;hive.mapred.mode=strict&lt;br/&gt;
hive.cli.print.header=true&lt;br/&gt;
auotcreate.scheam=false&lt;/p&gt;</comment>
                            <comment id="13830405" author="thejas" created="Fri, 22 Nov 2013 23:16:30 +0000"  >&lt;p&gt; hive.enforce.bucketing = true . (When somebody creates a table with bucketing , I don&apos;t see any reason why they won&apos;t want bucketing to be on by default).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Nov 2013 23:03:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360096</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q2qn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360395</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5876] Split elimination in ORC breaks for partitioned tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5876</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5632&quot; title=&quot;Eliminate splits based on SARGs using stripe statistics in ORC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5632&quot;&gt;&lt;del&gt;HIVE-5632&lt;/del&gt;&lt;/a&gt; eliminates ORC stripes from split computation that do not satisfy SARG condition. SARG expression can also refer to partition columns. But partition column will not be contained in the column names list in ORC file. This was causing ArrayIndexOutOfBoundException in split elimination logic when used with partitioned tables. The fix is to ignore evaluation of partition column expressions in split elimination.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680843">HIVE-5876</key>
            <summary>Split elimination in ORC breaks for partitioned tables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                            <label>orcfile</label>
                    </labels>
                <created>Sat, 23 Nov 2013 00:18:37 +0000</created>
                <updated>Wed, 27 Nov 2013 16:27:58 +0000</updated>
                            <resolved>Wed, 27 Nov 2013 16:27:58 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13830617" author="hiveqa" created="Sat, 23 Nov 2013 08:16:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615421/HIVE-5876.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615421/HIVE-5876.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 4680 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testSplitEliminationComplexExpr
org.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testSplitEliminationLargeMaxSplit
org.apache.hadoop.hive.ql.io.orc.TestOrcSplitElimination.testSplitEliminationSmallMaxSplit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/415/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/415/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/415/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/415/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615421&lt;/p&gt;</comment>
                            <comment id="13831895" author="prasanth_j" created="Mon, 25 Nov 2013 21:00:39 +0000"  >&lt;p&gt;Added fix for failing test.&lt;/p&gt;</comment>
                            <comment id="13832350" author="hiveqa" created="Tue, 26 Nov 2013 06:16:53 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615667/HIVE-5876.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615667/HIVE-5876.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4684 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/443/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/443/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/443/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/443/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615667&lt;/p&gt;</comment>
                            <comment id="13833498" author="ashutoshc" created="Wed, 27 Nov 2013 06:05:18 +0000"  >&lt;p&gt;+1 Just for clarification, was it the case that &lt;tt&gt;serdeConstants.columns&lt;/tt&gt; config in job-conf contains partition columns as well ? &lt;/p&gt;</comment>
                            <comment id="13833500" author="prasanth_j" created="Wed, 27 Nov 2013 06:07:11 +0000"  >&lt;p&gt;Yes. It has all the columns including partition columns.&lt;/p&gt;</comment>
                            <comment id="13833917" author="ashutoshc" created="Wed, 27 Nov 2013 16:27:58 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Prasanth!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12615421" name="HIVE-5876.1.patch" size="23880" author="prasanth_j" created="Sat, 23 Nov 2013 00:24:55 +0000"/>
                            <attachment id="12615667" name="HIVE-5876.2.patch" size="25204" author="prasanth_j" created="Mon, 25 Nov 2013 21:00:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 Nov 2013 08:16:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q2tb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360407</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5877] Implement vectorized support for IN as boolean-valued expression</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5877</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Implement support for IN as a Boolean-valued expression, e..g.&lt;/p&gt;

&lt;p&gt;select col1 IN (1, 2, 3) from T;&lt;/p&gt;

&lt;p&gt;or &lt;/p&gt;

&lt;p&gt;select col1&lt;br/&gt;
from T&lt;br/&gt;
where NOT (col1 IN (1, 2, 3));&lt;/p&gt;

&lt;p&gt;This will also automatically add support for NOT IN because NOT IN is automatically transformed into NOT ( ... IN ... ) by the parser.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12680844">HIVE-5877</key>
            <summary>Implement vectorized support for IN as boolean-valued expression</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="11">Done</resolution>
                                        <assignee username="ehans">Eric Hanson</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 Nov 2013 00:20:32 +0000</created>
                <updated>Mon, 9 Dec 2013 18:54:05 +0000</updated>
                            <resolved>Wed, 4 Dec 2013 01:24:53 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13833296" author="ehans" created="Wed, 27 Nov 2013 01:02:38 +0000"  >&lt;p&gt;Patch includes unit tests for new Boolean-valued IN expressions and translation to VectorExpressions in VectorizationContext. Also ran end-to-end ad hoc tests.&lt;/p&gt;</comment>
                            <comment id="13833300" author="ehans" created="Wed, 27 Nov 2013 01:08:34 +0000"  >&lt;p&gt;Review at: &lt;a href=&quot;https://reviews.apache.org/r/15867/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/15867/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13833307" author="ehans" created="Wed, 27 Nov 2013 01:21:02 +0000"  >&lt;p&gt;Removed trailing white space from new and updated files.&lt;/p&gt;</comment>
                            <comment id="13833332" author="ehans" created="Wed, 27 Nov 2013 01:48:06 +0000"  >&lt;p&gt;Remove unneeded if-else logic in new VectorExpressions for long, double. Removed trailing white space in test files.&lt;/p&gt;</comment>
                            <comment id="13834301" author="hiveqa" created="Wed, 27 Nov 2013 23:12:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615973/HIVE-5877.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615973/HIVE-5877.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/469/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/469/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/469/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/469/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-469/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;pom.xml&apos;
Reverted &apos;hbase-handler/pom.xml&apos;
Reverted &apos;jdbc/pom.xml&apos;
Reverted &apos;metastore/pom.xml&apos;
Reverted &apos;itests/hcatalog-unit/pom.xml&apos;
Reverted &apos;itests/test-serde/pom.xml&apos;
Reverted &apos;itests/qtest/pom.xml&apos;
Reverted &apos;itests/custom-serde/pom.xml&apos;
Reverted &apos;itests/pom.xml&apos;
Reverted &apos;itests/util/pom.xml&apos;
Reverted &apos;hcatalog/pom.xml&apos;
Reverted &apos;hwi/pom.xml&apos;
Reverted &apos;common/pom.xml&apos;
Reverted &apos;contrib/pom.xml&apos;
Reverted &apos;service/pom.xml&apos;
Reverted &apos;serde/pom.xml&apos;
Reverted &apos;beeline/pom.xml&apos;
Reverted &apos;cli/pom.xml&apos;
Reverted &apos;ql/pom.xml&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/assembly/target shims/0.20S/target shims/0.23/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1546223.

At revision 1546223.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615973&lt;/p&gt;</comment>
                            <comment id="13834417" author="ehans" created="Thu, 28 Nov 2013 00:50:53 +0000"  >&lt;p&gt;Re-based the patch on the trunk.&lt;/p&gt;

&lt;p&gt;This patch applies fine on my machine using &lt;/p&gt;

&lt;p&gt;    patch -p1 -i .\&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5877&quot; title=&quot;Implement vectorized support for IN as boolean-valued expression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5877&quot;&gt;&lt;del&gt;HIVE-5877&lt;/del&gt;&lt;/a&gt;.4.patch&lt;/p&gt;</comment>
                            <comment id="13834480" author="hiveqa" created="Thu, 28 Nov 2013 02:46:38 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616168/HIVE-5877.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616168/HIVE-5877.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4744 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/474/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/474/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/474/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/474/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616168&lt;/p&gt;</comment>
                            <comment id="13837089" author="jnp" created="Mon, 2 Dec 2013 23:46:03 +0000"  >&lt;p&gt;lgtm, +1&lt;/p&gt;</comment>
                            <comment id="13838449" author="ehans" created="Wed, 4 Dec 2013 01:24:53 +0000"  >&lt;p&gt;Committed to trunk&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="12681401">HIVE-5896</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12681401">HIVE-5896</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12677821">HIVE-5758</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12615958" name="HIVE-5877.1.patch" size="38469" author="ehans" created="Wed, 27 Nov 2013 01:01:06 +0000"/>
                            <attachment id="12615962" name="HIVE-5877.2.patch" size="38347" author="ehans" created="Wed, 27 Nov 2013 01:21:02 +0000"/>
                            <attachment id="12615973" name="HIVE-5877.3.patch" size="38102" author="ehans" created="Wed, 27 Nov 2013 01:48:06 +0000"/>
                            <attachment id="12616168" name="HIVE-5877.4.patch" size="38075" author="ehans" created="Thu, 28 Nov 2013 00:50:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Nov 2013 23:12:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q2tj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360408</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5878] Hive standard avg UDAF returns double as the return type for some exact input types</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5878</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For standard, no-partial avg result, hive currently returns double as the result type.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; desc test;
OK
d                   	&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;                 	None                
Time taken: 0.051 seconds, Fetched: 1 row(s)
hive&amp;gt; explain select avg(`d`) from test;  
...
      Reduce Operator Tree:
        Group By Operator
          aggregations:
                expr: avg(VALUE._col0)
          bucketGroup: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
          mode: mergepartial
          outputColumnNames: _col0
          Select Operator
            expressions:
                  expr: _col0
                  type: &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, exact types including integers and decimal should yield exact type. Here is what MySQL does:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mysql&amp;gt; desc test;
+-------+--------------+------+-----+---------+-------+
| Field | Type         | Null | Key | Default | Extra |
+-------+--------------+------+-----+---------+-------+
| i     | &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;(11)      | YES  |     | NULL    |       |
| b     | tinyint(1)   | YES  |     | NULL    |       |
| d     | &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;       | YES  |     | NULL    |       |
| s     | varchar(5)   | YES  |     | NULL    |       |
| dd    | decimal(5,2) | YES  |     | NULL    |       |
+-------+--------------+------+-----+---------+-------+
mysql&amp;gt; create table test62 as select avg(i) from test;
mysql&amp;gt; desc test62;
+-------+---------------+------+-----+---------+-------+
| Field | Type          | Null | Key | Default | Extra |
+-------+---------------+------+-----+---------+-------+
| avg(i) | decimal(14,4) | YES  |     | NULL    |       |
+-------+---------------+------+-----+---------+-------+
1 row in set (0.00 sec)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12680881">HIVE-5878</key>
            <summary>Hive standard avg UDAF returns double as the return type for some exact input types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 Nov 2013 15:24:00 +0000</created>
                <updated>Sun, 15 Dec 2013 20:46:09 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>Types</component>
                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13830776" author="hiveqa" created="Sat, 23 Nov 2013 21:13:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615467/HIVE-5878.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615467/HIVE-5878.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 16 failed/errored test(s), 4684 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_genericudaf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_precision
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_in_having
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_notin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_not
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_pushdown
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_shufflejoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_udaf
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/419/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/419/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/419/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/419/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 16 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615467&lt;/p&gt;</comment>
                            <comment id="13840999" author="xuefuz" created="Fri, 6 Dec 2013 05:34:46 +0000"  >&lt;p&gt;Patch #1 rebased with latest trunk. Some test failures are fixed.&lt;/p&gt;</comment>
                            <comment id="13841158" author="hiveqa" created="Fri, 6 Dec 2013 10:28:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617339/HIVE-5878.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617339/HIVE-5878.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 4458 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_not
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_pushdown
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_mapjoin
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/549/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/549/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/549/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/549/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617339&lt;/p&gt;</comment>
                            <comment id="13841442" author="ehans" created="Fri, 6 Dec 2013 17:18:21 +0000"  >&lt;p&gt;I&apos;m not comfortable with this change. If the data type of expression and aggregate results in Hive was reasonable before, I think it would be best to leave the type the same as it was, for backward compatibility, so we don&apos;t break people&apos;s applications. &lt;/p&gt;

&lt;p&gt;Also, the vectorized implementation of aggregates was built to return the same data types as the row-at-a-time implementation, for compatibility. It is important that any changes in semantics or types be implemented in both the row-at-a-time, and vectorized execution paths.&lt;/p&gt;

&lt;p&gt;Different database systems make different choices about expression and aggregate result types. For example, in SQL Server, avg applied to an int is an int:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table test(i &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
select avg(i) avg_i into res2 from test;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;gives table res2 with this schema:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE [dbo].[res2](
	[avg_i] [&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;] NULL
) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13841449" author="ehans" created="Fri, 6 Dec 2013 17:29:27 +0000"  >&lt;p&gt;To be clear, I think the existing Hive behavior, where the result of avg(&amp;lt;integer-expression&amp;gt;) is a double, is reasonable behavior and should not be changed.&lt;/p&gt;</comment>
                            <comment id="13841516" author="xuefuz" created="Fri, 6 Dec 2013 18:26:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehans&quot; class=&quot;user-hover&quot; rel=&quot;ehans&quot;&gt;Eric Hanson&lt;/a&gt; Thank you for your concern. However, I respectfully disagree that the behavior WAS and IS reasonable for several reasons. First, AVG was probably introduced before decimal, so there was no better choice than double. Hive has the concept of exact types (int, long, decimal, etc.) vs approximate types (double, float, etc), and Arithmetic operations (plus, divide, etc) on exact types generates exact type for accuracy. If average is defined mathematically as sum/count, then sum(int)/count should result an exact type. Otherwise, avg() and sum()/count give different result. Another inconsistency exists when avg(decimal) results a decimal. All those cause inconsistency in Hive&apos;s mathematical concept and function behavior, and can create confusions among users as well.&lt;/p&gt;

&lt;p&gt;I understand vectorized current implementation chooses double for sum and uses sum/count to get another double for average. While this extends the scope of the changes, to me, however, vectorization is just implementation, which should not dictate high-level concept and consistency.&lt;/p&gt;</comment>
                            <comment id="13841534" author="ehans" created="Fri, 6 Dec 2013 18:50:03 +0000"  >&lt;p&gt;To me, the issue is really about the importance of obeying the SQL standard (which would argue for using exact types for results in the situations the standard describes) vs. maintaining backward compatibility.&lt;/p&gt;

&lt;p&gt;I don&apos;t think that accuracy is the issue. E.g. avg(int) yields int in SQL Server which is less accurate than yielding double, but it does meet the SQL standard&apos;s requirements of being an exact type. I would not favor making Hive yield int for avg(int) to meet the SQL standard because that loses information compared to the previous Hive behavior (yielding double) and that would be perceived even more as a breaking change in existing applications than producing decimal.&lt;/p&gt;

&lt;p&gt;I agree that vectorization is an implementation detail. Vectorization can be extended to handle decimal.&lt;/p&gt;</comment>
                            <comment id="13841961" author="ehans" created="Sat, 7 Dec 2013 00:51:18 +0000"  >&lt;p&gt;Does anybody else want to voice an opinion here?&lt;/p&gt;</comment>
                            <comment id="13843348" author="xuefuz" created="Mon, 9 Dec 2013 17:46:16 +0000"  >&lt;p&gt;Backward compatibility issue is a valid concern. However, before we decide to enforce or break that, we need to ask ourselves whether the new behavior is the right thing to do and how bad the old behavior is. We had questionings about why we need to keep backward compatible to a bug.&lt;/p&gt;

&lt;p&gt;As an example, Hive returned double for int/int previously, but now returns decimal. This is a bigger backward compatibility problem, but obviously it&apos;s a right thing to do. The issue in the discussion seems following the same line.&lt;/p&gt;

&lt;p&gt;Also, I think hive is still in its early days, and it doesn&apos;t even have 1.0 release yet. Thus, personally, BC issue is less a concern than doing right thing.&lt;/p&gt;</comment>
                            <comment id="13843441" author="jdere" created="Mon, 9 Dec 2013 19:26:51 +0000"  >&lt;p&gt;Just adding a couple of bits of info to this discussion.  There are some significant effects for users if we decide to go with the change to returning decimal type (both for avg and for int / int).&lt;/p&gt;

&lt;p&gt;1) As I mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5356&quot; title=&quot;Move arithmatic UDFs to generic UDF implementations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5356&quot;&gt;&lt;del&gt;HIVE-5356&lt;/del&gt;&lt;/a&gt;, there is a significant performance hit to switching to decimal arithmetic.  I suppose for avg() there could be some ways to improve this for int type, such as keeping the sum/count portions as long, and only doing decimal math when computing sum / count.&lt;/p&gt;

&lt;p&gt;2) Decimal arithmetic can return NULL for some non-null inputs, if Hive is not able to represent the entire result exactly.  While most common cases (such as the example in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5022&quot; title=&quot;Decimal Arithmetic generates NULL value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5022&quot;&gt;&lt;del&gt;HIVE-5022&lt;/del&gt;&lt;/a&gt;) should not longer occur, in the general case it is still possible to get a NULL result if the expression contains enough operations.  I know, there has been some discussion on this already, and some of the reasoning behind why those semantics were ok for decimal arithmetic was that if the user had made the choice to use decimal columns/types, then they knew what they were getting into with the decimal arithmetic.  But in this case users are going to start seeing the effects of these decimal semantics all over the place because they will start getting applied on expressions involving integer columns.  I don&apos;t think that users will find this NULL behavior desirable with their integer expressions, so I think something will need to be done one way or another here - either don&apos;t return decimal type in these situations, or possibly address this null behavior in some way.&lt;/p&gt;</comment>
                            <comment id="13843882" author="xuefuz" created="Tue, 10 Dec 2013 03:07:23 +0000"  >&lt;p&gt;For information, the follow is the text from SQL-92&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; standard w.r.t AVG function:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;            c) If AVG is specified and DT is exact numeric, then the data&lt;br/&gt;
              type of the result is exact numeric with implementation-&lt;br/&gt;
              defined precision not less than the precision of DT and&lt;br/&gt;
              implementation-defined scale not less than the scale of DT.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Clearly, currently Hive deviates from this. Both MySQL and SQL server are in line with this.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13847818" author="ehans" created="Fri, 13 Dec 2013 19:30:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5996&quot; title=&quot;Query for sum of a long column of a table with only two rows produces wrong result&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5996&quot;&gt;&lt;del&gt;HIVE-5996&lt;/del&gt;&lt;/a&gt; has a pretty useful, in-depth, related discussion about ANSI compatibility vs. backward compatibility etc. that is useful context.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12670413">HIVE-5356</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12683761">HIVE-5996</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617339" name="HIVE-5878.1.patch" size="21500" author="xuefuz" created="Fri, 6 Dec 2013 05:34:46 +0000"/>
                            <attachment id="12615467" name="HIVE-5878.patch" size="2553" author="xuefuz" created="Sat, 23 Nov 2013 19:06:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 Nov 2013 21:13:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360146</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q31r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5879] Fix spelling errors in hive-default.xml</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5879</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5400?focusedCommentId=13830626&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13830626&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-5400?focusedCommentId=13830626&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13830626&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681074">HIVE-5879</key>
            <summary>Fix spelling errors in hive-default.xml</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="leftylev">Lefty Leverenz</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                            <label>documentation</label>
                    </labels>
                <created>Mon, 25 Nov 2013 16:01:58 +0000</created>
                <updated>Tue, 14 Jan 2014 04:12:51 +0000</updated>
                            <resolved>Wed, 18 Dec 2013 07:45:07 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13832503" author="lefty@hortonworks.com" created="Tue, 26 Nov 2013 11:27:11 +0000"  >&lt;p&gt;Is hive-default.xml derived directly from hive-default.xml.template?  Because the misspelled form of &quot;separate&quot; occurs five times in hive-default.xml.template:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;trunk&amp;gt; grep -ni &apos;seperat&apos; ./conf/hive-default.xml.template &lt;br/&gt;
121:  &amp;lt;description&amp;gt;if hive is running in test mode, dont sample the above comma seperated list of tables&amp;lt;/description&amp;gt;&lt;br/&gt;
265:  &amp;lt;description&amp;gt;list of comma seperated listeners for metastore events.&amp;lt;/description&amp;gt;&lt;br/&gt;
271:  &amp;lt;description&amp;gt;list of comma seperated keys occurring in table properties which will get inherited to newly created partitions. * implies all the keys will get inherited.&amp;lt;/description&amp;gt;&lt;br/&gt;
1519:  &amp;lt;description&amp;gt;Comma seperated list of non-SQL Hive commands users are authorized to execute&amp;lt;/description&amp;gt;&lt;br/&gt;
1525:  &amp;lt;description&amp;gt;Comma seperated list of configuration options which are immutable at runtime&amp;lt;/description&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But also notice the missing apostrophe in the first hit:  dont.  So if we&apos;re going to fix a few spelling errors, maybe we should fix as many as we can find.  And by &quot;we&quot; of course I mean either a spellchecker or me, or both.&lt;/p&gt;

&lt;p&gt;The good news is that &quot;separate&quot; is spelled correctly more often than not: &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;trunk&amp;gt; grep -i &apos;separat&apos; ./conf/hive-default.xml.template | wc&lt;br/&gt;
      13     249    2129&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;By the way, in the AdminManual Configuration wiki &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration#AdminManualConfiguration-ConfiguringHive&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuring Hive&lt;/a&gt; says that hive-default.xml.template isn&apos;t used anymore.  But HiveConf.java doesn&apos;t include definitions for config params, so does that mean the wiki is now the source of all usage wisdom?&lt;/p&gt;</comment>
                            <comment id="13833347" author="lefty@hortonworks.com" created="Wed, 27 Nov 2013 02:06:55 +0000"  >&lt;p&gt;To answer my last question, the warnings in hive-default.xml.template explain that it&apos;s for documentation purposes only.  So it should still be maintained, and (imho) it should match the wiki.  &lt;/p&gt;

&lt;p&gt;I suggest using this ticket to fix spelling errors in the file, then creating another ticket to backport wiki improvements to the file.  No separate ticket needed for making equivalent spelling fixes in the wiki &amp;#8211; that task can piggyback on this one.&lt;/p&gt;

&lt;p&gt;A final step will be to make sure all params in HiveConf.java are also in hive-default.xml(.template) and the wiki.&lt;/p&gt;

&lt;p&gt;But I still don&apos;t understand the difference between hive-default.xml &amp;amp; hive-default.xml.template.&lt;/p&gt;</comment>
                            <comment id="13833846" author="brocknoland" created="Wed, 27 Nov 2013 14:59:03 +0000"  >&lt;p&gt;Nice research! &lt;/p&gt;

&lt;p&gt;I don&apos;t think hive-default.xml is used anymore, the only reference to it in the code is to warn about it&apos;s existence:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hive/blob/trunk/common/src/java/org/apache/hadoop/hive/common/LogUtils.java#L138&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/common/src/java/org/apache/hadoop/hive/common/LogUtils.java#L138&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt;, do you know we maintain three locations for each parameter:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;HIveConf&lt;/li&gt;
	&lt;li&gt;Wiki&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;It seems liked it would be nice to doc the conf values in HiveConf and then have a main method which generates the syntax needed for the wiki.&lt;/p&gt;</comment>
                            <comment id="13834172" author="cwsteinbach" created="Wed, 27 Nov 2013 21:34:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;It seems liked it would be nice to doc the conf values in HiveConf and then have a main method which generates the syntax needed for the wiki.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I have wanted to do the same thing for a long time. As I recall we ended up with hive-default.xml.template because some folks argued that it was easier to access than pulling up the right wiki page. I think these concerns could largely be addressed by adding a DESCRIBE CONF or SHOW CONF command.&lt;/p&gt;</comment>
                            <comment id="13835569" author="lefty@hortonworks.com" created="Fri, 29 Nov 2013 23:47:37 +0000"  >&lt;p&gt;hive-default.xml.template has remarkably good spelling.  The spellchecker only caught 33 errors, none bad enough to prevent understanding.  (Personal favorite:  &quot;the hdfs location stored in the index file will be igbored at runtime.&quot;)  Congrats all around.&lt;/p&gt;

&lt;p&gt;I&apos;ll submit a patch for them and try to refrain from minor edits, but a few might slip in.  Further changes can be made with a new ticket.&lt;/p&gt;

&lt;p&gt;+1 for adding a DESCRIBE CONF or SHOW CONF command.&lt;/p&gt;</comment>
                            <comment id="13840898" author="lefty@hortonworks.com" created="Fri, 6 Dec 2013 03:05:08 +0000"  >&lt;p&gt;Patch fixes spelling and a few minor errors of grammar or capitalization.&lt;/p&gt;</comment>
                            <comment id="13841150" author="lefty@hortonworks.com" created="Fri, 6 Dec 2013 10:17:08 +0000"  >&lt;p&gt;Patch 2 fixes 33 spelling errors and capitalization of Hive, Hadoop, Thrift, ZooKeeper, SerDe, Kerberos, RCFile, HDFS, URI, and URL in descriptions, plus a few grammatical fixes.&lt;/p&gt;</comment>
                            <comment id="13841154" author="lefty@hortonworks.com" created="Fri, 6 Dec 2013 10:23:02 +0000"  >&lt;p&gt;Patch for hive-default.xml.template fixes 33 spelling errors and capitalization of Hive, Hadoop, Thrift, ZooKeeper, SerDe, Kerberos, RCFile, HDFS, URI, and URL.&lt;/p&gt;</comment>
                            <comment id="13841228" author="hiveqa" created="Fri, 6 Dec 2013 13:00:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617370/HIVE-5879.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617370/HIVE-5879.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4458 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/553/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/553/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/553/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/553/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617370&lt;/p&gt;</comment>
                            <comment id="13848758" author="navis" created="Mon, 16 Dec 2013 02:12:31 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Beside, I&apos;ve made a patch pulling description and default values from hive-default.xml.template into HiveConf.ConfVars (and found so many of description for configurations are missing). I think generating hive-default.xml.template from HiveConf.ConfVars might be better option (making large texts included in HiveConf). Any opinions?&lt;/p&gt;</comment>
                            <comment id="13848936" author="cwsteinbach" created="Mon, 16 Dec 2013 09:01:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think generating hive-default.xml.template from HiveConf.ConfVars might be better option (making large texts included in HiveConf). Any opinions?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13849013" author="lefty@hortonworks.com" created="Mon, 16 Dec 2013 10:42:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;Beside, I&apos;ve made a patch pulling description and default values from hive-default.xml.template into HiveConf.ConfVars&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sweet!&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties&lt;/a&gt; wikidoc also has release information for some properties.  A handful have &quot;Added in:&quot; and two have &quot;Removed in:&quot; plus one with a behavior change.  Should this release information be merged with the descriptions?&lt;/p&gt;

&lt;p&gt;&amp;lt;TL;DR&amp;gt; Here&apos;s the list: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;mapred.reduce.tasks   Added In: 0.1&lt;/li&gt;
	&lt;li&gt;hive.metastore.schema.verification   Added In: Hive 0.12.0 with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3764&quot; title=&quot;Support metastore version consistency check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3764&quot;&gt;&lt;del&gt;HIVE-3764&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;hive.security.command.whitelist   Added In: Hive 0.13.0 with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5400&quot; title=&quot;Allow admins to disable compile and other commands&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5400&quot;&gt;&lt;del&gt;HIVE-5400&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;hive.security.metastore.authorization.manager   Added In: Hive 0.10.0&lt;/li&gt;
	&lt;li&gt;hive.security.metastore.authenticator.manager   Added In: Hive 0.10.0&lt;/li&gt;
	&lt;li&gt;hive.task.progress   Removed&#160;in: Hive 0.13.0 with&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4518&quot; title=&quot;Counter Strike: Operation Operator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4518&quot;&gt;&lt;del&gt;HIVE-4518&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;hive.metastore.local   Removed in: Hive 0.10 with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; title=&quot;Collapse hive.metastore.uris and hive.metastore.local&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2585&quot;&gt;&lt;del&gt;HIVE-2585&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;datanucleus.autoCreateSchema   In Hive 0.12.0 and later releases, datanucleus.autoCreateSchema is disabled if hive.metastore.schema.verification is true.&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;&amp;lt;not in wiki, patch not committed yet&amp;gt;&lt;/em&gt;  hive.exec.parallel  added in 0.5.0 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-549&quot; title=&quot;Parallel Execution Mechanism&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-549&quot;&gt;&lt;del&gt;HIVE-549&lt;/del&gt;&lt;/a&gt;); default &#8594; true in 0.13.0 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1033&quot; title=&quot;change default value of hive.exec.parallel to true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1033&quot;&gt;HIVE-1033&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13851486" author="navis" created="Wed, 18 Dec 2013 07:45:07 +0000"  >&lt;p&gt;Committed trunk. Thanks, Lefty!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12671437">HIVE-5400</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12684897">HIVE-6037</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617370" name="HIVE-5879.2.patch.txt" size="39814" author="leftylev" created="Fri, 6 Dec 2013 10:17:08 +0000"/>
                            <attachment id="12617323" name="HIVE-5879.patch" size="22812" author="leftylev" created="Fri, 6 Dec 2013 03:05:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Nov 2013 11:27:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q48n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fix spelling and name capitalizations in hive-default.xml.template file.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5880] Rename HCatalog HBase Storage Handler artifact id</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5880</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Current the HBase storage handler is named hive-hbase-storage-handler. I think we should rename it to hive-hcatalog-hbase-storage-handler to match the other hcatalog artifacts and to differentiate it from the hive-hbase-handler.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681087">HIVE-5880</key>
            <summary>Rename HCatalog HBase Storage Handler artifact id</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12663974">HIVE-5107</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Nov 2013 17:44:04 +0000</created>
                <updated>Sun, 23 Mar 2014 17:50:56 +0000</updated>
                            <resolved>Mon, 2 Dec 2013 15:49:04 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13831779" author="hiveqa" created="Mon, 25 Nov 2013 19:00:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615630/HIVE-5880.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615630/HIVE-5880.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4684 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/437/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/437/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/437/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/437/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615630&lt;/p&gt;</comment>
                            <comment id="13831793" author="prasadm" created="Mon, 25 Nov 2013 19:15:46 +0000"  >&lt;p&gt;LGTM&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13836625" author="brocknoland" created="Mon, 2 Dec 2013 15:49:04 +0000"  >&lt;p&gt;Thank you for the review! I have committed this to trunk!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12615630" name="HIVE-5880.patch" size="1461" author="brocknoland" created="Mon, 25 Nov 2013 17:55:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Nov 2013 19:00:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q4bj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360651</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5881] Integrate Hive with Morphlines</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5881</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Integrate Hive with morphlines. &lt;/p&gt;

&lt;p&gt;Specifically, add support to Hive to call a morphline as a UDTF to leverage existing morphlines ETL functionality. Often, some flexible massaging needs to happen to get the input data into the shape that&apos;s desired, and morphline logic helps do this in a user-friendly, pluggable, efficient, pipelined manner. This issue basically boils down to transforming an input row into a morphline record, feeding the record into the morphline processing API, and finally converting zero or more morphline output records into corresponding Hive rows.&lt;/p&gt;

&lt;p&gt;Some background is here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://kitesdk.org/docs/current/kite-morphlines/morphlinesReferenceGuide.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://kitesdk.org/docs/current/kite-morphlines/morphlinesReferenceGuide.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://kitesdk.org/docs/current/kite-morphlines/index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://kitesdk.org/docs/current/kite-morphlines/index.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681110">HIVE-5881</key>
            <summary>Integrate Hive with Morphlines</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="whoschek">wolfgang hoschek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Nov 2013 19:11:09 +0000</created>
                <updated>Tue, 5 Aug 2014 15:58:18 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q4g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360674</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5882] Reduce logging verbosity on Tez</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5882</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Running on Tez with debug level set to INFO is very noisy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681142">HIVE-5882</key>
            <summary>Reduce logging verbosity on Tez</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Nov 2013 22:04:52 +0000</created>
                <updated>Mon, 25 Nov 2013 22:32:48 +0000</updated>
                            <resolved>Mon, 25 Nov 2013 22:32:48 +0000</resolved>
                                                    <fixVersion>tez-branch</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13831995" author="hagleitn" created="Mon, 25 Nov 2013 22:32:48 +0000"  >&lt;p&gt;Committed to branch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12651047">HIVE-4660</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12615692" name="HIVE-5882.1.patch" size="7278" author="hagleitn" created="Mon, 25 Nov 2013 22:08:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360407</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q4nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360706</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5883] Plan is deserialized more often than necessary on Tez (in container reuse case)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5883</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12681144">HIVE-5883</key>
            <summary>Plan is deserialized more often than necessary on Tez (in container reuse case)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Nov 2013 22:06:05 +0000</created>
                <updated>Fri, 24 Jan 2014 08:21:15 +0000</updated>
                            <resolved>Fri, 24 Jan 2014 08:21:15 +0000</resolved>
                                                    <fixVersion>tez-branch</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13831971" author="hagleitn" created="Mon, 25 Nov 2013 22:07:00 +0000"  >&lt;p&gt;When the plan is found in the tez object registry we need to add it to the global work map. Otherwise vectorized map operator, context aware readers, etc will still deserialize the plan one more time.&lt;/p&gt;</comment>
                            <comment id="13880802" author="hagleitn" created="Fri, 24 Jan 2014 08:21:15 +0000"  >&lt;p&gt;This had been committed to branch before merge. Missed updating the ticket. My apologies.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12615694" name="HIVE-5883.1.patch" size="5297" author="hagleitn" created="Mon, 25 Nov 2013 22:08:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360409</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q4nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5884] Mini tez cluster does not work after merging latest changes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5884</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;After merging the maven changes from trunk to the tez branch, the mini tez tests do not work.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681145">HIVE-5884</key>
            <summary>Mini tez cluster does not work after merging latest changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Nov 2013 22:08:23 +0000</created>
                <updated>Thu, 5 Dec 2013 01:44:03 +0000</updated>
                            <resolved>Thu, 5 Dec 2013 01:44:03 +0000</resolved>
                                    <version>tez-branch</version>
                                    <fixVersion>tez-branch</fixVersion>
                                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13831976" author="vikram.dixit" created="Mon, 25 Nov 2013 22:10:49 +0000"  >&lt;p&gt;This patch requires the user to build hive using the -Phadoop-1 or -Phadoop-2 flags. The tez tests need to be run with the -Phadoop-2 flags as before.&lt;/p&gt;</comment>
                            <comment id="13832490" author="hiveqa" created="Tue, 26 Nov 2013 11:04:46 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12615695/HIVE-5884.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12615695/HIVE-5884.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/446/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/446/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/446/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/446/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: NonZeroExitCodeException: Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-446/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/assembly/target shims/0.20S/target shims/0.23/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1545611.

At revision 1545611.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12615695&lt;/p&gt;</comment>
                            <comment id="13839652" author="thejas" created="Thu, 5 Dec 2013 01:31:29 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13839670" author="thejas" created="Thu, 5 Dec 2013 01:44:03 +0000"  >&lt;p&gt;Patch committed to tez branch. Thanks for your contribution Vikram!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12615695" name="HIVE-5884.1.patch" size="30152" author="vikram.dixit" created="Mon, 25 Nov 2013 22:10:49 +0000"/>
                            <attachment id="12617083" name="HIVE-5884.2.patch" size="520" author="vikram.dixit" created="Thu, 5 Dec 2013 00:04:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Nov 2013 11:04:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q4nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5885] Add myself and Jitendra to committer list</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5885</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Update website to include me and Jitendra.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681155">HIVE-5885</key>
            <summary>Add myself and Jitendra to committer list</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="11">Done</resolution>
                                        <assignee username="ehans">Eric Hanson</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Nov 2013 22:52:41 +0000</created>
                <updated>Tue, 26 Nov 2013 17:40:34 +0000</updated>
                            <resolved>Tue, 26 Nov 2013 17:40:34 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13832058" author="ehans" created="Mon, 25 Nov 2013 23:27:12 +0000"  >&lt;p&gt;Added me and Jitendra to committer list. Fixed alphabetical order.&lt;/p&gt;</comment>
                            <comment id="13832062" author="ehans" created="Mon, 25 Nov 2013 23:32:21 +0000"  >&lt;p&gt;Normalized line ends to Unix line ends in html file (since I&apos;m on Windows)&lt;/p&gt;</comment>
                            <comment id="13832178" author="hagleitn" created="Tue, 26 Nov 2013 01:46:22 +0000"  >&lt;p&gt;LGTM +1&lt;/p&gt;</comment>
                            <comment id="13832791" author="ehans" created="Tue, 26 Nov 2013 17:40:34 +0000"  >&lt;p&gt;Happy to make my first commit &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12615711" name="HIVE-5885.1.patch" size="52018" author="ehans" created="Mon, 25 Nov 2013 23:26:34 +0000"/>
                            <attachment id="12615713" name="HIVE-5885.2.patch" size="19125" author="ehans" created="Mon, 25 Nov 2013 23:32:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Nov 2013 01:46:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q4q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
