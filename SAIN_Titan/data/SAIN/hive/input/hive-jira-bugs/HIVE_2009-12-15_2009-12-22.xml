<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:14:51 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2009-12-15+AND+created+%3C%3D+2009-12-22+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="12" total="12"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-992] commons-dbcp not working.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-992</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When trying to use commons-dbcp/spring I receive an &quot;No suitable driver&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12443369">HIVE-992</key>
            <summary>commons-dbcp not working.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bennies">Bennie Schut</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Dec 2009 11:22:48 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:33 +0000</updated>
                            <resolved>Fri, 18 Dec 2009 01:39:42 +0000</resolved>
                                    <version>0.5.0</version>
                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12790679" author="bennies" created="Tue, 15 Dec 2009 11:24:39 +0000"  >&lt;p&gt;Stacktrace of the error.&lt;/p&gt;</comment>
                            <comment id="12790681" author="bennies" created="Tue, 15 Dec 2009 11:26:00 +0000"  >&lt;p&gt;Caused by the acceptsURL method of the HiveDriver.&lt;br/&gt;
Will add a patch which works for me.&lt;/p&gt;</comment>
                            <comment id="12790684" author="bennies" created="Tue, 15 Dec 2009 11:32:19 +0000"  >&lt;p&gt;This patch includes 3 changes. 1 to fix the &quot;No suitable driver&quot; error. Then commons-dbcp also calls getConnection() and getAutoCommit()&lt;/p&gt;

&lt;p&gt;on the getConnection() I simply call getConnection(&quot;&quot;,&quot;&quot;) and on getAutoCommit() I return true since hive is actually committing automatically.&lt;/p&gt;

&lt;p&gt;This allows me to now use &quot;JdbcTemplate&quot; stuff which makes my live a lot easier.&lt;/p&gt;</comment>
                            <comment id="12792223" author="namit" created="Thu, 17 Dec 2009 23:30:39 +0000"  >&lt;p&gt;+1 &lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12792283" author="namit" created="Fri, 18 Dec 2009 01:39:42 +0000"  >&lt;p&gt;Committed. Thanks Bennie&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12428032" name="HIVE-992.patch" size="1555" author="bennies" created="Tue, 15 Dec 2009 11:32:19 +0000"/>
                            <attachment id="12428030" name="stacktrace.txt" size="4261" author="bennies" created="Tue, 15 Dec 2009 11:24:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Dec 2009 23:30:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73166</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lctz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122729</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-993] type conversion not working for map-joins</title>
                <link>https://issues.apache.org/jira/browse/HIVE-993</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Yongqiang pointed out that type conversion is not performed for map-joins. Seems like a bug in coding&lt;/p&gt;</description>
                <environment></environment>
        <key id="12443498">HIVE-993</key>
            <summary>type conversion not working for map-joins</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Dec 2009 06:07:30 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:53 +0000</updated>
                            <resolved>Thu, 17 Dec 2009 21:54:11 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12791833" author="he yongqiang" created="Thu, 17 Dec 2009 07:40:04 +0000"  >&lt;p&gt;Removed the type conversion code in MapJoinProcessor. The removed lines are never reached, and type conversion is already done in SemanticAnalyzer&apos;s genJoinOperatorTypeCheck. &lt;/p&gt;</comment>
                            <comment id="12792051" author="namit" created="Thu, 17 Dec 2009 18:29:09 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12792151" author="namit" created="Thu, 17 Dec 2009 21:54:11 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12428272" name="hive-993-2009-12-16.patch" size="40614" author="he yongqiang" created="Thu, 17 Dec 2009 07:40:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Dec 2009 07:40:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73165</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122730</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-994] String comparison stopped working on trunk code</title>
                <link>https://issues.apache.org/jira/browse/HIVE-994</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Comparing string field with specified value always yield no match.&lt;/p&gt;

&lt;p&gt;E.g,&lt;/p&gt;

&lt;p&gt;Table staff&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;id&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;name&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Peter&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Mary&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;John&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;query: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from staff where name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Peter&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;yield no match.&lt;/p&gt;

&lt;p&gt;Hive stable version with the same configuration works correctly.&lt;/p&gt;

&lt;p&gt;Please help troubleshooting it.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop v0.20.1 and latest Hive from trunk&lt;/p&gt;</environment>
        <key id="12443519">HIVE-994</key>
            <summary>String comparison stopped working on trunk code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="nnguyen">Nhan Nguyen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Dec 2009 11:08:05 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:22 +0000</updated>
                            <resolved>Tue, 22 Dec 2009 09:15:49 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12791349" author="cwsteinbach" created="Wed, 16 Dec 2009 12:48:06 +0000"  >&lt;p&gt;String comparison works for me on 0.18.3 with the latest trunk.&lt;/p&gt;

&lt;p&gt;@Nhan: Can you include the output of &quot;select * from staff&quot; and &quot;describe extended staff&quot;?&lt;/p&gt;</comment>
                            <comment id="12791391" author="nnguyen" created="Wed, 16 Dec 2009 15:03:20 +0000"  >&lt;p&gt;Hi Steinbach,&lt;/p&gt;

&lt;p&gt;Thanks for looking into this problem. Here&apos;s the complete output of your requested queries&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select * from staff;                                                                                                                                     
OK
1       Peter
2       Mary
3       John
Time taken: 0.138 seconds
hive&amp;gt; select * from staff where name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Peter&quot;&lt;/span&gt;;
Total MapReduce jobs = 1
Launching Job 1 out of 1
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks is set to 0 since there&apos;s no reduce &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;
Starting Job = job_200912152159_0006, Tracking URL = http:&lt;span class=&quot;code-comment&quot;&gt;//hadoop-1:50030/jobdetails.jsp?jobid=job_200912152159_0006
&lt;/span&gt;Kill Command = /data/hadoop-hive/bin/../bin/hadoop job  -Dmapred.job.tracker=hadoop-1:51444 -kill job_200912152159_0006
2009-12-16 02:23:18,695 Stage-1 map = 0%,  reduce = 0%
2009-12-16 02:23:33,808 Stage-1 map = 55%,  reduce = 0%
2009-12-16 02:23:36,836 Stage-1 map = 64%,  reduce = 0%
2009-12-16 02:23:39,859 Stage-1 map = 100%,  reduce = 0%
2009-12-16 02:23:42,883 Stage-1 map = 100%,  reduce = 100%
Ended Job = job_200912152159_0006
OK
Time taken: 26.58 seconds
hive&amp;gt; describe extended staff;     
OK
id      bigint
name    string
                 
Detailed Table Information      Table(tableName:staff, dbName:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, owner:hive, createTime:1260958974, lastAccessTime:0, retention:0, sd:StorageDescriptor(cols:[FieldSchema(name:id, type:bigint, comment:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;), FieldSchema(name:name, type:string, comment:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)], location:hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hadoop-1:51000/staff, inputFormat:org.apache.hadoop.mapred.TextInputFormat, outputFormat:org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat, compressed:&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, numBuckets:-1, serdeInfo:SerDeInfo(name:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, serializationLib:org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, parameters:{serialization.format=9,line.delim=         
&lt;/span&gt;,field.delim=   }), bucketCols:[], sortCols:[], parameters:{}), partitionKeys:[], parameters:{transient_lastDdlTime=1260958974})
Time taken: 0.081 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I believe this has nothing to do with Hadoop as when I switch back to Hive stable release 0.4.0 with hive-default.xml copied from my current Hive, string comparison just works perfectly.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;</comment>
                            <comment id="12791786" author="nnguyen" created="Thu, 17 Dec 2009 04:58:00 +0000"  >&lt;p&gt;I found that the problem occurs only from r889672. Previous revisions don&apos;t have this problem.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="12792184" author="zshao" created="Thu, 17 Dec 2009 22:38:58 +0000"  >&lt;p&gt;Nhan, please try:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select *, length(name) from staff;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s likely that the name column in your table has trailing spaces.&lt;/p&gt;</comment>
                            <comment id="12792225" author="namit" created="Thu, 17 Dec 2009 23:32:05 +0000"  >&lt;p&gt;Blocker for 0.5&lt;/p&gt;</comment>
                            <comment id="12792308" author="nnguyen" created="Fri, 18 Dec 2009 02:47:14 +0000"  >&lt;p&gt;Hi Shao,&lt;/p&gt;

&lt;p&gt;Here&apos;s the output of your query. It shows correct length of each entry.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select name, length(name) from staff;                                                                                                                  
Total MapReduce jobs = 1                                                                                                                                     
Launching Job 1 out of 1                                                                                                                                     
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks is set to 0 since there&apos;s no reduce &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;                                                                                          
Starting Job = job_200912170925_0023, Tracking URL = http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:50030/jobdetails.jsp?jobid=job_200912170925_0023                                       
&lt;/span&gt;Kill Command = /usr/local/hadoop/bin/../bin/hadoop job  -Dmapred.job.tracker=localhost:54311 -kill job_200912170925_0023                                     
2009-12-18 09:21:49,217 Stage-1 map = 0%,  reduce = 0%                                                                                                       
2009-12-18 09:21:58,284 Stage-1 map = 40%,  reduce = 0%                                                                                                      
2009-12-18 09:22:01,337 Stage-1 map = 80%,  reduce = 0%                                                                                                      
2009-12-18 09:22:04,357 Stage-1 map = 100%,  reduce = 0%                                                                                                     
2009-12-18 09:22:07,373 Stage-1 map = 100%,  reduce = 100%                                                                                                   
Ended Job = job_200912170925_0023                                                                                                                            
OK                                                                                                                                                           
Peter   5                                                                                                                                                    
Mary    4                                                                                                                                                    
John    4                                                                                                                                                    
Time taken: 20.641 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here&apos;s the interesting output of the explain query on revision r889672&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; explain select * from staff where name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Peter&quot;&lt;/span&gt;;
OK
ABSTRACT SYNTAX TREE:
  (TOK_QUERY (TOK_FROM (TOK_TABREF staff)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR TOK_ALLCOLREF)) (TOK_WHERE (= (TOK_TABLE_OR_COL name) &lt;span class=&quot;code-quote&quot;&gt;&quot;Peter&quot;&lt;/span&gt;))))

STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-0 is a root stage

STAGE PLANS:
  Stage: Stage-1
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        staff
          TableScan
            alias: staff
            Filter Operator
              predicate:
                  expr: (name = &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot;Peter&quot;&lt;/span&gt;&apos;&lt;/span&gt;)
                  type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;
              Filter Operator
                predicate:
                    expr: (name = &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot;Peter&quot;&lt;/span&gt;&apos;&lt;/span&gt;)
                    type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;
                Select Operator
                  expressions:
                        expr: id
                        type: bigint
                        expr: name
                        type: string
                  outputColumnNames: _col0, _col1
                  File Output Operator
                    compressed: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
                    GlobalTableId: 0
                    table:
                        input format: org.apache.hadoop.mapred.TextInputFormat
                        output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat

  Stage: Stage-0
    Fetch Operator
      limit: -1


Time taken: 0.123 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and here&apos;s the output of r889506&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; explain select * from staff where name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Peter&quot;&lt;/span&gt;;
OK
ABSTRACT SYNTAX TREE:
  (TOK_QUERY (TOK_FROM (TOK_TABREF staff)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR TOK_ALLCOLREF)) (TOK_WHERE (= (TOK_TABLE_OR_COL name) &lt;span class=&quot;code-quote&quot;&gt;&quot;Peter&quot;&lt;/span&gt;))))

STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-0 is a root stage

STAGE PLANS:
  Stage: Stage-1
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        staff
          TableScan
            alias: staff
            Filter Operator
              predicate:
                  expr: (name = &lt;span class=&quot;code-quote&quot;&gt;&apos;Peter&apos;&lt;/span&gt;)
                  type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;
              Filter Operator
                predicate:
                    expr: (name = &lt;span class=&quot;code-quote&quot;&gt;&apos;Peter&apos;&lt;/span&gt;)
                    type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;
                Select Operator
                  expressions:
                        expr: id
                        type: bigint
                        expr: name
                        type: string
                  outputColumnNames: _col0, _col1
                  File Output Operator
                    compressed: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
                    GlobalTableId: 0
                    table:
                        input format: org.apache.hadoop.mapred.TextInputFormat
                        output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat

  Stage: Stage-0
    Fetch Operator
      limit: -1


Time taken: 4.306 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, you could see that in r889672 we have &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;expr: (name = &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot;Peter&quot;&lt;/span&gt;&apos;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;while in r889506 we have &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;expr: (name = &lt;span class=&quot;code-quote&quot;&gt;&apos;Peter&apos;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Do I miss something? Am I the only one that have this problem ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="12793120" author="zshao" created="Mon, 21 Dec 2009 08:40:31 +0000"  >&lt;p&gt;This definitely is a bug. I will take a look.&lt;/p&gt;</comment>
                            <comment id="12793508" author="zshao" created="Tue, 22 Dec 2009 05:40:53 +0000"  >&lt;p&gt;Nhan, I cannot reproduce your problem with r889672.&lt;br/&gt;
Can you check if you have any local modifications?&lt;/p&gt;</comment>
                            <comment id="12793556" author="nnguyen" created="Tue, 22 Dec 2009 09:15:49 +0000"  >&lt;p&gt;I make no change to the source code. Just gets the code synced with trunk and rebuilds Hive. However, the problem has gone when I tried a clean svn checkout. I guess the problem occurred because I compiled new code without cleaning the old compiled code first.&lt;/p&gt;

&lt;p&gt;Thanks alot for your help Zheng.&lt;/p&gt;

&lt;p&gt;Nhan&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Dec 2009 12:48:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73164</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122731</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-995] early stop of the mapper/reducer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-995</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;1. A mechanism should be provided where the user can specify that there is a error in his custom script. The whole job/query should be &lt;br/&gt;
stopped at that time. &lt;/p&gt;

&lt;p&gt;2. It would be useful if the offending row on which the script failed can be provided easily.&lt;/p&gt;

&lt;p&gt;3. It would be very useful if on a rerun, only that mapper/reducer runs so that it is easy to debug the problem.&lt;/p&gt;

&lt;p&gt;The above 3 can be split into different jiras also.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12443553">HIVE-995</key>
            <summary>early stop of the mapper/reducer</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Dec 2009 17:27:02 +0000</created>
                <updated>Fri, 18 Dec 2009 00:02:30 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42661</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122732</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-996] &quot;describe function&quot; throws NPE when when called on UDTF or UDAF</title>
                <link>https://issues.apache.org/jira/browse/HIVE-996</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; describe function explode;
describe function explode;
FAILED: Error in metadata: java.lang.NullPointerException
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask
hive&amp;gt; describe function sum;
describe function sum;
FAILED: Error in metadata: java.lang.NullPointerException
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask
hive&amp;gt; describe function conv;
describe function conv;
OK
conv(num, from_base, to_base) - convert num from from_base to to_base
Time taken: 0.042 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12443714">HIVE-996</key>
            <summary>&quot;describe function&quot; throws NPE when when called on UDTF or UDAF</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Dec 2009 01:37:21 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:43 +0000</updated>
                            <resolved>Thu, 7 Jan 2010 02:59:24 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12792284" author="namit" created="Fri, 18 Dec 2009 01:40:30 +0000"  >&lt;p&gt;blocker for 0.5&lt;/p&gt;</comment>
                            <comment id="12795708" author="bjia" created="Fri, 1 Jan 2010 00:16:23 +0000"  >&lt;p&gt;(1) Standard apache header added into the new files. &lt;br/&gt;
(2) Codes shared. Added a new file/class SortedArrayUtils.java with two static functions - static void binaryInsert(ArrayList&amp;lt;Double&amp;gt; array, Double value, boolean ascending), and static ArrayList&amp;lt;Double&amp;gt; sortedMerge(ArrayList&amp;lt;Double&amp;gt; a1, ArrayList&amp;lt;Double&amp;gt; a2, boolean ascending, int N). &lt;br/&gt;
(3) Skipped &quot;describe max_n; and describe extended max_n&quot; in the q files, since the tests failed. &lt;/p&gt;</comment>
                            <comment id="12797343" author="cwsteinbach" created="Wed, 6 Jan 2010 22:04:12 +0000"  >&lt;ul&gt;
	&lt;li&gt;Fix &apos;describe function&apos; and &apos;describe function extended&apos; for UDTFs and UDAFs.&lt;/li&gt;
	&lt;li&gt;Differentiate between the case where a function does not exist and documentation for the function does not exist.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12797347" author="namit" created="Wed, 6 Jan 2010 22:09:54 +0000"  >&lt;p&gt;Great, I will take a look at it right away&lt;/p&gt;</comment>
                            <comment id="12797351" author="zshao" created="Wed, 6 Jan 2010 22:17:52 +0000"  >&lt;p&gt;Overall it looks good.&lt;/p&gt;

&lt;p&gt;1. Can you add annotation for UDAFMax and UDAFMin?&lt;br/&gt;
2. We need to treat GenericUDAFBridge specially in FunctionInfo.getFunctionClass (you already did it for GenericUDFBridge).&lt;/p&gt;

&lt;p&gt;I will leave the rest to Namit.&lt;/p&gt;</comment>
                            <comment id="12797355" author="namit" created="Wed, 6 Jan 2010 22:23:13 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12797359" author="namit" created="Wed, 6 Jan 2010 22:30:27 +0000"  >&lt;p&gt;@Carl, can you address Zheng&apos;s comments ?&lt;/p&gt;</comment>
                            <comment id="12797361" author="cwsteinbach" created="Wed, 6 Jan 2010 22:31:29 +0000"  >&lt;p&gt;@Namit: working on it now.&lt;/p&gt;</comment>
                            <comment id="12797371" author="cwsteinbach" created="Wed, 6 Jan 2010 22:54:30 +0000"  >&lt;ul&gt;
	&lt;li&gt;Added annotations for UDAFMax and UDAFMin.&lt;/li&gt;
	&lt;li&gt;Correctly handle the GenericUDAFBridge case in FunctionInfo.getFunctionClass().&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12797396" author="namit" created="Wed, 6 Jan 2010 23:42:24 +0000"  >&lt;p&gt;Dont you need to fix the output files udaf_max.q.out/udaf_min.q.out ?&lt;/p&gt;</comment>
                            <comment id="12797402" author="cwsteinbach" created="Thu, 7 Jan 2010 00:02:58 +0000"  >&lt;p&gt;@namit: sorry, regenerating the patch...&lt;/p&gt;</comment>
                            <comment id="12797407" author="cwsteinbach" created="Thu, 7 Jan 2010 00:14:05 +0000"  >&lt;ul&gt;
	&lt;li&gt;Updated udaf_max.q.out and udaf_min.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12797414" author="namit" created="Thu, 7 Jan 2010 00:27:13 +0000"  >&lt;p&gt;Index: ql/src/test/results/clientpositive/udaf_max.q.out&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; ql/src/test/results/clientpositive/udaf_max.q.out   (revision 0)&lt;br/&gt;
+++ ql/src/test/results/clientpositive/udaf_max.q.out   (revision 0)&lt;br/&gt;
@@ -0,0 +1,20 @@&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION max&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION max&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+There is no documentation for function max&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION EXTENDED max&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION EXTENDED max&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+There is no documentation for function max&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION max&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION max&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+There is no documentation for function max&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION EXTENDED max&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION EXTENDED max&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+There is no documentation for function max&lt;/p&gt;



&lt;p&gt;It is still the old one&lt;/p&gt;</comment>
                            <comment id="12797428" author="cwsteinbach" created="Thu, 7 Jan 2010 01:20:06 +0000"  >&lt;p&gt;@Namit: updated udaf_max.q.out and udaf_min.q.out:&lt;/p&gt;

&lt;p&gt;Index: ql/src/test/results/clientpositive/udaf_max.q.out&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; ql/src/test/results/clientpositive/udaf_max.q.out	(revision 0)&lt;br/&gt;
+++ ql/src/test/results/clientpositive/udaf_max.q.out	(revision 0)&lt;br/&gt;
@@ -0,0 +1,20 @@&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION max&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION max&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+max(expr) - Returns the maximum value of expr&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION EXTENDED max&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION EXTENDED max&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+max(expr) - Returns the maximum value of expr&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION max&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION max&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+max(expr) - Returns the maximum value of expr&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION EXTENDED max&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION EXTENDED max&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+max(expr) - Returns the maximum value of expr&lt;/p&gt;

&lt;p&gt;Index: ql/src/test/results/clientpositive/udaf_min.q.out&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; ql/src/test/results/clientpositive/udaf_min.q.out	(revision 0)&lt;br/&gt;
+++ ql/src/test/results/clientpositive/udaf_min.q.out	(revision 0)&lt;br/&gt;
@@ -0,0 +1,20 @@&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION min&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION min&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+min(expr) - Returns the minimum value of expr&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION EXTENDED min&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION EXTENDED min&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+min(expr) - Returns the minimum value of expr&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION min&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION min&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+min(expr) - Returns the minimum value of expr&lt;br/&gt;
+PREHOOK: query: DESCRIBE FUNCTION EXTENDED min&lt;br/&gt;
+PREHOOK: type: DESCFUNCTION&lt;br/&gt;
+POSTHOOK: query: DESCRIBE FUNCTION EXTENDED min&lt;br/&gt;
+POSTHOOK: type: DESCFUNCTION&lt;br/&gt;
+min(expr) - Returns the minimum value of expr&lt;/p&gt;</comment>
                            <comment id="12797470" author="namit" created="Thu, 7 Jan 2010 02:59:24 +0000"  >&lt;p&gt;Committed. Thanks Carl&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12429591" name="HIVE-996.2.patch" size="152147" author="cwsteinbach" created="Wed, 6 Jan 2010 22:53:21 +0000"/>
                            <attachment id="12429596" name="HIVE-996.3.patch" size="157881" author="cwsteinbach" created="Thu, 7 Jan 2010 00:13:10 +0000"/>
                            <attachment id="12429607" name="HIVE-996.4.patch" size="159944" author="cwsteinbach" created="Thu, 7 Jan 2010 01:18:49 +0000"/>
                            <attachment id="12429585" name="HIVE-996.patch" size="150066" author="cwsteinbach" created="Wed, 6 Jan 2010 22:02:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Dec 2009 01:40:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>UDTF UDAF describe</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-997] &quot;describe function x&quot; should list synonyms of x</title>
                <link>https://issues.apache.org/jira/browse/HIVE-997</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&quot;describe function x&quot; should list any synonyms for x, e.g. &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; describe function upper;
describe function upper;
OK
upper(str) - Returns str with all characters changed to uppercase
Synonym(s): ucase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12443715">HIVE-997</key>
            <summary>&quot;describe function x&quot; should list synonyms of x</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Dec 2009 01:40:13 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:59 +0000</updated>
                            <resolved>Thu, 7 Jan 2010 21:54:03 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12797803" author="cwsteinbach" created="Thu, 7 Jan 2010 21:54:03 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1031&quot; title=&quot;&amp;quot;DESCRIBE FUNCTION array&amp;quot; throws ParseException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1031&quot;&gt;&lt;del&gt;HIVE-1031&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122734</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>describe function UDF</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-998] Cleanup UDF testcases</title>
                <link>https://issues.apache.org/jira/browse/HIVE-998</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;ul&gt;
	&lt;li&gt;For every UDF x there should be a corresponding udf_x.q testcase.&lt;/li&gt;
	&lt;li&gt;Every udf_x.q file should begin with &quot;DESCRIBE FUNCTION X&quot;, and &quot;DESCRIBE EXTENDED FUNCTION X&quot;.&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12443717">HIVE-998</key>
            <summary>Cleanup UDF testcases</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Dec 2009 02:02:27 +0000</created>
                <updated>Sat, 6 Dec 2014 05:24:32 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-999] sample pruning not working if denominator is not same as number of buckets</title>
                <link>https://issues.apache.org/jira/browse/HIVE-999</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;blocker for 0.5&lt;/p&gt;</description>
                <environment></environment>
        <key id="12443795">HIVE-999</key>
            <summary>sample pruning not working if denominator is not same as number of buckets</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Dec 2009 19:40:39 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:54 +0000</updated>
                            <resolved>Sun, 20 Dec 2009 00:04:51 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12792868" author="namit" created="Sat, 19 Dec 2009 17:25:05 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;

&lt;p&gt;As a followup, can you also add another test case later on.&lt;br/&gt;
Number of buckets =4 and we are selecting 1 out of 2.&lt;/p&gt;</comment>
                            <comment id="12792892" author="he yongqiang" created="Sat, 19 Dec 2009 19:59:56 +0000"  >&lt;p&gt;Hi Namit,&lt;br/&gt;
Let&apos;s do it in this jira. I will add this testcase in a new patch. thanks&lt;/p&gt;</comment>
                            <comment id="12792908" author="namit" created="Sat, 19 Dec 2009 21:32:48 +0000"  >&lt;p&gt;OK, I will wait for the new patch then.&lt;br/&gt;
Also, I got 2 diffs in TestParse - please fix the logs there also.&lt;/p&gt;</comment>
                            <comment id="12792912" author="he yongqiang" created="Sat, 19 Dec 2009 22:03:09 +0000"  >&lt;p&gt;new patch. Thanks Namit.&lt;/p&gt;</comment>
                            <comment id="12792914" author="he yongqiang" created="Sat, 19 Dec 2009 22:08:21 +0000"  >&lt;p&gt;Also it seems sampling an empty bucketed table will get a compile error (by empty, i mean table is bucketed but no data in that table). &lt;br/&gt;
If this is a problem, we may need to open another jira for this.&lt;/p&gt;</comment>
                            <comment id="12792921" author="namit" created="Sat, 19 Dec 2009 22:38:10 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - please file a new jira for the problem above.&lt;/p&gt;</comment>
                            <comment id="12792931" author="namit" created="Sun, 20 Dec 2009 00:05:22 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12428496" name="hive-999-2009-12-18.patch" size="49542" author="he yongqiang" created="Fri, 18 Dec 2009 22:59:58 +0000"/>
                            <attachment id="12428549" name="hive-999-2009-12-19.patch" size="92726" author="he yongqiang" created="Sat, 19 Dec 2009 22:03:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 19 Dec 2009 19:59:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73163</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1000] compile error when sampleing an empty bucketed table ( it should return nothing instead of compile error)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1000</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12443855">HIVE-1000</key>
            <summary>compile error when sampleing an empty bucketed table ( it should return nothing instead of compile error)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 Dec 2009 00:14:27 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:51 +0000</updated>
                            <resolved>Mon, 21 Dec 2009 20:57:04 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12793304" author="namit" created="Mon, 21 Dec 2009 19:14:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will merge if the tests pass&lt;/p&gt;</comment>
                            <comment id="12793357" author="namit" created="Mon, 21 Dec 2009 20:57:04 +0000"  >&lt;p&gt;Committted. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12428614" name="hive-1000-2009-12-21.patch" size="29316" author="he yongqiang" created="Mon, 21 Dec 2009 09:45:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Dec 2009 19:14:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73162</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1001] CombinedHiveInputFormat should parse the inputpath correctly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1001</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;From David Lerman:&lt;br/&gt;
&quot;&lt;br/&gt;
I&apos;m running into errors where CombinedHiveInputFormat is combining data from&lt;br/&gt;
two different tables which is causing problems because the tables have&lt;br/&gt;
different input formats.&lt;/p&gt;

&lt;p&gt;It looks like the problem is in&lt;br/&gt;
org.apache.hadoop.hive.shims.Hadoop20Shims.getInputPathsShim.  It calls&lt;br/&gt;
CombineFileInputFormat.getInputPaths which returns the list of input paths&lt;br/&gt;
and then chops off the first 5 characters to remove file: from the&lt;br/&gt;
beginning, but the return value I&apos;m getting from getInputPaths is actually&lt;br/&gt;
hdfs://domain/path.  So then when it creates the pools using these paths,&lt;br/&gt;
none of the input paths match the pools (since they&apos;re just the file path&lt;br/&gt;
which protocol or domain).&lt;br/&gt;
&quot;&lt;/p&gt;

&lt;p&gt;We should use Path.getPath() to get the path part of an URI instead of just chopping off 5 chars.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12443894">HIVE-1001</key>
            <summary>CombinedHiveInputFormat should parse the inputpath correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Dec 2009 07:43:17 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:41 +0000</updated>
                            <resolved>Sat, 2 Jan 2010 07:55:41 +0000</resolved>
                                    <version>0.5.0</version>
                                    <fixVersion>0.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12793305" author="namit" created="Mon, 21 Dec 2009 19:15:31 +0000"  >&lt;p&gt;This is a blocker for 0.5&lt;/p&gt;</comment>
                            <comment id="12793389" author="he yongqiang" created="Mon, 21 Dec 2009 22:20:36 +0000"  >&lt;p&gt;+1. Looks good. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12793414" author="he yongqiang" created="Mon, 21 Dec 2009 23:30:39 +0000"  >&lt;p&gt;I just committed. Thanks Namit!&lt;/p&gt;</comment>
                            <comment id="12794912" author="dlerman" created="Mon, 28 Dec 2009 20:17:00 +0000"  >&lt;p&gt;This patch appears to affect other functionality.  Without the patch, &quot;insert overwrite directory &apos;out&apos; select ... from ...&quot; yields 1 MR job, but with the patch, it yields 2 MR jobs.  At first glance, it looks like the second job in the insert overwrite plan is a conditional operation where it either does an HDFS move to move the data from the temp output directory to its final destination, or runs a MR job to copy the data (maybe if it needs to copy across clusters?).  Before the patch, it just does the HDFS copy, but after it, it does the MR copy.  Maybe the paths its comparing to determine which task to run are getting screwed up by the patch?&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;

&lt;p&gt;Using Cloudera&apos;s Hadoop 0.20.1+152 (since the CombineFile functionality doesn&apos;t work in 0.20.1 without the extra patches):&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Create a data file twolines.dat containing:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;key1^Avalue1&lt;br/&gt;
key2^Avalue2&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Create a table with two partitions each containing that data:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;CREATE TABLE fourlinestest(KEY STRING, VALUE STRING) PARTITIONED BY (part int) STORED AS TEXTFILE;&lt;br/&gt;
load data local inpath &apos;twolines.dat&apos; into table fourlinestest partition (part=1);&lt;br/&gt;
load data local inpath &apos;twolines.dat&apos; into table fourlinestest partition (part=2);&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Using Hive r888452 (before this patch was applied):&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;set hive.input.format=org.apache.hadoop.hive.ql.io.CombineHiveInputFormat;&lt;br/&gt;
insert overwrite directory &apos;out&apos; select key from fourlinestest;&lt;/p&gt;

&lt;p&gt;--&amp;gt; The log shows that that the pools are getting created with corrupt paths (which was the bug that was fixed), but the job runs successfully with 1 MR job:&lt;/p&gt;

&lt;p&gt;Total MapReduce jobs = 2&lt;br/&gt;
Launching Job 1 out of 2&lt;br/&gt;
Number of reduce tasks is set to 0 since there&apos;s no reduce operator&lt;br/&gt;
Starting Job = job_200912240057_7597, Tracking URL = &lt;a href=&quot;http://REMOVED:50030/jobdetails.jsp?jobid=job_200912240057_7597&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://REMOVED:50030/jobdetails.jsp?jobid=job_200912240057_7597&lt;/a&gt;&lt;br/&gt;
Kill Command = REMOVED/bin/hadoop job  -Dmapred.job.tracker=REMOVED:8021 -kill job_200912240057_7597&lt;br/&gt;
2009-12-28 14:47:02,350 Stage-1 map = 0%,  reduce = 0%&lt;br/&gt;
2009-12-28 14:47:14,189 Stage-1 map = 100%,  reduce = 0%&lt;br/&gt;
2009-12-28 14:47:18,404 Stage-1 map = 100%,  reduce = 100%&lt;br/&gt;
Ended Job = job_200912240057_7597&lt;br/&gt;
Launching Job 2 out of 2&lt;br/&gt;
Moving data to: hdfs://REMOVED/561636114/10000&lt;br/&gt;
Moving data to: out&lt;br/&gt;
4 Rows loaded to out&lt;br/&gt;
OK&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Apply the patch, rebuild, and rerun&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;patch -p0 &amp;lt; hive.1001.1.patch&lt;br/&gt;
ant package&lt;br/&gt;
bin/hive&lt;br/&gt;
set hive.input.format=org.apache.hadoop.hive.ql.io.CombineHiveInputFormat;&lt;br/&gt;
insert overwrite directory &apos;out&apos; select key from fourlinestest;&lt;/p&gt;

&lt;p&gt;--&amp;gt; This time the second job actually runs a MR job (which then fails because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1006&quot; title=&quot;getPartitionDescFromPath failing from CombineHiveInputFormat&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1006&quot;&gt;&lt;del&gt;HIVE-1006&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Total MapReduce jobs = 2&lt;br/&gt;
Launching Job 1 out of 2&lt;br/&gt;
Number of reduce tasks is set to 0 since there&apos;s no reduce operator&lt;br/&gt;
Starting Job = job_200912240057_7616, Tracking URL = &lt;a href=&quot;http://REMOVED:50030/jobdetails.jsp?jobid=job_200912240057_7616&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://REMOVED:50030/jobdetails.jsp?jobid=job_200912240057_7616&lt;/a&gt;&lt;br/&gt;
Kill Command = REMOVED/bin/hadoop job  -Dmapred.job.tracker=REMOVED:8021 -kill job_200912240057_7616&lt;br/&gt;
2009-12-28 14:54:39,414 Stage-1 map = 0%,  reduce = 0%&lt;br/&gt;
2009-12-28 14:54:51,224 Stage-1 map = 100%,  reduce = 0%&lt;br/&gt;
Ended Job = job_200912240057_7616&lt;br/&gt;
Launching Job 2 out of 2&lt;br/&gt;
Number of reduce tasks determined at compile time: 1&lt;br/&gt;
In order to change the average load for a reducer (in bytes):&lt;br/&gt;
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to limit the maximum number of reducers:&lt;br/&gt;
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to set a constant number of reducers:&lt;br/&gt;
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;&lt;br/&gt;
java.io.IOException: cannot find dir = hdfs://RMOVED/1656362434/10001/attempt_200912240057_7616_m_000000_0 in partToPartitionInfo!&lt;/p&gt;</comment>
                            <comment id="12794968" author="he yongqiang" created="Mon, 28 Dec 2009 23:52:24 +0000"  >&lt;p&gt;Hi Dave,&lt;/p&gt;

&lt;p&gt;How many mappers in the map-reduce job before applying this patch?  It is strange that the merge job was not running. The merge job is started according to average result file size produced by the first job, and the merge job always uses a map-reduce job.&lt;/p&gt;

&lt;p&gt;And also discussed with Namit, we may need to add another parameter &quot;number of files&quot; to determine whether to start the merge job or not (this will be a different issue).&lt;/p&gt;</comment>
                            <comment id="12795788" author="dlerman" created="Fri, 1 Jan 2010 20:03:54 +0000"  >&lt;p&gt;Okay, that makes sense then.  Without the patch, the two input pools have corrupt paths so the input files don&apos;t match either pool and get processed together in one pool of non-matching paths.  This yields one split and one mapper, so the merge step doesn&apos;t run (since there&apos;s only one output file).&lt;/p&gt;

&lt;p&gt;With the patch, the pools get created correctly, so the two files are processed in separate pools, which yields two splits and two mappers, so the merge step runs.&lt;/p&gt;

&lt;p&gt;Thanks for the help.&lt;/p&gt;</comment>
                            <comment id="12795841" author="namit" created="Sat, 2 Jan 2010 07:55:41 +0000"  >&lt;p&gt;Closing the jira as per the clarification&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12428661" name="hive.1001.1.patch" size="6736" author="namit" created="Mon, 21 Dec 2009 22:04:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Dec 2009 19:15:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73161</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1002] multi-partition inserts</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1002</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We should allow queries like this into a partitioned table:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE (a STRING, b STRING, c STRING)
PARTITIONED BY (ds STRING, ts STRING);

INSERT OVERWRITE TABLE x PARTITION (ds = &lt;span class=&quot;code-quote&quot;&gt;&apos;2009-12-12&apos;&lt;/span&gt;)
SELECT a, b, c, ts FROM xxx;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Basically, allowing users to overwrite multiple partitions at a time.&lt;br/&gt;
The partition values specified in PARTITION part (if any) should be a prefix of the partition keys.&lt;br/&gt;
The rest of the partition keys goes to the end of the SELECT expression list.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12443897">HIVE-1002</key>
            <summary>multi-partition inserts</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Dec 2009 08:46:25 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:40 +0000</updated>
                            <resolved>Wed, 14 Apr 2010 23:36:07 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12793299" author="nzhang" created="Mon, 21 Dec 2009 19:02:23 +0000"  >&lt;p&gt;Zhen, is this a sub-task for JIRA-936 ?&lt;/p&gt;</comment>
                            <comment id="12793302" author="namit" created="Mon, 21 Dec 2009 19:08:41 +0000"  >&lt;p&gt;I think so - We can mark it a duplicate of 936&lt;/p&gt;</comment>
                            <comment id="12840934" author="rsm" created="Wed, 3 Mar 2010 22:52:11 +0000"  >&lt;p&gt;i think its probably ok to specify which columns to partition on. We should not have implied ordering/hierarchy of keys. It might be better if the user specifies the order.&lt;br/&gt;
Something like,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;insert overwrite T partitioned on (col[=value], (col[=value])*)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then users can specify constant values or if no value is present, use the column value in the data. In addition, this will allow users to specify the order of partitioning as well.&lt;/p&gt;</comment>
                            <comment id="12840940" author="nzhang" created="Wed, 3 Mar 2010 23:10:16 +0000"  >&lt;p&gt;I think it good to let the user specify the partition columns just like it is done currently. We will allow user to left some partition columns to be dynamic partition columns which means they don&apos;t need to give the value at compile time. Which partition a row is inserted is determined at runtime. &lt;/p&gt;

&lt;p&gt;However, one issue is that if the order of the partition columns in the DML are different from the their order in DDL, we should thrown an error if some static partition followed by a dynamic partition. For example&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;insert overwrite table T partition (ds, hr=12) select ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;should throw an error. The reason is that the order of the partition column determines the directory hierarchy (hr is a subdirectory of ds). This is determined at create table time. If we allow the above DML, we have to have a clear semantics:  we should either change all ds partitions who has a subdirectory hr=12, or we should complete overwrite the table and use a different directory hierarchy (ds being a subdirectory of hr).  The first solution is potentially very expensive and rarely seen in practice. The second solution is potentially dangerous since the user could accidentally entered the wrong order and the whole table got overwritten rather than some partition got updated. Also the second case has a workaround: the user could create another partitioned table with different partition column ordering and use the above DML to load data.  &lt;/p&gt;</comment>
                            <comment id="12852158" author="nzhang" created="Wed, 31 Mar 2010 23:02:26 +0000"  >&lt;p&gt;Uploading &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1002&quot; title=&quot;multi-partition inserts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1002&quot;&gt;&lt;del&gt;HIVE-1002&lt;/del&gt;&lt;/a&gt;.patch for inserting to dynamic partitions. Some examples are:&lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE TABLE T PARTITION (ds=&apos;2010-03-31&apos;, hr) select key, value, hr from srcpart where ds is not null and hr is not null;&lt;/p&gt;

&lt;p&gt;FROM srcpart&lt;br/&gt;
INSERT OVERWRITE TABLE T partition(ds=&apos;2010-03-31&apos;, hr) select key, value, hr where hr &amp;lt; 24&lt;br/&gt;
INSERT OVERWRITE TABLE T partition(ds=&apos;2010-03-31&apos;, hr = &apos;invalid&apos;) select key, value, hr where hr &amp;gt;= 24;&lt;/p&gt;

&lt;p&gt;More examples can be found in the .q files in the patch. &lt;/p&gt;</comment>
                            <comment id="12853607" author="nzhang" created="Tue, 6 Apr 2010 00:03:47 +0000"  >&lt;p&gt;uploading &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1002&quot; title=&quot;multi-partition inserts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1002&quot;&gt;&lt;del&gt;HIVE-1002&lt;/del&gt;&lt;/a&gt;.1.patch addressing some issues raised in internal review. &lt;/p&gt;</comment>
                            <comment id="12853771" author="namit" created="Tue, 6 Apr 2010 06:11:57 +0000"  >&lt;p&gt;Still looking, some minor comments:&lt;/p&gt;

&lt;p&gt;1. Add a parameter to limit the number of partitions  that can be inserted into. Add a test for the same.&lt;br/&gt;
2. Add the parameters in hive-default.xml&lt;/p&gt;</comment>
                            <comment id="12854186" author="ted_yu" created="Tue, 6 Apr 2010 21:18:42 +0000"  >&lt;p&gt;In ObjectInspectorUtils.partialCopyToStandardObject(), the following line:&lt;br/&gt;
        if (j == numCols) {&lt;br/&gt;
should be:&lt;br/&gt;
        if (j == startCol + numCols - 1) {&lt;/p&gt;</comment>
                            <comment id="12854200" author="nzhang" created="Tue, 6 Apr 2010 21:42:35 +0000"  >&lt;p&gt;Ted, thanks for taking the time for review. The original code should be correct since it won&apos;t increment j for every struct field, but only incremented once i reached startCol. So j is actually the counter of columns not the column index. &lt;/p&gt;</comment>
                            <comment id="12856259" author="nzhang" created="Tue, 13 Apr 2010 01:08:12 +0000"  >&lt;p&gt;Uploading a new patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1002&quot; title=&quot;multi-partition inserts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1002&quot;&gt;&lt;del&gt;HIVE-1002&lt;/del&gt;&lt;/a&gt;.2.patch. Additional changes include:&lt;/p&gt;

&lt;p&gt; 1) introduce 2 hive parameters: hive.exec.max.dynamic.partitions=1000 (the total number of DP can be created) and hive.exec.max.dynamic.partitions.pernode=100 (max # of DP can be created per mapper/reducer). They are introduced primarily to reduce the load to the cluster. A fatal error is raised if hive.exec.max.dynamic.partitions.pernode is reached and the job is killed. The hive.exec.max.dynamic.partitions is checked after job completed before MoveTask moves the intermediate results to the final location.&lt;/p&gt;

&lt;p&gt;  2) introduce hive.exec.default.partition.name=_&lt;em&gt;HIVE_DEFAULT_PARTITION&lt;/em&gt;_. This is used to put tuples whose DP column value is NULL/empty string. For values containing special characters such as &apos;%&apos;, &apos;:&apos;, &apos;/&apos;, we escape it using &apos;%&apos; followed by 2 hex code. Unicode larger than 127 will not be escaped. &lt;/p&gt;
</comment>
                            <comment id="12856605" author="namit" created="Tue, 13 Apr 2010 20:36:00 +0000"  >&lt;p&gt;I will take a look &lt;/p&gt;</comment>
                            <comment id="12856621" author="namit" created="Tue, 13 Apr 2010 21:18:16 +0000"  >&lt;p&gt;Some minor comments:&lt;/p&gt;

&lt;p&gt;1. What happens if hive.merge.mapfiles or hive.merge.mapredfiles is set to true ? Do we throw an error, or just ignore that ?&lt;br/&gt;
    Can we add a test ?&lt;br/&gt;
2. Can you drop the tables that you are creating in the positive tests ?&lt;/p&gt;</comment>
                            <comment id="12856629" author="namit" created="Tue, 13 Apr 2010 21:31:44 +0000"  >&lt;p&gt;2) introduce hive.exec.default.partition.name=&lt;em&gt;HIVE_DEFAULT_PARTITION&lt;/em&gt;. This is used to put tuples whose DP column value is NULL/empty string. For values containing special characters such as &apos;%&apos;, &apos;:&apos;, &apos;/&apos;, we escape it using &apos;%&apos; followed by 2 hex code. Unicode larger than 127 will not be escaped. &lt;/p&gt;

&lt;p&gt;Can you add a test for above ?&lt;/p&gt;</comment>
                            <comment id="12856641" author="namit" created="Tue, 13 Apr 2010 21:50:38 +0000"  >&lt;p&gt;Otherwise, it looks good - please do the minor changes above and I will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12856989" author="nzhang" created="Wed, 14 Apr 2010 17:48:12 +0000"  >&lt;p&gt;1) hive.merge.mapfiles/mapredfiles will be set to false internally if dynamic partitioning is enabled. I have modified some of the tests to remove the explicit setting of hive.merge.* to false. I&apos;ll file a followup JIRA to address merging.&lt;/p&gt;

&lt;p&gt;2) drop tables are added to the positive tests.&lt;/p&gt;

&lt;p&gt;3) load_dyn_part14.q was added to positive tests for HIVE_DEFAULT_PARTITION. I didn&apos;t figure out how to enter unicode in hive cli (&apos;\u8888&apos; seems not work. I&apos;ll file a following up JiRA for this and another negative test case where exception was thrown after job finished (TestNegativeCliDriver doesn&apos;t work for this case either). &lt;/p&gt;

&lt;p&gt;Will upload a new patch addressing the above comments. &lt;/p&gt;</comment>
                            <comment id="12857008" author="nzhang" created="Wed, 14 Apr 2010 18:25:18 +0000"  >&lt;p&gt;Uploading a new patch. &lt;/p&gt;</comment>
                            <comment id="12857023" author="namit" created="Wed, 14 Apr 2010 18:58:14 +0000"  >&lt;p&gt;will take a look&lt;/p&gt;</comment>
                            <comment id="12857150" author="namit" created="Wed, 14 Apr 2010 23:36:07 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                            <comment id="12857530" author="nzhang" created="Thu, 15 Apr 2010 20:59:14 +0000"  >&lt;p&gt;Wiki has been updated for this feature&apos;s syntax and semantics:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/Tutorial#Dynamic-partition_Insert&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/Tutorial#Dynamic-partition_Insert&lt;/a&gt;&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12440887">HIVE-936</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12441571" name="ASF.LICENSE.NOT.GRANTED--HIVE-1002.2.patch" size="1277389" author="nzhang" created="Tue, 13 Apr 2010 01:08:12 +0000"/>
                            <attachment id="12441757" name="ASF.LICENSE.NOT.GRANTED--HIVE-1002.4.patch" size="1321705" author="nzhang" created="Wed, 14 Apr 2010 18:25:17 +0000"/>
                            <attachment id="12440816" name="HIVE-1002.1.patch" size="1121546" author="nzhang" created="Tue, 6 Apr 2010 00:03:47 +0000"/>
                            <attachment id="12440416" name="HIVE-1002.patch" size="1110816" author="nzhang" created="Wed, 31 Mar 2010 23:02:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Dec 2009 19:02:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1003] optimize metadata only queries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1003</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Queries like:&lt;/p&gt;

&lt;p&gt;select max(ds) from T &lt;/p&gt;

&lt;p&gt;where ds is a partitioning column should be optimized.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12443933">HIVE-1003</key>
            <summary>optimize metadata only queries</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marcink">Marcin Kurczych</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Dec 2009 19:53:28 +0000</created>
                <updated>Wed, 14 Dec 2016 09:50:42 +0000</updated>
                            <resolved>Mon, 31 Oct 2011 17:31:18 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13112925" author="marcink" created="Thu, 22 Sep 2011 21:27:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1962/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1962/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13130777" author="namit" created="Wed, 19 Oct 2011 17:12:01 +0000"  >&lt;p&gt;cleaning up the patch&lt;/p&gt;</comment>
                            <comment id="13130785" author="marcink" created="Wed, 19 Oct 2011 17:15:10 +0000"  >&lt;p&gt;I have finished my internship at Facebook.&lt;br/&gt;
If you want to contact me you can reach me at Marcin Kurczych &amp;lt;marcin.kurczych@gmail.com&amp;gt;.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13132843" author="he yongqiang" created="Fri, 21 Oct 2011 17:24:31 +0000"  >&lt;p&gt;will take a look.&lt;/p&gt;</comment>
                            <comment id="13133038" author="namit" created="Fri, 21 Oct 2011 20:31:44 +0000"  >&lt;p&gt;will add more tests&lt;/p&gt;</comment>
                            <comment id="13133057" author="namit" created="Fri, 21 Oct 2011 21:00:00 +0000"  >&lt;p&gt;added more tests&lt;/p&gt;</comment>
                            <comment id="13133759" author="ashutoshc" created="Sun, 23 Oct 2011 22:05:06 +0000"  >&lt;p&gt;@Namit,&lt;br/&gt;
Will second query on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2119&quot; title=&quot;Optimizer on partition field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2119&quot;&gt;&lt;del&gt;HIVE-2119&lt;/del&gt;&lt;/a&gt; will also get optimized with this?&lt;/p&gt;</comment>
                            <comment id="13133818" author="namit" created="Mon, 24 Oct 2011 04:09:24 +0000"  >&lt;p&gt;@Ashutosh, it should - i haven&apos;t tried it yet.&lt;br/&gt;
Let me confirm tomorrow&lt;/p&gt;</comment>
                            <comment id="13133829" author="namit" created="Mon, 24 Oct 2011 05:07:36 +0000"  >&lt;p&gt;@Ashutosh, that query is not optimized - &lt;br/&gt;
Let us keep &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2119&quot; title=&quot;Optimizer on partition field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2119&quot;&gt;&lt;del&gt;HIVE-2119&lt;/del&gt;&lt;/a&gt; open and work on that as a followup.&lt;/p&gt;</comment>
                            <comment id="13134344" author="he yongqiang" created="Mon, 24 Oct 2011 18:43:13 +0000"  >
&lt;p&gt;1) move the optimizer to physical optimizer.&lt;br/&gt;
2) after 1), changes in GenMapRedUtils also need to be moved. &lt;br/&gt;
3) add a testcase which uses CombineHiveInputFormat.&lt;br/&gt;
4) also test virtual_column.q &lt;br/&gt;
nitpicks:&lt;br/&gt;
1) getCategory() in NullStructSerDe&apos;s getObjectInspector should return Struct&lt;br/&gt;
2) remove import of &quot;HiveNullValueSequenceFileOutputFormat&quot; and &quot;OneNullRowInputFormat&quot; from SemanticAnalyzer.java&lt;/p&gt;</comment>
                            <comment id="13134458" author="namit" created="Mon, 24 Oct 2011 20:32:53 +0000"  >&lt;p&gt;@Ashutosh, moving to physical optimizer should also fix the query in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2119&quot; title=&quot;Optimizer on partition field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2119&quot;&gt;&lt;del&gt;HIVE-2119&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13138027" author="phabricator@reviews.facebook.net" created="Fri, 28 Oct 2011 05:04:32 +0000"  >&lt;p&gt;njain requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1003&quot; title=&quot;optimize metadata only queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1003&quot;&gt;&lt;del&gt;HIVE-1003&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; optimize metadata only queries&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  testing&lt;/p&gt;

&lt;p&gt;  Queries like:&lt;/p&gt;

&lt;p&gt;  select max(ds) from T&lt;/p&gt;

&lt;p&gt;  where ds is a partitioning column should be optimized.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D105&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D105&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/219/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/219/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13138035" author="phabricator@reviews.facebook.net" created="Fri, 28 Oct 2011 05:12:32 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1003&quot; title=&quot;optimize metadata only queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1003&quot;&gt;&lt;del&gt;HIVE-1003&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; optimize metadata only queries&quot;.&lt;/p&gt;

&lt;p&gt;  testing integration&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D105&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D105&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13138515" author="namit" created="Fri, 28 Oct 2011 16:49:59 +0000"  >&lt;p&gt;addressed comments&lt;/p&gt;</comment>
                            <comment id="13138818" author="he yongqiang" created="Fri, 28 Oct 2011 21:50:50 +0000"  >&lt;p&gt;looks good to me, running tests&lt;/p&gt;</comment>
                            <comment id="13140349" author="he yongqiang" created="Mon, 31 Oct 2011 17:30:58 +0000"  >&lt;p&gt;committed, thanks Marcin and Namit!&lt;/p&gt;</comment>
                            <comment id="13140649" author="hudson" created="Mon, 31 Oct 2011 23:00:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1048 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1048/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1048/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1003&quot; title=&quot;optimize metadata only queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1003&quot;&gt;&lt;del&gt;HIVE-1003&lt;/del&gt;&lt;/a&gt;: optimize metadata only queries (Marcin Kurczych, Namit Jain via He Yongqiang)&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1195577&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1195577&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/OneNullRowInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/MetadataOnlyOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/PhysicalOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/GroupByDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMax.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFMin.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/metadataonly1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/NullStructSerDe.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13142716" author="phabricator@reviews.facebook.net" created="Thu, 3 Nov 2011 00:21:32 +0000"  >&lt;p&gt;njain updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1003&quot; title=&quot;optimize metadata only queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1003&quot;&gt;&lt;del&gt;HIVE-1003&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; optimize metadata only queries&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D105&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D105&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/join0.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join0.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExplainWork.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ExplainSemanticAnalyzer.java&lt;/p&gt;</comment>
                            <comment id="13160662" author="phabricator@reviews.facebook.net" created="Thu, 1 Dec 2011 05:51:39 +0000"  >&lt;p&gt;njain updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1003&quot; title=&quot;optimize metadata only queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1003&quot;&gt;&lt;del&gt;HIVE-1003&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; optimize metadata only queries&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2618&quot; title=&quot;Describe partition returns table columns but should return partition columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2618&quot;&gt;&lt;del&gt;HIVE-2618&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D105&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D105&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_table_serde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_schema1.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/partition_schema1.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/MetaDataFormatUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/p&gt;</comment>
                            <comment id="13165033" author="phabricator@reviews.facebook.net" created="Thu, 8 Dec 2011 06:41:40 +0000"  >&lt;p&gt;heyongqiang has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1003&quot; title=&quot;optimize metadata only queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1003&quot;&gt;&lt;del&gt;HIVE-1003&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; optimize metadata only queries&quot;.&lt;/p&gt;

&lt;p&gt;  tests passed&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D105&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D105&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13165037" author="phabricator@reviews.facebook.net" created="Thu, 8 Dec 2011 06:45:39 +0000"  >&lt;p&gt;njain has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1003&quot; title=&quot;optimize metadata only queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1003&quot;&gt;&lt;del&gt;HIVE-1003&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; optimize metadata only queries&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D105&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D105&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1211767&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1211767&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13165068" author="hudson" created="Thu, 8 Dec 2011 07:37:13 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #7 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/7/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/7/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1003&quot; title=&quot;optimize metadata only queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1003&quot;&gt;&lt;del&gt;HIVE-1003&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; optimize metadata only queries&lt;br/&gt;
(Namit Jain via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
testing&lt;/p&gt;

&lt;p&gt;Queries like:&lt;/p&gt;

&lt;p&gt;select max(ds) from T&lt;/p&gt;

&lt;p&gt;where ds is a partitioning column should be optimized.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: njain, heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: 105&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1211767&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1211767&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/MetaDataFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/partition_schema1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_table_serde.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partition_schema1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13165153" author="hudson" created="Thu, 8 Dec 2011 11:15:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1131 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1131/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1131/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1003&quot; title=&quot;optimize metadata only queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1003&quot;&gt;&lt;del&gt;HIVE-1003&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; optimize metadata only queries&lt;br/&gt;
(Namit Jain via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
testing&lt;/p&gt;

&lt;p&gt;Queries like:&lt;/p&gt;

&lt;p&gt;select max(ds) from T&lt;/p&gt;

&lt;p&gt;where ds is a partitioning column should be optimized.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: njain, heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: 105&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1211767&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1211767&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/MetaDataFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/partition_schema1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_table_serde.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partition_schema1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15747837" author="lefty@hortonworks.com" created="Wed, 14 Dec 2016 09:49:05 +0000"  >&lt;p&gt;Doc note:  This adds &lt;b&gt;hive.optimize.metadataonly&lt;/b&gt; to HiveConf.java with a default value of true in release 0.8.0.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15397&quot; title=&quot;metadata-only queries may return incorrect results with empty tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15397&quot;&gt;&lt;del&gt;HIVE-15397&lt;/del&gt;&lt;/a&gt; changes the default to false in release 2.2.0.&lt;/p&gt;

&lt;p&gt;When it is documented in the wiki, this link will work:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.optimize.metadataonly&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.optimize.metadataonly &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12511138">HIVE-2232</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13026829">HIVE-15397</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12504616">HIVE-2119</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12501230" name="ASF.LICENSE.NOT.GRANTED--D105.1.patch" size="445" author="phabricator@reviews.facebook.net" created="Fri, 28 Oct 2011 05:04:32 +0000"/>
                            <attachment id="12502076" name="ASF.LICENSE.NOT.GRANTED--D105.2.patch" size="76677" author="phabricator@reviews.facebook.net" created="Thu, 3 Nov 2011 00:21:32 +0000"/>
                            <attachment id="12505718" name="ASF.LICENSE.NOT.GRANTED--HIVE-1003.D105.3.patch" size="35083" author="phabricator@reviews.facebook.net" created="Thu, 1 Dec 2011 05:51:40 +0000"/>
                            <attachment id="12496183" name="HIVE-1003.1.patch" size="41296" author="marcink" created="Thu, 22 Sep 2011 21:24:53 +0000"/>
                            <attachment id="12500095" name="hive.1003.2.patch" size="40932" author="namit" created="Fri, 21 Oct 2011 05:42:27 +0000"/>
                            <attachment id="12500244" name="hive.1003.3.patch" size="73722" author="namit" created="Fri, 21 Oct 2011 20:59:52 +0000"/>
                            <attachment id="12501325" name="hive.1003.4.patch" size="98190" author="namit" created="Fri, 28 Oct 2011 16:49:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Sep 2011 21:27:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42659</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lcwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Added support for metadata only queries.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
