<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:17:16 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-12-14+AND+created+%3C%3D+2010-12-21+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="8" total="8"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1850] alter table set serdeproperties bypasses regexps checks (leaves table in a non-recoverable state?)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1850</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table aa ( test STRING )
  ROW FORMAT SERDE &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.contrib.serde2.RegexSerDe&apos;&lt;/span&gt;
  WITH SERDEPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&quot;input.regex&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;[^\\](.*)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;output.format.string&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;$1s&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This will fail. Great!&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table aa ( test STRING )
  ROW FORMAT SERDE &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.contrib.serde2.RegexSerDe&apos;&lt;/span&gt;
  WITH SERDEPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&quot;input.regex&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;(.*)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;output.format.string&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;$1s&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Works, no problem there.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;alter table aa set serdeproperties (&lt;span class=&quot;code-quote&quot;&gt;&quot;input.regex&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;[^\\](.*)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;output.format.string&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;$1s&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Wups... I can set that without any problems!&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;alter table aa set serdeproperties (&lt;span class=&quot;code-quote&quot;&gt;&quot;input.regex&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;(.*)&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;output.format.string&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;$1s&quot;&lt;/span&gt;);
FAILED: Hive Internal Error: java.util.regex.PatternSyntaxException(Unclosed character &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;near index 7
[^\](.*)
       ^)
java.util.regex.PatternSyntaxException: Unclosed character &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;near index 7
[^\](.*)
       ^
	at java.util.regex.Pattern.error(Pattern.java:1713)
	at java.util.regex.Pattern.clazz(Pattern.java:2254)
	at java.util.regex.Pattern.sequence(Pattern.java:1818)
	at java.util.regex.Pattern.expr(Pattern.java:1752)
	at java.util.regex.Pattern.compile(Pattern.java:1460)
	at java.util.regex.Pattern.&amp;lt;init&amp;gt;(Pattern.java:1133)
	at java.util.regex.Pattern.compile(Pattern.java:847)
	at org.apache.hadoop.hive.contrib.serde2.RegexSerDe.initialize(RegexSerDe.java:101)
	at org.apache.hadoop.hive.metastore.MetaStoreUtils.getDeserializer(MetaStoreUtils.java:199)
	at org.apache.hadoop.hive.ql.metadata.Table.getDeserializer(Table.java:253)
	at org.apache.hadoop.hive.ql.metadata.Table.getCols(Table.java:484)
	at org.apache.hadoop.hive.ql.metadata.Table.checkValidity(Table.java:161)
	at org.apache.hadoop.hive.ql.metadata.Hive.getTable(Hive.java:803)
	at org.apache.hadoop.hive.ql.parse.DDLSemanticAnalyzer.analyzeAlterTableSerdeProps(DDLSemanticAnalyzer.java:558)
	at org.apache.hadoop.hive.ql.parse.DDLSemanticAnalyzer.analyzeInternal(DDLSemanticAnalyzer.java:232)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:238)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:335)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:686)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:142)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:216)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:370)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;After this, all further commands on the table fails, including drop table &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;1. The alter table command should probably check the regexp just like the create table command does&lt;br/&gt;
2. Even though the regexp is bad, it should be possible to do things like set the regexp again or drop the table.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Trunk build from a few days ago, but seen once before with older version as well.&lt;/p&gt;</environment>
        <key id="12493182">HIVE-1850</key>
            <summary>alter table set serdeproperties bypasses regexps checks (leaves table in a non-recoverable state?)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amareshwari">Amareshwari Sriramadasu</assignee>
                                    <reporter username="terjem">Terje Marthinussen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Dec 2010 13:18:20 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:45 +0000</updated>
                            <resolved>Wed, 26 Oct 2011 04:50:03 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13071029" author="amareshwari" created="Tue, 26 Jul 2011 10:51:49 +0000"  >&lt;p&gt;Even though, DDLTask.alterTable() does a checkValidity for the table after all the alterations, this problem is not found. Because getDeserializer() was not getting it from the Metastore with modified properties. &lt;br/&gt;
Patch does the required change and add regression test. &lt;/p&gt;</comment>
                            <comment id="13072281" author="amareshwari" created="Thu, 28 Jul 2011 10:18:26 +0000"  >&lt;p&gt;canceling patch as one of the tests is failing.&lt;/p&gt;</comment>
                            <comment id="13073433" author="amareshwari" created="Mon, 1 Aug 2011 04:36:51 +0000"  >&lt;p&gt;Fixed the test failure(protectmode.q) with the patch on review board.&lt;/p&gt;</comment>
                            <comment id="13073434" author="jiraposter@reviews.apache.org" created="Mon, 1 Aug 2011 04:37:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1233/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1233/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;alter table set serdeproperties bypasses regexps checks (leaves table in a non-recoverable state?)&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1850&quot; title=&quot;alter table set serdeproperties bypasses regexps checks (leaves table in a non-recoverable state?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1850&quot;&gt;&lt;del&gt;HIVE-1850&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1850&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1850&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/test/results/clientnegative/create_table_wrong_regex.q.out PRE-CREATION &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java 1151047 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java 1151047 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/alter_table_wrong_regex.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/create_table_wrong_regex.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/alter_table_wrong_regex.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1233/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1233/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;All tests pass with the patch.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Amareshwari&lt;/p&gt;
</comment>
                            <comment id="13089282" author="cwsteinbach" created="Tue, 23 Aug 2011 05:46:56 +0000"  >&lt;p&gt;@Amareshwari: I see a diff in TestCliDriver.protectmode. Can you please take a look and see if you get the same result? Thanks.&lt;/p&gt;</comment>
                            <comment id="13089328" author="amareshwari" created="Tue, 23 Aug 2011 07:43:18 +0000"  >&lt;p&gt;This patch fixes protectmode failure.&lt;/p&gt;</comment>
                            <comment id="13135242" author="namit" created="Tue, 25 Oct 2011 17:14:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;
</comment>
                            <comment id="13135704" author="namit" created="Wed, 26 Oct 2011 04:50:03 +0000"  >&lt;p&gt;Committed. Thanks Amareshwari&lt;/p&gt;</comment>
                            <comment id="13135828" author="hudson" created="Wed, 26 Oct 2011 09:36:04 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1036 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1036/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1036/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1850&quot; title=&quot;alter table set serdeproperties bypasses regexps checks (leaves table in a non-recoverable state?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1850&quot;&gt;&lt;del&gt;HIVE-1850&lt;/del&gt;&lt;/a&gt; alter table set serdeproperties bypasses regexps checks&lt;br/&gt;
(leaves table in a non-recoverable state?) (Amareshwari Sriramadasu via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1189026&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1189026&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_table_wrong_regex.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_table_wrong_regex.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_table_wrong_regex.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/create_table_wrong_regex.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12491319" name="patch-1850-2.txt" size="5501" author="amareshwari" created="Tue, 23 Aug 2011 07:43:18 +0000"/>
                            <attachment id="12487814" name="patch-1850.txt" size="4822" author="amareshwari" created="Tue, 26 Jul 2011 10:51:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jul 2011 10:51:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35817</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lh9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1851] wrong number of rows inserted reported by Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1851</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The counters that hive uses to report the number of rows inserted are not very reliable.&lt;br/&gt;
Unless they become correct, it is a good idea to disable these reports.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12493246">HIVE-1851</key>
            <summary>wrong number of rows inserted reported by Hive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Dec 2010 22:04:40 +0000</created>
                <updated>Thu, 30 Jun 2011 18:19:04 +0000</updated>
                            <resolved>Thu, 30 Jun 2011 18:19:04 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12971439" author="appodictic" created="Tue, 14 Dec 2010 22:24:03 +0000"  >&lt;p&gt;Is this a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-934&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-934&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="12971457" author="namit" created="Tue, 14 Dec 2010 22:50:37 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-934&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-934&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 14 Dec 2010 22:24:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lha7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1852] Reduce unnecessary DFSClient.rename() calls</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1852</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In Hive client side (MoveTask etc), DFSCleint.rename() is called for every file inside a directory. It is very expensive for a large directory in a busy DFS namenode. We should replace it with a single rename() call on the whole directory. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12493365">HIVE-1852</key>
            <summary>Reduce unnecessary DFSClient.rename() calls</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Dec 2010 21:32:24 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:55 +0000</updated>
                            <resolved>Wed, 22 Dec 2010 22:46:27 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12971893" author="jsensarma" created="Wed, 15 Dec 2010 23:57:42 +0000"  >&lt;p&gt;are u sure this is ok? it seems we have changed the semantics - the old code takes each file from underneath the dir and moves into final location. the new code moves the directory underneath the final location. there&apos;s one extra level of directory in the new code that&apos;s not there in the old code. also - the semantics in terms of collisions changes because of this. if we create a subdir - then there may not be collisions in the new code (because of rename) that may occur in the old code.&lt;/p&gt;</comment>
                            <comment id="12971908" author="hairong" created="Thu, 16 Dec 2010 00:49:29 +0000"  >&lt;p&gt;Joydeep is right. I did not realize that you try to merge multiple source directories into one.&lt;/p&gt;</comment>
                            <comment id="12971913" author="nzhang" created="Thu, 16 Dec 2010 00:57:48 +0000"  >&lt;p&gt;The directory structures should not be changed by the patch (I tested with a simple insert overwrite and dynamic partition inserts on production and verified the results). The full unit tests are still running. &lt;/p&gt;

&lt;p&gt;The rationale is that the old code actually go over each file (item_i) in src and rename it to tmpPath/item_i. The new code simply rename src to tmpPath.  About the name collision, the tmpPath need to be created first because it&apos;s parent may not exists (in case of multiple levels of dynamic partitions), in which case rename will fail. If the directory tmpPath is created first and then rename src to tmpPath, it won&apos;t fail and in reality it move all subdirectories/files in src to tmpPath. There is no documentation about the collision semantics but it is not guaranteed I can change the code.&lt;/p&gt;</comment>
                            <comment id="12971920" author="jsensarma" created="Thu, 16 Dec 2010 01:13:41 +0000"  >&lt;p&gt;old code rename src/item_i to tmpPath/item_i&lt;br/&gt;
new code renames src to tmpPath/src. item_i&apos;s final position is tmpPath/src/item_i&lt;/p&gt;

&lt;p&gt;what am i missing?&lt;/p&gt;</comment>
                            <comment id="12971922" author="jsensarma" created="Thu, 16 Dec 2010 01:14:34 +0000"  >&lt;p&gt;u need a test where src is a directory. please try different variants of load commands.&lt;/p&gt;</comment>
                            <comment id="12971926" author="jsensarma" created="Thu, 16 Dec 2010 01:17:22 +0000"  >&lt;p&gt;oh - sorry - my previous comment was wrong. if u rename src to tmpPath - u lose all previous contents of tmpPath. which is not what the function does - it retains contents of tmpPath that don&apos;t collide with contents in src (the load command uses this i think and merges data in).&lt;/p&gt;

&lt;p&gt;maybe we need a different call for the specific case u are trying to optimize. if this is not being picked up by the tests - that&apos;s pretty bad ..&lt;/p&gt;</comment>
                            <comment id="12971940" author="nzhang" created="Thu, 16 Dec 2010 02:11:07 +0000"  >&lt;p&gt;@Joydeep, replaceFiles() is called by loadTable with the &quot;replace&quot; flag turned on, which mean it should overwrite the destination directory. Also tmpPath is a temporary path that should not exist before this call. Later in the function tmpPath is rename again to the destination path (where the existing files in destf will be removed).  &lt;/p&gt;

&lt;p&gt;The non-overwriting version is implemented in copyFiles().  So I think we don&apos;t need another function. &lt;/p&gt;

&lt;p&gt;I also added a test case to test the load data (overwrite or not) works as expected to the new patch (no code changes from the first one).&lt;/p&gt;</comment>
                            <comment id="12971991" author="jsensarma" created="Thu, 16 Dec 2010 07:37:15 +0000"  >&lt;p&gt;what happens when there are multiple srcs:&lt;/p&gt;

&lt;p&gt;    srcs = fs.listStatus(srcf);&lt;br/&gt;
     for (FileStatus src : srcs) {&lt;br/&gt;
       if (!fs.rename(src.getPath(), tmppath)) {&lt;/p&gt;

&lt;p&gt;we can&apos;t rename multiple sources to the same target. this happens when the input path is a glob (which i think the load command allows).&lt;/p&gt;

&lt;p&gt;can we special case this optimization (apply only when srcs.length == 1)?&lt;/p&gt;</comment>
                            <comment id="12972359" author="nzhang" created="Fri, 17 Dec 2010 05:41:12 +0000"  >&lt;p&gt;Taking Hairong and Joydeep&apos;s comments. &lt;/p&gt;

&lt;p&gt;The original implementation assumes srcf be a path potentially containing wildcards, but in the current code path wildcards in the &apos;LOAD DATA&apos; commands are handled differently (first a copy task handles the wildcards and then followed by a move task which calls the replaceFiles() function). So srcf should be a single leaf directory (although we don&apos;t prevent subdirectories inside srcf).&lt;/p&gt;

&lt;p&gt;Because of this I simplified the function by renaming srcf to destf and eliminated tmppath. The .3 patch passed all unit tests.&lt;/p&gt;</comment>
                            <comment id="12973300" author="jsensarma" created="Mon, 20 Dec 2010 18:55:16 +0000"  >&lt;p&gt;Ning - do you know why we had the FsShell and -rmr code (in Hive.replaceFiles) ? i don&apos;t think it was there originally and there must have been a reason why it got put in. this patch is taking it out and i wanted to be sure this is ok. (I am wondering if the -rmr is there to handle non hdfs file systems)&lt;/p&gt;</comment>
                            <comment id="12973311" author="he yongqiang" created="Mon, 20 Dec 2010 19:18:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1707&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1707&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12973329" author="nzhang" created="Mon, 20 Dec 2010 19:34:43 +0000"  >&lt;p&gt;Yes, it&apos;s because the oldPath could be from a different file system. In this patch, a new file system is got from oldPath and it is used to delete oldPath. It should be equivalent to FsShell. Hairong mentioned that FsShell is relatively slow and more expensive that calling FileSystem.delete. &lt;/p&gt;

&lt;p&gt;Yongqiang, is there a test case for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1707&quot; title=&quot;bug when different partitions are present in different dfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1707&quot;&gt;&lt;del&gt;HIVE-1707&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="12973353" author="jsensarma" created="Mon, 20 Dec 2010 20:45:08 +0000"  >&lt;p&gt;cool - the fsshell removal sounds good unless Yongqiang says something otherwise.&lt;/p&gt;

&lt;p&gt;i am pretty sure this patch breaks load command with a wildcard though. it seems to me that the load command is simply passing the input path (with the wildcard pattern) to the the loadTable/loadPartition methods (via LoadTableDesc). these commands were previously capable of handling wildcards that matched a set of files. now they will not be able to do that. Ning - can u confirm this? (maybe add a test trying to load a wildcard pattern?)&lt;/p&gt;

&lt;p&gt;on a more minor note - the checkPaths call that got taken out was checking for the presence of nested subdirectories inside the path being loaded. is this no longer necessary? (do we support directories within partitions/tables automatically at query time?)&lt;/p&gt;</comment>
                            <comment id="12973372" author="he yongqiang" created="Mon, 20 Dec 2010 21:43:50 +0000"  >&lt;p&gt;I remember i tried to use FileSystem.delete. but it did not work, so changed to use FsShell. So possibly you need to revert the change.&lt;br/&gt;
There is no testcase in Hive covering it. I did the test manually in our cluster.&lt;/p&gt;</comment>
                            <comment id="12973382" author="nzhang" created="Mon, 20 Dec 2010 22:11:48 +0000"  >&lt;p&gt;Yongqiang, do you have the command/script that can reproduce the use case there oldPath is from a different FS? Theoretically using FsShell and FileSystem.delete should be the same (FsShell should internally call FileSystem.delete).  Did you get a new file system from oldPath or use the same from other paths?&lt;/p&gt;</comment>
                            <comment id="12973384" author="nzhang" created="Mon, 20 Dec 2010 22:18:58 +0000"  >&lt;p&gt;@joydeep, I&apos;ve tested the case like &apos;LOAD DATA LOCAL INPATH &apos;/dir/&lt;b&gt;.txt&apos; INTO TABLE blah and it worked. Is this what you meant by wildcards? If so I&apos;ll add a test case if it doesn&apos;t not exist already.  The plan for that is to generate a CopyTask first from /dir/&lt;/b&gt;.txt to a temp dir say /dir/tmp-1000 and the MoveTask is moving /dir/tmp-1000 to the table&apos;s destination location. replaceFiles is only called in the MoveTask so that worked. &lt;/p&gt;

&lt;p&gt;Also the only reason checkPath is there for replaceFiles is to check nested subdirectories. For INSERT OVERWRITE (whether be dynamic or static partitions) the temporary directory should not contain any sub directories. For LOAD DATA commands, Namit said we don&apos;t have any use cases for loading a directory containing subdirectories, but it should be enabled. That&apos;s why I removed it. But if we want to ensure no subdirectories, I can bring it back. &lt;/p&gt;</comment>
                            <comment id="12973387" author="jsensarma" created="Mon, 20 Dec 2010 22:23:07 +0000"  >&lt;p&gt;regarding wildcards - load data inpath /x/*.txt - does that work? the copy task should not happen if the source and destination file systems are the same (in the load command). i think u may have observed the copy command kick in because in the hive unit test environment - the default file system is pfile:// and local file system is not same as pfile:// (from a java class standpoint). so copytask kicks in. you might want to try a load command without the &apos;local&apos; keyword.&lt;/p&gt;

&lt;p&gt;also - regarding the question about filesystem.delete versus fsshell - testing should be easy because we have two working file systems in our test environment (&lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; and pfile://). we can create a partition pointing to one filesystem and then try to change it&apos;s location to the other filesystem and make sure things work.  &lt;/p&gt;</comment>
                            <comment id="12973519" author="he yongqiang" created="Tue, 21 Dec 2010 08:53:42 +0000"  >&lt;p&gt;@Joy, the FsShell delete is there because FB&apos;s hadoop is doing a slightly different implementation for the FileSystem.delete. &lt;/p&gt;</comment>
                            <comment id="12973537" author="nzhang" created="Tue, 21 Dec 2010 09:57:35 +0000"  >&lt;p&gt;@joydeep, you are right. if there is no &apos;local&apos; keyword there is no CopyTask and MoveTask takes wildcards. I&apos;m uploading a new patch address wildcards. Also reverted to FsShell to use oldPath for the reason Yongqiang mentioned. &lt;/p&gt;

&lt;p&gt;I&apos;m running unit tests.&lt;/p&gt;</comment>
                            <comment id="12973750" author="nzhang" created="Tue, 21 Dec 2010 16:45:54 +0000"  >&lt;p&gt;Uploading &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1852&quot; title=&quot;Reduce unnecessary DFSClient.rename() calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1852&quot;&gt;&lt;del&gt;HIVE-1852&lt;/del&gt;&lt;/a&gt;.5.patch containing a simple log fix in load_overwrite.q.&lt;/p&gt;</comment>
                            <comment id="12973883" author="jsensarma" created="Tue, 21 Dec 2010 20:54:36 +0000"  >&lt;p&gt;Hive..java:1564 - this should read fs.rename(srcs&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;) (since srcf may have been a wildcard that matched a single dir)&lt;br/&gt;
Hive.java:1574 - we can optimize this loop i think. if the wildcard does not match a single directory - then it has to match a set of files. the loadsemantic analyzer already enforces this. so we don&apos;t need a second listStatus and loop over the entries here. can directly move each of the srcs into destf/srcs.getName&lt;/p&gt;

&lt;p&gt;we have lost the atomic move for the wildcard case. i think it&apos;s ok (it&apos;s not used much i would imagine) - at least leave a note/todo saying that this would be nice to have atomic.&lt;/p&gt;

&lt;p&gt;new tests look pretty good to me - the load/move case with wildcards is getting covered. we could add one where the load path is a wildcard that matches a single dir to cover the first comment here.&lt;/p&gt;</comment>
                            <comment id="12973983" author="nzhang" created="Tue, 21 Dec 2010 23:44:25 +0000"  >&lt;p&gt;Take Joy&apos;s comments. Also added one more test case for wildcard matching a single directory name (load_fs.q).&lt;/p&gt;</comment>
                            <comment id="12974425" author="jsensarma" created="Wed, 22 Dec 2010 22:46:27 +0000"  >&lt;p&gt;committed. thanks Ning.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12466362" name="HIVE-1852.2.patch" size="8360" author="nzhang" created="Thu, 16 Dec 2010 02:11:07 +0000"/>
                            <attachment id="12466445" name="HIVE-1852.3.patch" size="20517" author="nzhang" created="Fri, 17 Dec 2010 05:41:12 +0000"/>
                            <attachment id="12466694" name="HIVE-1852.4.patch" size="31340" author="nzhang" created="Tue, 21 Dec 2010 09:57:35 +0000"/>
                            <attachment id="12466729" name="HIVE-1852.5.patch" size="28495" author="nzhang" created="Tue, 21 Dec 2010 16:45:54 +0000"/>
                            <attachment id="12466778" name="HIVE-1852.6.patch" size="29903" author="nzhang" created="Tue, 21 Dec 2010 23:44:25 +0000"/>
                            <attachment id="12466353" name="HIVE-1852.patch" size="882" author="nzhang" created="Wed, 15 Dec 2010 23:41:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Dec 2010 23:57:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72662</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123451</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1853] downgrade JDO version</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1853</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1609&quot; title=&quot;Support partition filtering in metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1609&quot;&gt;&lt;del&gt;HIVE-1609&lt;/del&gt;&lt;/a&gt;, we are seeing some table not found errors intermittently.&lt;br/&gt;
We have a test case where 5 processes are concurrently issueing the same query - &lt;br/&gt;
explain extended insert .. select from &amp;lt;T&amp;gt;&lt;/p&gt;

&lt;p&gt;and once in a while, we get a error &amp;lt;T&amp;gt; not found - &lt;br/&gt;
When we revert back the JDO version, the error is gone.&lt;/p&gt;

&lt;p&gt;We can investigate later to find the JDO bug, but for now this is a show-stopper for facebook, and needs&lt;br/&gt;
to be reverted back immediately.&lt;/p&gt;

&lt;p&gt;This also means, that the filters will not be pushed to mysql.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12493399">HIVE-1853</key>
            <summary>downgrade JDO version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Dec 2010 06:38:36 +0000</created>
                <updated>Thu, 2 May 2013 02:30:53 +0000</updated>
                            <resolved>Thu, 16 Dec 2010 21:46:41 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12972191" author="jvs" created="Thu, 16 Dec 2010 19:55:59 +0000"  >&lt;p&gt;This user report has similar symptoms:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hive-user/201011.mbox/%3CAANLkTik6M1juxvx0Lerre-cNN5QnFwi6_4AY0pQ6zB42@mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hive-user/201011.mbox/%3CAANLkTik6M1juxvx0Lerre-cNN5QnFwi6_4AY0pQ6zB42@mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12972192" author="namit" created="Thu, 16 Dec 2010 20:01:06 +0000"  >&lt;p&gt;Can you regenerate the patch ?&lt;br/&gt;
It is not applying cleanly.&lt;/p&gt;</comment>
                            <comment id="12972193" author="pauly" created="Thu, 16 Dec 2010 20:04:48 +0000"  >&lt;p&gt;Regenerated&lt;/p&gt;</comment>
                            <comment id="12972198" author="namit" created="Thu, 16 Dec 2010 20:24:14 +0000"  >&lt;p&gt;+1&lt;/p&gt;


&lt;p&gt;Running tests&lt;/p&gt;</comment>
                            <comment id="12972217" author="ashutoshc" created="Thu, 16 Dec 2010 21:37:17 +0000"  >&lt;p&gt;Paul,&lt;/p&gt;

&lt;p&gt;Skimmed though the patch. It undo the changes you introduced in get_partition_ps() in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1660&quot; title=&quot;Change get_partitions_ps to pass partition filter to database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1660&quot;&gt;&lt;del&gt;HIVE-1660&lt;/del&gt;&lt;/a&gt; but most of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1609&quot; title=&quot;Support partition filtering in metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1609&quot;&gt;&lt;del&gt;HIVE-1609&lt;/del&gt;&lt;/a&gt; still lives on ? Is that correct? I think that will work fine as then Hive will not be pushing partition pruning to metastore and will avoid the problems as currently being experienced, but api will be there in metastore for others who want to play with it.  &lt;/p&gt;</comment>
                            <comment id="12972223" author="namit" created="Thu, 16 Dec 2010 21:46:41 +0000"  >&lt;p&gt;Committed. Thanks Paul&lt;/p&gt;</comment>
                            <comment id="12972230" author="pauly" created="Thu, 16 Dec 2010 21:56:53 +0000"  >&lt;p&gt;Actually, I made the listPartitionsByFilter() throw a runtime exception until this issue is resolved because the feature is supposed to require a newer version of JDOQL to function properly, as stated in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1609&quot; title=&quot;Support partition filtering in metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1609&quot;&gt;&lt;del&gt;HIVE-1609&lt;/del&gt;&lt;/a&gt;. I&apos;ll confirm this again with Ajay.&lt;/p&gt;</comment>
                            <comment id="12972238" author="ashutoshc" created="Thu, 16 Dec 2010 22:06:39 +0000"  >&lt;p&gt;That will disable the feature on metastore itself. I was hoping just undoing the changes of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1660&quot; title=&quot;Change get_partitions_ps to pass partition filter to database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1660&quot;&gt;&lt;del&gt;HIVE-1660&lt;/del&gt;&lt;/a&gt; will revert back Hive to old behavior where QL was doing the pruning and thus will solve the problem you guys are seeing now. That way we could have left partition pruning in metastore to play with and try to fix the real bug.&lt;/p&gt;</comment>
                            <comment id="12972252" author="namit" created="Thu, 16 Dec 2010 22:31:59 +0000"  >&lt;p&gt;This was creating a big problem for us - so, we needed to fix it asap.&lt;/p&gt;

&lt;p&gt;Now, we can think of more options.&lt;/p&gt;</comment>
                            <comment id="12972262" author="pauly" created="Thu, 16 Dec 2010 22:43:04 +0000"  >&lt;p&gt;The bug is that get_table (and likely get_partition) returns null even though the object clearly exists. This is without any pruning or filtering.&lt;/p&gt;

&lt;p&gt;Since the bug is within the newer version JDO/datanucleus, and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1609&quot; title=&quot;Support partition filtering in metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1609&quot;&gt;&lt;del&gt;HIVE-1609&lt;/del&gt;&lt;/a&gt; (listPartitionsByFilter) depends on the newer version, it wouldn&apos;t have worked with the JDO downgrade.&lt;/p&gt;

&lt;p&gt;This patch undoes &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1660&quot; title=&quot;Change get_partitions_ps to pass partition filter to database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1660&quot;&gt;&lt;del&gt;HIVE-1660&lt;/del&gt;&lt;/a&gt;, reverts JDO back to the older version, and disables listPartitionsByFilter().&lt;/p&gt;</comment>
                            <comment id="12972265" author="ashutoshc" created="Thu, 16 Dec 2010 22:45:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;This was creating a big problem for us - so, we needed to fix it asap. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Unfortunately, this will cause a big problem for us  : ( We were pushing filters from Pig to Metastore (in Howl) all those pig scripts will now break.&lt;/p&gt;</comment>
                            <comment id="12972273" author="pauly" created="Thu, 16 Dec 2010 22:54:24 +0000"  >&lt;p&gt;This bug should affect you guys as well - you haven&apos;t been seeing occasionally missing tables when you issue metastore queries?&lt;/p&gt;</comment>
                            <comment id="12972276" author="namit" created="Thu, 16 Dec 2010 22:55:30 +0000"  >&lt;p&gt;Also, is there some other more stable version of JDO which does not have this problem ?&lt;/p&gt;</comment>
                            <comment id="12972280" author="namit" created="Thu, 16 Dec 2010 23:13:10 +0000"  >&lt;p&gt;Ashutosh, what is your timeline ?&lt;/p&gt;

&lt;p&gt;Right now, we dont have the infra-structure in place to pick some patches and ignore others.&lt;br/&gt;
We pick all the patches from the open source to our internal tree.&lt;/p&gt;

&lt;p&gt;For the time it will take us to develop this, can you live with the current trunk &lt;br/&gt;
(lower JDO) ?&lt;/p&gt;</comment>
                            <comment id="12972305" author="ashutoshc" created="Fri, 17 Dec 2010 00:17:40 +0000"  >&lt;p&gt;We are still evaluating its impact on us and looking if there is any straight fwd fix which exists for us. I will have more details later.&lt;/p&gt;</comment>
                            <comment id="12972327" author="ashutoshc" created="Fri, 17 Dec 2010 01:10:56 +0000"  >&lt;p&gt;Was doing some testing for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1696&quot; title=&quot;Add delegation token support to metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1696&quot;&gt;&lt;del&gt;HIVE-1696&lt;/del&gt;&lt;/a&gt; test cases now fail with&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &amp;lt;error message=&lt;span class=&quot;code-quote&quot;&gt;&quot;listMPartitionsByFilter is not supported due to a JDO library downgrade&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.lang.RuntimeException&quot;&lt;/span&gt;&amp;gt;java.lang.RuntimeException: listMPartitionsByFilter is not supported due to a JDO library downgrade
        at org.apache.hadoop.hive.metastore.ObjectStore.listMPartitionsByFilter(ObjectStore.java:1025)
        at org.apache.hadoop.hive.metastore.ObjectStore.getPartitionsByFilter(ObjectStore.java:972)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler$36.run(HiveMetaStore.java:2126)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler$36.run(HiveMetaStore.java:2123)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.executeWithRetry(HiveMetaStore.java:240)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.get_partitions_by_filter(HiveMetaStore.java:2123)
        at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.listPartitionsByFilter(HiveMetaStoreClient.java:589)
        at org.apache.hadoop.hive.metastore.TestHiveMetaStore.checkFilter(TestHiveMetaStore.java:1147)
        at org.apache.hadoop.hive.metastore.TestHiveMetaStore.testPartitionFilter(TestHiveMetaStore.java:1065)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;May be for time being (until underlying issue is fixed) we shall also disable the failing tests so that trunk is buildable with passing all tests.&lt;/p&gt;</comment>
                            <comment id="12972669" author="jvs" created="Fri, 17 Dec 2010 22:22:07 +0000"  >&lt;p&gt;Yeah, Hudson agrees with Ashutosh:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://hudson.apache.org/hudson/job/Hive-trunk-h0.20/445/testReport/junit/org.apache.hadoop.hive.metastore/TestEmbeddedHiveMetaStore/testPartitionFilter/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/Hive-trunk-h0.20/445/testReport/junit/org.apache.hadoop.hive.metastore/TestEmbeddedHiveMetaStore/testPartitionFilter/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12973122" author="ashutoshc" created="Mon, 20 Dec 2010 06:58:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;We have a test case where 5 processes are concurrently issueing the same query -  explain extended insert .. select from &amp;lt;T&amp;gt;and once in a while, we get a error &amp;lt;T&amp;gt; not found - When we revert back the JDO version, the error is gone.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Namit,&lt;/p&gt;

&lt;p&gt;Will it be possible to post the testcase which shows this problem?&lt;/p&gt;</comment>
                            <comment id="12973847" author="namit" created="Tue, 21 Dec 2010 19:46:14 +0000"  >&lt;p&gt;Unfortunately, the query that I was running used some production tables.&lt;br/&gt;
I will try to reproduce the query with some non-production tables.&lt;/p&gt;</comment>
                            <comment id="13236476" author="andy" created="Fri, 23 Mar 2012 09:26:03 +0000"  >&lt;p&gt;&amp;gt; Since the bug is within the newer version JDO/datanucleus&lt;/p&gt;

&lt;p&gt;Why not reference what this bug was in DataNucleus JIRA ? that way someone at that side can understand what this refers to. Or maybe it was never reported to DataNucleus?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12471563">HIVE-1539</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12493928">HIVE-1862</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12472999">HIVE-1609</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12466400" name="HIVE-1853.1.patch" size="9859" author="pauly" created="Thu, 16 Dec 2010 19:44:00 +0000"/>
                            <attachment id="12466401" name="HIVE-1853.2.patch" size="9842" author="pauly" created="Thu, 16 Dec 2010 20:04:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Dec 2010 19:55:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36778</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1854] Temporarily disable metastore tests for listPartitionsByFilter()</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1854</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;After the JDO downgrade in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1853&quot; title=&quot;downgrade JDO version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1853&quot;&gt;&lt;del&gt;HIVE-1853&lt;/del&gt;&lt;/a&gt;, the tests for the disabled function listPartitionByFilter() should be disabled as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12493624">HIVE-1854</key>
            <summary>Temporarily disable metastore tests for listPartitionsByFilter()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="pauly">Paul Yang</reporter>
                        <labels>
                    </labels>
                <created>Sun, 19 Dec 2010 06:53:33 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:23 +0000</updated>
                            <resolved>Mon, 20 Dec 2010 19:31:44 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12973102" author="namit" created="Mon, 20 Dec 2010 06:27:48 +0000"  >&lt;p&gt;The test is still failing&lt;/p&gt;</comment>
                            <comment id="12973322" author="namit" created="Mon, 20 Dec 2010 19:29:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;
</comment>
                            <comment id="12973324" author="namit" created="Mon, 20 Dec 2010 19:31:44 +0000"  >&lt;p&gt;Committed. Thanks Paul&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12466563" name="HIVE-1854.1.patch" size="7012" author="pauly" created="Sun, 19 Dec 2010 07:12:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Dec 2010 06:27:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72661</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123453</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1855] Include Process ID in the log4j log file name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1855</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive client side always log into /tmp/${user.name}/hive.log. If there are multipel CLI running on the same host, logging could be stopped or if it is not it&apos;s difficult to distinguish messages between them. It would be easier for debugging if different CLI output to different log files. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12493703">HIVE-1855</key>
            <summary>Include Process ID in the log4j log file name</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Dec 2010 20:51:16 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:17 +0000</updated>
                            <resolved>Tue, 21 Dec 2010 01:58:46 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12973383" author="namit" created="Mon, 20 Dec 2010 22:18:07 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12973445" author="namit" created="Tue, 21 Dec 2010 01:58:45 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12466658" name="HIVE-1855.patch" size="3212" author="nzhang" created="Mon, 20 Dec 2010 20:51:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Dec 2010 22:18:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123454</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1856] Implement DROP TABLE/VIEW ... IF EXISTS </title>
                <link>https://issues.apache.org/jira/browse/HIVE-1856</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This issue combines issues &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1550&quot; title=&quot;Implement DROP VIEW IF EXISTS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1550&quot;&gt;&lt;del&gt;HIVE-1550&lt;/del&gt;&lt;/a&gt;/1165/1542/1551:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;augment DROP TABLE/VIEW with IF EXISTS&lt;/li&gt;
	&lt;li&gt;signal an error if the table/view doesn&apos;t exist and IF EXISTS wasn&apos;t specified&lt;/li&gt;
	&lt;li&gt;introduce a flag in the configuration that allows you to turn off the new behavior&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12493708">HIVE-1856</key>
            <summary>Implement DROP TABLE/VIEW ... IF EXISTS </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marcelk">Marcel Kornacker</assignee>
                                    <reporter username="marcelk">Marcel Kornacker</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Dec 2010 22:19:59 +0000</created>
                <updated>Tue, 17 Feb 2015 18:04:43 +0000</updated>
                            <resolved>Tue, 21 Dec 2010 23:19:45 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12973417" author="jvs" created="Mon, 20 Dec 2010 23:44:33 +0000"  >&lt;p&gt;Review comments in&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/188/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/188/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Note that there are also DROP commands for databases, indexes, partitions, and temporary functions.  This config property should cover those too, so we should either address those as well in this patch, or open a followup JIRA.&lt;/p&gt;</comment>
                            <comment id="12973809" author="jvs" created="Tue, 21 Dec 2010 18:35:13 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;

&lt;p&gt;Note for next time:  for patch updates, our convention is to number them like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1856&quot; title=&quot;Implement DROP TABLE/VIEW ... IF EXISTS &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1856&quot;&gt;&lt;del&gt;HIVE-1856&lt;/del&gt;&lt;/a&gt;.1.patch, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1856&quot; title=&quot;Implement DROP TABLE/VIEW ... IF EXISTS &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1856&quot;&gt;&lt;del&gt;HIVE-1856&lt;/del&gt;&lt;/a&gt;.2.patch, etc.  And then click the &quot;Submit Patch&quot; button again when a new one is uploaded; this makes sure it gets back into the review queue.&lt;/p&gt;</comment>
                            <comment id="12973971" author="jvs" created="Tue, 21 Dec 2010 23:19:45 +0000"  >&lt;p&gt;Committed.  Thanks Marcel!&lt;/p&gt;</comment>
                            <comment id="12973998" author="hammer" created="Wed, 22 Dec 2010 00:32:28 +0000"  >&lt;p&gt;John: added your comments about patch updates to &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/HowToContribute#Updating_a_patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/HowToContribute#Updating_a_patch&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12493725">HIVE-1858</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12471833">HIVE-1550</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12471722">HIVE-1542</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12471836">HIVE-1551</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12471833">HIVE-1550</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12456202">HIVE-1165</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12703684">HIVE-6754</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12466679" name="hive-1856.patch" size="8709" author="marcelk" created="Tue, 21 Dec 2010 03:37:13 +0000"/>
                            <attachment id="12466664" name="hive-1856.patch" size="8682" author="marcelk" created="Mon, 20 Dec 2010 22:23:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Dec 2010 23:44:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123455</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Backwards-compatible DROP behavior is controlled via new configuration parameter hive.exec.drop.ignorenonexistent</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1857] mixed case tablename on lefthand side of LATERAL VIEW results in query failing with confusing error message</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1857</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For the modified query below in lateral_view.q, the exception &quot;org.apache.hadoop.hive.ql.parse.SemanticException: line 3:7 Invalid Table Alias or Column Reference myCol&quot; is thrown.  The query should succeed.&lt;/p&gt;

&lt;p&gt;SELECT myCol from tmp_PYANG_lv LATERAL VIEW explode(array(1,2,3)) myTab as myCol limit 3;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12493712">HIVE-1857</key>
            <summary>mixed case tablename on lefthand side of LATERAL VIEW results in query failing with confusing error message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Dec 2010 22:55:14 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:52 +0000</updated>
                            <resolved>Tue, 21 Dec 2010 04:45:46 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12973398" author="jvs" created="Mon, 20 Dec 2010 22:56:34 +0000"  >&lt;p&gt;Fix is in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1857&quot; title=&quot;mixed case tablename on lefthand side of LATERAL VIEW results in query failing with confusing error message&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1857&quot;&gt;&lt;del&gt;HIVE-1857&lt;/del&gt;&lt;/a&gt;.1.patch.&lt;/p&gt;</comment>
                            <comment id="12973400" author="pauly" created="Mon, 20 Dec 2010 23:00:01 +0000"  >&lt;p&gt;Taking a look..&lt;/p&gt;</comment>
                            <comment id="12973406" author="pauly" created="Mon, 20 Dec 2010 23:17:30 +0000"  >&lt;p&gt;+1 I&apos;ll commit after testing.&lt;/p&gt;</comment>
                            <comment id="12973469" author="pauly" created="Tue, 21 Dec 2010 04:45:46 +0000"  >&lt;p&gt;Committed. Thanks John!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12466666" name="HIVE-1857.1.patch" size="17511" author="jvs" created="Mon, 20 Dec 2010 22:56:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Dec 2010 23:00:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72659</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lhbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
