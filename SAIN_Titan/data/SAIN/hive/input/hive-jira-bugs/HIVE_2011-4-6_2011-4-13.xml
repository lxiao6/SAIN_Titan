<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:17:57 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2011-4-6+AND+created+%3C%3D+2011-4-13+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="16" total="16"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2096] throw a error if the input is larger than a threshold for index input format</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2096</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This can hang for ever.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503478">HIVE-2096</key>
            <summary>throw a error if the input is larger than a threshold for index input format</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="boteku">Wojciech Galuba</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Apr 2011 00:07:36 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:05 +0000</updated>
                            <resolved>Fri, 20 May 2011 17:33:24 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Diagnosability</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13031379" author="boteku" created="Tue, 10 May 2011 21:03:17 +0000"  >&lt;p&gt;Added two options:&lt;br/&gt;
hive.index.compact.query.max.bytes - the maximum number of bytes that a query using the compact index can read&lt;br/&gt;
hive.index.compact.query.max.entries - the maximum number of entries to read from the index file during a query&lt;/p&gt;

&lt;p&gt;If any of these thresholds are exceeded then an exception is thrown.&lt;/p&gt;</comment>
                            <comment id="13031488" author="boteku" created="Wed, 11 May 2011 00:38:04 +0000"  >&lt;p&gt;We could set a reasonably high default hive.index.compact.query.max.entries=1000000 to prevent users from accidentally shooting themselves in the foot. For now the default is Long.MAX_VALUE. &lt;/p&gt;</comment>
                            <comment id="13031490" author="he yongqiang" created="Wed, 11 May 2011 00:49:38 +0000"  >&lt;p&gt;The patch looks good to me. Can you put the new confs in HiveConf, and use HiveConf to get the value. And also please add these 2 new confs in hive-default.xml.&lt;/p&gt;

&lt;p&gt;Yeah, please set hive.index.compact.query.max.entries to a very high number, like 10000000. Let&apos;s set the default file size to a 10GB by default.&lt;/p&gt;</comment>
                            <comment id="13031578" author="namit" created="Wed, 11 May 2011 07:17:30 +0000"  >&lt;p&gt;Also, add the new parameters in the subject of the jira - this helps &lt;br/&gt;
in searching for these parameters in future.&lt;/p&gt;</comment>
                            <comment id="13032523" author="boteku" created="Thu, 12 May 2011 17:23:14 +0000"  >&lt;p&gt;Adds the two options to HiveConf and hive-default.xml. Negative unit tests now work correctly.&lt;/p&gt;</comment>
                            <comment id="13032525" author="boteku" created="Thu, 12 May 2011 17:24:29 +0000"  >&lt;p&gt;I&apos;ve added the two options hive.index.compact.query.max.size and hive.index.compact.query.max.entries to HiveConf and hive-default.xml. Fixed the negative unit tests for this feature.&lt;/p&gt;</comment>
                            <comment id="13033475" author="he yongqiang" created="Sat, 14 May 2011 06:24:57 +0000"  >&lt;p&gt;the patch looks good to me, will commit after tests pass.&lt;/p&gt;</comment>
                            <comment id="13033476" author="he yongqiang" created="Sat, 14 May 2011 06:26:09 +0000"  >&lt;p&gt;Wojciech, can you upload a svn diff?&lt;/p&gt;</comment>
                            <comment id="13034528" author="boteku" created="Tue, 17 May 2011 03:35:38 +0000"  >&lt;p&gt;The patch is now from svn diff.&lt;/p&gt;</comment>
                            <comment id="13034548" author="boteku" created="Tue, 17 May 2011 04:36:25 +0000"  >&lt;p&gt;Another SVN diff, now with all the files.&lt;/p&gt;</comment>
                            <comment id="13035965" author="he yongqiang" created="Thu, 19 May 2011 03:19:36 +0000"  >&lt;p&gt;will commit after tests pass.&lt;/p&gt;</comment>
                            <comment id="13036944" author="he yongqiang" created="Fri, 20 May 2011 17:33:24 +0000"  >&lt;p&gt;Committed! Thanks Wojciech! &lt;br/&gt;
(still trying to figure out how to assign this task to Wojciech &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</comment>
                            <comment id="13037439" author="hudson" created="Sat, 21 May 2011 19:36:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #742 (See &lt;a href=&quot;https://builds.apache.org/hudson/job/Hive-trunk-h0.21/742/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/hudson/job/Hive-trunk-h0.21/742/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12478733" name="HIVE-2096.1.patch.txt" size="11991" author="boteku" created="Tue, 10 May 2011 21:05:07 +0000"/>
                            <attachment id="12478993" name="HIVE-2096.2.patch.txt" size="13766" author="boteku" created="Thu, 12 May 2011 17:23:14 +0000"/>
                            <attachment id="12479430" name="HIVE-2096.3.patch.txt" size="6474" author="boteku" created="Tue, 17 May 2011 03:36:21 +0000"/>
                            <attachment id="12479432" name="HIVE-2096.4.patch.txt" size="13562" author="boteku" created="Tue, 17 May 2011 04:36:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 May 2011 21:03:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lien:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2097] Explore mechanisms for better compression with RC Files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2097</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Optimization of the compression mechanisms used by RC File to be explored.&lt;/p&gt;

&lt;p&gt;Some initial ideas&lt;/p&gt;

&lt;p&gt;1. More efficient serialization/deserialization based on type-specific and storage-specific knowledge.&lt;/p&gt;

&lt;p&gt;   For instance, storing sorted numeric values efficiently using some delta coding techniques&lt;/p&gt;

&lt;p&gt;2. More efficient compression based on type-specific and storage-specific knowledge&lt;/p&gt;

&lt;p&gt;   Enable compression codecs to be specified based on types or individual columns&lt;/p&gt;

&lt;p&gt;3. Reordering the on-disk storage for better compression efficiency.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503539">HIVE-2097</key>
            <summary>Explore mechanisms for better compression with RC Files</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="n_krishna_kumar">Krishna Kumar</assignee>
                                    <reporter username="n_krishna_kumar">Krishna Kumar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Apr 2011 17:26:38 +0000</created>
                <updated>Tue, 14 Aug 2012 06:00:01 +0000</updated>
                                                                            <component>Query Processor</component>
                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                                                            <comments>
                            <comment id="13016451" author="n_krishna_kumar" created="Wed, 6 Apr 2011 17:28:01 +0000"  >&lt;p&gt;Comment hijacked from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2065&quot; title=&quot;RCFile issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2065&quot;&gt;HIVE-2065&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;He Yongqiang added a comment - 31/Mar/11 23:13&lt;/p&gt;

&lt;p&gt;we examined column groups, and sort the data internally based on one column in one column group. (But we did not try different compressions across column groups.) Tried this with 3-4 tables, and we see ~20% storage savings on one table compared the previous RCFile. The main problems for this approach is that it is hard to find out the correct/most efficient column group definitions.&lt;br/&gt;
One example, table tbl_1 has 20 columns, and user can define:&lt;/p&gt;

&lt;p&gt;col_1,col_2,col_11,col_13:0;col_3,col_4,col_15,col_16:1;&lt;/p&gt;

&lt;p&gt;This will put col_1, col_2,col_11, col_13 into one column group, and reorder that column group based on sorting col_1 (0 is the first column in this column group), and put col_3, col_4, col_15,col_16 into another column group, and reorder this column group based on sorting col_4, and finally put all other columns into the default column group with original order.&lt;br/&gt;
And should be easy to allow different compression codec for different column groups.&lt;/p&gt;

&lt;p&gt;The main block issue for this approach is have a full set of utils to find out the best column group definition.&lt;/p&gt;
</comment>
                            <comment id="13157705" author="gemini5201314" created="Sun, 27 Nov 2011 08:55:58 +0000"  >&lt;p&gt;a few suggestion:&lt;br/&gt;
In columnar database,they always organize column order in the &quot;high selectivity come first&quot; way,then In each column,they store each value in sorted way.&lt;br/&gt;
case 1:if we already know the pattern of each column in big datasets,for example we can calculated in database to get a sample column distribution.we need to know the distinct value of each column value.in create database statement &lt;br/&gt;
create table a&lt;br/&gt;
(col1,col2,col3,col4,col5,col6,xxx)&lt;br/&gt;
TBLPROPERTIES (col1_sample=0.001,col2_sample_0.01,col3_sample=0.5,col4_sample=0.02,col5_sample=0.002,col6_sample=0.005)&lt;br/&gt;
when we organize column group,we know which column is most high selectivity.in this example,the selectivity order of table a is : col3&amp;gt;col4&amp;gt;col2&amp;gt;col6&amp;gt;col5&amp;gt;col1 ,so we can organize column group like (col3,col4,col2),(col6,col5),col1&lt;br/&gt;
case 2:if we didn&apos;t know the table properties when we create table.we can just store them like normally,then provide a utility like hive --service rcfile_reorder &apos;some_hive_table_here&apos;, when execute this command,submit several mapreduce job to calculate the selectivity of each column and store them in metastore.then decompression each rcfile to reorganized them in a more space efficience column group.&lt;br/&gt;
hope this help.&lt;/p&gt;</comment>
                            <comment id="13158484" author="n_krishna_kumar" created="Mon, 28 Nov 2011 14:55:14 +0000"  >&lt;p&gt;Thanks Alex for the suggestions.&lt;/p&gt;

&lt;p&gt;Just to be sure we are on the same page, I believe you are talking about #3 approach above given in the description which aligns with the ideas in the comment from He Yongqiang. I have been working on implementing #1 and #2 currently.&lt;/p&gt;

&lt;p&gt;Re #3 approaches, column grouping and row reordering are the general idea, but I do not understand your point re column selectivity. Why should selectivity play a role here where any grouping/reordering is done for better compression? There are two effects which we can exploit for better compression within column grouping (a) when the values in the two columns are similar and (b) where the values are correlated, that is, using conditional probabilities for better compression. In either case, my hope was that we would be able to create type-specific compressors for structs/maps etc which can exploit these features, i.e., a struct/map acts as a column group for compression purposes.&lt;/p&gt;
</comment>
                            <comment id="13160687" author="gemini5201314" created="Thu, 1 Dec 2011 06:47:47 +0000"  >&lt;p&gt;selectivity play an important role in columnar database is because they use run-length encoding compression to compress most dimension-attribute column,for example,we have a log table:create table (gender,age,region,message),we know that the selectivity order is :gender=1/2 &amp;gt; age= 1/20  &amp;gt;1/300, we can order table column like #1(gender,age,region,message) or #2(region,age,gender,message). for #1,we only need (2 + 2*20 + 2*20*300 +num_of_message) to store all the record in one dfs block, but if we organized table like #2,we will need (300 + 300*20 + 300*20*2 + num_of_message),discard num_of_message,the #1 is only take 66% of space #2 required,only difference is because run-length encoding will take more efficiently space when we organize table base on selectivity.&lt;/p&gt;</comment>
                            <comment id="13160726" author="gemini5201314" created="Thu, 1 Dec 2011 08:28:35 +0000"  >&lt;p&gt;another issue is about efficient serialization/deserialization,for the same example above,assume every gender,age,region have 100 message equally store in one dfs block,in gender column we store value like this:&lt;/p&gt;
{&apos;male&apos;}
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1-60k&amp;#93;&lt;/span&gt;&lt;/p&gt;
{&apos;female&apos;}
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;60k+1 - 120k&amp;#93;&lt;/span&gt;,age column look like this:&lt;/p&gt;
{21}
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1-3k&amp;#93;&lt;/span&gt;&lt;/p&gt;
{22}
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;3k+1 - 6k&amp;#93;&lt;/span&gt;&lt;/p&gt;
{23}
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;6k+1 - 9k&amp;#93;&lt;/span&gt;,and region column is like:&lt;/p&gt;
{&apos;LA&apos;}&lt;span class=&quot;error&quot;&gt;&amp;#91;1-300&amp;#93;&lt;/span&gt;{&apos;NY&apos;}&lt;span class=&quot;error&quot;&gt;&amp;#91;301-600&amp;#93;&lt;/span&gt;.&lt;br/&gt;
When we issue a query on a single table like :select sum(age) from logs where region=&apos;LA&apos; and age=30,we count every column represented at &apos;select,where,group&apos; clause,so we know the last column means lowest selectivity(in this example is region),we find the region value={&apos;LA&apos;}
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;(1-300),(30k+1 - 30k+300),(60k+1 -60k+300)....&amp;#93;&lt;/span&gt; and &apos;NY&apos; value=&lt;/p&gt;
{&apos;NY&apos;}
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;(301-600),(30k+301 - 30k+600),(60k+301 -60k+600)....&amp;#93;&lt;/span&gt; &lt;br/&gt;
we just need to deserialization it but don&apos;t need to decompression it because we know the lowest selectivity column,then we organize inputSplit&apos;s key like &lt;/p&gt;
{[age=&apos;21&apos;][region=&apos;LA&apos;]}
&lt;p&gt; and value is &lt;/p&gt;
{(1-300),(30k+1 - 30k+300),(60k+1 -60k+300)....}
&lt;p&gt;,this inputSplit key and value is unique per dfs block because we already sort column by selectivity,the lowest selectivity column presented at (select,where,group) must be unique. &lt;/p&gt;</comment>
                            <comment id="13160734" author="gemini5201314" created="Thu, 1 Dec 2011 08:35:18 +0000"  >&lt;p&gt;I&apos;m not quit sure I explain the columnar database execution strategy clearly,I hope the following material will help:&lt;br/&gt;
#1 &lt;a href=&quot;http://www.infoq.com/news/2011/09/nosqlnow-columnar-databases&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.infoq.com/news/2011/09/nosqlnow-columnar-databases&lt;/a&gt;&lt;br/&gt;
#2 &lt;a href=&quot;http://www.oscon.com/oscon2010/public/schedule/detail/15561&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.oscon.com/oscon2010/public/schedule/detail/15561&lt;/a&gt;&lt;br/&gt;
#3 &lt;a href=&quot;http://www.vertica.com/2010/05/26/why-verticas-compression-is-better/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.vertica.com/2010/05/26/why-verticas-compression-is-better/&lt;/a&gt;&lt;br/&gt;
#4 &lt;a href=&quot;http://www.vertica.com/2011/09/01/the-power-of-projections-part-1/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.vertica.com/2011/09/01/the-power-of-projections-part-1/&lt;/a&gt;&lt;br/&gt;
Good luck. &lt;/p&gt;</comment>
                            <comment id="13274499" author="n_krishna_kumar" created="Mon, 14 May 2012 08:01:09 +0000"  >&lt;p&gt;unrefactored source for all the implemented compression codecs&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12417027">HIVE-352</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12526726" name="datacomp.tar.gz" size="23225" author="n_krishna_kumar" created="Mon, 14 May 2012 08:01:08 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12532112">HIVE-2600</subtask>
                            <subtask id="12532504">HIVE-2604</subtask>
                            <subtask id="12533847">HIVE-2623</subtask>
                            <subtask id="12537281">HIVE-2692</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 27 Nov 2011 08:55:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08oxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2098] Make couple of convenience methods in EximUtil public</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2098</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;readMetaData() and createExportDump() to be public&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503643">HIVE-2098</key>
            <summary>Make couple of convenience methods in EximUtil public</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="n_krishna_kumar">Krishna Kumar</assignee>
                                    <reporter username="n_krishna_kumar">Krishna Kumar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Apr 2011 15:06:43 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:38 +0000</updated>
                            <resolved>Wed, 13 Apr 2011 09:28:20 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13016868" author="n_krishna_kumar" created="Thu, 7 Apr 2011 15:11:57 +0000"  >&lt;p&gt;Couple of methods made public for use outside of the package.&lt;/p&gt;</comment>
                            <comment id="13019261" author="amareshwari" created="Wed, 13 Apr 2011 09:28:20 +0000"  >&lt;p&gt;I just committed this. Thanks Krishna!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12475712" name="HIVE.2098.patch.0.txt" size="1157" author="n_krishna_kumar" created="Thu, 7 Apr 2011 15:11:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Apr 2011 09:28:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72558</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0liev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123633</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2099] GROUP BY rules not applied correctly for select *</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2099</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This fails as expected:&lt;/p&gt;

&lt;p&gt;select foo, bar from pokes group by foo;&lt;/p&gt;

&lt;p&gt;This succeeds, which is incorrect:&lt;/p&gt;

&lt;p&gt;select * from pokes group by foo;&lt;/p&gt;

&lt;p&gt;I verified this as far back as 0.6, so maybe it has always been this way.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503673">HIVE-2099</key>
            <summary>GROUP BY rules not applied correctly for select *</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Apr 2011 20:01:55 +0000</created>
                <updated>Mon, 22 Aug 2016 18:17:26 +0000</updated>
                            <resolved>Mon, 22 Aug 2016 18:17:26 +0000</resolved>
                                    <version>0.6.0</version>
                    <version>0.7.0</version>
                    <version>0.8.0</version>
                    <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13155885" author="chinnalalam" created="Wed, 23 Nov 2011 14:07:29 +0000"  >&lt;p&gt;Select * case provided group by validation like select columns list is subset or equal to the group by columns list. If it violates this validation will throw exception.&lt;/p&gt;</comment>
                            <comment id="13155886" author="jiraposter@reviews.apache.org" created="Wed, 23 Nov 2011 14:07:39 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2922/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2922/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and John Sichi.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Select * case provided group by validation like select columns list is subset or equal to the group by columns list. If it violates this validation will throw exception.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2099&quot; title=&quot;GROUP BY rules not applied correctly for select *&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2099&quot;&gt;&lt;del&gt;HIVE-2099&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2099&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2099&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1203044 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/groupby_select_all.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/groupby_select_all_alias.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/groupby_select_all_join.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/groupby_select_all_subquery.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/groupby_select_all_subquery_unionall.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/groupby_select_all.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/groupby_select_all.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/groupby_select_all_alias.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/groupby_select_all_join.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/groupby_select_all_subquery.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/groupby_select_all_subquery_unionall.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/groupby_select_all.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2922/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2922/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;All unit tests passed and added new testcases&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13159043" author="jiraposter@reviews.apache.org" created="Tue, 29 Nov 2011 02:13:40 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2922/#review3550&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2922/#review3550&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2922/#comment7911&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2922/#comment7911&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Rather than adding special-case code to handle this, wouldn&apos;t it be better to make genColListRegex call genExprNodeDesc (which is what normally detects the error)?  This would avoid extra code, and would also make this apply to the other regex cases.&lt;/p&gt;



&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;John&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-11-23 14:06:54, chinna wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2922/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2922/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-11-23 14:06:54)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and John Sichi.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Select * case provided group by validation like select columns list is subset or equal to the group by columns list. If it violates this validation will throw exception.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2099&quot; title=&quot;GROUP BY rules not applied correctly for select *&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2099&quot;&gt;&lt;del&gt;HIVE-2099&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2099&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2099&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1203044 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/groupby_select_all.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/groupby_select_all_alias.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/groupby_select_all_join.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/groupby_select_all_subquery.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/groupby_select_all_subquery_unionall.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/groupby_select_all.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/groupby_select_all.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/groupby_select_all_alias.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/groupby_select_all_join.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/groupby_select_all_subquery.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/groupby_select_all_subquery_unionall.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/groupby_select_all.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2922/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2922/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;All unit tests passed and added new testcases&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;chinna&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="15431346" author="chinnalalam" created="Mon, 22 Aug 2016 18:17:26 +0000"  >&lt;p&gt;Please open new jira, still it is a problem on master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12504871" name="HIVE-2099.1.patch" size="67940" author="chinnalalam" created="Wed, 23 Nov 2011 13:59:53 +0000"/>
                            <attachment id="12483713" name="HIVE-2099.patch" size="40669" author="chinnalalam" created="Fri, 24 Jun 2011 14:37:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Nov 2011 14:07:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lif3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123634</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2100] virtual column references inside subqueries cause execution exceptions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2100</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;example:&lt;br/&gt;
create table jssarma_nilzma_bad as select a.fname, a.offset, a.val from (select hash(eventid,userid,eventtime,browsercookie,userstate,useragent,userip,serverip,clienttime,geoid,countrycode\&lt;br/&gt;
,actionid,lastimpressionid,lastnavimpressionid,impressiontype,fullurl,fullreferrer,pagesection,modulesection,adsection) as val, INPUT_&lt;em&gt;FILE&lt;/em&gt;&lt;em&gt;NAME as fname, BLOCK&lt;/em&gt;&lt;em&gt;OFFSET&lt;/em&gt;&lt;em&gt;INSIDE&lt;/em&gt;_FILE as offset from nectar_impression_lzma_unverified where ds=&apos;2010-07-28&apos;) a join jssarma_hc_diff b on (a.val=b.val);&quot;&lt;/p&gt;

&lt;p&gt;causes&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.RuntimeException: Map operator initialization failed&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.configure(ExecMapper.java:121)&lt;br/&gt;
	... 18 more&lt;br/&gt;
Caused by: java.lang.RuntimeException: cannot find field input_&lt;em&gt;file&lt;/em&gt;_name from &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@664310d0, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@3d04fc23, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@12457d21, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@101a0ae6, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@1dc18a4c, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@d5e92d7, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@3bfa681c, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@34c92507, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@19e09a4, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@2e8aeed0, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@2344b18f, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@72e5355f, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@26132ae7, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@3465b738, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@1dfd868, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@ef894ce, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@61f1680f, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@2fe6e305, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@5f4275d4, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@445e228, org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector$MyField@802b249&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorUtils.getStandardStructFieldRef(ObjectInspectorUtils.java:321)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector.getStructFieldRef(UnionStructObjectInspector.java:96)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExprNodeColumnEvaluator.initialize(ExprNodeColumnEvaluator.java:57)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initEvaluators(Operator.java:878)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initEvaluatorsAndReturnStruct(Operator.java:904)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.SelectOperator.initializeOp(SelectOperator.java:60)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:433)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:389)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.FilterOperator.initializeOp(FilterOperator.java:73)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:433)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initializeChildren(Operator.java:389)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.initializeOp(TableScanOperator.java:133)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.initializeOp(MapOperator.java:444)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.initialize(Operator.java:357)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.configure(ExecMapper.java:98)&lt;br/&gt;
	... 18 more&lt;/p&gt;


&lt;p&gt;running the subquery separately fixes the issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503761">HIVE-2100</key>
            <summary>virtual column references inside subqueries cause execution exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="salbiz">Syed S. Albiz</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Apr 2011 17:47:39 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:07 +0000</updated>
                            <resolved>Wed, 3 Aug 2011 04:26:50 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13029057" author="vishal.k" created="Wed, 4 May 2011 23:57:41 +0000"  >&lt;p&gt;This patch contains the fix for the issue as well as the tests for it.&lt;/p&gt;

&lt;p&gt;The problem was that the object inspector was initialized and added to the opCtxMap before the check was done for which table this operation belongs to.&lt;/p&gt;

&lt;p&gt;For the object with virtual columns, fixing up the inspector for virtual columns happens after this check. So we were left with an inspector in the ctxMap that didn&apos;t account for the virtual columns and errored out during the initialization.&lt;/p&gt;

&lt;p&gt;With this change, the extra inspector wouldn&apos;t get unnecessarily created.&lt;/p&gt;</comment>
                            <comment id="13029062" author="he yongqiang" created="Thu, 5 May 2011 00:03:32 +0000"  >&lt;p&gt;will take a look.&lt;/p&gt;</comment>
                            <comment id="13036946" author="he yongqiang" created="Fri, 20 May 2011 17:36:28 +0000"  >&lt;p&gt;running tests, and also put this into PA queue&lt;/p&gt;</comment>
                            <comment id="13043033" author="jiraposter@reviews.apache.org" created="Thu, 2 Jun 2011 20:35:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/844/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/844/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2100&quot; title=&quot;virtual column references inside subqueries cause execution exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2100&quot;&gt;&lt;del&gt;HIVE-2100&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
virtual column references inside subqueries cause execution exceptions&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2100&quot; title=&quot;virtual column references inside subqueries cause execution exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2100&quot;&gt;&lt;del&gt;HIVE-2100&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2100&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java 1097824 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/nestedvirtual.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/nestedvirtual.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/844/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/844/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Yongqiang&lt;/p&gt;
</comment>
                            <comment id="13045218" author="he yongqiang" created="Tue, 7 Jun 2011 00:13:58 +0000"  >&lt;p&gt;authorization_part.q in negative tests failed.&lt;/p&gt;</comment>
                            <comment id="13048226" author="jiraposter@reviews.apache.org" created="Sun, 12 Jun 2011 04:31:53 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/886/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/886/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive, John Sichi and Yongqiang He.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Instead of excluding the operator from the opCtxMap entirely, I added an additional check to the operator initialization to make sure that at least one file path for the operator was valid before initialization.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2100&quot; title=&quot;virtual column references inside subqueries cause execution exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2100&quot;&gt;&lt;del&gt;HIVE-2100&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2100&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java 96a1631 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/886/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/886/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes authorization_part.q and nestedvirtual.q. Running test suite now to check for any other regressions.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Syed&lt;/p&gt;
</comment>
                            <comment id="13048230" author="jiraposter@reviews.apache.org" created="Sun, 12 Jun 2011 04:35:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/886/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/886/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-06-12 04:35:06.377639)&lt;/p&gt;


&lt;p&gt;Review request for hive, John Sichi and Yongqiang He.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;forgot to include new unit tests, included in this patch&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Instead of excluding the operator from the opCtxMap entirely, I added an additional check to the operator initialization to make sure that at least one file path for the operator was valid before initialization.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2100&quot; title=&quot;virtual column references inside subqueries cause execution exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2100&quot;&gt;&lt;del&gt;HIVE-2100&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2100&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java 96a1631 &lt;br/&gt;
  ql/src/test/queries/clientpositive/nestedvirtual.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientpositive/nestedvirtual.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/886/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/886/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes authorization_part.q and nestedvirtual.q. Running test suite now to check for any other regressions.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Syed&lt;/p&gt;
</comment>
                            <comment id="13053557" author="he yongqiang" created="Thu, 23 Jun 2011 00:15:09 +0000"  >&lt;p&gt;database.q failed, is it related?&lt;/p&gt;</comment>
                            <comment id="13056881" author="jiraposter@reviews.apache.org" created="Tue, 28 Jun 2011 23:28:28 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/886/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/886/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-06-28 23:26:58.331721)&lt;/p&gt;


&lt;p&gt;Review request for hive, John Sichi and Yongqiang He.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;since database.q failed in the testcase suite, I can&apos;t see any reason not to just call setInspectorInput() on every input that gets added to the OpCtxMap which solves both this and the original problem.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Instead of excluding the operator from the opCtxMap entirely, I added an additional check to the operator initialization to make sure that at least one file path for the operator was valid before initialization.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2100&quot; title=&quot;virtual column references inside subqueries cause execution exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2100&quot;&gt;&lt;del&gt;HIVE-2100&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2100&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java 96a1631 &lt;br/&gt;
  ql/src/test/queries/clientpositive/nestedvirtual.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientpositive/nestedvirtual.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/886/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/886/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes authorization_part.q and nestedvirtual.q. Running test suite now to check for any other regressions.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Syed&lt;/p&gt;
</comment>
                            <comment id="13073300" author="salbiz" created="Sun, 31 Jul 2011 02:55:27 +0000"  >&lt;p&gt;This patch still applies to the latest head revision and still tests out, do you think you will have a chance to review it soon?&lt;/p&gt;</comment>
                            <comment id="13073670" author="jvs" created="Mon, 1 Aug 2011 19:13:31 +0000"  >&lt;p&gt;Click Submit Patch to get it in the review queue.&lt;/p&gt;</comment>
                            <comment id="13073793" author="he yongqiang" created="Mon, 1 Aug 2011 21:23:33 +0000"  >&lt;p&gt;+1, will commit afte tests pass&lt;/p&gt;</comment>
                            <comment id="13078577" author="he yongqiang" created="Wed, 3 Aug 2011 04:26:50 +0000"  >&lt;p&gt;committed! Thanks Syed S. Albiz!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12478231" name="ASF.LICENSE.NOT.GRANTED--HIVE-2100.txt" size="5154" author="vishal.k" created="Wed, 4 May 2011 23:57:41 +0000"/>
                            <attachment id="12482274" name="HIVE-2100.2.patch" size="10568" author="salbiz" created="Sun, 12 Jun 2011 04:35:31 +0000"/>
                            <attachment id="12488431" name="HIVE-2100.4.patch" size="10318" author="salbiz" created="Mon, 1 Aug 2011 18:47:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 May 2011 23:57:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43519</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lifb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123635</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2101] mapjoin sometimes gives wrong results if there is a filter in the on condition</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2101</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&quot;SELECT / * + mapjoin(src1, src2) * / * FROM src src1 RIGHT OUTER JOIN src src2 ON (src1.key = src2.key AND src1.key &amp;lt; 10 AND src2.key &amp;gt; 10) JOIN src src3 ON (src2.key = src3.key AND src3.key &amp;lt; 10) SORT BY src1.key, src1.value, src2.key, src2.value, src3.key, src3.value;&quot; will give wrong results in today&apos;s hive&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503769">HIVE-2101</key>
            <summary>mapjoin sometimes gives wrong results if there is a filter in the on condition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Apr 2011 19:11:01 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:05 +0000</updated>
                            <resolved>Fri, 27 Jul 2012 07:50:48 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13132889" author="he yongqiang" created="Fri, 21 Oct 2011 18:17:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1534&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1534&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13422411" author="namit" created="Wed, 25 Jul 2012 16:59:48 +0000"  >&lt;p&gt;This is different from the bug above.&lt;/p&gt;

&lt;p&gt;The basic problem is that the filters from the join condition are not executed for map-joins.&lt;/p&gt;</comment>
                            <comment id="13422468" author="appodictic" created="Wed, 25 Jul 2012 18:10:51 +0000"  >&lt;p&gt;Which is pretty major because hive now auto-map joins most queries.&lt;/p&gt;</comment>
                            <comment id="13422892" author="navis" created="Thu, 26 Jul 2012 04:49:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4359&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4359&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13422898" author="namit" created="Thu, 26 Jul 2012 05:19:12 +0000"  >&lt;p&gt;I agree, this is an important bug.&lt;/p&gt;

&lt;p&gt;Navis, Thanks for the patch - I will take a look today.&lt;/p&gt;</comment>
                            <comment id="13422952" author="namit" created="Thu, 26 Jul 2012 08:02:18 +0000"  >&lt;p&gt;@Navis, some minor comment - can you take a look ?&lt;/p&gt;</comment>
                            <comment id="13422981" author="navis" created="Thu, 26 Jul 2012 09:34:38 +0000"  >&lt;p&gt;Addressed comments&lt;/p&gt;</comment>
                            <comment id="13422985" author="namit" created="Thu, 26 Jul 2012 09:39:48 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13423718" author="namit" created="Fri, 27 Jul 2012 07:50:50 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13423719" author="namit" created="Fri, 27 Jul 2012 07:51:29 +0000"  >&lt;p&gt;In this case, we had tests with wrong results checked in.&lt;/p&gt;</comment>
                            <comment id="13423934" author="hudson" created="Fri, 27 Jul 2012 15:46:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1571 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1571/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1571/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2101&quot; title=&quot;mapjoin sometimes gives wrong results if there is a filter in the on condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2101&quot;&gt;&lt;del&gt;HIVE-2101&lt;/del&gt;&lt;/a&gt; mapjoin sometimes gives wrong results if there is a filter in the on condition&lt;br/&gt;
(Navis via namit) (Revision 1366303)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1366303&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1366303&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mapjoin_filter_on_outerjoin.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join29.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mapjoin_filter_on_outerjoin.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547979" author="hudson" created="Wed, 9 Jan 2013 10:23:49 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2101&quot; title=&quot;mapjoin sometimes gives wrong results if there is a filter in the on condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2101&quot;&gt;&lt;del&gt;HIVE-2101&lt;/del&gt;&lt;/a&gt; mapjoin sometimes gives wrong results if there is a filter in the on condition&lt;br/&gt;
(Navis via namit) (Revision 1366303)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1366303&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1366303&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mapjoin_filter_on_outerjoin.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join29.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mapjoin_filter_on_outerjoin.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550281" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:05 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12537956" name="HIVE-2101.1.patch.txt" size="13631" author="navis" created="Thu, 26 Jul 2012 04:54:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Jul 2012 16:59:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42272</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0fvpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2102] add privilege cleanup in QTestUtils.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2102</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If in one testcase, some privilege got granted but not revoked. The privilege will got inherited to other testcases. &lt;br/&gt;
Need to do a cleanup in  QTestUtils.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503771">HIVE-2102</key>
            <summary>add privilege cleanup in QTestUtils.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Apr 2011 19:47:56 +0000</created>
                <updated>Fri, 8 Apr 2011 19:47:56 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lifj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2103] this.getJdbcTemplate().queryForInt(&quot;select count(*) from user_info&quot;); search</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2103</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;use the following: this.getJdbcTemplate().queryForInt(&quot;select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from user_info&quot;);&lt;br/&gt;
the hive.log contents like that:&lt;/p&gt;

&lt;p&gt;2011-04-11 15:38:44,270 WARN  mapred.JobClient (JobClient.java:configureCommandLineOptions(539)) - Use GenericOptionsParser for parsing the arguments. Applications should implement Tool for the same.&lt;br/&gt;
2011-04-11 15:39:03,455 ERROR ql.Driver (SessionState.java:printError(343)) - FAILED: Parse Error: line 0:-1 mismatched input &apos;&amp;lt;EOF&amp;gt;&apos; expecting FROM in from clause&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.ql.parse.ParseException: line 0:-1 mismatched input &apos;&amp;lt;EOF&amp;gt;&apos; expecting FROM in from clause&lt;/p&gt;

&lt;p&gt;        at org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:406)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:327)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:736)&lt;br/&gt;
        at org.apache.hadoop.hive.service.HiveServer$HiveServerHandler.execute(HiveServer.java:116)&lt;br/&gt;
        at org.apache.hadoop.hive.service.ThriftHive$Processor$execute.process(ThriftHive.java:699)&lt;br/&gt;
        at org.apache.hadoop.hive.service.ThriftHive$Processor.process(ThriftHive.java:677)&lt;br/&gt;
        at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:253)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Linux, jdk1.6.0_20, hive-0.7.0&lt;/p&gt;</environment>
        <key id="12503904">HIVE-2103</key>
            <summary>this.getJdbcTemplate().queryForInt(&quot;select count(*) from user_info&quot;); search</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jerry2018">Jerry Gates</reporter>
                        <labels>
                            <label>hive</label>
                    </labels>
                <created>Mon, 11 Apr 2011 08:04:49 +0000</created>
                <updated>Mon, 11 Apr 2011 08:47:17 +0000</updated>
                                            <version>0.7.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13018244" author="bennies" created="Mon, 11 Apr 2011 08:47:17 +0000"  >&lt;p&gt;Does queryForLong work for you? It&apos;s what I use. This should of course be fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Apr 2011 08:47:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42270</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lifr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123637</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2104] the ibatis isn&apos;t supported by hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2104</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;the ibatis isn&apos;t supported by hive. Is there any infomation about the ibatis and hive?&lt;/p&gt;</description>
                <environment>&lt;p&gt;jdk1.6.0_20,hive-0.7.0&lt;/p&gt;</environment>
        <key id="12503906">HIVE-2104</key>
            <summary>the ibatis isn&apos;t supported by hive</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jerry2018">Jerry Gates</reporter>
                        <labels>
                            <label>hive-appu</label>
                    </labels>
                <created>Mon, 11 Apr 2011 08:09:06 +0000</created>
                <updated>Mon, 11 Apr 2011 08:09:06 +0000</updated>
                                            <version>0.7.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42269</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lifz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2105] Add plan template into Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2105</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It will be good to have a template file to avoid compile a query again and again.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503956">HIVE-2105</key>
            <summary>Add plan template into Hive</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Apr 2011 17:46:07 +0000</created>
                <updated>Mon, 11 Apr 2011 17:46:07 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42268</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48524</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2106] Increase the number of operator counter </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2106</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently Hadoop counters have to be defined as enum (hardcoded) and we support up to 400 counters now. This limit the number of operators to 100 (each operator has 4 counters). We need to increase the hadoop counters or change the Hive code to use Hadoop 0.20 API. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12503958">HIVE-2106</key>
            <summary>Increase the number of operator counter </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Apr 2011 17:53:48 +0000</created>
                <updated>Fri, 16 Dec 2011 23:55:38 +0000</updated>
                            <resolved>Tue, 12 Apr 2011 17:18:36 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13018469" author="nzhang" created="Mon, 11 Apr 2011 18:02:20 +0000"  >&lt;p&gt;Attaching a simple fix that increase the number of operator counters to 1000. As a follow up we should explore the possibility to use Hadoop 0.20 API. &lt;/p&gt;</comment>
                            <comment id="13018607" author="nzhang" created="Mon, 11 Apr 2011 22:34:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/579/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/579/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13018614" author="cwsteinbach" created="Mon, 11 Apr 2011 22:40:43 +0000"  >&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/579/#comment807&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/579/#comment807&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   Is this comment still accurate? If so, can we remove this entirely since we no longer support 0.17?&lt;/p&gt;</comment>
                            <comment id="13018622" author="namit" created="Mon, 11 Apr 2011 23:10:01 +0000"  >&lt;p&gt;Ning, can you change the comment ?&lt;/p&gt;</comment>
                            <comment id="13018626" author="namit" created="Mon, 11 Apr 2011 23:21:02 +0000"  >&lt;p&gt;Carl, the comment is OK - we can remove it once we move to the new API&lt;br/&gt;
Ning, can you file a new jira for that.&lt;/p&gt;

&lt;p&gt;+1 for this&lt;/p&gt;</comment>
                            <comment id="13018632" author="nzhang" created="Mon, 11 Apr 2011 23:39:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2108&quot; title=&quot;Using the Hadoop 0.20 API for counters &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2108&quot;&gt;HIVE-2108&lt;/a&gt; is filed for moving to Hadoop 0.20 API.&lt;/p&gt;</comment>
                            <comment id="13018915" author="namit" created="Tue, 12 Apr 2011 17:18:36 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12476024" name="HIVE-2106.patch" size="5333" author="nzhang" created="Mon, 11 Apr 2011 18:02:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Apr 2011 22:40:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66839</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ligf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123640</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2107] Log4J initialization info should not be printed out if -S is specified</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2107</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SessionState.initHiveLog4j() is called before hive command argument -S is parsed, so initHiveLog4j will printed out the init info even though -S is specified.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503988">HIVE-2107</key>
            <summary>Log4J initialization info should not be printed out if -S is specified</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Apr 2011 22:31:22 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:06 +0000</updated>
                            <resolved>Tue, 12 Apr 2011 17:19:06 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13018609" author="nzhang" created="Mon, 11 Apr 2011 22:35:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/580/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/580/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13018623" author="namit" created="Mon, 11 Apr 2011 23:12:01 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13018916" author="namit" created="Tue, 12 Apr 2011 17:19:06 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12476064" name="HIVE-2107.patch" size="1949" author="nzhang" created="Mon, 11 Apr 2011 22:31:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Apr 2011 23:12:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lign:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2108] Using the Hadoop 0.20 API for counters </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2108</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Even though we stopped support Hadoop pre-0.20 versions, we are still using Hadoop 0.17 API for hadoop counters implementation. This requires us to use hard-coded enums for counters and is hard to extend. We should move to Hadoop 0.20 API. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12503994">HIVE-2108</key>
            <summary>Using the Hadoop 0.20 API for counters </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Apr 2011 23:38:22 +0000</created>
                <updated>Mon, 11 Apr 2011 23:38:22 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42267</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48526</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2109] No lock for some non-mapred tasks config variable hive.lock.mapred.only.operation added</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2109</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;do not do lock for some DDLTask or data move task.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12504005">HIVE-2109</key>
            <summary>No lock for some non-mapred tasks config variable hive.lock.mapred.only.operation added</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Apr 2011 01:54:42 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:00 +0000</updated>
                            <resolved>Wed, 20 Apr 2011 06:29:54 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13018714" author="namit" created="Tue, 12 Apr 2011 04:54:24 +0000"  >&lt;p&gt;Add a new configuration parameter, where the DDLs do not need a lock.&lt;br/&gt;
This parmeter&apos;s default value can be false, i.e the current behavior is&lt;br/&gt;
not changed.&lt;/p&gt;</comment>
                            <comment id="13019535" author="he yongqiang" created="Wed, 13 Apr 2011 20:33:55 +0000"  >&lt;p&gt;It is not easy to add a testcase for it. So i manually tested it.&lt;/p&gt;</comment>
                            <comment id="13019655" author="namit" created="Thu, 14 Apr 2011 01:22:04 +0000"  >&lt;p&gt;Change the name of the parameter:&lt;/p&gt;

&lt;p&gt;hive.lock.metadata.only.operation&lt;/p&gt;

&lt;p&gt;Add the new parameter in hive-default.xml&lt;/p&gt;

&lt;p&gt;Also, can you add a review board entry ?&lt;/p&gt;</comment>
                            <comment id="13020941" author="he yongqiang" created="Mon, 18 Apr 2011 08:19:34 +0000"  >&lt;p&gt;address namit&apos;s comments&lt;/p&gt;</comment>
                            <comment id="13020942" author="he yongqiang" created="Mon, 18 Apr 2011 08:21:53 +0000"  >&lt;p&gt;review board: &lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/617/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/617/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13020943" author="jiraposter@reviews.apache.org" created="Mon, 18 Apr 2011 08:22:11 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/617/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/617/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;No lock for some non-mapred tasks.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2109&quot; title=&quot;No lock for some non-mapred tasks config variable hive.lock.mapred.only.operation added&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2109&quot;&gt;&lt;del&gt;HIVE-2109&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2109&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2109&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1094342 &lt;br/&gt;
  trunk/conf/hive-default.xml 1094342 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 1094342 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 1094342 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java 1094342 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java 1094342 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java 1094342 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java 1094342 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1094342 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DDLWork.java 1094342 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/617/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/617/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Yongqiang&lt;/p&gt;
</comment>
                            <comment id="13021149" author="namit" created="Mon, 18 Apr 2011 17:59:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13021525" author="he yongqiang" created="Tue, 19 Apr 2011 10:23:41 +0000"  >&lt;p&gt;hope this time, it can pass all tests&lt;/p&gt;</comment>
                            <comment id="13021699" author="namit" created="Tue, 19 Apr 2011 18:19:10 +0000"  >&lt;p&gt;Can you regenerate the patch - I am getting some conflicts&lt;/p&gt;</comment>
                            <comment id="13021989" author="namit" created="Wed, 20 Apr 2011 06:29:54 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12476079" name="HIVE-2109.1.patch" size="6350" author="he yongqiang" created="Tue, 12 Apr 2011 02:00:04 +0000"/>
                            <attachment id="12476280" name="HIVE-2109.2.patch" size="7764" author="he yongqiang" created="Wed, 13 Apr 2011 20:33:16 +0000"/>
                            <attachment id="12476589" name="HIVE-2109.3.patch" size="8372" author="he yongqiang" created="Mon, 18 Apr 2011 08:19:34 +0000"/>
                            <attachment id="12476718" name="HIVE-2109.4.patch" size="29834" author="he yongqiang" created="Tue, 19 Apr 2011 10:23:16 +0000"/>
                            <attachment id="12476758" name="HIVE-2109.5.patch" size="29985" author="he yongqiang" created="Tue, 19 Apr 2011 19:03:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Apr 2011 04:54:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66832</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ligv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2110] Hive Client is indefenitely waiting for reading from Socket</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2110</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive Client is indefenitely waiting for reading from Socket. Thread dump i  added below.&lt;/p&gt;

&lt;p&gt;Cause is:&lt;/p&gt;

&lt;p&gt;	In the HiveClient, when client socket is created, the read timeout is mentioned is 0. So the socket will indefinetly wait when the machine where Hive Server is running is &quot;shutdown&quot; or &quot;network is unplugged&quot;. The same may not happen if the HiveServer alone is killed or gracefully shutdown. At this time, client will get &quot;connection reset exception&quot;. &lt;/p&gt;

&lt;p&gt;Code in HiveConnection&lt;br/&gt;
-----------------------------------&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
transport = new TSocket(host, port);
TProtocol protocol = new TBinaryProtocol(transport); 
client = new HiveClient(protocol);

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the Client side, they send the query and wait for the response send_execute(query,id); recv_execute(); // place where client waiting is initiated&lt;/p&gt;


&lt;p&gt;Thread dump:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
&quot;main&quot; prio=10 tid=0x0000000040111000 nid=0x3641 runnable [0x00007f0d73f29000]
	java.lang.Thread.State: RUNNABLE
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.read(SocketInputStream.java:129)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:317) 

	locked &amp;lt;0x00007f0d5d3f0828&amp;gt; (a java.io.BufferedInputStream)
	at org.apache.thrift.transport.TIOStreamTransport.read(TIOStreamTransport.java:125)
	at org.apache.thrift.transport.TTransport.readAll(TTransport.java:84)
	at org.apache.thrift.protocol.TBinaryProtocol.readAll(TBinaryProtocol.java:314)
	at org.apache.thrift.protocol.TBinaryProtocol.readI32(TBinaryProtocol.java:262)
	at org.apache.thrift.protocol.TBinaryProtocol.readMessageBegin(TBinaryProtocol.java:192)
	at org.apache.hadoop.hive.service.ThriftHive$Client.recv_execute(ThriftHive.java:130)
	at org.apache.hadoop.hive.service.ThriftHive$Client.execute(ThriftHive.java:109) 
	locked &amp;lt;0x00007f0d5d3f0878&amp;gt; (a org.apache.thrift.transport.TSocket)
	at org.apache.hadoop.hive.jdbc.HiveStatement.executeQuery(HiveStatement.java:218)
	at org.apache.hadoop.hive.jdbc.HiveStatement.execute(HiveStatement.java:154)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.20.1, Hive0.5.0 and SUSE Linux Enterprise Server 10 SP2 (i586) - Kernel 2.6.16.60-0.21-smp (5).&lt;/p&gt;</environment>
        <key id="12504015">HIVE-2110</key>
            <summary>Hive Client is indefenitely waiting for reading from Socket</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="chinnalalam">Chinna Rao Lalam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Apr 2011 05:24:18 +0000</created>
                <updated>Mon, 9 Sep 2013 16:15:45 +0000</updated>
                                            <version>0.5.0</version>
                    <version>0.11.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13079706" author="jiraposter@reviews.apache.org" created="Fri, 5 Aug 2011 00:32:26 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1299/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1299/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Pass the Login timeout to thrift/socket layer when connecting to the hive server.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2110&quot; title=&quot;Hive Client is indefenitely waiting for reading from Socket&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2110&quot;&gt;HIVE-2110&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2110&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2110&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java 7c5df83 &lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDriver.java c61425f &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1299/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1299/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;simple repro to verify the timeout. JDBC tests.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Prasad&lt;/p&gt;
</comment>
                            <comment id="13087477" author="cwsteinbach" created="Fri, 19 Aug 2011 03:04:53 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13087480" author="cwsteinbach" created="Fri, 19 Aug 2011 03:06:43 +0000"  >&lt;p&gt;@Prasad: The patch does not apply cleanly with patch -p0. Please see the HowToContribute page on the wiki for more info.&lt;/p&gt;</comment>
                            <comment id="13710834" author="seoeun25" created="Wed, 17 Jul 2013 07:58:42 +0000"  >&lt;p&gt;Support socketTimeout(ms) at HiveDriver.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//se-ubuntu:10000?socketTimeout=10000&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13761843" author="seoeun25" created="Mon, 9 Sep 2013 13:44:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; I think socketTimeout is the basic function for connection and necessary. If you don&apos;t mind, I&apos;d like to update rebased patch used for JDBC2. &lt;/p&gt;</comment>
                            <comment id="13761871" author="phabricator@reviews.facebook.net" created="Mon, 9 Sep 2013 14:09:52 +0000"  >&lt;p&gt;azrael requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2110&quot; title=&quot;Hive Client is indefenitely waiting for reading from Socket&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2110&quot;&gt;HIVE-2110&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive Client is indefenitely waiting for reading from Socket&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2110&quot; title=&quot;Hive Client is indefenitely waiting for reading from Socket&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2110&quot;&gt;HIVE-2110&lt;/a&gt; : Hive Client is indefenitely waiting for reading from Socket&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  Unit test&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D12813&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D12813&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveConnection.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/Utils.java&lt;br/&gt;
  jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/30735/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/30735/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, azrael&lt;/p&gt;</comment>
                            <comment id="13761974" author="hiveqa" created="Mon, 9 Sep 2013 16:15:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12602138/HIVE-2110.D12813.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12602138/HIVE-2110.D12813.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 3087 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testSequenceTableWriteRead
org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testTextTableWriteRead
org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testSequenceTableWriteReadMR
org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testTextTableWriteReadMR
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/672/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/672/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/672/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/672/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12592738" name="HIVE-2110.1.patch" size="3101" author="seoeun25" created="Wed, 17 Jul 2013 07:59:41 +0000"/>
                            <attachment id="12602138" name="HIVE-2110.D12813.1.patch" size="3292" author="phabricator@reviews.facebook.net" created="Mon, 9 Sep 2013 14:09:52 +0000"/>
                            <attachment id="12490087" name="HIVE-2110.patch" size="2223" author="prasadm" created="Thu, 11 Aug 2011 06:57:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 5 Aug 2011 00:32:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35810</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lih3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2111] NullPointerException on select * with table using RegexSerDe and partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2111</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When querying against a table that is partitioned, and uses RegexSerde, select with explicit columns works, but &quot;select *&quot; results in a NullPointerException&lt;/p&gt;

&lt;p&gt;To reproduce:&lt;/p&gt;

&lt;p&gt;1) create a table containing the following text (notice the blank line):&lt;br/&gt;
====start====&lt;br/&gt;
fillerdatafillerdatafiller&lt;/p&gt;

&lt;p&gt;fillerdata2fillerdata2filler&lt;br/&gt;
=====end=====&lt;/p&gt;

&lt;p&gt;2) copy the file to hdfs:&lt;br/&gt;
hadoop dfs -put foo.txt test/part1=x/foo.txt&lt;/p&gt;

&lt;p&gt;3) run the following hive commands to create a table:&lt;/p&gt;

&lt;p&gt;add jar s3://elasticmapreduce/samples/hive/jars/hive_contrib.jar;&lt;/p&gt;

&lt;p&gt;drop table test;&lt;/p&gt;

&lt;p&gt;create external table test(col1 STRING, col2 STRING) &lt;br/&gt;
partitioned by (part1 STRING) &lt;br/&gt;
row format serde &apos;org.apache.hadoop.hive.contrib.serde2.RegexSerDe&apos; &lt;br/&gt;
with serdeproperties ( &quot;input.regex&quot; = &quot;^&amp;#40;.&lt;b&gt;data&amp;#41;&amp;#40;.*data&amp;#41;.&lt;/b&gt;$&quot;) &lt;br/&gt;
stored as textfile &lt;br/&gt;
location &apos;hdfs:///user/hadoop/test&apos;;&lt;/p&gt;

&lt;p&gt;alter table test add partition (part1=&apos;x&apos;);&lt;/p&gt;

&lt;p&gt;(Note that the text processor seems to have mangled the regex a bit. Inside each pair of parentheses should be dot star data. After the second pair of parentheses should be dot start dollar).&lt;/p&gt;

&lt;p&gt;4) select from it with explicit columns:&lt;br/&gt;
select part1, col1, col2 from test;&lt;br/&gt;
outputs:&lt;br/&gt;
OK&lt;br/&gt;
x	fillerdata	fillerdata&lt;br/&gt;
x	NULL	NULL&lt;br/&gt;
x	fillerdata	2fillerdata&lt;/p&gt;

&lt;p&gt;5) select from it with * columns&lt;br/&gt;
select * from test;&lt;br/&gt;
outputs:&lt;/p&gt;

&lt;p&gt;Failed with exception java.io.IOException:java.lang.NullPointerException&lt;br/&gt;
11/04/12 14:28:27 ERROR CliDriver: Failed with exception java.io.IOException:java.lang.NullPointerException&lt;br/&gt;
java.io.IOException: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.FetchTask.fetch(FetchTask.java:149)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.getResults(Driver.java:1039)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:172)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLineInternal(CliDriver.java:228)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:209)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:398)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at java.util.ArrayList.addAll(ArrayList.java:472)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.objectinspector.UnionStructObjectInspector.getStructFieldsDataAsList(UnionStructObjectInspector.java:144)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serialize(LazySimpleSerDe.java:357)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.FetchTask.fetch(FetchTask.java:141)&lt;br/&gt;
	... 10 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;Amazon Elastic Mapreduce&lt;/p&gt;</environment>
        <key id="12504058">HIVE-2111</key>
            <summary>NullPointerException on select * with table using RegexSerDe and partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="happyharris">Marc Harris</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Apr 2011 14:30:11 +0000</created>
                <updated>Mon, 22 Aug 2016 18:19:03 +0000</updated>
                            <resolved>Mon, 22 Aug 2016 18:19:02 +0000</resolved>
                                    <version>0.7.0</version>
                                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13030662" author="chinnalalam" created="Mon, 9 May 2011 09:27:11 +0000"  >&lt;p&gt;Pls check for the given input data this may be the correct regex&lt;/p&gt;

&lt;p&gt;&quot;^(.&lt;b&gt;data)(.*data).&lt;/b&gt;$&quot;&lt;/p&gt;</comment>
                            <comment id="13030664" author="chinnalalam" created="Mon, 9 May 2011 09:30:15 +0000"  >&lt;p&gt;*data&lt;br/&gt;
*data&lt;br/&gt;
*$&lt;/p&gt;</comment>
                            <comment id="13030831" author="happyharris" created="Mon, 9 May 2011 17:51:06 +0000"  >&lt;p&gt;I can&apos;t tell in which way you are suggesting the regular expression should change.&lt;/p&gt;

&lt;p&gt;If it is about the presence of the backslash before the parentheses, well the hive command line processor seems to require these.&lt;/p&gt;

&lt;p&gt;If it is the dot slashes, then the JIRA text editor seems to be mangling. Each Set of parentheses should contain &quot;dot star date&quot; and then there should be &quot;dot star dollar&quot; at the end.&lt;/p&gt;

&lt;p&gt;In any case, none of this would account for the fact that &quot;select part1, col1, col2&quot; and &quot;select *&quot; produce different results.&lt;/p&gt;
</comment>
                            <comment id="13036190" author="chinnalalam" created="Thu, 19 May 2011 13:56:33 +0000"  >&lt;p&gt;From jira editor i got this &quot; ^(.data)(.*data).$ &quot; regular expression that&apos;s why i suggested like this regex  may be the wrong.&lt;/p&gt;

&lt;p&gt;But when i updated the comment i realized that what ever the regular expression is given in the defect description is correct because of the jira editor it is showing wrong regular expression.&lt;/p&gt;</comment>
                            <comment id="13036191" author="chinnalalam" created="Thu, 19 May 2011 13:57:40 +0000"  >&lt;p&gt;When ever the regular expression is not matching it is returning null but it should return null row. Same thing is happening with the empty row also.&lt;/p&gt;</comment>
                            <comment id="13061496" author="jvs" created="Thu, 7 Jul 2011 19:01:18 +0000"  >&lt;p&gt;Sorry, this one has gone stale...could you rebase against trunk?&lt;/p&gt;</comment>
                            <comment id="13062388" author="chinnalalam" created="Sat, 9 Jul 2011 14:22:01 +0000"  >&lt;p&gt;patch is rebased against trunk.&lt;/p&gt;</comment>
                            <comment id="13064356" author="amareshwari" created="Wed, 13 Jul 2011 04:54:48 +0000"  >&lt;p&gt;Can you add a regression test (test fails without patch and passes with patch)? Because currently, serde_regex.q does &apos;select &amp;#42;&apos; and passes. &lt;/p&gt;</comment>
                            <comment id="13064594" author="chinnalalam" created="Wed, 13 Jul 2011 14:32:21 +0000"  >&lt;p&gt;All existing testcases passed in my environment. I have added one testcase for this scenario.&lt;/p&gt;</comment>
                            <comment id="13065396" author="amareshwari" created="Thu, 14 Jul 2011 17:23:46 +0000"  >&lt;p&gt;Chinna, the testcase passes without the patch also. Can you verify it again?&lt;/p&gt;</comment>
                            <comment id="15431349" author="chinnalalam" created="Mon, 22 Aug 2016 18:19:03 +0000"  >&lt;p&gt;Please open new jira, still it is a problem on master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12485819" name="HIVE-2111.1.patch" size="640" author="chinnalalam" created="Sat, 9 Jul 2011 14:21:28 +0000"/>
                            <attachment id="12486315" name="HIVE-2111.2.patch" size="4793" author="chinnalalam" created="Wed, 13 Jul 2011 14:30:07 +0000"/>
                            <attachment id="12479771" name="HIVE-2111.patch" size="1961" author="chinnalalam" created="Thu, 19 May 2011 13:33:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 May 2011 09:27:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lihb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123644</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
