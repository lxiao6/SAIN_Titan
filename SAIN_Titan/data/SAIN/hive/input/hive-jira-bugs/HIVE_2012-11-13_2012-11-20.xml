<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:22:20 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-11-13+AND+created+%3C%3D+2012-11-20+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="21" total="21"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3705] Adding authorization capability to the metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3705</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In an environment where multiple clients access a single metastore, and we want to evolve hive security to a point where it&apos;s no longer simply preventing users from shooting their own foot, we need to be able to authorize metastore calls as well, instead of simply performing every metastore api call that&apos;s made.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12615862">HIVE-3705</key>
            <summary>Adding authorization capability to the metastore</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Nov 2012 09:37:00 +0000</created>
                <updated>Mon, 5 May 2014 09:44:02 +0000</updated>
                            <resolved>Sun, 9 Dec 2012 01:02:20 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Authorization</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13496061" author="sushanth" created="Tue, 13 Nov 2012 09:38:10 +0000"  >&lt;p&gt;Attaching the results of an investigation I carried out, to determine what areas exist for improvement/evolution of the hive security model.&lt;/p&gt;</comment>
                            <comment id="13496067" author="sushanth" created="Tue, 13 Nov 2012 09:51:10 +0000"  >&lt;p&gt;Phabricator review submitted :  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; Enabling authorization from the metastore:&lt;/p&gt;

&lt;p&gt;New HiveConf parameters:&lt;/p&gt;

&lt;p&gt;hive.security.metastore.authorization.enabled : true/false determining whether or not to do authorization in the metastore&lt;br/&gt;
hive.security.metastore.authorization.manager : The class to load to do metastore-side authorization&lt;br/&gt;
hive.security.metastore.authenticator.manager : The class to load to do metastore-side authentication&lt;/p&gt;

&lt;p&gt;If the first parameter isn&apos;t set, default behaviour of hive in both client-mode and metastore-mode is not affected, and this is disabled by default.&lt;/p&gt;

&lt;p&gt;New Interface :&lt;/p&gt;

&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveMetastoreAuthorizationProvider.java :&lt;br/&gt;
an extension of HiveAuthorizationProvider, except with one more function that allows the metastore to pass a HMSHandler to it&lt;/p&gt;

&lt;p&gt;Modifications of existing classes :&lt;/p&gt;

&lt;p&gt;Minor modifications :&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java :&lt;br/&gt;
added ability to instantiate HiveAuth&lt;/p&gt;
{orization,entication}
&lt;p&gt;Providers given HiveConf key to use&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java :&lt;br/&gt;
changed to account for above&lt;/p&gt;

&lt;p&gt;Major modifications :&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveAuthorizationProviderBase.java :&lt;br/&gt;
refactored to introduce a new HiveProxy that can proxy for either a hive object or a HMSHandler to perform necessary metadata operations&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java :&lt;br/&gt;
refactored most of the functionality into a new class : BitSetCheckedAuthorizationProvider, which in turn is extended trivially by&lt;br/&gt;
DefaultHiveAuthorizationProvider and DefaultHiveMetastoreAuthorizationProvider which implement small glue functionality to make them&lt;br/&gt;
work from the hive client side and from the hive metastore respectively.&lt;/p&gt;

&lt;p&gt;New Classes :&lt;/p&gt;

&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/BitSetCheckedAuthorizationProvider.java :&lt;br/&gt;
As discussed above.&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveMetastoreAuthorizationProvider.java :&lt;br/&gt;
As discussed above.&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java :&lt;br/&gt;
An implementation of the Hive Metastore PreEventListener interface that kicks off the metastore-side authorization&lt;/p&gt;</comment>
                            <comment id="13496068" author="phabricator@reviews.facebook.net" created="Tue, 13 Nov 2012 09:51:11 +0000"  >&lt;p&gt;khorgath requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Adding authorization capability to the metastore&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; Enabling authorization from the metastore:&lt;/p&gt;

&lt;p&gt;  New HiveConf parameters:&lt;/p&gt;

&lt;p&gt;  	hive.security.metastore.authorization.enabled : true/false determining whether or not to do authorization in the metastore&lt;br/&gt;
  	hive.security.metastore.authorization.manager : The class to load to do metastore-side authorization&lt;br/&gt;
  	hive.security.metastore.authenticator.manager : The class to load to do metastore-side authentication&lt;/p&gt;

&lt;p&gt;  If the first parameter isn&apos;t set, default behaviour of hive in both client-mode and metastore-mode is not affected, and this is disabled by default.&lt;/p&gt;

&lt;p&gt;  New Interface :&lt;/p&gt;

&lt;p&gt;  	ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveMetastoreAuthorizationProvider.java :&lt;br/&gt;
  		an extension of HiveAuthorizationProvider, except with one more function that allows the metastore to pass a HMSHandler to it&lt;/p&gt;

&lt;p&gt;  Modifications of existing classes :&lt;/p&gt;

&lt;p&gt;  	Minor modifications :&lt;br/&gt;
  		ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java :&lt;br/&gt;
  			added ability to instantiate HiveAuth&lt;/p&gt;
{orization,entication}
&lt;p&gt;Providers given HiveConf key to use&lt;br/&gt;
  		ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java :&lt;br/&gt;
  			changed to account for above&lt;/p&gt;

&lt;p&gt;  	Major modifications :&lt;br/&gt;
  		ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveAuthorizationProviderBase.java :&lt;br/&gt;
  			refactored to introduce a new HiveProxy that can proxy for either a hive object or a HMSHandler to perform necessary metadata operations&lt;br/&gt;
  		ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java :&lt;br/&gt;
  			refactored most of the functionality into a new class : BitSetCheckedAuthorizationProvider, which in turn is extended trivially by&lt;br/&gt;
  			DefaultHiveAuthorizationProvider and DefaultHiveMetastoreAuthorizationProvider which implement small glue functionality to make them&lt;br/&gt;
  			work from the hive client side and from the hive metastore respectively.&lt;/p&gt;

&lt;p&gt;  New Classes :&lt;/p&gt;

&lt;p&gt;  	ql/src/java/org/apache/hadoop/hive/ql/security/authorization/BitSetCheckedAuthorizationProvider.java :&lt;br/&gt;
  		As discussed above.&lt;br/&gt;
  	ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveMetastoreAuthorizationProvider.java :&lt;br/&gt;
  		As discussed above.&lt;br/&gt;
  	ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java :&lt;br/&gt;
  		An implementation of the Hive Metastore PreEventListener interface that kicks off the metastore-side authorization&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  Following testcases added :&lt;br/&gt;
  	ql/src/test/org/apache/hadoop/hive/ql/security/DummyHiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  	ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java&lt;br/&gt;
  	ql/src/test/org/apache/hadoop/hive/ql/security/TestDefaultHiveMetastoreAuthorizationProvider.java&lt;/p&gt;

&lt;p&gt;  In an environment where multiple clients access a single metastore, and we want to evolve hive security to a point where it&apos;s no longer simply preventing users from shooting their own foot, we need to be able to authorize metastore calls as well, instead of simply performing every metastore api call that&apos;s made.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/BitSetCheckedAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveAuthorizationProviderBase.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/DummyHiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestDefaultHiveMetastoreAuthorizationProvider.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/15915/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/15915/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, khorgath&lt;/p&gt;</comment>
                            <comment id="13496545" author="sushanth" created="Tue, 13 Nov 2012 21:09:48 +0000"  >&lt;p&gt;(Patch available for review)&lt;/p&gt;</comment>
                            <comment id="13497730" author="phabricator@reviews.facebook.net" created="Thu, 15 Nov 2012 03:12:11 +0000"  >&lt;p&gt;khorgath updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Adding authorization capability to the metastore&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Updated to stop cacheing HMSHandler, which was a mistake, and adding setHandler on the metastore-side Authenticators.&lt;br/&gt;
  This introduces a new interface HiveMetastoreAuthenticationProvider which extends HiveAuthenticationProvider, and&lt;br/&gt;
  provides a default implementation of it as well.&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultMetastoreAuthenticator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HiveMetastoreAuthenticationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/BitSetCheckedAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveAuthorizationProviderBase.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/DummyHiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestDefaultHiveMetastoreAuthorizationProvider.java&lt;/p&gt;

&lt;p&gt;To: JIRA, khorgath&lt;/p&gt;</comment>
                            <comment id="13498423" author="ashutoshc" created="Thu, 15 Nov 2012 23:03:02 +0000"  >&lt;p&gt;Sushanth,&lt;br/&gt;
Patch doesn&apos;t apply cleanly on trunk. Can you refresh it for trunk.&lt;/p&gt;</comment>
                            <comment id="13498520" author="shreepadma" created="Fri, 16 Nov 2012 01:35:43 +0000"  >&lt;p&gt;@Sushanth: Thanks for posting the document and the patch. Securing the metastore is necessary to provide reliable authorization in Hive. I looked at the document and the code and have the following high level questions,&lt;/p&gt;

&lt;p&gt; a)The document contains an example of how the current pluggable authorization provider can be exploited to circumvent security. This patch seems to introduce a new config param - hive.security.metastore.authorization.manager - that allows a pluggable authorization provider. Perhaps I&apos;m missing something here, but wondering how we would prevent a user from plugging in their own authorization provider. &lt;/p&gt;

&lt;p&gt; b)The current Hive authorization model exposes semantics that is confusing and at times inconsistent. While this patch has moved the auth checks to the metastore (IMO, this is the right thing to do) it seems to implement the existing semantics. Wondering if there is a plan to fix the semantics at some point.&lt;/p&gt;

&lt;p&gt; c)How do we obtain the userid for performing authorization? Are we using the authentication id from the Thrift context? If so, how do we handle the case where the authentication id is different from the authorization id, for e.g., HS2 authenticates to the metastore as HS2 but is executing a statement on behalf of user &apos;u1&apos;? Thanks.&lt;/p&gt;</comment>
                            <comment id="13499331" author="sushanth" created="Sat, 17 Nov 2012 03:04:07 +0000"  >&lt;p&gt;@Ashutosh : Funny - I&apos;ve uploaded a lone patch as well now, just in case something was wrong with the autogeneration. It&apos;s called hive-backend-auth.git.patch and can be applied with a patch -p1&lt;/p&gt;

&lt;p&gt;@Shreepadma : Thanks for your comments!&lt;/p&gt;

&lt;p&gt;a) The idea is that the box (or vm/etc) on which the metastore server runs can be secured and given limited login privileges, and kept away from most of the hive users. That way, the &quot;secrets&quot; such as the hive-site.xml that contains the mysql password, and the hive-site.xml config that sets which AuthorizationProvider to use from the metastore is under strict control of the admin.&lt;/p&gt;

&lt;p&gt;b) I agree that the current model&apos;s semantics can sometimes be confusing, especially when you consider separate grant/revoke based permissions and HDFS permissions, and indeed, the authorization provider I intend to use with hive that builds on top of this will be a HDFS-permissions based Authorization Provider, but the hooks for how to launch the Authorization(&amp;amp;Authentication) Providers and what objects they authorize on are good interfaces, I think, and I&apos;ve merely extended them in where/how they can be invoked in this patch.&lt;/p&gt;

&lt;p&gt;I think there&apos;s a lot of work yet to be done, in cleaning up the privilege definitions in HiveOperation, and making sure that the various authorization calls are actually called. Take, for example the notion that &quot;drop database&quot; does not make any auth calls! So yes, there is more work to be done on this end. I&apos;ll be glad to put up a list of other items I felt needed to be changed/fixed.&lt;/p&gt;

&lt;p&gt;c) The userid for performing authorization is obtained from the provided authenticator. I have an implementation of a default MetastoreAuthenticator with this patch which tries to obtain the userid from the ugi that the HMSHandler has access to. I use this because it makes the most sense as it is as that user that HMSHandler uses to create wh objects, and to perform filesystem calls, for example. I&apos;m afraid I don&apos;t know the thrift-side plumbing too well to know where it gets that setting from. As for how it interacts with HS2, again, I don&apos;t know how HS2 itself works, but if HS2 is performing a task on behalf of a user, then it would call create_table_core, for eg., as that user.&lt;/p&gt;

&lt;p&gt;Additional Authentication providers can also be written and plugged in to this scheme - I merely describe how the one I wrote and use works.&lt;/p&gt;</comment>
                            <comment id="13500375" author="robw" created="Mon, 19 Nov 2012 16:58:05 +0000"  >&lt;p&gt;A new JIRA has been opened for the larger issues around the desired semantics of Hive authorization and ensuring they are enforced:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3720&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3720&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13501484" author="sushanth" created="Tue, 20 Nov 2012 21:24:47 +0000"  >&lt;p&gt;@Shreepadma :&lt;/p&gt;

&lt;p&gt;I&apos;ve now updated the diff with a reference implementation of a StorageBasedAuthorizationProvider, which is a port of HCatalog&apos;s HdfsAuthorizationProvider.&lt;/p&gt;</comment>
                            <comment id="13501485" author="phabricator@reviews.facebook.net" created="Tue, 20 Nov 2012 21:24:57 +0000"  >&lt;p&gt;khorgath updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Adding authorization capability to the metastore&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Passing on HMSHandler to MetastoreAuthenticator as well, added in reference implementation of a StorageBasedAuthorizationProvider&lt;br/&gt;
  as an example of implementable metastore-side AuthorizationProviders&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultAuthenticator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultMetastoreAuthenticator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HiveMetastoreAuthenticationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/BitSetCheckedAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveAuthorizationProviderBase.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/DummyHiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/InjectableDummyAuthenticator.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestDefaultHiveMetastoreAuthorizationProvider.java&lt;/p&gt;

&lt;p&gt;To: JIRA, khorgath&lt;/p&gt;</comment>
                            <comment id="13501500" author="sushanth" created="Tue, 20 Nov 2012 21:31:31 +0000"  >&lt;p&gt;@Ashutosh : And in case there are any issues with merging against trunk, I&apos;m attaching a monolithic git patch as well.&lt;/p&gt;</comment>
                            <comment id="13504069" author="phabricator@reviews.facebook.net" created="Mon, 26 Nov 2012 20:34:57 +0000"  >&lt;p&gt;ashutoshc has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Adding authorization capability to the metastore&quot;.&lt;/p&gt;

&lt;p&gt;  Please see inline comments.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  conf/hive-default.xml.template:1254 I think it can be better worded as ...&lt;br/&gt;
  The hive metastore authorization..&lt;br/&gt;
  conf/hive-default.xml.template:1269 same as previous comment.&lt;br/&gt;
  conf/hive-default.xml.template:1269 This will read better as &quot;The authorization manager class name...&quot;&lt;br/&gt;
  conf/hive-default.xml.template:1284 Same as above.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultMetastoreAuthenticator.java:27 It seems that you have created new interface HiveMetaStoreAuthenticationProvider and added method setHandler() just to setConf(). If this is the only reason, then there is no need of this new interface, since HiveAuthenticationProvider already extends Configurable and at instantiation time of this interface in HiveUtils, you have access to conf which you can set. So, this interface and this new implementation of it seems overkill.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HiveMetastoreAuthenticationProvider.java:25 Need to update this javadoc.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:62 Is there any reason for creating new instance of HiveConf? You can just save passed-in config.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:64 Ideally, this bool should not be checked in here. If pre-event listener is already set for this listener class, we can safely assume that he intends this listener to fire and checks to happen.&lt;/p&gt;

&lt;p&gt;  Infact, I don&apos;t see point of this boolean in HiveConf at all. Since, these checks are meant to be invoked via listener interface, if user has to consciously put these class names in the config. Why then he has to also set that boolean to be true?&lt;/p&gt;

&lt;p&gt;  More configs usually results in more confusion.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:125 This will break chaining of exception stack. I think it will be better done as:&lt;br/&gt;
  InvalidOperationException ex = new InvalidOperationException(e.getMessage());&lt;br/&gt;
  ex.initCause(e.getCause());&lt;br/&gt;
  throw ex;&lt;/p&gt;

&lt;p&gt;  Same comment applies for all other try-catch blocks.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:112 For all other operations (including grant, revoke etc.) no checks are performed and are allowed straight through. I think you should add a note in javadoc of this listener class that it only performs checks for create/add/alter/drop of db/tbl/partitions.&lt;/p&gt;

&lt;p&gt;  I am not sure if following deployment is supported: This listener configured with DefaultHiveAuthProvider which does auth based on privs stored in metastore? If it is, then it has same problem which that provider has. User can grant himself all privs, no checks are done for that and then drop tables/dbs. I understand you are not improving semantics in this patch, but merely shifting checks on metastore from client, but just wanted to make sure my understanding is correct.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:232 This method should be private.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:250 This method should be private.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:256 Why is this needed ? In particular, this will set location of partition to table&apos;s location in null-case. Is that desirable?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java:30 You can just cast (HiveConf)conf, instead of doing new HiveConf()?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:49 This is also defined in HiveMetaStore. This should be statically defined in HiveConf and should be referenced from there, instead of private copy in each class.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:165 I am not sure about this, but is this about creating index, in which case Write makes sense or is this about reading indexing, in which case read should suffice ?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:168 Same as above. Locks could be a shared lock or exclusive lock, resulting in equivalent of read and write privs?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:301 This method already exists in HiveMetaStore ? Either we make that public or put that in some utils class, so its useful at both places.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:308 This method looks same as Warehouse::getDatabasePath(), we should reuse that.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:95 These two checks should be performed on table.getPath()&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:77 If db == null here that sounds like a bug upstream. Masking that bug in authorize() doesnt only mask that bug, it weakens this check as well.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:89 Same comment as above for db == null.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:117 This method should be private.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:111 Same comment as above for null check.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:122 In what case part or its location will be null, such that making that check instead on table makes sense?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:218 For better exception chaining, please do initCause() for all exceptions before throwing them.&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java:44 Instead of hard-coding port number, use the standard trick to find free port on the system.&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestDefaultHiveMetastoreAuthorizationProvider.java:137 It will make sense to check response string which user gets here, it should be Access denied or some such. Can you add check for that as well.&lt;/p&gt;

&lt;p&gt;  Checking for responseCode is good, but it will be better to check for exception type that is expected.&lt;/p&gt;

&lt;p&gt;  If not possible via Driver, we should construct test in some other fashion, which makes that plausible, perhaps via HiveMetaStoreClient?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, khorgath&lt;/p&gt;</comment>
                            <comment id="13505064" author="phabricator@reviews.facebook.net" created="Tue, 27 Nov 2012 23:44:57 +0000"  >&lt;p&gt;khorgath has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Adding authorization capability to the metastore&quot;.&lt;/p&gt;

&lt;p&gt;  Replied to a few of the review comments.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  conf/hive-default.xml.template:1269 Agreed, changing.&lt;br/&gt;
  conf/hive-default.xml.template:1284 Agreed, changing&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultMetastoreAuthenticator.java:27  Not true. The handler that is set is used to do things like fetch dbs, fetch privilege bitmaps, etc for the Default authorizer, and in general, as an interface point, it is an important bit of functionality to extend to the authorization managers that run on the metastore-side to check metadata. Without this, a metastore-side authorization provider will wind up making much more costly calls (instantiating a hive object/etc) to do any metadata fetches.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HiveMetastoreAuthenticationProvider.java:25 Agreed, done.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:62 It was because we want some HiveConf parameters from a HiveConf object, but the PreEventListener interface is set up to be instantiated by a Configuration object as opposed to a HiveConf object. In implementation, it is instantiated with a HiveConf which is-a Configuration, and thus, we can get away with it, but this is a case of relying on implementation as opposed to interface. That said, this is easily fixed by HiveConf.getVar used by MetastoreUtils, so I was avoiding a nonexistant problem. Fixed.&lt;/p&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:64 I did not want to leave metastore-auth to a side-effect of configuring the AuthorizationPreListener, and wanted to have the metastore-side auth config to mimic client-side auth config, but I see the benefit in what you&apos;re suggesting. I&apos;ll change it.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:112  The listener can only act on the types of events that a listener is triggered for. We&apos;d have to follow it up by changing so that grant/revokes also cause events. But yes, will change javadoc to reflect. And yes, your understanding is correct, a user can still use a DefaultHiveMetastoreAuthProvider and grant privileges to themselves with this patch. We&apos;d have to change that further as we improve it.&lt;/p&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:125 Good point, changing.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:232 Agreed, was a result of an eclipse refactor default, changed.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:250 Agreed, was a result of an eclipse refactor default, changed.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:256 This is needed because leaving it as null(as the case will be with Partition objects yet to be created) will cause a NullPointerException when trying to construct a ql.metadata.Partition, which assumes a .getSd() will not return null. Given that we then need to pick a default, the table&apos;s .getSd() is a useful default for when the Partition object has not yet been populated. This way, authorizaton providers can check the table directory for permissions if they need to, rather than being faced with a null, which is not useful. Also, the only place this is used is for Authorization, so it does not affect the rest of the codeflow.&lt;/p&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java:30 This would be a bad idea because you&apos;re being passed a Configuration object. I understand that in practice you&apos;ll likely get a HiveConf object, but this type of runtime casting is asking for trouble later on when someone instantiates it with a Configuration object.&lt;/p&gt;

&lt;p&gt;  We can do runtime checks to see if we got passed a HiveConf object, in which case we retain it, or if we got a Configuration object, in which case we create a new HiveConf, but that leads to kludgy code.&lt;/p&gt;

&lt;p&gt;  If we want to prevent instantiating a HiveConf object, then either Hive.get needs to change to accept a Configuration, or HiveAuthorizationProvider.init interface needs to change to require a HiveConf. Also, this is not new code, this is taken verbatim from HiveAuthorizationProviderBase that already did this.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, khorgath&lt;/p&gt;</comment>
                            <comment id="13505754" author="phabricator@reviews.facebook.net" created="Wed, 28 Nov 2012 18:32:57 +0000"  >&lt;p&gt;khorgath has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Adding authorization capability to the metastore&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:49  Good point. Thought about it a bit, and decided that the best place for this constant was in MetaStoreUtils along with some other similar constants there. Have refactored to push it there.&lt;/p&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:77  Agreed. Removing. I was mimicing existing code in HCatalog&apos;s HDFS Auth Provider, but you&apos;re right, we need to be stricter.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:89 Agreed, same response.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:111 Agreed, same response.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:95 getPath is equivalent to a path constructed on table.getTTable().getSd().getLocation() only if it is nonEmpty, which it is in the else segment. Have made it clearer by avoiding referencing .getPath altogether.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:117 Done.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:122 There isn&apos;t a case with partition being null, removing that bit as with 77,89 and 111 above. But it is possible for the location to be null as with the case of creating a partition - when the PreEventListener is triggered, it&apos;s possible for the part location to be null, in which case the correct behaviour is to check the table&apos;s permissions.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:165 Interesting question - I assumed it was for creating an Index. That said, this is currently unused in Hive - there&apos;s no reference to this that I find in the codebase.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:168 Ditto as with 165, but with the exception that HiveOperation does define them as read privileges for both LOCKTABLE and UNLOCKTABLE. That doesn&apos;t sound terribly right to me, as I don&apos;t think read privileges are enough to be able to perform either of these operations. I&apos;m going to leave this as-is, and ditto with the INDEX case above unless you think we should change it. At any rate, these are not privileges currently in use, even if LOCK is partially defined.&lt;/p&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:218  Agreed, changing across all files in this patch.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:301 I was trying to keep changes minimal and not change HiveMetaStore too much, but yes, okay, refactoring, moving over to Warehouse&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:308 This does not reimplement Warehouse::getDatabasePath, it extends it(it calls it) by providing a default path if the location was null.&lt;/p&gt;

&lt;p&gt;  ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java:44 Agreed, done across tests.&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestDefaultHiveMetastoreAuthorizationProvider.java:137 Added as requested.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, khorgath&lt;/p&gt;</comment>
                            <comment id="13505764" author="phabricator@reviews.facebook.net" created="Wed, 28 Nov 2012 18:40:57 +0000"  >&lt;p&gt;khorgath updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Adding authorization capability to the metastore&quot;.&lt;br/&gt;
Reviewers: JIRA, ashutoshc&lt;/p&gt;

&lt;p&gt;  Updates per review comments&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/Warehouse.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultAuthenticator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultMetastoreAuthenticator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HiveMetastoreAuthenticationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/BitSetCheckedAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveAuthorizationProviderBase.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/DummyHiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/InjectableDummyAuthenticator.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestDefaultHiveMetastoreAuthorizationProvider.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, khorgath&lt;/p&gt;</comment>
                            <comment id="13509042" author="phabricator@reviews.facebook.net" created="Mon, 3 Dec 2012 20:57:57 +0000"  >&lt;p&gt;ashutoshc has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Adding authorization capability to the metastore&quot;.&lt;/p&gt;

&lt;p&gt;  Patch is getting close. I added few more comments, mostly around documenting semantics used in the patch.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:256 This warrants a java-doc comment that in case of partition for which location is not available yet, table&apos;s location is used. This will be the case when some one does alter table add partition.&lt;br/&gt;
  Actually, this will be true even in case of create table, where dir will get created only after the authorization has happened, so will it check permissions of parent ?&lt;/p&gt;

&lt;p&gt;  I think it will be good to add java-doc of all the scenarios, which dir will be used to base authentication. e.g., in case if user does create table and provides location and dir already exists, then that dir is used, otherwise parent dir.&lt;/p&gt;

&lt;p&gt;  Semantics of which dir is used in which use-case need to be called out for explicitly. I assume your semantics model is based on &lt;a href=&quot;http://wiki.apache.org/pig/Howl/HowlAuthorizationProposal&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/pig/Howl/HowlAuthorizationProposal&lt;/a&gt; and &lt;a href=&quot;http://wiki.apache.org/pig/Howl/AuthorizationImplNotes&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/pig/Howl/AuthorizationImplNotes&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  If so, please document various pieces of code of this patch with all this information.&lt;/p&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultMetastoreAuthenticator.java:27 You don&apos;t store the handler, just use its conf. So, I don&apos;t see how this interface and its impl is useful as it stands today.&lt;br/&gt;
  On the other hand, I agree that, this is an important interface and is good to have this interface here because there could be alternative impl possible here. So, lets have the interface.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:122 As I noted above, these kind of semantic decision need to be documented in the code.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:168 If they are not used currently than instead of defining semantics now, we should let it fail in default branch and have the exception thrown, such that when someone later does add support for these, we can formalize the semantics.&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java:44 In the trunk, this is done via  MetaStoreUtils::startMetaStore() . See, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3724&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3724&lt;/a&gt; for recommended usage pattern for it.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, khorgath&lt;/p&gt;</comment>
                            <comment id="13510776" author="phabricator@reviews.facebook.net" created="Wed, 5 Dec 2012 21:15:57 +0000"  >&lt;p&gt;khorgath has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Adding authorization capability to the metastore&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultMetastoreAuthenticator.java:27 Ah, wait, I see what you mean - sorry, some of my response is because I thought I was responding to the setHandler() method in the Metastore Authorization Provider as opposed to the Metastore Authentication Provider. And yes, as of right now, from the authentication side, all we really need is the conf, but my point, as you note as well, is from a perspective of thinking about what interface makes sense.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java:256 Makes sense, adding.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:122 Agreed. Adding docs.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java:168 Makes sense, changing.&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java:44 That&apos;s useful. Changing.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, khorgath&lt;/p&gt;</comment>
                            <comment id="13526485" author="phabricator@reviews.facebook.net" created="Fri, 7 Dec 2012 16:09:20 +0000"  >&lt;p&gt;khorgath updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Adding authorization capability to the metastore&quot;.&lt;br/&gt;
Reviewers: JIRA, ashutoshc&lt;/p&gt;

&lt;p&gt;  Updating patch for documentation and testing requirements per code review.&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/Warehouse.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultAuthenticator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultMetastoreAuthenticator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/HiveMetastoreAuthenticationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/BitSetCheckedAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveAuthorizationProviderBase.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/DummyHiveMetastoreAuthorizationProvider.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/InjectableDummyAuthenticator.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestDefaultHiveMetastoreAuthorizationProvider.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, khorgath&lt;/p&gt;</comment>
                            <comment id="13526490" author="phabricator@reviews.facebook.net" created="Fri, 7 Dec 2012 16:13:19 +0000"  >&lt;p&gt;khorgath has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Adding authorization capability to the metastore&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java:44 Ashutosh, I have tried rebasing to head, and I do not see the changes in MetaStoreUtils that provides that function. This may probably be because I modify MetaStoreUtils in my patch as well, so I have updated the latest patch as if that were available.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6681&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6681&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, khorgath&lt;/p&gt;</comment>
                            <comment id="13526491" author="sushanth" created="Fri, 7 Dec 2012 16:13:32 +0000"  >&lt;p&gt;Adding incremental patches in case the phabricator-generated patch does not cleanly apply (which it does not on my setup)&lt;/p&gt;</comment>
                            <comment id="13526494" author="sushanth" created="Fri, 7 Dec 2012 16:15:17 +0000"  >&lt;p&gt;In my setup, the phabricator-generated patch does not cleanly apply on trunk, so I have generated incremental patches for each of the review changes. So, to apply this patch in full, the following patches can be applied in order :&lt;/p&gt;

&lt;p&gt;hive-backend-auth.2.git.patch -&amp;gt; hive-backend-auth.post-review.git.patch -&amp;gt; hive-backend-auth.post-review-part2.git.patch -&amp;gt; hive-backend-auth.post-review-part3.git.patch&lt;/p&gt;</comment>
                            <comment id="13526958" author="sushanth" created="Sat, 8 Dec 2012 01:31:28 +0000"  >&lt;p&gt;Attaching monolithic patch generated from svn trunk to make applying easier.&lt;/p&gt;</comment>
                            <comment id="13527216" author="ashutoshc" created="Sat, 8 Dec 2012 18:00:14 +0000"  >&lt;p&gt;+1 Running tests.&lt;/p&gt;</comment>
                            <comment id="13527313" author="ashutoshc" created="Sun, 9 Dec 2012 01:02:20 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Sushanth!&lt;br/&gt;
I tried applying this on 0.10 branch, patch doesn&apos;t apply. Can you please generate a consolidated backport patch for 0.10&lt;/p&gt;</comment>
                            <comment id="13527404" author="hudson" created="Sun, 9 Dec 2012 11:04:10 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1844 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1844/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1844/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; : Adding authorization capability to the metastore (Sushanth Sowmyan via Ashutosh Chauhan) (Revision 1418802)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1418802&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1418802&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/Warehouse.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultAuthenticator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultMetastoreAuthenticator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/HiveMetastoreAuthenticationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/BitSetCheckedAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveMetastoreAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveAuthorizationProviderBase.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveMetastoreAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/security/DummyHiveMetastoreAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/security/InjectableDummyAuthenticator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/security/TestDefaultHiveMetastoreAuthorizationProvider.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13527916" author="sushanth" created="Mon, 10 Dec 2012 12:56:19 +0000"  >&lt;p&gt;I&apos;ve regenerated this patch for svn branch-0.10, but with the changes in the testcases, we also require the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3724&quot; title=&quot;Metastore tests use hardcoded ports&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3724&quot;&gt;&lt;del&gt;HIVE-3724&lt;/del&gt;&lt;/a&gt; to be applied to 0.10 first. I&apos;ll attach a patch there too for the patch ported to branch-0.10.&lt;/p&gt;</comment>
                            <comment id="13529478" author="ashutoshc" created="Tue, 11 Dec 2012 23:30:49 +0000"  >&lt;p&gt;Committed to 0.10 branch. Thanks, Sushanth!&lt;/p&gt;</comment>
                            <comment id="13547870" author="hudson" created="Wed, 9 Jan 2013 10:23:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt; : Adding authorization capability to the metastore (Sushanth Sowmyan via Ashutosh Chauhan) (Revision 1418802)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1418802&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1418802&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/Warehouse.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultAuthenticator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/HadoopDefaultMetastoreAuthenticator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/HiveMetastoreAuthenticationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/AuthorizationPreEventListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/BitSetCheckedAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/DefaultHiveMetastoreAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveAuthorizationProviderBase.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/HiveMetastoreAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/security/authorization/StorageBasedAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/security/DummyHiveMetastoreAuthorizationProvider.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/security/InjectableDummyAuthenticator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/security/TestAuthorizationPreEventListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/security/TestDefaultHiveMetastoreAuthorizationProvider.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550108" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:25 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12671467">HIVE-5402</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12662972">HIVE-5048</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12642650">HIVE-4363</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12553293" name="HIVE-3705.D6681.1.patch" size="76695" author="phabricator@reviews.facebook.net" created="Tue, 13 Nov 2012 09:51:11 +0000"/>
                            <attachment id="12553611" name="HIVE-3705.D6681.2.patch" size="79148" author="phabricator@reviews.facebook.net" created="Thu, 15 Nov 2012 03:12:11 +0000"/>
                            <attachment id="12554410" name="HIVE-3705.D6681.3.patch" size="95758" author="phabricator@reviews.facebook.net" created="Tue, 20 Nov 2012 21:24:57 +0000"/>
                            <attachment id="12555213" name="HIVE-3705.D6681.4.patch" size="102702" author="phabricator@reviews.facebook.net" created="Wed, 28 Nov 2012 18:40:57 +0000"/>
                            <attachment id="12559885" name="HIVE-3705.D6681.5.patch" size="103577" author="phabricator@reviews.facebook.net" created="Fri, 7 Dec 2012 16:09:20 +0000"/>
                            <attachment id="12560173" name="HIVE-3705.giant.svn-0.10.patch" size="115363" author="sushanth" created="Mon, 10 Dec 2012 12:56:58 +0000"/>
                            <attachment id="12560003" name="HIVE-3705.giant.svn.patch" size="114627" author="sushanth" created="Sat, 8 Dec 2012 01:31:28 +0000"/>
                            <attachment id="12554411" name="hive-backend-auth.2.git.patch" size="107423" author="sushanth" created="Tue, 20 Nov 2012 21:31:31 +0000"/>
                            <attachment id="12553879" name="hive-backend-auth.git.patch" size="90425" author="sushanth" created="Sat, 17 Nov 2012 02:47:08 +0000"/>
                            <attachment id="12559887" name="hive-backend-auth.post-review-part2.git.patch" size="952" author="sushanth" created="Fri, 7 Dec 2012 16:13:32 +0000"/>
                            <attachment id="12559888" name="hive-backend-auth.post-review-part3.git.patch" size="12058" author="sushanth" created="Fri, 7 Dec 2012 16:13:32 +0000"/>
                            <attachment id="12559886" name="hive-backend-auth.post-review.git.patch" size="32084" author="sushanth" created="Fri, 7 Dec 2012 16:13:32 +0000"/>
                            <attachment id="12553291" name="hivesec_investigation.pdf" size="400220" author="sushanth" created="Tue, 13 Nov 2012 09:38:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Nov 2012 09:51:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257347</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0jxxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114431</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3706] getBoolVar in FileSinkOperator can be optimized</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3706</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There&apos;s a call to HiveConf.getBoolVar in FileSinkOperator&apos;s processOp method.  In benchmarks we found this call to be using ~2% of the CPU time on simple queries, e.g. INSERT OVERWRITE TABLE t1 SELECT * FROM t2;&lt;/p&gt;

&lt;p&gt;This boolean value, a flag to collect the RawDataSize stat, won&apos;t change during the processing of a query, so we can determine it at initialization and store that value, saving that CPU.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12615927">HIVE-3706</key>
            <summary>getBoolVar in FileSinkOperator can be optimized</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Nov 2012 18:01:55 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:28 +0000</updated>
                            <resolved>Thu, 15 Nov 2012 08:41:28 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13496433" author="kevinwilfong" created="Tue, 13 Nov 2012 19:10:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6693&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6693&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13496447" author="shreepadma" created="Tue, 13 Nov 2012 19:18:10 +0000"  >&lt;p&gt;Looks good. Non committer +1.&lt;/p&gt;</comment>
                            <comment id="13496451" author="shreepadma" created="Tue, 13 Nov 2012 19:20:29 +0000"  >&lt;p&gt;@Kevin: We should see if there are other opportunities to move such checks from execution to operator initialization.&lt;/p&gt;</comment>
                            <comment id="13496464" author="kevinwilfong" created="Tue, 13 Nov 2012 19:27:49 +0000"  >&lt;p&gt;Agreed, this one just stuck out.&lt;/p&gt;</comment>
                            <comment id="13496500" author="cwsteinbach" created="Tue, 13 Nov 2012 20:08:33 +0000"  >&lt;p&gt;+1. Please commit if tests pass. Thanks.&lt;/p&gt;</comment>
                            <comment id="13497788" author="namit" created="Thu, 15 Nov 2012 06:02:08 +0000"  >&lt;p&gt;Running tests - will commit if tests pass.&lt;br/&gt;
Ideally, checks like this should be part of plan, and we should not look at the conf. at runtime.&lt;br/&gt;
This will make the explain plan be able to log these values.&lt;/p&gt;

&lt;p&gt;However, this is outside the scope of this task, and can be performed in a follow-up.&lt;/p&gt;</comment>
                            <comment id="13497845" author="namit" created="Thu, 15 Nov 2012 08:41:28 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13498207" author="hudson" created="Thu, 15 Nov 2012 18:31:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1798 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1798/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1798/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3706&quot; title=&quot;getBoolVar in FileSinkOperator can be optimized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3706&quot;&gt;&lt;del&gt;HIVE-3706&lt;/del&gt;&lt;/a&gt; getBoolVar in FileSinkOperator can be optimized&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1409691)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409691&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409691&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547869" author="hudson" created="Wed, 9 Jan 2013 10:23:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3706&quot; title=&quot;getBoolVar in FileSinkOperator can be optimized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3706&quot;&gt;&lt;del&gt;HIVE-3706&lt;/del&gt;&lt;/a&gt; getBoolVar in FileSinkOperator can be optimized&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1409691)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409691&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409691&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550121" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:28 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12616190">HIVE-3710</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12553350" name="HIVE-3706.1.patch.txt" size="1578" author="kevinwilfong" created="Tue, 13 Nov 2012 19:11:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Nov 2012 19:18:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257507</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k2wn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>115288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3707] Round map/reduce progress down when it is in the range [99.5, 100)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3707</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In HadoopJobExecHelper the mapProgress and reduceProgress are the value of these counters taken from the running job rounded to an integer percentage.  This means that e.g. if the mappers are 99.5% done this is stored as 100%.&lt;/p&gt;

&lt;p&gt;One of the most common questions I see from new users is, the map and reduce both report being 100% done, why is the query still running?&lt;/p&gt;

&lt;p&gt;By rounding down the value in this interval so it&apos;s only 100% when it&apos;s really 100% we could avoid that confusion.&lt;/p&gt;

&lt;p&gt;Also, the way it appears the QueryPlan and MapRedTask determine if the map/reduce phases are done is by checking if this value == 100.  I couldn&apos;t find anywhere where they&apos;re used for anything significant, but they&apos;re reporting early completion.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12615954">HIVE-3707</key>
            <summary>Round map/reduce progress down when it is in the range [99.5, 100)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Nov 2012 20:00:19 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:43 +0000</updated>
                            <resolved>Thu, 15 Nov 2012 07:59:46 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Logging</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13496653" author="kevinwilfong" created="Tue, 13 Nov 2012 23:10:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6705&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6705&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13496946" author="mgrover" created="Wed, 14 Nov 2012 08:42:17 +0000"  >&lt;p&gt;+1 on the idea!&lt;/p&gt;</comment>
                            <comment id="13497776" author="namit" created="Thu, 15 Nov 2012 05:37:32 +0000"  >&lt;p&gt;+1 on the implementation too.&lt;/p&gt;</comment>
                            <comment id="13497828" author="namit" created="Thu, 15 Nov 2012 07:59:46 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13498209" author="hudson" created="Thu, 15 Nov 2012 18:31:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1798 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1798/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1798/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3707&quot; title=&quot;Round map/reduce progress down when it is in the range [99.5, 100)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3707&quot;&gt;&lt;del&gt;HIVE-3707&lt;/del&gt;&lt;/a&gt; Round map/reduce progress down when it is in the range [99.5, 100)&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1409680)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409680&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409680&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547882" author="hudson" created="Wed, 9 Jan 2013 10:23:26 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3707&quot; title=&quot;Round map/reduce progress down when it is in the range [99.5, 100)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3707&quot;&gt;&lt;del&gt;HIVE-3707&lt;/del&gt;&lt;/a&gt; Round map/reduce progress down when it is in the range [99.5, 100)&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1409680)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409680&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409680&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550189" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:43 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12553400" name="HIVE-3707.1.patch.txt" size="981" author="kevinwilfong" created="Tue, 13 Nov 2012 23:10:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 Nov 2012 08:42:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257535</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k33b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>115318</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3708] Add mapreduce workflow information to job configuration</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3708</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Adding workflow properties to the job configuration would enable logging and analysis of workflows in addition to individual MapReduce jobs.  Suggested properties include a workflow ID, workflow name, adjacency list connecting nodes in the workflow, and the name of the current node in the workflow.&lt;/p&gt;

&lt;p&gt;mapreduce.workflow.id - a unique ID for the workflow, ideally prepended with the application name&lt;br/&gt;
e.g. hive_&amp;lt;hiveQueryId&amp;gt;&lt;/p&gt;

&lt;p&gt;mapreduce.workflow.name - a name for the workflow, to distinguish this workflow from other workflows and to group different runs of the same workflow&lt;br/&gt;
e.g. hive query string&lt;/p&gt;

&lt;p&gt;mapreduce.workflow.adjacency - an adjacency list for the workflow graph, encoded as mapreduce.workflow.adjacency.&amp;lt;source node&amp;gt; = &amp;lt;comma-separated list of target nodes&amp;gt;&lt;/p&gt;

&lt;p&gt;mapreduce.workflow.node.name - the name of the node corresponding to this MapReduce job in the workflow adjacency list&lt;/p&gt;</description>
                <environment></environment>
        <key id="12615962">HIVE-3708</key>
            <summary>Add mapreduce workflow information to job configuration</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="billie.rinaldi">Billie Rinaldi</assignee>
                                    <reporter username="billie.rinaldi">Billie Rinaldi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Nov 2012 21:25:43 +0000</created>
                <updated>Thu, 16 May 2013 21:10:24 +0000</updated>
                            <resolved>Fri, 26 Apr 2013 15:20:53 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13541406" author="billie.rinaldi" created="Mon, 31 Dec 2012 16:34:38 +0000"  >&lt;p&gt;Changed mapreduce.workflow.name to the job name, a truncated version of the query string.&lt;/p&gt;</comment>
                            <comment id="13642095" author="billie.rinaldi" created="Thu, 25 Apr 2013 19:08:07 +0000"  >&lt;p&gt;Attached patch rebased on trunk.&lt;/p&gt;</comment>
                            <comment id="13642193" author="ashutoshc" created="Thu, 25 Apr 2013 20:47:36 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13642948" author="ashutoshc" created="Fri, 26 Apr 2013 15:20:53 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Billie!&lt;/p&gt;</comment>
                            <comment id="13643562" author="hudson" created="Sat, 27 Apr 2013 06:38:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2080 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2080/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2080/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3708&quot; title=&quot;Add mapreduce workflow information to job configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3708&quot;&gt;&lt;del&gt;HIVE-3708&lt;/del&gt;&lt;/a&gt; : Add mapreduce workflow information to job configuration (Billie Rinaldi via Ashutosh Chauhan) (Revision 1476252)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476252&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13643607" author="hudson" created="Sat, 27 Apr 2013 08:42:28 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #176 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/176/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/176/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3708&quot; title=&quot;Add mapreduce workflow information to job configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3708&quot;&gt;&lt;del&gt;HIVE-3708&lt;/del&gt;&lt;/a&gt; : Add mapreduce workflow information to job configuration (Billie Rinaldi via Ashutosh Chauhan) (Revision 1476252)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1476252&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12562803" name="HIVE-3708.patch" size="2567" author="billie.rinaldi" created="Mon, 31 Dec 2012 16:34:38 +0000"/>
                            <attachment id="12553371" name="HIVE-3708.patch" size="2565" author="billie.rinaldi" created="Tue, 13 Nov 2012 21:32:46 +0000"/>
                            <attachment id="12580563" name="HIVE-3708_1.patch" size="2563" author="billie.rinaldi" created="Thu, 25 Apr 2013 19:08:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Apr 2013 20:47:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257568</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 39 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k3an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>115351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3709] Stop storing default ConfVars in temp file</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3709</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;To work around issues with Hadoop&apos;s Configuration object, specifically it&apos;s addResource(InputStream), default configurations are written to a temp file (I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2362&quot; title=&quot;HiveConf properties not appearing in the output of &amp;#39;set&amp;#39; or &amp;#39;set -v&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2362&quot;&gt;&lt;del&gt;HIVE-2362&lt;/del&gt;&lt;/a&gt; introduced this).&lt;/p&gt;

&lt;p&gt;This, however, introduces the problem that once that file is deleted from /tmp the client crashes.  This is particularly problematic for long running services like the metastore server.&lt;/p&gt;

&lt;p&gt;Writing a custom InputStream to deal with the problems in the Configuration object should provide a work around, which does not introduce a time bomb into Hive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616002">HIVE-3709</key>
            <summary>Stop storing default ConfVars in temp file</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Nov 2012 01:39:35 +0000</created>
                <updated>Thu, 16 May 2013 21:10:08 +0000</updated>
                            <resolved>Thu, 29 Nov 2012 04:50:44 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13496751" author="ashutoshc" created="Wed, 14 Nov 2012 01:48:15 +0000"  >&lt;p&gt;+1 for getting rid of writing temp file. I have also been hit by this. &lt;/p&gt;</comment>
                            <comment id="13496763" author="kevinwilfong" created="Wed, 14 Nov 2012 02:12:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6723&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6723&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13496810" author="cwsteinbach" created="Wed, 14 Nov 2012 03:29:49 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13497821" author="cwsteinbach" created="Thu, 15 Nov 2012 07:41:15 +0000"  >&lt;p&gt;@Kevin: While testing I got a failures in TestMTQueries and TestHiveServerSessions. I think these problems can probably be fixed by modifying getConfVarInputStream() to return a new InputStream instead of a cached copy.&lt;/p&gt;</comment>
                            <comment id="13498291" author="kevinwilfong" created="Thu, 15 Nov 2012 20:01:42 +0000"  >&lt;p&gt;Thanks Carl, I switched to caching the byte[] and returning a new InputStream wrapping that byte[]. Now those two tests pass.&lt;/p&gt;</comment>
                            <comment id="13498325" author="cwsteinbach" created="Thu, 15 Nov 2012 20:53:47 +0000"  >&lt;p&gt;+1. Running tests.&lt;/p&gt;</comment>
                            <comment id="13500554" author="cwsteinbach" created="Mon, 19 Nov 2012 19:40:56 +0000"  >&lt;p&gt;@Kevin: I still see errors in TestHiveServerSessions when I run the test individually:&lt;/p&gt;

&lt;p&gt;% ant clean package test -Dtestcase=TestHiveServerSessions&lt;/p&gt;

&lt;p&gt;test:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Project: service&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; WARNING: multiple versions of ant detected in path for junit &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;          jar:&lt;a href=&quot;file:/Users/carl/.local/java/ant/lib/ant.jar!/org/apache/tools/ant/Project.class&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/Users/carl/.local/java/ant/lib/ant.jar!/org/apache/tools/ant/Project.class&lt;/a&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;      and jar:&lt;a href=&quot;file:/Users/carl/Work/repos/hive-test/build/ivy/lib/hadoop0.20.shim/ant-1.6.5.jar!/org/apache/tools/ant/Project.class&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/Users/carl/Work/repos/hive-test/build/ivy/lib/hadoop0.20.shim/ant-1.6.5.jar!/org/apache/tools/ant/Project.class&lt;/a&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.service.TestHiveServerSessions&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Hive history file=/Users/carl/Work/repos/hive-test/build/service/tmp/hive_job_log_carl_201211191056_789001489.txt&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 8.439 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Hive history file=/Users/carl/Work/repos/hive-test/build/service/tmp/hive_job_log_carl_201211191056_788616740.txt&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Fatal Error&amp;#93;&lt;/span&gt; :1:1: Content is not allowed in prolog.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Fatal Error&amp;#93;&lt;/span&gt; :92:58: The element type &quot;name&quot; must be terminated by the matching end-tag &quot;&amp;lt;/name&amp;gt;&quot;.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Test org.apache.hadoop.hive.service.TestHiveServerSessions FAILED&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;for&amp;#93;&lt;/span&gt; /Users/carl/Work/repos/hive-test/service/build.xml: The following error occurred while executing this line:&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;for&amp;#93;&lt;/span&gt; /Users/carl/Work/repos/hive-test/build.xml:325: The following error occurred while executing this line:&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;for&amp;#93;&lt;/span&gt; /Users/carl/Work/repos/hive-test/build-common.xml:455: Tests failed!&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;br/&gt;
/Users/carl/Work/repos/hive-test/build.xml:320: Keepgoing execution: 1 of 12 iterations failed.&lt;/p&gt;</comment>
                            <comment id="13501329" author="kevinwilfong" created="Tue, 20 Nov 2012 17:48:13 +0000"  >&lt;p&gt;Individually ran TestHiveServerSessions (several times), TestHiveServer and TestMTQueries and they passed.  Ran the full ant test and that still passes for me.&lt;/p&gt;</comment>
                            <comment id="13504437" author="ashutoshc" created="Tue, 27 Nov 2012 08:03:27 +0000"  >&lt;p&gt;Kevin, Will &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8573&quot; title=&quot;Configuration tries to read from an inputstream resource multiple times. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8573&quot;&gt;&lt;del&gt;HADOOP-8573&lt;/del&gt;&lt;/a&gt; fix this?&lt;/p&gt;</comment>
                            <comment id="13504814" author="kevinwilfong" created="Tue, 27 Nov 2012 18:21:43 +0000"  >&lt;p&gt;It looks like that fixes the issue on a single thread where it ends up reading from the same InputStream repeatedly, which is why I overrode the close method to reset the InputStream.&lt;/p&gt;

&lt;p&gt;It does not look like it will fix the multi-threaded issue.  If two threads get Configuration objects constructed using the copy constructor, and hence get the same InputStream since the resources are not cloned themselves, and loadResources has not been called before the copy constructor, it looks like it could be possible that both threads call loadResources at about the same time causing the issues Carl was seeing in TestHiveServerSessions.&lt;/p&gt;</comment>
                            <comment id="13505292" author="cwsteinbach" created="Wed, 28 Nov 2012 08:19:55 +0000"  >&lt;p&gt;Another option for fixing this problem is to give administrators the ability to specify the location where the temporary file should be written (for setuid processes running on POSIX systems the conventional location is somewhere under /var). For example we could add a configuration property named hive.process.local.temporary.dir and have it default to ${user.home}/.hive/${process_id}.&lt;/p&gt;
</comment>
                            <comment id="13505455" author="ctm" created="Wed, 28 Nov 2012 14:02:55 +0000"  >&lt;p&gt;I was also looking into this with 3596, I was able to fix utilizing a location similar to the suggestion Carl made above, however I think that pushes the problem to another location, rather than addressing the actual issue. I like where Kevin is going with this fix, I had thought about the possibility of checking the confVarURL in the copy constructor, removing and re-creating if it did not exist, but even that would not be perfect depending upon timing. &lt;/p&gt;</comment>
                            <comment id="13505838" author="kevinwilfong" created="Wed, 28 Nov 2012 19:49:58 +0000"  >&lt;p&gt;I had considered the solution Carl mentioned, but I didn&apos;t go that route because it could result in clutter in the directory specified, in particular we can&apos;t guarantee the file will be deleted in the presence of catastrophic failures.  To solve this the user would need to set up some sort of periodic cleanup which puts us back in the same position.  We might be able to work around this by regularly touching the file, but I&apos;m not 100% sure.&lt;/p&gt;

&lt;p&gt;Carl, are you still seeing threading problems with the most recent patch?  TestHiveServerSessions has been succeeding for me consistently.&lt;/p&gt;</comment>
                            <comment id="13505847" author="ashutoshc" created="Wed, 28 Nov 2012 19:56:57 +0000"  >&lt;p&gt;I am also not in favor of workaround. Writing to a filesystem unnecessarily should be avoided. Kevin&apos;s approach is better.&lt;/p&gt;</comment>
                            <comment id="13506213" author="cwsteinbach" created="Thu, 29 Nov 2012 04:50:44 +0000"  >&lt;p&gt;Committed to trunk. Thanks Kevin!&lt;/p&gt;</comment>
                            <comment id="13506216" author="cwsteinbach" created="Thu, 29 Nov 2012 04:52:02 +0000"  >&lt;p&gt;@Kevin: I tried running TestHiveServerSessions again and wasn&apos;t able to provoke the failure I saw before.&lt;/p&gt;</comment>
                            <comment id="13506407" author="hudson" created="Thu, 29 Nov 2012 11:21:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1824 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1824/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1824/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3709&quot; title=&quot;Stop storing default ConfVars in temp file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3709&quot;&gt;&lt;del&gt;HIVE-3709&lt;/del&gt;&lt;/a&gt;. Stop storing default ConfVars in temp file (Kevin Wilfong via cws) (Revision 1415038)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415038&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415038&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/LoopingByteArrayInputStream.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547880" author="hudson" created="Wed, 9 Jan 2013 10:23:26 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3709&quot; title=&quot;Stop storing default ConfVars in temp file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3709&quot;&gt;&lt;del&gt;HIVE-3709&lt;/del&gt;&lt;/a&gt;. Stop storing default ConfVars in temp file (Kevin Wilfong via cws) (Revision 1415038)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415038&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415038&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/LoopingByteArrayInputStream.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12612412">HIVE-3596</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12553434" name="HIVE-3709.1.patch.txt" size="5445" author="kevinwilfong" created="Wed, 14 Nov 2012 02:13:54 +0000"/>
                            <attachment id="12553692" name="HIVE-3709.2.patch.txt" size="5432" author="kevinwilfong" created="Thu, 15 Nov 2012 20:01:24 +0000"/>
                            <attachment id="12554373" name="HIVE-3709.3.patch.txt" size="7371" author="kevinwilfong" created="Tue, 20 Nov 2012 17:46:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 Nov 2012 01:48:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257615</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k3kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>115397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3710] HiveConf.ConfVars.HIVE_STATS_COLLECT_RAWDATASIZE should not be checked in FileSinkOperator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3710</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It should be part of the plan instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616190">HIVE-3710</key>
            <summary>HiveConf.ConfVars.HIVE_STATS_COLLECT_RAWDATASIZE should not be checked in FileSinkOperator</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Nov 2012 06:03:05 +0000</created>
                <updated>Thu, 16 May 2013 21:10:11 +0000</updated>
                            <resolved>Fri, 22 Feb 2013 03:15:14 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13582706" author="gangtimliu" created="Thu, 21 Feb 2013 00:19:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D8721&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8721&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13582707" author="gangtimliu" created="Thu, 21 Feb 2013 00:19:43 +0000"  >&lt;p&gt;patch is available.&lt;/p&gt;</comment>
                            <comment id="13582790" author="cwsteinbach" created="Thu, 21 Feb 2013 01:48:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;It should be part of the plan instead.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Why should it be part of the plan? Is this patch intended to resolve incorrect behavior, or is it a performance optimization, or ...?&lt;/p&gt;

&lt;p&gt;Please add a test case.&lt;/p&gt;</comment>
                            <comment id="13582797" author="gangtimliu" created="Thu, 21 Feb 2013 01:56:34 +0000"  >&lt;p&gt;It&apos;s follow up on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3706&quot; title=&quot;getBoolVar in FileSinkOperator can be optimized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3706&quot;&gt;&lt;del&gt;HIVE-3706&lt;/del&gt;&lt;/a&gt;. should follow into performance optimization although not as big as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3706&quot; title=&quot;getBoolVar in FileSinkOperator can be optimized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3706&quot;&gt;&lt;del&gt;HIVE-3706&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13582804" author="gangtimliu" created="Thu, 21 Feb 2013 02:01:57 +0000"  >&lt;p&gt;It&apos;s not new feature but moving code from run-time path to compilation path in order to improve performance.&lt;/p&gt;

&lt;p&gt;Thought existing statistics-related test cases have good coverage already.&lt;/p&gt;

&lt;p&gt;Please let me know your thoughts and if it makes sense. I will act accordingly.&lt;/p&gt;

&lt;p&gt;thanks a lot&lt;/p&gt;</comment>
                            <comment id="13582809" author="gangtimliu" created="Thu, 21 Feb 2013 02:14:41 +0000"  >&lt;p&gt;For example, stats0.q ... stats18.q are existing stats-related test cases.&lt;/p&gt;

&lt;p&gt;thanks a lot&lt;/p&gt;</comment>
                            <comment id="13582974" author="gangtimliu" created="Thu, 21 Feb 2013 07:01:01 +0000"  >&lt;p&gt;Add a new test case.&lt;/p&gt;

&lt;p&gt;Existing stas-related test cases cover the case of hive.stats.collect.rawdatasize as true.&lt;/p&gt;

&lt;p&gt;The new test case compares config is on/off in order to ensure &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3710&quot; title=&quot;HiveConf.ConfVars.HIVE_STATS_COLLECT_RAWDATASIZE should not be checked in FileSinkOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3710&quot;&gt;&lt;del&gt;HIVE-3710&lt;/del&gt;&lt;/a&gt; keeps existing logic intact.&lt;/p&gt;

&lt;p&gt;patch is available. both attachment and phabricator. &lt;/p&gt;</comment>
                            <comment id="13583505" author="hudson" created="Thu, 21 Feb 2013 20:08:05 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #96 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/96/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/96/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3710&quot; title=&quot;HiveConf.ConfVars.HIVE_STATS_COLLECT_RAWDATASIZE should not be checked in FileSinkOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3710&quot;&gt;&lt;del&gt;HIVE-3710&lt;/del&gt;&lt;/a&gt; HiveConf.ConfVars.HIVE_STATS_COLLECT_RAWDATASIZE should not be&lt;br/&gt;
checked in FileSinkOperator (Gang Tim Liu via namit) (Revision 1448712)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448712&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448712&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FileSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/stats20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/case_sensitivity.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/cast1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input20.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input9.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_part1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testsequencefile.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testxpath.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testxpath2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/subq.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf_case.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf_when.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/union.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13583519" author="cwsteinbach" created="Thu, 21 Feb 2013 20:21:46 +0000"  >&lt;p&gt;@Tim: Thanks for the explanation.&lt;/p&gt;

&lt;p&gt;@Namit: I think you forgot something.&lt;/p&gt;</comment>
                            <comment id="13583570" author="gangtimliu" created="Thu, 21 Feb 2013 21:36:22 +0000"  >&lt;p&gt;@Carl, you are very welcome.&lt;/p&gt;</comment>
                            <comment id="13583848" author="hudson" created="Fri, 22 Feb 2013 02:55:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1981 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1981/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1981/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3710&quot; title=&quot;HiveConf.ConfVars.HIVE_STATS_COLLECT_RAWDATASIZE should not be checked in FileSinkOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3710&quot;&gt;&lt;del&gt;HIVE-3710&lt;/del&gt;&lt;/a&gt; HiveConf.ConfVars.HIVE_STATS_COLLECT_RAWDATASIZE should not be&lt;br/&gt;
checked in FileSinkOperator (Gang Tim Liu via namit) (Revision 1448712)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448712&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448712&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FileSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/stats20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/case_sensitivity.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/cast1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input20.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input9.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_part1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testsequencefile.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testxpath.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testxpath2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/subq.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf_case.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf_when.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/union.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13583862" author="namit" created="Fri, 22 Feb 2013 03:11:16 +0000"  >&lt;p&gt;Sorry, +1&lt;/p&gt;</comment>
                            <comment id="13583867" author="namit" created="Fri, 22 Feb 2013 03:15:14 +0000"  >&lt;p&gt;Committed. Thanks Tim&lt;/p&gt;</comment>
                            <comment id="13583880" author="gangtimliu" created="Fri, 22 Feb 2013 03:46:12 +0000"  >
&lt;p&gt;Namit, thank you so much Tim&lt;/p&gt;

</comment>
                            <comment id="13583888" author="hudson" created="Fri, 22 Feb 2013 03:58:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #133 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/133/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/133/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3710&quot; title=&quot;HiveConf.ConfVars.HIVE_STATS_COLLECT_RAWDATASIZE should not be checked in FileSinkOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3710&quot;&gt;&lt;del&gt;HIVE-3710&lt;/del&gt;&lt;/a&gt; HiveConf.ConfVars.HIVE_STATS_COLLECT_RAWDATASIZE should not be&lt;br/&gt;
checked in FileSinkOperator (Gang Tim Liu via namit) (Revision 1448712)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448712&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1448712&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FileSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/stats20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/case_sensitivity.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/cast1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input20.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input9.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_part1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testsequencefile.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testxpath.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testxpath2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/subq.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf_case.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf_when.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/union.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12615927">HIVE-3706</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12570215" name="HIVE-3710.patch.1" size="3450" author="gangtimliu" created="Thu, 21 Feb 2013 00:19:25 +0000"/>
                            <attachment id="12570267" name="HIVE-3710.patch.2" size="37905" author="gangtimliu" created="Thu, 21 Feb 2013 05:56:07 +0000"/>
                            <attachment id="12570271" name="HIVE-3710.patch.3" size="45133" author="gangtimliu" created="Thu, 21 Feb 2013 06:58:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Feb 2013 00:19:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kkzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3711] Create UDAF to calculate an array of Benford&apos;s Law</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3711</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Benford&apos;s Law is a useful analytical tool to determine if a number was generated with a random process by evaluating the relative proportions of the leading digit. It can be used to detect accounting, financial, and election fraud.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Benford&amp;#39;s_law&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Wikipedia&apos;s&lt;/a&gt; Benford&apos;s Law page has a good overview.&lt;/p&gt;

&lt;p&gt;Hive is well suited to calculate Benford&apos;s Law. The result should be a named struct with names 1-9 and values being the corresponding proportions of each digit.&lt;/p&gt;

&lt;p&gt;An alternative is to calculate the deviations from Benford&apos;s Law for each digit. The structure of the resulting array would be the same, but the result would be the difference between the actual proportions and the proportions given the by &lt;a href=&quot;http://en.wikipedia.org/wiki/Benford&amp;#39;s_law#Mathematical_statement&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;formula&lt;/a&gt; on Wikipedia.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616230">HIVE-3711</key>
            <summary>Create UDAF to calculate an array of Benford&apos;s Law</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="eshilts">Erik Shilts</reporter>
                        <labels>
                            <label>udf</label>
                    </labels>
                <created>Thu, 15 Nov 2012 12:59:35 +0000</created>
                <updated>Thu, 15 Nov 2012 12:59:35 +0000</updated>
                                                                            <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0klpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118335</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3712] Use varbinary instead of longvarbinary to store min and max column values in column stats schema</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3712</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;JDBC type longvarbinary maps to BLOB SQL type in some databases. Storing min and max column values for numeric types takes up 8 bytes and hence doesn&apos;t require a BLOB. Storing these values in a BLOB will impact performance without providing much benefits. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12616291">HIVE-3712</key>
            <summary>Use varbinary instead of longvarbinary to store min and max column values in column stats schema</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Nov 2012 19:31:29 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:11 +0000</updated>
                            <resolved>Wed, 28 Nov 2012 02:43:39 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13499924" author="shreepadma" created="Sun, 18 Nov 2012 22:07:38 +0000"  >&lt;p&gt;It looks like VARBINARY is not supported across different DBs and DB versions in a consistent manner. Storing 8 bytes in a LONGVARBINARY is an overkill because the LONGVARBINARY is mapped to BLOB type in some DBs. It appears the best solution at this point is to store LONG and DOUBLE min and max values in two separate columns. &lt;/p&gt;</comment>
                            <comment id="13499931" author="shreepadma" created="Sun, 18 Nov 2012 22:21:26 +0000"  >&lt;p&gt;Review board link: &lt;a href=&quot;https://reviews.apache.org/r/8119/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/8119/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13505181" author="ashutoshc" created="Wed, 28 Nov 2012 02:43:39 +0000"  >&lt;p&gt;Taken care of in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3678&quot; title=&quot;Add metastore upgrade scripts for column stats schema changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3678&quot;&gt;&lt;del&gt;HIVE-3678&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13550050" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:11 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="12615045">HIVE-3678</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 28 Nov 2012 02:43:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0km7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118415</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3713] Metastore: Sporadic unit test failures</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3713</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For instance: &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1792/testReport/org.apache.hadoop.hive.metastore/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1792/testReport/org.apache.hadoop.hive.metastore/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Found the following issues:&lt;/p&gt;

&lt;p&gt;testListener: Assumes that a certain tmp database hasn&apos;t been created yet, but doesn&apos;t enforce it&lt;/p&gt;

&lt;p&gt;testSynchronized: Assumes that there&apos;s only one database, but doesn&apos;t enforce the fact&lt;/p&gt;

&lt;p&gt;testDatabaseLocation: Fails if the user running the tests is root and doesn&apos;t clean up after itself.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616325">HIVE-3713</key>
            <summary>Metastore: Sporadic unit test failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Nov 2012 22:29:39 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:09 +0000</updated>
                            <resolved>Fri, 16 Nov 2012 21:40:05 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13498533" author="ashutoshc" created="Fri, 16 Nov 2012 01:51:14 +0000"  >&lt;p&gt;I have also seen these failures in my test runs. Changes look good. +1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13499162" author="ashutoshc" created="Fri, 16 Nov 2012 21:40:05 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Gunther!&lt;/p&gt;</comment>
                            <comment id="13547895" author="hudson" created="Wed, 9 Jan 2013 10:23:30 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3713&quot; title=&quot;Metastore: Sporadic unit test failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3713&quot;&gt;&lt;del&gt;HIVE-3713&lt;/del&gt;&lt;/a&gt; : Metastore: Sporadic unit test failures (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1410581)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1410581&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1410581&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550295" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:09 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12553709" name="HIVE-3713.1-r1409996.txt" size="6574" author="hagleitn" created="Thu, 15 Nov 2012 22:36:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 16 Nov 2012 01:51:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258086</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kms7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118508</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3714] Patch: Hive&apos;s ivy internal resolvers need to use sourceforge for sqlline</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3714</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;While building hive with an internal resolver, ivy fails to resolve sqlline, which needs to be picked up from&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://sourceforge.net/projects/sqlline/files/sqlline/1.0.2/sqlline-1_0_2.jar/download&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sourceforge.net/projects/sqlline/files/sqlline/1.0.2/sqlline-1_0_2.jar/download&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ant package -Dresolvers=internal&lt;/p&gt;

&lt;p&gt;fails with&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ivy:resolve] 	==== datanucleus-repo: tried
[ivy:resolve] 	  -- artifact sqlline#sqlline#1.0.2;1_0_2!sqlline.jar:
[ivy:resolve] 	  http:&lt;span class=&quot;code-comment&quot;&gt;//www.datanucleus.org/downloads/maven2/sqlline/sqlline/1_0_2/sqlline-1_0_2.jar
&lt;/span&gt;[ivy:resolve] 		::::::::::::::::::::::::::::::::::::::::::::::
[ivy:resolve] 		::          UNRESOLVED DEPENDENCIES         ::
[ivy:resolve] 		::::::::::::::::::::::::::::::::::::::::::::::
[ivy:resolve] 		:: sqlline#sqlline#1.0.2;1_0_2: not found
[ivy:resolve] 		::::::::::::::::::::::::::::::::::::::::::::::
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;The attached patch adds sourceforge to the internal resolver list so that if the default sqlline version (&amp;amp; a hadoop snapshot) is used, the build does not fail.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu 12.10 (x86_64)&lt;/p&gt;</environment>
        <key id="12616364">HIVE-3714</key>
            <summary>Patch: Hive&apos;s ivy internal resolvers need to use sourceforge for sqlline</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gopalv">Gopal V</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Nov 2012 08:06:33 +0000</created>
                <updated>Thu, 16 May 2013 21:10:26 +0000</updated>
                            <resolved>Sun, 9 Dec 2012 20:05:26 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13498667" author="gopalv" created="Fri, 16 Nov 2012 08:07:57 +0000"  >&lt;p&gt;Add sourceforge to ivy&apos;s internal resolvers&lt;/p&gt;</comment>
                            <comment id="13527606" author="ashutoshc" created="Sun, 9 Dec 2012 20:05:26 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Gopal!&lt;/p&gt;</comment>
                            <comment id="13527889" author="hudson" created="Mon, 10 Dec 2012 11:41:11 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1847 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1847/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1847/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3714&quot; title=&quot;Patch: Hive&amp;#39;s ivy internal resolvers need to use sourceforge for sqlline&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3714&quot;&gt;&lt;del&gt;HIVE-3714&lt;/del&gt;&lt;/a&gt; : Patch: Hive&apos;s ivy internal resolvers need to use sourceforge for sqlline (Gopal V via Ashutosh Chauhan) (Revision 1419118)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1419118&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1419118&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547897" author="hudson" created="Wed, 9 Jan 2013 10:23:30 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3714&quot; title=&quot;Patch: Hive&amp;#39;s ivy internal resolvers need to use sourceforge for sqlline&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3714&quot;&gt;&lt;del&gt;HIVE-3714&lt;/del&gt;&lt;/a&gt; : Patch: Hive&apos;s ivy internal resolvers need to use sourceforge for sqlline (Gopal V via Ashutosh Chauhan) (Revision 1419118)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1419118&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1419118&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12553754" name="hive-ivy.patch" size="663" author="gopalv" created="Fri, 16 Nov 2012 08:07:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 9 Dec 2012 20:05:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258142</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kn9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Add sourceforge to ivy&amp;#39;s internal resolvers</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3715] float and double calculation is inaccurate in Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3715</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I found this during debug the e2e test failures. I found Hive miss calculate the float and double value. Take float calculation as an example:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; select f from all100k limit 1;&lt;br/&gt;
48308.98&lt;br/&gt;
hive&amp;gt; select f/10 from all100k limit 1;&lt;br/&gt;
4830.898046875   &amp;lt;--added 04875 in the end&lt;br/&gt;
hive&amp;gt; select f*1.01 from all100k limit 1;&lt;br/&gt;
48792.0702734375  &amp;lt;--should be 48792.0698&lt;/p&gt;

&lt;p&gt;It might be essentially the same problem as &lt;a href=&quot;http://effbot.org/pyfaq/why-are-floating-point-calculations-so-inaccurate.htm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://effbot.org/pyfaq/why-are-floating-point-calculations-so-inaccurate.htm&lt;/a&gt;. But since e2e test compare the results with mysql and seems mysql does it right, so it is worthy fixing it in Hive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616462">HIVE-3715</key>
            <summary>float and double calculation is inaccurate in Hive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="dreambird">Johnny Zhang</assignee>
                                    <reporter username="dreambird">Johnny Zhang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Nov 2012 19:19:04 +0000</created>
                <updated>Thu, 3 Sep 2015 07:51:17 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13499334" author="navis" created="Sat, 17 Nov 2012 03:23:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2586&quot; title=&quot;Float comparison doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2586&quot;&gt;&lt;del&gt;HIVE-2586&lt;/del&gt;&lt;/a&gt; might be a help for this.&lt;/p&gt;</comment>
                            <comment id="13534448" author="dreambird" created="Tue, 18 Dec 2012 00:11:13 +0000"  >&lt;p&gt;the reviewboard link &lt;a href=&quot;https://reviews.apache.org/r/8653/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/8653/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13534457" author="kevinwilfong" created="Tue, 18 Dec 2012 00:27:36 +0000"  >&lt;p&gt;Can you do a performance comparison between your new code and the old, I&apos;ve heard that BigDecimal is very inefficient compared to float and double.&lt;/p&gt;</comment>
                            <comment id="13534708" author="namit" created="Tue, 18 Dec 2012 06:51:36 +0000"  >&lt;p&gt;Have you looked at ArciMath BigDecimal - I have not looked at it, but casual browsing suggests it might be faster than BigDecimal.&lt;/p&gt;</comment>
                            <comment id="14728628" author="priancho" created="Thu, 3 Sep 2015 07:47:17 +0000"  >&lt;p&gt;Hi, &lt;/p&gt;


&lt;p&gt;I think I have crushed on this problem too with the following query while testing hive:&lt;br/&gt;
-----------------------------------------------------------------&lt;br/&gt;
explain select&lt;br/&gt;
        sum(l_extendedprice * l_discount) as revenue&lt;br/&gt;
from&lt;br/&gt;
        lineitem&lt;br/&gt;
where&lt;br/&gt;
        l_shipdate &amp;gt;= &apos;1993-01-01&apos;&lt;br/&gt;
        and l_shipdate &amp;lt; &apos;1994-01-01&apos;&lt;br/&gt;
        and l_discount between 0.05 and (0.06 + 0.01)&lt;br/&gt;
        and l_quantity &amp;lt; 25;&lt;br/&gt;
-----------------------------------------------------------------&lt;br/&gt;
The result is wrong and, in the explain result, l_discount&apos;s left boundery is 0.05, &lt;br/&gt;
whereas its right boundary is 0.06999999999999999.&lt;/p&gt;

&lt;p&gt;Someone can tell me what is the status of this problem?&lt;br/&gt;
I think that this is a serious problem and should be patched (and merged into &lt;br/&gt;
 release), but it is open for years...&lt;/p&gt;
</comment>
                            <comment id="14728636" author="priancho" created="Thu, 3 Sep 2015 07:51:17 +0000"  >&lt;p&gt;I have tested Hive 1.1.0-cdh5.4.5&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12531725">HIVE-2586</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12561374" name="HIVE-3715.patch.txt" size="1997" author="dreambird" created="Tue, 18 Dec 2012 00:11:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 17 Nov 2012 03:23:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258304</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kr9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119234</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3716] Create Table Like should support TableProperties</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3716</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Create Table Like currently doesn&apos;t allow the specification of TableProperties for the created table. It will be useful to allow that.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616463">HIVE-3716</key>
            <summary>Create Table Like should support TableProperties</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="bmandhani">Bhushan Mandhani</assignee>
                                    <reporter username="bmandhani">Bhushan Mandhani</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Nov 2012 19:27:48 +0000</created>
                <updated>Fri, 15 Feb 2013 01:59:50 +0000</updated>
                            <resolved>Fri, 15 Feb 2013 01:59:50 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13578890" author="bmandhani" created="Fri, 15 Feb 2013 01:59:50 +0000"  >&lt;p&gt;Fixed by Kevin Wilfong in another jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258305</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kr9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3717] Hive won&apos;t compile with -Dhadoop.mr.rev=20S</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3717</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ant -Dhadoop.mr.rev=20S clean package&lt;/p&gt;

&lt;p&gt;fails with: &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;compile:
     [echo] Project: ql
    [javac] Compiling 744 source files to /root/hive/build/ql/classes
    [javac] /root/hive/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFJson.java:67: cannot find symbol
    [javac] symbol  : variable ALLOW_UNQUOTED_CONTROL_CHARS
    [javac] location: class org.codehaus.jackson.JsonParser.Feature
    [javac]     JSON_FACTORY.enable(Feature.ALLOW_UNQUOTED_CONTROL_CHARS);
    [javac]                                ^
    [javac] /root/hive/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFJson.java:158: cannot find symbol
    [javac] symbol  : method writeValueAsString(java.lang.Object)
    [javac] location: class org.codehaus.jackson.map.ObjectMapper
    [javac]         result.set(MAPPER.writeValueAsString(extractObject));
    [javac]                          ^
    [javac] /root/hive/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFJSONTuple.java:59: cannot find symbol
    [javac] symbol  : variable ALLOW_UNQUOTED_CONTROL_CHARS
    [javac] location: class org.codehaus.jackson.JsonParser.Feature
    [javac]     JSON_FACTORY.enable(Feature.ALLOW_UNQUOTED_CONTROL_CHARS);
    [javac]                                ^
    [javac] /root/hive/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFJSONTuple.java:189: cannot find symbol
    [javac] symbol  : method writeValueAsString(java.lang.Object)
    [javac] location: class org.codehaus.jackson.map.ObjectMapper
    [javac]           retCols[i].set(MAPPER.writeValueAsString(extractObject));
    [javac]                                ^
    [javac] Note: Some input files use or override a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.
    [javac] Note: Some input files use unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked for details.
    [javac] 4 errors
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;According to &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7470&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HADOOP-7470&lt;/a&gt; hadoop 1.x has been upgraded to jackson 1.8.8 but the POM file still specifies jackson 1.0.1 which doesn&apos;t work for hive (doesn&apos;t have the ALLOW_UNQUOTED_CONTROL_CHARS).&lt;/p&gt;

&lt;p&gt;The POM for hadoop 2.0.0-alpha (-Dhadoop.mr.rev=23) has the right dependency, hadoop 0.20.2 (-Dhadoop.mr.rev=20) doesn&apos;t depend on jackson.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616469">HIVE-3717</key>
            <summary>Hive won&apos;t compile with -Dhadoop.mr.rev=20S</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Nov 2012 20:25:05 +0000</created>
                <updated>Thu, 16 May 2013 21:10:59 +0000</updated>
                            <resolved>Tue, 12 Mar 2013 14:49:36 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Build Infrastructure</component>
                    <component>Shims</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13499123" author="hagleitn" created="Fri, 16 Nov 2012 20:28:34 +0000"  >&lt;p&gt;The patch follows some other examples in the ivy config to not download the hadoop 1.x jackson dependency. That let&apos;s you compile hive against 20S.&lt;/p&gt;

&lt;p&gt;The real fix will be to update the POM file for hadoop core though.&lt;/p&gt;</comment>
                            <comment id="13527315" author="ashutoshc" created="Sun, 9 Dec 2012 01:10:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;The real fix will be to update the POM file for hadoop core though.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I tested with latest released hadoop 1.1.1 and I am able to compile fine. Looks, like pom file bug of hadoop is taken care of in 1.1.1 release. So, I suggest to resolve this as won&apos;t fix and recommend folks to compile hadoop with 1.1.1&lt;/p&gt;</comment>
                            <comment id="13545338" author="hagleitn" created="Sun, 6 Jan 2013 07:46:34 +0000"  >&lt;p&gt;More dependency fixes to compile and run tests with 20S (hadoop 1.0.0). Agreed this won&apos;t be necessary when 1.1.2 becomes available (fixes all the dependency issues). However, 1.1.2 isn&apos;t out yet and 1.1.1 is being replaced by 1.1.2 (major bug).&lt;/p&gt;</comment>
                            <comment id="13595235" author="hagleitn" created="Wed, 6 Mar 2013 22:54:07 +0000"  >&lt;p&gt;The day has come. 1.1.2 is out and hive will compile against it without any tweaks to the POM/ivy files.&lt;/p&gt;</comment>
                            <comment id="13595274" author="ashutoshc" created="Wed, 6 Mar 2013 23:26:54 +0000"  >&lt;p&gt;Wuhoo.. finally.. &lt;br/&gt;
+1&lt;/p&gt;</comment>
                            <comment id="13595336" author="ashutoshc" created="Thu, 7 Mar 2013 00:18:03 +0000"  >&lt;p&gt;TestMinimrCliDriver which used to fail earlier is passing now. Thats cool. I think we should also set &lt;tt&gt;hadoop.mr.rev&lt;/tt&gt; to 20S&lt;/p&gt;</comment>
                            <comment id="13595380" author="hagleitn" created="Thu, 7 Mar 2013 01:06:26 +0000"  >&lt;p&gt;Fixed Ashutosh&apos; comment.&lt;/p&gt;</comment>
                            <comment id="13600079" author="ashutoshc" created="Tue, 12 Mar 2013 14:49:36 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Gunther!&lt;/p&gt;</comment>
                            <comment id="13601263" author="hudson" created="Wed, 13 Mar 2013 15:46:42 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2013 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2013/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2013/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3717&quot; title=&quot;Hive won&amp;#39;t compile with -Dhadoop.mr.rev=20S&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3717&quot;&gt;&lt;del&gt;HIVE-3717&lt;/del&gt;&lt;/a&gt; : Hive wont compile with -Dhadoop.mr.rev=20S (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1455560)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455560&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455560&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/archive_excludeHadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_join14.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_join14_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ctas.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ctas_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input12.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input12_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join14.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join14_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join14_hadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ctas_hadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input12_hadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join14_hadoop20.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623048" author="hudson" created="Thu, 4 Apr 2013 23:39:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3717&quot; title=&quot;Hive won&amp;#39;t compile with -Dhadoop.mr.rev=20S&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3717&quot;&gt;&lt;del&gt;HIVE-3717&lt;/del&gt;&lt;/a&gt; : Hive wont compile with -Dhadoop.mr.rev=20S (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1455560)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455560&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1455560&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/archive_excludeHadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_join14.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_join14_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ctas.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ctas_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input12.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input12_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join14.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join14_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join14_hadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ctas_hadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input12_hadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join14_hadoop20.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12616499">HADOOP-9055</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12553831" name="HIVE-3717.1-1410543.txt" size="1590" author="hagleitn" created="Fri, 16 Nov 2012 20:28:34 +0000"/>
                            <attachment id="12563465" name="HIVE-3717.2.patch" size="4594" author="hagleitn" created="Sun, 6 Jan 2013 07:46:34 +0000"/>
                            <attachment id="12572425" name="HIVE-3717.3.patch" size="376" author="hagleitn" created="Wed, 6 Mar 2013 22:54:07 +0000"/>
                            <attachment id="12572449" name="HIVE-3717.4.patch" size="646" author="hagleitn" created="Thu, 7 Mar 2013 01:06:26 +0000"/>
                            <attachment id="12573226" name="HIVE-3717.5.patch" size="22365" author="hagleitn" created="Tue, 12 Mar 2013 01:30:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 9 Dec 2012 01:10:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258334</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0krgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119267</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3718] Add check to determine whether partition can be dropped at Semantic Analysis time</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3718</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12616517">HIVE-3718</key>
            <summary>Add check to determine whether partition can be dropped at Semantic Analysis time</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pamelavagata">Pamela Vagata</assignee>
                                    <reporter username="pamelavagata">Pamela Vagata</reporter>
                        <labels>
                    </labels>
                <created>Sat, 17 Nov 2012 02:41:03 +0000</created>
                <updated>Thu, 16 May 2013 21:10:37 +0000</updated>
                            <resolved>Fri, 4 Jan 2013 02:53:19 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13500492" author="kevinwilfong" created="Mon, 19 Nov 2012 18:46:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6783&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6783&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13500493" author="kevinwilfong" created="Mon, 19 Nov 2012 18:46:36 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13502670" author="namit" created="Thu, 22 Nov 2012 09:20:27 +0000"  >&lt;p&gt;Can you refresh ? This conflicts with patch which got checked in.&lt;/p&gt;</comment>
                            <comment id="13503983" author="pamelavagata" created="Mon, 26 Nov 2012 18:52:12 +0000"  >&lt;p&gt;I just refreshed and attached new patch, it doesn&apos;t look different from the previous one though.&lt;/p&gt;</comment>
                            <comment id="13504365" author="namit" created="Tue, 27 Nov 2012 04:26:19 +0000"  >&lt;p&gt;30005 is already being used. Can you use a new error code ?&lt;/p&gt;</comment>
                            <comment id="13504405" author="pamelavagata" created="Tue, 27 Nov 2012 06:55:55 +0000"  >&lt;p&gt;Got it, I&apos;ve updated to use 30011&lt;/p&gt;</comment>
                            <comment id="13510626" author="pamelavagata" created="Wed, 5 Dec 2012 17:47:07 +0000"  >&lt;p&gt;ping &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Just wanted to make sure this didn&apos;t fall off the radar&lt;/p&gt;</comment>
                            <comment id="13537336" author="pamelavagata" created="Thu, 20 Dec 2012 20:09:01 +0000"  >&lt;p&gt;patch 3 is updated to use 30011 error message&lt;/p&gt;</comment>
                            <comment id="13538840" author="namit" created="Sat, 22 Dec 2012 15:59:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;The patch file looks good. Can you refresh the phabricator entry also ?&lt;/p&gt;</comment>
                            <comment id="13538938" author="pamelavagata" created="Sat, 22 Dec 2012 23:44:47 +0000"  >&lt;p&gt;done, thanks!&lt;/p&gt;</comment>
                            <comment id="13538959" author="namit" created="Sun, 23 Dec 2012 03:27:26 +0000"  >&lt;p&gt;Running tests&lt;/p&gt;</comment>
                            <comment id="13539053" author="namit" created="Sun, 23 Dec 2012 16:43:14 +0000"  >&lt;p&gt;For some reason, I could not run parallel tests on the git patch - applying a new patch to run tests&lt;/p&gt;</comment>
                            <comment id="13539056" author="namit" created="Sun, 23 Dec 2012 16:56:08 +0000"  >&lt;p&gt;drop_partitions_ignore_protection.q fails&lt;/p&gt;</comment>
                            <comment id="13540162" author="pamelavagata" created="Thu, 27 Dec 2012 21:17:09 +0000"  >&lt;p&gt;Sorry about the previous patch - forgot to run git diff with option --no-prefix, I ran the tests with this patch and it all passes.&lt;/p&gt;</comment>
                            <comment id="13540292" author="namit" created="Fri, 28 Dec 2012 04:18:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3718&quot; title=&quot;Add check to determine whether partition can be dropped at Semantic Analysis time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3718&quot;&gt;&lt;del&gt;HIVE-3718&lt;/del&gt;&lt;/a&gt;.5.patch.txt and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3718&quot; title=&quot;Add check to determine whether partition can be dropped at Semantic Analysis time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3718&quot;&gt;&lt;del&gt;HIVE-3718&lt;/del&gt;&lt;/a&gt;.3.patch.txt are exactly the same&lt;/p&gt;</comment>
                            <comment id="13540300" author="pamelavagata" created="Fri, 28 Dec 2012 04:41:12 +0000"  >&lt;p&gt;there isn&apos;t a code difference, the hive-3718.3.patch.txt was produced so that the file names had prefixes on them, which is why you couldn&apos;t run the tests; I ran git diff --no-prefix to produce hive-3718.5.patch.txt and ran the tests to make sure it would work.&lt;/p&gt;</comment>
                            <comment id="13540320" author="namit" created="Fri, 28 Dec 2012 05:30:54 +0000"  >&lt;p&gt;Can you create a phabricator entry also ?&lt;br/&gt;
It is much easier to review.&lt;/p&gt;</comment>
                            <comment id="13540326" author="pamelavagata" created="Fri, 28 Dec 2012 05:38:54 +0000"  >&lt;p&gt;updated &lt;a href=&quot;https://reviews.facebook.net/D6783&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6783&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13540352" author="namit" created="Fri, 28 Dec 2012 06:14:49 +0000"  >&lt;p&gt;Did you run the following test : drop_partitions_ignore_protection.q ?&lt;br/&gt;
Seems like it would fail.&lt;/p&gt;</comment>
                            <comment id="13540356" author="pamelavagata" created="Fri, 28 Dec 2012 06:27:23 +0000"  >&lt;p&gt;I ran all the tests, looks like the test (sa_fail_hook3.q) included with the diff is actually failing - I&apos;ll fix it up.&lt;/p&gt;</comment>
                            <comment id="13542808" author="pamelavagata" created="Thu, 3 Jan 2013 08:55:02 +0000"  >&lt;p&gt;Updated diff &lt;a href=&quot;https://reviews.facebook.net/differential/diff/24891/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/differential/diff/24891/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13543105" author="namit" created="Thu, 3 Jan 2013 17:30:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;


&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="13543558" author="namit" created="Fri, 4 Jan 2013 02:53:19 +0000"  >&lt;p&gt;Committed. Thanks Pamela&lt;/p&gt;</comment>
                            <comment id="13543874" author="hudson" created="Fri, 4 Jan 2013 13:21:26 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1893 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1893/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1893/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3718&quot; title=&quot;Add check to determine whether partition can be dropped at Semantic Analysis time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3718&quot;&gt;&lt;del&gt;HIVE-3718&lt;/del&gt;&lt;/a&gt; Add check to determine whether partition can be dropped at&lt;br/&gt;
Semantic Analysis time (Pamela Vagata via namit) (Revision 1428704)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1428704&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1428704&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/sa_fail_hook3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_nodrop.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_part_no_drop.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_tbl7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_tbl8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/sa_fail_hook3.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547901" author="hudson" created="Wed, 9 Jan 2013 10:23:31 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3718&quot; title=&quot;Add check to determine whether partition can be dropped at Semantic Analysis time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3718&quot;&gt;&lt;del&gt;HIVE-3718&lt;/del&gt;&lt;/a&gt; Add check to determine whether partition can be dropped at&lt;br/&gt;
Semantic Analysis time (Pamela Vagata via namit) (Revision 1428704)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1428704&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1428704&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/sa_fail_hook3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_nodrop.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_part_no_drop.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_tbl7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_tbl8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/sa_fail_hook3.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12554211" name="HIVE-3718.1.patch.txt" size="3522" author="pamelavagata" created="Mon, 19 Nov 2012 19:00:23 +0000"/>
                            <attachment id="12554894" name="HIVE-3718.2.patch.txt" size="3337" author="pamelavagata" created="Mon, 26 Nov 2012 18:51:07 +0000"/>
                            <attachment id="12554971" name="HIVE-3718.3.patch.txt" size="3337" author="pamelavagata" created="Tue, 27 Nov 2012 06:55:55 +0000"/>
                            <attachment id="12562518" name="HIVE-3718.5.patch.txt" size="3309" author="pamelavagata" created="Thu, 27 Dec 2012 21:16:29 +0000"/>
                            <attachment id="12563054" name="HIVE-3718.6.patch.txt" size="9060" author="pamelavagata" created="Thu, 3 Jan 2013 08:52:30 +0000"/>
                            <attachment id="12562276" name="hive.3718.4.patch" size="3313" author="namit" created="Sun, 23 Dec 2012 16:43:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 19 Nov 2012 18:46:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258388</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ksef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119418</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3719] Improve HiveServer to support username/password authentication</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3719</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The current HiveServer implementation (call it HiveServer version 1 to distinguish it from HIveServer2 that is under development currently) does not have any authentication mechanism against connecting clients, which means anyone can access it, e.g. through Hive JDBC driver, without any security control. The user and password property are simply ignored by Hive JDBC driver and never get to HiveServer1.&lt;/p&gt;

&lt;p&gt;It would be good to introduce authentication infrastructure to HiveServer 1, and improve JDBC driver implementation as well to support this, so that together with the existing authorization infrastructure, for applications that want to access HiveServer1 via JDBC driver, connections and operations are under security control.&lt;/p&gt;

&lt;p&gt;Although there&apos;s HiveServer2 that has been under implementation for a while, this improvement for HiveServer1 is very necessary to fill the big security hole, and would benefit applications a lot that are using HiveServer1.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616519">HIVE-3719</key>
            <summary>Improve HiveServer to support username/password authentication</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="crystal_gaoyu">Yu Gao</assignee>
                                    <reporter username="crystal_gaoyu">Yu Gao</reporter>
                        <labels>
                            <label>security</label>
                    </labels>
                <created>Sat, 17 Nov 2012 02:55:16 +0000</created>
                <updated>Thu, 17 Sep 2015 00:30:11 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Authentication</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13499336" author="crystal_gaoyu" created="Sat, 17 Nov 2012 03:29:43 +0000"  >&lt;p&gt;First introduce several new configuration properties:&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
  &amp;lt;name&amp;gt;hive.security.authentication&amp;lt;/name&amp;gt;&lt;br/&gt;
  &amp;lt;value&amp;gt;password&amp;lt;/value&amp;gt;&lt;br/&gt;
  &amp;lt;description&amp;gt;Turn on hive authentication&amp;lt;/description&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
  &amp;lt;name&amp;gt;hive.security.ssl&amp;lt;/name&amp;gt;&lt;br/&gt;
  &amp;lt;value&amp;gt;true/false&amp;lt;/value&amp;gt;&lt;br/&gt;
  &amp;lt;description&amp;gt;If you want to turn on SSL connection between hive jdbc client and hive server, set it to true. false by default&amp;lt;/description&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
  &amp;lt;name&amp;gt;hive.security.password.verification.class&amp;lt;/name&amp;gt;&lt;br/&gt;
  &amp;lt;value&amp;gt;authentication class name&amp;lt;/value&amp;gt;&lt;br/&gt;
  &amp;lt;description&amp;gt;Class for authenticating user credentials&amp;lt;/description&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;Overall design:&lt;br/&gt;
HiveServer Thrift API will remain unchanged, and all changes needed are related to underlying thrift socket connection. Basically use SASL PLAIN mechanism to send username and password from client to server for authentication. In addition, SSL option is also provided to encrypt transmitted data.&lt;/p&gt;

&lt;p&gt;The change is backward compatible, so the new JDBC driver can talk to both old and improved HiveServer, and the old JDBC driver can as well talk to new HiveServer as long as authentication is turned off on the server.&lt;/p&gt;

&lt;p&gt;1. Hive JDBC driver&lt;br/&gt;
If property hive.security.authentication is set to &#8220;password&#8221;, SASL transport with plain mechanism is used, so if there&apos;s no username/password provided throw exception directly on client side; if the property is not set or the value is not password, continue with original socket connection without SASL. Thrift SSL can be enabled by property hive.security.ssl defaulted to false, so if it&apos;s turned on, all transmitted data will be encrypted.&lt;/p&gt;

&lt;p&gt;Client can easily set these two properties through connection arguments, the same way it passes in &quot;user&quot; and &quot;password&quot; property.&lt;/p&gt;

&lt;p&gt;2. Hive server (standalone)&lt;br/&gt;
HiveServer checks property hive.security.authentication, and it will use SASL server transport with plain mechanism if the value is &#8220;password&#8221; (either with SSL or non-SSL per hive.security.ssl). &lt;/p&gt;

&lt;p&gt;Once get the username and password, the server will do authentication by using the class set in property hive.security.password.verification.class. We provide an authentication interface and user-provided class for authentication must inherit from it. &lt;/p&gt;

&lt;p&gt;For authorization, introduce a ugi-assuming processor for HiveServer, similar to the existing one for MetaStore thrift server, which uses an ugi-doAs in its process method, and thus all client calls from the authenticated connection will be within this ugi context and hive authorization will be performed against this user.&lt;/p&gt;

&lt;p&gt;3. Hive server (embedded)&lt;br/&gt;
For embedded hive jdbc server, there&apos;re no socket connections involved and thrift server handler is directly called, so in this case authentication will be performed before handler is called and ugi context can be set through ThreadLocal variable, and of course the way to obtain ugi for authorization in this case will be adjusted accordingly.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12617256">HADOOP-9083</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12756391" name="HIVE-3719.patch" size="97361" author="crystal_gaoyu" created="Thu, 17 Sep 2015 00:30:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258390</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ksfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119422</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3720] Expand and standardize authorization in Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3720</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The existing implementation of authorization in Hive is not complete. Additionally the existing implementation has security holes. This JIRA is an umbrella JIRA  for a) extending authorization to all SQL operations and direct metadata operations, and b) standardizing the authorization model and its semantics to mirror that of MySQL as closely as possible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616679">HIVE-3720</key>
            <summary>Expand and standardize authorization in Hive</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Nov 2012 03:16:13 +0000</created>
                <updated>Sat, 9 Jun 2018 16:14:23 +0000</updated>
                                            <version>0.9.0</version>
                    <version>0.10.0</version>
                    <version>0.10.1</version>
                    <version>0.11.0</version>
                    <version>0.11.1</version>
                    <version>0.12.0</version>
                                                    <component>Authorization</component>
                    <component>Security</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13500000" author="shreepadma" created="Mon, 19 Nov 2012 03:19:14 +0000"  >&lt;p&gt;Attached document outlines the authorization model and its semantics.&lt;/p&gt;</comment>
                            <comment id="13504375" author="namit" created="Tue, 27 Nov 2012 05:01:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shreepadma&quot; class=&quot;user-hover&quot; rel=&quot;shreepadma&quot;&gt;Shreepadma Venugopalan&lt;/a&gt;, how is it different from the current hive authorization model ?&lt;br/&gt;
Is the proposed functionality a superset of the existing one ?&lt;br/&gt;
If yes, can you mark in the wiki, what has been already implemented ?&lt;/p&gt;</comment>
                            <comment id="13507831" author="shreepadma" created="Sat, 1 Dec 2012 01:51:10 +0000"  >&lt;p&gt;@Namit: The authorization model in this proposal mirrors that of MySQL as closely as possible. The proposal also documents wherever there is a deviation from MySQL&apos;s authorization model. Since Hive&apos;s data model is based on that of MySQL, it would make a lot of sense to base the authorization model on MySQL&apos;s as well. The proposed functionality is not necessarily a superset of the existing authorization functionality but subsumes some of the existing functionality. While the existing implementation supports authorization on some HiveQL operations, it doesn&apos;t secure all of the operations, provide a way to bootstrap the system etc. This proposal expands authorization to all HiveQL operations and direct metadata operations that can be performed by invoking the metastore Thrift API. &lt;/p&gt;

&lt;p&gt;As discussed earlier, since the proposed model standardizes the authorization model to mirror that of MySQL, it deviates from the existing model where ever the existing implementation deviates from the authorization model of MySQL or other RDBMSs. The proposed model is also more fine grained and supports hierarchical privileges much like an RDBMS. For instance, the proposed model supports CREATE, ALTER, DROP privileges on objects whereas the current model supports an ALTER_METADATA privilege that includes the privileges needed to perform CREATE, ALTER, DROP etc. Note that one of the goals is to propose an authorization model such that finer grained privileges can be added in as necessary later. &lt;/p&gt;

&lt;p&gt;Since the existing implementation is not complete, it unclear at this point what part of the functionality has been completely implemented. Perhaps we can mark the existing functionality in the wiki once we start implementing the proposed model. Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13165133">HIVE-19843</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12554109" name="Hive_Authorization_Functionality.pdf" size="136942" author="shreepadma" created="Mon, 19 Nov 2012 03:17:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 27 Nov 2012 05:01:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258535</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 8 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ku3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3721] ALTER TABLE ADD PARTS should check for valid partition spec and throw a SemanticException if part spec is not valid</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3721</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12616795">HIVE-3721</key>
            <summary>ALTER TABLE ADD PARTS should check for valid partition spec and throw a SemanticException if part spec is not valid</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pamelavagata">Pamela Vagata</assignee>
                                    <reporter username="pamelavagata">Pamela Vagata</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Nov 2012 19:55:24 +0000</created>
                <updated>Thu, 16 May 2013 21:10:42 +0000</updated>
                            <resolved>Thu, 22 Nov 2012 06:08:54 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13500799" author="pamelavagata" created="Tue, 20 Nov 2012 02:10:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6831&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6831&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13500932" author="namit" created="Tue, 20 Nov 2012 09:12:59 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13501694" author="namit" created="Wed, 21 Nov 2012 04:11:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13502606" author="namit" created="Thu, 22 Nov 2012 06:08:54 +0000"  >&lt;p&gt;Committed. Thanks Pamela&lt;/p&gt;</comment>
                            <comment id="13502935" author="hudson" created="Thu, 22 Nov 2012 21:27:46 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1812 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1812/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1812/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3721&quot; title=&quot;ALTER TABLE ADD PARTS should check for valid partition spec and throw a SemanticException if part spec is not valid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3721&quot;&gt;&lt;del&gt;HIVE-3721&lt;/del&gt;&lt;/a&gt; ALTER TABLE ADD PARTS should check for valid partition spec and throw a SemanticException&lt;br/&gt;
if part spec is not valid (Pamela Vagata via namit) (Revision 1412432)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412432&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412432&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_table_add_partition.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_table_add_partition.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547914" author="hudson" created="Wed, 9 Jan 2013 10:23:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3721&quot; title=&quot;ALTER TABLE ADD PARTS should check for valid partition spec and throw a SemanticException if part spec is not valid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3721&quot;&gt;&lt;del&gt;HIVE-3721&lt;/del&gt;&lt;/a&gt; ALTER TABLE ADD PARTS should check for valid partition spec and throw a SemanticException&lt;br/&gt;
if part spec is not valid (Pamela Vagata via namit) (Revision 1412432)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412432&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412432&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_table_add_partition.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_table_add_partition.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12554281" name="HIVE-3721.1.patch.txt" size="1839" author="pamelavagata" created="Tue, 20 Nov 2012 02:10:01 +0000"/>
                            <attachment id="12554408" name="HIVE-3721.2.patch.txt" size="3015" author="pamelavagata" created="Tue, 20 Nov 2012 21:03:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Nov 2012 09:12:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258665</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l233:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>120988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3722] Create index fails on CLI using remote metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3722</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If the CLI uses a remote metastore and the user attempts to create an index without a comment, it will fail with a NPE.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616827">HIVE-3722</key>
            <summary>Create index fails on CLI using remote metastore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Nov 2012 21:28:06 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:34 +0000</updated>
                            <resolved>Thu, 22 Nov 2012 04:04:17 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13500677" author="kevinwilfong" created="Mon, 19 Nov 2012 22:09:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6819&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6819&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13500828" author="namit" created="Tue, 20 Nov 2012 04:54:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13500834" author="ashutoshc" created="Tue, 20 Nov 2012 05:18:14 +0000"  >&lt;p&gt;Kevin,&lt;br/&gt;
I am not sure if you have looked at the discussion on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2800&quot; title=&quot;NPE in &amp;quot;create index&amp;quot; without comment clause in external metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2800&quot;&gt;&lt;del&gt;HIVE-2800&lt;/del&gt;&lt;/a&gt; Adding a null-check may just be masking an underlying issue. I think it might be worthwhile to uncover it, since this thrift nuisance (of null handling) may bite us again in future.&lt;/p&gt;</comment>
                            <comment id="13500847" author="kevinwilfong" created="Tue, 20 Nov 2012 05:46:47 +0000"  >&lt;p&gt;Ashutosh, I missed that JIRA.  But based on &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1625&quot; title=&quot;Null handling in TBinaryProtocol&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1625&quot;&gt;&lt;del&gt;THRIFT-1625&lt;/del&gt;&lt;/a&gt; it sounds like we have to add a check to our code.&lt;/p&gt;</comment>
                            <comment id="13502227" author="ashutoshc" created="Wed, 21 Nov 2012 19:27:36 +0000"  >&lt;p&gt;Yeah, looks like adding null check is the only possible solution here. +1 &lt;br/&gt;
Kevin / Namit, feel free to commit.&lt;/p&gt;</comment>
                            <comment id="13502569" author="namit" created="Thu, 22 Nov 2012 04:04:17 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13502773" author="hudson" created="Thu, 22 Nov 2012 13:35:37 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1811 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1811/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1811/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3722&quot; title=&quot;Create index fails on CLI using remote metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3722&quot;&gt;&lt;del&gt;HIVE-3722&lt;/del&gt;&lt;/a&gt; Create index fails on CLI using remote metastore&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1412415)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412415&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412415&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHiveRemote.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13503019" author="ashutoshc" created="Fri, 23 Nov 2012 05:00:21 +0000"  >&lt;p&gt;Committed to 0.10 branch as well.&lt;/p&gt;</comment>
                            <comment id="13547913" author="hudson" created="Wed, 9 Jan 2013 10:23:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3722&quot; title=&quot;Create index fails on CLI using remote metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3722&quot;&gt;&lt;del&gt;HIVE-3722&lt;/del&gt;&lt;/a&gt; Create index fails on CLI using remote metastore&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1412415)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412415&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1412415&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHiveRemote.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550151" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:34 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12554244" name="HIVE-3722.1.patch.txt" size="17045" author="kevinwilfong" created="Mon, 19 Nov 2012 22:10:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Nov 2012 04:54:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258698</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l2dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121035</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3723] Hive Driver leaks ZooKeeper connections</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3723</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In certain error cases (i.e.: statement fails to compile, semantic errors) the hive driver leaks zookeeper connections.&lt;/p&gt;

&lt;p&gt;This can be seen in the TestNegativeCliDriver test which accumulates a large number of open file handles and fails if the max allowed number of file handles isn&apos;t at least 2048.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616847">HIVE-3723</key>
            <summary>Hive Driver leaks ZooKeeper connections</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Nov 2012 22:28:45 +0000</created>
                <updated>Tue, 19 Nov 2013 15:14:31 +0000</updated>
                            <resolved>Tue, 27 Nov 2012 17:35:08 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13500699" author="hagleitn" created="Mon, 19 Nov 2012 22:33:58 +0000"  >&lt;p&gt;The patch makes sure that calling &quot;destroy&quot; will always close the lock manager (and thus release the zookeeper connection.)&lt;/p&gt;</comment>
                            <comment id="13503024" author="ashutoshc" created="Fri, 23 Nov 2012 05:19:18 +0000"  >&lt;p&gt;Around line 910 if compile returns non-zero value, then also we releaseLocks(List&amp;lt;Lock&amp;gt;) and then return. There also, we should call destroy() instead of releaseLocks.&lt;/p&gt;</comment>
                            <comment id="13504297" author="hagleitn" created="Tue, 27 Nov 2012 01:49:11 +0000"  >&lt;p&gt;The releaseLocks call happens at various places in the run method. I think that&apos;s fine too, since calling destroy would kill the HiveLockManager which is shared between different context objects (i.e.: That should only happen when someone specifically destroys the driver.)&lt;/p&gt;

&lt;p&gt;As a side note, compile doesn&apos;t seem to acquire any locks - the call is thus just a protection against future versions that could. &lt;/p&gt;</comment>
                            <comment id="13504408" author="ashutoshc" created="Tue, 27 Nov 2012 07:01:35 +0000"  >&lt;p&gt;Hmm.. make sense. +1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13504786" author="ashutoshc" created="Tue, 27 Nov 2012 17:35:08 +0000"  >&lt;p&gt;Committed to trunk and 0.10. Thanks, Gunther!&lt;/p&gt;</comment>
                            <comment id="13505338" author="hudson" created="Wed, 28 Nov 2012 10:07:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1821 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1821/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1821/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3723&quot; title=&quot;Hive Driver leaks ZooKeeper connections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3723&quot;&gt;&lt;del&gt;HIVE-3723&lt;/del&gt;&lt;/a&gt; : Hive Driver leaks ZooKeeper connections (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1414278)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414278&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414278&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547911" author="hudson" created="Wed, 9 Jan 2013 10:23:33 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3723&quot; title=&quot;Hive Driver leaks ZooKeeper connections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3723&quot;&gt;&lt;del&gt;HIVE-3723&lt;/del&gt;&lt;/a&gt; : Hive Driver leaks ZooKeeper connections (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1414278)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414278&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414278&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550030" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:07 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12679970">HIVE-5853</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12554248" name="HIVE-3723.1-r1411423.patch" size="1384" author="hagleitn" created="Mon, 19 Nov 2012 22:31:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Nov 2012 05:19:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l2lj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121071</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3724] Metastore tests use hardcoded ports</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3724</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Several of the metastore tests use hardcoded ports for remote metastore Thrift servers.  This is causing transient failures in Jenkins, e.g. &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1804/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1804/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A few tests already dynamically determine free ports, and this logic can be shared.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616856">HIVE-3724</key>
            <summary>Metastore tests use hardcoded ports</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Nov 2012 23:15:38 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:31 +0000</updated>
                            <resolved>Sat, 1 Dec 2012 04:56:33 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13500723" author="kevinwilfong" created="Mon, 19 Nov 2012 23:17:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6825&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6825&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13506340" author="ashutoshc" created="Thu, 29 Nov 2012 09:10:25 +0000"  >&lt;p&gt;We can reuse MetaStoreUtils::startMetaStore() for some of this refactoring which has a nice property of not waiting for fixed amount of time. See, its usage in TestMetaStoreAuthorization::testMetaStoreAuthorization.&lt;/p&gt;</comment>
                            <comment id="13506946" author="kevinwilfong" created="Thu, 29 Nov 2012 23:37:58 +0000"  >&lt;p&gt;Thanks Ashutosh, switched to using that method in the refactored tests, and deleted the duplicate method.&lt;/p&gt;</comment>
                            <comment id="13507087" author="ashutoshc" created="Fri, 30 Nov 2012 04:33:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13507106" author="mgrover" created="Fri, 30 Nov 2012 05:21:18 +0000"  >&lt;p&gt;+1 (non-committer)&lt;/p&gt;</comment>
                            <comment id="13507865" author="ashutoshc" created="Sat, 1 Dec 2012 04:56:33 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kevin!&lt;/p&gt;</comment>
                            <comment id="13507937" author="hudson" created="Sat, 1 Dec 2012 11:41:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1828 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1828/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1828/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3724&quot; title=&quot;Metastore tests use hardcoded ports&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3724&quot;&gt;&lt;del&gt;HIVE-3724&lt;/del&gt;&lt;/a&gt; : Metastore tests use hardcoded ports (Kevin Wilfong via Ashutosh Chauhan) (Revision 1415917)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415917&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415917&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEndFunctionListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStoreIpAddress.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestSetUGIOnOnlyClient.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestSetUGIOnOnlyServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13527917" author="sushanth" created="Mon, 10 Dec 2012 12:58:06 +0000"  >&lt;p&gt;Adding 0.10 version of the patch.&lt;/p&gt;</comment>
                            <comment id="13529406" author="ashutoshc" created="Tue, 11 Dec 2012 22:34:26 +0000"  >&lt;p&gt;Committed to 0.10 branch. Thanks, Sushanth for backport!&lt;/p&gt;</comment>
                            <comment id="13547910" author="hudson" created="Wed, 9 Jan 2013 10:23:33 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3724&quot; title=&quot;Metastore tests use hardcoded ports&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3724&quot;&gt;&lt;del&gt;HIVE-3724&lt;/del&gt;&lt;/a&gt; : Metastore tests use hardcoded ports (Kevin Wilfong via Ashutosh Chauhan) (Revision 1415917)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415917&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415917&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEndFunctionListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStoreIpAddress.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestSetUGIOnOnlyClient.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestSetUGIOnOnlyServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550137" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:31 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12554256" name="HIVE-3724.1.patch.txt" size="11045" author="kevinwilfong" created="Mon, 19 Nov 2012 23:17:57 +0000"/>
                            <attachment id="12555433" name="HIVE-3724.2.patch.txt" size="13029" author="kevinwilfong" created="Thu, 29 Nov 2012 23:37:24 +0000"/>
                            <attachment id="12560174" name="hive-3724.svn-0.10.patch" size="13068" author="sushanth" created="Mon, 10 Dec 2012 12:58:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Nov 2012 09:10:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l2rb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121097</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3725] Add support for pulling HBase columns with prefixes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3725</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Current HBase Hive integration supports reading many values from the same row by specifying a column family. And specifying just the column family can pull in all qualifiers within the family.&lt;/p&gt;

&lt;p&gt;We should add in support to be able to specify a prefix for the qualifier and all columns that start with the prefix would automatically get pulled in. A wildcard support would be ideal.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616857">HIVE-3725</key>
            <summary>Add support for pulling HBase columns with prefixes</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="swarnim">Swarnim Kulkarni</assignee>
                                    <reporter username="swarnim">Swarnim Kulkarni</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Nov 2012 23:22:30 +0000</created>
                <updated>Wed, 2 Sep 2015 07:16:16 +0000</updated>
                            <resolved>Wed, 24 Jul 2013 14:04:44 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13500811" author="swarnim" created="Tue, 20 Nov 2012 03:07:37 +0000"  >&lt;p&gt;Patch to add support for pulling hbase columns with prefixes.&lt;/p&gt;</comment>
                            <comment id="13500812" author="swarnim" created="Tue, 20 Nov 2012 03:08:04 +0000"  >&lt;p&gt;This patch should now be ready for review.&lt;/p&gt;</comment>
                            <comment id="13569680" author="swarnim" created="Sun, 3 Feb 2013 01:03:12 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/9276/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9276/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13570925" author="mgrover" created="Tue, 5 Feb 2013 03:44:23 +0000"  >&lt;p&gt;Comments on reviewboard&lt;/p&gt;</comment>
                            <comment id="13575278" author="swarnim" created="Sat, 9 Feb 2013 21:58:44 +0000"  >&lt;p&gt;Patch updated with proposed changes on the review.&lt;/p&gt;</comment>
                            <comment id="13710353" author="swarnim" created="Tue, 16 Jul 2013 22:05:44 +0000"  >&lt;p&gt;If a committer can take a quick look at the updated patch, I will highly appreciate that. Thanks!&lt;/p&gt;</comment>
                            <comment id="13710365" author="brocknoland" created="Tue, 16 Jul 2013 22:14:50 +0000"  >&lt;p&gt;Unless someone looks sooner I can take a look tomorrow morning (CST).&lt;/p&gt;</comment>
                            <comment id="13712425" author="brocknoland" created="Thu, 18 Jul 2013 15:53:54 +0000"  >&lt;p&gt;Jeez, sorry I thought Navis commented on this one but I guess that was &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3553&quot; title=&quot;Support binary qualifiers for Hive/HBase integration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3553&quot;&gt;HIVE-3553&lt;/a&gt;. Reviewing now.&lt;/p&gt;</comment>
                            <comment id="13712441" author="brocknoland" created="Thu, 18 Jul 2013 16:13:07 +0000"  >&lt;p&gt;Feedback provided on RB, cancelling patch.&lt;/p&gt;</comment>
                            <comment id="13714878" author="brocknoland" created="Mon, 22 Jul 2013 03:27:25 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I am re-uploading your patch as &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3725&quot; title=&quot;Add support for pulling HBase columns with prefixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3725&quot;&gt;&lt;del&gt;HIVE-3725&lt;/del&gt;&lt;/a&gt;.3.patch.txt&quot; so the &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+PreCommit+Patch+Testing&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;precommit tests&lt;/a&gt; will execute.&lt;/p&gt;</comment>
                            <comment id="13714879" author="brocknoland" created="Mon, 22 Jul 2013 03:27:57 +0000"  >&lt;p&gt;Marking &quot;Patch Available&quot; so the precommit tests will execute.&lt;/p&gt;</comment>
                            <comment id="13715071" author="hiveqa" created="Mon, 22 Jul 2013 10:11:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593448/HIVE-3725.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593448/HIVE-3725.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2647 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hcatalog.mapreduce.TestHCatInputFormat.testBadRecordHandlingPasses
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/124/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/124/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/124/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/124/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13715205" author="swarnim" created="Mon, 22 Jul 2013 13:46:07 +0000"  >&lt;p&gt;Looking into the test failure, as per my understanding doesn&apos;t seem to be related to this change.&lt;/p&gt;</comment>
                            <comment id="13715277" author="brocknoland" created="Mon, 22 Jul 2013 15:15:00 +0000"  >&lt;p&gt;This looks pretty good to me. I am just going to run the precommit tests again. If you have a chance I think we should add a javadoc to HBASE_COLUMNS_REGEX_MATCHING saying we don&apos;t so full regex matching at present. Not a huge deal I could add that on commit as well.&lt;/p&gt;</comment>
                            <comment id="13715368" author="hiveqa" created="Mon, 22 Jul 2013 17:05:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593448/HIVE-3725.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593448/HIVE-3725.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2647 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/127/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/127/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/127/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/127/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13715385" author="swarnim" created="Mon, 22 Jul 2013 17:17:03 +0000"  >&lt;p&gt;Added the javadoc comment.&lt;/p&gt;</comment>
                            <comment id="13715406" author="brocknoland" created="Mon, 22 Jul 2013 17:25:13 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13715548" author="hiveqa" created="Mon, 22 Jul 2013 19:16:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593553/HIVE-3725.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593553/HIVE-3725.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2647 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/129/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/129/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/129/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/129/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13718388" author="brocknoland" created="Wed, 24 Jul 2013 14:04:44 +0000"  >&lt;p&gt;Thank you for your contribution! I committed this to trunk!&lt;/p&gt;</comment>
                            <comment id="13796109" author="ashutoshc" created="Tue, 15 Oct 2013 23:31:01 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                            <comment id="14659550" author="lefty@hortonworks.com" created="Thu, 6 Aug 2015 06:09:51 +0000"  >&lt;p&gt;Doc note:  This still needs documentation.  See the &quot;Hive column mapping to hbase&quot; thread in the dev@hive.apache.org mailing list.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hive-dev/201508.mbox/%3cCAHnpetSYYitXXw5ipTufbmjvQecNawr04Jx5+3a+Vtf0mQP7Xw@mail.gmail.com%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Re: Hive column mapping to hbase &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14699912" author="swarnim" created="Mon, 17 Aug 2015 17:44:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; Mind giving me access to the wiki so I can document this and a couple others on the wiki?&lt;/p&gt;</comment>
                            <comment id="14699947" author="lefty@hortonworks.com" created="Mon, 17 Aug 2015 18:02:48 +0000"  >&lt;p&gt;Happy to, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt;, but you need a Confluence username.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AboutThisWiki#AboutThisWiki-Howtogetpermissiontoedit&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;How to get permission to edit &lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14699952" author="swarnim" created="Mon, 17 Aug 2015 18:05:41 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt;. My confluence username is swarnim&lt;/p&gt;</comment>
                            <comment id="14699959" author="lefty@hortonworks.com" created="Mon, 17 Aug 2015 18:10:18 +0000"  >&lt;p&gt;Done.  Welcome to the Hive wiki team, Swarnim.&lt;/p&gt;</comment>
                            <comment id="14726615" author="swarnim" created="Wed, 2 Sep 2015 02:23:20 +0000"  >&lt;p&gt;This feature has been documented here&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. Removing the TODOC label.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HBaseIntegration#HBaseIntegration-HiveMAPtoHBaseColumnFamily&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HBaseIntegration#HBaseIntegration-HiveMAPtoHBaseColumnFamily&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14726885" author="lefty@hortonworks.com" created="Wed, 2 Sep 2015 07:16:16 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt;, the doc looks good.  I added a link to this JIRA issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12554285" name="HIVE-3725.1.patch.txt" size="10444" author="swarnim" created="Tue, 20 Nov 2012 03:07:37 +0000"/>
                            <attachment id="12568718" name="HIVE-3725.2.patch.txt" size="11202" author="swarnim" created="Sat, 9 Feb 2013 21:58:44 +0000"/>
                            <attachment id="12593448" name="HIVE-3725.3.patch.txt" size="17050" author="brocknoland" created="Mon, 22 Jul 2013 03:27:25 +0000"/>
                            <attachment id="12593553" name="HIVE-3725.4.patch.txt" size="17227" author="swarnim" created="Mon, 22 Jul 2013 17:16:31 +0000"/>
                            <attachment id="12593442" name="HIVE-3725.patch.3.txt" size="17050" author="swarnim" created="Mon, 22 Jul 2013 01:25:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Feb 2013 03:44:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258729</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l2rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
