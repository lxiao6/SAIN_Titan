<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:18:30 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2011-7-6+AND+created+%3C%3D+2011-7-13+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="21" total="21"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2261] Add cleanup stages for UDFs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2261</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In some cases, we bind values at last stage of big SQL from other sources, especially from memcached. I made that kind of UDFs for internal-use.&lt;/p&gt;

&lt;p&gt;I found &apos;initialize&apos; method of GenericUDF class is good place for making connections to memcached cluster, but failed to find  somewhere to close/cleanup the connections. If there is cleaup method in GenericUDF class, things can be more neat. If initializing entity like map/reduce/fetch could be also providable to life-cycles(init/close), that makes perfect.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512944">HIVE-2261</key>
            <summary>Add cleanup stages for UDFs</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2011 07:44:52 +0000</created>
                <updated>Fri, 8 Mar 2013 02:24:43 +0000</updated>
                            <resolved>Fri, 8 Mar 2013 02:24:43 +0000</resolved>
                                    <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13061473" author="jvs" created="Thu, 7 Jul 2011 18:29:57 +0000"  >&lt;p&gt;I think we should put in some of the common base class changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1016&quot; title=&quot;Ability to access DistributedCache from UDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1016&quot;&gt;&lt;del&gt;HIVE-1016&lt;/del&gt;&lt;/a&gt; before implementing this.&lt;/p&gt;</comment>
                            <comment id="13188940" author="phabricator@reviews.facebook.net" created="Thu, 19 Jan 2012 05:52:39 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2261&quot; title=&quot;Add cleanup stages for UDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2261&quot;&gt;&lt;del&gt;HIVE-2261&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add cleanup stages for UDFs&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-19 Add cleanup stages for UDFs&lt;/p&gt;

&lt;p&gt;  In some cases, we bind values at last stage of big SQL from other sources, especially from memcached. I made that kind of UDFs for internal-use.&lt;/p&gt;

&lt;p&gt;  I found &apos;initialize&apos; method of GenericUDF class is good place for making connections to memcached cluster, but failed to find  somewhere to close/cleanup the connections. If there is cleaup method in GenericUDF class, things can be more neat. If initializing entity like map/reduce/fetch could be also providable to life-cycles(init/close), that makes perfect.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1329&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1329&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeGenericFuncEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExtractOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FilterOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/HashTableSinkOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/JoinUtil.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ReduceSinkOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/SelectOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDF.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2757/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2757/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13209149" author="phabricator@reviews.facebook.net" created="Thu, 16 Feb 2012 06:38:58 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2261&quot; title=&quot;Add cleanup stages for UDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2261&quot;&gt;&lt;del&gt;HIVE-2261&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add cleanup stages for UDFs&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Changed init method signiture of ExprNodeEvaluator to accept configuration instance.&lt;br/&gt;
  But it is non-null only in the Mapred task and close method also is called only in that.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1329&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1329&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/AbstractMapJoinOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/CommonJoinOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeColumnEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeConstantEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeFieldEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeGenericFuncEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExprNodeNullEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExtractOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FilterOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/HashTableSinkOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/JoinUtil.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ReduceSinkOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/SelectOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartExprEvalUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDF.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/exec/TestExpressionEvaluator.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTestClose.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_close.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_close.q&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_close.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_close.q.out&lt;/p&gt;</comment>
                            <comment id="13258895" author="ashutoshc" created="Sat, 21 Apr 2012 16:51:20 +0000"  >&lt;p&gt;Unlinking from 0.9 &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12613756">HIVE-3628</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12444273">HIVE-1016</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12511093" name="ASF.LICENSE.NOT.GRANTED--HIVE-2261.D1329.1.patch" size="21873" author="phabricator@reviews.facebook.net" created="Thu, 19 Jan 2012 05:52:42 +0000"/>
                            <attachment id="12514764" name="ASF.LICENSE.NOT.GRANTED--HIVE-2261.D1329.2.patch" size="36307" author="phabricator@reviews.facebook.net" created="Thu, 16 Feb 2012 06:38:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jul 2011 18:29:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123758</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2262] mapjoin followed by union all, groupby does not work</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2262</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;sql:&lt;br/&gt;
CREATE TABLE nulltest2(int_data1 INT, int_data2 INT, boolean_data BOOLEAN, double_data DOUBLE, string_data STRING) ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;,&apos;;&lt;/p&gt;

&lt;p&gt;CREATE TABLE nulltest3(int_data1 INT) ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;,&apos;;&lt;/p&gt;

&lt;p&gt;explain select int_data2,count(1) from (select /&lt;b&gt;+mapjoin(a)&lt;/b&gt;/ int_data2, 1 as c1, 0 as c2 from nulltest2 a join nulltest3 b on(a.int_data1 = b.int_data1) union all select /&lt;b&gt;+mapjoin(a)&lt;/b&gt;/ int_data2, 1 as c1, 2 as c2 from nulltest2 a join nulltest3 b on(a.int_data1 = b.int_data1)) mapjointable group by int_data2;&lt;/p&gt;

&lt;p&gt;exception:&lt;br/&gt;
FAILED: Hive Internal Error: java.lang.NullPointerException(null)&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.ppr.PartitionPruner.prune(PartitionPruner.java:156)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.GenMapRedUtils.setTaskPlan(GenMapRedUtils.java:551)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.GenMapRedUtils.setTaskPlan(GenMapRedUtils.java:514)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.GenMapRedUtils.initPlan(GenMapRedUtils.java:125)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.GenMRRedSink1.process(GenMRRedSink1.java:76)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.optimizer.GenMRRedSink3.process(GenMRRedSink3.java:64)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:89)&lt;/p&gt;

&lt;p&gt;Analyse the reason:&lt;br/&gt;
1.When use mapjoin,union,groupby together,the UnionProcFactory.MapJoinUnion()(optimizer) will set the MapJoinSubq true, and set up the UnionParseContext.&lt;br/&gt;
2.In GenMRUnion1, hive will call mergeMapJoinUnion, and also set task plan.&lt;br/&gt;
3.In GenMRRedSink3, hive judges the uCtx.isMapOnlySubq(), and call GenMRRedSink1()).process() to init the plan.But the utask&apos;s plan has been set yet, it just need to set reducer.And also the utask is processing temporary table, there is no topOp map to table.So here we get null exception.&lt;/p&gt;

&lt;p&gt;Solutions:&lt;br/&gt;
1.SQL solution:use a sub query to modify the sql;&lt;br/&gt;
2.Code solution:when in mergeMapJoinUnion, after the task plan have been set, set a settaskplan flag true to indicate the plan for this utask has been set.When in GenMRRedSink3 ,if this flag sets true, don&apos;t use the GenMRRedSink1()).process() to reinit the plan.&lt;br/&gt;
++++++++++++++++++++++++++++&lt;br/&gt;
if (uCtx.isMapOnlySubq()&amp;amp;&amp;amp;!upc.isIssetTaskPlan())&lt;br/&gt;
++++++++++++++++++++++++++++&lt;/p&gt;

&lt;p&gt;I don&apos;t know whether the code solution is suitable.&lt;br/&gt;
Is there any better solution?&lt;br/&gt;
thx&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12512962">HIVE-2262</key>
            <summary>mapjoin followed by union all, groupby does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="roachxiang">yu xiang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2011 10:38:04 +0000</created>
                <updated>Fri, 15 Jun 2012 20:59:32 +0000</updated>
                            <resolved>Fri, 15 Jun 2012 20:59:32 +0000</resolved>
                                    <version>0.7.1</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13140759" author="ashutoshc" created="Tue, 1 Nov 2011 01:09:50 +0000"  >&lt;p&gt;That looks like a possible solution to me. I would like to see what others think as well. Yu, can you generate a svn friendly patch. That will be easier to review.&lt;/p&gt;</comment>
                            <comment id="13233798" author="ashutoshc" created="Tue, 20 Mar 2012 21:26:02 +0000"  >&lt;p&gt;This is no longer reproducible on trunk. Feel free to reopen if there is some other variant which can produce this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Nov 2011 01:09:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123759</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2263] Wrong value is retrieved by ResultSet.getColumnDisplaySize() for SMALLINT and FLOAT Datatype</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2263</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>
&lt;p&gt;1).Create a table with smallint datatype.&lt;br/&gt;
    create table test(a smallint,b int,c bigint);&lt;br/&gt;
2).ResultSet result = select a,b,c from test;&lt;br/&gt;
3) When I Try to get the getColumnDisplaySize()for the columns,&lt;br/&gt;
    i.e   ResultSet.getColumnDisplaySize(a) is 32 (default vaule  )  &lt;br/&gt;
          ResultSet.getColumnDisplaySize(b) is 16   &lt;br/&gt;
          ResultSet.getColumnDisplaySize(c) is 32 &lt;/p&gt;

&lt;p&gt;But in the code, default is returning.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public int getColumnDisplaySize(int column) throws SQLException {
    // taking a stab at appropriate values
    switch (getColumnType(column)) {
    case Types.VARCHAR:
    case Types.BIGINT:
      return 32;
    case Types.TINYINT:
      return 2;
    case Types.BOOLEAN:
      return 8;
    case Types.DOUBLE:
    case Types.INTEGER:
      return 16;
    default:
      return 32;
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment>&lt;p&gt;Linux. Hadoop-20.1 and Hive-0.7.1&lt;/p&gt;</environment>
        <key id="12512978">HIVE-2263</key>
            <summary>Wrong value is retrieved by ResultSet.getColumnDisplaySize() for SMALLINT and FLOAT Datatype</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rohithsharma">Rohith Sharma K S</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2011 12:42:40 +0000</created>
                <updated>Thu, 6 Oct 2016 12:29:00 +0000</updated>
                            <resolved>Thu, 6 Oct 2016 12:28:59 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.7.1</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15551810" author="rohithsharma" created="Thu, 6 Oct 2016 12:29:00 +0000"  >&lt;p&gt;Closing as Can&apos;t Reproduce since  several releases has been given after this bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123760</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2264] Hive server is SHUTTING DOWN when invalid queries beeing executed.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2264</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When invalid query is beeing executed, Hive server is shutting down.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;CREATE TABLE SAMPLETABLE(IP STRING , showtime BIGINT ) partitioned by (ds string,ipz int) ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;\040&apos;&quot;

&quot;ALTER TABLE SAMPLETABLE add Partition(ds=&apos;sf&apos;) location &apos;/user/hive/warehouse&apos; Partition(ipz=100) location &apos;/user/hive/warehouse&apos;&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;SuSE-Linux-11&lt;/p&gt;</environment>
        <key id="12512993">HIVE-2264</key>
            <summary>Hive server is SHUTTING DOWN when invalid queries beeing executed.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="rohithsharma">Rohith Sharma K S</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2011 14:05:06 +0000</created>
                <updated>Thu, 16 May 2013 21:10:27 +0000</updated>
                            <resolved>Fri, 29 Mar 2013 05:49:23 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>HiveServer2</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13163452" author="navis" created="Tue, 6 Dec 2011 09:09:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3025/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3025/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13163454" author="jiraposter@reviews.apache.org" created="Tue, 6 Dec 2011 09:09:39 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3025/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3025/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive, John Sichi and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Currently, if Driver fails executing any of the task, it tries suicide by System.exit() which should not be happened in our use cases.&lt;/p&gt;

&lt;p&gt;This is simple hot-fix I&apos;ve provided to my coworkers. Someone could do more elaborated work.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2264&quot; title=&quot;Hive server is SHUTTING DOWN when invalid queries beeing executed.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2264&quot;&gt;&lt;del&gt;HIVE-2264&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2264&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2264&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/Driver.java da02fa5 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java f612119 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java a3e40f7 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java d2b12a7 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java a4e59ca &lt;br/&gt;
  ql/src/test/queries/clientnegative/driver_suicide.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientnegative/driver_suicide.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3025/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3025/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;test added : driver_suicide.q (negative)&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Navis&lt;/p&gt;
</comment>
                            <comment id="13258481" author="ashutoshc" created="Fri, 20 Apr 2012 19:14:12 +0000"  >&lt;p&gt;Unlinking from 0.9&lt;/p&gt;</comment>
                            <comment id="13549405" author="zhenxiao" created="Thu, 10 Jan 2013 07:33:19 +0000"  >&lt;p&gt;This patch is very useful. like the idea.&lt;br/&gt;
Non-Committer +1.&lt;/p&gt;</comment>
                            <comment id="13586320" author="brocknoland" created="Mon, 25 Feb 2013 21:42:27 +0000"  >&lt;p&gt;Ran into this myself. +1.&lt;/p&gt;</comment>
                            <comment id="13588483" author="brocknoland" created="Wed, 27 Feb 2013 16:34:32 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I rebased this patch on trunk (attached) and removed the commented out System.exit().&lt;/p&gt;

&lt;p&gt;Brock&lt;/p&gt;</comment>
                            <comment id="13588484" author="brocknoland" created="Wed, 27 Feb 2013 16:36:15 +0000"  >&lt;p&gt;Navis, you can use my rebased patch to update review board or if you don&apos;t have interest in this any longer, no worries, I&apos;d be willing to take it up.&lt;/p&gt;</comment>
                            <comment id="13589058" author="navis" created="Thu, 28 Feb 2013 01:54:24 +0000"  >&lt;p&gt;I&apos;m applying this for all internal hive releases and wish to be reviewed/applied into apache hive. But sadly, no committer seemed interested in it. &lt;/p&gt;

&lt;p&gt;It&apos;s already in patch-available status. Do you have more idea to be merged with this? Then I&apos;ll happily assign it to you.&lt;/p&gt;</comment>
                            <comment id="13589065" author="brocknoland" created="Thu, 28 Feb 2013 02:05:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; You have been running with this patch for quite a long time? In regards to getting it merged, I think the best we can do is update the review board item with the rebased patch. Another item that may bring it up in terms of visibility is linking it to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2935&quot; title=&quot;Implement HiveServer2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2935&quot;&gt;&lt;del&gt;HIVE-2935&lt;/del&gt;&lt;/a&gt; as it&apos;s quite important for HS2.&lt;/p&gt;</comment>
                            <comment id="13602566" author="brocknoland" created="Thu, 14 Mar 2013 18:49:19 +0000"  >&lt;p&gt;I think we should mark this as a blocker as this can kill HS2 which can have dozens of jobs running in the cluster for clients.&lt;/p&gt;</comment>
                            <comment id="13603053" author="appodictic" created="Fri, 15 Mar 2013 03:11:09 +0000"  >&lt;p&gt;Navis, if Brock rebased the patch you can commit. I am +1 as well.&lt;/p&gt;</comment>
                            <comment id="13604832" author="phabricator@reviews.facebook.net" created="Mon, 18 Mar 2013 01:40:13 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2264&quot; title=&quot;Hive server is SHUTTING DOWN when invalid queries beeing executed.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2264&quot;&gt;&lt;del&gt;HIVE-2264&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive server is SHUTTING DOWN when invalid queries beeing executed.&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2264&quot; title=&quot;Hive server is SHUTTING DOWN when invalid queries beeing executed.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2264&quot;&gt;&lt;del&gt;HIVE-2264&lt;/del&gt;&lt;/a&gt; Hive server is SHUTTING DOWN when invalid queries beeing executed&lt;/p&gt;

&lt;p&gt;When invalid query is beeing executed, Hive server is shutting down.&lt;/p&gt;

&lt;p&gt;&quot;CREATE TABLE SAMPLETABLE(IP STRING , showtime BIGINT ) partitioned by (ds string,ipz int) ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;\040&apos;&quot;&lt;/p&gt;

&lt;p&gt;&quot;ALTER TABLE SAMPLETABLE add Partition(ds=&apos;sf&apos;) location &apos;/user/hive/warehouse&apos; Partition(ipz=100) location &apos;/user/hive/warehouse&apos;&quot;&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9489&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9489&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/22683/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/22683/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13604833" author="navis" created="Mon, 18 Mar 2013 01:40:15 +0000"  >&lt;p&gt;Ok, let&apos;s make this committed. Rebased to trunk.&lt;/p&gt;</comment>
                            <comment id="13608293" author="brocknoland" created="Wed, 20 Mar 2013 21:59:31 +0000"  >&lt;p&gt;Navis,&lt;/p&gt;

&lt;p&gt;Edward already +1&apos;d the patch. Are you looking for a +1 on the rebased patch?&lt;/p&gt;</comment>
                            <comment id="13608472" author="navis" created="Thu, 21 Mar 2013 00:47:10 +0000"  >&lt;p&gt;I was intended to do that but I&apos;ve reminded comments from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt; &apos;dont commit our own patches&apos; (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3171?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=13440920#comment-13440920&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3171?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=13440920#comment-13440920&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13611127" author="brocknoland" created="Fri, 22 Mar 2013 19:38:32 +0000"  >&lt;p&gt;Marking as blocker for 0.11.&lt;/p&gt;</comment>
                            <comment id="13617075" author="cwsteinbach" created="Fri, 29 Mar 2013 04:51:59 +0000"  >&lt;p&gt;@Navis: we relaxed that rule. You can commit your own patches as long as you get a +1 from another committer. You&apos;re good to go.&lt;/p&gt;</comment>
                            <comment id="13617103" author="navis" created="Fri, 29 Mar 2013 05:49:23 +0000"  >&lt;p&gt;Committed and was my first commit. Thanks to all.&lt;/p&gt;</comment>
                            <comment id="13617110" author="phabricator@reviews.facebook.net" created="Fri, 29 Mar 2013 05:53:15 +0000"  >&lt;p&gt;navis has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2264&quot; title=&quot;Hive server is SHUTTING DOWN when invalid queries beeing executed.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2264&quot;&gt;&lt;del&gt;HIVE-2264&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive server is SHUTTING DOWN when invalid queries beeing executed.&quot;.&lt;/p&gt;

&lt;p&gt;  Committed&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9489&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9489&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13617281" author="brocknoland" created="Fri, 29 Mar 2013 12:07:47 +0000"  >&lt;p&gt;Awesome! Thanks guys!&lt;/p&gt;</comment>
                            <comment id="13618095" author="hudson" created="Sat, 30 Mar 2013 15:30:48 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2036 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2036/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2036/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2264&quot; title=&quot;Hive server is SHUTTING DOWN when invalid queries beeing executed.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2264&quot;&gt;&lt;del&gt;HIVE-2264&lt;/del&gt;&lt;/a&gt; Hive server is SHUTTING DOWN when invalid queries beeing executed (Revision 1462406)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
navis : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462406&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462406&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623059" author="hudson" created="Thu, 4 Apr 2013 23:39:58 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2264&quot; title=&quot;Hive server is SHUTTING DOWN when invalid queries beeing executed.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2264&quot;&gt;&lt;del&gt;HIVE-2264&lt;/del&gt;&lt;/a&gt; Hive server is SHUTTING DOWN when invalid queries beeing executed (Revision 1462406)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
navis : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462406&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462406&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12494304">HIVE-1872</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12500098">HIVE-2017</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12550255">HIVE-2935</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12571214" name="HIVE-2264-2.patch" size="6944" author="brocknoland" created="Wed, 27 Feb 2013 16:34:32 +0000"/>
                            <attachment id="12506236" name="HIVE-2264.1.patch.txt" size="7662" author="navis" created="Tue, 6 Dec 2011 09:09:29 +0000"/>
                            <attachment id="12574100" name="HIVE-2264.D9489.1.patch" size="5632" author="phabricator@reviews.facebook.net" created="Mon, 18 Mar 2013 01:40:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Dec 2011 09:09:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2265] &quot;insert overwrite directory&quot; for Multilevel directory fails.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2265</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Couldnot able to complete query execution for &quot;insert overwrite directory&quot; query when the Directory path is Multilevel.&lt;/p&gt;

&lt;p&gt;create table test ( a int , b int);&lt;br/&gt;
load data local inpath &apos;/home/test.txt&apos; into table test;&lt;/p&gt;

&lt;p&gt;insert overwrite directory &apos;/test&apos; select * f rom test;(This querjy execute successfully)&lt;/p&gt;

&lt;p&gt;insert overwrite directory &apos;/test/test/test&apos; select * f rom test;(This query is throwing below exception)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2011-06-27 12:00:15,383 ERROR exec.MoveTask (SessionState.java:printError(343)) - Failed with exception Unable to rename: hdfs://10.18.40.99:9000/tmp/hive-root/hive_2011-06-27_11-59-52_522_5805414771967651042/-ext-10000 to: /test/test/test org.apache.hadoop.hive.ql.metadata.HiveException: Unable to rename: hdfs://10.18.40.99:9000/tmp/hive-root/hive_2011-06-27_11-59-52_522_5805414771967651042/-ext-10000 to: /test/test/test 	at org.apache.hadoop.hive.ql.exec.MoveTask.moveFile(MoveTask.java:78)
	at org.apache.hadoop.hive.ql.exec.MoveTask.execute(MoveTask.java:122)
	at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:130)
	at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)
	at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1063)
	at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:900)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:748)
	at org.apache.hadoop.hive.service.HiveServer$HiveServerHandler.execute(HiveServer.java:116)
	at org.apache.hadoop.hive.service.ThriftHive$Processor$execute.process(ThriftHive.java:699)
	at org.apache.hadoop.hive.service.ThriftHive$Processor.process(ThriftHive.java:677)
	at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:253)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:619)

2011-06-27 12:00:15,384 ERROR ql.Driver (SessionState.java:printError(343)) - FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MoveTask

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;SuSE-Linux-11&lt;/p&gt;</environment>
        <key id="12512998">HIVE-2265</key>
            <summary>&quot;insert overwrite directory&quot; for Multilevel directory fails.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rohithsharma">Rohith Sharma K S</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2011 14:15:04 +0000</created>
                <updated>Tue, 25 Sep 2012 13:30:54 +0000</updated>
                            <resolved>Tue, 25 Sep 2012 13:30:54 +0000</resolved>
                                    <version>0.7.0</version>
                    <version>0.7.1</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13147523" author="chinnalalam" created="Thu, 10 Nov 2011 06:57:27 +0000"  >&lt;p&gt;Pls check this issue resolved by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1975&quot; title=&quot;&amp;quot;insert overwrite directory&amp;quot; Not able to insert data with multi level directory path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1975&quot;&gt;&lt;del&gt;HIVE-1975&lt;/del&gt;&lt;/a&gt; then we can close this issue as duplicate issue of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1975&quot; title=&quot;&amp;quot;insert overwrite directory&amp;quot; Not able to insert data with multi level directory path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1975&quot;&gt;&lt;del&gt;HIVE-1975&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13462731" author="rohithsharma" created="Tue, 25 Sep 2012 13:30:03 +0000"  >&lt;p&gt;This issue is resolved. Making duplicate of Hive-1975.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Nov 2011 06:57:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123762</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2266] Fix compression parameters</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2266</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are a number of places where compression values are not set correctly in FileSinkOperator. This results in uncompressed files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513023">HIVE-2266</key>
            <summary>Fix compression parameters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="vaggarw">Vaibhav Aggarwal</assignee>
                                    <reporter username="vaggarw">Vaibhav Aggarwal</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2011 19:08:00 +0000</created>
                <updated>Tue, 27 Nov 2012 09:26:24 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13060778" author="vaggarw" created="Wed, 6 Jul 2011 19:19:39 +0000"  >&lt;p&gt;Review request:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1017/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1017/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13060779" author="jiraposter@reviews.apache.org" created="Wed, 6 Jul 2011 19:20:17 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1017/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1017/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fix compression parameters for FileSinkOperator&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2266&quot; title=&quot;Fix compression parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2266&quot;&gt;HIVE-2266&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2266&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2266&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/io/HiveFileFormatUtils.java 404c4d3 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java 092a5cd &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 8fe5984 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1017/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1017/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Vaibhav&lt;/p&gt;
</comment>
                            <comment id="13072546" author="cwsteinbach" created="Thu, 28 Jul 2011 21:37:42 +0000"  >&lt;p&gt;@Vaibav: Is this patch ready for review? If so, please attach the patch to this ticket and click &quot;Submit Patch&quot;. Thanks.&lt;/p&gt;</comment>
                            <comment id="13072549" author="vaggarw" created="Thu, 28 Jul 2011 21:40:22 +0000"  >&lt;p&gt;Carl, I have attached the patch.&lt;/p&gt;</comment>
                            <comment id="13089258" author="cwsteinbach" created="Tue, 23 Aug 2011 04:40:24 +0000"  >&lt;p&gt;@Vaibhav: The changes look good, but it needs a test. Is it feasible to add something to TestCliDriver? Thanks.&lt;/p&gt;</comment>
                            <comment id="13092157" author="cwsteinbach" created="Sat, 27 Aug 2011 01:12:48 +0000"  >&lt;p&gt;@Vaibhav: The compress.q test passes even without your patch in place. Can you please supply a testcase that fails without your patch?&lt;/p&gt;</comment>
                            <comment id="13092161" author="vaggarw" created="Sat, 27 Aug 2011 01:29:29 +0000"  >&lt;p&gt;Hi Carl&lt;/p&gt;

&lt;p&gt;The patch fixes compression which means that there is a difference in file size only.&lt;/p&gt;

&lt;p&gt;Besides the file size will differ on different platforms. Hence there is no way to test this except for manual test.&lt;/p&gt;

&lt;p&gt;This test case executes the new code and makes sure that it works.&lt;/p&gt;

&lt;p&gt;Sent from my phone.&lt;/p&gt;

&lt;p&gt;----- Reply message -----&lt;br/&gt;
From: &quot;Carl Steinbach (JIRA)&quot; &amp;lt;jira@apache.org&amp;gt;&lt;br/&gt;
Date: Fri, Aug 26, 2011 6:13 pm&lt;br/&gt;
Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Updated&amp;#93;&lt;/span&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2266&quot; title=&quot;Fix compression parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2266&quot;&gt;HIVE-2266&lt;/a&gt;) Fix compression parameters&lt;br/&gt;
To: &quot;Aggarwal, Vaibhav&quot; &amp;lt;vaggarw@amazon.com&amp;gt;&lt;/p&gt;


&lt;p&gt;     [ &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2266?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2266?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Carl Steinbach updated &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2266&quot; title=&quot;Fix compression parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2266&quot;&gt;HIVE-2266&lt;/a&gt;:&lt;br/&gt;
---------------------------------&lt;/p&gt;

&lt;p&gt;    Status: Open  (was: Patch Available)&lt;/p&gt;

&lt;p&gt;@Vaibhav: The compress.q test passes even without your patch in place. Can you please supply a testcase that fails without your patch?&lt;/p&gt;


&lt;p&gt;&amp;#8211;&lt;br/&gt;
This message is automatically generated by JIRA.&lt;br/&gt;
For more information on JIRA, see: &lt;a href=&quot;http://www.atlassian.com/software/jira&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.atlassian.com/software/jira&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="13095719" author="cwsteinbach" created="Fri, 2 Sep 2011 01:55:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;Besides the file size will differ on different platforms.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Really? Which platforms are you talking about? Can you tell me how to reproduce this interesting behavior?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;This test case executes the new code and makes sure that it works.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;How exactly does it verify that the new code works? How do you even know that your new code is getting exercised during the execution of this testcase?&lt;/p&gt;</comment>
                            <comment id="13095747" author="vaggarw" created="Fri, 2 Sep 2011 03:30:56 +0000"  >&lt;p&gt;This patch attempts to fix a bug in the existing functionality in two ways:&lt;/p&gt;

&lt;p&gt;1. In HiveFileFormatUtils.java, wrong jobconf is getting passed which is clear from the context.&lt;/p&gt;

&lt;p&gt;2. In other cases the compression parameters are not getting set.&lt;/p&gt;

&lt;p&gt;The only difference this patch produces from the current behavior is smaller file sizes on file system. I am not sure how to write a hive query which can verify difference in file sizes. Do you have any ideas which can help me add some quick tests for this? The current test executes though the code checking that it does not result in any Exception or Error. It does not compare file size.&lt;/p&gt;


&lt;p&gt;&amp;gt; Really? Which platforms are you talking about? Can you tell me how to reproduce this interesting behavior?&lt;/p&gt;

&lt;p&gt;Hadoop loads native compression libraries. I believe that they are platform dependent hence I do not assume that they always have same compression ratio. Please correct me if I am wrong here.&lt;/p&gt;

&lt;p&gt;In any case I think this is a broken existing functionality in Hive which we should fix.&lt;/p&gt;</comment>
                            <comment id="13504479" author="qwertymaniac" created="Tue, 27 Nov 2012 09:26:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;Hadoop loads native compression libraries. I believe that they are platform dependent hence I do not assume that they always have same compression ratio. Please correct me if I am wrong here.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Compression is based on standard algorithms, which is platform independent. The native code is platform-dependent cause of the library references it has.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12491383" name="HIVE-2266-2.patch" size="13118" author="vaggarw" created="Tue, 23 Aug 2011 19:52:49 +0000"/>
                            <attachment id="12488136" name="HIVE-2266.patch" size="4031" author="vaggarw" created="Thu, 28 Jul 2011 21:39:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jul 2011 19:20:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35803</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2267] Can&apos;t use first as a column name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2267</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Attempting to create a table with a column named &lt;tt&gt;first&lt;/tt&gt; fails:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; create table foo(first int);
FAILED: Parse Error: line 1:17 mismatched input &apos;first&apos; expecting Identifier near &apos;(&apos; in column specification             
11/07/06 14:07:36 ERROR ql.Driver: FAILED: Parse Error: line 1:17 mismatched input &apos;first&apos; expecting Identifier near &apos;(&apos; in column specification                           
org.apache.hadoop.hive.ql.parse.ParseException: line 1:17 mismatched input &apos;first&apos; expecting Identifier near &apos;(&apos; in column specification                                                 
        at org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:438)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is because ALTER TABLE reserves first as a keyword as part of its column moving operation, and hence &lt;tt&gt;first&lt;/tt&gt; is tokenized as KW_FIRST rather than an identifier.  &lt;/p&gt;

&lt;p&gt;This is unfortunate as first is a reasonable column name one may wish to use.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513037">HIVE-2267</key>
            <summary>Can&apos;t use first as a column name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jghoman">Jakob Homan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2011 21:12:08 +0000</created>
                <updated>Wed, 6 Jul 2011 21:12:08 +0000</updated>
                                            <version>0.7.0</version>
                    <version>0.7.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42198</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123764</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2268] CREATE.. TABLE.. LIKE should not inherit the original owner of the table.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2268</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When a new table is created by using CREATE.. TABLE.. LIKE.. the new table inherits the existing owner of the table, this is issue is potentially conflicting for multiuser environments where Hive authorization is planned for future use.&lt;/p&gt;


&lt;p&gt;&amp;#8211; alice creates table &lt;br/&gt;
CREATE EXTERNAL TABLE foo(bar double)&lt;br/&gt;
ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;,&apos; LINES TERMINATED BY &apos;\n&apos;&lt;br/&gt;
STORED AS TEXTFILE LOCATION &apos;/user/alice/foo&apos;;&lt;/p&gt;

&lt;p&gt;&amp;#8211; table owner is alice as expected&lt;br/&gt;
hive&amp;gt; DESCRIBE EXTENDED foo;&lt;br/&gt;
OK&lt;br/&gt;
bar     double  &lt;/p&gt;

&lt;p&gt;Detailed Table Information      Table(tableName:foo, dbName:default, &lt;font color=&quot;red&quot;&gt; owner:alice &lt;/font&gt;, createTime:1309996190, lastAccessTime:0, retention:0, sd:StorageDescriptor(cols:&lt;span class=&quot;error&quot;&gt;&amp;#91;FieldSchema(name:bar, type:double, comment:null)&amp;#93;&lt;/span&gt;, location:hdfs://localhost/user/alice/foo, inputFormat:org.apache.hadoop.mapred.TextInputFormat, outputFormat:org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat, compressed:false, numBuckets:-1, serdeInfo:SerDeInfo(name:null, serializationLib:org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, parameters:{serialization.format=,, field.delim=,, line.delim=       &lt;br/&gt;
}), bucketCols:[], sortCols:[], parameters:{}), partitionKeys:[], parameters:&lt;/p&gt;
{EXTERNAL=TRUE, transient_lastDdlTime=1309996190}
&lt;p&gt;, viewOriginalText:null, viewExpandedText:null, tableType:EXTERNAL_TABLE)      &lt;/p&gt;


&lt;p&gt;&amp;#8211; bob calls CREATE..TABLE..LIKE&lt;br/&gt;
CREATE TABLE foo_like LIKE foo;&lt;/p&gt;

&lt;p&gt;&amp;#8211; bob created a new table using like but the owner stills alice&lt;br/&gt;
&amp;#8211; but the expected is owner:bob&lt;br/&gt;
hive&amp;gt;  DESCRIBE EXTENDED foo_like;&lt;/p&gt;

&lt;p&gt;OK&lt;br/&gt;
bar     double  &lt;/p&gt;

&lt;p&gt;Detailed Table Information      Table(tableName:foo_like, dbName:default, &lt;font color=&quot;red&quot;&gt; owner:alice &lt;/font&gt;, createTime:1309996554, lastAccessTime:0, retention:0, sd:StorageDescriptor(cols:&lt;span class=&quot;error&quot;&gt;&amp;#91;FieldSchema(name:bar, type:double, comment:null)&amp;#93;&lt;/span&gt;, location:hdfs://localhost/user/hive/warehouse/foo_like, inputFormat:org.apache.hadoop.mapred.TextInputFormat, outputFormat:org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat, compressed:false, numBuckets:-1, serdeInfo:SerDeInfo(name:null, serializationLib:org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, parameters:{serialization.format=,, field.delim=,, line.delim=  &lt;br/&gt;
}), bucketCols:[], sortCols:[], parameters:{}), partitionKeys:[], parameters:&lt;/p&gt;
{transient_lastDdlTime=1309996554}
&lt;p&gt;, viewOriginalText:null, viewExpandedText:null, tableType:MANAGED_TABLE)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12513054">HIVE-2268</key>
            <summary>CREATE.. TABLE.. LIKE should not inherit the original owner of the table.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="charleschen">Charles Chen</assignee>
                                    <reporter username="esteban">Esteban Gutierrez</reporter>
                        <labels>
                            <label>create</label>
                            <label>ddl</label>
                            <label>table</label>
                    </labels>
                <created>Thu, 7 Jul 2011 00:04:37 +0000</created>
                <updated>Tue, 9 Aug 2011 22:43:22 +0000</updated>
                            <resolved>Tue, 9 Aug 2011 22:43:22 +0000</resolved>
                                    <version>0.7.0</version>
                    <version>0.7.1</version>
                    <version>0.8.0</version>
                                                    <component>Metastore</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13062149" author="jvs" created="Fri, 8 Jul 2011 20:08:04 +0000"  >&lt;p&gt;Agree, the owner should be the person executing the CREATE TABLE LIKE command.&lt;/p&gt;</comment>
                            <comment id="13066122" author="franklinhu" created="Fri, 15 Jul 2011 18:37:09 +0000"  >&lt;p&gt;Sets owner when executing CREATE TABLE .. LIKE, if for some reason throws IOException, just default to the original owner&lt;/p&gt;</comment>
                            <comment id="13066131" author="esteban" created="Fri, 15 Jul 2011 18:53:15 +0000"  >&lt;p&gt;I guess if throws IOException, it should not create the table at all.&lt;/p&gt;</comment>
                            <comment id="13066220" author="charleschen" created="Fri, 15 Jul 2011 21:25:48 +0000"  >&lt;p&gt;This will be fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1218&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1218&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13079001" author="charleschen" created="Wed, 3 Aug 2011 20:41:17 +0000"  >&lt;p&gt;I have verified that this was fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1218&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1218&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12458597">HIVE-1218</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12486656" name="hive-2268.1.patch" size="620" author="franklinhu" created="Fri, 15 Jul 2011 18:37:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Jul 2011 20:08:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43513</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06alb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2269] Hive --auxpath option can&apos;t handle multiple colon separated values</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2269</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12513071">HIVE-2269</key>
            <summary>Hive --auxpath option can&apos;t handle multiple colon separated values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2011 03:02:54 +0000</created>
                <updated>Fri, 21 Mar 2014 18:54:58 +0000</updated>
                            <resolved>Fri, 21 Mar 2014 18:39:38 +0000</resolved>
                                    <version>0.7.0</version>
                    <version>0.7.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13061018" author="cwsteinbach" created="Thu, 7 Jul 2011 03:18:56 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;% hive --auxpath $HIVE_HOME/lib/hive-hbase-handler-0.8.0-SNAPSHOT.jar:$HIVE_HOME/lib/hive-contrib-0.8.0-SNAPSHOT.jar
Logging initialized using configuration in jar:file:/Users/carl/Work/repos/hive3/build/dist/lib/hive-common-0.8.0-SNAPSHOT.jar!/hive-log4j.properties
Hive history file=/tmp/carl/hive_job_log_carl_201107062017_907171289.txt
hive&amp;gt; SELECT * FROM tmp WHERE x &amp;gt; 1;
SELECT * FROM tmp WHERE x &amp;gt; 1;
Total MapReduce jobs = 1
Launching Job 1 out of 1
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks is set to 0 since there&apos;s no reduce &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;
Execution log at: /tmp/carl/carl_20110706201717_5294c2b7-1cdc-40ab-9aeb-d1811eb8c486.log
java.io.FileNotFoundException: File /Users/carl/Work/repos/hive3/build/dist/lib/hive-hbase-handler-0.8.0-SNAPSHOT.jar:/Users/carl/Work/repos/hive3/build/dist/lib/hive-contrib-0.8.0-SNAPSHOT.jar does not exist.
	at org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:361)
	at org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)
	at org.apache.hadoop.filecache.DistributedCache.getTimestamp(DistributedCache.java:509)
	at org.apache.hadoop.mapred.JobClient.configureCommandLineOptions(JobClient.java:629)
	at org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:761)
	at org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:730)
	at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:409)
	at org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:663)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
Job Submission failed with exception &lt;span class=&quot;code-quote&quot;&gt;&apos;java.io.FileNotFoundException(File /Users/carl/Work/repos/hive3/build/dist/lib/hive-hbase-handler-0.8.0-SNAPSHOT.jar:/Users/carl/Work/repos/hive3/build/dist/lib/hive-contrib-0.8.0-SNAPSHOT.jar does not exist.)&apos;&lt;/span&gt;
FAILED: Execution Error, &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask
hive&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13061031" author="cwsteinbach" created="Thu, 7 Jul 2011 04:07:01 +0000"  >&lt;p&gt;With the patch in place this works:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
% hive --auxpath &lt;span class=&quot;code-quote&quot;&gt;&quot;::;;,;,$HIVE_HOME/lib/hive-hbase-handler-0.8.0-SNAPSHOT.jar:,:$HIVE_HOME/lib/hive-contrib-0.8.0-SNAPSHOT.jar,::&quot;&lt;/span&gt;
Logging initialized using configuration in jar:file:/Users/carl/Work/repos/hive3/build/dist/lib/hive-common-0.8.0-SNAPSHOT.jar!/hive-log4j.properties
Hive history file=/tmp/carl/hive_job_log_carl_201107062104_2080798370.txt
hive&amp;gt; show tables;
show tables;
OK
tmp
Time taken: 3.573 seconds
hive&amp;gt; select * from tmp where x &amp;gt; 1;
select * from tmp where x &amp;gt; 1;
Total MapReduce jobs = 1
Launching Job 1 out of 1
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks is set to 0 since there&apos;s no reduce &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;
Execution log at: /tmp/carl/carl_20110706210404_ad7de6b9-1b72-4477-bb97-08f3baf1b43f.log
Job running in-process (local Hadoop)
Hadoop job information &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;: number of mappers: 0; number of reducers: 0
2011-07-06 21:04:19,185 &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; map = 100%,  reduce = 0%
Ended Job = job_local_0001
OK
Time taken: 5.292 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13061295" author="appodictic" created="Thu, 7 Jul 2011 13:31:43 +0000"  >&lt;p&gt;I am someone confused by the title, auxpath is &apos;comma&apos; separate but the title says &apos;colon&apos;.&lt;/p&gt;</comment>
                            <comment id="13061455" author="cwsteinbach" created="Thu, 7 Jul 2011 17:39:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;auxpath is &apos;comma&apos; separate but the title says &apos;colon&apos;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;@Ed: Where is this documented? Regardless, with this patch the value supplied to --auxpath can be either comma or colon separated.&lt;/p&gt;</comment>
                            <comment id="13061513" author="appodictic" created="Thu, 7 Jul 2011 19:21:46 +0000"  >&lt;p&gt;I am not sure this is documented anywhere. As a hadoop historian, I am guessing &apos;,&apos; was chosen to avoid the separator/path separator differences on different OS&apos;s. I do not see a problem supporting columns other then how it might effect the dedicated cygwin/hive users.   &lt;/p&gt;</comment>
                            <comment id="13061520" author="appodictic" created="Thu, 7 Jul 2011 19:30:21 +0000"  >&lt;p&gt;Also it seems that the AUX_PATH is being specified as URI&apos;s. &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;https://github.com/riptano/hive/wiki/Cassandra-Handler-usage-in-Hive-0.7-with-Cassandra-0.7
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;property&amp;gt; &amp;lt;name&amp;gt;hive.aux.jars.path&amp;lt;/name&amp;gt; &amp;lt;value&amp;gt;file:///path/to/guava-r05.jar,file:///path/to/commons-lang-2.4.jar,file:///path/to/apache-cassandra-0.7.6.jar,file:///path/to/hive-cassandra-handler-0.7.0-beta1.jar&amp;lt;/value&amp;gt; &amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So splitting on &apos;:&apos; could break URI&apos;s?&lt;/p&gt;</comment>
                            <comment id="13061636" author="phunt" created="Thu, 7 Jul 2011 22:38:43 +0000"  >&lt;p&gt;Hi. It looks like HIVE_AUX_JARS_PATH (hive --auxpath ...) can be either a directory (if so it considers all *.jar in the directory) or a list. In the case it&apos;s a list, can the entries be only jars or mixed jars &amp;amp; directories?&lt;/p&gt;

&lt;p&gt;I can&apos;t find any documentation on this, perhaps a JIRA should be opened to document the semantics of this parameter?&lt;/p&gt;</comment>
                            <comment id="13079758" author="jghoman" created="Fri, 5 Aug 2011 02:32:43 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2349&quot; title=&quot;Define semantics for --auxpath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2349&quot;&gt;HIVE-2349&lt;/a&gt; to figure out the exact semantics of auxpath, per Pat.&lt;/p&gt;</comment>
                            <comment id="13079759" author="jghoman" created="Fri, 5 Aug 2011 02:32:59 +0000"  >&lt;p&gt;Canceling patch until questions about what a valid auxpath is are answered.&lt;/p&gt;</comment>
                            <comment id="13693139" author="jojspieg@gmail.com" created="Tue, 25 Jun 2013 16:01:51 +0000"  >&lt;p&gt;No matter what the intent was, the case where HIVE_AUX_JARS_PATH is a list is broken. In the list case, the value of this variable is used in two contradictory ways:&lt;/p&gt;

&lt;p&gt;(1) It is colon appended to AUX_CLASSPATH, then CLASSPATH, then HADOOP_CLASSPATH&lt;br/&gt;
(2) It is split on &quot;,&quot; and appended to Hadoop&apos;s -libjars and hive.aux.jars.path&lt;/p&gt;

&lt;p&gt;If you use commas, (1) doesn&apos;t work.  If you use colons, (2) doesn&apos;t work.&lt;/p&gt;

&lt;p&gt;I am not sure why user JARs need to go in HADOOP_CLASSPATH but I have noticed failures in local mode if one of the user JARs contains an InputFormat and it is not in HADOOP_CLASSPATH.  I think this is probably due to a class caching/loading bug in Hive.  But for whatever reason, HADOOP_CLASSPATH needs to be set if the jars contain a custom InputFormat.  But otherwise, setting -libjars and hive.aux.jars.path seems to be sufficient.  This is probably why more people haven&apos;t been impacted by this bug - for simple UDFs, using &apos;,&apos; works because the comma list in HADOOP_CLASSPATH is silently ignored.&lt;/p&gt;

&lt;p&gt;Consider a user with the following constraints:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Can not modify $HIVE_HOME (i.e. can not add jars to $HIVE_HOME/auxlib)&lt;/li&gt;
	&lt;li&gt;Has multiple JARs&lt;/li&gt;
	&lt;li&gt;The JARs contain at least one custom InputFormat&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In current releases, this user must pick one of the following options:&lt;br/&gt;
(1) Add the list of JARs to HADOOP_CLASSPATH manually (with colons) and then set HIVE_AUX_JARS_PATH (or --auxpath) with commas.  The comma list still gets appended to the end of HADOOP_CLASSPATH but it should be ignored by the JVM.&lt;br/&gt;
(2) Copy all JARs to a single directory.  Set HIVE_AUX_JARS_PATH (or --auxpath) to this single directory.&lt;/p&gt;

&lt;p&gt;Am I missing anything?  Note, &quot;add jars&quot; is not an option for JARs with custom InputFormats as it does not change HADOOP_CLASSPATH.&lt;/p&gt;

&lt;p&gt;I should also mention that Carl&apos;s patch allows colons to be used successfully in --auxpath.  His patch was picked up by or before CDH3u3 but dropped sometime later.  So, there is a brief period where CDH users can successfully specify a list of JARs with just --auxpath.&lt;/p&gt;

&lt;p&gt;Finally, when defining the semantics of &quot;--auxpath&quot;, it should support a list of local files (not URIs) that can be either comma or colon separated.  The script should reformat the list depending on where it is used.  Supporting just commas or just colons would not be backwards compatible.  Supporting URIs would not be backwards compatible.  Adding support for directories in lists may be OK.&lt;/p&gt;</comment>
                            <comment id="13943366" author="ashutoshc" created="Fri, 21 Mar 2014 18:39:38 +0000"  >&lt;p&gt;After various attempts including &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3978&quot; title=&quot;HIVE_AUX_JARS_PATH should have : instead of , as separator since it gets appended to HADOOP_CLASSPATH&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3978&quot;&gt;&lt;del&gt;HIVE-3978&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5363&quot; title=&quot;HIVE-3978 broke the command line option --auxpath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5363&quot;&gt;&lt;del&gt;HIVE-5363&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5410&quot; title=&quot;Hive command line option --auxpath still does not work post HIVE-5363&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5410&quot;&gt;&lt;del&gt;HIVE-5410&lt;/del&gt;&lt;/a&gt; this has been resolved and it was further improved in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6328&quot; title=&quot;Hive script should not overwrite AUX_CLASSPATH with HIVE_AUX_JARS_PATH if the latter is set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6328&quot;&gt;&lt;del&gt;HIVE-6328&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12517990">HIVE-2349</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12671597">HIVE-5410</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12630496">HIVE-3978</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12670572">HIVE-5363</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12485531" name="HIVE-2269-auxpath.1.patch.txt" size="825" author="cwsteinbach" created="Thu, 7 Jul 2011 04:05:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jul 2011 13:31:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05imn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30115</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2270] Hive should not call methods from org.apache.hadoop.mapred.JobTracker</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2270</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently Hive calls getAddress() and getState() api from org.apache.hadoop.mapred.JobTracker. These should be replaced with client-side ones if any, since the class is private(annotated) to hadoop.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513129">HIVE-2270</key>
            <summary>Hive should not call methods from org.apache.hadoop.mapred.JobTracker</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amareshwari">Amareshwari Sriramadasu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2011 11:17:21 +0000</created>
                <updated>Wed, 2 Mar 2016 08:19:52 +0000</updated>
                            <resolved>Wed, 2 Mar 2016 08:19:52 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42197</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123765</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2271] InConsistency between Infomation Document and Actual Behavior for Built In Aggregate Functions(UDAF) Return Type. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2271</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I followed the Information Document for executing UDAF like MIN(),MAX(),SUM(),AVG() and COUNT() below link.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-BuiltinAggregateFunctions%28UDAF%29&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-BuiltinAggregateFunctions%28UDAF%29&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Observed mismatch for RETURN TYPE mentioned in Information Document and Actual Behavior.&lt;/p&gt;

&lt;p&gt;1.) Return Type for min(colName),max(colName) is mentioned as DOUBLE,but while retrieving it is returning colName DataType passed to Min()/Max().&lt;/p&gt;


&lt;p&gt;Ex:&lt;br/&gt;
1).create table test(a int,b smallint,c string);&lt;br/&gt;
2).select min(a) from test;&lt;br/&gt;
3).ResultSet.getMetaData ().getColumnTypeName ( 1 )&lt;br/&gt;
  Output : int&lt;br/&gt;
  Expected : double(According to InformationDoc)&lt;/p&gt;


&lt;p&gt;2.) Return Type for sum(colName) is mentioned as DOUBLE,but while retrieving it is always returning as BIGINT&lt;/p&gt;

&lt;p&gt;Ex:&lt;br/&gt;
1).create table test(a int,b smallint,c string);&lt;br/&gt;
2).select sum(a) from test;&lt;br/&gt;
3).ResultSet.getMetaData ().getColumnTypeName ( 1 )&lt;br/&gt;
  Output : BIGINT&lt;br/&gt;
  Expected : double(According to InformationDoc)&lt;/p&gt;






</description>
                <environment>&lt;p&gt;SuSE-Linux-11&lt;/p&gt;</environment>
        <key id="12513138">HIVE-2271</key>
            <summary>InConsistency between Infomation Document and Actual Behavior for Built In Aggregate Functions(UDAF) Return Type. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rohithsharma">Rohith Sharma K S</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2011 12:31:20 +0000</created>
                <updated>Thu, 6 Oct 2016 12:30:25 +0000</updated>
                            <resolved>Thu, 6 Oct 2016 12:30:24 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.6.0</version>
                    <version>0.7.0</version>
                    <version>0.7.1</version>
                                                    <component>Documentation</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15551815" author="rohithsharma" created="Thu, 6 Oct 2016 12:30:25 +0000"  >&lt;p&gt;Closing as Can&apos;t Reproduce since  several releases has been given after this bug. And interestingly no one had looked it!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42196</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2272] add TIMESTAMP data type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2272</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add TIMESTAMP type to serde2 that supports unix timestamp (1970-01-01 00:00:01 UTC to 2038-01-19 03:14:07 UTC) with optional nanosecond precision using both LazyBinary and LazySimple SerDes. &lt;br/&gt;
For LazySimpleSerDe, the data is stored in jdbc compliant java.sql.Timestamp parsable strings.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513173">HIVE-2272</key>
            <summary>add TIMESTAMP data type</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="franklinhu">Franklin Hu</assignee>
                                    <reporter username="franklinhu">Franklin Hu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2011 18:30:01 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:52 +0000</updated>
                            <resolved>Fri, 12 Aug 2011 19:57:24 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13061626" author="franklinhu" created="Thu, 7 Jul 2011 22:05:20 +0000"  >&lt;p&gt;fix fractional timestamp bug&lt;/p&gt;</comment>
                            <comment id="13063715" author="franklinhu" created="Tue, 12 Jul 2011 04:43:58 +0000"  >&lt;p&gt;fix unit test problems&lt;/p&gt;</comment>
                            <comment id="13064935" author="sdong" created="Wed, 13 Jul 2011 23:04:45 +0000"  >&lt;p&gt;Can you add it to review board?&lt;/p&gt;</comment>
                            <comment id="13065670" author="jiraposter@reviews.apache.org" created="Fri, 15 Jul 2011 01:48:00 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;br/&gt;
Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;br/&gt;
YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1146895 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/show_functions.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1146895 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13067222" author="jiraposter@reviews.apache.org" created="Mon, 18 Jul 2011 19:12:57 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-18 19:12:08.745755)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary (updated)&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;br/&gt;
Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;br/&gt;
YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1146895 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/show_functions.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1146895 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13067223" author="jiraposter@reviews.apache.org" created="Mon, 18 Jul 2011 19:14:57 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-18 19:13:31.962359)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;br/&gt;
Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;br/&gt;
YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1146895 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/show_functions.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1146895 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1146895 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1146895 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13067960" author="franklinhu" created="Tue, 19 Jul 2011 20:55:56 +0000"  >&lt;p&gt;remove debug statements&lt;/p&gt;</comment>
                            <comment id="13071295" author="franklinhu" created="Tue, 26 Jul 2011 19:15:50 +0000"  >&lt;p&gt;rebase &lt;/p&gt;</comment>
                            <comment id="13071368" author="jiraposter@reviews.apache.org" created="Tue, 26 Jul 2011 21:12:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-26 21:11:35.218104)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Rebase&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;br/&gt;
Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;br/&gt;
YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1151189 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1151189 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1151189 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1151189 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1151189 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1151189 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1151189 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1151189 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1151189 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/show_functions.q.out 1151189 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1151189 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13072138" author="franklinhu" created="Thu, 28 Jul 2011 01:38:48 +0000"  >&lt;p&gt;Decided to store timestamps as UTC on disk and add offsets (localize) if user needs through UDF. This simplifies use cases (compared to MySQL) where users from different time zones querying the same data would receive different results.&lt;/p&gt;

&lt;p&gt;Will file a follow up JIRA ticket to add table level timezone defaults. This would allow a user to import existing data that is already offset from UTC and write new data to the table with that offset.&lt;/p&gt;

&lt;p&gt;Summary:&lt;/p&gt;

&lt;p&gt;-Added config var for default timezone&lt;br/&gt;
-Added GenericUDF for converting from UTC to localized timezone (either default, or supplied from list of Java timezones)&lt;br/&gt;
  Ex: utc_to_localized_timestamp(&amp;lt;timestamp&amp;gt;) OR utc_to_localized_timestamp(&amp;lt;timestamp&amp;gt;, &quot;America/Chicago&quot;)&lt;br/&gt;
-Fixed DateDiff bug I introduced&lt;/p&gt;</comment>
                            <comment id="13072494" author="jiraposter@reviews.apache.org" created="Thu, 28 Jul 2011 19:18:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-28 19:17:59.868991)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Decided to store timestamps as UTC on disk and add offsets (localize) if user needs through UDF. This simplifies use cases (compared to MySQL) where users from different time zones querying the same data would receive different results.&lt;/p&gt;

&lt;p&gt;Will file a follow up JIRA ticket to add table level timezone defaults. This would allow a user to import existing data that is already offset from UTC and write new data to the table with that offset.&lt;/p&gt;

&lt;p&gt;Summary:&lt;/p&gt;

&lt;p&gt;-Added config var for default timezone&lt;br/&gt;
-Added GenericUDF for converting from UTC to localized timezone (either default, or supplied from list of Java timezones)&lt;br/&gt;
Ex: utc_to_localized_timestamp(&amp;lt;timestamp&amp;gt;) OR utc_to_localized_timestamp(&amp;lt;timestamp&amp;gt;, &quot;America/Chicago&quot;)&lt;br/&gt;
-Fixed DateDiff bug I introduced&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;br/&gt;
Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;br/&gt;
YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1151571 &lt;br/&gt;
  trunk/conf/hive-default.xml 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtcToLocalizedTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1151571 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/show_functions.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java 1151571 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13072525" author="jiraposter@reviews.apache.org" created="Thu, 28 Jul 2011 20:52:15 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-28 20:51:48.675604)&lt;/p&gt;


&lt;p&gt;Review request for hive, Yongqiang He, Ning Zhang, and Siying Dong.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;br/&gt;
Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;br/&gt;
YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1151571 &lt;br/&gt;
  trunk/conf/hive-default.xml 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1151571 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtcToLocalizedTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1151571 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/show_functions.q.out 1151571 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1151571 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java 1151571 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13072553" author="jiraposter@reviews.apache.org" created="Thu, 28 Jul 2011 22:00:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-28 21:59:38.146393)&lt;/p&gt;


&lt;p&gt;Review request for hive, Yongqiang He, Ning Zhang, and Siying Dong.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Add corresponding UDF for converting to UTC from a localized timestamp&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;br/&gt;
Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;br/&gt;
YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1152003 &lt;br/&gt;
  trunk/conf/hive-default.xml 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1152003 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFFromUtcTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUtcTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1152003 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1152003 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1152003 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1152003 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1152003 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1152003 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1152003 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1152003 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/show_functions.q.out 1152003 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1152003 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java 1152003 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13072590" author="franklinhu" created="Thu, 28 Jul 2011 23:04:58 +0000"  >&lt;p&gt;rename UDFs, add to_utc_timestamp UDF&lt;/p&gt;</comment>
                            <comment id="13078359" author="franklinhu" created="Tue, 2 Aug 2011 18:54:23 +0000"  >&lt;p&gt;fix fractional timestamp precision bug&lt;/p&gt;</comment>
                            <comment id="13080273" author="jiraposter@reviews.apache.org" created="Fri, 5 Aug 2011 22:40:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/#review1277&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/#review1277&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1135/#comment2918&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/#comment2918&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I think we should put default timezone to be UTC and we internally in facebook have PST as default.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1135/#comment2922&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/#comment2922&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Only loading it in client side is sufficient?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Siying&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-28 21:59:38, Franklin Hu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-28 21:59:38)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, Yongqiang He, Ning Zhang, and Siying Dong.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/conf/hive-default.xml 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFFromUtcTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUtcTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/show_functions.q.out 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java 1152003 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Franklin&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13081092" author="franklinhu" created="Mon, 8 Aug 2011 17:59:18 +0000"  >&lt;p&gt;address siying&apos;s comments from review board&lt;/p&gt;</comment>
                            <comment id="13081101" author="jiraposter@reviews.apache.org" created="Mon, 8 Aug 2011 18:20:34 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-08-08 18:19:27.210647)&lt;/p&gt;


&lt;p&gt;Review request for hive, Yongqiang He, Ning Zhang, and Siying Dong.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Addressed Siying&apos;s comments.&lt;br/&gt;
Removed references to a &quot;default&quot; timezone. All times are treated as UTC.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;br/&gt;
Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;br/&gt;
YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1155026 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFFromUtcTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUtcTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1155026 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1155026 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1155026 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1155026 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1155026 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1155026 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1155026 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1155026 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/show_functions.q.out 1155026 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1155026 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java 1155026 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13082007" author="sdong" created="Wed, 10 Aug 2011 00:03:53 +0000"  >&lt;p&gt;+1, please open a follow up JIRA for setting timezones.&lt;/p&gt;</comment>
                            <comment id="13082694" author="jiraposter@reviews.apache.org" created="Wed, 10 Aug 2011 21:31:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/#review1391&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/#review1391&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1135/#comment3175&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/#comment3175&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Parameterize the WritableComparable there to eliminate warning.&lt;/p&gt;



&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1135/#comment3172&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/#comment3172&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Do we really need two booleans? It seems at a time data will be either in byte[] or in timestamp, so one bool will suffice?&lt;/p&gt;



&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1135/#comment3174&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/#comment3174&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Arrays.fill() might be better here.&lt;/p&gt;



&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1135/#comment3173&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/#comment3173&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I think you want Arrays.equals() there.&lt;/p&gt;



&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1135/#comment3177&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/#comment3177&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    System.arrayCopy() will be more efficient here.&lt;/p&gt;



&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1135/#comment3178&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/#comment3178&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    System.arrayCopy() will be more efficient here.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ashutosh&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-08-08 18:19:27, Franklin Hu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-08 18:19:27)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, Yongqiang He, Ning Zhang, and Siying Dong.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFFromUtcTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUtcTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/show_functions.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Franklin&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13082745" author="jiraposter@reviews.apache.org" created="Wed, 10 Aug 2011 23:12:27 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-08-10 21:30:23, Ashutosh Chauhan wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java, line 134&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1135/diff/6/?file=31093#file31093line134&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff/6/?file=31093#file31093line134&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I think you want Arrays.equals() there.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;currentBytes always points to the correct byte[], if any, so in this case I want to compare the pointers to check whether we are using externalBytes to hold the data.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-08-10 21:30:23, Ashutosh Chauhan wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java, lines 73-74&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1135/diff/6/?file=31093#file31093line73&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff/6/?file=31093#file31093line73&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Do we really need two booleans? It seems at a time data will be either in byte[] or in timestamp, so one bool will suffice?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We may have conditions when the data is in both the byte[] and timestamp (ex: needed to instantiate timestamp object from byte[] to get the string representation) so with two booleans we can make sure we don&apos;t do repeated work if there are repeated calls.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Franklin&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/#review1391&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/#review1391&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-08-08 18:19:27, Franklin Hu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-08 18:19:27)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, Yongqiang He, Ning Zhang, and Siying Dong.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFFromUtcTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUtcTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/show_functions.q.out 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java 1155026 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Franklin&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13082772" author="jiraposter@reviews.apache.org" created="Wed, 10 Aug 2011 23:53:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-08-10 23:53:23.261081)&lt;/p&gt;


&lt;p&gt;Review request for hive, Yongqiang He, Ning Zhang, and Siying Dong.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;-Fix q.out files for timestamp_udf.q and show_functions.q&lt;br/&gt;
-Incorporate Ashutosh&apos;s comments&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Adds TIMESTAMP type to serde2 with both string (LazySimple) and binary (LazyBinary) serialization.&lt;br/&gt;
Supports SQL style jdbc timestamps of the format with nanosecond precision&lt;br/&gt;
YYYY-MM-DD HH:MM:SS&lt;span class=&quot;error&quot;&gt;&amp;#91;.fff...&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2272&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java 1156396 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFFromUtcTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUtcTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q 1156396 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/timestamp_udf.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out 1156396 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out 1156396 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out 1156396 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out 1156396 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out 1156396 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out 1156396 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out 1156396 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/show_functions.q.out 1156396 &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java 1156396 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java PRE-CREATION &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java 1156396 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1135/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Wrote some unit tests for string/binary serialization. Also ran against test data and looked consistent&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Franklin&lt;/p&gt;
</comment>
                            <comment id="13082773" author="franklinhu" created="Wed, 10 Aug 2011 23:53:40 +0000"  >&lt;p&gt;Fix .out files, incorporate comments from review board&lt;/p&gt;</comment>
                            <comment id="13084338" author="sdong" created="Fri, 12 Aug 2011 19:57:24 +0000"  >&lt;p&gt;Thanks Franklin!&lt;/p&gt;</comment>
                            <comment id="13084490" author="hudson" created="Sat, 13 Aug 2011 00:30:51 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #892 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/892/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/892/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2272&quot; title=&quot;add TIMESTAMP data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2272&quot;&gt;&lt;del&gt;HIVE-2272&lt;/del&gt;&lt;/a&gt;. add TIMESTAMP data type (Franklin Hu via Siying Dong)&lt;/p&gt;

&lt;p&gt;sdong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1157222&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1157222&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFPercentileApprox.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/timestamp_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/timestamp_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVariance.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToDouble.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/timestamp_udf.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyPrimitiveObjectInspectorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_t_create3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToFloat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFContextNGrams.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTimestamp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryTimestamp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFYear.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_t_create2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateSub.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStdSample.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/SerDeUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFStd.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/SettableTimestampObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFWeekOfYear.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/PrimitiveObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToByte.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFToUtcTimestamp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/timestamp_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableTimestampObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/timestamp_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/timestamp_udf.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToLong.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/timestamp_comparison.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFUnixTimeStamp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_t_alter2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateDiff.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToBoolean.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/timestamp_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_create_tbl1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDate.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/show_functions.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToString.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFnGrams.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMonth.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyTimestamp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/timestamp_comparison.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFHour.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_t_transform.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovarianceSample.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_t_create1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinaryFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_t_create3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDateAdd.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCovariance.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorConverter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFMinute.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFFromUtcTimestamp.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFDayOfMonth.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/wrong_column_type.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToInteger.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFToShort.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFAverage.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFHistogramNumeric.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaTimestampObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/TimestampObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/timestamp_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFVarianceSample.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/primitive/LazyTimestampObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_t_alter1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFSum.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSecond.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12459949">HIVE-1269</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12485634" name="hive-2272.1.patch" size="203158" author="franklinhu" created="Thu, 7 Jul 2011 18:31:41 +0000"/>
                            <attachment id="12489718" name="hive-2272.10.patch" size="238566" author="franklinhu" created="Mon, 8 Aug 2011 17:59:18 +0000"/>
                            <attachment id="12490056" name="hive-2272.11.patch" size="235688" author="franklinhu" created="Wed, 10 Aug 2011 23:53:40 +0000"/>
                            <attachment id="12485660" name="hive-2272.2.patch" size="203559" author="franklinhu" created="Thu, 7 Jul 2011 22:05:20 +0000"/>
                            <attachment id="12486146" name="hive-2272.3.patch" size="215482" author="franklinhu" created="Tue, 12 Jul 2011 04:43:58 +0000"/>
                            <attachment id="12486540" name="hive-2272.4.patch" size="217115" author="franklinhu" created="Fri, 15 Jul 2011 01:43:08 +0000"/>
                            <attachment id="12487062" name="hive-2272.5.patch" size="216838" author="franklinhu" created="Tue, 19 Jul 2011 20:55:56 +0000"/>
                            <attachment id="12487884" name="hive-2272.6.patch" size="216443" author="franklinhu" created="Tue, 26 Jul 2011 19:15:50 +0000"/>
                            <attachment id="12488052" name="hive-2272.7.patch" size="235267" author="franklinhu" created="Thu, 28 Jul 2011 01:38:48 +0000"/>
                            <attachment id="12488151" name="hive-2272.8.patch" size="240478" author="franklinhu" created="Thu, 28 Jul 2011 23:04:58 +0000"/>
                            <attachment id="12489098" name="hive-2272.9.patch" size="241902" author="franklinhu" created="Tue, 2 Aug 2011 18:54:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Jul 2011 23:04:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 24 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123767</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>TIMESTAMP data type&lt;br/&gt;
New primitive data type that supports traditional UNIX timestamp with optional nanosecond precision.&lt;br/&gt;
&lt;br/&gt;
Supported conversions:&lt;br/&gt;
Integer numeric types: Interpreted as UNIX timestamp in seconds&lt;br/&gt;
Floating point numeric types: Intepreted as UNIX timestamp in seconds with decimal precision&lt;br/&gt;
Strings: JDBC compliant java.sql.Timestamp format &amp;quot;YYYY-MM-DD HH:MM:SS.fffffffff&amp;quot; (9 decimal place precision)&lt;br/&gt;
&lt;br/&gt;
Timestamps are interpreted to be timezoneless and stored as an offset from the UNIX epoch. Convenience UDFs for conversion to and from timezones are provided (to_utc_timestamp, from_utc_timestamp).&lt;br/&gt;
All existing datetime UDFs (month, day, year, hour, etc.) will work with the TIMESTAMP data type.&lt;br/&gt;
&lt;br/&gt;
Supported SerDes:&lt;br/&gt;
ColumnarSerDe&lt;br/&gt;
LazyBinaryColumnarSerDe&lt;br/&gt;
LazySimpleSerDe&lt;br/&gt;
LazyBinarySerDe&lt;br/&gt;
BinarySortableSerDe</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2273] IP data type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2273</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;new data type that supports both IPv4 and IPv6 in String and binary serialized formats&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513202">HIVE-2273</key>
            <summary>IP data type</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="franklinhu">Franklin Hu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2011 23:27:45 +0000</created>
                <updated>Fri, 25 Jan 2013 17:55:03 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13061678" author="franklinhu" created="Thu, 7 Jul 2011 23:49:30 +0000"  >&lt;p&gt;initial patch&lt;/p&gt;</comment>
                            <comment id="13063448" author="franklinhu" created="Mon, 11 Jul 2011 17:44:07 +0000"  >&lt;p&gt;fix failing unit tests&lt;/p&gt;</comment>
                            <comment id="13065500" author="franklinhu" created="Thu, 14 Jul 2011 19:53:46 +0000"  >&lt;p&gt;fix ORDER BY in BinarySortableSerDe&lt;/p&gt;</comment>
                            <comment id="13562551" author="namit" created="Fri, 25 Jan 2013 09:06:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=franklinhu&quot; class=&quot;user-hover&quot; rel=&quot;franklinhu&quot;&gt;Franklin Hu&lt;/a&gt;, are you still working on this ?&lt;/p&gt;</comment>
                            <comment id="13562875" author="franklinhu" created="Fri, 25 Jan 2013 17:55:03 +0000"  >&lt;p&gt;Sorry, no longer working on this&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12485667" name="hive-2273.1.patch" size="138458" author="franklinhu" created="Thu, 7 Jul 2011 23:49:30 +0000"/>
                            <attachment id="12486082" name="hive-2273.2.patch" size="149346" author="franklinhu" created="Mon, 11 Jul 2011 17:44:07 +0000"/>
                            <attachment id="12486497" name="hive-2273.3.patch" size="149354" author="franklinhu" created="Thu, 14 Jul 2011 19:53:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Jan 2013 09:06:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123768</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2274] Compute table statistics in CREATE TABLE AS</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2274</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;set hive.stats.autogather=true only applies to partitions created by INSERT OVERWRITE. It would be better to compute them anytime a table is created. &lt;/p&gt;

&lt;p&gt;see: &lt;a href=&quot;https://cwiki.apache.org/Hive/statsdev.html#StatsDev-NewlyCreatedTables&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/statsdev.html#StatsDev-NewlyCreatedTables&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513287">HIVE-2274</key>
            <summary>Compute table statistics in CREATE TABLE AS</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gregdingle">Greg Dingle</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jul 2011 17:15:22 +0000</created>
                <updated>Wed, 9 Nov 2011 19:04:49 +0000</updated>
                            <resolved>Wed, 9 Nov 2011 19:04:49 +0000</resolved>
                                                                    <component>Serializers/Deserializers</component>
                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13147224" author="rsurowka" created="Wed, 9 Nov 2011 19:04:00 +0000"  >&lt;p&gt;This issue is being resolved in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2472&quot; title=&quot;Metastore statistics are not being updated for CTAS queries.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2472&quot;&gt;&lt;del&gt;HIVE-2472&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12474333">HIVE-1648</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Nov 2011 19:04:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42194</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00x5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2275] Revert HIVE-2219 and apply correct patch to improve the efficiency of dropping multiple partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2275</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2219&quot; title=&quot;Make &amp;quot;alter table drop partition&amp;quot; more efficient&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2219&quot;&gt;&lt;del&gt;HIVE-2219&lt;/del&gt;&lt;/a&gt; applied an incorrect patch that fails unit tests.  This patch reverts those changes and adds the intended changes to improve the efficiency of dropping multiple partitions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513307">HIVE-2275</key>
            <summary>Revert HIVE-2219 and apply correct patch to improve the efficiency of dropping multiple partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sohanjain">Sohan Jain</assignee>
                                    <reporter username="sohanjain">Sohan Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jul 2011 20:20:37 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:38 +0000</updated>
                            <resolved>Mon, 11 Jul 2011 21:59:25 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13063601" author="hudson" created="Mon, 11 Jul 2011 23:24:59 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #821 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/821/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/821/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2275&quot; title=&quot;Revert HIVE-2219 and apply correct patch to improve the efficiency of dropping multiple partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2275&quot;&gt;&lt;del&gt;HIVE-2275&lt;/del&gt;&lt;/a&gt;. Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2219&quot; title=&quot;Make &amp;quot;alter table drop partition&amp;quot; more efficient&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2219&quot;&gt;&lt;del&gt;HIVE-2219&lt;/del&gt;&lt;/a&gt; and apply correct patch to improve the efficiency of dropping multiple partitions (Sohan Jain via pauly)&lt;/p&gt;

&lt;p&gt;pauly : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1145368&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1145368&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/Warehouse.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12485779" name="HIVE-2275.1.patch" size="5899" author="sohanjain" created="Fri, 8 Jul 2011 20:21:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jul 2011 23:24:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>68344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123770</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Committed. Thanks Sohan!</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2276] Fix Inconsistency between RB and JIRA patches for HIVE-2194</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2276</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The RB and JIRA patches for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt; were out of sync.  An outdated patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt; was committed.  This patch updates that patch to include the changes from RB.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513313">HIVE-2276</key>
            <summary>Fix Inconsistency between RB and JIRA patches for HIVE-2194</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sohanjain">Sohan Jain</assignee>
                                    <reporter username="sohanjain">Sohan Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jul 2011 23:06:33 +0000</created>
                <updated>Thu, 2 May 2013 02:29:42 +0000</updated>
                            <resolved>Thu, 28 Jul 2011 21:31:20 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13072543" author="cwsteinbach" created="Thu, 28 Jul 2011 21:31:20 +0000"  >&lt;p&gt;Committed to trunk. Thanks Sohan!&lt;/p&gt;</comment>
                            <comment id="13072675" author="hudson" created="Fri, 29 Jul 2011 04:43:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #858 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/858/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/858/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2276&quot; title=&quot;Fix Inconsistency between RB and JIRA patches for HIVE-2194&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2276&quot;&gt;&lt;del&gt;HIVE-2276&lt;/del&gt;&lt;/a&gt;. Fix Inconsistency between RB and JIRA patches for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt; (Sohan Jain via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1152007&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1152007&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12509232">HIVE-2194</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12485793" name="HIVE-2276.1.patch" size="1303" author="sohanjain" created="Fri, 8 Jul 2011 23:06:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Jul 2011 21:31:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43512</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123771</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2277] Use Ivy to satisfy unresolved commons-codec dependencies</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2277</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12513451">HIVE-2277</key>
            <summary>Use Ivy to satisfy unresolved commons-codec dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Sun, 10 Jul 2011 07:02:28 +0000</created>
                <updated>Sat, 25 Feb 2012 04:34:54 +0000</updated>
                            <resolved>Sat, 25 Feb 2012 04:34:53 +0000</resolved>
                                                                    <component>Contrib</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13062686" author="cwsteinbach" created="Sun, 10 Jul 2011 07:06:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2239&quot; title=&quot;Use the version commons-codec from Hadoop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2239&quot;&gt;&lt;del&gt;HIVE-2239&lt;/del&gt;&lt;/a&gt; removed commons-codec from the lib/ directory, in the process breaking the eclipse integration scripts. This change also created an implicit dependency on Hadoop&apos;s commons-codec JAR.&lt;/p&gt;</comment>
                            <comment id="13062687" author="jiraposter@reviews.apache.org" created="Sun, 10 Jul 2011 07:11:00 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1061/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1061/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2277&quot; title=&quot;Use Ivy to satisfy unresolved commons-codec dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2277&quot;&gt;&lt;del&gt;HIVE-2277&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2277&quot; title=&quot;Use Ivy to satisfy unresolved commons-codec dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2277&quot;&gt;&lt;del&gt;HIVE-2277&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2277&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2277&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  contrib/ivy.xml 194b8b2 &lt;br/&gt;
  eclipse-templates/.classpath 7a8128d &lt;br/&gt;
  shims/ivy.xml a94ac1f &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1061/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1061/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Carl&lt;/p&gt;
</comment>
                            <comment id="13063498" author="jvs" created="Mon, 11 Jul 2011 20:02:50 +0000"  >&lt;p&gt;Sorry for the Eclipse breakage.  But rather than pulling it down via ivy, can&apos;t we copy the version from Hadoop to wherever Eclipse needs it?  It seems like a bad idea for Hive to have its own version.  Instead, we should say that a particular version of Hive either works with a particular version of Hadoop or it doesn&apos;t; and if it does, then it means it can use the corresponding commons-codec version.&lt;/p&gt;

&lt;p&gt;(The previous change should have deleted the commons-codec.version definition from ivy/library.properties also.)&lt;/p&gt;</comment>
                            <comment id="13216302" author="ashutoshc" created="Sat, 25 Feb 2012 04:34:54 +0000"  >&lt;p&gt;No further work required on this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12511600">HIVE-2239</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12485987" name="HIVE-2277-codec.1.patch.txt" size="1952" author="cwsteinbach" created="Sun, 10 Jul 2011 07:07:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 10 Jul 2011 07:11:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2278] Support archiving for multiple partitions if the table is partitioned by multiple columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2278</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If a table is partitioned by ds,hr&lt;br/&gt;
it should be possible to archive all the files in ds to reduce the number of files&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513699">HIVE-2278</key>
            <summary>Support archiving for multiple partitions if the table is partitioned by multiple columns</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marcink">Marcin Kurczych</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jul 2011 18:07:11 +0000</created>
                <updated>Mon, 18 Jun 2012 17:29:33 +0000</updated>
                            <resolved>Fri, 4 Nov 2011 16:24:14 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13067462" author="marcink" created="Tue, 19 Jul 2011 02:45:00 +0000"  >&lt;p&gt;First version of a patch, not really ready yet&lt;/p&gt;</comment>
                            <comment id="13067884" author="marcink" created="Tue, 19 Jul 2011 18:48:13 +0000"  >&lt;p&gt;Curent version of patch&lt;/p&gt;</comment>
                            <comment id="13078444" author="marcink" created="Tue, 2 Aug 2011 21:24:31 +0000"  >&lt;p&gt;Ready version of patch&lt;/p&gt;</comment>
                            <comment id="13088968" author="cwsteinbach" created="Mon, 22 Aug 2011 19:54:57 +0000"  >&lt;p&gt;I see failures in the following tests. Please take a look:&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.metastore.TestMetaStoreEventListener.testListener&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_archive_corrupt&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_archive_multi&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_2&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_view_partitioned&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_drop_multi_partitions&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_escape1&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_inputddl6&lt;/p&gt;</comment>
                            <comment id="13089729" author="marcink" created="Tue, 23 Aug 2011 20:32:06 +0000"  >&lt;p&gt;-&amp;gt; data/files/archive_corrupt.rc&lt;/p&gt;</comment>
                            <comment id="13089733" author="marcink" created="Tue, 23 Aug 2011 20:35:35 +0000"  >&lt;p&gt;Fixed following bugs (accidental line deletion in patch):&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreEventListener.testListener&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_2&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_view_partitioned&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_drop_multi_partitions&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_escape1&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_inputddl6&lt;/p&gt;

&lt;p&gt;Following ones depend on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2400&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2400&lt;/a&gt; :&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_archive_corrupt&lt;br/&gt;
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_archive_multi&lt;/p&gt;</comment>
                            <comment id="13135619" author="he yongqiang" created="Wed, 26 Oct 2011 01:49:23 +0000"  >&lt;p&gt;refresh&lt;/p&gt;</comment>
                            <comment id="13138613" author="jiraposter@reviews.apache.org" created="Fri, 28 Oct 2011 18:29:32 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2595/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and namit jain.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Support archiving for multiple partitions if the table is partitioned by multiple columns&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2278&quot; title=&quot;Support archiving for multiple partitions if the table is partitioned by multiple columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2278&quot;&gt;&lt;del&gt;HIVE-2278&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2278&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2278&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/data/files/archive_corrupt.rc UNKNOWN &lt;br/&gt;
  trunk/metastore/if/hive_metastore.thrift 1188906 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.h 1188906 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.cpp 1188906 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Constants.java 1188906 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-php/hive_metastore/hive_metastore_constants.php 1188906 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/constants.py 1188906 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-rb/hive_metastore_constants.rb 1188906 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 1188906 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 1188906 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java 1188906 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java 1188906 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/DummyPartition.java 1188906 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 1188906 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java 1188906 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1188906 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1188906 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_insert1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_insert2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_insert3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_insert4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi5.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi6.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi7.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_partspec1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_partspec2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_partspec3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/archive_corrupt.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/archive_multi.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive1.q.out 1188906 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive2.q.out 1188906 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_insert1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_insert2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_insert3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_insert4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi5.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi6.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi7.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_partspec1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_partspec2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_partspec3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/archive_corrupt.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/archive_multi.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2595/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Support archiving for multiple partitions if the table is partitioned by multiple columns&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Yongqiang&lt;/p&gt;
</comment>
                            <comment id="13138753" author="jiraposter@reviews.apache.org" created="Fri, 28 Oct 2011 21:09:33 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2595/#review2915&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/#review2915&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;what happens to external tables ?&lt;/p&gt;

&lt;p&gt;If TabAExt/ds=1 points to /WH/TabA/ds=1, and we archive TabA (ds=1),&lt;br/&gt;
isn&apos;t TabAExt also getting ruined ? Or, is it the burden of the owner of the&lt;br/&gt;
external table to fix the location of TabA (ds=1)&lt;/p&gt;


&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2595/#comment6517&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/#comment6517&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    wrong comment&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2595/#comment6518&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/#comment6518&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    what happens if the order of columns in partSpec is wrong&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2595/#comment6516&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/#comment6516&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This logic looks wrong - dont you need to check the&lt;br/&gt;
    order of columns etc.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;namit&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-10-28 18:28:45, Yongqiang He wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2595/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-10-28 18:28:45)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and namit jain.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Support archiving for multiple partitions if the table is partitioned by multiple columns&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2278&quot; title=&quot;Support archiving for multiple partitions if the table is partitioned by multiple columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2278&quot;&gt;&lt;del&gt;HIVE-2278&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2278&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2278&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/data/files/archive_corrupt.rc UNKNOWN &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/if/hive_metastore.thrift 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.h 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.cpp 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Constants.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-php/hive_metastore/hive_metastore_constants.php 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/constants.py 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-rb/hive_metastore_constants.rb 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/DummyPartition.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_insert1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_insert2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_insert3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_insert4.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi4.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi5.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi6.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi7.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_partspec1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_partspec2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_partspec3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/archive_corrupt.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/archive_multi.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive1.q.out 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive2.q.out 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_insert1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_insert2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_insert3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_insert4.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi4.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi5.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi6.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi7.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_partspec1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_partspec2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_partspec3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/archive_corrupt.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/archive_multi.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2595/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Support archiving for multiple partitions if the table is partitioned by multiple columns&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Yongqiang&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13139038" author="jiraposter@reviews.apache.org" created="Sat, 29 Oct 2011 01:13:32 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2595/#review2918&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/#review2918&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2595/#comment6526&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/#comment6526&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    In the example above, (hr=&apos;1&apos;, ds=&apos;2011-01-01&apos;) will work. It should not work - it would be simpler if you check the order also&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2595/#comment6527&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/#comment6527&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    add some comments&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2595/#comment6528&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/#comment6528&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    1 for loop instead of 2 for loops&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2595/#comment6529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/#comment6529&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I think there is a bug here - not sure&lt;/p&gt;

&lt;p&gt;    Why have a for loop - you are returning inside if anyway the first time ?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;namit&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-10-28 18:28:45, Yongqiang He wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2595/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-10-28 18:28:45)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and namit jain.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Support archiving for multiple partitions if the table is partitioned by multiple columns&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2278&quot; title=&quot;Support archiving for multiple partitions if the table is partitioned by multiple columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2278&quot;&gt;&lt;del&gt;HIVE-2278&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2278&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2278&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/data/files/archive_corrupt.rc UNKNOWN &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/if/hive_metastore.thrift 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.h 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.cpp 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Constants.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-php/hive_metastore/hive_metastore_constants.php 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/constants.py 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-rb/hive_metastore_constants.rb 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/DummyPartition.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_insert1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_insert2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_insert3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_insert4.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi4.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi5.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi6.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_multi7.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_partspec1.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_partspec2.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientnegative/archive_partspec3.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/archive_corrupt.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/queries/clientpositive/archive_multi.q PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive1.q.out 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive2.q.out 1188906 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_insert1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_insert2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_insert3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_insert4.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi4.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi5.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi6.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_multi7.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_partspec1.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_partspec2.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/archive_partspec3.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/archive_corrupt.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientpositive/archive_multi.q.out PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2595/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Support archiving for multiple partitions if the table is partitioned by multiple columns&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Yongqiang&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13139039" author="namit" created="Sat, 29 Oct 2011 01:14:28 +0000"  >&lt;p&gt;commented on the review board - looks good otherwise&lt;/p&gt;</comment>
                            <comment id="13139556" author="he yongqiang" created="Sun, 30 Oct 2011 07:29:42 +0000"  >&lt;p&gt;attached a new patch to address comments&lt;/p&gt;</comment>
                            <comment id="13139557" author="jiraposter@reviews.apache.org" created="Sun, 30 Oct 2011 07:35:32 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2595/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-10-30 07:34:36.866186)&lt;/p&gt;


&lt;p&gt;Review request for hive and namit jain.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Address review comments except the last one:&lt;br/&gt;
&quot;Why have a for loop - you are returning inside if anyway the first time ?&quot;&lt;/p&gt;

&lt;p&gt;I think it is safe to return even for the first time. For any partition returned, it should either be archived or not. If the archive is based on its parent partition col, the partition should also be marked as archived, otherwise, it should not be there.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Support archiving for multiple partitions if the table is partitioned by multiple columns&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2278&quot; title=&quot;Support archiving for multiple partitions if the table is partitioned by multiple columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2278&quot;&gt;&lt;del&gt;HIVE-2278&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2278&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2278&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 1190490 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-rb/hive_metastore_constants.rb 1190490 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-php/hive_metastore/hive_metastore_constants.php 1190490 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/constants.py 1190490 &lt;br/&gt;
  trunk/data/files/archive_corrupt.rc UNKNOWN &lt;br/&gt;
  trunk/metastore/if/hive_metastore.thrift 1190490 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.h 1190490 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.cpp 1190490 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Constants.java 1190490 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 1190490 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java 1190490 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java 1190490 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/DummyPartition.java 1190490 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java 1190490 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java 1190490 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java 1195116 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1190490 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1190490 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_insert1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_insert2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_insert3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_insert4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi5.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi6.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_multi7.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_partspec1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_partspec2.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_partspec3.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_partspec4.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/archive_partspec5.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/archive_corrupt.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/archive_multi.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive1.q.out 1190490 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive2.q.out 1190490 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_insert1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_insert2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_insert3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_insert4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi5.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi6.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_multi7.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_partspec1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_partspec2.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_partspec3.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_partspec4.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/archive_partspec5.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/archive_corrupt.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/archive_multi.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2595/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2595/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Support archiving for multiple partitions if the table is partitioned by multiple columns&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Yongqiang&lt;/p&gt;
</comment>
                            <comment id="13139904" author="namit" created="Mon, 31 Oct 2011 04:37:12 +0000"  >&lt;p&gt;+1 &lt;/p&gt;

&lt;p&gt;looks good - will get it in once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1003&quot; title=&quot;optimize metadata only queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1003&quot;&gt;&lt;del&gt;HIVE-1003&lt;/del&gt;&lt;/a&gt; is in, dont want to conflict 2 big patches&lt;/p&gt;</comment>
                            <comment id="13140458" author="namit" created="Mon, 31 Oct 2011 19:08:44 +0000"  >&lt;p&gt;?       ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java.orig&lt;br/&gt;
?       ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java.orig&lt;br/&gt;
?       ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java.orig&lt;/p&gt;


&lt;p&gt;Getting merge conflicts, can you resolve them and resubmit the patch.&lt;/p&gt;</comment>
                            <comment id="13140593" author="he yongqiang" created="Mon, 31 Oct 2011 21:45:43 +0000"  >&lt;p&gt;resolved conflicts&lt;/p&gt;</comment>
                            <comment id="13140599" author="namit" created="Mon, 31 Oct 2011 21:51:26 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="13140902" author="namit" created="Tue, 1 Nov 2011 04:16:14 +0000"  >&lt;p&gt;The following tests failed:&lt;/p&gt;

&lt;p&gt;TestMetaStoreEventListener&lt;br/&gt;
TestRemoteHiveMetaStore&lt;br/&gt;
TestCliDriver:&lt;br/&gt;
  archive_corrupt&lt;br/&gt;
  archive_multi&lt;br/&gt;
  authorization_2&lt;br/&gt;
  create_view_partitioned&lt;br/&gt;
  drop_multi_partitions&lt;br/&gt;
  escape1&lt;br/&gt;
  inputddl6&lt;/p&gt;</comment>
                            <comment id="13142782" author="he yongqiang" created="Thu, 3 Nov 2011 02:29:26 +0000"  >&lt;p&gt;Some index qfiles are failing for me, and they are failing even without this patch.&lt;/p&gt;</comment>
                            <comment id="13142845" author="namit" created="Thu, 3 Nov 2011 05:14:45 +0000"  >&lt;p&gt;What was the problem ? Running tests again&lt;/p&gt;</comment>
                            <comment id="13143461" author="he yongqiang" created="Thu, 3 Nov 2011 19:16:38 +0000"  >&lt;p&gt;fixed some .q.out diffs&lt;/p&gt;</comment>
                            <comment id="13143551" author="namit" created="Thu, 3 Nov 2011 21:48:48 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13143840" author="hudson" created="Fri, 4 Nov 2011 09:00:25 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1057 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1057/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1057/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2278&quot; title=&quot;Support archiving for multiple partitions if the table is partitioned by multiple columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2278&quot;&gt;&lt;del&gt;HIVE-2278&lt;/del&gt;&lt;/a&gt; Support archiving for multiple partitions if the table is partitioned&lt;br/&gt;
by multiple columns (Marcin Kurczych and Yongqiang He via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1197400&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1197400&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/archive_corrupt.rc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/DummyPartition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_insert1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_insert2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_insert3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_insert4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_multi1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_multi2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_multi3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_multi4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_multi5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_multi6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_multi7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_partspec1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_partspec2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_partspec3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_partspec4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/archive_partspec5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/archive_corrupt.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/archive_multi.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_insert1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_insert2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_insert3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_insert4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_multi1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_multi2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_multi3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_multi4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_multi5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_multi6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_multi7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_partspec1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_partspec2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_partspec3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_partspec4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/archive_partspec5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/archive_corrupt.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/archive_multi.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13144124" author="namit" created="Fri, 4 Nov 2011 16:24:15 +0000"  >&lt;p&gt;Committed. Thanks Marcin and Yongqiang&lt;/p&gt;</comment>
                            <comment id="13220527" author="zhenxiao" created="Fri, 2 Mar 2012 00:22:04 +0000"  >&lt;p&gt;Hi, May I ask a question about archive_corrupt.rc?&lt;/p&gt;

&lt;p&gt;As my understanding, this is an RCFile, with corrupted content.&lt;/p&gt;

&lt;p&gt;In archive_corrupt.q, it is trying to load this file into table tstsrcpart.&lt;/p&gt;

&lt;p&gt;Is this expected to be succeeded? Or, we should expect a failure like:&lt;/p&gt;

&lt;p&gt;Failed with exception Wrong file format. Please check the file&apos;s format.&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MoveTask&lt;/p&gt;

&lt;p&gt;Specifically, what is inside archive_corrupt.rc? How is it corrupted?&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Zhenxiao&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12501685" name="HIVE-2278.10.patch" size="171322" author="he yongqiang" created="Mon, 31 Oct 2011 21:45:43 +0000"/>
                            <attachment id="12502090" name="HIVE-2278.11.patch" size="166525" author="he yongqiang" created="Thu, 3 Nov 2011 02:29:26 +0000"/>
                            <attachment id="12502202" name="HIVE-2278.12.patch" size="167003" author="he yongqiang" created="Thu, 3 Nov 2011 19:16:38 +0000"/>
                            <attachment id="12489120" name="HIVE-2278.2.patch" size="167666" author="marcink" created="Tue, 2 Aug 2011 21:24:31 +0000"/>
                            <attachment id="12489299" name="HIVE-2278.3.patch" size="168576" author="marcink" created="Thu, 4 Aug 2011 03:03:57 +0000"/>
                            <attachment id="12489436" name="HIVE-2278.4.patch" size="165424" author="marcink" created="Fri, 5 Aug 2011 03:01:33 +0000"/>
                            <attachment id="12489793" name="HIVE-2278.5.patch" size="168202" author="marcink" created="Tue, 9 Aug 2011 01:28:53 +0000"/>
                            <attachment id="12489792" name="HIVE-2278.5.patch" size="168202" author="marcink" created="Tue, 9 Aug 2011 01:28:36 +0000"/>
                            <attachment id="12500801" name="HIVE-2278.6.patch" size="162344" author="he yongqiang" created="Wed, 26 Oct 2011 01:49:23 +0000"/>
                            <attachment id="12490191" name="HIVE-2278.6.patch" size="168965" author="marcink" created="Thu, 11 Aug 2011 23:32:21 +0000"/>
                            <attachment id="12491387" name="HIVE-2278.7.patch" size="169362" author="marcink" created="Tue, 23 Aug 2011 20:31:35 +0000"/>
                            <attachment id="12501329" name="HIVE-2278.8.patch" size="162344" author="he yongqiang" created="Fri, 28 Oct 2011 18:03:07 +0000"/>
                            <attachment id="12501501" name="HIVE-2278.9.patch" size="171322" author="he yongqiang" created="Sun, 30 Oct 2011 07:29:22 +0000"/>
                            <attachment id="12491388" name="archive_corrupt.rc" size="1374" author="marcink" created="Tue, 23 Aug 2011 20:32:06 +0000"/>
                            <attachment id="12487040" name="hive.2278.1.patch" size="90524" author="marcink" created="Tue, 19 Jul 2011 18:48:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Jul 2011 02:45:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lj9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123773</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Multi-archives support for hive, complete implementation.&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1259/&quot;&gt;https://reviews.apache.org/r/1259/&lt;/a&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2279] Implement sort_array UDF</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2279</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12513736">HIVE-2279</key>
            <summary>Implement sort_array UDF</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jul 2011 00:47:35 +0000</created>
                <updated>Thu, 7 Jul 2016 05:28:33 +0000</updated>
                            <resolved>Fri, 20 Jan 2012 21:19:43 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13063627" author="cwsteinbach" created="Tue, 12 Jul 2011 00:48:35 +0000"  >&lt;p&gt;This UDF would be generally nice to have, but may also be a requirement if it turns out that the unordered output of functions like map_keys() and map_values() is non-deterministic.&lt;/p&gt;</comment>
                            <comment id="13177571" author="phabricator@reviews.facebook.net" created="Fri, 30 Dec 2011 06:13:30 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt;. Implement sort(array) UDF&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1059&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1059&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sort_array.q&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2241/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2241/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13179224" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 01:54:38 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt;: resolve Trailing Whitespace&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1101&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1101&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2319/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2319/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13179226" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 02:01:01 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt;: Implement sort(array) UDF&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1107&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1107&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sort_array.q&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2325/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2325/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13179229" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 02:04:39 +0000"  >&lt;p&gt;zhenxiao has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;/p&gt;

&lt;p&gt;  Incomplete patch.  D1107 is the correct patch for review.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1101&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1101&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13179237" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 02:28:39 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sort_array.q:8 Please add EXPLAIN queries.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java:82 Fix indentation.&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out:13 &quot;sort_array(sort_array(...))&quot;?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java:45 &quot;Sorts the input array in ascending order according to the natural ordering of the array elements.&quot;&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java:55 Please add a negative testcase that exercises these code paths.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java:60 What happens if I try to sort an array of arrays, or array of structs?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java:67 The return type should be another ARRAY, not a string.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java:85 This method needs to return another ARRAY, not a string containing the concatenated, sorted input elements. Take a look at the array() UDF for hints on how to return an array from a UDF.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java:97 Indentation.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1107&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1107&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13179990" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 23:44:39 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt;: Implement Sort(Array) UDF&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1125&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1125&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_sort_array_wrong1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_sort_array_wrong2.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_sort_array_wrong3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sort_array.q&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_sort_array_wrong1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_sort_array_wrong2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_sort_array_wrong3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2355/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2355/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13182421" author="phabricator@reviews.facebook.net" created="Mon, 9 Jan 2012 09:08:39 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java:47 This should be&lt;br/&gt;
  value=&quot;&lt;em&gt;FUNC&lt;/em&gt;(array)&quot;&lt;/p&gt;

&lt;p&gt;  Otherwise, the output of &quot;describe function sort_array&quot; looks like this:&lt;/p&gt;

&lt;p&gt;  sort_array(sort_array(obj1, obj2,...)) - Sorts the input...&lt;br/&gt;
                  ^^^^^^^^&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java:51 Please change the example to something simpler that doesn&apos;t involve corporate names, e.g. &quot;array(4, 1, 3, 2)&quot;&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:449 I think the name should be changed to &quot;sort&quot; and &quot;GenericUDFSort&quot;. In the future we may want to extend it so that it can also support sorting the elements in an input string. In a similar manner we may want to implement a &quot;reverse&quot; UDF that reverse the elements of an array as well as the characters in a string.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java:74 &quot;Argument 1&quot; instead of &quot;Argument &quot; + 1 + ...&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java:88 There&apos;s a single argument, right?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1125&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1125&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13182426" author="phabricator@reviews.facebook.net" created="Mon, 9 Jan 2012 09:24:39 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1125&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1125&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13182826" author="phabricator@reviews.facebook.net" created="Mon, 9 Jan 2012 21:45:39 +0000"  >&lt;p&gt;zhenxiao has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;/p&gt;

&lt;p&gt;  sort() is a better name for sort_array(), while, seems currently the parser/semantic analyzer has some problem taking a reserved keyword as UDF function name.&lt;/p&gt;

&lt;p&gt;  I tried the following changes in HIve.g:&lt;/p&gt;

&lt;p&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;~/Code/hive&amp;#93;&lt;/span&gt;git diff ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  diff --git a/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g b/ql/src/java/org/apache/hadoop/h&lt;br/&gt;
  index 888bf47..ec256de 100644&lt;br/&gt;
  &amp;#8212; a/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  +++ b/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  @@ -1816,7 +1816,7 @@ functionName&lt;br/&gt;
   @init &lt;/p&gt;
{ msgs.push(&quot;function name&quot;); }
&lt;p&gt;   @after &lt;/p&gt;
{ msgs.pop(); }
&lt;p&gt;       : // Keyword IF is also a function name&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Identifier | KW_IF | KW_ARRAY | KW_MAP | KW_STRUCT | KW_UNIONTYPE&lt;br/&gt;
  +    Identifier | KW_IF | KW_ARRAY | KW_MAP | KW_STRUCT | KW_UNIONTYPE | KW_SORT&lt;br/&gt;
       ;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   castExpression&lt;br/&gt;
  @@ -2091,6 +2091,7 @@ sysFuncNames&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; KW_MAP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; KW_STRUCT&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; KW_UNIONTYPE&lt;br/&gt;
  +    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; KW_SORT&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; EQUAL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; NOTEQUAL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; LESSTHANOREQUALTO&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;  While, the testcase always fails during semantic analysis on argument length:&lt;/p&gt;

&lt;p&gt;  &amp;#8211; Evaluate function against STRING valued keys&lt;br/&gt;
  EXPLAIN&lt;br/&gt;
  SELECT sort(array(&quot;b&quot;, &quot;d&quot;, &quot;c&quot;, &quot;a&quot;)) FROM src LIMIT 1&lt;br/&gt;
  2012-01-09 11:31:55,134 INFO  parse.ParseDriver (ParseDriver.java:parse(426)) - Parsing command:&lt;/p&gt;

&lt;p&gt;  &amp;#8211; Evaluate function against STRING valued keys&lt;br/&gt;
  EXPLAIN&lt;br/&gt;
  SELECT sort(array(&quot;b&quot;, &quot;d&quot;, &quot;c&quot;, &quot;a&quot;)) FROM src LIMIT 1&lt;br/&gt;
  2012-01-09 11:31:55,146 INFO  parse.ParseDriver (ParseDriver.java:parse(443)) - Parse Completed&lt;br/&gt;
  2012-01-09 11:31:55,147 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:analyzeInternal(7445)) - Starting Semantic Analysis&lt;br/&gt;
  2012-01-09 11:31:55,148 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:analyzeInternal(7475)) - Completed phase 1 of Semantic Analysis&lt;br/&gt;
  2012-01-09 11:31:55,148 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:getMetaData(942)) - Get metadata for source tables&lt;br/&gt;
  2012-01-09 11:31:55,149 INFO  metastore.HiveMetaStore (HiveMetaStore.java:logInfo(528)) - 0: get_table : db=default tbl=src&lt;br/&gt;
  2012-01-09 11:31:55,200 INFO  hive.log (MetaStoreUtils.java:getDDLFromFieldSchema(457)) - DDL: struct src &lt;/p&gt;
{ string key, string value}&lt;br/&gt;
  2012-01-09 11:31:55,200 DEBUG lazy.LazySimpleSerDe (LazySimpleSerDe.java:initialize(195)) - org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe initialized with: columnNames=&lt;span class=&quot;error&quot;&gt;&amp;#91;key, value&amp;#93;&lt;/span&gt; columnTypes=&lt;span class=&quot;error&quot;&gt;&amp;#91;string, string&amp;#93;&lt;/span&gt; separator=[&lt;span class=&quot;error&quot;&gt;&amp;#91;B@3bb20e65&amp;#93;&lt;/span&gt; nullstring=\N lastColumnTakesRest=false&lt;br/&gt;
  2012-01-09 11:31:55,200 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:getMetaData(1021)) - Get metadata for subqueries&lt;br/&gt;
  2012-01-09 11:31:55,201 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:getMetaData(1035)) - Get metadata for destination tables&lt;br/&gt;
  2012-01-09 11:31:55,201 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:analyzeInternal(7478)) - Completed getting MetaData in Semantic Analysis&lt;br/&gt;
  2012-01-09 11:31:55,203 INFO  hive.log (MetaStoreUtils.java:getDDLFromFieldSchema(457)) - DDL: struct src { string key, string value}
&lt;p&gt;  2012-01-09 11:31:55,203 DEBUG lazy.LazySimpleSerDe (LazySimpleSerDe.java:initialize(195)) - org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe initialized with: columnNames=&lt;span class=&quot;error&quot;&gt;&amp;#91;key, value&amp;#93;&lt;/span&gt; columnTypes=&lt;span class=&quot;error&quot;&gt;&amp;#91;string, string&amp;#93;&lt;/span&gt; separator=[&lt;span class=&quot;error&quot;&gt;&amp;#91;B@12e84396&amp;#93;&lt;/span&gt; nullstring=\N lastColumnTakesRest=false&lt;br/&gt;
  2012-01-09 11:31:55,222 DEBUG parse.SemanticAnalyzer (SemanticAnalyzer.java:genTablePlan(6598)) - Created Table Plan for src org.apache.hadoop.hive.ql.exec.TableScanOperator@5e9ea579&lt;br/&gt;
  2012-01-09 11:31:55,223 DEBUG parse.SemanticAnalyzer (SemanticAnalyzer.java:genSelectPlan(2117)) - tree: (TOK_SELECT (TOK_SELEXPR (TOK_FUNCTION sort (TOK_FUNCTION array &quot;b&quot; &quot;d&quot; &quot;c&quot; &quot;a&quot;))))&lt;br/&gt;
  2012-01-09 11:31:55,225 DEBUG parse.SemanticAnalyzer (SemanticAnalyzer.java:genSelectPlan(2222)) - genSelectPlan: input = src&lt;/p&gt;
{(key,key: string)(value,value: string)(block__offset__inside__file,BLOCK__OFFSET__INSIDE__FILE: bigint)(input__file__name,INPUT__FILE__NAME: string)}
&lt;p&gt;  2012-01-09 11:31:55,234 ERROR ql.Driver (SessionState.java:printError(380)) - FAILED: Error in semantic analysis: Line 5:7 Arguments length mismatch &apos;sort&apos;: The function SORT(array(obj1, obj2,...)) needs one argument.&lt;br/&gt;
  org.apache.hadoop.hive.ql.parse.SemanticException: Line 5:7 Arguments length mismatch &apos;sort&apos;: The function SORT(array(obj1, obj2,...)) needs one argument.&lt;br/&gt;
      at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$DefaultExprProcessor.process(TypeCheckProcFactory.java:810)&lt;br/&gt;
      at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:89)&lt;br/&gt;
      at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:88)&lt;br/&gt;
      at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.walk(DefaultGraphWalker.java:125)&lt;br/&gt;
      at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:102)&lt;br/&gt;
      at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:161)&lt;br/&gt;
      at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:7708)&lt;br/&gt;
      at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2301&lt;/p&gt;

&lt;p&gt;  The same thing happens when I was doing format().&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1125&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1125&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13182858" author="phabricator@reviews.facebook.net" created="Mon, 9 Jan 2012 22:15:39 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt;: Implement sort(array) UDF&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1143&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1143&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_sort_array_wrong1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_sort_array_wrong2.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_sort_array_wrong3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sort_array.q&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_sort_array_wrong1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_sort_array_wrong2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_sort_array_wrong3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2415/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2415/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13184721" author="cwsteinbach" created="Thu, 12 Jan 2012 04:50:02 +0000"  >&lt;p&gt;@Zhenxiao: Can you please open a JIRA for the parser problem? Thanks!&lt;/p&gt;</comment>
                            <comment id="13184723" author="phabricator@reviews.facebook.net" created="Thu, 12 Jan 2012 04:53:39 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;/p&gt;

&lt;p&gt;  +1. Will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1143&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1143&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13186820" author="cwsteinbach" created="Mon, 16 Jan 2012 09:49:12 +0000"  >&lt;p&gt;@Zhenxiao: Please attach a copy of your patch (D1143) and click the box that gives license rights to Apache. This is a prerequisite for getting any patch committed. Thanks.&lt;/p&gt;</comment>
                            <comment id="13190122" author="cwsteinbach" created="Fri, 20 Jan 2012 21:19:43 +0000"  >&lt;p&gt;Committed to trunk. Thanks Zhenxiao!&lt;/p&gt;</comment>
                            <comment id="13190322" author="hudson" created="Sat, 21 Jan 2012 06:03:31 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1211 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1211/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1211/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt;. Implement sort(array) UDF (Zhenxiao Luo via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234146&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234146&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_sort_array_wrong1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_sort_array_wrong2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_sort_array_wrong3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_sort_array.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_sort_array_wrong1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_sort_array_wrong2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_sort_array_wrong3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/show_functions.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265274" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:28 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13528500" author="phabricator@reviews.facebook.net" created="Tue, 11 Dec 2012 00:27:20 +0000"  >&lt;p&gt;zhenxiao has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1101&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1101&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, zhenxiao&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13528530" author="phabricator@reviews.facebook.net" created="Tue, 11 Dec 2012 00:53:20 +0000"  >&lt;p&gt;zhenxiao has closed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Implement sort(array) UDF&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1143&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1143&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, zhenxiao&lt;br/&gt;
Cc: cwsteinbach&lt;/p&gt;</comment>
                            <comment id="13547836" author="hudson" created="Wed, 9 Jan 2013 10:23:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2279&quot; title=&quot;Implement sort_array UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2279&quot;&gt;&lt;del&gt;HIVE-2279&lt;/del&gt;&lt;/a&gt;. Implement sort(array) UDF (Zhenxiao Luo via cws) (Revision 1234146)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234146&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234146&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_sort_array_wrong1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_sort_array_wrong2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_sort_array_wrong3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_sort_array.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_sort_array_wrong1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_sort_array_wrong2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_sort_array_wrong3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/show_functions.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12986714">HIVE-14159</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12508917" name="ASF.LICENSE.NOT.GRANTED--HIVE-2279.D1059.1.patch" size="9464" author="phabricator@reviews.facebook.net" created="Fri, 30 Dec 2011 06:13:30 +0000"/>
                            <attachment id="12509369" name="ASF.LICENSE.NOT.GRANTED--HIVE-2279.D1101.1.patch" size="1404" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 01:54:39 +0000"/>
                            <attachment id="12509371" name="ASF.LICENSE.NOT.GRANTED--HIVE-2279.D1107.1.patch" size="9462" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 02:01:02 +0000"/>
                            <attachment id="12509475" name="ASF.LICENSE.NOT.GRANTED--HIVE-2279.D1125.1.patch" size="14172" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 23:44:40 +0000"/>
                            <attachment id="12509966" name="ASF.LICENSE.NOT.GRANTED--HIVE-2279.D1143.1.patch" size="14147" author="phabricator@reviews.facebook.net" created="Mon, 9 Jan 2012 22:15:39 +0000"/>
                            <attachment id="12510728" name="HIVE-2279.D1143.1.patch" size="14147" author="zhenxiao" created="Mon, 16 Jan 2012 18:39:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Dec 2011 06:13:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42191</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lja7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2280] Publish daily hive snapshot builds to maven repo </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2280</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Publish daily hive snapshot builds to maven repo.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513802">HIVE-2280</key>
            <summary>Publish daily hive snapshot builds to maven repo </summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amareshwari">Amareshwari Sriramadasu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jul 2011 15:19:35 +0000</created>
                <updated>Thu, 28 Jul 2011 05:24:07 +0000</updated>
                            <resolved>Thu, 28 Jul 2011 05:24:07 +0000</resolved>
                                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13064269" author="gkesavan" created="Wed, 13 Jul 2011 01:05:22 +0000"  >&lt;p&gt;It looks like the hive build jobs are already setup to publish artifact to the repo, in the order of &quot;ant clean checkstyle tar binary test maven-build maven-publish&quot; &lt;br/&gt;
But the builds are not publishing the artifacts due to test failures. &lt;/p&gt;</comment>
                            <comment id="13072181" author="gkesavan" created="Thu, 28 Jul 2011 05:02:42 +0000"  >&lt;p&gt;With the latest builds the hive artifacts are getting published to the apache snapshot repository.&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/view/G-L/view/Hive/job/Hive-trunk-h0.21/855/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/G-L/view/Hive/job/Hive-trunk-h0.21/855/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;this jira can be closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Jul 2011 01:05:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ljaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123775</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2281] Regression introduced from HIVE-2155</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2281</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;EXPLAIN SELECT key, count(1) FROM src; throws a null pointer exception due to the operator stack not being checked prior to use for constructing the error message, due to the change introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2155&quot; title=&quot;Improve error messages emitted during semantic analysis&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2155&quot;&gt;&lt;del&gt;HIVE-2155&lt;/del&gt;&lt;/a&gt; to improve error message context tokens.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513840">HIVE-2281</key>
            <summary>Regression introduced from HIVE-2155</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="salbiz">Syed S. Albiz</assignee>
                                    <reporter username="salbiz">Syed S. Albiz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jul 2011 19:35:46 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:57 +0000</updated>
                            <resolved>Wed, 13 Jul 2011 15:31:02 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13064092" author="salbiz" created="Tue, 12 Jul 2011 19:37:26 +0000"  >&lt;p&gt;Add defensive checks before using the operator stack and make sure to restore it to expected state after proceeding&lt;/p&gt;</comment>
                            <comment id="13064093" author="jiraposter@reviews.apache.org" created="Tue, 12 Jul 2011 19:40:00 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1094/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1094/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Ning Zhang.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Add defensive checks on operator stack when constructing the error&lt;br/&gt;
  message for invalid aggregate expressions (Expression not in GROUP&lt;br/&gt;
  BY...)&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2281&quot; title=&quot;Regression introduced from HIVE-2155&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2281&quot;&gt;&lt;del&gt;HIVE-2281&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2281&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2281&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java dfadb9f &lt;br/&gt;
  ql/src/test/queries/clientnegative/nonkey_groupby.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientnegative/nonkey_groupby.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1094/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1094/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added new unit test (nonkey_groupby.q) to NegativeCliDriver suite,&lt;br/&gt;
  made sure no breakage to existing tests covering this message:&lt;br/&gt;
  groupby_key.q,notable_alias3.q (TestNegativeCliDriver)&lt;br/&gt;
  nonkey_groupby.q,unknown_column6.q (TestNegativeParseDriver)&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Syed&lt;/p&gt;
</comment>
                            <comment id="13064094" author="nzhang" created="Tue, 12 Jul 2011 19:40:38 +0000"  >&lt;p&gt;+1. Will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="13064636" author="nzhang" created="Wed, 13 Jul 2011 15:31:02 +0000"  >&lt;p&gt;Committed. Thanks Syed!&lt;/p&gt;</comment>
                            <comment id="13064795" author="hudson" created="Wed, 13 Jul 2011 19:34:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #824 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/824/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/824/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2281&quot; title=&quot;Regression introduced from HIVE-2155&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2281&quot;&gt;&lt;del&gt;HIVE-2281&lt;/del&gt;&lt;/a&gt;. Regression introduced from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2155&quot; title=&quot;Improve error messages emitted during semantic analysis&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2155&quot;&gt;&lt;del&gt;HIVE-2155&lt;/del&gt;&lt;/a&gt; (Syed S. Albiz via Ning Zhang)&lt;/p&gt;

&lt;p&gt;nzhang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1146100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1146100&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/nonkey_groupby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/nonkey_groupby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12486215" name="HIVE-2281.1.patch" size="1941" author="salbiz" created="Tue, 12 Jul 2011 19:37:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Jul 2011 19:40:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>68136</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ljan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123776</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
